var Exo=function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={i:d,l:!1,exports:{}};return a[d].call(e.exports,e,e.exports,b),e.l=!0,e.exports}var c={};return b.m=a,b.c=c,b.d=function(a,c,d){b.o(a,c)||Object.defineProperty(a,c,{configurable:!1,enumerable:!0,get:d})},b.n=function(a){var c=a&&a.__esModule?function(){return a.default}:function(){return a};return b.d(c,"a",c),c},b.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},b.p="",b(b.s=202)}([function(a,b,c){var d=c(2),e=c(26),f=c(15),g=c(16),h=c(22),i="prototype",j=function(a,b,c){var k,l,m,n,o=a&j.F,p=a&j.G,q=a&j.S,r=a&j.P,s=a&j.B,t=p?d:q?d[b]||(d[b]={}):(d[b]||{})[i],u=p?e:e[b]||(e[b]={}),v=u[i]||(u[i]={});p&&(c=b);for(k in c)l=!o&&t&&void 0!==t[k],m=(l?t:c)[k],n=s&&l?h(m,d):r&&"function"==typeof m?h(Function.call,m):m,t&&g(t,k,m,a&j.U),u[k]!=m&&f(u,k,n),r&&v[k]!=m&&(v[k]=m)};d.core=e,j.F=1,j.G=2,j.S=4,j.P=8,j.B=16,j.W=32,j.U=64,j.R=128,a.exports=j},function(a,b,c){var d=c(4);a.exports=function(a){if(!d(a))throw TypeError(a+" is not an object!");return a}},function(a,b){var c=a.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=c)},function(a,b){a.exports=function(a){try{return!!a()}catch(a){return!0}}},function(a,b){a.exports=function(a){return"object"==typeof a?null!==a:"function"==typeof a}},function(a,b,c){var d=c(68)("wks"),e=c(42),f=c(2).Symbol,g="function"==typeof f;(a.exports=function(a){return d[a]||(d[a]=g&&f[a]||(g?f:e)("Symbol."+a))}).store=d},function(a,b,c){a.exports=!c(3)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(a,b,c){var d=c(1),e=c(132),f=c(27),g=Object.defineProperty;b.f=c(6)?Object.defineProperty:function(a,b,c){if(d(a),b=f(b,!0),d(c),e)try{return g(a,b,c)}catch(a){}if("get"in c||"set"in c)throw TypeError("Accessors not supported!");return"value"in c&&(a[b]=c.value),a}},function(a,b,c){var d=c(29),e=Math.min;a.exports=function(a){return a>0?e(d(a),9007199254740991):0}},function(a,b,c){var d=c(28);a.exports=function(a){return Object(d(a))}},function(a,b){a.exports=function(a){if("function"!=typeof a)throw TypeError(a+" is not a function!");return a}},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,"__esModule",{value:!0});var e=c(35),f=c(40),g=d(f),h=c(170),i=d(h);b.default={APP_OPTIONS:{resourcePath:"",width:800,height:600,canvas:null,canvasParent:null,clearColor:g.default.Black,database:null},CONTEXT_OPTIONS:{alpha:!1,antialias:!1,premultipliedAlpha:!1,preserveDrawingBuffer:!1,stencil:!1,depth:!1},REQUEST_METHOD:"GET",REQUEST_MODE:"cors",REQUEST_CACHE:"default",SCALE_MODE:e.SCALE_MODES.LINEAR,WRAP_MODE:e.WRAP_MODES.CLAMP_TO_EDGE,PREMULTIPLY_ALPHA:!0,GENERATE_MIPMAP:!0,MEDIA_SPEED:1,MEDIA_LOOP:!1,MEDIA_TIME:0,MEDIA_MUTED:!1,VOLUME_MUSIC:1,VOLUME_SOUND:1,VOLUME_VIDEO:1,QUAD_TREE_MAX_LEVEL:5,QUAD_TREE_MAX_OBJECTS:20,BATCH_SIZE_SPRITES:2500,BATCH_SIZE_PARTICLES:5e3,INPUT_THRESHOLD:300,GAMEPAD_MAPPING:new i.default}},function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0});var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=function(){function a(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;d(this,a),this._x=b,this._y=c}return e(a,[{key:"set",value:function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a;return this._x=a,this._y=b,this}},{key:"copy",value:function(a){return this._x=a.x,this._y=a.y,this}},{key:"clone",value:function(){return new a(this._x,this._y)}},{key:"equals",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},b=a.x,c=a.y;return!(void 0!==b&&this.x!==b||void 0!==c&&this.y!==c)}},{key:"normalize",value:function(){var a=this.magnitude;return a>0&&(this._x/=a,this._y/=a),this}},{key:"reverse",value:function(){return this._x*=-1,this._y*=-1,this}},{key:"add",value:function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a;return this._x+=a,this._y+=b,this}},{key:"subtract",value:function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a;return this._x-=a,this._y-=b,this}},{key:"scale",value:function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a;return this._x*=a,this._y*=b,this}},{key:"divide",value:function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a;return this._x/=a,this._y/=b,this}},{key:"transform",value:function(a){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:this).set(this._x*a.a+this._y*a.b+a.x,this._x*a.c+this._y*a.d+a.y)}},{key:"transformInverse",value:function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this,c=1/(this.a*this.d+this.c*-this.b);return b.set(this._x*a.d*c+this._y*-a.c*c+(a.y*a.c-a.x*a.d)*c,this._y*a.a*c+this._x*-a.b*c+(-a.y*a.a+a.x*a.b)*c)}},{key:"perp",value:function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this).set(this._y,-1*this._x)}},{key:"distanceTo",value:function(a,b){var c=this._x-a,d=this._y-b;return Math.sqrt(c*c+d*d)}},{key:"cross",value:function(a){return this._x*a.y-this._y*a.x}},{key:"dot",value:function(a,b){return this._x*a+this._y*b}},{key:"project",value:function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this,c=this.dot(a.x,a.y)/a.len2;return b.set(c*a.x,c*a.y)}},{key:"reflect",value:function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this,c=this._x,d=this._y;return this.project(a,b).scale(2).subtract(c,d)}},{key:"destroy",value:function(){this._x=null,this._y=null}},{key:"x",get:function(){return this._x},set:function(a){this._x=a}},{key:"y",get:function(){return this._y},set:function(a){this._y=a}},{key:"angle",get:function(){return Math.atan2(this._x,this._y)}},{key:"magnitude",get:function(){return this.len}},{key:"len",get:function(){return Math.sqrt(this.len2)}},{key:"len2",get:function(){return this._x*this._x+this._y*this._y}}]),a}();b.default=f,f.Empty=new f(0,0),f.Temp=new f},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,"__esModule",{value:!0}),b.getVoronoiRegion=b.bezierCurveTo=b.random=b.inRange=b.isPowerOfTwo=b.lerp=b.sign=b.clamp=b.radiansToDegrees=b.degreesToRadians=void 0;var e=c(114),f=c(167),g=d(f),h=new g.default,i=function(a){return a*e.RAD_PER_DEG},j=function(a){return a*e.DEG_PER_RAD},k=function(a,b,c){return Math.min(c,Math.max(b,a))},l=function(a){return a&&(a<0?-1:1)},m=function(a){return 0!==a&&0==(a&a-1)},n=function(a,b,c){return a>=Math.min(b,c)&&a<=Math.max(b,c)},o=function(a,b){return h.next(a,b)},p=function(a,b,c,d,e,f,g,h){var i=arguments.length>8&&void 0!==arguments[8]?arguments[8]:[];i.push(a,b);for(var j=1,k=0,l=0,m=0,n=0,o=0,p=0;j<=20;j++)k=j/20,l=1-k,m=l*l,n=m*l,o=k*k,p=o*k,i.push(n*a+3*m*k*c+3*l*o*e+p*g,n*b+3*m*k*d+3*l*o*f+p*h);return i},q=function(a,b){var c=b.dot(a.x,a.y);return c<0?e.VORONOI_REGION.LEFT:c>a.len2?e.VORONOI_REGION.RIGHT:e.VORONOI_REGION.MIDDLE},r=function(a,b,c){return(1-c)*a+c*b};b.degreesToRadians=i,b.radiansToDegrees=j,b.clamp=k,b.sign=l,b.lerp=r,b.isPowerOfTwo=m,b.inRange=n,b.random=o,b.bezierCurveTo=p,b.getVoronoiRegion=q},function(a,b){var c={}.hasOwnProperty;a.exports=function(a,b){return c.call(a,b)}},function(a,b,c){var d=c(7),e=c(41);a.exports=c(6)?function(a,b,c){return d.f(a,b,e(1,c))}:function(a,b,c){return a[b]=c,a}},function(a,b,c){var d=c(2),e=c(15),f=c(14),g=c(42)("src"),h="toString",i=Function[h],j=(""+i).split(h);c(26).inspectSource=function(a){return i.call(a)},(a.exports=function(a,b,c,h){var i="function"==typeof c;i&&(f(c,"name")||e(c,"name",b)),a[b]!==c&&(i&&(f(c,g)||e(c,g,a[b]?""+a[b]:j.join(String(b)))),a===d?a[b]=c:h?a[b]?a[b]=c:e(a,b,c):(delete a[b],e(a,b,c)))})(Function.prototype,h,function(){return"function"==typeof this&&this[g]||i.call(this)})},function(a,b,c){var d=c(0),e=c(3),f=c(28),g=/"/g,h=function(a,b,c,d){var e=String(f(a)),h="<"+b;return""!==c&&(h+=" "+c+'="'+String(d).replace(g,"&quot;")+'"'),h+">"+e+"</"+b+">"};a.exports=function(a,b){var c={};c[a]=b(h),d(d.P+d.F*e(function(){var b=""[a]('"');return b!==b.toLowerCase()||b.split('"').length>3}),"String",c)}},function(a,b,c){var d=c(59),e=c(28);a.exports=function(a){return d(e(a))}},function(a,b,c){var d=c(60),e=c(41),f=c(18),g=c(27),h=c(14),i=c(132),j=Object.getOwnPropertyDescriptor;b.f=c(6)?j:function(a,b){if(a=f(a),b=g(b,!0),i)try{return j(a,b)}catch(a){}if(h(a,b))return e(!d.f.call(a,b),a[b])}},function(a,b,c){var d=c(14),e=c(9),f=c(89)("IE_PROTO"),g=Object.prototype;a.exports=Object.getPrototypeOf||function(a){return a=e(a),d(a,f)?a[f]:"function"==typeof a.constructor&&a instanceof a.constructor?a.constructor.prototype:a instanceof Object?g:null}},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0});var f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=c(13),h=c(12),i=d(h),j=c(57),k=d(j),l=c(121),m=d(l),n=c(83),o=d(n),p=c(62),q=d(p),r=c(52),s=d(r),t=function(){function a(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:b,d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,f=arguments.length>3&&void 0!==arguments[3]?arguments[3]:d;e(this,a),this._position=new i.default(b,c),this._size=new k.default(d,f)}return f(a,[{key:"setPosition",value:function(a,b){return this.position.set(a,b),this}},{key:"setSize",value:function(a,b){return this._size.set(a,b),this}},{key:"set",value:function(a,b,c,d){return this._position.set(a,b),this._size.set(c,d),this}},{key:"copy",value:function(a){return this._position.copy(a.position),this._size.copy(a.size),this}},{key:"clone",value:function(){return new a(this.x,this.y,this.width,this.height)}},{key:"equals",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},b=a.x,c=a.y,d=a.width,e=a.height;return!(void 0!==b&&this.x!==b||void 0!==c&&this.y!==c||void 0!==d&&this.width!==d||void 0!==e&&this.height!==e)}},{key:"getBounds",value:function(){return this.clone()}},{key:"getNormals",value:function(){for(var a=i.default.Temp,b=[],c=0;c<4;c++)a.set((c+1)%3==0?this.left:this.right,0==((c+1)/2|0)?this.top:this.bottom),b.push(a.clone().subtract(c%3==0?this.left:this.right,0==(c/2|0)?this.top:this.bottom).perp().normalize());return b}},{key:"project",value:function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new s.default,c=a.dot(this.left,this.top),d=c,e=void 0;return e=a.dot(this.right,this.top),c=Math.min(c,e),d=Math.max(d,e),e=a.dot(this.right,this.bottom),c=Math.min(c,e),d=Math.max(d,e),e=a.dot(this.left,this.bottom),c=Math.min(c,e),d=Math.max(d,e),b.set(c,d)}},{key:"transform",value:function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this,c=i.default.Temp,d=void 0,e=void 0,f=void 0,g=void 0;return c.set(this.left,this.top).transform(a),d=f=c.x,e=g=c.y,c.set(this.left,this.bottom).transform(a),d=Math.min(d,c.x),e=Math.min(e,c.y),f=Math.max(f,c.x),g=Math.max(g,c.y),c.set(this.right,this.top).transform(a),d=Math.min(d,c.x),e=Math.min(e,c.y),f=Math.max(f,c.x),g=Math.max(g,c.y),c.set(this.right,this.bottom).transform(a),d=Math.min(d,c.x),e=Math.min(e,c.y),f=Math.max(f,c.x),g=Math.max(g,c.y),b.set(d,e,f-d,g-e)}},{key:"contains",value:function(a,b,c){var d=new i.default(this.left,this.top),e=new i.default(this.right,this.bottom);return c&&(d.transform(c),e.transform(c)),(0,g.inRange)(a,d.x,e.x)&&(0,g.inRange)(b,d.y,e.y)}},{key:"containsRect",value:function(a){return(0,g.inRange)(a.left,this.left,this.right)&&(0,g.inRange)(a.right,this.left,this.right)&&(0,g.inRange)(a.top,this.top,this.bottom)&&(0,g.inRange)(a.bottom,this.top,this.bottom)}},{key:"intersets",value:function(b){return b instanceof a?q.default.intersectionRectRect(this,b):b instanceof o.default?q.default.intersectionSAT(this,b):b instanceof m.default&&q.default.intersectionCircleRect(b,this)}},{key:"getCollision",value:function(b){return b instanceof a?q.default.collisionRectRect(this,b):b instanceof o.default?q.default.collisionSAT(this,b):b instanceof m.default?q.default.collisionCircleRect(b,this,!0):null}},{key:"destroy",value:function(){this._position.destroy(),this._position=null,this._size.destroy(),this._size=null}},{key:"position",get:function(){return this._position},set:function(a){this._position.copy(a)}},{key:"x",get:function(){return this._position.x},set:function(a){this._position.x=a}},{key:"y",get:function(){return this._position.y},set:function(a){this._position.y=a}},{key:"size",get:function(){return this._size},set:function(a){this._size.copy(a)}},{key:"width",get:function(){return this._size.width},set:function(a){this._size.width=a}},{key:"height",get:function(){return this._size.height},set:function(a){this._size.height=a}},{key:"left",get:function(){return this.x}},{key:"top",get:function(){return this.y}},{key:"right",get:function(){return this.x+this.width}},{key:"bottom",get:function(){return this.y+this.height}}]),a}();b.default=t,t.Empty=new t(0,0,0,0),t.Temp=new t},function(a,b,c){var d=c(10);a.exports=function(a,b,c){if(d(a),void 0===b)return a;switch(c){case 1:return function(c){return a.call(b,c)};case 2:return function(c,d){return a.call(b,c,d)};case 3:return function(c,d,e){return a.call(b,c,d,e)}}return function(){return a.apply(b,arguments)}}},function(a,b){var c={}.toString;a.exports=function(a){return c.call(a).slice(8,-1)}},function(a,b,c){"use strict";var d=c(3);a.exports=function(a,b){return!!a&&d(function(){b?a.call(null,function(){},1):a.call(null)})}},function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0});var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=c(117),g=function(){function a(){d(this,a),this._events={}}return e(a,[{key:"on",value:function(a,b){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this;if(this._events){var d=this._events[a];d?d.push({callback:b,context:c}):this._events[a]=[{callback:b,context:c}]}return this}},{key:"once",value:function(a,b){var c=this,d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this;if(this._events){var e=function e(){for(var f=arguments.length,g=Array(f),h=0;h<f;h++)g[h]=arguments[h];c.off(a,e,d),b.call.apply(b,[d].concat(g))};return this.on(a,e,d)}return this}},{key:"off",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"*",b=arguments[1],c=arguments[2];if(!this._events)return this;var d="*"===a?Object.keys(this._events):[a],e=!0,g=!1,h=void 0;try{for(var i,j=d[Symbol.iterator]();!(e=(i=j.next()).done);e=!0){var k=i.value,l=this._events[k];if(!l)break;if(l.length)if(b||c){for(var m=l.length-1;m>=0;m--)b&&b!==l[m].callback||c&&c!==l[m].context||(l[m].callback=null,l[m].context=null,(0,f.removeArrayItems)(l,m,1));l.length||delete this._events[k]}else{var n=!0,o=!1,p=void 0;try{for(var q,r=l[Symbol.iterator]();!(n=(q=r.next()).done);n=!0){var s=q.value;s.callback=null,s.context=null}}catch(a){o=!0,p=a}finally{try{!n&&r.return&&r.return()}finally{if(o)throw p}}l.length=0,delete this._events[k]}else delete this._events[k]}}catch(a){g=!0,h=a}finally{try{!e&&j.return&&j.return()}finally{if(g)throw h}}return this}},{key:"trigger",value:function(a){if(this._events&&this._events[a]){for(var b=arguments.length,c=Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];var e=!0,f=!1,g=void 0;try{for(var h,i=this._events[a][Symbol.iterator]();!(e=(h=i.next()).done);e=!0){var j,k=h.value;(j=k.callback).call.apply(j,[k.context].concat(c))}}catch(a){f=!0,g=a}finally{try{!e&&i.return&&i.return()}finally{if(f)throw g}}}return this}},{key:"destroy",value:function(){this.off(),this._events=null}},{key:"events",get:function(){return this._events}}]),a}();b.default=g},function(a,b){var c=a.exports={version:"2.5.3"};"number"==typeof __e&&(__e=c)},function(a,b,c){var d=c(4);a.exports=function(a,b){if(!d(a))return a;var c,e;if(b&&"function"==typeof(c=a.toString)&&!d(e=c.call(a)))return e;if("function"==typeof(c=a.valueOf)&&!d(e=c.call(a)))return e;if(!b&&"function"==typeof(c=a.toString)&&!d(e=c.call(a)))return e;throw TypeError("Can't convert object to primitive value")}},function(a,b){a.exports=function(a){if(void 0==a)throw TypeError("Can't call method on  "+a);return a}},function(a,b){var c=Math.ceil,d=Math.floor;a.exports=function(a){return isNaN(a=+a)?0:(a>0?d:c)(a)}},function(a,b,c){var d=c(0),e=c(26),f=c(3);a.exports=function(a,b){var c=(e.Object||{})[a]||Object[a],g={};g[a]=b(c),d(d.S+d.F*f(function(){c(1)}),"Object",g)}},function(a,b,c){var d=c(22),e=c(59),f=c(9),g=c(8),h=c(106);a.exports=function(a,b){var c=1==a,i=2==a,j=3==a,k=4==a,l=6==a,m=5==a||l,n=b||h;return function(b,h,o){for(var p,q,r=f(b),s=e(r),t=d(h,o,3),u=g(s.length),v=0,w=c?n(b,u):i?n(b,0):void 0;u>v;v++)if((m||v in s)&&(p=s[v],q=t(p,v,r),a))if(c)w[v]=q;else if(q)switch(a){case 3:return!0;case 5:return p;case 6:return v;case 2:w.push(p)}else if(k)return!1;return l?-1:j||k?k:w}}},function(a,b,c){"use strict";if(c(6)){var d=c(43),e=c(2),f=c(3),g=c(0),h=c(78),i=c(112),j=c(22),k=c(49),l=c(41),m=c(15),n=c(51),o=c(29),p=c(8),q=c(158),r=c(45),s=c(27),t=c(14),u=c(61),v=c(4),w=c(9),x=c(103),y=c(46),z=c(20),A=c(47).f,B=c(105),C=c(42),D=c(5),E=c(31),F=c(69),G=c(76),H=c(108),I=c(55),J=c(73),K=c(48),L=c(107),M=c(148),N=c(7),O=c(19),P=N.f,Q=O.f,R=e.RangeError,S=e.TypeError,T=e.Uint8Array,U="ArrayBuffer",V="Shared"+U,W="BYTES_PER_ELEMENT",X="prototype",Y=Array[X],Z=i.ArrayBuffer,$=i.DataView,_=E(0),aa=E(2),ba=E(3),ca=E(4),da=E(5),ea=E(6),fa=F(!0),ga=F(!1),ha=H.values,ia=H.keys,ja=H.entries,ka=Y.lastIndexOf,la=Y.reduce,ma=Y.reduceRight,na=Y.join,oa=Y.sort,pa=Y.slice,qa=Y.toString,ra=Y.toLocaleString,sa=D("iterator"),ta=D("toStringTag"),ua=C("typed_constructor"),va=C("def_constructor"),wa=h.CONSTR,xa=h.TYPED,ya=h.VIEW,za="Wrong length!",Aa=E(1,function(a,b){return Fa(G(a,a[va]),b)}),Ba=f(function(){return 1===new T(new Uint16Array([1]).buffer)[0]}),Ca=!!T&&!!T[X].set&&f(function(){new T(1).set({})}),Da=function(a,b){var c=o(a);if(c<0||c%b)throw R("Wrong offset!");return c},Ea=function(a){if(v(a)&&xa in a)return a;throw S(a+" is not a typed array!")},Fa=function(a,b){if(!(v(a)&&ua in a))throw S("It is not a typed array constructor!");return new a(b)},Ga=function(a,b){return Ha(G(a,a[va]),b)},Ha=function(a,b){for(var c=0,d=b.length,e=Fa(a,d);d>c;)e[c]=b[c++];return e},Ia=function(a,b,c){P(a,b,{get:function(){return this._d[c]}})},Ja=function(a){var b,c,d,e,f,g,h=w(a),i=arguments.length,k=i>1?arguments[1]:void 0,l=void 0!==k,m=B(h);if(void 0!=m&&!x(m)){for(g=m.call(h),d=[],b=0;!(f=g.next()).done;b++)d.push(f.value);h=d}for(l&&i>2&&(k=j(k,arguments[2],2)),b=0,c=p(h.length),e=Fa(this,c);c>b;b++)e[b]=l?k(h[b],b):h[b];return e},Ka=function(){for(var a=0,b=arguments.length,c=Fa(this,b);b>a;)c[a]=arguments[a++];return c},La=!!T&&f(function(){ra.call(new T(1))}),Ma=function(){return ra.apply(La?pa.call(Ea(this)):Ea(this),arguments)},Na={copyWithin:function(a,b){return M.call(Ea(this),a,b,arguments.length>2?arguments[2]:void 0)},every:function(a){return ca(Ea(this),a,arguments.length>1?arguments[1]:void 0)},fill:function(a){return L.apply(Ea(this),arguments)},filter:function(a){return Ga(this,aa(Ea(this),a,arguments.length>1?arguments[1]:void 0))},find:function(a){return da(Ea(this),a,arguments.length>1?arguments[1]:void 0)},findIndex:function(a){return ea(Ea(this),a,arguments.length>1?arguments[1]:void 0)},forEach:function(a){_(Ea(this),a,arguments.length>1?arguments[1]:void 0)},indexOf:function(a){return ga(Ea(this),a,arguments.length>1?arguments[1]:void 0)},includes:function(a){return fa(Ea(this),a,arguments.length>1?arguments[1]:void 0)},join:function(a){return na.apply(Ea(this),arguments)},lastIndexOf:function(a){return ka.apply(Ea(this),arguments)},map:function(a){return Aa(Ea(this),a,arguments.length>1?arguments[1]:void 0)},reduce:function(a){return la.apply(Ea(this),arguments)},reduceRight:function(a){return ma.apply(Ea(this),arguments)},reverse:function(){for(var a,b=this,c=Ea(b).length,d=Math.floor(c/2),e=0;e<d;)a=b[e],b[e++]=b[--c],b[c]=a;return b},some:function(a){return ba(Ea(this),a,arguments.length>1?arguments[1]:void 0)},sort:function(a){return oa.call(Ea(this),a)},subarray:function(a,b){var c=Ea(this),d=c.length,e=r(a,d);return new(G(c,c[va]))(c.buffer,c.byteOffset+e*c.BYTES_PER_ELEMENT,p((void 0===b?d:r(b,d))-e))}},Oa=function(a,b){return Ga(this,pa.call(Ea(this),a,b))},Pa=function(a){Ea(this);var b=Da(arguments[1],1),c=this.length,d=w(a),e=p(d.length),f=0;if(e+b>c)throw R(za);for(;f<e;)this[b+f]=d[f++]},Qa={entries:function(){return ja.call(Ea(this))},keys:function(){return ia.call(Ea(this))},values:function(){return ha.call(Ea(this))}},Ra=function(a,b){return v(a)&&a[xa]&&"symbol"!=typeof b&&b in a&&String(+b)==String(b)},Sa=function(a,b){return Ra(a,b=s(b,!0))?l(2,a[b]):Q(a,b)},Ta=function(a,b,c){return!(Ra(a,b=s(b,!0))&&v(c)&&t(c,"value"))||t(c,"get")||t(c,"set")||c.configurable||t(c,"writable")&&!c.writable||t(c,"enumerable")&&!c.enumerable?P(a,b,c):(a[b]=c.value,a)};wa||(O.f=Sa,N.f=Ta),g(g.S+g.F*!wa,"Object",{getOwnPropertyDescriptor:Sa,defineProperty:Ta}),f(function(){qa.call({})})&&(qa=ra=function(){return na.call(this)});var Ua=n({},Na);n(Ua,Qa),m(Ua,sa,Qa.values),n(Ua,{slice:Oa,set:Pa,constructor:function(){},toString:qa,toLocaleString:Ma}),Ia(Ua,"buffer","b"),Ia(Ua,"byteOffset","o"),Ia(Ua,"byteLength","l"),Ia(Ua,"length","e"),P(Ua,ta,{get:function(){return this[xa]}}),a.exports=function(a,b,c,i){i=!!i;var j=a+(i?"Clamped":"")+"Array",l="get"+a,n="set"+a,o=e[j],r=o||{},s=o&&z(o),t=!o||!h.ABV,w={},x=o&&o[X],B=function(a,c){var d=a._d;return d.v[l](c*b+d.o,Ba)},C=function(a,c,d){var e=a._d;i&&(d=(d=Math.round(d))<0?0:d>255?255:255&d),e.v[n](c*b+e.o,d,Ba)},D=function(a,b){P(a,b,{get:function(){return B(this,b)},set:function(a){return C(this,b,a)},enumerable:!0})};t?(o=c(function(a,c,d,e){k(a,o,j,"_d");var f,g,h,i,l=0,n=0;if(v(c)){if(!(c instanceof Z||(i=u(c))==U||i==V))return xa in c?Ha(o,c):Ja.call(o,c);f=c,n=Da(d,b);var r=c.byteLength;if(void 0===e){if(r%b)throw R(za);if((g=r-n)<0)throw R(za)}else if((g=p(e)*b)+n>r)throw R(za);h=g/b}else h=q(c),g=h*b,f=new Z(g);for(m(a,"_d",{b:f,o:n,l:g,e:h,v:new $(f)});l<h;)D(a,l++)}),x=o[X]=y(Ua),m(x,"constructor",o)):f(function(){o(1)})&&f(function(){new o(-1)})&&J(function(a){new o,new o(null),new o(1.5),new o(a)},!0)||(o=c(function(a,c,d,e){k(a,o,j);var f;return v(c)?c instanceof Z||(f=u(c))==U||f==V?void 0!==e?new r(c,Da(d,b),e):void 0!==d?new r(c,Da(d,b)):new r(c):xa in c?Ha(o,c):Ja.call(o,c):new r(q(c))}),_(s!==Function.prototype?A(r).concat(A(s)):A(r),function(a){a in o||m(o,a,r[a])}),o[X]=x,d||(x.constructor=o));var E=x[sa],F=!!E&&("values"==E.name||void 0==E.name),G=Qa.values;m(o,ua,!0),m(x,xa,j),m(x,ya,!0),m(x,va,o),(i?new o(1)[ta]==j:ta in x)||P(x,ta,{get:function(){return j}}),w[j]=o,g(g.G+g.W+g.F*(o!=r),w),g(g.S,j,{BYTES_PER_ELEMENT:b}),g(g.S+g.F*f(function(){r.of.call(o,1)}),j,{from:Ja,of:Ka}),W in x||m(x,W,b),g(g.P,j,Na),K(j),g(g.P+g.F*Ca,j,{set:Pa}),g(g.P+g.F*!F,j,Qa),d||x.toString==qa||(x.toString=qa),g(g.P+g.F*f(function(){new o(1).slice()}),j,{slice:Oa}),g(g.P+g.F*(f(function(){return[1,2].toLocaleString()!=new o([1,2]).toLocaleString()})||!f(function(){x.toLocaleString.call([1,2])})),j,{toLocaleString:Ma}),I[j]=F?E:G,d||F||m(x,sa,G)}}else a.exports=function(){}},function(a,b,c){var d=c(153),e=c(0),f=c(68)("metadata"),g=f.store||(f.store=new(c(156))),h=function(a,b,c){var e=g.get(a);if(!e){if(!c)return;g.set(a,e=new d)}var f=e.get(b);if(!f){if(!c)return;e.set(b,f=new d)}return f},i=function(a,b,c){var d=h(b,c,!1);return void 0!==d&&d.has(a)},j=function(a,b,c){var d=h(b,c,!1);return void 0===d?void 0:d.get(a)},k=function(a,b,c,d){h(c,d,!0).set(a,b)},l=function(a,b){var c=h(a,b,!1),d=[];return c&&c.forEach(function(a,b){d.push(b)}),d},m=function(a){return void 0===a||"symbol"==typeof a?a:String(a)},n=function(a){e(e.S,"Reflect",a)};a.exports={store:g,map:h,has:i,get:j,set:k,keys:l,key:m,exp:n}},function(a,b,c){"use strict";(function(a){Object.defineProperty(b,"__esModule",{value:!0});b.VERSION="1.0.0",b.GLOBAL=a.parent||a,b.TIME={MILLISECONDS:1,SECONDS:1e3,MINUTES:6e4,HOURS:36e5},b.DATABASE_TYPES=["arrayBuffer","blob","font","media","audio","video","music","sound","image","texture","text","json","svg"],b.EMPTY_ARRAY_BUFFER=new ArrayBuffer(0)}).call(b,c(86))},function(a,b,c){"use strict";function d(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}Object.defineProperty(b,"__esModule",{value:!0});var e,f=(b.BLEND_MODES={NORMAL:0,ADDITIVE:1,SUBTRACT:2,MULTIPLY:3,SCREEN:4},b.SCALE_MODES={NEAREST:9728,LINEAR:9729,NEAREST_MIPMAP_NEAREST:9984,LINEAR_MIPMAP_NEAREST:9985,NEAREST_MIPMAP_LINEAR:9986,LINEAR_MIPMAP_LINEAR:9987},b.WRAP_MODES={REPEAT:10497,CLAMP_TO_EDGE:33071,MIRRORED_REPEAT:33648},b.ATTRIBUTE_TYPE={BYTE:5120,SHORT:5122,INT:5124,FLOAT:5126,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123,UNSIGNED_INT:5125},b.UNIFORM_TYPE={INT:5124,INT_VEC2:35667,INT_VEC3:35668,INT_VEC4:35669,FLOAT:5126,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,BOOL:35670,BOOL_VEC2:35671,BOOL_VEC3:35672,BOOL_VEC4:35673,FLOAT_MAT2:35674,FLOAT_MAT3:35675,FLOAT_MAT4:35676,SAMPLER_2D:35678});b.TYPE_SIZES=(e={},d(e,f.FLOAT,1),d(e,f.FLOAT_VEC2,2),d(e,f.FLOAT_VEC3,3),d(e,f.FLOAT_VEC4,4),d(e,f.INT,1),d(e,f.INT_VEC2,2),d(e,f.INT_VEC3,3),d(e,f.INT_VEC4,4),d(e,f.BOOL,1),d(e,f.BOOL_VEC2,2),d(e,f.BOOL_VEC3,3),d(e,f.BOOL_VEC4,4),d(e,f.FLOAT_MAT2,4),d(e,f.FLOAT_MAT3,9),d(e,f.FLOAT_MAT4,16),d(e,f.SAMPLER_2D,1),e),b.TEXTURE_FLAGS={SCALE_MODE:1,WRAP_MODE:2,PREMULTIPLY_ALPHA:4,SOURCE:8,SIZE:16}},function(a,b,c){var d=c(42)("meta"),e=c(4),f=c(14),g=c(7).f,h=0,i=Object.isExtensible||function(){return!0},j=!c(3)(function(){return i(Object.preventExtensions({}))}),k=function(a){g(a,d,{value:{i:"O"+ ++h,w:{}}})},l=function(a,b){if(!e(a))return"symbol"==typeof a?a:("string"==typeof a?"S":"P")+a;if(!f(a,d)){if(!i(a))return"F";if(!b)return"E";k(a)}return a[d].i},m=function(a,b){if(!f(a,d)){if(!i(a))return!0;if(!b)return!1;k(a)}return a[d].w},n=function(a){return j&&o.NEED&&i(a)&&!f(a,d)&&k(a),a},o=a.exports={KEY:d,NEED:!1,fastKey:l,getWeak:m,onFreeze:n}},function(a,b,c){var d=c(5)("unscopables"),e=Array.prototype;void 0==e[d]&&c(15)(e,d,{}),a.exports=function(a){e[d][a]=!0}},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,"__esModule",{value:!0}),b.imageToBase64=b.getMediaHeight=b.getMediaWidth=b.decodeAudioBuffer=b.supportsCodec=b.audioContext=void 0;var e=c(39),f=d(e),g=new Audio,h=f.default.webAudio?new AudioContext:null,i=document.createElement("canvas"),j=i.getContext("2d"),k=/^no$/,l=function(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];var d=!0,e=!1,f=void 0;try{for(var h,i=b[Symbol.iterator]();!(d=(h=i.next()).done);d=!0){var j=h.value;if(g.canPlayType(j).replace(k,""))return!0}}catch(a){e=!0,f=a}finally{try{!d&&i.return&&i.return()}finally{if(e)throw f}}return!1},m=function(a){return f.default.webAudio?new Promise(function(b,c){h.decodeAudioData(a,b,c)}):Promise.reject(Error("Web Audio is not supported!"))},n=function(a){return a&&(a.naturalWidth||a.videoWidth||a.width)||0},o=function(a){return a&&(a.naturalHeight||a.videoHeight||a.height)||0},p=function(a){return i.width=a.width,i.height=a.height,j.drawImage(a,0,0),i.toDataURL()};b.audioContext=h,b.supportsCodec=l,b.decodeAudioBuffer=m,b.getMediaWidth=n,b.getMediaHeight=o,b.imageToBase64=p},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=document.createElement("canvas"),e="probablySupportsContext"in d?"probablySupportsContext":"supportsContext",f="AudioContext"in window,g="indexedDB"in window,h=e in d?d[e]("webgl")||d[e]("experimental-webgl"):"WebGLRenderingContext"in window,i=e in d?d[e]("webgl2"):"WebGL2RenderingContext"in window,j="ontouchstart"in window,k="PointerEvent"in window,l=function(){var a=!1;try{window.addEventListener("test",null,{get passive(){a=!0}})}catch(a){}return a}();b.default={webAudio:f,indexedDB:g,webGL:h,webGL2:i,touchEvents:j,pointerEvents:k,eventOptions:l}},function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0});var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=c(13),g=function(){function a(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,g=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;d(this,a),this._r=255&b,this._g=255&c,this._b=255&e,this._a=(0,f.clamp)(g,0,1),this._array=null,this._rgba=null}return e(a,[{key:"set",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._r,b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._g,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this._b,d=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this._a;return this._r=255&a,this._g=255&b,this._b=255&c,this._a=(0,f.clamp)(d,0,1),this._rgba=null,this}},{key:"setRGBA",value:function(a){return this._a=(a>>24&255)/255,this._r=a>>16&255,this._g=a>>8&255,this._b=255&a,this._rgba=a,this}},{key:"getRGBA",value:function(){return null===this._rgba&&(this._rgba=this._a&&((255*this._a|0)<<24)+(this._b<<16)+(this._g<<8)+this._r>>>0),this._rgba}},{key:"copy",value:function(a){return this.set(a.r,a.g,a.b,a.a)}},{key:"clone",value:function(){return new a(this._r,this._g,this._b,this._a)}},{key:"equals",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},b=a.r,c=a.g,d=a.b,e=a.a;return!(void 0!==b&&this.r!==b||void 0!==c&&this.g!==c||void 0!==d&&this.b!==d||void 0!==e&&this.a!==e)}},{key:"toArray",value:function(){var a=arguments.length>0&&void 0!==arguments[0]&&arguments[0],b=this._array||(this._array=new Float32Array(4));return a?(b[0]=this._r/255,b[1]=this._g/255,b[2]=this._b/255):(b[0]=this._r,b[1]=this._g,b[2]=this._b),b[3]=this._a,b}},{key:"destroy",value:function(){this._array&&(this._array=null),this._r=null,this._g=null,this._b=null,this._a=null,this._rgba=null}},{key:"r",get:function(){return this._r},set:function(a){this._r=255&a,this._rgba=null}},{key:"g",get:function(){return this._g},set:function(a){this._g=255&a,this._rgba=null}},{key:"b",get:function(){return this._b},set:function(a){this._b=255&a,this._rgba=null}},{key:"a",get:function(){return this._a},set:function(a){this._a=(0,f.clamp)(a,0,1),this._rgba=null}},{key:"rgba",get:function(){return this.getRGBA()},set:function(a){this.setRGBA(a)}},{key:"hex",get:function(){return"#"+((1<<24)+(this._r<<16)+(this._g<<8)+this._b).toString(16).substr(1)}}]),a}();b.default=g,g.AliceBlue=new g(240,248,255,1),g.AntiqueWhite=new g(250,235,215,1),g.Aqua=new g(0,255,255,1),g.Aquamarine=new g(127,255,212,1),
g.Azure=new g(240,255,255,1),g.Beige=new g(245,245,220,1),g.Bisque=new g(255,228,196,1),g.Black=new g(0,0,0,1),g.BlanchedAlmond=new g(255,235,205,1),g.Blue=new g(0,0,255,1),g.BlueViolet=new g(138,43,226,1),g.Brown=new g(165,42,42,1),g.BurlyWood=new g(222,184,135,1),g.CadetBlue=new g(95,158,160,1),g.Chartreuse=new g(127,255,0,1),g.Chocolate=new g(210,105,30,1),g.Coral=new g(255,127,80,1),g.CornflowerBlue=new g(100,149,237,1),g.Cornsilk=new g(255,248,220,1),g.Crimson=new g(220,20,60,1),g.Cyan=new g(0,255,255,1),g.DarkBlue=new g(0,0,139,1),g.DarkCyan=new g(0,139,139,1),g.DarkGoldenrod=new g(184,134,11,1),g.DarkGray=new g(169,169,169,1),g.DarkGreen=new g(0,100,0,1),g.DarkKhaki=new g(189,183,107,1),g.DarkMagenta=new g(139,0,139,1),g.DarkOliveGreen=new g(85,107,47,1),g.DarkOrange=new g(255,140,0,1),g.DarkOrchid=new g(153,50,204,1),g.DarkRed=new g(139,0,0,1),g.DarkSalmon=new g(233,150,122,1),g.DarkSeaGreen=new g(143,188,139,1),g.DarkSlateBlue=new g(72,61,139,1),g.DarkSlateGray=new g(47,79,79,1),g.DarkTurquoise=new g(0,206,209,1),g.DarkViolet=new g(148,0,211,1),g.DeepPink=new g(255,20,147,1),g.DeepSkyBlue=new g(0,191,255,1),g.DimGray=new g(105,105,105,1),g.DodgerBlue=new g(30,144,255,1),g.Firebrick=new g(178,34,34,1),g.FloralWhite=new g(255,250,240,1),g.ForestGreen=new g(34,139,34,1),g.Fuchsia=new g(255,0,255,1),g.Gainsboro=new g(220,220,220,1),g.GhostWhite=new g(248,248,255,1),g.Gold=new g(255,215,0,1),g.Goldenrod=new g(218,165,32,1),g.Gray=new g(128,128,128,1),g.Green=new g(0,128,0,1),g.GreenYellow=new g(173,255,47,1),g.Honeydew=new g(240,255,240,1),g.HotPink=new g(255,105,180,1),g.IndianRed=new g(205,92,92,1),g.Indigo=new g(75,0,130,1),g.Ivory=new g(255,255,240,1),g.Khaki=new g(240,230,140,1),g.Lavender=new g(230,230,250,1),g.LavenderBlush=new g(255,240,245,1),g.LawnGreen=new g(124,252,0,1),g.LemonChiffon=new g(255,250,205,1),g.LightBlue=new g(173,216,230,1),g.LightCoral=new g(240,128,128,1),g.LightCyan=new g(224,255,255,1),g.LightGoldenrodYellow=new g(250,250,210,1),g.LightGray=new g(211,211,211,1),g.LightGreen=new g(144,238,144,1),g.LightPink=new g(255,182,193,1),g.LightSalmon=new g(255,160,122,1),g.LightSeaGreen=new g(32,178,170,1),g.LightSkyBlue=new g(135,206,250,1),g.LightSlateGray=new g(119,136,153,1),g.LightSteelBlue=new g(176,196,222,1),g.LightYellow=new g(255,255,224,1),g.Lime=new g(0,255,0,1),g.LimeGreen=new g(50,205,50,1),g.Linen=new g(250,240,230,1),g.Magenta=new g(255,0,255,1),g.Maroon=new g(128,0,0,1),g.MediumAquamarine=new g(102,205,170,1),g.MediumBlue=new g(0,0,205,1),g.MediumOrchid=new g(186,85,211,1),g.MediumPurple=new g(147,112,219,1),g.MediumSeaGreen=new g(60,179,113,1),g.MediumSlateBlue=new g(123,104,238,1),g.MediumSpringGreen=new g(0,250,154,1),g.MediumTurquoise=new g(72,209,204,1),g.MediumVioletRed=new g(199,21,133,1),g.MidnightBlue=new g(25,25,112,1),g.MintCream=new g(245,255,250,1),g.MistyRose=new g(255,228,225,1),g.Moccasin=new g(255,228,181,1),g.NavajoWhite=new g(255,222,173,1),g.Navy=new g(0,0,128,1),g.OldLace=new g(253,245,230,1),g.Olive=new g(128,128,0,1),g.OliveDrab=new g(107,142,35,1),g.Orange=new g(255,165,0,1),g.OrangeRed=new g(255,69,0,1),g.Orchid=new g(218,112,214,1),g.PaleGoldenrod=new g(238,232,170,1),g.PaleGreen=new g(152,251,152,1),g.PaleTurquoise=new g(175,238,238,1),g.PaleVioletRed=new g(219,112,147,1),g.PapayaWhip=new g(255,239,213,1),g.PeachPuff=new g(255,218,185,1),g.Peru=new g(205,133,63,1),g.Pink=new g(255,192,203,1),g.Plum=new g(221,160,221,1),g.PowderBlue=new g(176,224,230,1),g.Purple=new g(128,0,128,1),g.Red=new g(255,0,0,1),g.RosyBrown=new g(188,143,143,1),g.RoyalBlue=new g(65,105,225,1),g.SaddleBrown=new g(139,69,19,1),g.Salmon=new g(250,128,114,1),g.SandyBrown=new g(244,164,96,1),g.SeaGreen=new g(46,139,87,1),g.SeaShell=new g(255,245,238,1),g.Sienna=new g(160,82,45,1),g.Silver=new g(192,192,192,1),g.SkyBlue=new g(135,206,235,1),g.SlateBlue=new g(106,90,205,1),g.SlateGray=new g(112,128,144,1),g.Snow=new g(255,250,250,1),g.SpringGreen=new g(0,255,127,1),g.SteelBlue=new g(70,130,180,1),g.Tan=new g(210,180,140,1),g.Teal=new g(0,128,128,1),g.Thistle=new g(216,191,216,1),g.Tomato=new g(255,99,71,1),g.TransparentBlack=new g(0,0,0,0),g.TransparentWhite=new g(255,255,255,0),g.Turquoise=new g(64,224,208,1),g.Violet=new g(238,130,238,1),g.Wheat=new g(245,222,179,1),g.White=new g(255,255,255,1),g.WhiteSmoke=new g(245,245,245,1),g.Yellow=new g(255,255,0,1),g.YellowGreen=new g(154,205,50,1)},function(a,b){a.exports=function(a,b){return{enumerable:!(1&a),configurable:!(2&a),writable:!(4&a),value:b}}},function(a,b){var c=0,d=Math.random();a.exports=function(a){return"Symbol(".concat(void 0===a?"":a,")_",(++c+d).toString(36))}},function(a,b){a.exports=!1},function(a,b,c){var d=c(134),e=c(90);a.exports=Object.keys||function(a){return d(a,e)}},function(a,b,c){var d=c(29),e=Math.max,f=Math.min;a.exports=function(a,b){return a=d(a),a<0?e(a+b,0):f(a,b)}},function(a,b,c){var d=c(1),e=c(135),f=c(90),g=c(89)("IE_PROTO"),h=function(){},i="prototype",j=function(){var a,b=c(87)("iframe"),d=f.length,e="<",g=">";for(b.style.display="none",c(91).appendChild(b),b.src="javascript:",a=b.contentWindow.document,a.open(),a.write(e+"script"+g+"document.F=Object"+e+"/script"+g),a.close(),j=a.F;d--;)delete j[i][f[d]];return j()};a.exports=Object.create||function(a,b){var c;return null!==a?(h[i]=d(a),c=new h,h[i]=null,c[g]=a):c=j(),void 0===b?c:e(c,b)}},function(a,b,c){var d=c(134),e=c(90).concat("length","prototype");b.f=Object.getOwnPropertyNames||function(a){return d(a,e)}},function(a,b,c){"use strict";var d=c(2),e=c(7),f=c(6),g=c(5)("species");a.exports=function(a){var b=d[a];f&&b&&!b[g]&&e.f(b,g,{configurable:!0,get:function(){return this}})}},function(a,b){a.exports=function(a,b,c,d){if(!(a instanceof b)||void 0!==d&&d in a)throw TypeError(c+": incorrect invocation!");return a}},function(a,b,c){var d=c(22),e=c(146),f=c(103),g=c(1),h=c(8),i=c(105),j={},k={},b=a.exports=function(a,b,c,l,m){var n,o,p,q,r=m?function(){return a}:i(a),s=d(c,l,b?2:1),t=0;if("function"!=typeof r)throw TypeError(a+" is not iterable!");if(f(r)){for(n=h(a.length);n>t;t++)if((q=b?s(g(o=a[t])[0],o[1]):s(a[t]))===j||q===k)return q}else for(p=r.call(a);!(o=p.next()).done;)if((q=e(p,s,o.value,b))===j||q===k)return q};b.BREAK=j,b.RETURN=k},function(a,b,c){var d=c(16);a.exports=function(a,b,c){for(var e in b)d(a,e,b[e],c);return a}},function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0});var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=function(){function a(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:b;d(this,a),this._min=b,this._max=c}return e(a,[{key:"set",value:function(a,b){return this.min=a,this.max=b,this}},{key:"copy",value:function(a){return this.set(a.min,a.max)}},{key:"clone",value:function(){return new a(this.min,this.max)}},{key:"contains",value:function(a){return a.min>this._min&&a.max<this._max}},{key:"includes",value:function(a){return a<=this._max&&a>=this._min}},{key:"overlaps",value:function(a){return!(this._min>a.max||a.min>this._max)}},{key:"getOverlap",value:function(a){return this.overlaps(a)?Math.min(this._max,a.max)-Math.max(this._min,a.min):0}},{key:"destroy",value:function(){this._min=null,this._max=null}},{key:"min",get:function(){return this._min},set:function(a){this._min=a}},{key:"max",get:function(){return this._y},set:function(a){this._max=a}}]),a}();b.default=f,f.Empty=new f(0,0),f.Temp=new f},function(a,b,c){var d=c(7).f,e=c(14),f=c(5)("toStringTag");a.exports=function(a,b,c){a&&!e(a=c?a:a.prototype,f)&&d(a,f,{configurable:!0,value:b})}},function(a,b,c){var d=c(0),e=c(28),f=c(3),g=c(93),h="["+g+"]",i="​",j=RegExp("^"+h+h+"*"),k=RegExp(h+h+"*$"),l=function(a,b,c){var e={},h=f(function(){return!!g[a]()||i[a]()!=i}),j=e[a]=h?b(m):g[a];c&&(e[c]=j),d(d.P+d.F*h,"String",e)},m=l.trim=function(a,b){return a=String(e(a)),1&b&&(a=a.replace(j,"")),2&b&&(a=a.replace(k,"")),a};a.exports=l},function(a,b){a.exports={}},function(a,b,c){var d=c(4);a.exports=function(a,b){if(!d(a)||a._t!==b)throw TypeError("Incompatible receiver, "+b+" required!");return a}},function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0});var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=function(){function a(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;d(this,a),this._width=b,this._height=c}return e(a,[{key:"set",value:function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a;return this._width=a,this._height=b,this}},{key:"add",value:function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a;return this._width+=a,this._height+=b,this}},{key:"subtract",value:function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a;return this._width-=a,this._height-=b,this}},{key:"scale",value:function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a;return this._width*=a,this._height*=b,this}},{key:"divide",value:function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a;return this._width/=a,this._height/=b,this}},{key:"copy",value:function(a){return this._width=a.width,this._height=a.height,this}},{key:"clone",value:function(){return new a(this._width,this._height)}},{key:"equals",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},b=a.width,c=a.height;return!(void 0!==b&&this.width!==b||void 0!==c&&this.height!==c)}},{key:"destroy",value:function(){this._width=null,this._height=null}},{key:"width",get:function(){return this._width},set:function(a){this._width=a}},{key:"height",get:function(){return this._height},set:function(a){this._height=a}}]),a}();b.default=f,f.Empty=new f(0,0),f.Temp=new f},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0});var f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=c(35),h=c(38),i=c(13),j=c(11),k=d(j),l=c(57),m=d(l),n=c(64),o=d(n),p=function(){function a(b){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},d=c.scaleMode,f=void 0===d?k.default.SCALE_MODE:d,g=c.wrapMode,h=void 0===g?k.default.WRAP_MODE:g,i=c.premultiplyAlpha,j=void 0===i?k.default.PREMULTIPLY_ALPHA:i,l=c.generateMipMap,n=void 0===l?k.default.GENERATE_MIPMAP:l;e(this,a),this._source=null,this._size=new m.default(0,0),this._context=null,this._texture=null,this._sampler=null,this._scaleMode=null,this._wrapMode=null,this._premultiplyAlpha=null,this._generateMipMap=null,this._flipY=!1,this._flags=new o.default,this.setScaleMode(f),this.setWrapMode(h),this.premultiplyAlpha=j,this.generateMipMap=n,b&&this.setSource(b)}return f(a,[{key:"connect",value:function(a){return this._context||(this._context=a,this._texture=a.createTexture()),this}},{key:"disconnect",value:function(){return this.unbindTexture(),this._context&&(this._context.deleteTexture(this._texture),this._context=null,this._texture=null),this}},{key:"bindTexture",value:function(a){if(!this._context)throw new Error("Texture has to be connected first!");var b=this._context;return void 0!==a&&b.activeTexture(b.TEXTURE0+a),b.bindTexture(b.TEXTURE_2D,this._texture),this.update(),this}},{key:"unbindTexture",value:function(){if(this._context){var a=this._context;a.bindTexture(a.TEXTURE_2D,null)}return this}},{key:"setScaleMode",value:function(a){return this._scaleMode!==a&&(this._scaleMode=a,this._flags.add(g.TEXTURE_FLAGS.SCALE_MODE)),this}},{key:"setWrapMode",value:function(a){return this._wrapMode!==a&&(this._wrapMode=a,this._flags.add(g.TEXTURE_FLAGS.WRAP_MODE)),this}},{key:"setSource",value:function(a){return this._source!==a&&(this._source=a,this.updateSource()),this}},{key:"updateSource",value:function(){return this._flags.add(g.TEXTURE_FLAGS.SOURCE),this.setSize((0,h.getMediaWidth)(this._source),(0,h.getMediaHeight)(this._source)),this}},{key:"setSize",value:function(a,b){return this._size.equals({width:a,height:b})||(this._size.set(a,b),this._flags.add(g.TEXTURE_FLAGS.SIZE)),this}},{key:"update",value:function(){if(this._flags.value&&this._context){var a=this._context;this._flags.has(g.TEXTURE_FLAGS.SCALE_MODE)&&(a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,this._scaleMode),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,this._scaleMode),this._flags.remove(g.TEXTURE_FLAGS.SCALE_MODE)),this._flags.has(g.TEXTURE_FLAGS.WRAP_MODE)&&(a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,this._wrapMode),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,this._wrapMode),this._flags.remove(g.TEXTURE_FLAGS.WRAP_MODE)),this._flags.has(g.TEXTURE_FLAGS.PREMULTIPLY_ALPHA)&&(a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this._premultiplyAlpha),this._flags.remove(g.TEXTURE_FLAGS.PREMULTIPLY_ALPHA)),this._flags.has(g.TEXTURE_FLAGS.SOURCE)&&this._source&&(this._flags.has(g.TEXTURE_FLAGS.SIZE)?a.texImage2D(a.TEXTURE_2D,0,a.RGBA,a.RGBA,a.UNSIGNED_BYTE,this._source):a.texSubImage2D(a.TEXTURE_2D,0,0,0,a.RGBA,a.UNSIGNED_BYTE,this._source),this._generateMipMap&&a.generateMipmap(a.TEXTURE_2D),this._flags.remove(g.TEXTURE_FLAGS.SOURCE,g.TEXTURE_FLAGS.SIZE))}return this}},{key:"destroy",value:function(){this.disconnect(),this._size.destroy(),this._size=null,this._flags.destroy(),this._flags=null,this._source=null,this._scaleMode=null,this._wrapMode=null,this._premultiplyAlpha=null,this._generateMipMap=null,this._context=null,this._texture=null,this._flipY=null}},{key:"source",get:function(){return this._source},set:function(a){this.setSource(a)}},{key:"size",get:function(){return this._size},set:function(a){this.setSize(a.width,a.height)}},{key:"width",get:function(){return this._size.width},set:function(a){this.setSize(a,this.height)}},{key:"height",get:function(){return this._size.height},set:function(a){this.setSize(this.width,a)}},{key:"scaleMode",get:function(){return this._scaleMode},set:function(a){this.setScaleMode(a)}},{key:"wrapMode",get:function(){return this._wrapMode},set:function(a){this.setWrapMode(a)}},{key:"premultiplyAlpha",get:function(){return this._premultiplyAlpha},set:function(a){this._premultiplyAlpha!==a&&(this._premultiplyAlpha=a,this._flags.add(g.TEXTURE_FLAGS.PREMULTIPLY_ALPHA))}},{key:"generateMipMap",get:function(){return this._generateMipMap},set:function(a){this._generateMipMap=a}},{key:"flipY",get:function(){return this._flipY},set:function(a){this._flipY=a}},{key:"powerOfTwo",get:function(){return(0,i.isPowerOfTwo)(this.width)&&(0,i.isPowerOfTwo)(this.height)}}]),a}();b.default=p},function(a,b,c){var d=c(23);a.exports=Object("z").propertyIsEnumerable(0)?Object:function(a){return"String"==d(a)?a.split(""):Object(a)}},function(a,b){b.f={}.propertyIsEnumerable},function(a,b,c){var d=c(23),e=c(5)("toStringTag"),f="Arguments"==d(function(){return arguments}()),g=function(a,b){try{return a[b]}catch(a){}};a.exports=function(a){var b,c,h;return void 0===a?"Undefined":null===a?"Null":"string"==typeof(c=g(b=Object(a),e))?c:f?d(b):"Object"==(h=d(b))&&"function"==typeof b.callee?"Arguments":h}},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0});var g=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),h=c(12),i=d(h),j=c(52),k=d(j),l=c(83),m=(d(l),c(114)),n=c(13),o=function(){function a(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},c=b.shapeA,d=b.shapeB,e=b.distance,g=void 0===e?0:e,h=b.separation,j=void 0===h?i.default.Empty:h,k=b.shapeAInB,l=void 0!==k&&k,m=b.shapeBInA,n=void 0!==m&&m;f(this,a),this._shapeA=c,this._shapeB=d,this._distance=g,this._separation=j.clone(),this._shapeAInB=l,this._shapeBInA=n}return g(a,[{key:"destroy",value:function(){this._shapeA=null,this._shapeB=null,this._distance=null,this._separation=null,this._shapeAInB=null,this._shapeBInA=null}},{key:"shapeA",get:function(){return this._shapeA},set:function(a){this._shapeA=a}},{key:"shapeB",get:function(){return this._shapeB},set:function(a){this._shapeB=a}},{key:"distance",get:function(){return this._distance},set:function(a){this._distance=a}},{key:"separation",get:function(){return this._separation},set:function(a){this._separation.copy(a)}},{key:"shapeAInB",get:function(){return this._shapeAInB},set:function(a){this._shapeAInB=a}},{key:"shapeBInA",get:function(){return this._shapeBInA},set:function(a){this._shapeBInA=a}}],[{key:"intersectionSAT",value:function(a,b){for(var c=a.getNormals(),d=b.getNormals(),e=c.length,f=d.length,g=new k.default,h=new k.default,i=0;i<e;i++){var j=c[i];if(a.project(j,g),b.project(j,h),!g.overlaps(h))return!1}for(var l=0;l<f;l++){var m=d[l];if(a.project(m,g),b.project(m,h),!g.overlaps(h))return!1}return!0}},{key:"collisionSAT",value:function(b,c){for(var d,f=b.getNormals(),g=c.getNormals(),h=f.length,j=g.length,l=new k.default,m=new k.default,n=new i.default,o=!1,p=!1,q=!0,r=!0,s=1/0,t=void 0,u=0;u<h;u++){var v=f[u];if(b.project(v,l),c.project(v,m),!l.overlaps(m))return null;t=l.getOverlap(m),o=m.contains(l),p=l.contains(m),!o&&q&&(q=!1),!p&&r&&(r=!1),(o||p)&&(t+=Math.min(Math.abs(l.min-m.min),Math.abs(l.max-m.max))),t<s&&(s=t,n.copy(v))}for(var w=0;w<j;w++){var x=g[w];if(b.project(x,l),c.project(x,m),!l.overlaps(m))return null;t=l.getOverlap(m),o=m.contains(l),p=l.contains(m),!o&&q&&(q=!1),!p&&r&&(r=!1),(o||p)&&(t+=Math.min(Math.abs(l.min-m.min),Math.abs(l.max-m.max))),t<s&&(s=t,n.copy(x))}return new a((d={shapeA:b},e(d,"shapeA",b),e(d,"distance",s),e(d,"separation",n),e(d,"shapeAInB",q),e(d,"shapeBInA",r),d))}},{key:"intersectionRectRect",value:function(a,b){return!(b.left>a.right||b.top>a.bottom)&&!(a.left>b.right||a.top>b.bottom)}},{key:"intersectionCircleCircle",value:function(a,b){return a.position.distanceTo(b.x,b.y)<=a.radius+b.radius}},{key:"intersectionCircleRect",value:function(a,b){var c=b.width/2,d=b.height/2,e=a.radius,f=Math.abs(a.x-b.x),g=Math.abs(a.y-b.y);return!(f>c+e)&&(!(g>d+e)&&(f<=c||(g<=d||a.position.distanceTo(b.x-c,b.y-d)<=e)))}},{key:"intersectionPolyCircle",value:function(a,b){for(var c=a.points,d=b.x-a.x,e=b.y-a.y,f=new i.default,g=new i.default,h=new i.default,j=new i.default,k=c.length,l=0;l<k;l++){var o=c[l],p=c[(l+1)%k],q=(0,n.getVoronoiRegion)(h.set(p.x-o.x,p.y-o.y),f.set(d-o.x,e-o.y));if(q===m.VORONOI_REGION.LEFT){var r=c[0===l?k-1:l-1];if(j.set(o.x-r.x,o.y-r.y),g.set(d-r.x,e-r.y),(0,n.getVoronoiRegion)(j,g)===m.VORONOI_REGION.RIGHT&&f.len>b.radius)return!1}else if(q===m.VORONOI_REGION.RIGHT){var s=c[(l+2)%k];if(j.set(s.x-p.x,s.y-p.y),g.set(d-p.x,e-p.y),(0,n.getVoronoiRegion)(j,g)===m.VORONOI_REGION.LEFT&&g.len>b.radius)return!1}else{var t=h.perp().normalize(),u=f.dot(t.x,t.y);if(u>0&&Math.abs(u)>b.radius)return!1}}return!0}},{key:"collisionRectRect",value:function(b,c){return c.left>b.right||c.top>b.bottom?null:b.left>c.right||b.top>c.bottom?null:new a({shapeA:b,shapeB:c,distance:0,separation:i.default.Empty,shapeAInB:c.containsRect(b),shapeBInA:b.containsRect(c)})}},{key:"collisionCircleCircle",value:function(b,c){var d=b.position.distanceTo(c.x,c.y),e=b.radius+c.radius;return d>e?null:new a({shapeA:b,shapeB:c,distance:d,separation:new i.default(c.x-b.x,c.y-b.y).normalize().scale(e-d),shapeAInB:b.radius<=c.radius&&d<=c.radius-b.radius,shapeBInA:c.radius<=b.radius&&d<=b.radius-c.radius})}},{key:"collisionCircleRect",value:function(b,c){var d=arguments.length>2&&void 0!==arguments[2]&&arguments[2],e=c.width/2,f=c.height/2,g=b.position.distanceTo(c.x-e,c.y-f),h=b.radius<=Math.min(e,f)&&g<=Math.min(e,f)-b.radius,j=Math.max(e,f)<=b.radius&&g<=b.radius-Math.max(e,f);return g<=b.radius?new a({shapeA:d?c:b,shapeB:d?b:c,distance:g,separation:i.default.Empty,shapeAInB:d?j:h,shapeBInA:d?h:j}):null}},{key:"collisionPolyCircle",value:function(b,c){for(var d=arguments.length>2&&void 0!==arguments[2]&&arguments[2],e=b.points,f=c.x-b.x,g=c.y-b.y,h=c.radius,j=new i.default,k=new i.default,l=new i.default,o=new i.default,p=e.length,q=new i.default,r=!0,s=!0,t=0,u=0;u<p;u++){var v=e[u],w=e[(u+1)%p],x=(0,n.getVoronoiRegion)(l.set(w.x-v.x,w.y-v.y),j.set(f-v.x,g-v.y));if(j.len>h&&(r=!1),x===m.VORONOI_REGION.LEFT){var y=e[0===u?p-1:u-1];if(o.set(v.x-y.x,v.y-y.y),k.set(f-y.x,g-y.y),(0,n.getVoronoiRegion)(o,k)===m.VORONOI_REGION.RIGHT){var z=j.len;if(z>h)return null;Math.abs(h-z)<Math.abs(t)&&(t=h-z,q.copy(j).normalize()),s=!1}}else if(x===m.VORONOI_REGION.RIGHT){var A=e[(u+2)%p];if(o.set(A.x-w.x,A.y-w.y),k.set(f-w.x,g-w.y),(0,n.getVoronoiRegion)(o,k)===m.VORONOI_REGION.LEFT){var B=k.len;if(B>h)return null;Math.abs(h-B)<Math.abs(t)&&(t=h-B,q.copy(k).normalize()),s=!1}}else{var C=l.perp().normalize(),D=j.dot(C.x,C.y);if(D>0&&Math.abs(D)>h)return null;(D>=0||h-D<2*h)&&(s=!1),Math.abs(h-D)<Math.abs(t)&&(t=h-D,q.copy(C))}}return new a({shapeA:d?c:b,shapeB:d?b:c,distance:0,separation:q.scale(t),shapeAInB:d?s:r,shapeBInA:d?r:s})}}]),a}();b.default=o},function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0});var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=c(13),g=function(){function a(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,f=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,g=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,h=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,j=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,k=arguments.length>8&&void 0!==arguments[8]?arguments[8]:1;d(this,a),this.a=b,this.b=c,this.x=e,this.c=f,this.d=g,this.y=h,this.e=i,this.f=j,this.z=k,this._array=null,this._updateId=0}return e(a,[{key:"set",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.a,b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.b,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.x,d=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.c,e=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.d,f=arguments.length>5&&void 0!==arguments[5]?arguments[5]:this.y,g=arguments.length>6&&void 0!==arguments[6]?arguments[6]:this.e,h=arguments.length>7&&void 0!==arguments[7]?arguments[7]:this.f,i=arguments.length>8&&void 0!==arguments[8]?arguments[8]:this.z;return this.a=a,this.b=b,this.x=c,this.c=d,this.d=e,this.y=f,this.e=g,this.f=h,this.z=i,this._updateId++,this}},{key:"copy",value:function(a){return this.a=a.a,this.b=a.b,this.x=a.x,this.c=a.c,this.d=a.d,this.y=a.y,this.e=a.e,this.f=a.f,this.z=a.z,this}},{key:"clone",value:function(){return new a(this.a,this.b,this.x,this.c,this.d,this.y,this.e,this.f,this.z)}},{key:"equals",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},b=a.a,c=a.b,d=a.x,e=a.c,f=a.d,g=a.y,h=a.e,i=a.f,j=a.z;return!(void 0!==b&&this.a!==b||void 0!==c&&this.b!==c||void 0!==d&&this.x!==d||void 0!==e&&this.c!==e||void 0!==f&&this.d!==f||void 0!==g&&this.y!==g||void 0!==h&&this.e!==h||void 0!==i&&this.f!==i||void 0!==j&&this.z!==j)}},{key:"combine",value:function(a){return this.set(this.a*a.a+this.c*a.b+this.e*a.x,this.b*a.a+this.d*a.b+this.f*a.x,this.x*a.a+this.y*a.b+this.z*a.x,this.a*a.c+this.c*a.d+this.e*a.y,this.b*a.c+this.d*a.d+this.f*a.y,this.x*a.c+this.y*a.d+this.z*a.y,this.a*a.e+this.c*a.f+this.e*a.z,this.b*a.e+this.d*a.f+this.f*a.z,this.x*a.e+this.y*a.f+this.z*a.z)}},{key:"getInverse",value:function(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this,c=this.a*(this.z*this.d-this.y*this.f)-this.b*(this.z*this.c-this.y*this.e)+this.x*(this.f*this.c-this.d*this.e);return 0===c?b.copy(a.Identity):b.set((this.z*this.d-this.y*this.f)/c,(this.z*this.c-this.y*this.e)/-c,(this.f*this.c-this.d*this.e)/c,(this.z*this.b-this.x*this.f)/-c,(this.z*this.a-this.x*this.e)/c,(this.f*this.a-this.b*this.e)/-c,(this.y*this.b-this.x*this.d)/c,(this.y*this.a-this.x*this.c)/-c,(this.d*this.a-this.b*this.c)/c)}},{key:"translate",value:function(b){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:b;return this.combine(a.Temp.set(1,0,b,0,1,c,0,0,1))}},{key:"rotate",value:function(b){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c,e=(0,f.degreesToRadians)(b),g=Math.cos(e),h=Math.sin(e);return this.combine(a.Temp.set(g,-h,c*(1-g)+d*h,h,g,d*(1-g)-c*h,0,0,1))}},{key:"scale",value:function(b){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:b,d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,e=arguments.length>3&&void 0!==arguments[3]?arguments[3]:d;return this.combine(a.Temp.set(b,0,d*(1-b),0,c,e*(1-c),0,0,1))}},{key:"toArray",value:function(){var a=arguments.length>0&&void 0!==arguments[0]&&arguments[0],b=this._array||(this._array=new Float32Array(9));return a?(b[0]=this.a,b[1]=this.b,b[2]=this.x,b[3]=this.c,b[4]=this.d,b[5]=this.y,b[6]=this.e,b[7]=this.f,b[8]=this.z):(b[0]=this.a,b[1]=this.c,b[2]=this.e,b[3]=this.b,b[4]=this.d,b[5]=this.f,b[6]=this.x,b[7]=this.y,b[8]=this.z),b}},{key:"destroy",value:function(){this._array&&(this._array=null),this.a=null,this.b=null,this.x=null,this.c=null,this.d=null,this.y=null,this.e=null,this.f=null,this.z=null}}]),a}();b.default=g,g.Identity=new g(1,0,0,0,1,0,0,0,1),g.Temp=new g},function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0});var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=function(){function a(){d(this,a),this._value=0,arguments.length&&this.add.apply(this,arguments)}return e(a,[{key:"add",value:function(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];var d=!0,e=!1,f=void 0;try{for(var g,h=b[Symbol.iterator]();!(d=(g=h.next()).done);d=!0){var i=g.value;this._value|=i}}catch(a){e=!0,f=a}finally{try{!d&&h.return&&h.return()}finally{if(e)throw f}}return this}},{key:"remove",value:function(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];var d=!0,e=!1,f=void 0;try{for(var g,h=b[Symbol.iterator]();!(d=(g=h.next()).done);d=!0){var i=g.value;this._value&=~i}}catch(a){e=!0,f=a}finally{try{!d&&h.return&&h.return()}finally{if(e)throw f}}return this}},{key:"has",value:function(){for(var a=this,b=arguments.length,c=Array(b),d=0;d<b;d++)c[d]=arguments[d];return c.every(function(b){return 0!=(a._value&b)})}},{key:"destroy",value:function(){this._value=null}},{key:"value",get:function(){return this._value}}]),a}();b.default=f},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){return function(){var b=a.apply(this,arguments);return new Promise(function(a,c){function d(e,f){try{var g=b[e](f),h=g.value}catch(a){return void c(a)}if(!g.done)return Promise.resolve(h).then(function(a){d("next",a)},function(a){d("throw",a)});a(h)}return d("next")})}}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function g(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function h(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var i=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),j=c(84),k=d(j),l=function(a){function b(){return f(this,b),g(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return h(b,a),i(b,[{key:"process",value:function(){function a(a){return b.apply(this,arguments)}var b=e(regeneratorRuntime.mark(function a(b){return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,b.arrayBuffer();case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}},a,this)}));return a}()},{key:"storageType",get:function(){return"arrayBuffer"}}]),b}(k.default);b.default=l},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){return function(){var b=a.apply(this,arguments);return new Promise(function(a,c){function d(e,f){try{var g=b[e](f),h=g.value}catch(a){return void c(a)}if(!g.done)return Promise.resolve(h).then(function(a){d("next",a)},function(a){d("throw",a)});a(h)}return d("next")})}}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function g(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function h(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var i=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),j=function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;if(void 0!==g)return g.call(d)},k=c(65),l=d(k),m=c(191),n=d(m),o=function(a){function b(){return f(this,b),g(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return h(b,a),i(b,[{key:"create",value:function(){function a(a){return c.apply(this,arguments)}var c=e(regeneratorRuntime.mark(function a(c){var d,e,f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},g=f.type,h=f.createMediaElement,i=f.decodeAudioBuffer,k=f.mimeType,l=f.loadEvent;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,
j(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"create",this).call(this,c,null);case 2:if(d=a.sent,e=new n.default(g,d,{mimeType:k,loadEvent:l}),!h){a.next=7;break}return a.next=7,e.createMediaElement();case 7:if(!i){a.next=10;break}return a.next=10,e.decodeAudioBuffer();case 10:return a.abrupt("return",e);case 11:case"end":return a.stop()}},a,this)}));return a}()},{key:"storageType",get:function(){return"mediaSource"}}]),b}(l.default);b.default=o},function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0});var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=function(){function a(){d(this,a)}return e(a,[{key:"apply",value:function(a,b){throw new Error("Method not implemented!")}},{key:"clone",value:function(){throw new Error("Method not implemented!")}},{key:"destroy",value:function(){throw new Error("Method not implemented!")}}]),a}();b.default=f},function(a,b,c){var d=c(2),e="__core-js_shared__",f=d[e]||(d[e]={});a.exports=function(a){return f[a]||(f[a]={})}},function(a,b,c){var d=c(18),e=c(8),f=c(45);a.exports=function(a){return function(b,c,g){var h,i=d(b),j=e(i.length),k=f(g,j);if(a&&c!=c){for(;j>k;)if((h=i[k++])!=h)return!0}else for(;j>k;k++)if((a||k in i)&&i[k]===c)return a||k||0;return!a&&-1}}},function(a,b){b.f=Object.getOwnPropertySymbols},function(a,b,c){var d=c(23);a.exports=Array.isArray||function(a){return"Array"==d(a)}},function(a,b,c){var d=c(4),e=c(23),f=c(5)("match");a.exports=function(a){var b;return d(a)&&(void 0!==(b=a[f])?!!b:"RegExp"==e(a))}},function(a,b,c){var d=c(5)("iterator"),e=!1;try{var f=[7][d]();f.return=function(){e=!0},Array.from(f,function(){throw 2})}catch(a){}a.exports=function(a,b){if(!b&&!e)return!1;var c=!1;try{var f=[7],g=f[d]();g.next=function(){return{done:c=!0}},f[d]=function(){return g},a(f)}catch(a){}return c}},function(a,b,c){"use strict";var d=c(1);a.exports=function(){var a=d(this),b="";return a.global&&(b+="g"),a.ignoreCase&&(b+="i"),a.multiline&&(b+="m"),a.unicode&&(b+="u"),a.sticky&&(b+="y"),b}},function(a,b,c){"use strict";var d=c(15),e=c(16),f=c(3),g=c(28),h=c(5);a.exports=function(a,b,c){var i=h(a),j=c(g,i,""[a]),k=j[0],l=j[1];f(function(){var b={};return b[i]=function(){return 7},7!=""[a](b)})&&(e(String.prototype,a,k),d(RegExp.prototype,i,2==b?function(a,b){return l.call(a,this,b)}:function(a){return l.call(a,this)}))}},function(a,b,c){var d=c(1),e=c(10),f=c(5)("species");a.exports=function(a,b){var c,g=d(a).constructor;return void 0===g||void 0==(c=d(g)[f])?b:e(c)}},function(a,b,c){"use strict";var d=c(2),e=c(0),f=c(16),g=c(51),h=c(36),i=c(50),j=c(49),k=c(4),l=c(3),m=c(73),n=c(53),o=c(94);a.exports=function(a,b,c,p,q,r){var s=d[a],t=s,u=q?"set":"add",v=t&&t.prototype,w={},x=function(a){var b=v[a];f(v,a,"delete"==a?function(a){return!(r&&!k(a))&&b.call(this,0===a?0:a)}:"has"==a?function(a){return!(r&&!k(a))&&b.call(this,0===a?0:a)}:"get"==a?function(a){return r&&!k(a)?void 0:b.call(this,0===a?0:a)}:"add"==a?function(a){return b.call(this,0===a?0:a),this}:function(a,c){return b.call(this,0===a?0:a,c),this})};if("function"==typeof t&&(r||v.forEach&&!l(function(){(new t).entries().next()}))){var y=new t,z=y[u](r?{}:-0,1)!=y,A=l(function(){y.has(1)}),B=m(function(a){new t(a)}),C=!r&&l(function(){for(var a=new t,b=5;b--;)a[u](b,b);return!a.has(-0)});B||(t=b(function(b,c){j(b,t,a);var d=o(new s,b,t);return void 0!=c&&i(c,q,d[u],d),d}),t.prototype=v,v.constructor=t),(A||C)&&(x("delete"),x("has"),q&&x("get")),(C||z)&&x(u),r&&v.clear&&delete v.clear}else t=p.getConstructor(b,a,q,u),g(t.prototype,c),h.NEED=!0;return n(t,a),w[a]=t,e(e.G+e.W+e.F*(t!=s),w),r||p.setStrong(t,a,q),t}},function(a,b,c){for(var d,e=c(2),f=c(15),g=c(42),h=g("typed_array"),i=g("view"),j=!(!e.ArrayBuffer||!e.DataView),k=j,l=0,m=9,n="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");l<m;)(d=e[n[l++]])?(f(d.prototype,h,!0),f(d.prototype,i,!0)):k=!1;a.exports={ABV:j,CONSTR:k,TYPED:h,VIEW:i}},function(a,b,c){"use strict";a.exports=c(43)||!c(3)(function(){var a=Math.random();__defineSetter__.call(null,a,function(){}),delete c(2)[a]})},function(a,b,c){"use strict";var d=c(0);a.exports=function(a){d(d.S,a,{of:function(){for(var a=arguments.length,b=new Array(a);a--;)b[a]=arguments[a];return new this(b)}})}},function(a,b,c){"use strict";var d=c(0),e=c(10),f=c(22),g=c(50);a.exports=function(a){d(d.S,a,{from:function(a){var b,c,d,h,i=arguments[1];return e(this),b=void 0!==i,b&&e(i),void 0==a?new this:(c=[],b?(d=0,h=f(i,arguments[2],2),g(a,!1,function(a){c.push(h(a,d++))})):g(a,!1,c.push,c),new this(c))}})}},function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0});var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=c(34),g=function(){function a(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f.TIME.MILLISECONDS;d(this,a),this._milliseconds=b*c}return e(a,[{key:"set",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f.TIME.MILLISECONDS;return this._milliseconds=a*b,this}},{key:"setMilliseconds",value:function(a){return this.milliseconds=a,this}},{key:"setSeconds",value:function(a){return this.seconds=a,this}},{key:"setMinutes",value:function(a){return this.minutes=a,this}},{key:"setHours",value:function(a){return this.hours=a,this}},{key:"equals",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},b=a.milliseconds,c=a.seconds,d=a.minutes,e=a.hours;return!(void 0!==b&&this.milliseconds!==b||void 0!==c&&this.seconds!==c||void 0!==d&&this.minutes!==d||void 0!==e&&this.hours!==e)}},{key:"greaterThan",value:function(a){return this._milliseconds>a.milliseconds}},{key:"lessThan",value:function(a){return this._milliseconds<a.milliseconds}},{key:"clone",value:function(){return new a(this._milliseconds)}},{key:"copy",value:function(a){return this._milliseconds=a.milliseconds,this}},{key:"add",value:function(a){return this._milliseconds+=a.milliseconds,this}},{key:"subtract",value:function(a){return this._milliseconds-=a.milliseconds,this}},{key:"destroy",value:function(){this._milliseconds=null}},{key:"milliseconds",get:function(){return this._milliseconds},set:function(a){this._milliseconds=a}},{key:"seconds",get:function(){return this._milliseconds/f.TIME.SECONDS},set:function(a){this._milliseconds=a*f.TIME.SECONDS}},{key:"minutes",get:function(){return this._milliseconds/f.TIME.MINUTES},set:function(a){this._milliseconds=a*f.TIME.MINUTES}},{key:"hours",get:function(){return this._milliseconds/f.TIME.HOURS},set:function(a){this._milliseconds=a*f.TIME.HOURS}}]),a}();b.default=g,g.Empty=new g(0),g.Temp=new g},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0});var f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=c(52),h=d(g),i=c(12),j=d(i),k=c(21),l=d(k),m=c(62),n=d(m),o=c(121),p=d(o),q=function(){function a(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];e(this,a),this._position=new j.default(b,c),this._points=d.map(function(a){return a.clone()})}return f(a,[{key:"setPosition",value:function(a,b){return this._position.set(a,b),this}},{key:"setPoints",value:function(a){for(var b=this._points,c=b.length,d=c-a.length,e=0;e<c;e++)b[e].copy(a[e]);if(d>0){var f=!0,g=!1,h=void 0;try{for(var i,j=b.splice(a.length,d)[Symbol.iterator]();!(f=(i=j.next()).done);f=!0){i.value.destroy()}}catch(a){g=!0,h=a}finally{try{!f&&j.return&&j.return()}finally{if(g)throw h}}}else if(d<0)for(var k=c;k<a.length;k++)b.push(a[k].clone())}},{key:"set",value:function(a,b,c){return this._position.set(a,b),this.setPoints(c),this}},{key:"copy",value:function(a){return this._position.copy(a.position),this.setPoints(a.points),this}},{key:"clone",value:function(){return new a(this.x,this.y,this.points)}},{key:"equals",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},b=a.x,c=a.y,d=a.points;return(void 0===b||this.x===b)&&(void 0===c||this.y===c)&&(void 0===d||this.points.length===d.length&&this.points.every(function(a,b){return a.equals(d[b])}))}},{key:"getBounds",value:function(){var a=1/0,b=1/0,c=-1/0,d=-1/0,e=!0,f=!1,g=void 0;try{for(var h,i=this._points[Symbol.iterator]();!(e=(h=i.next()).done);e=!0){var j=h.value;a=Math.min(j.x,a),b=Math.min(j.y,b),c=Math.max(j.x,c),d=Math.max(j.y,d)}}catch(a){f=!0,g=a}finally{try{!e&&i.return&&i.return()}finally{if(f)throw g}}return new l.default(this.x+a,this.y+b,c-a,d-b)}},{key:"getNormals",value:function(){for(var a=[],b=this._points.length,c=0;c<b;c++){var d=this._points[c],e=this._points[(c+1)%b];a.push(e.clone().subtract(d.x,d.y).perp().normalize())}return a}},{key:"project",value:function(a){for(var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new h.default,c=this._points,d=c.length,e=c[0],f=e.x,g=e.y,i=a.dot(f,g),j=i,k=1;k<d;k++){var l=c[k],m=l.x,n=l.y,o=a.dot(m,n);i=Math.min(i,o),j=Math.max(j,o)}return b.set(i,j)}},{key:"contains",value:function(a,b,c){for(var d=this._points,e=d.length,f=!1,g=0,h=e-1;g<e;h=g++){var i=d[g],j=d[h],k=i.x,l=i.y,m=j.x,n=j.y;c&&(k=i.x*c.a+i.y*c.b+c.x,l=i.x*c.c+i.y*c.d+c.y,m=j.x*c.a+j.y*c.b+c.x,n=j.x*c.c+j.y*c.d+c.y),(l<=b&&b<n||n<=b&&b<l)&&a<(m-k)/(n-l)*(b-l)+k&&(f=!f)}return f}},{key:"intersets",value:function(b){return b instanceof a?n.default.intersectionSAT(this,b):b instanceof l.default?n.default.intersectionSAT(this,b):b instanceof p.default&&n.default.intersectionPolyCircle(this,b)}},{key:"getCollision",value:function(b){return b instanceof a?n.default.collisionSAT(this,b):b instanceof l.default?n.default.collisionSAT(this,b):b instanceof p.default?n.default.collisionPolyCircle(this,b):null}},{key:"destroy",value:function(){var a=!0,b=!1,c=void 0;try{for(var d,e=this._points[Symbol.iterator]();!(a=(d=e.next()).done);a=!0){d.value.destroy()}}catch(a){b=!0,c=a}finally{try{!a&&e.return&&e.return()}finally{if(b)throw c}}this._position.destroy(),this._position=null,this._points.length=0,this._points=null}},{key:"position",get:function(){return this._position},set:function(a){this._position.copy(a)}},{key:"x",get:function(){return this._position.x},set:function(a){this._position.x=a}},{key:"y",get:function(){return this._position.y},set:function(a){this._position.y=a}},{key:"points",get:function(){return this._points},set:function(a){this.setPoints(a)}}]),a}();b.default=q,q.Empty=new q(0,0,[]),q.Temp=new q},function(a,b,c){"use strict";function d(a){return function(){var b=a.apply(this,arguments);return new Promise(function(a,c){function d(e,f){try{var g=b[e](f),h=g.value}catch(a){return void c(a)}if(!g.done)return Promise.resolve(h).then(function(a){d("next",a)},function(a){d("throw",a)});a(h)}return d("next")})}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0});var f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=function(){function a(){e(this,a)}return f(a,[{key:"request",value:function(){function a(a,c){return b.apply(this,arguments)}var b=d(regeneratorRuntime.mark(function a(b,c){return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,fetch(b,c);case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}},a,this)}));return a}()},{key:"process",value:function(){function a(a){return b.apply(this,arguments)}var b=d(regeneratorRuntime.mark(function a(b){return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",null);case 1:case"end":return a.stop()}},a,this)}));return a}()},{key:"create",value:function(){function a(a,c){return b.apply(this,arguments)}var b=d(regeneratorRuntime.mark(function a(b,c){return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",b);case 1:case"end":return a.stop()}},a,this)}));return a}()},{key:"destroy",value:function(){}},{key:"storageType",get:function(){return"resource"}}]),a}();b.default=g},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;if(void 0!==g)return g.call(d)},j=c(130),k=d(j),l=c(21),m=d(l),n=c(12),o=d(n),p=c(52),q=d(p),r=function(a){function b(a){e(this,b);var c=f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this));return c._texture=null,c._textureFrame=new m.default,c._spriteData=new ArrayBuffer(48),c._vertexData=new Float32Array(c._spriteData,0,8),c._texCoordData=new Uint32Array(c._spriteData,32,4),c._updateTexCoords=!0,a&&c.setTexture(a),c}return g(b,a),h(b,[{key:"setTexture",value:function(a){return this._texture!==a&&(this._texture=a,this.updateTexture()),this}},{key:"updateTexture",value:function(){return this._texture&&(this._texture.updateSource(),this.resetTextureFrame()),this}},{key:"setTextureFrame",value:function(a){var b=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],c=this.width,d=this.height;return this._textureFrame.copy(a),this._updateTexCoords=!0,this.localBounds.set(0,0,a.width,a.height),b?(this.width=a.width,this.height=a.height):(this.width=c,this.height=d),this}},{key:"resetTextureFrame",value:function(){return this.setTextureFrame(m.default.Temp.set(0,0,this._texture.width,this._texture.height))}},{key:"render",value:function(a){if(this.visible&&a.insideViewport(this)){var b=a.getRenderer("sprite");a.setRenderer(b),b.render(this);var c=!0,d=!1,e=void 0;try{for(var f,g=this.children[Symbol.iterator]();!(c=(f=g.next()).done);c=!0){f.value.render(a)}}catch(a){d=!0,e=a}finally{try{!c&&g.return&&g.return()}finally{if(d)throw e}}}return this}},{key:"getVertices",value:function(){var a=this.vertexData;return[new o.default(a[0],a[1]),new o.default(a[2],a[3]),new o.default(a[6],a[7]),new o.default(a[4],a[5])]}},{key:"getNormals",value:function(){for(var a=this.getVertices(),b=a.length,c=[],d=0;d<b;d++){var e=a[d],f=a[(d+1)%b];c.push(f.clone().subtract(e.x,e.y).perp().normalize())}return c}},{key:"project",value:function(a){for(var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new q.default,c=this.getVertices(),d=c.length,e=c[0],f=e.x,g=e.y,h=a.dot(f,g),i=h,j=1;j<d;j++){var k=c[j],l=k.x,m=k.y,n=a.dot(l,m);h=Math.min(h,n),i=Math.max(i,n)}return b.set(h,i)}},{key:"contains",value:function(a,b){if(this.rotation%90==0)return this.getBounds().contains(a,b);var c=this.getVertices(),d=c[0],e=d.x,f=d.y,g=c[1],h=g.x,i=g.y,j=c[2],k=j.x,l=j.y,m=o.default.Temp,n=m.set(h-e,i-f),p=n.dot(a-e,b-f),q=n.dot(n.x,n.y),r=m.set(k-h,l-i),s=r.dot(a-h,b-i),t=r.dot(r.x,r.y);return p>0&&p<=q&&s>0&&s<=t}},{key:"destroy",value:function(){i(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this),this._textureFrame.destroy(),this._textureFrame=null,this._texture=null,this._spriteData=null,this._vertexData=null,this._texCoordData=null,this._updateTexCoords=null}},{key:"texture",get:function(){return this._texture},set:function(a){this.setTexture(a)}},{key:"textureFrame",get:function(){return this._textureFrame},set:function(a){this.setTextureFrame(a)}},{key:"vertexData",get:function(){var a=this.getLocalBounds(),b=a.left,c=a.top,d=a.right,e=a.bottom,f=this.getGlobalTransform(),g=f.a,h=f.b,i=f.c,j=f.d,k=f.x,l=f.y;return this._vertexData[0]=b*g+c*h+k,this._vertexData[1]=b*i+c*j+l,this._vertexData[2]=d*g+c*h+k,this._vertexData[3]=d*i+c*j+l,this._vertexData[4]=d*g+e*h+k,this._vertexData[5]=d*i+e*j+l,this._vertexData[6]=b*g+e*h+k,this._vertexData[7]=b*i+e*j+l,this._vertexData}},{key:"texCoordData",get:function(){if(this._updateTexCoords){var a=this._texture,b=a.width,c=a.height,d=this._textureFrame,e=d.left,f=d.top,g=d.right,h=d.bottom,i=e/b*65535&65535,j=(f/c*65535&65535)<<16,k=g/b*65535&65535,l=(h/c*65535&65535)<<16;this._texture.flipY?(this._texCoordData[0]=l|i,this._texCoordData[1]=l|k,this._texCoordData[2]=j|k,this._texCoordData[3]=j|i):(this._texCoordData[0]=j|i,this._texCoordData[1]=j|k,this._texCoordData[2]=l|k,this._texCoordData[3]=l|i),this._updateTexCoords=!1}return this._texCoordData}},{key:"width",get:function(){return Math.abs(this.scale.x)*this._textureFrame.width},set:function(a){this.scale.x=a/this._textureFrame.width}},{key:"height",get:function(){return Math.abs(this.scale.y)*this._textureFrame.height},set:function(a){this.scale.y=a/this._textureFrame.height}}]),b}(k.default);b.default=r},function(a,b){var c;c=function(){return this}();try{c=c||Function("return this")()||(0,eval)("this")}catch(a){"object"==typeof window&&(c=window)}a.exports=c},function(a,b,c){var d=c(4),e=c(2).document,f=d(e)&&d(e.createElement);a.exports=function(a){return f?e.createElement(a):{}}},function(a,b,c){var d=c(2),e=c(26),f=c(43),g=c(133),h=c(7).f;a.exports=function(a){var b=e.Symbol||(e.Symbol=f?{}:d.Symbol||{});"_"==a.charAt(0)||a in b||h(b,a,{value:g.f(a)})}},function(a,b,c){var d=c(68)("keys"),e=c(42);a.exports=function(a){return d[a]||(d[a]=e(a))}},function(a,b){a.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(a,b,c){var d=c(2).document;a.exports=d&&d.documentElement},function(a,b,c){var d=c(4),e=c(1),f=function(a,b){if(e(a),!d(b)&&null!==b)throw TypeError(b+": can't set as prototype!")};a.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(a,b,d){try{d=c(22)(Function.call,c(19).f(Object.prototype,"__proto__").set,2),d(a,[]),b=!(a instanceof Array)}catch(a){b=!0}return function(a,c){return f(a,c),b?a.__proto__=c:d(a,c),a}}({},!1):void 0),check:f}},function(a,b){a.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},function(a,b,c){var d=c(4),e=c(92).set;a.exports=function(a,b,c){var f,g=b.constructor;return g!==c&&"function"==typeof g&&(f=g.prototype)!==c.prototype&&d(f)&&e&&e(a,f),a}},function(a,b,c){"use strict";var d=c(29),e=c(28);a.exports=function(a){var b=String(e(this)),c="",f=d(a);if(f<0||f==1/0)throw RangeError("Count can't be negative");for(;f>0;(f>>>=1)&&(b+=b))1&f&&(c+=b);return c}},function(a,b){a.exports=Math.sign||function(a){return 0==(a=+a)||a!=a?a:a<0?-1:1}},function(a,b){var c=Math.expm1;a.exports=!c||c(10)>22025.465794806718||c(10)<22025.465794806718||-2e-17!=c(-2e-17)?function(a){return 0==(a=+a)?a:a>-1e-6&&a<1e-6?a+a*a/2:Math.exp(a)-1}:c},function(a,b,c){var d=c(29),e=c(28);a.exports=function(a){return function(b,c){var f,g,h=String(e(b)),i=d(c),j=h.length;return i<0||i>=j?a?"":void 0:(f=h.charCodeAt(i),f<55296||f>56319||i+1===j||(g=h.charCodeAt(i+1))<56320||g>57343?a?h.charAt(i):f:a?h.slice(i,i+2):g-56320+(f-55296<<10)+65536)}}},function(a,b,c){"use strict";var d=c(43),e=c(0),f=c(16),g=c(15),h=c(14),i=c(55),j=c(100),k=c(53),l=c(20),m=c(5)("iterator"),n=!([].keys&&"next"in[].keys()),o="keys",p="values",q=function(){return this};a.exports=function(a,b,c,r,s,t,u){j(c,b,r);var v,w,x,y=function(a){if(!n&&a in C)return C[a];switch(a){case o:case p:return function(){return new c(this,a)}}return function(){return new c(this,a)}},z=b+" Iterator",A=s==p,B=!1,C=a.prototype,D=C[m]||C["@@iterator"]||s&&C[s],E=!n&&D||y(s),F=s?A?y("entries"):E:void 0,G="Array"==b?C.entries||D:D;if(G&&(x=l(G.call(new a)))!==Object.prototype&&x.next&&(k(x,z,!0),d||h(x,m)||g(x,m,q)),A&&D&&D.name!==p&&(B=!0,E=function(){return D.call(this)}),d&&!u||!n&&!B&&C[m]||g(C,m,E),i[b]=E,i[z]=q,s)if(v={values:A?E:y(p),keys:t?E:y(o),entries:F},u)for(w in v)w in C||f(C,w,v[w]);else e(e.P+e.F*(n||B),b,v);return v}},function(a,b,c){"use strict";var d=c(46),e=c(41),f=c(53),g={};c(15)(g,c(5)("iterator"),function(){return this}),a.exports=function(a,b,c){a.prototype=d(g,{next:e(1,c)}),f(a,b+" Iterator")}},function(a,b,c){var d=c(72),e=c(28);a.exports=function(a,b,c){if(d(b))throw TypeError("String#"+c+" doesn't accept regex!");return String(e(a))}},function(a,b,c){var d=c(5)("match");a.exports=function(a){var b=/./;try{"/./"[a](b)}catch(c){try{return b[d]=!1,!"/./"[a](b)}catch(a){}}return!0}},function(a,b,c){var d=c(55),e=c(5)("iterator"),f=Array.prototype;a.exports=function(a){return void 0!==a&&(d.Array===a||f[e]===a)}},function(a,b,c){"use strict";var d=c(7),e=c(41);a.exports=function(a,b,c){b in a?d.f(a,b,e(0,c)):a[b]=c}},function(a,b,c){var d=c(61),e=c(5)("iterator"),f=c(55);a.exports=c(26).getIteratorMethod=function(a){if(void 0!=a)return a[e]||a["@@iterator"]||f[d(a)]}},function(a,b,c){var d=c(295);a.exports=function(a,b){return new(d(a))(b)}},function(a,b,c){"use strict";var d=c(9),e=c(45),f=c(8);a.exports=function(a){for(var b=d(this),c=f(b.length),g=arguments.length,h=e(g>1?arguments[1]:void 0,c),i=g>2?arguments[2]:void 0,j=void 0===i?c:e(i,c);j>h;)b[h++]=a;return b}},function(a,b,c){"use strict";var d=c(37),e=c(149),f=c(55),g=c(18);a.exports=c(99)(Array,"Array",function(a,b){this._t=g(a),this._i=0,this._k=b},function(){var a=this._t,b=this._k,c=this._i++;return!a||c>=a.length?(this._t=void 0,e(1)):"keys"==b?e(0,c):"values"==b?e(0,a[c]):e(0,[c,a[c]])},"values"),f.Arguments=f.Array,d("keys"),d("values"),d("entries")},function(a,b,c){var d,e,f,g=c(22),h=c(139),i=c(91),j=c(87),k=c(2),l=k.process,m=k.setImmediate,n=k.clearImmediate,o=k.MessageChannel,p=k.Dispatch,q=0,r={},s="onreadystatechange",t=function(){var a=+this;if(r.hasOwnProperty(a)){var b=r[a];delete r[a],b()}},u=function(a){t.call(a.data)};m&&n||(m=function(a){for(var b=[],c=1;arguments.length>c;)b.push(arguments[c++]);return r[++q]=function(){h("function"==typeof a?a:Function(a),b)},d(q),q},n=function(a){delete r[a]},"process"==c(23)(l)?d=function(a){l.nextTick(g(t,a,1))}:p&&p.now?d=function(a){p.now(g(t,a,1))}:o?(e=new o,f=e.port2,e.port1.onmessage=u,d=g(f.postMessage,f,1)):k.addEventListener&&"function"==typeof postMessage&&!k.importScripts?(d=function(a){k.postMessage(a+"","*")},k.addEventListener("message",u,!1)):d=s in j("script")?function(a){i.appendChild(j("script"))[s]=function(){i.removeChild(this),t.call(a)}}:function(a){setTimeout(g(t,a,1),0)}),a.exports={set:m,clear:n}},function(a,b,c){var d=c(2),e=c(109).set,f=d.MutationObserver||d.WebKitMutationObserver,g=d.process,h=d.Promise,i="process"==c(23)(g);a.exports=function(){var a,b,c,j=function(){var d,e;for(i&&(d=g.domain)&&d.exit();a;){e=a.fn,a=a.next;try{e()}catch(d){throw a?c():b=void 0,d}}b=void 0,d&&d.enter()};if(i)c=function(){g.nextTick(j)};else if(!f||d.navigator&&d.navigator.standalone)if(h&&h.resolve){var k=h.resolve();c=function(){k.then(j)}}else c=function(){e.call(d,j)};else{var l=!0,m=document.createTextNode("");new f(j).observe(m,{characterData:!0}),c=function(){m.data=l=!l}}return function(d){var e={fn:d,next:void 0};b&&(b.next=e),a||(a=e,c()),b=e}}},function(a,b,c){"use strict";function d(a){var b,c;this.promise=new a(function(a,d){if(void 0!==b||void 0!==c)throw TypeError("Bad Promise constructor");b=a,c=d}),this.resolve=e(b),this.reject=e(c)}var e=c(10);a.exports.f=function(a){return new d(a)}},function(a,b,c){"use strict";function d(a,b,c){var d,e,f,g=new Array(c),h=8*c-b-1,i=(1<<h)-1,j=i>>1,k=23===b?O(2,-24)-O(2,-77):0,l=0,m=a<0||0===a&&1/a<0?1:0;for(a=N(a),a!=a||a===L?(e=a!=a?1:0,d=i):(d=P(Q(a)/R),a*(f=O(2,-d))<1&&(d--,f*=2),a+=d+j>=1?k/f:k*O(2,1-j),a*f>=2&&(d++,f/=2),d+j>=i?(e=0,d=i):d+j>=1?(e=(a*f-1)*O(2,b),d+=j):(e=a*O(2,j-1)*O(2,b),d=0));b>=8;g[l++]=255&e,e/=256,b-=8);for(d=d<<b|e,h+=b;h>0;g[l++]=255&d,d/=256,h-=8);return g[--l]|=128*m,g}function e(a,b,c){var d,e=8*c-b-1,f=(1<<e)-1,g=f>>1,h=e-7,i=c-1,j=a[i--],k=127&j;for(j>>=7;h>0;k=256*k+a[i],i--,h-=8);for(d=k&(1<<-h)-1,k>>=-h,h+=b;h>0;d=256*d+a[i],i--,h-=8);if(0===k)k=1-g;else{if(k===f)return d?NaN:j?-L:L;d+=O(2,b),k-=g}return(j?-1:1)*d*O(2,k-b)}function f(a){return a[3]<<24|a[2]<<16|a[1]<<8|a[0]}function g(a){return[255&a]}function h(a){return[255&a,a>>8&255]}function i(a){return[255&a,a>>8&255,a>>16&255,a>>24&255]}function j(a){return d(a,52,8)}function k(a){return d(a,23,4)}function l(a,b,c){A(a[F],b,{get:function(){return this[c]}})}function m(a,b,c,d){var e=+c,f=y(e);if(f+b>a[W])throw K(G);var g=a[V]._b,h=f+a[X],i=g.slice(h,h+b);return d?i:i.reverse()}function n(a,b,c,d,e,f){var g=+c,h=y(g);if(h+b>a[W])throw K(G);for(var i=a[V]._b,j=h+a[X],k=d(+e),l=0;l<b;l++)i[j+l]=k[f?l:b-l-1]}var o=c(2),p=c(6),q=c(43),r=c(78),s=c(15),t=c(51),u=c(3),v=c(49),w=c(29),x=c(8),y=c(158),z=c(47).f,A=c(7).f,B=c(107),C=c(53),D="ArrayBuffer",E="DataView",F="prototype",G="Wrong index!",H=o[D],I=o[E],J=o.Math,K=o.RangeError,L=o.Infinity,M=H,N=J.abs,O=J.pow,P=J.floor,Q=J.log,R=J.LN2,S="buffer",T="byteLength",U="byteOffset",V=p?"_b":S,W=p?"_l":T,X=p?"_o":U;if(r.ABV){if(!u(function(){H(1)})||!u(function(){new H(-1)})||u(function(){return new H,new H(1.5),new H(NaN),H.name!=D})){H=function(a){return v(this,H),new M(y(a))};for(var Y,Z=H[F]=M[F],$=z(M),_=0;$.length>_;)(Y=$[_++])in H||s(H,Y,M[Y]);q||(Z.constructor=H)}var aa=new I(new H(2)),ba=I[F].setInt8;aa.setInt8(0,2147483648),aa.setInt8(1,2147483649),!aa.getInt8(0)&&aa.getInt8(1)||t(I[F],{setInt8:function(a,b){ba.call(this,a,b<<24>>24)},setUint8:function(a,b){ba.call(this,a,b<<24>>24)}},!0)}else H=function(a){v(this,H,D);var b=y(a);this._b=B.call(new Array(b),0),this[W]=b},I=function(a,b,c){v(this,I,E),v(a,H,E);var d=a[W],e=w(b);if(e<0||e>d)throw K("Wrong offset!");if(c=void 0===c?d-e:x(c),e+c>d)throw K("Wrong length!");this[V]=a,this[X]=e,this[W]=c},p&&(l(H,T,"_l"),l(I,S,"_b"),l(I,T,"_l"),l(I,U,"_o")),t(I[F],{getInt8:function(a){return m(this,1,a)[0]<<24>>24},getUint8:function(a){return m(this,1,a)[0]},getInt16:function(a){var b=m(this,2,a,arguments[1]);return(b[1]<<8|b[0])<<16>>16},getUint16:function(a){var b=m(this,2,a,arguments[1]);return b[1]<<8|b[0]},getInt32:function(a){return f(m(this,4,a,arguments[1]))},getUint32:function(a){return f(m(this,4,a,arguments[1]))>>>0},getFloat32:function(a){return e(m(this,4,a,arguments[1]),23,4)},getFloat64:function(a){return e(m(this,8,a,arguments[1]),52,8)},setInt8:function(a,b){n(this,1,a,g,b)},setUint8:function(a,b){n(this,1,a,g,b)},setInt16:function(a,b){n(this,2,a,h,b,arguments[2])},setUint16:function(a,b){n(this,2,a,h,b,arguments[2])},setInt32:function(a,b){n(this,4,a,i,b,arguments[2])},setUint32:function(a,b){n(this,4,a,i,b,arguments[2])},setFloat32:function(a,b){n(this,4,a,k,b,arguments[2])},setFloat64:function(a,b){n(this,8,a,j,b,arguments[2])}});C(H,D),C(I,E),s(I[F],r.VIEW,!0),b[D]=H,b[E]=I},function(a,b,c){var d=c(2),e=d.navigator;a.exports=e&&e.userAgent||""},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});b.TAU=2*Math.PI,b.RAD_PER_DEG=Math.PI/180,b.DEG_PER_RAD=180/Math.PI,b.VORONOI_REGION={LEFT:-1,MIDDLE:0,RIGHT:1}},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=b.CHANNEL_OFFSET={KEYBOARD:0,POINTERS:256,GAMEPADS:512};b.CHANNEL_RANGE={GAMEPAD:32,CATEGORY:256,OVERALL:768},b.KEYBOARD={Backspace:d.KEYBOARD+8,Tab:d.KEYBOARD+9,Clear:d.KEYBOARD+12,Enter:d.KEYBOARD+13,Shift:d.KEYBOARD+16,Control:d.KEYBOARD+17,Alt:d.KEYBOARD+18,Pause:d.KEYBOARD+19,CapsLock:d.KEYBOARD+20,Escape:d.KEYBOARD+27,Space:d.KEYBOARD+32,PageUp:d.KEYBOARD+33,PageDown:d.KEYBOARD+34,End:d.KEYBOARD+35,Home:d.KEYBOARD+36,Left:d.KEYBOARD+37,Up:d.KEYBOARD+38,Right:d.KEYBOARD+39,Down:d.KEYBOARD+40,Insert:d.KEYBOARD+45,Delete:d.KEYBOARD+46,Help:d.KEYBOARD+47,Zero:d.KEYBOARD+48,One:d.KEYBOARD+49,Two:d.KEYBOARD+50,Three:d.KEYBOARD+51,Four:d.KEYBOARD+52,Five:d.KEYBOARD+53,Six:d.KEYBOARD+54,Seven:d.KEYBOARD+55,Eight:d.KEYBOARD+56,Nine:d.KEYBOARD+57,A:d.KEYBOARD+65,B:d.KEYBOARD+66,C:d.KEYBOARD+67,D:d.KEYBOARD+68,E:d.KEYBOARD+69,F:d.KEYBOARD+70,G:d.KEYBOARD+71,H:d.KEYBOARD+72,I:d.KEYBOARD+73,J:d.KEYBOARD+74,K:d.KEYBOARD+75,L:d.KEYBOARD+76,M:d.KEYBOARD+77,N:d.KEYBOARD+78,O:d.KEYBOARD+79,P:d.KEYBOARD+80,Q:d.KEYBOARD+81,R:d.KEYBOARD+82,S:d.KEYBOARD+83,T:d.KEYBOARD+84,U:d.KEYBOARD+85,V:d.KEYBOARD+86,W:d.KEYBOARD+87,X:d.KEYBOARD+88,Y:d.KEYBOARD+89,Z:d.KEYBOARD+90,NumPad0:d.KEYBOARD+96,NumPad1:d.KEYBOARD+97,NumPad2:d.KEYBOARD+98,NumPad3:d.KEYBOARD+99,NumPad4:d.KEYBOARD+100,NumPad5:d.KEYBOARD+101,NumPad6:d.KEYBOARD+102,NumPad7:d.KEYBOARD+103,NumPad8:d.KEYBOARD+104,NumPad9:d.KEYBOARD+105,NumPadMultiply:d.KEYBOARD+106,NumPadAdd:d.KEYBOARD+107,NumPadEnter:d.KEYBOARD+108,NumPadSubtract:d.KEYBOARD+109,NumPadDecimal:d.KEYBOARD+110,NumPadDivide:d.KEYBOARD+111,F1:d.KEYBOARD+112,F2:d.KEYBOARD+113,F3:d.KEYBOARD+114,F4:d.KEYBOARD+115,F5:d.KEYBOARD+116,F6:d.KEYBOARD+117,F7:d.KEYBOARD+118,F8:d.KEYBOARD+119,F9:d.KEYBOARD+120,F10:d.KEYBOARD+121,F11:d.KEYBOARD+122,F12:d.KEYBOARD+123,NumLock:d.KEYBOARD+144,ScrollLock:d.KEYBOARD+145,Colon:d.KEYBOARD+186,Equals:d.KEYBOARD+187,Comma:d.KEYBOARD+188,Dash:d.KEYBOARD+189,Period:d.KEYBOARD+190,QuestionMark:d.KEYBOARD+191,Tilde:d.KEYBOARD+192,OpenBracket:d.KEYBOARD+219,BackwardSlash:d.KEYBOARD+220,ClosedBracket:d.KEYBOARD+221,Quotes:d.KEYBOARD+222},b.GAMEPAD={FaceBottom:d.GAMEPADS+0,FaceLeft:d.GAMEPADS+1,FaceRight:d.GAMEPADS+2,FaceTop:d.GAMEPADS+3,ShoulderLeftBottom:d.GAMEPADS+4,ShoulderRightBottom:d.GAMEPADS+5,ShoulderLeftTop:d.GAMEPADS+6,ShoulderRightTop:d.GAMEPADS+7,Select:d.GAMEPADS+8,Start:d.GAMEPADS+9,LeftStick:d.GAMEPADS+10,RightStick:d.GAMEPADS+11,DPadUp:d.GAMEPADS+12,DPadDown:d.GAMEPADS+13,DPadLeft:d.GAMEPADS+14,DPadRight:d.GAMEPADS+15,Home:d.GAMEPADS+16,LeftStickLeft:d.GAMEPADS+17,LeftStickRight:d.GAMEPADS+18,LeftStickUp:d.GAMEPADS+19,LeftStickDown:d.GAMEPADS+20,RightStickLeft:d.GAMEPADS+21,RightStickRight:d.GAMEPADS+22,RightStickUp:d.GAMEPADS+23,RightStickDown:d.GAMEPADS+24}},function(a,b,c){"use strict";function d(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}return Array.from(a)}Object.defineProperty(b,"__esModule",{value:!0});var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},f=[{mimeType:"image/x-icon",pattern:[0,0,1,0],
mask:[255,255,255,255]},{mimeType:"image/x-icon",pattern:[0,0,2,0],mask:[255,255,255,255]},{mimeType:"image/bmp",pattern:[66,77],mask:[255,255]},{mimeType:"image/gif",pattern:[71,73,70,56,55,97],mask:[255,255,255,255,255,255]},{mimeType:"image/gif",pattern:[71,73,70,56,57,97],mask:[255,255,255,255,255,255]},{mimeType:"image/webp",pattern:[82,73,70,70,0,0,0,0,87,69,66,80,86,80],mask:[255,255,255,255,0,0,0,0,255,255,255,255,255,255]},{mimeType:"image/png",pattern:[137,80,78,71,13,10,26,10],mask:[255,255,255,255,255,255,255,255]},{mimeType:"image/jpeg",pattern:[255,216,255],mask:[255,255,255]},{mimeType:"audio/basic",pattern:[46,115,110,100],mask:[255,255,255,255]},{mimeType:"audio/mpeg",pattern:[73,68,51],mask:[255,255,255]},{mimeType:"audio/wave",pattern:[82,73,70,70,0,0,0,0,87,65,86,69],mask:[255,255,255,255,0,0,0,0,255,255,255,255]},{mimeType:"audio/midi",pattern:[77,84,104,100,0,0,0,6],mask:[255,255,255,255,255,255,255,255]},{mimeType:"audio/aiff",pattern:[70,79,82,77,0,0,0,0,65,73,70,70],mask:[255,255,255,255,0,0,0,0,255,255,255,255]},{mimeType:"video/avi",pattern:[82,73,70,70,0,0,0,0,65,86,73,32],mask:[255,255,255,255,0,0,0,0,255,255,255,255]},{mimeType:"application/ogg",pattern:[79,103,103,83,0],mask:[255,255,255,255,255]}],g=function(a){var b=new Uint8Array(a),c=new DataView(a),e=c.getUint32(0,!1);return!(b.length<Math.max(12,e)||e%4!=0)&&"ftypmp4"===String.fromCharCode.apply(String,d(b.subarray(4,11)))},h=function(a){var b=new Uint8Array(a),c=[26,69,223,163].every(function(a,c){return a===b[c]}),e=b.subarray(4,4100),f=e.findIndex(function(a,b,c){return 66===c[b]&&130===c[b+1]});return!(!c||-1===f)&&"webm"===String.fromCharCode.apply(String,d(e.subarray(f+3,f+7)))},i=function(a){var b=new Uint8Array(a);if(!b.length)throw new Error("Cannot determine mime type: No data.");var c=function(a){return b.length<a.pattern.length?"continue":a.pattern.every(function(c,d){return(b[d]&a.mask[d])===c})?{v:a.mimeType}:void 0},d=!0,i=!1,j=void 0;try{for(var k,l=f[Symbol.iterator]();!(d=(k=l.next()).done);d=!0){var m=k.value,n=c(m);switch(n){case"continue":continue;default:if("object"===(void 0===n?"undefined":e(n)))return n.v}}}catch(a){i=!0,j=a}finally{try{!d&&l.return&&l.return()}finally{if(i)throw j}}return g(a)?"video/mp4":h(a)?"video/webm":"text/plain"};b.determineMimeType=i},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=function(a,b,c){if(!(b>=a.length||c<=0)){for(var d=a.length,e=b+c>d?d-b:c,f=d-e,g=b;g<f;g++)a[g]=a[g+e];a.length=f}};b.removeArrayItems=d},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0});var f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=c(34),h=c(82),i=d(h),j=function(){function a(){var b=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e(this,a),this._startTime=0,this._timeBuffer=0,this._running=!1,this._time=new i.default,b&&this.start()}return f(a,[{key:"start",value:function(){return this._running||(this._startTime=Date.now(),this._running=!0),this}},{key:"stop",value:function(){return this._running&&(this._timeBuffer+=Date.now()-this._startTime,this._running=!1),this}},{key:"reset",value:function(){return this._timeBuffer=0,this._running=!1,this}},{key:"restart",value:function(){return this.reset(),this.start(),this}},{key:"destroy",value:function(){this._startTime=null,this._timeBuffer=null,this._running=null,this._time.destroy(),this._time=null}},{key:"running",get:function(){return this._running}},{key:"time",get:function(){return this._time}},{key:"elapsedTime",get:function(){return this._time.setMilliseconds(this.elapsedMilliseconds)}},{key:"elapsedMilliseconds",get:function(){return this._running?this._timeBuffer+(Date.now()-this._startTime):this._timeBuffer}},{key:"elapsedSeconds",get:function(){return this.elapsedMilliseconds/g.TIME.SECONDS}},{key:"elapsedMinutes",get:function(){return this.elapsedMilliseconds/g.TIME.MINUTES}},{key:"elapsedHours",get:function(){return this.elapsedMilliseconds/g.TIME.HOURS}}]),a}();b.default=j},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0});var f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=c(57),h=d(g),i=c(172),j=d(i),k=c(21),l=d(k),m=c(12),n=d(m),o=function(){function a(b,c){var d=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e(this,a),this._size=new h.default(b,c),this._root=d,this._context=null,this._framebuffer=null,this._viewport=new l.default,this._defaultView=new j.default(b/2,c/2,b,c),this._view=this._defaultView}return f(a,[{key:"connect",value:function(a){return this._context||(this._context=a,this._framebuffer=this._root?null:a.createFramebuffer()),this}},{key:"disconnect",value:function(){return this.unbindFramebuffer(),this._context&&(this._context.deleteFramebuffer(this._framebuffer),this._context=null,this._framebuffer=null),this}},{key:"bindFramebuffer",value:function(){if(!this._context)throw new Error("Texture has to be connected first!");var a=this._context;return a.bindFramebuffer(a.FRAMEBUFFER,this._framebuffer),this.updateViewport(),this}},{key:"unbindFramebuffer",value:function(){if(this._context){var a=this._context;a.bindFramebuffer(a.FRAMEBUFFER,null)}return this}},{key:"setView",value:function(a){return this._view=a||this._defaultView,this.updateViewport(),this}},{key:"resize",value:function(a,b){return this._size.equals({width:a,height:b})||(this._size.set(a,b),this.updateViewport()),this}},{key:"getViewport",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._view,b=a.viewport;return this._viewport.set(Math.round(b.x*this.width),Math.round(b.y*this.height),Math.round(b.width*this.width),Math.round(b.height*this.height))}},{key:"updateViewport",value:function(){if(this._context){var a=this._context,b=this.getViewport();a.viewport(b.x,b.y,b.width,b.height)}return this}},{key:"mapPixelToCoords",value:function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._view,c=this.getViewport(b);return new n.default(2*(a.x-c.left)/c.width-1,1-2*(a.y-c.top)/c.height).transform(b.getInverseTransform())}},{key:"mapCoordsToPixel",value:function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._view,c=this.getViewport(b),d=a.transform(b.getTransform(),new n.default);return d.set((d.x+1)/2*c.width+c.left|0,(1-d.y)/2*c.height+c.top|0)}},{key:"destroy",value:function(){this.disconnect(),this._defaultView.destroy(),this._defaultView=null,this._viewport.destroy(),this._viewport=null,this._size.destroy(),this._size=null,this._root=null,this._view=null}},{key:"view",get:function(){return this._view},set:function(a){this.setView(a)}},{key:"size",get:function(){return this._size},set:function(a){this.resize(a.width,a.height)}},{key:"width",get:function(){return this._size.width},set:function(a){this.resize(a,this.height)}},{key:"height",get:function(){return this._size.height},set:function(a){this.resize(this.width,a)}}]),a}();b.default=o},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;if(void 0!==g)return g.call(d)},j=c(12),k=d(j),l=function(a){function b(a,c){var d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,g=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;e(this,b);var h=f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,d,g));return h._callback=a,h._scope=c||h,h}return g(b,a),h(b,[{key:"set",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._x,b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._y;return this._x===a&&this._y===b||(this._x=a,this._y=b,this._callback.call(this._scope)),this}},{key:"add",value:function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a;return this.set(this._x+a,this._y+b)}},{key:"subtract",value:function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a;return this.set(this._x-a,this._y-b)}},{key:"scale",value:function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a;return this.set(this._x*a,this._y*b)}},{key:"divide",value:function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a;return this.set(this._x/a,this._y/b)}},{key:"normalize",value:function(){return this.divide(this.magnitude)}},{key:"copy",value:function(a){return this.set(a.x,a.y)}},{key:"clone",value:function(){return new b(this._callback,this._scope,this._x,this._y)}},{key:"destroy",value:function(){i(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this),this._callback=null,this._scope=null}},{key:"x",get:function(){return this._x},set:function(a){this._x!==a&&(this._x=a,this._callback.call(this._scope))}},{key:"y",get:function(){return this._y},set:function(a){this._y!==a&&(this._y=a,this._callback.call(this._scope))}}]),b}(k.default);b.default=l},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0});var f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=c(12),h=d(g),i=c(21),j=d(i),k=c(83),l=d(k),m=c(62),n=d(m),o=c(52),p=d(o),q=function(){function a(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;e(this,a),this._position=new h.default(b,c),this._radius=d}return f(a,[{key:"setPosition",value:function(a,b){return this._position.set(a,b),this}},{key:"setRadius",value:function(a){return this._radius=a,this}},{key:"set",value:function(a,b,c){return this._position.set(a,b),this._radius=c,this}},{key:"copy",value:function(a){return this._position.copy(a.position),this._radius=a.radius,this}},{key:"clone",value:function(){return new a(this.x,this.y,this.radius)}},{key:"equals",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},b=a.x,c=a.y,d=a.radius;return!(void 0!==b&&this.x!==b||void 0!==c&&this.y!==c||void 0!==d&&this.radius!==d)}},{key:"getBounds",value:function(){return new j.default(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)}},{key:"getNormals",value:function(){return[]}},{key:"project",value:function(a){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:new p.default).set(0,0)}},{key:"contains",value:function(a,b,c){var d=this._position;return c&&(d=d.transform(c,h.default.Temp)),d.distanceTo(a,b)<=this._radius}},{key:"intersets",value:function(b){return b instanceof a?n.default.intersectionCircleCircle(this,b):b instanceof j.default?n.default.intersectionCircleRect(this,b):b instanceof l.default&&n.default.intersectionPolyCircle(b,this)}},{key:"getCollision",value:function(b){return b instanceof a?n.default.collisionCircleCircle(this,b):b instanceof j.default?n.default.collisionCircleRect(this,b):b instanceof l.default?n.default.collisionPolyCircle(b,this,!0):null}},{key:"destroy",value:function(){this._position.destroy(),this._position=null,this._radius=null}},{key:"position",get:function(){return this._position},set:function(a){this._position.copy(a)}},{key:"x",get:function(){return this._position.x},set:function(a){this._position.x=a}},{key:"y",get:function(){return this._position.y},set:function(a){this._position.y=a}},{key:"radius",get:function(){return this._radius},set:function(a){this._radius=a}}]),a}();b.default=q,q.Empty=new q(0,0,0),q.Temp=new q},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0});var f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=c(21),h=d(g),i=c(63),j=(d(i),function(){function a(){e(this,a),this._minX=1/0,this._minY=1/0,this._maxX=-1/0,this._maxY=-1/0,this._rect=new h.default,this._dirty=!0}return f(a,[{key:"addCoords",value:function(a,b){return this._minX=Math.min(this._minX,a),this._minY=Math.min(this._minY,b),this._maxX=Math.max(this._maxX,a),this._maxY=Math.max(this._maxY,b),this._dirty=!0,this}},{key:"addRect",value:function(a,b){return b&&(a=a.transform(b,h.default.Temp)),this.addCoords(a.left,a.top).addCoords(a.right,a.bottom)}},{key:"getRect",value:function(){return this._dirty&&(this._rect.set(this._minX,this._minY,this._maxX-this._minX,this._maxY-this._minY),this._dirty=!1),this._rect}},{key:"reset",value:function(){return this._minX=1/0,this._minY=1/0,this._maxX=-1/0,this._maxY=-1/0,this._dirty=!0,this}},{key:"destroy",value:function(){this._rect.destroy(),this._rect=null,this._minX=null,this._minY=null,this._maxX=null,this._maxY=null,this._dirty=null}},{key:"minX",get:function(){return this._minX}},{key:"minY",get:function(){return this._minY}},{key:"maxX",get:function(){return this._maxX}},{key:"maxY",get:function(){return this._maxY}}]),a}());b.default=j},function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0});var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=function(){function a(){d(this,a)}return e(a,[{key:"connect",value:function(a){}},{key:"disconnect",value:function(){}},{key:"bind",value:function(){}},{key:"unbind",value:function(){}},{key:"render",value:function(a){}},{key:"flush",value:function(){}},{key:"destroy",value:function(){this._renderManager=null,this._context=null}}]),a}();b.default=f},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0});var f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=c(176),h=d(g),i=c(177),j=d(i),k=c(35),l=c(178),m=d(l),n=function(){function a(b,c){e(this,a),this._vertexSource=b,this._fragmentSource=c,this._context=null,this._vertexShader=null,this._fragmentShader=null,this._program=null,this._attributes={},this._uniforms={},this._blocks={}}return f(a,[{key:"createShader",value:function(a,b){var c=this._context,d=c.createShader(a);return c.shaderSource(d,b),c.compileShader(d),c.getShaderParameter(d,c.COMPILE_STATUS)?d:(console.log(c.getShaderInfoLog(d)),null)}},{key:"createProgram",value:function(a,b){var c=this._context,d=c.createProgram();return c.attachShader(d,a),c.attachShader(d,b),c.linkProgram(d),c.getProgramParameter(d,c.LINK_STATUS)?d:(c.detachShader(d,a),c.detachShader(d,b),c.deleteProgram(d),console.error("gl.VALIDATE_STATUS",c.getProgramParameter(d,c.VALIDATE_STATUS)),console.error("gl.getError()",c.getError()),c.getProgramInfoLog(d)&&console.warn("gl.getProgramInfoLog()",c.getProgramInfoLog(d)),null)}},{key:"connect",value:function(a){return this._context||(this._context=a,this._vertexShader=this.createShader(a.VERTEX_SHADER,this._vertexSource),this._fragmentShader=this.createShader(a.FRAGMENT_SHADER,this._fragmentSource),this._program=this.createProgram(this._vertexShader,this._fragmentShader),this._extractAttributes(),this._extractUniforms()),this}},{key:"disconnect",value:function(){if(this.unbindProgram(),this._context){var a=this._context;a.deleteShader(this._vertexShader),a.deleteShader(this._fragmentShader),a.deleteProgram(this._program);var b=!0,c=!1,d=void 0;try{for(var e,f=Object.keys(this._attributes)[Symbol.iterator]();!(b=(e=f.next()).done);b=!0){var g=e.value;this._attributes[g].destroy(),delete this._attributes[g]}}catch(a){c=!0,d=a}finally{try{!b&&f.return&&f.return()}finally{if(c)throw d}}var h=!0,i=!1,j=void 0;try{for(var k,l=Object.keys(this._uniforms)[Symbol.iterator]();!(h=(k=l.next()).done);h=!0){var m=k.value;this._uniforms[m].destroy(),delete this._uniforms[m]}}catch(a){i=!0,j=a}finally{try{!h&&l.return&&l.return()}finally{if(i)throw j}}var n=!0,o=!1,p=void 0;try{for(var q,r=Object.keys(this._blocks)[Symbol.iterator]();!(n=(q=r.next()).done);n=!0){var s=q.value;this._blocks[s].destroy(),delete this._blocks[s]}}catch(a){o=!0,p=a}finally{try{!n&&r.return&&r.return()}finally{if(o)throw p}}this._attributes=null,this._uniforms=null,this._blocks=null,this._vertexShader=null,this._fragmentShader=null,this._program=null,this._context=null}return this}},{key:"bindProgram",value:function(){if(!this._context)throw new Error("No context!");this._context.useProgram(this._program);var a=!0,b=!1,c=void 0;try{for(var d,e=Object.values(this._uniforms)[Symbol.iterator]();!(a=(d=e.next()).done);a=!0){var f=d.value;f.setValue(f.value)}}catch(a){b=!0,c=a}finally{try{!a&&e.return&&e.return()}finally{if(b)throw c}}var g=!0,h=!1,i=void 0;try{for(var j,k=Object.values(this._blocks)[Symbol.iterator]();!(g=(j=k.next()).done);g=!0){var l=j.value;l.setValue(l.value)}}catch(a){h=!0,i=a}finally{try{!g&&k.return&&k.return()}finally{if(h)throw i}}return this}},{key:"unbindProgram",value:function(){return this._context&&this._context.useProgram(null),this}},{key:"getUniform",value:function(a){if(!(a in this._uniforms))throw new Error('Uniform "'+a+'" is not available.');return this._uniforms[a]}},{key:"destroy",value:function(){this.disconnect(),this._vertexSource=null,this._fragmentSource=null,this._context=null}},{key:"_extractAttributes",value:function(){for(var a=this._context,b=this._program,c=a.getProgramParameter(b,a.ACTIVE_ATTRIBUTES),d=0;d<c;d++){var e=a.getActiveAttrib(b,d),f=e.name,g=e.type;this._attributes[f]=new h.default(Object.assign({},{name:f,type:g,size:k.TYPE_SIZES[g],location:a.getAttribLocation(b,f)}))}}},{key:"_extractUniforms",value:function(){var a=this._context,b=this._program,c=a.getProgramParameter(b,a.ACTIVE_UNIFORMS),d=new Uint8Array(c).map(function(a,b){return b}),e=a.getActiveUniforms(b,d,a.UNIFORM_BLOCK_INDEX),f=a.getActiveUniforms(b,d,a.UNIFORM_OFFSET),g={},h=!0,i=!1,k=void 0;try{for(var l,n=d[Symbol.iterator]();!(h=(l=n.next()).done);h=!0){var o=l.value,p=a.getActiveUniform(b,o),q=p.name,r=p.type,s=p.size,t=a.getUniformLocation(b,q),u=e[o],v=f[o],w=new j.default({context:a,index:o,name:q,type:r,size:s,location:t,block:u,offset:v});-1===u?this._uniforms[q]=w:(u in g||(g[u]=new m.default({context:a,index:u,name:a.getActiveUniformBlockName(b,u),size:a.getActiveUniformBlockParameter(b,u,a.UNIFORM_BLOCK_DATA_SIZE),usedByVertexShader:a.getActiveUniformBlockParameter(b,u,a.UNIFORM_BLOCK_REFERENCED_BY_VERTEX_SHADER),usedByFragmentShader:a.getActiveUniformBlockParameter(b,u,a.UNIFORM_BLOCK_REFERENCED_BY_FRAGMENT_SHADER)})),g[u].addUniform(w))}}catch(a){i=!0,k=a}finally{try{!h&&n.return&&n.return()}finally{if(i)throw k}}var x=!0,y=!1,z=void 0;try{for(var A,B=Object.values(g)[Symbol.iterator]();!(x=(A=B.next()).done);x=!0){var u=A.value,C=a.createBuffer();this._blocks[u.name]=u,a.bindBuffer(a.UNIFORM_BUFFER,C),a.bufferData(a.UNIFORM_BUFFER,new ArrayBuffer(u.size),a.STATIC_DRAW),a.bindBufferBase(a.UNIFORM_BUFFER,u.index,C)}}catch(a){y=!0,z=a}finally{try{!x&&B.return&&B.return()}finally{if(y)throw z}}}},{key:"attributes",get:function(){return this._attributes}},{key:"uniforms",get:function(){return this._uniforms}},{key:"blocks",get:function(){return this._blocks}}]),a}();b.default=n},function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0});var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=function(){function a(b){d(this,a),this._context=b,this._vao=b.createVertexArray(),this._attributes=[],this._indexBuffer=null,this._dirty=!1}return e(a,[{key:"bind",value:function(){return this._context.bindVertexArray(this._vao),this._dirty?(this._dirty=!1,this.activate(),this):(this._indexBuffer&&this._indexBuffer.bind(),this)}},{key:"unbind",value:function(){return this._context.bindVertexArray(null),this}},{key:"activate",value:function(){for(var a=this._context,b=null,c=0;c<this._attributes.length;c++){var d=this._attributes[c];b!==d.buffer&&(d.buffer.bind(),b=d.buffer),a.vertexAttribPointer(d.attribute.location,d.attribute.size,d.type||a.FLOAT,d.normalized||!1,d.stride||0,d.start||0),a.enableVertexAttribArray(d.attribute.location)}return this._indexBuffer&&this._indexBuffer.bind(),this}},{key:"addAttribute",value:function(a,b,c,d,e,f){return this._attributes.push({buffer:a,attribute:b,location:b.location,type:c||this._context.FLOAT,normalized:d||!1,stride:e||0,start:f||0}),this._dirty=!0,this}},{key:"addIndex",value:function(a){return this._indexBuffer=a,this._dirty=!0,this}},{key:"clear",value:function(){return this._context.bindVertexArray(this._vao),this._attributes.length=0,this._indexBuffer=null,this}},{key:"draw",value:function(a,b,c){var d=this._context;return this._indexBuffer?d.drawElements(a,b,d.UNSIGNED_SHORT,2*(c||0)):d.drawArrays(a,c,b),this}},{key:"destroy",value:function(){this._context.deleteVertexArray(this._vao),this._indexBuffer=null,this._attributes=null,this._vao=null,this._context=null}}]),a}();b.default=f},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){return function(){var b=a.apply(this,arguments);return new Promise(function(a,c){function d(e,f){try{var g=b[e](f),h=g.value}catch(a){return void c(a)}if(!g.done)return Promise.resolve(h).then(function(a){d("next",a)},function(a){d("throw",a)});a(h)}return d("next")})}}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function g(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function h(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var i=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),j=function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;if(void 0!==g)return g.call(d)},k=c(65),l=d(k),m=c(116),n=function(a){function b(){return f(this,b),g(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return h(b,a),i(b,[{key:"create",value:function(){function a(a){return c.apply(this,arguments)}var c=e(regeneratorRuntime.mark(function a(c){var d,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},f=e.mimeType,g=void 0===f?(0,m.determineMimeType)(c):f;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,j(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"create",this).call(this,c,null);case 2:return d=a.sent,a.abrupt("return",new Blob([d],{type:g}));case 4:case"end":return a.stop()}},a,this)}));return a}()},{key:"storageType",get:function(){return"blob"}}]),b}(l.default);b.default=n},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){return function(){var b=a.apply(this,arguments);return new Promise(function(a,c){function d(e,f){try{var g=b[e](f),h=g.value}catch(a){return void c(a)}if(!g.done)return Promise.resolve(h).then(function(a){d("next",a)},function(a){d("throw",a)});a(h)}return d("next")})}}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function g(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function h(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var i=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),j=function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;if(void 0!==g)return g.call(d)},k=c(126),l=d(k),m=function(a){function b(){f(this,b);var a=g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this));return a._objectURLs=new Set,a}return h(b,a),i(b,[{key:"create",value:function(){function a(a){return c.apply(this,arguments)}var c=e(regeneratorRuntime.mark(function a(c){var d,e,f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},g=f.mimeType;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,j(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"create",this).call(this,c,{mimeType:g});case 2:return d=a.sent,e=URL.createObjectURL(d),this._objectURLs.add(e),a.abrupt("return",new Promise(function(a,b){var c=new Image;c.addEventListener("load",function(){return a(c)}),c.addEventListener("error",function(){return b(Error("Error loading image source."))}),c.addEventListener("abort",function(){return b(Error("Image loading was canceled."))}),c.src=e}));case 6:case"end":return a.stop()}},a,this)}));return a}()},{key:"destroy",value:function(){var a=!0,b=!1,c=void 0;try{for(var d,e=this._objectURLs[Symbol.iterator]();!(a=(d=e.next()).done);a=!0){var f=d.value;URL.revokeObjectURL(f)}}catch(a){b=!0,c=a}finally{try{!a&&e.return&&e.return()}finally{if(b)throw c}}this._objectURLs.clear(),this._objectURLs=null}},{key:"objectURLs",get:function(){return this._objectURLs}},{key:"storageType",get:function(){return"image"}}]),b}(l.default);b.default=m},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;if(void 0!==g)return g.call(d)},j=c(13),k=c(25),l=d(k),m=function(a){function b(a,c){e(this,b);var d=f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this));return d._mediaSource=a,d._mediaElement=a.mediaElement,d._duration=0,d._volume=1,d._speed=1,d._loop=!1,d._muted=!1,void 0!==c&&d.applyOptions(c),d}return g(b,a),h(b,[{key:"play",value:function(a){return this.paused&&(this.applyOptions(a),this._mediaElement.play(),this.trigger("start")),this}},{key:"pause",value:function(){return this.playing&&(this._mediaElement.pause(),this.trigger("stop")),this}},{key:"stop",value:function(){return this.pause(),this.currentTime=0,this}},{key:"toggle",value:function(a){return this.paused?this.play(a):this.pause()}},{key:"applyOptions",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},b=a.volume,c=a.loop,d=a.speed,e=a.time,f=a.muted;return void 0!==b&&(this.volume=b),void 0!==c&&(this.loop=c),void 0!==d&&(this.speed=d),void 0!==e&&(this.currentTime=e),void 0!==f&&(this.muted=f),this}},{key:"destroy",value:function(){i(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this),this.stop(),this._mediaSource=null,this._mediaElement=null,this._duration=null,this._volume=null,this._speed=null,this._loop=null,this._muted=null}},{key:"mediaSource",get:function(){return this._mediaSource}},{key:"mediaElement",get:function(){return this._mediaElement}},{key:"duration",get:function(){return this._duration}},{key:"progress",get:function(){var a=this.currentTime,b=this.duration;return a%b/b}},{key:"volume",get:function(){return this._volume},set:function(a){var b=(0,j.clamp)(a,0,2);this.volume!==b&&(this._mediaElement.volume=this._volume=b)}},{key:"loop",get:function(){return this._loop},set:function(a){var b=!!a;this.loop!==b&&(this._mediaElement.loop=this._loop=b)}},{key:"speed",get:function(){return this._speed},set:function(a){var b=Math.max(0,a);this.speed!==b&&(this._mediaElement.playbackRate=this._speed=b)}},{key:"currentTime",get:function(){return this._mediaElement.currentTime},set:function(a){
this._mediaElement.currentTime=Math.max(0,a)}},{key:"muted",get:function(){return this._muted},set:function(a){var b=!!a;this.muted!==b&&(this._mediaElement.muted=this._muted=b)}},{key:"paused",get:function(){return this._mediaElement.paused},set:function(a){a?this.pause():this.play()}},{key:"playing",get:function(){return!this.paused},set:function(a){a?this.play():this.pause()}},{key:"analyserTarget",get:function(){return null}}]),b}(l.default);b.default=m},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){return function(){var b=a.apply(this,arguments);return new Promise(function(a,c){function d(e,f){try{var g=b[e](f),h=g.value}catch(a){return void c(a)}if(!g.done)return Promise.resolve(h).then(function(a){d("next",a)},function(a){d("throw",a)});a(h)}return d("next")})}}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function g(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function h(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var i=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),j=c(84),k=d(j),l=function(a){function b(){return f(this,b),g(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return h(b,a),i(b,[{key:"process",value:function(){function a(a){return b.apply(this,arguments)}var b=e(regeneratorRuntime.mark(function a(b){return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,b.text();case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}},a,this)}));return a}()},{key:"storageType",get:function(){return"text"}}]),b}(k.default);b.default=l},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;if(void 0!==g)return g.call(d)},j=c(131),k=d(j),l=c(117),m=function(a){function b(){e(this,b);var a=f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this));return a._children=[],a}return g(b,a),h(b,[{key:"addChild",value:function(a){return this.addChildAt(a,this._children.length)}},{key:"addChildAt",value:function(a,b){if(b<0||b>this._children.length)throw new Error("The index "+b+" is out of bounds "+this._children.length);return a===this?this:(a.parent&&a.parent.removeChild(a),a.parent=this,this._children.splice(b,0,a),this)}},{key:"swapChildren",value:function(a,b){return a!==b&&(this._children[this.getChildIndex(a)]=b,this._children[this.getChildIndex(b)]=a),this}},{key:"getChildIndex",value:function(a){var b=this._children.indexOf(a);if(-1===b)throw new Error("Drawable is not a child of the container.");return b}},{key:"setChildIndex",value:function(a,b){if(b<0||b>=this._children.length)throw new Error("The index "+b+" is out of bounds "+this._children.length);return(0,l.removeArrayItems)(this._children,this.getChildIndex(a),1),this._children.splice(b,0,a),this}},{key:"getChildAt",value:function(a){if(a<0||a>=this._children.length)throw new Error("getChildAt: Index ("+a+") does not exist.");return this._children[a]}},{key:"removeChild",value:function(a){var b=this._children.indexOf(a);return-1!==b&&this.removeChildAt(b),this}},{key:"removeChildAt",value:function(a){return(0,l.removeArrayItems)(this._children,a,1),this}},{key:"removeChildren",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._children.length,c=b-a;if(c<0||c>b)throw new Error("Values are outside the acceptable range.");return(0,l.removeArrayItems)(this._children,a,c),this}},{key:"render",value:function(a){if(this.visible){var b=!0,c=!1,d=void 0;try{for(var e,f=this._children[Symbol.iterator]();!(b=(e=f.next()).done);b=!0){e.value.render(a)}}catch(a){c=!0,d=a}finally{try{!b&&f.return&&f.return()}finally{if(c)throw d}}}return this}},{key:"updateBounds",value:function(){this._bounds.reset().addRect(this.getLocalBounds(),this.getGlobalTransform());var a=!0,b=!1,c=void 0;try{for(var d,e=this._children[Symbol.iterator]();!(a=(d=e.next()).done);a=!0){var f=d.value;f.visible&&this._bounds.addRect(f.getBounds())}}catch(a){b=!0,c=a}finally{try{!a&&e.return&&e.return()}finally{if(b)throw c}}return this}},{key:"destroy",value:function(){i(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this),this._children.length=0,this._children=null}},{key:"children",get:function(){return this._children}},{key:"width",get:function(){return Math.abs(this.scale.x)*this.bounds.width},set:function(a){this.scale.x=a/this.bounds.width}},{key:"height",get:function(){return Math.abs(this.scale.y)*this.bounds.height},set:function(a){this.scale.y=a/this.bounds.height}},{key:"left",get:function(){return this.x-this.width*this.origin.x}},{key:"top",get:function(){return this.y-this.height*this.origin.y}},{key:"right",get:function(){return this.x+this.width-this.origin.x}},{key:"bottom",get:function(){return this.y+this.height-this.origin.y}}]),b}(k.default);b.default=m},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;if(void 0!==g)return g.call(d)},j=c(412),k=d(j),l=c(40),m=d(l),n=c(35),o=function(a){function b(){e(this,b);var a=f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this));return a._visible=!0,a._tint=m.default.White.clone(),a._blendMode=n.BLEND_MODES.NORMAL,a}return g(b,a),h(b,[{key:"setTint",value:function(a){return this._tint.copy(a),this}},{key:"setBlendMode",value:function(a){return this._blendMode=a,this}},{key:"render",value:function(a){throw new Error("Method not implemented!")}},{key:"destroy",value:function(){i(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this),this._tint.destroy(),this._tint=null,this._visible=null,this._blendMode=null}},{key:"visible",get:function(){return this._visible},set:function(a){this._visible=a}},{key:"tint",get:function(){return this._tint},set:function(a){this.setTint(a)}},{key:"blendMode",get:function(){return this._blendMode},set:function(a){this.setBlendMode(a)}}]),b}(k.default);b.default=o},function(a,b,c){a.exports=!c(6)&&!c(3)(function(){return 7!=Object.defineProperty(c(87)("div"),"a",{get:function(){return 7}}).a})},function(a,b,c){b.f=c(5)},function(a,b,c){var d=c(14),e=c(18),f=c(69)(!1),g=c(89)("IE_PROTO");a.exports=function(a,b){var c,h=e(a),i=0,j=[];for(c in h)c!=g&&d(h,c)&&j.push(c);for(;b.length>i;)d(h,c=b[i++])&&(~f(j,c)||j.push(c));return j}},function(a,b,c){var d=c(7),e=c(1),f=c(44);a.exports=c(6)?Object.defineProperties:function(a,b){e(a);for(var c,g=f(b),h=g.length,i=0;h>i;)d.f(a,c=g[i++],b[c]);return a}},function(a,b,c){var d=c(18),e=c(47).f,f={}.toString,g="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],h=function(a){try{return e(a)}catch(a){return g.slice()}};a.exports.f=function(a){return g&&"[object Window]"==f.call(a)?h(a):e(d(a))}},function(a,b,c){"use strict";var d=c(44),e=c(70),f=c(60),g=c(9),h=c(59),i=Object.assign;a.exports=!i||c(3)(function(){var a={},b={},c=Symbol(),d="abcdefghijklmnopqrst";return a[c]=7,d.split("").forEach(function(a){b[a]=a}),7!=i({},a)[c]||Object.keys(i({},b)).join("")!=d})?function(a,b){for(var c=g(a),i=arguments.length,j=1,k=e.f,l=f.f;i>j;)for(var m,n=h(arguments[j++]),o=k?d(n).concat(k(n)):d(n),p=o.length,q=0;p>q;)l.call(n,m=o[q++])&&(c[m]=n[m]);return c}:i},function(a,b,c){"use strict";var d=c(10),e=c(4),f=c(139),g=[].slice,h={},i=function(a,b,c){if(!(b in h)){for(var d=[],e=0;e<b;e++)d[e]="a["+e+"]";h[b]=Function("F,a","return new F("+d.join(",")+")")}return h[b](a,c)};a.exports=Function.bind||function(a){var b=d(this),c=g.call(arguments,1),h=function(){var d=c.concat(g.call(arguments));return this instanceof h?i(b,d.length,d):f(b,d,a)};return e(b.prototype)&&(h.prototype=b.prototype),h}},function(a,b){a.exports=function(a,b,c){var d=void 0===c;switch(b.length){case 0:return d?a():a.call(c);case 1:return d?a(b[0]):a.call(c,b[0]);case 2:return d?a(b[0],b[1]):a.call(c,b[0],b[1]);case 3:return d?a(b[0],b[1],b[2]):a.call(c,b[0],b[1],b[2]);case 4:return d?a(b[0],b[1],b[2],b[3]):a.call(c,b[0],b[1],b[2],b[3])}return a.apply(c,b)}},function(a,b,c){var d=c(2).parseInt,e=c(54).trim,f=c(93),g=/^[-+]?0[xX]/;a.exports=8!==d(f+"08")||22!==d(f+"0x16")?function(a,b){var c=e(String(a),3);return d(c,b>>>0||(g.test(c)?16:10))}:d},function(a,b,c){var d=c(2).parseFloat,e=c(54).trim;a.exports=1/d(c(93)+"-0")!=-1/0?function(a){var b=e(String(a),3),c=d(b);return 0===c&&"-"==b.charAt(0)?-0:c}:d},function(a,b,c){var d=c(23);a.exports=function(a,b){if("number"!=typeof a&&"Number"!=d(a))throw TypeError(b);return+a}},function(a,b,c){var d=c(4),e=Math.floor;a.exports=function(a){return!d(a)&&isFinite(a)&&e(a)===a}},function(a,b){a.exports=Math.log1p||function(a){return(a=+a)>-1e-8&&a<1e-8?a-a*a/2:Math.log(1+a)}},function(a,b,c){var d=c(96),e=Math.pow,f=e(2,-52),g=e(2,-23),h=e(2,127)*(2-g),i=e(2,-126),j=function(a){return a+1/f-1/f};a.exports=Math.fround||function(a){var b,c,e=Math.abs(a),k=d(a);return e<i?k*j(e/i/g)*i*g:(b=(1+g/f)*e,c=b-(b-e),c>h||c!=c?k*(1/0):k*c)}},function(a,b,c){var d=c(1);a.exports=function(a,b,c,e){try{return e?b(d(c)[0],c[1]):b(c)}catch(b){var f=a.return;throw void 0!==f&&d(f.call(a)),b}}},function(a,b,c){var d=c(10),e=c(9),f=c(59),g=c(8);a.exports=function(a,b,c,h,i){d(b);var j=e(a),k=f(j),l=g(j.length),m=i?l-1:0,n=i?-1:1;if(c<2)for(;;){if(m in k){h=k[m],m+=n;break}if(m+=n,i?m<0:l<=m)throw TypeError("Reduce of empty array with no initial value")}for(;i?m>=0:l>m;m+=n)m in k&&(h=b(h,k[m],m,j));return h}},function(a,b,c){"use strict";var d=c(9),e=c(45),f=c(8);a.exports=[].copyWithin||function(a,b){var c=d(this),g=f(c.length),h=e(a,g),i=e(b,g),j=arguments.length>2?arguments[2]:void 0,k=Math.min((void 0===j?g:e(j,g))-i,g-h),l=1;for(i<h&&h<i+k&&(l=-1,i+=k-1,h+=k-1);k-- >0;)i in c?c[h]=c[i]:delete c[h],h+=l,i+=l;return c}},function(a,b){a.exports=function(a,b){return{value:b,done:!!a}}},function(a,b,c){c(6)&&"g"!=/./g.flags&&c(7).f(RegExp.prototype,"flags",{configurable:!0,get:c(74)})},function(a,b){a.exports=function(a){try{return{e:!1,v:a()}}catch(a){return{e:!0,v:a}}}},function(a,b,c){var d=c(1),e=c(4),f=c(111);a.exports=function(a,b){if(d(a),e(b)&&b.constructor===a)return b;var c=f.f(a);return(0,c.resolve)(b),c.promise}},function(a,b,c){"use strict";var d=c(154),e=c(56),f="Map";a.exports=c(77)(f,function(a){return function(){return a(this,arguments.length>0?arguments[0]:void 0)}},{get:function(a){var b=d.getEntry(e(this,f),a);return b&&b.v},set:function(a,b){return d.def(e(this,f),0===a?0:a,b)}},d,!0)},function(a,b,c){"use strict";var d=c(7).f,e=c(46),f=c(51),g=c(22),h=c(49),i=c(50),j=c(99),k=c(149),l=c(48),m=c(6),n=c(36).fastKey,o=c(56),p=m?"_s":"size",q=function(a,b){var c,d=n(b);if("F"!==d)return a._i[d];for(c=a._f;c;c=c.n)if(c.k==b)return c};a.exports={getConstructor:function(a,b,c,j){var k=a(function(a,d){h(a,k,b,"_i"),a._t=b,a._i=e(null),a._f=void 0,a._l=void 0,a[p]=0,void 0!=d&&i(d,c,a[j],a)});return f(k.prototype,{clear:function(){for(var a=o(this,b),c=a._i,d=a._f;d;d=d.n)d.r=!0,d.p&&(d.p=d.p.n=void 0),delete c[d.i];a._f=a._l=void 0,a[p]=0},delete:function(a){var c=o(this,b),d=q(c,a);if(d){var e=d.n,f=d.p;delete c._i[d.i],d.r=!0,f&&(f.n=e),e&&(e.p=f),c._f==d&&(c._f=e),c._l==d&&(c._l=f),c[p]--}return!!d},forEach:function(a){o(this,b);for(var c,d=g(a,arguments.length>1?arguments[1]:void 0,3);c=c?c.n:this._f;)for(d(c.v,c.k,this);c&&c.r;)c=c.p},has:function(a){return!!q(o(this,b),a)}}),m&&d(k.prototype,"size",{get:function(){return o(this,b)[p]}}),k},def:function(a,b,c){var d,e,f=q(a,b);return f?f.v=c:(a._l=f={i:e=n(b,!0),k:b,v:c,p:d=a._l,n:void 0,r:!1},a._f||(a._f=f),d&&(d.n=f),a[p]++,"F"!==e&&(a._i[e]=f)),a},getEntry:q,setStrong:function(a,b,c){j(a,b,function(a,c){this._t=o(a,b),this._k=c,this._l=void 0},function(){for(var a=this,b=a._k,c=a._l;c&&c.r;)c=c.p;return a._t&&(a._l=c=c?c.n:a._t._f)?"keys"==b?k(0,c.k):"values"==b?k(0,c.v):k(0,[c.k,c.v]):(a._t=void 0,k(1))},c?"entries":"values",!c,!0),l(b)}}},function(a,b,c){"use strict";var d=c(154),e=c(56),f="Set";a.exports=c(77)(f,function(a){return function(){return a(this,arguments.length>0?arguments[0]:void 0)}},{add:function(a){return d.def(e(this,f),a=0===a?0:a,a)}},d)},function(a,b,c){"use strict";var d,e=c(31)(0),f=c(16),g=c(36),h=c(137),i=c(157),j=c(4),k=c(3),l=c(56),m="WeakMap",n=g.getWeak,o=Object.isExtensible,p=i.ufstore,q={},r=function(a){return function(){return a(this,arguments.length>0?arguments[0]:void 0)}},s={get:function(a){if(j(a)){var b=n(a);return!0===b?p(l(this,m)).get(a):b?b[this._i]:void 0}},set:function(a,b){return i.def(l(this,m),a,b)}},t=a.exports=c(77)(m,r,s,i,!0,!0);k(function(){return 7!=(new t).set((Object.freeze||Object)(q),7).get(q)})&&(d=i.getConstructor(r,m),h(d.prototype,s),g.NEED=!0,e(["delete","has","get","set"],function(a){var b=t.prototype,c=b[a];f(b,a,function(b,e){if(j(b)&&!o(b)){this._f||(this._f=new d);var f=this._f[a](b,e);return"set"==a?this:f}return c.call(this,b,e)})}))},function(a,b,c){"use strict";var d=c(51),e=c(36).getWeak,f=c(1),g=c(4),h=c(49),i=c(50),j=c(31),k=c(14),l=c(56),m=j(5),n=j(6),o=0,p=function(a){return a._l||(a._l=new q)},q=function(){this.a=[]},r=function(a,b){return m(a.a,function(a){return a[0]===b})};q.prototype={get:function(a){var b=r(this,a);if(b)return b[1]},has:function(a){return!!r(this,a)},set:function(a,b){var c=r(this,a);c?c[1]=b:this.a.push([a,b])},delete:function(a){var b=n(this.a,function(b){return b[0]===a});return~b&&this.a.splice(b,1),!!~b}},a.exports={getConstructor:function(a,b,c,f){var j=a(function(a,d){h(a,j,b,"_i"),a._t=b,a._i=o++,a._l=void 0,void 0!=d&&i(d,c,a[f],a)});return d(j.prototype,{delete:function(a){if(!g(a))return!1;var c=e(a);return!0===c?p(l(this,b)).delete(a):c&&k(c,this._i)&&delete c[this._i]},has:function(a){if(!g(a))return!1;var c=e(a);return!0===c?p(l(this,b)).has(a):c&&k(c,this._i)}}),j},def:function(a,b,c){var d=e(f(b),!0);return!0===d?p(a).set(b,c):d[a._i]=c,a},ufstore:p}},function(a,b,c){var d=c(29),e=c(8);a.exports=function(a){if(void 0===a)return 0;var b=d(a),c=e(b);if(b!==c)throw RangeError("Wrong length!");return c}},function(a,b,c){var d=c(47),e=c(70),f=c(1),g=c(2).Reflect;a.exports=g&&g.ownKeys||function(a){var b=d.f(f(a)),c=e.f;return c?b.concat(c(a)):b}},function(a,b,c){"use strict";function d(a,b,c,j,k,l,m,n){for(var o,p,q=k,r=0,s=!!m&&h(m,n,3);r<j;){if(r in c){if(o=s?s(c[r],r,b):c[r],p=!1,f(o)&&(p=o[i],p=void 0!==p?!!p:e(o)),p&&l>0)q=d(a,b,o,g(o.length),q,l-1)-1;else{if(q>=9007199254740991)throw TypeError();a[q]=o}q++}r++}return q}var e=c(71),f=c(4),g=c(8),h=c(22),i=c(5)("isConcatSpreadable");a.exports=d},function(a,b,c){var d=c(8),e=c(95),f=c(28);a.exports=function(a,b,c,g){var h=String(f(a)),i=h.length,j=void 0===c?" ":String(c),k=d(b);if(k<=i||""==j)return h;var l=k-i,m=e.call(j,Math.ceil(l/j.length));return m.length>l&&(m=m.slice(0,l)),g?m+h:h+m}},function(a,b,c){var d=c(44),e=c(18),f=c(60).f;a.exports=function(a){return function(b){for(var c,g=e(b),h=d(g),i=h.length,j=0,k=[];i>j;)f.call(g,c=h[j++])&&k.push(a?[c,g[c]]:g[c]);return k}}},function(a,b,c){var d=c(61),e=c(164);a.exports=function(a){return function(){if(d(this)!=a)throw TypeError(a+"#toJSON isn't generic");return e(this)}}},function(a,b,c){var d=c(50);a.exports=function(a,b){var c=[];return d(a,!1,c.push,c,b),c}},function(a,b){a.exports=Math.scale||function(a,b,c,d,e){return 0===arguments.length||a!=a||b!=b||c!=c||d!=d||e!=e?NaN:a===1/0||a===-1/0?a:(a-b)*(e-d)/(c-b)+d}},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=function(a){a.preventDefault(),a.stopImmediatePropagation()};b.stopEvent=d},function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0});var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=Math.pow(2,32)-1,g=function(){function a(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now();d(this,a),this._state=new Uint32Array(624),this._iteration=0,this._seed=null,this._value=null,this.seed=b,this._twist()}return e(a,[{key:"reset",value:function(){this._state[0]=this._seed;for(var a=1;a<624;a++){var b=this._state[a-1]^this._state[a-1]>>>30;this._state[a]=(1812433253*((4294901760&b)>>>16)<<16)+1812433253*(65535&b)+a,this._state[a]|=0}return this._iteration=0,this}},{key:"next",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this._iteration>=624&&this._twist(),this._value=this._state[this._iteration++],this._value^=this._value>>>11,this._value^=this._value<<7&2636928640,this._value^=this._value<<15&4022730752,this._value^=this._value>>>18,this._value=(this._value>>>0)/f*(b-a)+a,this._value}},{key:"destroy",value:function(){this._state=null,this._iteration=null,this._seed=null,this._value=null}},{key:"_twist",value:function(){for(var a=this._state,b=0;b<227;b++){var c=2147483648&a[b]|2147483647&a[b+1];a[b]=a[b+397]^c>>>1^2567483615*(1&c)}for(var d=227;d<623;d++){var c=2147483648&a[d]|2147483647&a[d+1];a[d]=a[d-227]^c>>>1^2567483615*(1&c)}var c=2147483648&a[623]|2147483647&a[0];a[623]=a[396]^c>>>1^2567483615*(1&c),this._iteration=0,this._value=null}},{key:"seed",get:function(){return this._value},set:function(a){return this._seed=a,this.reset(),this}},{key:"value",get:function(){return this._value}},{key:"iteration",get:function(){return this._iteration}}]),a}();b.default=g},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){return function(){var b=a.apply(this,arguments);return new Promise(function(a,c){function d(e,f){try{var g=b[e](f),h=g.value}catch(a){return void c(a)}if(!g.done)return Promise.resolve(h).then(function(a){d("next",a)},function(a){d("throw",a)});a(h)}return d("next")})}}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function g(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function h(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var i=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),j=function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;if(void 0!==g)return g.call(d)},k=c(25),l=d(k),m={NONE:0,LOADING:1,RUNNING:2},n=function(a){function b(a){f(this,b);var c=g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this));return c._app=a,c._status=m.NONE,c._scene=null,c}return h(b,a),i(b,[{key:"setScene",value:function(){function a(a){return b.apply(this,arguments)}var b=e(regeneratorRuntime.mark(function a(b){return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(b===this._scene){a.next=15;break}if(this._unloadScene(),this._scene=b,!b){a.next=15;break}return this._status=m.LOADING,this.trigger("scene:load"),b.app=this._app,b.load(this._app.loader),a.t0=b,a.next=11,this._app.loader.load();case 11:a.t1=a.sent,a.t0.init.call(a.t0,a.t1),this._status=m.RUNNING,this.trigger("scene:start");case 15:return a.abrupt("return",this);case 16:case"end":return a.stop()}},a,this)}));return a}()},{key:"update",value:function(a){return this.sceneRunning&&(this._scene.update(a),this._scene.draw(this._app.renderManager)),this}},{key:"destroy",value:function(){j(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this),this._unloadScene(),this._scene=null,this._status=null,this._app=null}},{key:"_unloadScene",value:function(){this._scene&&(this.sceneRunning&&(this._scene.unload(),this.trigger("scene:unloaded")),this._scene.destroy(),this._scene=null,this._status=m.NONE,this.trigger("scene:destroyed"))}},{key:"scene",get:function(){return this._scene},set:function(a){this.setScene(a)}},{key:"sceneLoading",get:function(){return this._status===m.LOADING}},{key:"sceneRunning",get:function(){return this._status===m.RUNNING}}]),b}(l.default);b.default=n},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0});var f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=c(35),h=c(39),i=d(h),j=c(11),k=d(j),l=c(119),m=d(l),n=c(174),o=d(n),p=c(181),q=d(p),r=c(40),s=d(r),t=c(38),u=c(58),v=d(u),w=c(411),x=d(w),y=function(){function a(b){if(e(this,a),!i.default.webGL2)throw new Error("This browser or hardware does not support WebGL v2!");var c=b.config,d=c.width,f=c.height,h=c.clearColor;if(this._canvas=b.canvas,this._context=this._createContext(),!this._context)throw new Error("This browser or hardware does not support WebGL.");this._contextLost=this._context.isContextLost(),this._contextLost&&this._restoreContext(),this._renderers=new Map,this._renderTarget=null,this._renderer=null,this._buffer=null,this._shader=null,this._blendMode=null,this._textureUnit=0,this._texture=null,this._sampler=new x.default(this._context),this._vao=null,this._clearColor=h&&h.clone()||new s.default,this._rootRenderTarget=new m.default(d,f,!0),this._cursor=this._canvas.style.cursor,this._setupContext(),this._addEvents(),this.addRenderer("sprite",new o.default),this.addRenderer("particle",new q.default),this.setRenderTarget(this._rootRenderTarget),this.setBlendMode(g.BLEND_MODES.NORMAL),this.resize(d,f)}return f(a,[{key:"setRenderTarget",value:function(a){var b=a||this._rootRenderTarget;return this._renderTarget!==b&&(this._renderTarget&&(this._renderTarget.unbindFramebuffer(),this._renderTarget=null),b&&(b.connect(this._context),b.bindFramebuffer()),this._renderTarget=b),this}},{key:"setVAO",value:function(a){var b=a||null;return this._vao!==b&&(b&&b.bind(),this._vao&&this._vao.unbind(),this._vao=b),this}},{key:"setRenderer",value:function(a){var b=a||null;return this._renderer!==b&&(this._renderer&&(this._renderer.unbind(),this._renderer=null),b&&(b.connect(this),b.bind()),this._renderer=b),this}},{key:"setBuffer",value:function(a){var b=a||null;return this._buffer!==b&&(this._buffer&&(this._buffer.unbindBuffers(),this._buffer=null),b&&(b.connect(this._context),b.bindBuffers()),this._buffer=b),this}},{key:"setShader",value:function(a){var b=a||null;return this._shader!==b&&(this._shader&&(this._shader.unbindProgram(),this._shader=null),b&&(b.connect(this._context),b.bindProgram()),this._shader=b),this}},{key:"setTexture",value:function(a,b){var c=a||null;return void 0!==b&&this.setTextureUnit(b),this._texture!==c&&(this._texture&&(this._texture.unbindTexture(),this._texture=null),c&&(c.connect(this._context),c.bindTexture()),this._texture=c),this}},{key:"setBlendMode",value:function(a){if(a!==this._blendMode){var b=this._context;switch(this._blendMode=a,a){case g.BLEND_MODES.ADD:b.blendFunc(b.ONE,b.ONE);break;case g.BLEND_MODES.SUBTRACT:b.blendFunc(b.ZERO,b.ONE_MINUS_SRC_COLOR);break;case g.BLEND_MODES.MULTIPLY:b.blendFunc(b.DST_COLOR,b.ONE_MINUS_SRC_ALPHA);break;case g.BLEND_MODES.SCREEN:b.blendFunc(b.ONE,b.ONE_MINUS_SRC_COLOR);break;default:b.blendFunc(b.ONE,b.ONE_MINUS_SRC_ALPHA)}}return this}},{key:"setTextureUnit",value:function(a){var b=0|a;if(this._textureUnit!==b){var c=this._context;this._textureUnit=b,c.activeTexture(c.TEXTURE0+b)}return this}},{key:"setClearColor",value:function(a){if(!this._clearColor.equals(a)){var b=this._context;this._clearColor.copy(a),b.clearColor(a.r/255,a.g/255,a.b/255,a.a)}return this}},{key:"setCursor",value:function(a){return a!==this._cursor&&(a instanceof v.default&&(a=a.source),a instanceof HTMLImageElement&&(a="url("+(0,t.imageToBase64)(a)+")"),this._canvas.style.cursor=this._cursor=a),this}},{key:"addRenderer",value:function(a,b){if(this._renderers.has(a))throw new Error('Renderer "'+a+'" was already added.');return this._renderers.set(a,b),this}},{key:"getRenderer",value:function(a){if(!this._renderers.has(a))throw new Error('Could not find renderer "'+a+'".');return this._renderers.get(a)}},{key:"clear",value:function(a){var b=this._context;return a&&this.setClearColor(a),b.clear(b.COLOR_BUFFER_BIT),this}},{key:"resize",value:function(a,b){return this._canvas.width=a,this._canvas.height=b,this._rootRenderTarget.resize(a,b),this}},{key:"draw",value:function(a){return this._contextLost||a.render(this),this}},{key:"display",value:function(){return this._renderer&&!this._contextLost&&this._renderer.flush(),this}},{key:"drawElements",value:function(a){var b=this._context;return b.drawElements(b.TRIANGLES,a,b.UNSIGNED_SHORT,0),this}},{key:"insideViewport",value:function(a){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._renderTarget.view).getBounds().intersets(a.getBounds())}},{key:"destroy",value:function(){this._removeEvents(),this.setRenderTarget(null),this.setRenderer(null),this.setVAO(null),this.setShader(null),this.setBuffer(null),this.setTexture(null);var a=!0,b=!1,c=void 0;try{for(var d,e=this._renderers.values()[Symbol.iterator]();!(a=(d=e.next()).done);a=!0){d.value.destroy()}}catch(a){b=!0,c=a}finally{try{!a&&e.return&&e.return()}finally{if(b)throw c}}this._renderers.clear(),this._renderers=null,this._sampler.destroy(),this._sampler=null,this._clearColor.destroy(),this._clearColor=null,this._rootRenderTarget.destroy(),this._rootRenderTarget=null,this._vao=null,this._canvas=null,this._context=null,this._contextLost=null,this._renderTarget=null,this._renderer=null,this._buffer=null,this._shader=null,this._blendMode=null,this._texture=null,this._textureUnit=null,this._cursor=null}},{key:"_createContext",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k.default.CONTEXT_OPTIONS;try{return this._canvas.getContext("webgl2",a)||this._canvas.getContext("webgl",a)}catch(a){return null}}},{key:"_restoreContext",value:function(){var a=this._context;a.getExtension("WEBGL_lose_context")&&a.getExtension("WEBGL_lose_context").restoreContext()}},{key:"_setupContext",value:function(){var a=this._context,b=this._clearColor,c=b.r,d=b.g,e=b.b,f=b.a;a.enable(a.BLEND),a.disable(a.DEPTH_TEST),a.disable(a.CULL_FACE),a.blendEquation(a.FUNC_ADD),a.clearColor(c/255,d/255,e/255,f)}},{key:"_addEvents",value:function(){this._onContextLostHandler=this._onContextLost.bind(this),this._onContextRestoredHandler=this._onContextRestored.bind(this),this._canvas.addEventListener("webglcontextlost",this._onContextLostHandler,!1),this._canvas.addEventListener("webglcontextrestored",this._onContextRestoredHandler,!1)}},{key:"_removeEvents",value:function(){this._canvas.removeEventListener("webglcontextlost",this._onContextLostHandler,!1),this._canvas.removeEventListener("webglcontextrestored",this._onContextRestoredHandler,!1),this._onContextLostHandler=null,this._onContextRestoredHandler=null}},{key:"_onContextLost",value:function(){this._contextLost=!0,this._restoreContext()}},{key:"_onContextRestored",value:function(){this._contextLost=!1}},{key:"context",get:function(){return this._context}},{key:"renderTarget",get:function(){return this._renderTarget}},{key:"texture",get:function(){return this._texture}},{key:"vao",get:function(){return this._vao},set:function(a){this.setVAO(a)}},{key:"renderer",get:function(){return this._renderer},set:function(a){this.setRenderer(a)}},{key:"buffer",get:function(){return this._buffer},set:function(a){this.setBuffer(a)}},{key:"shader",get:function(){return this._shader},set:function(a){this.setShader(a)}},{key:"blendMode",get:function(){return this._blendMode},set:function(a){this.setBlendMode(a)}},{key:"textureUnit",get:function(){return this._textureUnit},set:function(a){this.setTextureUnit(a)}},{key:"clearColor",get:function(){return this._clearColor},set:function(a){this.setClearColor(a)}},{key:"cursor",get:function(){return this._cursor},set:function(a){this.setCursor(a)}}]),a}();b.default=y},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0});var f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=c(171),h=d(g),i=c(115),j={invert:!0
},k=function(){function a(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},c=b.buttons,d=void 0===c?[new h.default(0,i.GAMEPAD.FaceBottom),new h.default(1,i.GAMEPAD.FaceRight),new h.default(2,i.GAMEPAD.FaceLeft),new h.default(3,i.GAMEPAD.FaceTop),new h.default(4,i.GAMEPAD.ShoulderLeftBottom),new h.default(5,i.GAMEPAD.ShoulderRightBottom),new h.default(6,i.GAMEPAD.ShoulderLeftTop),new h.default(7,i.GAMEPAD.ShoulderRightTop),new h.default(8,i.GAMEPAD.Select),new h.default(9,i.GAMEPAD.Start),new h.default(10,i.GAMEPAD.LeftStick),new h.default(11,i.GAMEPAD.RightStick),new h.default(12,i.GAMEPAD.DPadUp),new h.default(13,i.GAMEPAD.DPadDown),new h.default(14,i.GAMEPAD.DPadLeft),new h.default(15,i.GAMEPAD.DPadRight),new h.default(16,i.GAMEPAD.Home)]:c,f=b.axes,g=void 0===f?[new h.default(0,i.GAMEPAD.LeftStickLeft,j),new h.default(0,i.GAMEPAD.LeftStickRight),new h.default(1,i.GAMEPAD.LeftStickUp,j),new h.default(1,i.GAMEPAD.LeftStickDown),new h.default(2,i.GAMEPAD.RightStickLeft,j),new h.default(2,i.GAMEPAD.RightStickRight),new h.default(3,i.GAMEPAD.RightStickUp,j),new h.default(3,i.GAMEPAD.RightStickDown)]:f;e(this,a),this._buttons=d,this._axes=g}return f(a,[{key:"setButtons",value:function(a){arguments.length>1&&void 0!==arguments[1]&&arguments[1]||this.clearButtons();var b=!0,c=!1,d=void 0;try{for(var e,f=a[Symbol.iterator]();!(b=(e=f.next()).done);b=!0){var g=e.value;this._buttons.push(g)}}catch(a){c=!0,d=a}finally{try{!b&&f.return&&f.return()}finally{if(c)throw d}}return this}},{key:"clearButtons",value:function(){var a=!0,b=!1,c=void 0;try{for(var d,e=this._buttons[Symbol.iterator]();!(a=(d=e.next()).done);a=!0){d.value.destroy()}}catch(a){b=!0,c=a}finally{try{!a&&e.return&&e.return()}finally{if(b)throw c}}return this._buttons.length=0,this}},{key:"setAxes",value:function(a){arguments.length>1&&void 0!==arguments[1]&&arguments[1]||this.clearAxes();var b=!0,c=!1,d=void 0;try{for(var e,f=a[Symbol.iterator]();!(b=(e=f.next()).done);b=!0){var g=e.value;this._axes.push(g)}}catch(a){c=!0,d=a}finally{try{!b&&f.return&&f.return()}finally{if(c)throw d}}return this}},{key:"clearAxes",value:function(){var a=!0,b=!1,c=void 0;try{for(var d,e=this._axes[Symbol.iterator]();!(a=(d=e.next()).done);a=!0){d.value.destroy()}}catch(a){b=!0,c=a}finally{try{!a&&e.return&&e.return()}finally{if(b)throw c}}return this._axes.length=0,this}},{key:"clearControls",value:function(){return this.clearButtons(),this.clearAxes(),this}},{key:"destroy",value:function(){this.clearControls(),this._buttons=null,this._axes=null}},{key:"buttons",get:function(){return this._buttons}},{key:"axes",get:function(){return this._axes}}]),a}();b.default=k},function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0});var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=function(){function a(b,c){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},f=e.invert,g=void 0!==f&&f,h=e.normalize,i=void 0!==h&&h,j=e.threshold,k=void 0===j?.2:j;d(this,a),this._index=b,this._channel=c,this._invert=g,this._normalize=i,this._threshold=k}return e(a,[{key:"transformValue",value:function(a){var b=a;return this._invert&&(b*=-1),this._normalize&&(b=(b+1)/2),b>this._threshold?b:0}},{key:"destroy",value:function(){this._index=null,this._channel=null,this._invert=null,this._normalize=null,this._threshold=null}},{key:"index",get:function(){return this._index},set:function(a){this._index=a}},{key:"channel",get:function(){return this._channel},set:function(a){this._channel=a}},{key:"invert",get:function(){return this._invert},set:function(a){this._invert=a}},{key:"normalize",get:function(){return this._normalize},set:function(a){this._normalize=a}},{key:"threshold",get:function(){return this._threshold},set:function(a){this._threshold=a}}]),a}();b.default=f},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0});var f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=c(120),h=d(g),i=c(21),j=d(i),k=c(63),l=d(k),m=c(13),n=c(173),o=d(n),p=c(122),q=d(p),r=function(){function a(b,c,d,f){e(this,a),this._center=new h.default(this._setDirty,this,b,c),this._size=new o.default(this._setDirty,this,d,f),this._rotation=0,this._sin=0,this._cos=1,this._viewport=new j.default(0,0,1,1),this._transform=new l.default,this._inverseTransform=new l.default,this._bounds=new q.default,this._updateTransform=!0,this._updateInverseTransform=!0,this._updateBounds=!0,this._updateId=0}return f(a,[{key:"setCenter",value:function(a,b){return this._center.set(a,b),this}},{key:"resize",value:function(a,b){return this._size.set(a,b),this}},{key:"setRotation",value:function(a){var b=a%360,c=b<0?b+360:b,d=(0,m.degreesToRadians)(c);return this._rotation=c<0?c+360:c,this._cos=Math.cos(d),this._sin=Math.sin(d),this._setDirty(),this}},{key:"move",value:function(a,b){return this.setCenter(this._center.x+a,this._center.y+b),this}},{key:"zoom",value:function(a){return this.resize(this._size.width*a,this._size.height*a),this}},{key:"rotate",value:function(a){return this.setRotation(this._rotation+a),this}},{key:"reset",value:function(a,b,c,d){return this._size.set(c,d),this._center.set(a,b),this._viewport.set(0,0,1,1),this._rotation=0,this._sin=0,this._cos=1,this._setDirty(),this}},{key:"getTransform",value:function(){return this._updateTransform&&(this.updateTransform(),this._updateTransform=!1),this._transform}},{key:"updateTransform",value:function(){var a=this._transform,b=this._center.x,c=this._center.y,d=this._sin,e=this._cos,f=2/this._size.width,g=-2/this._size.height,h=-f*b,i=-g*c,j=-b*e-c*d+b,k=b*d-c*e+c;return a.a=f*e,a.b=f*d,a.x=f*j+h,a.c=-g*d,a.d=g*e,a.y=g*k+i,this}},{key:"getInverseTransform",value:function(){return this._updateInverseTransform&&(this.getTransform().getInverse(this._inverseTransform),this._updateInverseTransform=!1),this._inverseTransform}},{key:"getBounds",value:function(){return this._updateBounds&&(this.updateBounds(),this._updateBounds=!1),this._bounds.getRect()}},{key:"updateBounds",value:function(){var a=this.width/2,b=this.height/2;return this._bounds.reset().addCoords(this._center.x-a,this._center.y-b).addCoords(this._center.x+a,this._center.y+b),this}},{key:"copy",value:function(a){return this.center=a.center,this.size=a.size,this.rotation=a.rotation,this.viewport=a.viewport,this}},{key:"destroy",value:function(){this._center.destroy(),this._center=null,this._size.destroy(),this._size=null,this._viewport.destroy(),this._viewport=null,this._transform.destroy(),this._transform=null,this._inverseTransform.destroy(),this._inverseTransform=null,this._bounds.destroy(),this._bounds=null,this._rotation=null,this._cos=null,this._sin=null,this._updateTransform=null,this._updateInverseTransform=null,this._updateBounds=null,this._updateId=null}},{key:"_setDirty",value:function(){this._updateTransform=!0,this._updateInverseTransform=!0,this._updateBounds=!0,this._updateId++}},{key:"center",get:function(){return this._center},set:function(a){this._center.copy(a)}},{key:"size",get:function(){return this._size},set:function(a){this._size.copy(a)}},{key:"width",get:function(){return this._size.width},set:function(a){this._size.width=a}},{key:"height",get:function(){return this._size.height},set:function(a){this._size.height=a}},{key:"rotation",get:function(){return this._rotation},set:function(a){this.setRotation(a)}},{key:"viewport",get:function(){return this._viewport},set:function(a){this._viewport.copy(a),this._setDirty()}},{key:"updateId",get:function(){return this._updateId}}]),a}();b.default=r},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;if(void 0!==g)return g.call(d)},j=c(57),k=d(j),l=function(a){function b(a,c){var d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,g=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;e(this,b);var h=f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,d,g));return h._callback=a,h._scope=c||h,h}return g(b,a),h(b,[{key:"set",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._width,b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._height;return this._width===a&&this._height===b||(this._width=a,this._height=b,this._callback.call(this._scope)),this}},{key:"add",value:function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a;return this.set(this._width+a,this._height+b)}},{key:"subtract",value:function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a;return this.set(this._width-a,this._height-b)}},{key:"scale",value:function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a;return this.set(this._width*a,this._height*b)}},{key:"divide",value:function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a;return this.set(this._width/a,this._height/b)}},{key:"copy",value:function(a){return this.set(a.width,a.height)}},{key:"clone",value:function(){return new b(this._callback,this._scope,this._width,this._height)}},{key:"destroy",value:function(){i(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this),this._callback=null,this._scope=null}},{key:"width",get:function(){return this._width},set:function(a){this._width!==a&&(this._width=a,this._callback.call(this._scope))}},{key:"height",get:function(){return this._height},set:function(a){this._height!==a&&(this._height=a,this._callback.call(this._scope))}}]),b}(k.default);b.default=l},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=c(123),j=d(i),k=c(175),l=d(k),m=c(11),n=d(m),o=c(125),p=d(o),q=c(180),r=d(q),s=function(a){function b(){e(this,b);var a=f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this));return a._batchSize=n.default.BATCH_SIZE_SPRITES,a._batchIndex=0,a._attributeCount=16,a._vertexData=new ArrayBuffer(a._batchSize*a._attributeCount*4),a._indexData=new Uint16Array(6*a._batchSize),a._float32View=new Float32Array(a._vertexData),a._uint32View=new Uint32Array(a._vertexData),a._shader=new l.default,a._renderManager=null,a._context=null,a._currentTexture=null,a._currentBlendMode=null,a._currentView=null,a._viewId=-1,a._vao=null,a._fillIndexData(a._indexData),a}return g(b,a),h(b,[{key:"connect",value:function(a){if(!this._context){var b=a.context;this._context=b,this._renderManager=a,this._shader.connect(b),this._indexBuffer=r.default.createIndexBuffer(b,this._indexData,b.STATIC_DRAW),this._vertexBuffer=r.default.createVertexBuffer(b,this._vertexData,b.DYNAMIC_DRAW),this._vao=new p.default(b).addIndex(this._indexBuffer).addAttribute(this._vertexBuffer,this._shader.attributes.a_position,b.FLOAT,!1,this._attributeCount,0).addAttribute(this._vertexBuffer,this._shader.attributes.a_texcoord,b.UNSIGNED_SHORT,!0,this._attributeCount,8).addAttribute(this._vertexBuffer,this._shader.attributes.a_color,b.UNSIGNED_BYTE,!0,this._attributeCount,12)}return this}},{key:"disconnect",value:function(){return this._context&&(this.unbind(),this._shader.disconnect(),this._vao.destroy(),this._vao=null,this._renderManager=null,this._context=null),this}},{key:"bind",value:function(){if(!this._context)throw new Error("Renderer has to be connected first!");return this._renderManager.setVAO(this._vao),this._renderManager.setShader(this._shader),this}},{key:"unbind",value:function(){return this._context&&(this.flush(),this._renderManager.setShader(null),this._renderManager.setVAO(null),this._currentTexture=null,this._currentBlendMode=null,this._currentView=null,this._viewId=-1),this}},{key:"render",value:function(a){var b=a.texture,c=a.blendMode,d=a.tint,e=a.vertexData,f=a.texCoordData,g=this._batchIndex>=this._batchSize,h=b!==this._currentTexture,i=c!==this._currentBlendMode,j=g||h||i,k=j?0:this._batchIndex*this._attributeCount,l=this._float32View,m=this._uint32View;return j&&(this.flush(),h&&(this._currentTexture=b,this._renderManager.setTexture(b)),i&&(this._currentBlendMode=c,this._renderManager.setBlendMode(c))),b.update(),l[k+0]=e[0],l[k+1]=e[1],l[k+4]=e[2],l[k+5]=e[3],l[k+8]=e[4],l[k+9]=e[5],l[k+12]=e[6],l[k+13]=e[7],m[k+2]=f[0],m[k+6]=f[1],m[k+10]=f[2],m[k+14]=f[3],m[k+3]=m[k+7]=m[k+11]=m[k+15]=d.getRGBA(),this._batchIndex++,this}},{key:"flush",value:function(){if(this._batchIndex>0){var a=this._context,b=this._renderManager.renderTarget.view,c=b.updateId;this._currentView===b&&this._viewId===c||(this._currentView=b,this._viewId=c,this._shader.getUniform("u_projection").setValue(b.getTransform().toArray(!1))),this._renderManager.setVAO(this._vao),this._vertexBuffer.upload(this._float32View.subarray(0,this._batchIndex*this._attributeCount)),this._vao.draw(a.TRIANGLES,6*this._batchIndex,0),this._batchIndex=0}return this}},{key:"destroy",value:function(){this.disconnect(),this._shader.destroy(),this._shader=null,this._uint32View=null,this._float32View=null,this._viewId=null,this._batchSize=null,this._batchIndex=null,this._attributeCount=null,this._currentTexture=null,this._currentBlendMode=null,this._currentView=null,this._renderManager=null,this._context=null}},{key:"_fillIndexData",value:function(a){for(var b=a.length,c=0,d=0;c<b;c+=6,d+=4)a[c+0]=d+0,a[c+1]=d+1,a[c+2]=d+2,a[c+3]=d+0,a[c+4]=d+3,a[c+5]=d+2;return this}}]),b}(j.default);b.default=s},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var h=c(124),i=d(h),j=(c(179),function(a){function b(){return e(this,b),f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,"#version 300 es\r\nprecision lowp float;\r\n\r\nuniform mat3 u_projection;\r\n\r\nlayout(location = 0) in vec2 a_position;\r\nlayout(location = 1) in vec2 a_texcoord;\r\nlayout(location = 2) in vec4 a_color;\r\n\r\nout vec2 v_texcoord;\r\nout vec4 v_color;\r\n\r\nvoid main(void) {\r\n    gl_Position = vec4((u_projection * vec3(a_position, 1.0)).xy, 0.0, 1.0);\r\n\r\n    v_texcoord = a_texcoord;\r\n    v_color = vec4(a_color.rgb * a_color.a, a_color.a);\r\n}\r\n","#version 300 es\r\nprecision lowp float;\r\n\r\nuniform sampler2D u_texture;\r\n\r\nin vec2 v_texcoord;\r\nin vec4 v_color;\r\n\r\nlayout(location = 0) out vec4 o_fragColor;\r\n\r\nvoid main(void) {\r\n    o_fragColor = texture(u_texture, v_texcoord) * v_color;\r\n}\r\n"))}return g(b,a),b}(i.default));b.default=j},function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0});var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=c(35),g=function(){function a(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},c=b.name,e=b.type,f=b.size,g=b.normalized,h=void 0!==g&&g,i=b.enabled,j=void 0===i||i,k=b.location,l=void 0===k?null:k;d(this,a),this._location=l,this._name=c,this._type=e,this._size=f,this._normalized=h,this._enabled=j}return e(a,[{key:"destroy",value:function(){this._location=null,this._name=null,this._type=null,this._size=null,this._normalized=null,this._enabled=null}},{key:"location",get:function(){return this._location},set:function(a){this._location=a}},{key:"name",get:function(){return this._name},set:function(a){this._name=a}},{key:"type",get:function(){return this._type},set:function(a){this._type=a}},{key:"size",get:function(){return this._size},set:function(a){this._size=a}},{key:"normalized",get:function(){return this._normalized},set:function(a){this._normalized=a}},{key:"enabled",get:function(){return this._enabled},set:function(a){this._enabled=a}},{key:"byteSize",get:function(){return this.bytesType*this._size}},{key:"bytesType",get:function(){switch(this._type){case f.ATTRIBUTE_TYPE.BYTE:case f.ATTRIBUTE_TYPE.UNSIGNED_BYTE:return 1;case f.ATTRIBUTE_TYPE.SHORT:case f.ATTRIBUTE_TYPE.UNSIGNED_SHORT:return 2;case f.ATTRIBUTE_TYPE.INT:case f.ATTRIBUTE_TYPE.UNSIGNED_INT:case f.ATTRIBUTE_TYPE.FLOAT:return 4}return 0}}]),a}();b.default=g},function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0});var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=c(35),g=function(){function a(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},c=b.context,e=b.index,f=b.name,g=b.type,h=b.size,i=b.location,j=b.block,k=b.offset,l=b.value,m=void 0===l?this._getDefaultValue(g,h):l;d(this,a),this._context=c,this._index=e,this._name=f,this._type=g,this._size=h,this._location=i,this._block=j,this._offset=k,this._value=m}return e(a,[{key:"setValue",value:function(a){if(void 0===a)throw new Error("Uniform value cannot be undefined!");var b=this._context;switch(this._value=a,this._type){case f.UNIFORM_TYPE.FLOAT:b.uniform1f(this._location,a);break;case f.UNIFORM_TYPE.FLOAT_VEC2:b.uniform2fv(this._location,a);break;case f.UNIFORM_TYPE.FLOAT_VEC3:b.uniform3fv(this._location,a);break;case f.UNIFORM_TYPE.FLOAT_VEC4:b.uniform4fv(this._location,a);break;case f.UNIFORM_TYPE.INT:b.uniform1i(this._location,a);break;case f.UNIFORM_TYPE.INT_VEC2:b.uniform2iv(this._location,a);break;case f.UNIFORM_TYPE.INT_VEC3:b.uniform3iv(this._location,a);break;case f.UNIFORM_TYPE.INT_VEC4:b.uniform4iv(this._location,a);break;case f.UNIFORM_TYPE.BOOL:b.uniform1i(this._location,a);break;case f.UNIFORM_TYPE.BOOL_VEC2:b.uniform2iv(this._location,a);break;case f.UNIFORM_TYPE.BOOL_VEC3:b.uniform3iv(this._location,a);break;case f.UNIFORM_TYPE.BOOL_VEC4:b.uniform4iv(this._location,a);break;case f.UNIFORM_TYPE.FLOAT_MAT2:b.uniformMatrix2fv(this._location,!1,a);break;case f.UNIFORM_TYPE.FLOAT_MAT3:b.uniformMatrix3fv(this._location,!1,a);break;case f.UNIFORM_TYPE.FLOAT_MAT4:b.uniformMatrix4fv(this._location,!1,a);break;case f.UNIFORM_TYPE.SAMPLER_2D:b.uniform1i(this._location,a);break;default:throw new Error('Unknown uniform type "'+this._type+'".')}return this}},{key:"destroy",value:function(){this._index=null,this._name=null,this._type=null,this._size=null,this._location=null,this._block=null,this._offset=null,this._value=null,this._context=null}},{key:"_getDefaultValue",value:function(a,b){switch(a){case f.UNIFORM_TYPE.FLOAT:return 0;case f.UNIFORM_TYPE.FLOAT_VEC2:return new Float32Array(2*b);case f.UNIFORM_TYPE.FLOAT_VEC3:return new Float32Array(3*b);case f.UNIFORM_TYPE.FLOAT_VEC4:return new Float32Array(4*b);case f.UNIFORM_TYPE.INT:return 0;case f.UNIFORM_TYPE.INT_VEC2:return new Int32Array(2*b);case f.UNIFORM_TYPE.INT_VEC3:return new Int32Array(3*b);case f.UNIFORM_TYPE.INT_VEC4:return new Int32Array(4*b);case f.UNIFORM_TYPE.BOOL:return!1;case f.UNIFORM_TYPE.BOOL_VEC2:return[!1,!1];case f.UNIFORM_TYPE.BOOL_VEC3:return[!1,!1,!1];case f.UNIFORM_TYPE.BOOL_VEC4:return[!1,!1,!1,!1];case f.UNIFORM_TYPE.FLOAT_MAT2:return new Float32Array([1,0,0,1]);case f.UNIFORM_TYPE.FLOAT_MAT3:return new Float32Array([1,0,0,0,1,0,0,0,1]);case f.UNIFORM_TYPE.FLOAT_MAT4:return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);case f.UNIFORM_TYPE.SAMPLER_2D:return 0}}},{key:"index",get:function(){return this._index},set:function(a){this._index=a}},{key:"name",get:function(){return this._name},set:function(a){this._name=a}},{key:"type",get:function(){return this._type},set:function(a){this._type=a}},{key:"size",get:function(){return this._size},set:function(a){this._size=a}},{key:"location",get:function(){return this._location},set:function(a){this._location=a}},{key:"block",get:function(){return this._block},set:function(a){this._block=a}},{key:"offset",get:function(){return this._offset},set:function(a){this._offset=a}},{key:"value",get:function(){return this._value},set:function(a){this.setValue(a)}}]),a}();b.default=g},function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0});var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=function(){function a(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},c=b.context,e=b.index,f=b.name,g=b.size,h=b.usedByVertexShader,i=void 0!==h&&h,j=b.usedByFragmentShader,k=void 0!==j&&j;d(this,a),this._context=c,this._index=e,this._name=f,this._size=g,this._data=new ArrayBuffer(g),this._uniforms={},this._usedByVertexShader=i,this._usedByFragmentShader=k}return e(a,[{key:"addUniform",value:function(a){var b=(this._name+".").replace(/\[\d+\]\.$/,".");a.name.startsWith(b)&&(a.name=a.name.substr(b.length)),this._uniforms[a.name]=a}},{key:"getUniform",value:function(a){if(!(a in this._uniforms))throw new Error('Uniform "'+a+'" is not available in uniform block "'+this._name+'".');return this._uniforms[a]}},{key:"setValue",value:function(a){return this}},{key:"destroy",value:function(){var a=!0,b=!1,c=void 0;try{for(var d,e=Object.keys(this._uniforms)[Symbol.iterator]();!(a=(d=e.next()).done);a=!0){var f=d.value;this._uniforms[f].destroy(),delete this._uniforms[f]}}catch(a){b=!0,c=a}finally{try{!a&&e.return&&e.return()}finally{if(b)throw c}}this._index=null,this._name=null,this._size=null,this._data=null,this._uniforms=null,this._usedByVertexShader=null,this._usedByFragmentShader=null,this._context=null}},{key:"index",get:function(){return this._index},set:function(a){this._index=a}},{key:"name",get:function(){return this._name},set:function(a){this._name=a}},{key:"size",get:function(){return this._size},set:function(a){this._size=a}},{key:"usedByVertexShader",get:function(){return this._usedByVertexShader},set:function(a){this._usedByVertexShader=a}},{key:"usedByFragmentShader",get:function(){return this._usedByFragmentShader},set:function(a){this._usedByFragmentShader=a}},{key:"data",get:function(){return this._data},set:function(a){this._data=a}},{key:"uniforms",get:function(){return this._uniforms},set:function(a){this._uniforms=a}}]),a}();b.default=f},function(a,b,c){(function(a){function c(a,b){for(var c=0,d=a.length-1;d>=0;d--){var e=a[d];"."===e?a.splice(d,1):".."===e?(a.splice(d,1),c++):c&&(a.splice(d,1),c--)}if(b)for(;c--;c)a.unshift("..");return a}function d(a,b){if(a.filter)return a.filter(b);for(var c=[],d=0;d<a.length;d++)b(a[d],d,a)&&c.push(a[d]);return c}var e=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,f=function(a){return e.exec(a).slice(1)};b.resolve=function(){for(var b="",e=!1,f=arguments.length-1;f>=-1&&!e;f--){var g=f>=0?arguments[f]:a.cwd();if("string"!=typeof g)throw new TypeError("Arguments to path.resolve must be strings");g&&(b=g+"/"+b,e="/"===g.charAt(0))}return b=c(d(b.split("/"),function(a){return!!a}),!e).join("/"),(e?"/":"")+b||"."},b.normalize=function(a){var e=b.isAbsolute(a),f="/"===g(a,-1);return a=c(d(a.split("/"),function(a){return!!a}),!e).join("/"),a||e||(a="."),a&&f&&(a+="/"),(e?"/":"")+a},b.isAbsolute=function(a){return"/"===a.charAt(0)},b.join=function(){var a=Array.prototype.slice.call(arguments,0);return b.normalize(d(a,function(a,b){if("string"!=typeof a)throw new TypeError("Arguments to path.join must be strings");return a}).join("/"))},b.relative=function(a,c){function d(a){for(var b=0;b<a.length&&""===a[b];b++);for(var c=a.length-1;c>=0&&""===a[c];c--);return b>c?[]:a.slice(b,c-b+1)}a=b.resolve(a).substr(1),c=b.resolve(c).substr(1);for(var e=d(a.split("/")),f=d(c.split("/")),g=Math.min(e.length,f.length),h=g,i=0;i<g;i++)if(e[i]!==f[i]){h=i;break}for(var j=[],i=h;i<e.length;i++)j.push("..");return j=j.concat(f.slice(h)),j.join("/")},b.sep="/",b.delimiter=":",b.dirname=function(a){var b=f(a),c=b[0],d=b[1];return c||d?(d&&(d=d.substr(0,d.length-1)),c+d):"."},b.basename=function(a,b){var c=f(a)[2];return b&&c.substr(-1*b.length)===b&&(c=c.substr(0,c.length-b.length)),c},b.extname=function(a){return f(a)[3]};var g="b"==="ab".substr(-1)?function(a,b,c){return a.substr(b,c)}:function(a,b,c){return b<0&&(b=a.length+b),a.substr(b,c)}}).call(b,c(410))},function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0});var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=c(34),g=function(){function a(b,c,e,g){d(this,a),this._context=b,this._buffer=b.createBuffer(),this._type=c||b.ARRAY_BUFFER,this.drawType=g||b.STATIC_DRAW,this._data=f.EMPTY_ARRAY_BUFFER,e&&this.upload(e)}return e(a,[{key:"upload",value:function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.bind();var c=this._context;this._data.byteLength>=a.byteLength?c.bufferSubData(this._type,b,a):c.bufferData(this._type,a,this.drawType),this._data=a}},{key:"bind",value:function(){this._context.bindBuffer(this._type,this._buffer)}},{key:"destroy",value:function(){this._context.deleteBuffer(this._buffer)}}],[{key:"createVertexBuffer",value:function(b,c,d){return new a(b,b.ARRAY_BUFFER,c,d)}},{key:"createIndexBuffer",value:function(b,c,d){return new a(b,b.ELEMENT_ARRAY_BUFFER,c,d)}},{key:"create",value:function(b,c,d,e){return new a(b,c,d,e)}}]),a}();b.default=g},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=c(123),j=d(i),k=c(182),l=d(k),m=c(13),n=c(11),o=d(n),p=c(180),q=d(p),r=c(125),s=d(r),t=function(a){function b(){e(this,b);var a=f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this));return a._batchSize=o.default.BATCH_SIZE_PARTICLES,a._batchIndex=0,a._attributeCount=36,a._vertexData=new ArrayBuffer(a._batchSize*a._attributeCount*4),a._indexData=new Uint16Array(6*a._batchSize),a._float32View=new Float32Array(a._vertexData),a._uint32View=new Uint32Array(a._vertexData),a._shader=new l.default,a._renderManager=null,a._context=null,a._currentTexture=null,a._currentBlendMode=null,a._currentView=null,a._viewId=-1,a._vao=null,a._fillIndexData(a._indexData),a}return g(b,a),h(b,[{key:"connect",value:function(a){if(!this._context){var b=a.context;this._context=b,this._renderManager=a,this._shader.connect(b),this._indexBuffer=q.default.createIndexBuffer(b,this._indexData,b.STATIC_DRAW),this._vertexBuffer=q.default.createVertexBuffer(b,this._vertexData,b.DYNAMIC_DRAW),this._vao=new s.default(b).addIndex(this._indexBuffer).addAttribute(this._vertexBuffer,this._shader.attributes.a_position,b.FLOAT,!1,this._attributeCount,0).addAttribute(this._vertexBuffer,this._shader.attributes.a_texcoord,b.UNSIGNED_SHORT,!0,this._attributeCount,8).addAttribute(this._vertexBuffer,this._shader.attributes.a_translation,b.FLOAT,!1,this._attributeCount,12).addAttribute(this._vertexBuffer,this._shader.attributes.a_scale,b.FLOAT,!1,this._attributeCount,20).addAttribute(this._vertexBuffer,this._shader.attributes.a_rotation,b.FLOAT,!1,this._attributeCount,28).addAttribute(this._vertexBuffer,this._shader.attributes.a_color,b.UNSIGNED_BYTE,!0,this._attributeCount,32)}return this}},{key:"disconnect",value:function(){return this._context&&(this.unbind(),this._shader.disconnect(),this._vao.destroy(),this._vao=null,this._renderManager=null,this._context=null),this}},{key:"bind",value:function(){if(!this._context)throw new Error("Renderer has to be connected first!");return this._renderManager.setVAO(this._vao),this._renderManager.setShader(this._shader),this}},{key:"unbind",value:function(){return this._context&&(this.flush(),this._renderManager.setShader(null),this._renderManager.setVAO(null),this._currentTexture=null,this._currentBlendMode=null,this._currentView=null,this._viewId=-1),this}},{key:"render",value:function(a){
var b=a.texture,c=a.textureFrame,d=a.texCoordData,e=a.particles,f=a.blendMode,g=b!==this._currentTexture,h=f!==this._currentBlendMode,i=this._float32View,j=this._uint32View;(g||h)&&(this.flush(),g&&(this._currentTexture=b,this._renderManager.setTexture(b)),h&&(this._currentBlendMode=f,this._renderManager.setBlendMode(f))),b.update();var k=!0,l=!1,n=void 0;try{for(var o,p=e[Symbol.iterator]();!(k=(o=p.next()).done);k=!0){var q=o.value;this._batchIndex>=this._batchSize&&this.flush();var r=q.position,s=q.scale,t=q.rotation,u=q.tint,v=this._batchIndex*this._attributeCount;i[v+0]=i[v+27]=c.x,i[v+1]=i[v+10]=c.y,i[v+9]=i[v+18]=c.width,i[v+19]=i[v+28]=c.height,j[v+2]=d[0],j[v+11]=d[1],j[v+20]=d[2],j[v+29]=d[3],i[v+3]=i[v+12]=i[v+21]=i[v+30]=r.x,i[v+4]=i[v+13]=i[v+22]=i[v+31]=r.y,i[v+5]=i[v+14]=i[v+23]=i[v+32]=s.x,i[v+6]=i[v+15]=i[v+24]=i[v+33]=s.y,i[v+7]=i[v+16]=i[v+25]=i[v+34]=(0,m.degreesToRadians)(t),j[v+8]=j[v+17]=j[v+26]=j[v+35]=u.getRGBA(),this._batchIndex++}}catch(a){l=!0,n=a}finally{try{!k&&p.return&&p.return()}finally{if(l)throw n}}return this}},{key:"flush",value:function(){if(this._batchIndex>0){var a=this._context,b=this._renderManager.renderTarget.view,c=b.updateId;this._currentView===b&&this._viewId===c||(this._currentView=b,this._viewId=c,this._shader.getUniform("u_projection").setValue(b.getTransform().toArray(!1))),this._renderManager.setVAO(this._vao),this._vertexBuffer.upload(this._float32View.subarray(0,this._batchIndex*this._attributeCount)),this._vao.draw(a.TRIANGLES,6*this._batchIndex,0),this._batchIndex=0}return this}},{key:"destroy",value:function(){this.disconnect(),this._shader.destroy(),this._shader=null,this._uint32View=null,this._float32View=null,this._viewId=null,this._batchSize=null,this._batchIndex=null,this._attributeCount=null,this._currentTexture=null,this._currentBlendMode=null,this._currentView=null,this._renderManager=null,this._context=null}},{key:"_fillIndexData",value:function(a){for(var b=a.length,c=0,d=0;c<b;c+=6,d+=4)a[c+0]=d+0,a[c+1]=d+1,a[c+2]=d+2,a[c+3]=d+0,a[c+4]=d+3,a[c+5]=d+2;return this}}]),b}(j.default);b.default=t},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var h=c(124),i=d(h),j=(c(179),function(a){function b(){return e(this,b),f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,"#version 300 es\r\nprecision lowp float;\r\n\r\nuniform mat3 u_projection;\r\n\r\nlayout(location = 0) in vec2 a_position;\r\nlayout(location = 1) in vec2 a_texcoord;\r\nlayout(location = 2) in vec2 a_translation;\r\nlayout(location = 3) in vec2 a_scale;\r\nlayout(location = 4) in float a_rotation;\r\nlayout(location = 5) in vec4 a_color;\r\n\r\nout vec2 v_texcoord;\r\nout vec4 v_color;\r\n\r\nvoid main(void) {\r\n    vec2 v = vec2(\r\n        (a_position.x * (a_scale.x * cos(a_rotation))) + (a_position.y * (a_scale.y * sin(a_rotation))) + a_translation.x,\r\n        (a_position.x * (a_scale.x * -sin(a_rotation))) + (a_position.y * (a_scale.y * cos(a_rotation))) + a_translation.y\r\n    );\r\n\r\n    gl_Position = vec4((u_projection * vec3(v, 1.0)).xy, 0.0, 1.0);\r\n\r\n    v_texcoord = a_texcoord;\r\n    v_color = vec4(a_color.rgb * a_color.a, a_color.a);\r\n}\r\n","#version 300 es\r\nprecision lowp float;\r\n\r\nuniform sampler2D u_texture;\r\n\r\nin vec2 v_texcoord;\r\nin vec4 v_color;\r\n\r\nlayout(location = 0) out vec4 o_fragColor;\r\n\r\nvoid main(void) {\r\n    o_fragColor = texture(u_texture, v_texcoord) * v_color;\r\n}\r\n"))}return g(b,a),b}(i.default));b.default=j},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;if(void 0!==g)return g.call(d)},j=c(115),k=c(64),l=d(k),m=c(39),n=d(m),o=c(166),p=c(12),q=d(p),r=c(184),s=d(r),t=c(25),u=d(t),v=c(185),w=d(v),x=c(34),y={NONE:0,KEY_DOWN:1,KEY_UP:2,POINTER_ENTER:4,POINTER_LEAVE:8,POINTER_MOVE:16,POINTER_DOWN:32,POINTER_UP:64,POINTER_CANCEL:128,MOUSE_SCROLL:256},z=!n.default.eventOptions||{capture:!0,passive:!0},A=!n.default.eventOptions||{capture:!0,passive:!1},B=x.GLOBAL.navigator,C=function(a){function b(a){e(this,b);var c=f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this));return c._app=a,c._channels=new Float32Array(j.CHANNEL_RANGE.OVERALL),c._inputs=new Set,c._keyDownChannels=[],c._keyUpChannels=[],c._pointers=new Map,c._pointersEntered=[],c._pointersLeft=[],c._pointersMoved=[],c._pointersDown=[],c._pointersUp=[],c._pointersCancelled=[],c._scrollDelta=new q.default,c._gamepads=[new w.default(0,c._channels),new w.default(1,c._channels),new w.default(2,c._channels),new w.default(3,c._channels)],c._flags=new l.default,c._addEventListeners(),c}return g(b,a),h(b,[{key:"add",value:function(a){return Array.isArray(a)?(a.forEach(this.add,this),this):(this._inputs.add(a),this)}},{key:"remove",value:function(a){return Array.isArray(a)?(a.forEach(this.remove,this),this):(this._inputs.delete(a),this)}},{key:"clear",value:function(){if(arguments.length>0&&void 0!==arguments[0]&&arguments[0]){var a=!0,b=!1,c=void 0;try{for(var d,e=this._inputs[Symbol.iterator]();!(a=(d=e.next()).done);a=!0)d.value.destroy()}catch(a){b=!0,c=a}finally{try{!a&&e.return&&e.return()}finally{if(b)throw c}}}return this._inputs.clear(),this}},{key:"update",value:function(){this._updateGamepads();var a=!0,b=!1,c=void 0;try{for(var d,e=this._inputs[Symbol.iterator]();!(a=(d=e.next()).done);a=!0){d.value.update(this._channels)}}catch(a){b=!0,c=a}finally{try{!a&&e.return&&e.return()}finally{if(b)throw c}}this._updateState();var f=!0,g=!1,h=void 0;try{for(var i,j=this._pointers.values()[Symbol.iterator]();!(f=(i=j.next()).done);f=!0){i.value.update()}}catch(a){g=!0,h=a}finally{try{!f&&j.return&&j.return()}finally{if(g)throw h}}return this}},{key:"destroy",value:function(){i(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this),this._removeEventListeners();var a=!0,c=!1,d=void 0;try{for(var e,f=this._pointers.values()[Symbol.iterator]();!(a=(e=f.next()).done);a=!0){e.value.destroy()}}catch(a){c=!0,d=a}finally{try{!a&&f.return&&f.return()}finally{if(c)throw d}}var g=!0,h=!1,j=void 0;try{for(var k,l=this._gamepads[Symbol.iterator]();!(g=(k=l.next()).done);g=!0){k.value.destroy()}}catch(a){h=!0,j=a}finally{try{!g&&l.return&&l.return()}finally{if(h)throw j}}this._inputs.clear(),this._inputs=null,this._keyDownChannels.length=0,this._keyDownChannels=null,this._keyUpChannels.length=0,this._keyUpChannels=null,this._pointers.clear(),this._pointers=null,this._pointersEntered.length=0,this._pointersEntered=null,this._pointersLeft.length=0,this._pointersLeft=null,this._pointersDown.length=0,this._pointersDown=null,this._pointersUp.length=0,this._pointersUp=null,this._pointersCancelled.length=0,this._pointersCancelled=null,this._scrollDelta.destroy(),this._scrollDelta=null,this._gamepads.length=0,this._gamepads=null,this._flags.destroy(),this._flags=null,this._channels=null,this._app=null}},{key:"_addEventListeners",value:function(){var a=this._app.canvas;this._onKeyDownHandler=this._onKeyDown.bind(this),this._onKeyUpHandler=this._onKeyUp.bind(this),this._onPointerEnterHandler=this._onPointerEnter.bind(this),this._onPointerLeaveHandler=this._onPointerLeave.bind(this),this._onPointerMoveHandler=this._onPointerMove.bind(this),this._onPointerDownHandler=this._onPointerDown.bind(this),this._onPointerUpHandler=this._onPointerUp.bind(this),this._onPointerCancelHandler=this._onPointerCancel.bind(this),this._onMouseScrollHandler=this._onMouseScroll.bind(this),x.GLOBAL.addEventListener("keydown",this._onKeyDownHandler,!0),x.GLOBAL.addEventListener("keyup",this._onKeyUpHandler,!0),a.addEventListener("pointerover",this._onPointerEnterHandler,z),a.addEventListener("pointerleave",this._onPointerLeaveHandler,z),a.addEventListener("pointercancel",this._onPointerCancelHandler,z),a.addEventListener("pointermove",this._onPointerMoveHandler,z),a.addEventListener("pointerdown",this._onPointerDownHandler,A),a.addEventListener("pointerup",this._onPointerUpHandler,A),a.addEventListener("wheel",this._onMouseScrollHandler,A),a.addEventListener("contextmenu",o.stopEvent,A),a.addEventListener("selectstart",o.stopEvent,A)}},{key:"_removeEventListeners",value:function(){var a=this._app.canvas;x.GLOBAL.removeEventListener("keydown",this._onKeyDownHandler,!0),x.GLOBAL.removeEventListener("keyup",this._onKeyUpHandler,!0),a.removeEventListener("pointerover",this._onPointerEnterHandler,z),a.removeEventListener("pointerleave",this._onPointerLeaveHandler,z),a.removeEventListener("pointercancel",this._onPointerCancelHandler,z),a.removeEventListener("pointermove",this._onPointerMoveHandler,z),a.removeEventListener("pointerdown",this._onPointerDownHandler,A),a.removeEventListener("pointerup",this._onPointerUpHandler,A),a.removeEventListener("wheel",this._onMouseScrollHandler,A),a.removeEventListener("contextmenu",o.stopEvent,A),a.removeEventListener("selectstart",o.stopEvent,A),this._onKeyDownHandler=null,this._onKeyUpHandler=null,this._onPointerEnterHandler=null,this._onPointerLeaveHandler=null,this._onPointerMoveHandler=null,this._onPointerDownHandler=null,this._onPointerUpHandler=null,this._onPointerCancelHandler=null,this._onMouseScrollHandler=null}},{key:"_onKeyDown",value:function(a){var b=j.CHANNEL_OFFSET.KEYBOARD+a.keyCode;this._channels[b]=1,this._keyDownChannels.push(b),this._flags.add(y.KEY_DOWN)}},{key:"_onKeyUp",value:function(a){var b=j.CHANNEL_OFFSET.KEYBOARD+a.keyCode;this._channels[b]=0,this._keyUpChannels.push(b),this._flags.add(y.KEY_UP)}},{key:"_onPointerEnter",value:function(a){var b=new s.default(a);this._pointers.set(b.id,b),this._pointersEntered.push(b),this._flags.add(y.POINTER_ENTER)}},{key:"_onPointerLeave",value:function(a){var b=this._pointers.get(a.pointerId).setEventData(a);this._pointers.delete(b.id),this._pointersLeft.push(b),this._flags.add(y.POINTER_LEAVE)}},{key:"_onPointerDown",value:function(a){var b=this._pointers.get(a.pointerId);b.setEventData(a),b.downPosition.set(b.x,b.y),this._pointersDown.push(b),this._flags.add(y.POINTER_DOWN),a.preventDefault()}},{key:"_onPointerUp",value:function(a){var b=this._pointers.get(a.pointerId).setEventData(a);this._pointersUp.push(b),this._flags.add(y.POINTER_UP),a.preventDefault()}},{key:"_onPointerCancel",value:function(a){var b=this._pointers.get(a.pointerId).setEventData(a);this._pointersCancelled.push(b),this._flags.add(y.POINTER_CANCEL)}},{key:"_onPointerMove",value:function(a){var b=this._pointers.get(a.pointerId).setEventData(a);this._pointersMoved.push(b),this._flags.add(y.POINTER_MOVE)}},{key:"_onMouseScroll",value:function(a){this._scrollDelta.set(a.deltaX,a.deltaY),this._flags.add(y.MOUSE_SCROLL)}},{key:"_triggerPointerEvents",value:function(a,b,c){var d=!0,e=!1,f=void 0;try{for(var g,h=b[Symbol.iterator]();!(d=(g=h.next()).done);d=!0){var i=g.value;this._triggerPointerEvent(a,i,c)}}catch(a){e=!0,f=a}finally{try{!d&&h.return&&h.return()}finally{if(e)throw f}}}},{key:"_triggerPointerEvent",value:function(a,b){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},d=c.pointerEvent,e=c.mouseEvent,f=c.touchEvent,g=c.penEvent;this.trigger("pointer:"+(d||a),b,this._pointers),"mouse"===b.type?this.trigger("mouse:"+(e||a),b,this._pointers):"touch"===b.type?this.trigger("touch:"+(f||a),b,this._pointers):"pen"===b.type&&this.trigger("pen:"+(g||a),b,this._pointers)}},{key:"_updateGamepads",value:function(){var a=B.getGamepads(),b=!0,c=!1,d=void 0;try{for(var e,f=this._gamepads[Symbol.iterator]();!(b=(e=f.next()).done);b=!0){var g=e.value,h=a[g.index];!!h!==g.connected&&(h?(g.connect(h),this.trigger("gamepad:connected",g,this._gamepads)):(g.disconnect(),this.trigger("gamepad:disconnected",g,this._gamepads)),this.trigger("gamepad:updated",g,this._gamepads)),g.update()}}catch(a){c=!0,d=a}finally{try{!b&&f.return&&f.return()}finally{if(c)throw d}}}},{key:"_updateState",value:function(){if(this._flags.value){if(this._flags.has(y.KEY_DOWN)&&(this.trigger("key:down",this._keyDownChannels,this),this._keyDownChannels.length=0,this._flags.remove(y.KEY_DOWN)),this._flags.has(y.KEY_UP)&&(this.trigger("key:up",this._keyUpChannels,this),this._keyUpChannels.length=0,this._flags.remove(y.KEY_UP)),this._flags.has(y.POINTER_ENTER)&&(this._triggerPointerEvents("enter",this._pointersEntered),this._pointersEntered.length=0,this._flags.remove(y.POINTER_ENTER)),this._flags.has(y.POINTER_LEAVE)&&(this._triggerPointerEvents("leave",this._pointersLeft),this._pointersLeft.length=0,this._flags.remove(y.POINTER_LEAVE)),this._flags.has(y.POINTER_MOVE)&&(this._triggerPointerEvents("move",this._pointersMoved),this._pointersMoved.length=0,this._flags.remove(y.POINTER_MOVE)),this._flags.has(y.POINTER_DOWN)&&(this._triggerPointerEvents("down",this._pointersDown,{touchEvent:"start"}),this._pointersDown.length=0,this._flags.remove(y.POINTER_DOWN)),this._flags.has(y.POINTER_UP)){var a=!0,b=!1,c=void 0;try{for(var d,e=this._pointersUp[Symbol.iterator]();!(a=(d=e.next()).done);a=!0){var f=d.value,g=f.downPosition,h=g.x,i=g.y;this._triggerPointerEvent("up",f,{touchEvent:"end"}),h>0&&i>0&&f.position.distanceTo(h,i)<10?this._triggerPointerEvent("tap",f,{mouseEvent:"click"}):this._triggerPointerEvent("tapoutside",f,{mouseEvent:"clickoutside"}),f.downPosition.set(-1,-1)}}catch(a){b=!0,c=a}finally{try{!a&&e.return&&e.return()}finally{if(b)throw c}}this._pointersUp.length=0,this._flags.remove(y.POINTER_UP)}this._flags.has(y.POINTER_CANCEL)&&(this._triggerPointerEvents("cancel",this._pointersCancelled),this._pointersCancelled.length=0,this._flags.remove(y.POINTER_CANCEL)),this._flags.has(y.MOUSE_SCROLL)&&(this.trigger("mouse:scroll",this._scrollDelta,this._pointers),this._scrollDelta.set(0,0),this._flags.remove(y.MOUSE_SCROLL))}}},{key:"channels",get:function(){return this._channels}},{key:"pointers",get:function(){return this._pointers}},{key:"gamepads",get:function(){return this._gamepads}}]),b}(u.default);b.default=C},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;if(void 0!==g)return g.call(d)},j=c(12),k=d(j),l=c(57),m=d(l),n=c(64),o=d(n),p=c(25),q=d(p),r={NONE:0,POSITION:1,SIZE:2,TILT:4,BUTTONS:8,PRESSURE:16,ROTATION:32},s=function(a){function b(a){e(this,b);var c=f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this)),d=a.target.getBoundingClientRect();return c._id=a.pointerId,c._type=a.pointerType,c._position=new k.default(a.clientX-d.left,a.clientY-d.top),c._downPosition=new k.default(-1,-1),c._size=new m.default(a.width,a.height),c._tilt=new k.default(a.tiltX,a.tiltY),c._buttons=a.buttons,c._pressure=a.pressure,c._rotation=a.twist,c._flags=new o.default,c}return g(b,a),h(b,[{key:"setEventData",value:function(a){var b=a.target.getBoundingClientRect(),c=a.clientX-b.left,d=a.clientY-b.top;return this._position.x===c&&this._position.y===d||(this._position.set(c,d),this._flags.add(r.POSITION)),this._size.width===a.width&&this._size.height===a.height||(this._size.set(a.width,a.height),this._flags.add(r.SIZE)),this._tilt.x===a.tiltX&&this._tilt.y===a.tiltY||(this._tilt.set(a.tiltX,a.tiltY),this._flags.add(r.TILT)),this._buttons!==a.buttons&&(this._buttons=a.buttons,this._flags.add(r.BUTTONS)),this._pressure!==a.pressure&&(this._pressure=a.pressure,this._flags.add(r.PRESSURE)),this._rotation!==a.twist&&(this._rotation=a.twist,this._flags.add(r.ROTATION)),this}},{key:"update",value:function(){return this._flags.value&&(this._flags.has(r.POSITION)&&(this.trigger("move",this._position,this),this._flags.remove(r.POSITION)),this._flags.has(r.SIZE)&&(this.trigger("resize",this._size,this),this._flags.remove(r.SIZE)),this._flags.has(r.TILT)&&(this.trigger("tilt",this._tilt,this),this._flags.remove(r.TILT)),this._flags.has(r.ROTATION)&&(this.trigger("rotate",this._rotation,this),this._flags.remove(r.ROTATION)),this._flags.has(r.BUTTONS)&&(this.trigger("buttonsChanged",this._buttons,this),this._flags.remove(r.BUTTONS)),this._flags.has(r.PRESSURE)&&(this.trigger("pressureChanged",this._pressure,this),this._flags.remove(r.PRESSURE))),this}},{key:"destroy",value:function(){i(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this),this._position.destroy(),this._position=null,this._downPosition.destroy(),this._downPosition=null,this._size.destroy(),this._size=null,this._tilt.destroy(),this._tilt=null,this._flags.destroy(),this._flags=null,this._id=null,this._type=null,this._buttons=null,this._pressure=null,this._rotation=null}},{key:"id",get:function(){return this._id}},{key:"type",get:function(){return this._type}},{key:"position",get:function(){return this._position}},{key:"downPosition",get:function(){return this._downPosition}},{key:"x",get:function(){return this._position.x}},{key:"y",get:function(){return this._position.y}},{key:"size",get:function(){return this._size}},{key:"width",get:function(){return this._size.width}},{key:"height",get:function(){return this._size.height}},{key:"tilt",get:function(){return this._tilt}},{key:"buttons",get:function(){return this._buttons}},{key:"pressure",get:function(){return this._pressure}},{key:"rotation",get:function(){return this._rotation}}]),b}(q.default);b.default=s},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;if(void 0!==g)return g.call(d)},j=c(11),k=d(j),l=c(25),m=d(l),n=function(a){function b(a,c){e(this,b);var d=f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this));return d._index=a,d._channels=c,d._connected=!1,d._gamepad=null,d._mapping=k.default.GAMEPAD_MAPPING,d}return g(b,a),h(b,[{key:"connect",value:function(a){return this._connected||(this._gamepad=a,this._connected=!0,this.trigger("connect",this)),this}},{key:"disconnect",value:function(){return this._connected&&(this._gamepad=null,this._connected=!1,this.trigger("disconnect",this)),this}},{key:"update",value:function(){if(this._connected){var a=this._channels,b=this._gamepad.buttons,c=this._mapping.buttons,d=this._gamepad.axes,e=this._mapping.axes,f=!0,g=!1,h=void 0;try{for(var i,j=c[Symbol.iterator]();!(f=(i=j.next()).done);f=!0){var k=i.value,l=k.index,m=k.channel;if(l in b){var n=k.transformValue(b[l].value)||0;a[m]!==n&&(a[m]=n,this.trigger("update",m,n,this))}}}catch(a){g=!0,h=a}finally{try{!f&&j.return&&j.return()}finally{if(g)throw h}}var o=!0,p=!1,q=void 0;try{for(var r,s=e[Symbol.iterator]();!(o=(r=s.next()).done);o=!0){var t=r.value,l=t.index,m=t.channel;if(l in d){var u=t.transformValue(d[l])||0;a[m]!==u&&(a[m]=u,this.trigger("update",m,u,this))}}}catch(a){p=!0,q=a}finally{try{!o&&s.return&&s.return()}finally{if(p)throw q}}}return this}},{key:"destroy",value:function(){i(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this),this.disconnect(),this._mapping.destroy(),this._mapping=null,this._index=null,this._channels=null,this._connected=null,this._gamepad=null}},{key:"channels",get:function(){return this._channels}},{key:"gamepad",get:function(){return this._gamepad}},{key:"index",get:function(){return this._index}},{key:"connected",get:function(){return this._connected}},{key:"mapping",get:function(){return this._mapping},set:function(a){this._mapping=a}}]),b}(m.default);b.default=n},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){return function(){var b=a.apply(this,arguments);return new Promise(function(a,c){function d(e,f){try{var g=b[e](f),h=g.value}catch(a){return void c(a)}if(!g.done)return Promise.resolve(h).then(function(a){d("next",a)},function(a){d("throw",a)});a(h)}return d("next")})}}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function g(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function h(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var i=function(){function a(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done)&&(c.push(g.value),!b||c.length!==b);d=!0);}catch(a){e=!0,f=a}finally{try{!d&&h.return&&h.return()}finally{if(e)throw f}}return c}return function(b,c){if(Array.isArray(b))return b;if(Symbol.iterator in Object(b))return a(b,c);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},k=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),l=function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;if(void 0!==g)return g.call(d)},m=c(11),n=d(m),o=c(25),p=d(o),q=c(187),r=d(q),s=c(65),t=d(s),u=c(126),v=d(u),w=c(188),x=d(w),y=c(127),z=d(y),A=c(189),B=d(A),C=c(190),D=d(C),E=c(193),F=d(E),G=c(129),H=d(G),I=c(195),J=d(I),K=c(66),L=d(K),M=c(196),N=d(M),O=c(413),P=d(O),Q=function(a){function b(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},c=a.resourcePath,d=void 0===c?"":c,e=a.database,h=void 0===e?null:e,i=a.method,j=void 0===i?n.default.REQUEST_METHOD:i,k=a.mode,l=void 0===k?n.default.REQUEST_MODE:k,m=a.cache,o=void 0===m?n.default.REQUEST_CACHE:m;f(this,b);var p=g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this));return p._resourcePath=d,p._database=h,p._factories=new Map,p._queue=[],p._loaded=0,p._resources=new r.default,p._method=j,p._mode=l,p._cache=o,p._addFactories(),p}return h(b,a),k(b,[{key:"addFactory",value:function(a,b){return this._factories.set(a,b),this._resources.addType(a),this}},{key:"getFactory",value:function(a){if(!this._factories.has(a))throw new Error('No resource factory for type "'+a+'".');return this._factories.get(a)}},{key:"add",value:function(a,b,c,d){if(!this._factories.has(a))throw new Error('No resource factory for type "'+a+'".');if("object"===(void 0===b?"undefined":j(b))){var e=!0,f=!1,g=void 0;try{for(var h,k=Object.entries(b)[Symbol.iterator]();!(e=(h=k.next()).done);e=!0){var l=h.value,m=i(l,2),n=m[0],o=m[1];this._queue.push({type:a,name:n,path:o,options:c})}}catch(a){f=!0,g=a}finally{try{!e&&k.return&&k.return()}finally{if(f)throw g}}return this}return this._queue.push({type:a,name:b,path:c,options:d}),this}},{key:"load",value:function(){function a(a){return b.apply(this,arguments)}var b=e(regeneratorRuntime.mark(function a(b){var c,d,e,f,g,h;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:this._loaded=0,b&&this.once("complete",b,this),this.trigger("start",this._queue.length,this._loaded,this._queue),c=!0,d=!1,e=void 0,a.prev=6,f=this._queue[Symbol.iterator]();case 8:if(c=(g=f.next()).done){a.next=20;break}return h=g.value,a.t0=this,a.t1=this._queue.length,a.t2=++this._loaded,a.next=15,this.loadItem(h);case 15:a.t3=a.sent,a.t0.trigger.call(a.t0,"progress",a.t1,a.t2,a.t3);case 17:c=!0,a.next=8;break;case 20:a.next=26;break;case 22:a.prev=22,a.t4=a.catch(6),d=!0,e=a.t4;case 26:a.prev=26,a.prev=27,!c&&f.return&&f.return();case 29:if(a.prev=29,!d){a.next=32;break}throw e;case 32:return a.finish(29);case 33:return a.finish(26);case 34:return this.trigger("complete",this._queue.length,this._loaded,this._resources),this._queue.length=0,a.abrupt("return",this._resources);case 37:case"end":return a.stop()}},a,this,[[6,22,26,34],[27,,29,33]])}));return a}()},{key:"loadItem",value:function(){function a(){return b.apply(this,arguments)}var b=e(regeneratorRuntime.mark(function a(){var b,c,d=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=d.type,f=d.name,g=d.path,h=d.options;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(this._resources.has(e,f)){a.next=28;break}if(b=this.getFactory(e),!this._database){a.next=8;break}return a.next=5,this._database.load(b.storageType,f);case 5:a.t0=a.sent,a.next=9;break;case 8:a.t0=null;case 9:if(c=a.t0){a.next=21;break}return a.t1=b,a.next=14,b.request(this._resourcePath+g,{method:this._method,mode:this._mode,cache:this._cache});case 14:return a.t2=a.sent,a.next=17,a.t1.process.call(a.t1,a.t2);case 17:if(c=a.sent,!this._database){a.next=21;break}return a.next=21,this._database.save(b.storageType,f,c);case 21:return a.t3=this._resources,a.t4=e,a.t5=f,a.next=26,b.create(c,h);case 26:a.t6=a.sent,a.t3.set.call(a.t3,a.t4,a.t5,a.t6);case 28:return a.abrupt("return",this._resources.get(e,f));case 29:case"end":return a.stop()}},a,this)}));return a}()},{key:"clear",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},b=a.events,c=void 0===b||b,d=a.queue,e=void 0===d||d,f=a.resources,g=void 0===f||f;return c&&this.off("*"),e&&(this._queue.length=0),g&&this._resources.clear(),this}},{key:"destroy",value:function(){l(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this);var a=!0,c=!1,d=void 0;try{for(var e,f=this._factories.values()[Symbol.iterator]();!(a=(e=f.next()).done);a=!0){e.value.destroy()}}catch(a){c=!0,d=a}finally{try{!a&&f.return&&f.return()}finally{if(c)throw d}}this._database&&(this._database.destroy(),this._database=null),this._factories.clear(),this._factories=null,this._queue.length=0,this._queue=null,this._resources.destroy(),this._resources=null,this._resourcePath=null,this._method=null,this._mode=null,this._cache=null}},{key:"_addFactories",value:function(){this.addFactory("arrayBuffer",new t.default),this.addFactory("mediaSource",new L.default),this.addFactory("blob",new v.default),this.addFactory("font",new x.default),this.addFactory("music",new D.default),this.addFactory("sound",new F.default),this.addFactory("video",new N.default),this.addFactory("image",new z.default),this.addFactory("texture",new J.default),this.addFactory("text",new H.default),this.addFactory("json",new B.default),this.addFactory("svg",new P.default)}},{key:"factories",get:function(){return this._factories}},{key:"queue",get:function(){return this._queue}},{key:"loaded",get:function(){return this._loaded}},{key:"resources",get:function(){return this._resources}},{key:"resourcePath",get:function(){return this._resourcePath},set:function(a){this._resourcePath=a}},{key:"database",get:function(){return this._database},set:function(a){this._database=a}},{key:"method",get:function(){return this._method},set:function(a){this._method=a}},{key:"mode",get:function(){return this._mode},set:function(a){this._mode=a}},{key:"cache",get:function(){return this._cache},set:function(a){this._cache=a}}]),b}(p.default);b.default=Q},function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0});var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=function(){function a(){d(this,a),this._resources=new Map,this._types=new Set}return e(a,[{key:"addType",value:function(a){return this._types.has(a)||(this._resources.set(a,new Map),this._types.add(a)),this}},{key:"getResources",value:function(a){if(!this._types.has(a))throw new Error('Unknown type "'+a+'".');return this._resources.get(a)}},{key:"has",value:function(a,b){return this.getResources(a).has(b)}},{key:"get",value:function(a,b){var c=this.getResources(a);if(!c.has(b))throw new Error('Missing resource "'+b+'" with type "'+a+'".');return c.get(b)}},{key:"set",value:function(a,b,c){return this.getResources(a).set(b,c),this}},{key:"remove",value:function(a,b){return this.getResources(a).delete(b),this}},{key:"clear",value:function(){var a=!0,b=!1,c=void 0
;try{for(var d,e=this._resources.values()[Symbol.iterator]();!(a=(d=e.next()).done);a=!0){d.value.clear()}}catch(a){b=!0,c=a}finally{try{!a&&e.return&&e.return()}finally{if(b)throw c}}return this}},{key:"destroy",value:function(){this.clear(),this._resources.clear(),this._resources=null,this._types.clear(),this._types=null}},{key:"resources",get:function(){return this._resources}},{key:"types",get:function(){return this._types}}]),a}();b.default=f},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){return function(){var b=a.apply(this,arguments);return new Promise(function(a,c){function d(e,f){try{var g=b[e](f),h=g.value}catch(a){return void c(a)}if(!g.done)return Promise.resolve(h).then(function(a){d("next",a)},function(a){d("throw",a)});a(h)}return d("next")})}}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function g(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function h(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var i=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),j=function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;if(void 0!==g)return g.call(d)},k=c(65),l=d(k),m=function(a){function b(){return f(this,b),g(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return h(b,a),i(b,[{key:"create",value:function(){function a(a){return c.apply(this,arguments)}var c=e(regeneratorRuntime.mark(function a(c){var d,e,f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},g=f.family,h=f.destriptors,i=f.addToDocument,k=void 0===i||i;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,j(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"create",this).call(this,c,null);case 2:return d=a.sent,e=new FontFace(g,d,h),a.next=6,e.load();case 6:return k&&document.fonts.add(e),a.abrupt("return",e);case 8:case"end":return a.stop()}},a,this)}));return a}()},{key:"storageType",get:function(){return"font"}}]),b}(l.default);b.default=m},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){return function(){var b=a.apply(this,arguments);return new Promise(function(a,c){function d(e,f){try{var g=b[e](f),h=g.value}catch(a){return void c(a)}if(!g.done)return Promise.resolve(h).then(function(a){d("next",a)},function(a){d("throw",a)});a(h)}return d("next")})}}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function g(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function h(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var i=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),j=c(84),k=d(j),l=function(a){function b(){return f(this,b),g(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return h(b,a),i(b,[{key:"process",value:function(){function a(a){return b.apply(this,arguments)}var b=e(regeneratorRuntime.mark(function a(b){return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,b.json();case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}},a,this)}));return a}()},{key:"storageType",get:function(){return"json"}}]),b}(k.default);b.default=l},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){return function(){var b=a.apply(this,arguments);return new Promise(function(a,c){function d(e,f){try{var g=b[e](f),h=g.value}catch(a){return void c(a)}if(!g.done)return Promise.resolve(h).then(function(a){d("next",a)},function(a){d("throw",a)});a(h)}return d("next")})}}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function g(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function h(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var i=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),j=function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;if(void 0!==g)return g.call(d)},k=c(66),l=d(k),m=c(192),n=d(m),o=function(a){function b(){return f(this,b),g(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return h(b,a),i(b,[{key:"create",value:function(){function a(a){return c.apply(this,arguments)}var c=e(regeneratorRuntime.mark(function a(c){var d,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},f=e.type,g=void 0===f?"audio":f,h=e.createMediaElement,i=void 0===h||h,k=e.decodeAudioBuffer,l=void 0!==k&&k,m=e.mimeType,o=e.loadEvent,p=e.volume,q=e.loop,r=e.speed,s=e.time,t=e.muted;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,j(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"create",this).call(this,{type:g,createMediaElement:i,decodeAudioBuffer:l,mimeType:m,loadEvent:o});case 2:return d=a.sent,a.abrupt("return",new n.default(d,{volume:p,loop:q,speed:r,time:s,muted:t}));case 4:case"end":return a.stop()}},a,this)}));return a}()},{key:"storageType",get:function(){return"sound"}}]),b}(l.default);b.default=o},function(a,b,c){"use strict";function d(a){return function(){var b=a.apply(this,arguments);return new Promise(function(a,c){function d(e,f){try{var g=b[e](f),h=g.value}catch(a){return void c(a)}if(!g.done)return Promise.resolve(h).then(function(a){d("next",a)},function(a){d("throw",a)});a(h)}return d("next")})}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0});var f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;if(void 0!==g)return g.call(d)},h=c(38),i=c(116),j=function(){function a(b,c){var d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},f=d.mimeType,g=void 0===f?(0,i.determineMimeType)(c):f,h=d.loadEvent,j=void 0===h?"canplaythrough":h;e(this,a),this._type=b,this._arrayBuffer=c,this._mimeType=g,this._blob=new Blob([c],{type:g}),this._blobURL=URL.createObjectURL(this._blob),this._loadEvent=j,this._mediaElement=null,this._audioBuffer=null}return f(a,[{key:"createMediaElement",value:function(){function a(){return b.apply(this,arguments)}var b=d(regeneratorRuntime.mark(function a(){var b=this;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(this._mediaElement){a.next=2;break}return a.abrupt("return",new Promise(function(a,c){var d=document.createElement(b._type);d.addEventListener(b._loadEvent,function(){return a(b._mediaElement=d)}),d.addEventListener("error",function(){return c(Error("Error loading audio source."))}),d.addEventListener("abort",function(){return c(Error("Audio loading was canceled."))}),d.src=b._blobURL}));case 2:return a.abrupt("return",this._mediaElement);case 3:case"end":return a.stop()}},a,this)}));return a}()},{key:"decodeAudioBuffer",value:function(){function a(){return b.apply(this,arguments)}var b=d(regeneratorRuntime.mark(function a(){return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(this._audioBuffer){a.next=4;break}return a.next=3,(0,h.decodeAudioBuffer)(this._arrayBuffer);case 3:this._audioBuffer=a.sent;case 4:return a.abrupt("return",this._audioBuffer);case 5:case"end":return a.stop()}},a,this)}));return a}()},{key:"destroy",value:function(){g(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"destroy",this).call(this),URL.revokeObjectURL(this._blobURL),this._type=null,this._arrayBuffer=null,this._mimeType=null,this._blob=null,this._blobURL=null,this._loadEvent=null,this._mediaElement=null,this._audioBuffer=null}},{key:"type",get:function(){return this._type}},{key:"arrayBuffer",get:function(){return this._arrayBuffer}},{key:"mimeType",get:function(){return this._mimeType}},{key:"blob",get:function(){return this._blob}},{key:"blobURL",get:function(){return this._blobURL}},{key:"loadEvent",get:function(){return this._loadEvent}},{key:"mediaElement",get:function(){return this._mediaElement}},{key:"audioBuffer",get:function(){return this._audioBuffer}}]),a}();b.default=j},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;if(void 0!==g)return g.call(d)},j=c(38),k=c(13),l=c(128),m=d(l),n=c(11),o=d(n),p=function(a){function b(a){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},d=c.volume,g=void 0===d?o.default.VOLUME_MUSIC:d,h=c.loop,i=void 0===h?o.default.MEDIA_LOOP:h,k=c.speed,l=void 0===k?o.default.MEDIA_SPEED:k,m=c.time,n=void 0===m?o.default.MEDIA_TIME:m,p=c.muted,q=void 0===p?o.default.MEDIA_MUTED:p;e(this,b);var r=f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,{volume:g,loop:i,speed:l,time:n,muted:q})),s=r.mediaElement;if(!s)throw new Error("MediaElement is missing in MediaSource");return r._duration=s.duration,r._volume=s.volume,r._speed=s.playbackRate,r._loop=s.loop,r._muted=s.muted,r._gainNode=j.audioContext.createGain(),r._gainNode.gain.setTargetAtTime(r.volume,j.audioContext.currentTime,10),r._gainNode.connect(j.audioContext.destination),r._sourceNode=j.audioContext.createMediaElementSource(r.mediaElement),r._sourceNode.connect(r._gainNode),r}return g(b,a),h(b,[{key:"destroy",value:function(){i(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this),this._sourceNode.disconnect(),this._sourceNode=null,this._gainNode.disconnect(),this._gainNode=null}},{key:"volume",get:function(){return this._volume},set:function(a){var b=(0,k.clamp)(a,0,2);this._volume!==b&&(this._volume=b,this._gainNode&&this._gainNode.gain.setTargetAtTime(b,j.audioContext.currentTime,10))}},{key:"analyserTarget",get:function(){return this._gainNode}}]),b}(m.default);b.default=p},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){return function(){var b=a.apply(this,arguments);return new Promise(function(a,c){function d(e,f){try{var g=b[e](f),h=g.value}catch(a){return void c(a)}if(!g.done)return Promise.resolve(h).then(function(a){d("next",a)},function(a){d("throw",a)});a(h)}return d("next")})}}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function g(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function h(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var i=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),j=function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;if(void 0!==g)return g.call(d)},k=c(66),l=d(k),m=c(194),n=d(m),o=function(a){function b(){return f(this,b),g(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return h(b,a),i(b,[{key:"create",value:function(){function a(a){return c.apply(this,arguments)}var c=e(regeneratorRuntime.mark(function a(c){var d,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},f=e.type,g=void 0===f?"audio":f,h=e.createMediaElement,i=void 0!==h&&h,k=e.decodeAudioBuffer,l=void 0===k||k,m=e.mimeType,o=e.loadEvent,p=e.volume,q=e.loop,r=e.speed,s=e.time,t=e.muted;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,j(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"create",this).call(this,{type:g,createMediaElement:i,decodeAudioBuffer:l,mimeType:m,loadEvent:o});case 2:return d=a.sent,a.abrupt("return",new n.default(d,{volume:p,loop:q,speed:r,time:s,muted:t}));case 4:case"end":return a.stop()}},a,this)}));return a}()},{key:"storageType",get:function(){return"sound"}}]),b}(l.default);b.default=o},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;if(void 0!==g)return g.call(d)},j=c(38),k=c(13),l=c(39),m=(d(l),c(128)),n=d(m),o=c(11),p=d(o),q=function(a){function b(a){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},d=c.volume,g=void 0===d?p.default.VOLUME_SOUND:d,h=c.loop,i=void 0===h?p.default.MEDIA_LOOP:h,k=c.speed,l=void 0===k?p.default.MEDIA_SPEED:k,m=c.time,n=void 0===m?p.default.MEDIA_TIME:m,o=c.muted,q=void 0===o?p.default.MEDIA_MUTED:o;e(this,b);var r=f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,{volume:g,loop:i,speed:l,time:n,muted:q})),s=r.audioBuffer;if(!s)throw new Error("AudioBuffer is missing in MediaSource");return r._audioBuffer=s,r._duration=s.duration,r._paused=!0,r._startTime=0,r._currentTime=0,r._sourceNode=null,r._gainNode=j.audioContext.createGain(),r._gainNode.gain.setTargetAtTime(r.volume,j.audioContext.currentTime,10),r._gainNode.connect(j.audioContext.destination),r}return g(b,a),h(b,[{key:"play",value:function(a){return this._paused&&(this.applyOptions(a),this._sourceNode=this.createSourceNode(),this._startTime=j.audioContext.currentTime,this._paused=!1,this.trigger("start")),this}},{key:"createSourceNode",value:function(){var a=j.audioContext.createBufferSource();return a.buffer=this.mediaSource.audioBuffer,a.loop=this.loop,a.playbackRate.value=this.speed,a.connect(this._gainNode),a.start(0,this._currentTime),a}},{key:"pause",value:function(){if(!this._paused){var a=this.duration,b=this.currentTime;this._currentTime=b<=a?b:(b-a)*(b/a|0),this._sourceNode.stop(0),this._sourceNode.disconnect(),this._sourceNode=null,this._paused=!0,this.trigger("stop")}return this}},{key:"destroy",value:function(){i(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this),this._sourceNode.disconnect(),this._sourceNode=null,this._gainNode.disconnect(),this._gainNode=null,this._audioBuffer=null,this._paused=null,this._startTime=null,this._currentTime=null}},{key:"volume",get:function(){return this._volume},set:function(a){var b=(0,k.clamp)(a,0,2);this._volume!==b&&(this._volume=b,this._gainNode&&this._gainNode.gain.setTargetAtTime(this.muted?0:b,j.audioContext.currentTime,10))}},{key:"loop",set:function(a){var b=!!a;this._loop!==b&&(this._loop=b,this._sourceNode&&(this._sourceNode.loop=b))}},{key:"speed",set:function(a){var b=Math.max(0,a);this._speed!==b&&(this._speed=b,this._sourceNode&&(this._sourceNode.playbackRate.value=b))}},{key:"currentTime",get:function(){return this._startTime&&j.audioContext?this._currentTime+j.audioContext.currentTime-this._startTime:0},set:function(a){this.pause(),this._currentTime=Math.max(0,a),this.play()}},{key:"muted",set:function(a){var b=!!a;this._muted!==b&&(this._muted=b,this._gainNode&&this._gainNode.gain.setTargetAtTime(b?0:this.volume,j.audioContext.currentTime,10))}},{key:"paused",get:function(){return!(!this._paused||this._loop)&&this.currentTime>=this.duration}},{key:"playing",get:function(){return!this._paused}},{key:"analyserTarget",get:function(){return this._gainNode||null}}]),b}(n.default);b.default=q},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){return function(){var b=a.apply(this,arguments);return new Promise(function(a,c){function d(e,f){try{var g=b[e](f),h=g.value}catch(a){return void c(a)}if(!g.done)return Promise.resolve(h).then(function(a){d("next",a)},function(a){d("throw",a)});a(h)}return d("next")})}}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function g(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function h(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var i=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),j=function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;if(void 0!==g)return g.call(d)},k=c(127),l=d(k),m=c(58),n=d(m),o=function(a){function b(){return f(this,b),g(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return h(b,a),i(b,[{key:"create",value:function(){function a(a){return c.apply(this,arguments)}var c=e(regeneratorRuntime.mark(function a(c){var d,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},f=e.mimeType,g=e.scaleMode,h=e.wrapMode,i=e.premultiplyAlpha,k=e.generateMipMap;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,j(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"create",this).call(this,c,{mimeType:f});case 2:return d=a.sent,a.abrupt("return",new n.default(d,{scaleMode:g,wrapMode:h,premultiplyAlpha:i,generateMipMap:k}));case 4:case"end":return a.stop()}},a,this)}));return a}()},{key:"storageType",get:function(){return"image"}}]),b}(l.default);b.default=o},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){return function(){var b=a.apply(this,arguments);return new Promise(function(a,c){function d(e,f){try{var g=b[e](f),h=g.value}catch(a){return void c(a)}if(!g.done)return Promise.resolve(h).then(function(a){d("next",a)},function(a){d("throw",a)});a(h)}return d("next")})}}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function g(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function h(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var i=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),j=function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;if(void 0!==g)return g.call(d)},k=c(197),l=d(k),m=c(66),n=d(m),o=function(a){function b(){return f(this,b),g(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return h(b,a),i(b,[{key:"create",value:function(){function a(a){return c.apply(this,arguments)}var c=e(regeneratorRuntime.mark(function a(c){var d,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},f=e.type,g=void 0===f?"video":f,h=e.createMediaElement,i=void 0===h||h,k=e.decodeAudioBuffer,m=void 0!==k&&k,n=e.mimeType,o=e.loadEvent,p=e.volume,q=e.loop,r=e.speed,s=e.time,t=e.muted,u=e.scaleMode,v=e.wrapMode,w=e.premultiplyAlpha,x=e.generateMipMap;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,j(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"create",this).call(this,c,{type:g,createMediaElement:i,decodeAudioBuffer:m,mimeType:n,loadEvent:o});case 2:return d=a.sent,a.abrupt("return",new l.default(d,{volume:p,loop:q,speed:r,time:s,muted:t,scaleMode:u,wrapMode:v,premultiplyAlpha:w,generateMipMap:x}));case 4:case"end":return a.stop()}},a,this)}));return a}()},{key:"storageType",get:function(){return"video"}}]),b}(n.default);b.default=o},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;if(void 0!==g)return g.call(d)},j=c(38),k=c(13),l=c(85),m=d(l),n=c(58),o=d(n),p=c(39),q=(d(p),c(11)),r=d(q),s=function(a){function b(a){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},d=c.volume,g=void 0===d?r.default.VOLUME_VIDEO:d,h=c.loop,i=void 0===h?r.default.MEDIA_LOOP:h,k=c.speed,l=void 0===k?r.default.MEDIA_SPEED:k,m=c.time,n=void 0===m?r.default.MEDIA_TIME:m,p=c.muted,q=void 0===p?r.default.MEDIA_MUTED:p,s=c.scaleMode,t=c.wrapMode,u=c.premultiplyAlpha,v=c.generateMipMap;e(this,b);var w=f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,new o.default(a.mediaElement,{scaleMode:s,wrapMode:t,premultiplyAlpha:u,generateMipMap:v}))),x=a.mediaElement;return w._mediaSource=a,w._mediaElement=x,w._duration=x?x.duration:0,w._volume=x?x.volume:1,w._speed=x?x.playbackRate:1,w._loop=!!x&&x.loop,w._muted=!!x&&x.muted,w._gainNode=j.audioContext.createGain(),w._gainNode.gain.setTargetAtTime(w.volume,j.audioContext.currentTime,10),w._gainNode.connect(j.audioContext.destination),w._sourceNode=j.audioContext.createMediaElementSource(w._mediaElement),w._sourceNode.connect(w._gainNode),w.applyOptions({volume:g,loop:i,speed:l,time:n,muted:q}),w}return g(b,a),h(b,[{key:"play",value:function(a){return this.paused&&(this.applyOptions(a),this._mediaElement.play(),this.trigger("start")),this}},{key:"pause",value:function(){return this.playing&&(this._mediaElement.pause(),this.trigger("stop")),this}},{key:"stop",value:function(){return this.pause(),this.currentTime=0,this}},{key:"toggle",value:function(a){return this.paused?this.play(a):this.pause()}},{key:"applyOptions",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},b=a.volume,c=a.loop,d=a.speed,e=a.time,f=a.muted;return void 0!==b&&(this.volume=b),void 0!==c&&(this.loop=c),void 0!==d&&(this.speed=d),void 0!==e&&(this.currentTime=e),void 0!==f&&(this.muted=f),this}},{key:"render",value:function(a){return this.visible&&(this.texture.updateSource(),i(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"render",this).call(this,a)),this}},{key:"destroy",value:function(){i(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this),this.stop(),this._sourceNode.disconnect(),this._sourceNode=null,this._gainNode.disconnect(),this._gainNode=null,this._mediaSource=null,this._mediaElement=null,this._duration=null,this._volume=null,this._speed=null,this._loop=null,this._muted=null}},{key:"mediaSource",get:function(){return this._mediaSource}},{key:"mediaElement",get:function(){return this._mediaElement}},{key:"duration",get:function(){return this._duration}},{key:"progress",get:function(){var a=this.currentTime,b=this.duration;return a%b/b}},{key:"volume",get:function(){return this._volume},set:function(a){var b=(0,k.clamp)(a,0,2);this._volume!==b&&(this._volume=b,this._gainNode&&this._gainNode.gain.setTargetAtTime(this.muted?0:b,j.audioContext.currentTime,10))}},{key:"loop",get:function(){return this._loop},set:function(a){var b=!!a;this._loop!==b&&(this._mediaElement.loop=this._loop=b)}},{key:"speed",get:function(){return this._speed},set:function(a){var b=Math.max(0,a);this._speed!==b&&(this._mediaElement.playbackRate=this._speed=b)}},{key:"currentTime",get:function(){return this._mediaElement.currentTime},set:function(a){this._mediaElement.currentTime=Math.max(0,a)}},{key:"muted",get:function(){return this._muted},set:function(a){var b=!!a;this._muted!==b&&(this._muted=b,this._gainNode&&this._gainNode.gain.setTargetAtTime(b?0:this.volume,j.audioContext.currentTime,10))}},{key:"paused",get:function(){return this._mediaElement.paused},set:function(a){a?this.pause():this.play()}},{key:"playing",get:function(){return!this.paused},set:function(a){a?this.play():this.pause()}},{key:"analyserTarget",get:function(){return this._gainNode||null}}]),b}(m.default);b.default=s},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;if(void 0!==g)return g.call(d)},j=c(25),k=d(j),l=c(120),m=d(l),n=c(63),o=d(n),p=c(13),q=function(a){function b(){e(this,b);var a=f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this));return a._transform=new o.default,a._position=new m.default(a._setDirty,a),a._scale=new m.default(a._setDirty,a,1,1),a._origin=new m.default(a._setDirty,a),a._rotation=0,a._sin=0,a._cos=1,a._updateTransform=!0,a}return g(b,a),h(b,[{key:"getTransform",value:function(){return this._updateTransform&&(this.updateTransform(),this._updateTransform=!1),this._transform}},{key:"updateTransform",value:function(){var a=this._transform,b=this._scale,c=this._origin,d=this._position;return a.a=b.x*this._cos,a.b=b.y*this._sin,a.c=b.x*-this._sin,a.d=b.y*this._cos,a.x=c.x*-a.a-c.y*a.b+d.x,a.y=c.x*-a.c-c.y*a.d+d.y,this}},{key:"setPosition",value:function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a;return this._position.set(a,b),this}},{key:"setScale",value:function(a){
var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a;return this._scale.set(a,b),this}},{key:"setOrigin",value:function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a;return this._origin.set(a,b),this}},{key:"setRotation",value:function(a){var b=a%360,c=b<0?b+360:b,d=(0,p.degreesToRadians)(c);return this._rotation=c,this._cos=Math.cos(d),this._sin=Math.sin(d),this._setDirty(),this}},{key:"move",value:function(a,b){return this.setPosition(this.x+a,this.y+b)}},{key:"rotate",value:function(a){return this.setRotation(this._rotation+a)}},{key:"destroy",value:function(){i(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this),this._transform.destroy(),this._transform=null,this._position.destroy(),this._position=null,this._scale.destroy(),this._scale=null,this._origin.destroy(),this._origin=null,this._rotation=null,this._sin=null,this._cos=null,this._updateTransform=null}},{key:"_setDirty",value:function(){this._updateTransform=!0}},{key:"position",get:function(){return this._position},set:function(a){this._position.copy(a)}},{key:"x",get:function(){return this._position.x},set:function(a){this._position.x=a}},{key:"y",get:function(){return this._position.y},set:function(a){this._position.y=a}},{key:"scale",get:function(){return this._scale},set:function(a){this._scale.copy(a)}},{key:"origin",get:function(){return this._origin},set:function(a){this._origin.copy(a)}},{key:"rotation",get:function(){return this._rotation},set:function(a){this.setRotation(a)}}]),b}(k.default);b.default=q},function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0});var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=function(){function a(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},c=b.align,e=void 0===c?"left":c,f=b.fill,g=void 0===f?"black":f,h=b.stroke,i=void 0===h?"black":h,j=b.strokeThickness,k=void 0===j?0:j,l=b.fontSize,m=void 0===l?20:l,n=b.fontWeight,o=void 0===n?"bold":n,p=b.fontFamily,q=void 0===p?"Arial":p,r=b.wordWrap,s=void 0!==r&&r,t=b.wordWrapWidth,u=void 0===t?100:t,v=b.baseline,w=void 0===v?"alphabetic":v,x=b.lineJoin,y=void 0===x?"miter":x,z=b.miterLimit,A=void 0===z?10:z,B=b.padding,C=void 0===B?0:B;d(this,a),this._align=e,this._fill=g,this._stroke=i,this._strokeThickness=k,this._fontSize=m,this._fontWeight=o,this._fontFamily=q,this._wordWrap=s,this._wordWrapWidth=u,this._baseline=w,this._lineJoin=y,this._miterLimit=A,this._padding=C,this._dirty=!0}return e(a,[{key:"apply",value:function(a){return a.font=this.font,a.fillStyle=this.fill,a.strokeStyle=this.stroke,a.lineWidth=this.strokeThickness,a.textBaseline=this.baseline,a.lineJoin=this.lineJoin,a.miterLimit=this.miterLimit,this}},{key:"copy",value:function(a){return a!==this&&(this.align=a.align,this.fill=a.fill,this.stroke=a.stroke,this.strokeThickness=a.strokeThickness,this.fontSize=a.fontSize,this.fontWeight=a.fontWeight,this.fontFamily=a.fontFamily,this.wordWrap=a.wordWrap,this.wordWrapWidth=a.wordWrapWidth,this.baseline=a.baseline,this.lineJoin=a.lineJoin,this.miterLimit=a.miterLimit,this.padding=a.padding,this.dirty=a.dirty),this}},{key:"clone",value:function(){return(new a).copy(this)}},{key:"destroy",value:function(){this._align=null,this._fill=null,this._stroke=null,this._strokeThickness=null,this._fontSize=null,this._fontWeight=null,this._fontFamily=null,this._wordWrap=null,this._wordWrapWidth=null,this._baseline=null,this._lineJoin=null,this._miterLimit=null,this._padding=null,this._dirty=null}},{key:"align",get:function(){return this._align},set:function(a){this._align!==a&&(this._align=a,this._dirty=!0)}},{key:"fill",get:function(){return this._fill},set:function(a){this._fill!==a&&(this._fill=a,this._dirty=!0)}},{key:"stroke",get:function(){return this._stroke},set:function(a){this._stroke!==a&&(this._stroke=a,this._dirty=!0)}},{key:"strokeThickness",get:function(){return this._strokeThickness},set:function(a){this._strokeThickness!==a&&(this._strokeThickness=a,this._dirty=!0)}},{key:"fontSize",get:function(){return this._fontSize},set:function(a){this._fontSize!==a&&(this._fontSize=a,this._dirty=!0)}},{key:"fontWeight",get:function(){return this._fontWeight},set:function(a){this._fontWeight!==a&&(this._fontWeight=a,this._dirty=!0)}},{key:"fontFamily",get:function(){return this._fontFamily},set:function(a){this._fontFamily!==a&&(this._fontFamily=a,this._dirty=!0)}},{key:"wordWrap",get:function(){return this._wordWrap},set:function(a){this._wordWrap!==a&&(this._wordWrap=a,this._dirty=!0)}},{key:"wordWrapWidth",get:function(){return this._wordWrapWidth},set:function(a){this._wordWrapWidth!==a&&(this._wordWrapWidth=a,this._dirty=!0)}},{key:"baseline",get:function(){return this._baseline},set:function(a){this._baseline!==a&&(this._baseline=a,this._dirty=!0)}},{key:"lineJoin",get:function(){return this._lineJoin},set:function(a){this._lineJoin!==a&&(this._lineJoin=a,this._dirty=!0)}},{key:"miterLimit",get:function(){return this._miterLimit},set:function(a){this._miterLimit!==a&&(this._miterLimit=a,this._dirty=!0)}},{key:"padding",get:function(){return this._padding},set:function(a){this._padding!==a&&(this._padding=a,this._dirty=!0)}},{key:"dirty",get:function(){return this._dirty},set:function(a){this._dirty=a}},{key:"font",get:function(){return this._fontWeight+" "+this._fontSize+"px "+this._fontFamily}}]),a}();b.default=f},function(a,b,c){"use strict";function d(a){return function(){var b=a.apply(this,arguments);return new Promise(function(a,c){function d(e,f){try{var g=b[e](f),h=g.value}catch(a){return void c(a)}if(!g.done)return Promise.resolve(h).then(function(a){d("next",a)},function(a){d("throw",a)});a(h)}return d("next")})}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0});var f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=function(){function a(b,c){e(this,a),this._name=b,this._version=c,this._connected=!1}return f(a,[{key:"connect",value:function(){function a(){return b.apply(this,arguments)}var b=d(regeneratorRuntime.mark(function a(){return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:throw new Error("Method not implemented!");case 1:case"end":return a.stop()}},a,this)}));return a}()},{key:"disconnect",value:function(){function a(){return b.apply(this,arguments)}var b=d(regeneratorRuntime.mark(function a(){return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:throw new Error("Method not implemented!");case 1:case"end":return a.stop()}},a,this)}));return a}()},{key:"load",value:function(){function a(a,c){return b.apply(this,arguments)}var b=d(regeneratorRuntime.mark(function a(b,c){return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:throw new Error("Method not implemented!");case 1:case"end":return a.stop()}},a,this)}));return a}()},{key:"save",value:function(){function a(a,c,d){return b.apply(this,arguments)}var b=d(regeneratorRuntime.mark(function a(b,c,d){return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:throw new Error("Method not implemented!");case 1:case"end":return a.stop()}},a,this)}));return a}()},{key:"delete",value:function(){function a(a,c){return b.apply(this,arguments)}var b=d(regeneratorRuntime.mark(function a(b,c){return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:throw new Error("Method not implemented!");case 1:case"end":return a.stop()}},a,this)}));return a}()},{key:"clearStorage",value:function(){function a(){return b.apply(this,arguments)}var b=d(regeneratorRuntime.mark(function a(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:throw new Error("Method not implemented!");case 1:case"end":return a.stop()}},a,this)}));return a}()},{key:"deleteStorage",value:function(){function a(){return b.apply(this,arguments)}var b=d(regeneratorRuntime.mark(function a(){return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:throw new Error("Method not implemented!");case 1:case"end":return a.stop()}},a,this)}));return a}()},{key:"destroy",value:function(){this.disconnect(),this._name=null,this._version=null,this._connected=null}},{key:"name",get:function(){return this._name}},{key:"version",get:function(){return this._version}},{key:"connected",get:function(){return this._connected},set:function(a){this._connected=a}}]),a}();b.default=g},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0});var f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=c(34),h=c(12),i=d(h),j=c(40),k=d(j),l=c(82),m=d(l),n=function(){function a(b){e(this,a),this._totalLifetime=new m.default(0,g.TIME.SECONDS),this._elapsedLifetime=new m.default(0,g.TIME.SECONDS),this._position=new i.default(0,0),this._velocity=new i.default(0,0),this._scale=new i.default(1,1),this._rotation=0,this._rotationSpeed=0,this._tint=new k.default,void 0!==b&&this.copy(b)}return f(a,[{key:"update",value:function(a){var b=a.seconds;return this._elapsedLifetime.add(a),this._position.add(b*this._velocity.x,b*this._velocity.y),this._rotation+=b*this._rotationSpeed,this}},{key:"copy",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},b=a.totalLifetime,c=a.elapsedLifetime,d=a.position,e=a.velocity,f=a.scale,g=a.rotation,h=a.rotationSpeed,i=a.tint;return this._totalLifetime.copy(b),this._elapsedLifetime.copy(c),this._position.copy(d),this._velocity.copy(e),this._scale.copy(f),this._rotation=g,this._rotationSpeed=h,this._tint.copy(i),this}},{key:"clone",value:function(){return new a({totalLifetime:this.totalLifetime,elapsedLifetime:this.elapsedLifetime,position:this.position,velocity:this.velocity,scale:this.scale,rotation:this.rotation,rotationSpeed:this.rotationSpeed,tint:this.tint})}},{key:"destroy",value:function(){this._totalLifetime.destroy(),this._totalLifetime=null,this._elapsedLifetime.destroy(),this._elapsedLifetime=null,this._position.destroy(),this._position=null,this._velocity.destroy(),this._velocity=null,this._scale.destroy(),this._scale=null,this._tint.destroy(),this._tint=null,this._rotation=null,this._rotationSpeed=null}},{key:"totalLifetime",get:function(){return this._totalLifetime},set:function(a){this._totalLifetime.copy(a)}},{key:"elapsedLifetime",get:function(){return this._elapsedLifetime},set:function(a){this._elapsedLifetime.copy(a)}},{key:"position",get:function(){return this._position},set:function(a){this._position.copy(a)}},{key:"velocity",get:function(){return this._velocity},set:function(a){this._velocity.copy(a)}},{key:"scale",get:function(){return this._scale},set:function(a){this._scale.copy(a)}},{key:"rotation",get:function(){return this._rotation},set:function(a){var b=a%360;this._rotation=b<0?b+360:b}},{key:"rotationSpeed",get:function(){return this._rotationSpeed},set:function(a){this._rotationSpeed=a}},{key:"tint",get:function(){return this._tint},set:function(a){this._tint.copy(a)}},{key:"remainingLifetime",get:function(){return m.default.Temp.set(this._totalLifetime.milliseconds-this._elapsedLifetime.milliseconds)}},{key:"elapsedRatio",get:function(){return this._elapsedLifetime.milliseconds/this._totalLifetime.milliseconds}},{key:"remainingRatio",get:function(){return this.remainingLifetime.milliseconds/this._totalLifetime.milliseconds}},{key:"expired",get:function(){return this._elapsedLifetime.greaterThan(this._totalLifetime)}}]),a}();b.default=n},function(a,b,c){c(203),a.exports=c(405)},function(a,b,c){"use strict";(function(a){function b(a,b,c){a[b]||Object[d](a,b,{writable:!0,configurable:!0,value:c})}if(c(204),c(401),c(402),a._babelPolyfill)throw new Error("only one instance of babel-polyfill is allowed");a._babelPolyfill=!0;var d="defineProperty";b(String.prototype,"padLeft","".padStart),b(String.prototype,"padRight","".padEnd),"pop,reverse,shift,keys,values,entries,indexOf,every,some,forEach,map,filter,find,findIndex,includes,join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill".split(",").forEach(function(a){[][a]&&b(Array,a,Function.call.bind([][a]))})}).call(b,c(86))},function(a,b,c){c(205),c(207),c(208),c(209),c(210),c(211),c(212),c(213),c(214),c(215),c(216),c(217),c(218),c(219),c(220),c(221),c(223),c(224),c(225),c(226),c(227),c(228),c(229),c(230),c(231),c(232),c(233),c(234),c(235),c(236),c(237),c(238),c(239),c(240),c(241),c(242),c(243),c(244),c(245),c(246),c(247),c(248),c(249),c(250),c(251),c(252),c(253),c(254),c(255),c(256),c(257),c(258),c(259),c(260),c(261),c(262),c(263),c(264),c(265),c(266),c(267),c(268),c(269),c(270),c(271),c(272),c(273),c(274),c(275),c(276),c(277),c(278),c(279),c(280),c(281),c(282),c(283),c(285),c(286),c(288),c(289),c(290),c(291),c(292),c(293),c(294),c(296),c(297),c(298),c(299),c(300),c(301),c(302),c(303),c(304),c(305),c(306),c(307),c(308),c(108),c(309),c(310),c(150),c(311),c(312),c(313),c(314),c(315),c(153),c(155),c(156),c(316),c(317),c(318),c(319),c(320),c(321),c(322),c(323),c(324),c(325),c(326),c(327),c(328),c(329),c(330),c(331),c(332),c(333),c(334),c(335),c(336),c(337),c(338),c(339),c(340),c(341),c(342),c(343),c(344),c(345),c(346),c(347),c(348),c(349),c(350),c(351),c(352),c(353),c(354),c(355),c(356),c(357),c(358),c(359),c(360),c(361),c(362),c(363),c(364),c(365),c(366),c(367),c(368),c(369),c(370),c(371),c(372),c(373),c(374),c(375),c(376),c(377),c(378),c(379),c(380),c(381),c(382),c(383),c(384),c(385),c(386),c(387),c(388),c(389),c(390),c(391),c(392),c(393),c(394),c(395),c(396),c(397),c(398),c(399),c(400),a.exports=c(26)},function(a,b,c){"use strict";var d=c(2),e=c(14),f=c(6),g=c(0),h=c(16),i=c(36).KEY,j=c(3),k=c(68),l=c(53),m=c(42),n=c(5),o=c(133),p=c(88),q=c(206),r=c(71),s=c(1),t=c(4),u=c(18),v=c(27),w=c(41),x=c(46),y=c(136),z=c(19),A=c(7),B=c(44),C=z.f,D=A.f,E=y.f,F=d.Symbol,G=d.JSON,H=G&&G.stringify,I="prototype",J=n("_hidden"),K=n("toPrimitive"),L={}.propertyIsEnumerable,M=k("symbol-registry"),N=k("symbols"),O=k("op-symbols"),P=Object[I],Q="function"==typeof F,R=d.QObject,S=!R||!R[I]||!R[I].findChild,T=f&&j(function(){return 7!=x(D({},"a",{get:function(){return D(this,"a",{value:7}).a}})).a})?function(a,b,c){var d=C(P,b);d&&delete P[b],D(a,b,c),d&&a!==P&&D(P,b,d)}:D,U=function(a){var b=N[a]=x(F[I]);return b._k=a,b},V=Q&&"symbol"==typeof F.iterator?function(a){return"symbol"==typeof a}:function(a){return a instanceof F},W=function(a,b,c){return a===P&&W(O,b,c),s(a),b=v(b,!0),s(c),e(N,b)?(c.enumerable?(e(a,J)&&a[J][b]&&(a[J][b]=!1),c=x(c,{enumerable:w(0,!1)})):(e(a,J)||D(a,J,w(1,{})),a[J][b]=!0),T(a,b,c)):D(a,b,c)},X=function(a,b){s(a);for(var c,d=q(b=u(b)),e=0,f=d.length;f>e;)W(a,c=d[e++],b[c]);return a},Y=function(a,b){return void 0===b?x(a):X(x(a),b)},Z=function(a){var b=L.call(this,a=v(a,!0));return!(this===P&&e(N,a)&&!e(O,a))&&(!(b||!e(this,a)||!e(N,a)||e(this,J)&&this[J][a])||b)},$=function(a,b){if(a=u(a),b=v(b,!0),a!==P||!e(N,b)||e(O,b)){var c=C(a,b);return!c||!e(N,b)||e(a,J)&&a[J][b]||(c.enumerable=!0),c}},_=function(a){for(var b,c=E(u(a)),d=[],f=0;c.length>f;)e(N,b=c[f++])||b==J||b==i||d.push(b);return d},aa=function(a){for(var b,c=a===P,d=E(c?O:u(a)),f=[],g=0;d.length>g;)!e(N,b=d[g++])||c&&!e(P,b)||f.push(N[b]);return f};Q||(F=function(){if(this instanceof F)throw TypeError("Symbol is not a constructor!");var a=m(arguments.length>0?arguments[0]:void 0),b=function(c){this===P&&b.call(O,c),e(this,J)&&e(this[J],a)&&(this[J][a]=!1),T(this,a,w(1,c))};return f&&S&&T(P,a,{configurable:!0,set:b}),U(a)},h(F[I],"toString",function(){return this._k}),z.f=$,A.f=W,c(47).f=y.f=_,c(60).f=Z,c(70).f=aa,f&&!c(43)&&h(P,"propertyIsEnumerable",Z,!0),o.f=function(a){return U(n(a))}),g(g.G+g.W+g.F*!Q,{Symbol:F});for(var ba="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ca=0;ba.length>ca;)n(ba[ca++]);for(var da=B(n.store),ea=0;da.length>ea;)p(da[ea++]);g(g.S+g.F*!Q,"Symbol",{for:function(a){return e(M,a+="")?M[a]:M[a]=F(a)},keyFor:function(a){if(!V(a))throw TypeError(a+" is not a symbol!");for(var b in M)if(M[b]===a)return b},useSetter:function(){S=!0},useSimple:function(){S=!1}}),g(g.S+g.F*!Q,"Object",{create:Y,defineProperty:W,defineProperties:X,getOwnPropertyDescriptor:$,getOwnPropertyNames:_,getOwnPropertySymbols:aa}),G&&g(g.S+g.F*(!Q||j(function(){var a=F();return"[null]"!=H([a])||"{}"!=H({a:a})||"{}"!=H(Object(a))})),"JSON",{stringify:function(a){for(var b,c,d=[a],e=1;arguments.length>e;)d.push(arguments[e++]);if(c=b=d[1],(t(b)||void 0!==a)&&!V(a))return r(b)||(b=function(a,b){if("function"==typeof c&&(b=c.call(this,a,b)),!V(b))return b}),d[1]=b,H.apply(G,d)}}),F[I][K]||c(15)(F[I],K,F[I].valueOf),l(F,"Symbol"),l(Math,"Math",!0),l(d.JSON,"JSON",!0)},function(a,b,c){var d=c(44),e=c(70),f=c(60);a.exports=function(a){var b=d(a),c=e.f;if(c)for(var g,h=c(a),i=f.f,j=0;h.length>j;)i.call(a,g=h[j++])&&b.push(g);return b}},function(a,b,c){var d=c(0);d(d.S,"Object",{create:c(46)})},function(a,b,c){var d=c(0);d(d.S+d.F*!c(6),"Object",{defineProperty:c(7).f})},function(a,b,c){var d=c(0);d(d.S+d.F*!c(6),"Object",{defineProperties:c(135)})},function(a,b,c){var d=c(18),e=c(19).f;c(30)("getOwnPropertyDescriptor",function(){return function(a,b){return e(d(a),b)}})},function(a,b,c){var d=c(9),e=c(20);c(30)("getPrototypeOf",function(){return function(a){return e(d(a))}})},function(a,b,c){var d=c(9),e=c(44);c(30)("keys",function(){return function(a){return e(d(a))}})},function(a,b,c){c(30)("getOwnPropertyNames",function(){return c(136).f})},function(a,b,c){var d=c(4),e=c(36).onFreeze;c(30)("freeze",function(a){return function(b){return a&&d(b)?a(e(b)):b}})},function(a,b,c){var d=c(4),e=c(36).onFreeze;c(30)("seal",function(a){return function(b){return a&&d(b)?a(e(b)):b}})},function(a,b,c){var d=c(4),e=c(36).onFreeze;c(30)("preventExtensions",function(a){return function(b){return a&&d(b)?a(e(b)):b}})},function(a,b,c){var d=c(4);c(30)("isFrozen",function(a){return function(b){return!d(b)||!!a&&a(b)}})},function(a,b,c){var d=c(4);c(30)("isSealed",function(a){return function(b){return!d(b)||!!a&&a(b)}})},function(a,b,c){var d=c(4);c(30)("isExtensible",function(a){return function(b){return!!d(b)&&(!a||a(b))}})},function(a,b,c){var d=c(0);d(d.S+d.F,"Object",{assign:c(137)})},function(a,b,c){var d=c(0);d(d.S,"Object",{is:c(222)})},function(a,b){a.exports=Object.is||function(a,b){return a===b?0!==a||1/a==1/b:a!=a&&b!=b}},function(a,b,c){var d=c(0);d(d.S,"Object",{setPrototypeOf:c(92).set})},function(a,b,c){"use strict";var d=c(61),e={};e[c(5)("toStringTag")]="z",e+""!="[object z]"&&c(16)(Object.prototype,"toString",function(){return"[object "+d(this)+"]"},!0)},function(a,b,c){var d=c(0);d(d.P,"Function",{bind:c(138)})},function(a,b,c){var d=c(7).f,e=Function.prototype,f=/^\s*function ([^ (]*)/,g="name";g in e||c(6)&&d(e,g,{configurable:!0,get:function(){try{return(""+this).match(f)[1]}catch(a){return""}}})},function(a,b,c){"use strict";var d=c(4),e=c(20),f=c(5)("hasInstance"),g=Function.prototype;f in g||c(7).f(g,f,{value:function(a){if("function"!=typeof this||!d(a))return!1;if(!d(this.prototype))return a instanceof this;for(;a=e(a);)if(this.prototype===a)return!0;return!1}})},function(a,b,c){var d=c(0),e=c(140);d(d.G+d.F*(parseInt!=e),{parseInt:e})},function(a,b,c){var d=c(0),e=c(141);d(d.G+d.F*(parseFloat!=e),{parseFloat:e})},function(a,b,c){"use strict";var d=c(2),e=c(14),f=c(23),g=c(94),h=c(27),i=c(3),j=c(47).f,k=c(19).f,l=c(7).f,m=c(54).trim,n="Number",o=d[n],p=o,q=o.prototype,r=f(c(46)(q))==n,s="trim"in String.prototype,t=function(a){var b=h(a,!1);if("string"==typeof b&&b.length>2){b=s?b.trim():m(b,3);var c,d,e,f=b.charCodeAt(0);if(43===f||45===f){if(88===(c=b.charCodeAt(2))||120===c)return NaN}else if(48===f){switch(b.charCodeAt(1)){case 66:case 98:d=2,e=49;break;case 79:case 111:d=8,e=55;break;default:return+b}for(var g,i=b.slice(2),j=0,k=i.length;j<k;j++)if((g=i.charCodeAt(j))<48||g>e)return NaN;return parseInt(i,d)}}return+b};if(!o(" 0o1")||!o("0b1")||o("+0x1")){o=function(a){var b=arguments.length<1?0:a,c=this;return c instanceof o&&(r?i(function(){q.valueOf.call(c)}):f(c)!=n)?g(new p(t(b)),c,o):t(b)};for(var u,v=c(6)?j(p):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),w=0;v.length>w;w++)e(p,u=v[w])&&!e(o,u)&&l(o,u,k(p,u));o.prototype=q,q.constructor=o,c(16)(d,n,o)}},function(a,b,c){"use strict";var d=c(0),e=c(29),f=c(142),g=c(95),h=1..toFixed,i=Math.floor,j=[0,0,0,0,0,0],k="Number.toFixed: incorrect invocation!",l="0",m=function(a,b){for(var c=-1,d=b;++c<6;)d+=a*j[c],j[c]=d%1e7,d=i(d/1e7)},n=function(a){for(var b=6,c=0;--b>=0;)c+=j[b],j[b]=i(c/a),c=c%a*1e7},o=function(){for(var a=6,b="";--a>=0;)if(""!==b||0===a||0!==j[a]){var c=String(j[a]);b=""===b?c:b+g.call(l,7-c.length)+c}return b},p=function(a,b,c){return 0===b?c:b%2==1?p(a,b-1,c*a):p(a*a,b/2,c)},q=function(a){for(var b=0,c=a;c>=4096;)b+=12,c/=4096;for(;c>=2;)b+=1,c/=2;return b};d(d.P+d.F*(!!h&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!c(3)(function(){h.call({})})),"Number",{toFixed:function(a){var b,c,d,h,i=f(this,k),j=e(a),r="",s=l;if(j<0||j>20)throw RangeError(k);if(i!=i)return"NaN";if(i<=-1e21||i>=1e21)return String(i);if(i<0&&(r="-",i=-i),i>1e-21)if(b=q(i*p(2,69,1))-69,c=b<0?i*p(2,-b,1):i/p(2,b,1),c*=4503599627370496,(b=52-b)>0){for(m(0,c),d=j;d>=7;)m(1e7,0),d-=7;for(m(p(10,d,1),0),d=b-1;d>=23;)n(1<<23),d-=23;n(1<<d),m(1,1),n(2),s=o()}else m(0,c),m(1<<-b,0),s=o()+g.call(l,j);return j>0?(h=s.length,s=r+(h<=j?"0."+g.call(l,j-h)+s:s.slice(0,h-j)+"."+s.slice(h-j))):s=r+s,s}})},function(a,b,c){"use strict";var d=c(0),e=c(3),f=c(142),g=1..toPrecision;d(d.P+d.F*(e(function(){return"1"!==g.call(1,void 0)})||!e(function(){g.call({})})),"Number",{toPrecision:function(a){var b=f(this,"Number#toPrecision: incorrect invocation!");return void 0===a?g.call(b):g.call(b,a)}})},function(a,b,c){var d=c(0);d(d.S,"Number",{EPSILON:Math.pow(2,-52)})},function(a,b,c){var d=c(0),e=c(2).isFinite;d(d.S,"Number",{isFinite:function(a){return"number"==typeof a&&e(a)}})},function(a,b,c){var d=c(0);d(d.S,"Number",{isInteger:c(143)})},function(a,b,c){var d=c(0);d(d.S,"Number",{isNaN:function(a){return a!=a}})},function(a,b,c){var d=c(0),e=c(143),f=Math.abs;d(d.S,"Number",{isSafeInteger:function(a){return e(a)&&f(a)<=9007199254740991}})},function(a,b,c){var d=c(0);d(d.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(a,b,c){var d=c(0);d(d.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(a,b,c){var d=c(0),e=c(141);d(d.S+d.F*(Number.parseFloat!=e),"Number",{parseFloat:e})},function(a,b,c){var d=c(0),e=c(140);d(d.S+d.F*(Number.parseInt!=e),"Number",{parseInt:e})},function(a,b,c){var d=c(0),e=c(144),f=Math.sqrt,g=Math.acosh;d(d.S+d.F*!(g&&710==Math.floor(g(Number.MAX_VALUE))&&g(1/0)==1/0),"Math",{acosh:function(a){return(a=+a)<1?NaN:a>94906265.62425156?Math.log(a)+Math.LN2:e(a-1+f(a-1)*f(a+1))}})},function(a,b,c){function d(a){return isFinite(a=+a)&&0!=a?a<0?-d(-a):Math.log(a+Math.sqrt(a*a+1)):a}var e=c(0),f=Math.asinh;e(e.S+e.F*!(f&&1/f(0)>0),"Math",{asinh:d})},function(a,b,c){var d=c(0),e=Math.atanh;d(d.S+d.F*!(e&&1/e(-0)<0),"Math",{atanh:function(a){return 0==(a=+a)?a:Math.log((1+a)/(1-a))/2}})},function(a,b,c){var d=c(0),e=c(96);d(d.S,"Math",{cbrt:function(a){return e(a=+a)*Math.pow(Math.abs(a),1/3)}})},function(a,b,c){var d=c(0);d(d.S,"Math",{clz32:function(a){return(a>>>=0)?31-Math.floor(Math.log(a+.5)*Math.LOG2E):32}})},function(a,b,c){var d=c(0),e=Math.exp;d(d.S,"Math",{cosh:function(a){return(e(a=+a)+e(-a))/2}})},function(a,b,c){var d=c(0),e=c(97);d(d.S+d.F*(e!=Math.expm1),"Math",{expm1:e})},function(a,b,c){var d=c(0);d(d.S,"Math",{fround:c(145)})},function(a,b,c){var d=c(0),e=Math.abs;d(d.S,"Math",{hypot:function(a,b){for(var c,d,f=0,g=0,h=arguments.length,i=0;g<h;)c=e(arguments[g++]),i<c?(d=i/c,f=f*d*d+1,i=c):c>0?(d=c/i,f+=d*d):f+=c;return i===1/0?1/0:i*Math.sqrt(f)}})},function(a,b,c){var d=c(0),e=Math.imul;d(d.S+d.F*c(3)(function(){return-5!=e(4294967295,5)||2!=e.length}),"Math",{imul:function(a,b){var c=65535,d=+a,e=+b,f=c&d,g=c&e;return 0|f*g+((c&d>>>16)*g+f*(c&e>>>16)<<16>>>0)}})},function(a,b,c){var d=c(0);d(d.S,"Math",{log10:function(a){return Math.log(a)*Math.LOG10E}})},function(a,b,c){var d=c(0);d(d.S,"Math",{log1p:c(144)})},function(a,b,c){var d=c(0);d(d.S,"Math",{log2:function(a){return Math.log(a)/Math.LN2}})},function(a,b,c){var d=c(0);d(d.S,"Math",{sign:c(96)})},function(a,b,c){var d=c(0),e=c(97),f=Math.exp;d(d.S+d.F*c(3)(function(){return-2e-17!=!Math.sinh(-2e-17)}),"Math",{sinh:function(a){return Math.abs(a=+a)<1?(e(a)-e(-a))/2:(f(a-1)-f(-a-1))*(Math.E/2)}})},function(a,b,c){var d=c(0),e=c(97),f=Math.exp;d(d.S,"Math",{tanh:function(a){var b=e(a=+a),c=e(-a);return b==1/0?1:c==1/0?-1:(b-c)/(f(a)+f(-a))}})},function(a,b,c){var d=c(0);d(d.S,"Math",{trunc:function(a){return(a>0?Math.floor:Math.ceil)(a)}})},function(a,b,c){var d=c(0),e=c(45),f=String.fromCharCode,g=String.fromCodePoint;d(d.S+d.F*(!!g&&1!=g.length),"String",{fromCodePoint:function(a){for(var b,c=[],d=arguments.length,g=0;d>g;){if(b=+arguments[g++],e(b,1114111)!==b)throw RangeError(b+" is not a valid code point");c.push(b<65536?f(b):f(55296+((b-=65536)>>10),b%1024+56320))}return c.join("")}})},function(a,b,c){var d=c(0),e=c(18),f=c(8);d(d.S,"String",{raw:function(a){for(var b=e(a.raw),c=f(b.length),d=arguments.length,g=[],h=0;c>h;)g.push(String(b[h++])),h<d&&g.push(String(arguments[h]));return g.join("")}})},function(a,b,c){"use strict";c(54)("trim",function(a){return function(){return a(this,3)}})},function(a,b,c){"use strict";var d=c(98)(!0);c(99)(String,"String",function(a){this._t=String(a),this._i=0},function(){var a,b=this._t,c=this._i;return c>=b.length?{value:void 0,done:!0}:(a=d(b,c),this._i+=a.length,{value:a,done:!1})})},function(a,b,c){"use strict";var d=c(0),e=c(98)(!1);d(d.P,"String",{codePointAt:function(a){return e(this,a)}})},function(a,b,c){"use strict";var d=c(0),e=c(8),f=c(101),g="endsWith",h=""[g];d(d.P+d.F*c(102)(g),"String",{endsWith:function(a){var b=f(this,a,g),c=arguments.length>1?arguments[1]:void 0,d=e(b.length),i=void 0===c?d:Math.min(e(c),d),j=String(a);return h?h.call(b,j,i):b.slice(i-j.length,i)===j}})},function(a,b,c){"use strict";var d=c(0),e=c(101),f="includes";d(d.P+d.F*c(102)(f),"String",{includes:function(a){return!!~e(this,a,f).indexOf(a,arguments.length>1?arguments[1]:void 0)}})},function(a,b,c){var d=c(0);d(d.P,"String",{repeat:c(95)})},function(a,b,c){"use strict";var d=c(0),e=c(8),f=c(101),g="startsWith",h=""[g];d(d.P+d.F*c(102)(g),"String",{startsWith:function(a){var b=f(this,a,g),c=e(Math.min(arguments.length>1?arguments[1]:void 0,b.length)),d=String(a);return h?h.call(b,d,c):b.slice(c,c+d.length)===d}})},function(a,b,c){"use strict";c(17)("anchor",function(a){return function(b){return a(this,"a","name",b)}})},function(a,b,c){"use strict";c(17)("big",function(a){return function(){return a(this,"big","","")}})},function(a,b,c){"use strict";c(17)("blink",function(a){return function(){return a(this,"blink","","")}})},function(a,b,c){"use strict";c(17)("bold",function(a){return function(){return a(this,"b","","")}})},function(a,b,c){"use strict";c(17)("fixed",function(a){return function(){return a(this,"tt","","")}})},function(a,b,c){"use strict";c(17)("fontcolor",function(a){return function(b){return a(this,"font","color",b)}})},function(a,b,c){"use strict";c(17)("fontsize",function(a){return function(b){return a(this,"font","size",b)}})},function(a,b,c){"use strict";c(17)("italics",function(a){return function(){return a(this,"i","","")}})},function(a,b,c){"use strict";c(17)("link",function(a){return function(b){return a(this,"a","href",b)}})},function(a,b,c){"use strict";c(17)("small",function(a){return function(){return a(this,"small","","")}})},function(a,b,c){"use strict";c(17)("strike",function(a){return function(){return a(this,"strike","","")}})},function(a,b,c){"use strict";c(17)("sub",function(a){return function(){return a(this,"sub","","")}})},function(a,b,c){"use strict";c(17)("sup",function(a){return function(){return a(this,"sup","","")}})},function(a,b,c){var d=c(0);d(d.S,"Date",{now:function(){return(new Date).getTime()}})},function(a,b,c){"use strict";var d=c(0),e=c(9),f=c(27);d(d.P+d.F*c(3)(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}),"Date",{toJSON:function(a){var b=e(this),c=f(b);return"number"!=typeof c||isFinite(c)?b.toISOString():null}})},function(a,b,c){var d=c(0),e=c(284);d(d.P+d.F*(Date.prototype.toISOString!==e),"Date",{toISOString:e})},function(a,b,c){"use strict";var d=c(3),e=Date.prototype.getTime,f=Date.prototype.toISOString,g=function(a){return a>9?a:"0"+a};a.exports=d(function(){return"0385-07-25T07:06:39.999Z"!=f.call(new Date(-5e13-1))})||!d(function(){f.call(new Date(NaN))})?function(){if(!isFinite(e.call(this)))throw RangeError("Invalid time value");var a=this,b=a.getUTCFullYear(),c=a.getUTCMilliseconds(),d=b<0?"-":b>9999?"+":"";return d+("00000"+Math.abs(b)).slice(d?-6:-4)+"-"+g(a.getUTCMonth()+1)+"-"+g(a.getUTCDate())+"T"+g(a.getUTCHours())+":"+g(a.getUTCMinutes())+":"+g(a.getUTCSeconds())+"."+(c>99?c:"0"+g(c))+"Z"}:f},function(a,b,c){var d=Date.prototype,e="Invalid Date",f="toString",g=d[f],h=d.getTime;new Date(NaN)+""!=e&&c(16)(d,f,function(){var a=h.call(this);return a===a?g.call(this):e})},function(a,b,c){var d=c(5)("toPrimitive"),e=Date.prototype;d in e||c(15)(e,d,c(287))},function(a,b,c){"use strict";var d=c(1),e=c(27),f="number";a.exports=function(a){if("string"!==a&&a!==f&&"default"!==a)throw TypeError("Incorrect hint");return e(d(this),a!=f)}},function(a,b,c){var d=c(0);d(d.S,"Array",{isArray:c(71)})},function(a,b,c){"use strict";var d=c(22),e=c(0),f=c(9),g=c(146),h=c(103),i=c(8),j=c(104),k=c(105);e(e.S+e.F*!c(73)(function(a){Array.from(a)}),"Array",{from:function(a){var b,c,e,l,m=f(a),n="function"==typeof this?this:Array,o=arguments.length,p=o>1?arguments[1]:void 0,q=void 0!==p,r=0,s=k(m);if(q&&(p=d(p,o>2?arguments[2]:void 0,2)),void 0==s||n==Array&&h(s))for(b=i(m.length),c=new n(b);b>r;r++)j(c,r,q?p(m[r],r):m[r]);else for(l=s.call(m),c=new n;!(e=l.next()).done;r++)j(c,r,q?g(l,p,[e.value,r],!0):e.value);return c.length=r,c}})},function(a,b,c){"use strict";var d=c(0),e=c(104);d(d.S+d.F*c(3)(function(){function a(){}return!(Array.of.call(a)instanceof a)}),"Array",{of:function(){for(var a=0,b=arguments.length,c=new("function"==typeof this?this:Array)(b);b>a;)e(c,a,arguments[a++]);return c.length=b,c}})},function(a,b,c){"use strict";var d=c(0),e=c(18),f=[].join;d(d.P+d.F*(c(59)!=Object||!c(24)(f)),"Array",{join:function(a){return f.call(e(this),void 0===a?",":a)}})},function(a,b,c){"use strict";var d=c(0),e=c(91),f=c(23),g=c(45),h=c(8),i=[].slice;d(d.P+d.F*c(3)(function(){e&&i.call(e)}),"Array",{slice:function(a,b){var c=h(this.length),d=f(this);if(b=void 0===b?c:b,"Array"==d)return i.call(this,a,b)
;for(var e=g(a,c),j=g(b,c),k=h(j-e),l=new Array(k),m=0;m<k;m++)l[m]="String"==d?this.charAt(e+m):this[e+m];return l}})},function(a,b,c){"use strict";var d=c(0),e=c(10),f=c(9),g=c(3),h=[].sort,i=[1,2,3];d(d.P+d.F*(g(function(){i.sort(void 0)})||!g(function(){i.sort(null)})||!c(24)(h)),"Array",{sort:function(a){return void 0===a?h.call(f(this)):h.call(f(this),e(a))}})},function(a,b,c){"use strict";var d=c(0),e=c(31)(0),f=c(24)([].forEach,!0);d(d.P+d.F*!f,"Array",{forEach:function(a){return e(this,a,arguments[1])}})},function(a,b,c){var d=c(4),e=c(71),f=c(5)("species");a.exports=function(a){var b;return e(a)&&(b=a.constructor,"function"!=typeof b||b!==Array&&!e(b.prototype)||(b=void 0),d(b)&&null===(b=b[f])&&(b=void 0)),void 0===b?Array:b}},function(a,b,c){"use strict";var d=c(0),e=c(31)(1);d(d.P+d.F*!c(24)([].map,!0),"Array",{map:function(a){return e(this,a,arguments[1])}})},function(a,b,c){"use strict";var d=c(0),e=c(31)(2);d(d.P+d.F*!c(24)([].filter,!0),"Array",{filter:function(a){return e(this,a,arguments[1])}})},function(a,b,c){"use strict";var d=c(0),e=c(31)(3);d(d.P+d.F*!c(24)([].some,!0),"Array",{some:function(a){return e(this,a,arguments[1])}})},function(a,b,c){"use strict";var d=c(0),e=c(31)(4);d(d.P+d.F*!c(24)([].every,!0),"Array",{every:function(a){return e(this,a,arguments[1])}})},function(a,b,c){"use strict";var d=c(0),e=c(147);d(d.P+d.F*!c(24)([].reduce,!0),"Array",{reduce:function(a){return e(this,a,arguments.length,arguments[1],!1)}})},function(a,b,c){"use strict";var d=c(0),e=c(147);d(d.P+d.F*!c(24)([].reduceRight,!0),"Array",{reduceRight:function(a){return e(this,a,arguments.length,arguments[1],!0)}})},function(a,b,c){"use strict";var d=c(0),e=c(69)(!1),f=[].indexOf,g=!!f&&1/[1].indexOf(1,-0)<0;d(d.P+d.F*(g||!c(24)(f)),"Array",{indexOf:function(a){return g?f.apply(this,arguments)||0:e(this,a,arguments[1])}})},function(a,b,c){"use strict";var d=c(0),e=c(18),f=c(29),g=c(8),h=[].lastIndexOf,i=!!h&&1/[1].lastIndexOf(1,-0)<0;d(d.P+d.F*(i||!c(24)(h)),"Array",{lastIndexOf:function(a){if(i)return h.apply(this,arguments)||0;var b=e(this),c=g(b.length),d=c-1;for(arguments.length>1&&(d=Math.min(d,f(arguments[1]))),d<0&&(d=c+d);d>=0;d--)if(d in b&&b[d]===a)return d||0;return-1}})},function(a,b,c){var d=c(0);d(d.P,"Array",{copyWithin:c(148)}),c(37)("copyWithin")},function(a,b,c){var d=c(0);d(d.P,"Array",{fill:c(107)}),c(37)("fill")},function(a,b,c){"use strict";var d=c(0),e=c(31)(5),f="find",g=!0;f in[]&&Array(1)[f](function(){g=!1}),d(d.P+d.F*g,"Array",{find:function(a){return e(this,a,arguments.length>1?arguments[1]:void 0)}}),c(37)(f)},function(a,b,c){"use strict";var d=c(0),e=c(31)(6),f="findIndex",g=!0;f in[]&&Array(1)[f](function(){g=!1}),d(d.P+d.F*g,"Array",{findIndex:function(a){return e(this,a,arguments.length>1?arguments[1]:void 0)}}),c(37)(f)},function(a,b,c){c(48)("Array")},function(a,b,c){var d=c(2),e=c(94),f=c(7).f,g=c(47).f,h=c(72),i=c(74),j=d.RegExp,k=j,l=j.prototype,m=/a/g,n=/a/g,o=new j(m)!==m;if(c(6)&&(!o||c(3)(function(){return n[c(5)("match")]=!1,j(m)!=m||j(n)==n||"/a/i"!=j(m,"i")}))){j=function(a,b){var c=this instanceof j,d=h(a),f=void 0===b;return!c&&d&&a.constructor===j&&f?a:e(o?new k(d&&!f?a.source:a,b):k((d=a instanceof j)?a.source:a,d&&f?i.call(a):b),c?this:l,j)};for(var p=(function(a){a in j||f(j,a,{configurable:!0,get:function(){return k[a]},set:function(b){k[a]=b}})}),q=g(k),r=0;q.length>r;)p(q[r++]);l.constructor=j,j.prototype=l,c(16)(d,"RegExp",j)}c(48)("RegExp")},function(a,b,c){"use strict";c(150);var d=c(1),e=c(74),f=c(6),g="toString",h=/./[g],i=function(a){c(16)(RegExp.prototype,g,a,!0)};c(3)(function(){return"/a/b"!=h.call({source:"a",flags:"b"})})?i(function(){var a=d(this);return"/".concat(a.source,"/","flags"in a?a.flags:!f&&a instanceof RegExp?e.call(a):void 0)}):h.name!=g&&i(function(){return h.call(this)})},function(a,b,c){c(75)("match",1,function(a,b,c){return[function(c){"use strict";var d=a(this),e=void 0==c?void 0:c[b];return void 0!==e?e.call(c,d):new RegExp(c)[b](String(d))},c]})},function(a,b,c){c(75)("replace",2,function(a,b,c){return[function(d,e){"use strict";var f=a(this),g=void 0==d?void 0:d[b];return void 0!==g?g.call(d,f,e):c.call(String(f),d,e)},c]})},function(a,b,c){c(75)("search",1,function(a,b,c){return[function(c){"use strict";var d=a(this),e=void 0==c?void 0:c[b];return void 0!==e?e.call(c,d):new RegExp(c)[b](String(d))},c]})},function(a,b,c){c(75)("split",2,function(a,b,d){"use strict";var e=c(72),f=d,g=[].push,h="split",i="length",j="lastIndex";if("c"=="abbc"[h](/(b)*/)[1]||4!="test"[h](/(?:)/,-1)[i]||2!="ab"[h](/(?:ab)*/)[i]||4!="."[h](/(.?)(.?)/)[i]||"."[h](/()()/)[i]>1||""[h](/.?/)[i]){var k=void 0===/()??/.exec("")[1];d=function(a,b){var c=String(this);if(void 0===a&&0===b)return[];if(!e(a))return f.call(c,a,b);var d,h,l,m,n,o=[],p=(a.ignoreCase?"i":"")+(a.multiline?"m":"")+(a.unicode?"u":"")+(a.sticky?"y":""),q=0,r=void 0===b?4294967295:b>>>0,s=new RegExp(a.source,p+"g");for(k||(d=new RegExp("^"+s.source+"$(?!\\s)",p));(h=s.exec(c))&&!((l=h.index+h[0][i])>q&&(o.push(c.slice(q,h.index)),!k&&h[i]>1&&h[0].replace(d,function(){for(n=1;n<arguments[i]-2;n++)void 0===arguments[n]&&(h[n]=void 0)}),h[i]>1&&h.index<c[i]&&g.apply(o,h.slice(1)),m=h[0][i],q=l,o[i]>=r));)s[j]===h.index&&s[j]++;return q===c[i]?!m&&s.test("")||o.push(""):o.push(c.slice(q)),o[i]>r?o.slice(0,r):o}}else"0"[h](void 0,0)[i]&&(d=function(a,b){return void 0===a&&0===b?[]:f.call(this,a,b)});return[function(c,e){var f=a(this),g=void 0==c?void 0:c[b];return void 0!==g?g.call(c,f,e):d.call(String(f),c,e)},d]})},function(a,b,c){"use strict";var d,e,f,g,h=c(43),i=c(2),j=c(22),k=c(61),l=c(0),m=c(4),n=c(10),o=c(49),p=c(50),q=c(76),r=c(109).set,s=c(110)(),t=c(111),u=c(151),v=c(152),w="Promise",x=i.TypeError,y=i.process,z=i[w],A="process"==k(y),B=function(){},C=e=t.f,D=!!function(){try{var a=z.resolve(1),b=(a.constructor={})[c(5)("species")]=function(a){a(B,B)};return(A||"function"==typeof PromiseRejectionEvent)&&a.then(B)instanceof b}catch(a){}}(),E=function(a){var b;return!(!m(a)||"function"!=typeof(b=a.then))&&b},F=function(a,b){if(!a._n){a._n=!0;var c=a._c;s(function(){for(var d=a._v,e=1==a._s,f=0,g=function(b){var c,f,g=e?b.ok:b.fail,h=b.resolve,i=b.reject,j=b.domain;try{g?(e||(2==a._h&&I(a),a._h=1),!0===g?c=d:(j&&j.enter(),c=g(d),j&&j.exit()),c===b.promise?i(x("Promise-chain cycle")):(f=E(c))?f.call(c,h,i):h(c)):i(d)}catch(a){i(a)}};c.length>f;)g(c[f++]);a._c=[],a._n=!1,b&&!a._h&&G(a)})}},G=function(a){r.call(i,function(){var b,c,d,e=a._v,f=H(a);if(f&&(b=u(function(){A?y.emit("unhandledRejection",e,a):(c=i.onunhandledrejection)?c({promise:a,reason:e}):(d=i.console)&&d.error&&d.error("Unhandled promise rejection",e)}),a._h=A||H(a)?2:1),a._a=void 0,f&&b.e)throw b.v})},H=function(a){return 1!==a._h&&0===(a._a||a._c).length},I=function(a){r.call(i,function(){var b;A?y.emit("rejectionHandled",a):(b=i.onrejectionhandled)&&b({promise:a,reason:a._v})})},J=function(a){var b=this;b._d||(b._d=!0,b=b._w||b,b._v=a,b._s=2,b._a||(b._a=b._c.slice()),F(b,!0))},K=function(a){var b,c=this;if(!c._d){c._d=!0,c=c._w||c;try{if(c===a)throw x("Promise can't be resolved itself");(b=E(a))?s(function(){var d={_w:c,_d:!1};try{b.call(a,j(K,d,1),j(J,d,1))}catch(a){J.call(d,a)}}):(c._v=a,c._s=1,F(c,!1))}catch(a){J.call({_w:c,_d:!1},a)}}};D||(z=function(a){o(this,z,w,"_h"),n(a),d.call(this);try{a(j(K,this,1),j(J,this,1))}catch(a){J.call(this,a)}},d=function(a){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},d.prototype=c(51)(z.prototype,{then:function(a,b){var c=C(q(this,z));return c.ok="function"!=typeof a||a,c.fail="function"==typeof b&&b,c.domain=A?y.domain:void 0,this._c.push(c),this._a&&this._a.push(c),this._s&&F(this,!1),c.promise},catch:function(a){return this.then(void 0,a)}}),f=function(){var a=new d;this.promise=a,this.resolve=j(K,a,1),this.reject=j(J,a,1)},t.f=C=function(a){return a===z||a===g?new f(a):e(a)}),l(l.G+l.W+l.F*!D,{Promise:z}),c(53)(z,w),c(48)(w),g=c(26)[w],l(l.S+l.F*!D,w,{reject:function(a){var b=C(this);return(0,b.reject)(a),b.promise}}),l(l.S+l.F*(h||!D),w,{resolve:function(a){return v(h&&this===g?z:this,a)}}),l(l.S+l.F*!(D&&c(73)(function(a){z.all(a).catch(B)})),w,{all:function(a){var b=this,c=C(b),d=c.resolve,e=c.reject,f=u(function(){var c=[],f=0,g=1;p(a,!1,function(a){var h=f++,i=!1;c.push(void 0),g++,b.resolve(a).then(function(a){i||(i=!0,c[h]=a,--g||d(c))},e)}),--g||d(c)});return f.e&&e(f.v),c.promise},race:function(a){var b=this,c=C(b),d=c.reject,e=u(function(){p(a,!1,function(a){b.resolve(a).then(c.resolve,d)})});return e.e&&d(e.v),c.promise}})},function(a,b,c){"use strict";var d=c(157),e=c(56),f="WeakSet";c(77)(f,function(a){return function(){return a(this,arguments.length>0?arguments[0]:void 0)}},{add:function(a){return d.def(e(this,f),a,!0)}},d,!1,!0)},function(a,b,c){"use strict";var d=c(0),e=c(78),f=c(112),g=c(1),h=c(45),i=c(8),j=c(4),k=c(2).ArrayBuffer,l=c(76),m=f.ArrayBuffer,n=f.DataView,o=e.ABV&&k.isView,p=m.prototype.slice,q=e.VIEW,r="ArrayBuffer";d(d.G+d.W+d.F*(k!==m),{ArrayBuffer:m}),d(d.S+d.F*!e.CONSTR,r,{isView:function(a){return o&&o(a)||j(a)&&q in a}}),d(d.P+d.U+d.F*c(3)(function(){return!new m(2).slice(1,void 0).byteLength}),r,{slice:function(a,b){if(void 0!==p&&void 0===b)return p.call(g(this),a);for(var c=g(this).byteLength,d=h(a,c),e=h(void 0===b?c:b,c),f=new(l(this,m))(i(e-d)),j=new n(this),k=new n(f),o=0;d<e;)k.setUint8(o++,j.getUint8(d++));return f}}),c(48)(r)},function(a,b,c){var d=c(0);d(d.G+d.W+d.F*!c(78).ABV,{DataView:c(112).DataView})},function(a,b,c){c(32)("Int8",1,function(a){return function(b,c,d){return a(this,b,c,d)}})},function(a,b,c){c(32)("Uint8",1,function(a){return function(b,c,d){return a(this,b,c,d)}})},function(a,b,c){c(32)("Uint8",1,function(a){return function(b,c,d){return a(this,b,c,d)}},!0)},function(a,b,c){c(32)("Int16",2,function(a){return function(b,c,d){return a(this,b,c,d)}})},function(a,b,c){c(32)("Uint16",2,function(a){return function(b,c,d){return a(this,b,c,d)}})},function(a,b,c){c(32)("Int32",4,function(a){return function(b,c,d){return a(this,b,c,d)}})},function(a,b,c){c(32)("Uint32",4,function(a){return function(b,c,d){return a(this,b,c,d)}})},function(a,b,c){c(32)("Float32",4,function(a){return function(b,c,d){return a(this,b,c,d)}})},function(a,b,c){c(32)("Float64",8,function(a){return function(b,c,d){return a(this,b,c,d)}})},function(a,b,c){var d=c(0),e=c(10),f=c(1),g=(c(2).Reflect||{}).apply,h=Function.apply;d(d.S+d.F*!c(3)(function(){g(function(){})}),"Reflect",{apply:function(a,b,c){var d=e(a),i=f(c);return g?g(d,b,i):h.call(d,b,i)}})},function(a,b,c){var d=c(0),e=c(46),f=c(10),g=c(1),h=c(4),i=c(3),j=c(138),k=(c(2).Reflect||{}).construct,l=i(function(){function a(){}return!(k(function(){},[],a)instanceof a)}),m=!i(function(){k(function(){})});d(d.S+d.F*(l||m),"Reflect",{construct:function(a,b){f(a),g(b);var c=arguments.length<3?a:f(arguments[2]);if(m&&!l)return k(a,b,c);if(a==c){switch(b.length){case 0:return new a;case 1:return new a(b[0]);case 2:return new a(b[0],b[1]);case 3:return new a(b[0],b[1],b[2]);case 4:return new a(b[0],b[1],b[2],b[3])}var d=[null];return d.push.apply(d,b),new(j.apply(a,d))}var i=c.prototype,n=e(h(i)?i:Object.prototype),o=Function.apply.call(a,n,b);return h(o)?o:n}})},function(a,b,c){var d=c(7),e=c(0),f=c(1),g=c(27);e(e.S+e.F*c(3)(function(){Reflect.defineProperty(d.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(a,b,c){f(a),b=g(b,!0),f(c);try{return d.f(a,b,c),!0}catch(a){return!1}}})},function(a,b,c){var d=c(0),e=c(19).f,f=c(1);d(d.S,"Reflect",{deleteProperty:function(a,b){var c=e(f(a),b);return!(c&&!c.configurable)&&delete a[b]}})},function(a,b,c){"use strict";var d=c(0),e=c(1),f=function(a){this._t=e(a),this._i=0;var b,c=this._k=[];for(b in a)c.push(b)};c(100)(f,"Object",function(){var a,b=this,c=b._k;do{if(b._i>=c.length)return{value:void 0,done:!0}}while(!((a=c[b._i++])in b._t));return{value:a,done:!1}}),d(d.S,"Reflect",{enumerate:function(a){return new f(a)}})},function(a,b,c){function d(a,b){var c,h,k=arguments.length<3?a:arguments[2];return j(a)===k?a[b]:(c=e.f(a,b))?g(c,"value")?c.value:void 0!==c.get?c.get.call(k):void 0:i(h=f(a))?d(h,b,k):void 0}var e=c(19),f=c(20),g=c(14),h=c(0),i=c(4),j=c(1);h(h.S,"Reflect",{get:d})},function(a,b,c){var d=c(19),e=c(0),f=c(1);e(e.S,"Reflect",{getOwnPropertyDescriptor:function(a,b){return d.f(f(a),b)}})},function(a,b,c){var d=c(0),e=c(20),f=c(1);d(d.S,"Reflect",{getPrototypeOf:function(a){return e(f(a))}})},function(a,b,c){var d=c(0);d(d.S,"Reflect",{has:function(a,b){return b in a}})},function(a,b,c){var d=c(0),e=c(1),f=Object.isExtensible;d(d.S,"Reflect",{isExtensible:function(a){return e(a),!f||f(a)}})},function(a,b,c){var d=c(0);d(d.S,"Reflect",{ownKeys:c(159)})},function(a,b,c){var d=c(0),e=c(1),f=Object.preventExtensions;d(d.S,"Reflect",{preventExtensions:function(a){e(a);try{return f&&f(a),!0}catch(a){return!1}}})},function(a,b,c){function d(a,b,c){var i,m,n=arguments.length<4?a:arguments[3],o=f.f(k(a),b);if(!o){if(l(m=g(a)))return d(m,b,c,n);o=j(0)}return h(o,"value")?!(!1===o.writable||!l(n))&&(i=f.f(n,b)||j(0),i.value=c,e.f(n,b,i),!0):void 0!==o.set&&(o.set.call(n,c),!0)}var e=c(7),f=c(19),g=c(20),h=c(14),i=c(0),j=c(41),k=c(1),l=c(4);i(i.S,"Reflect",{set:d})},function(a,b,c){var d=c(0),e=c(92);e&&d(d.S,"Reflect",{setPrototypeOf:function(a,b){e.check(a,b);try{return e.set(a,b),!0}catch(a){return!1}}})},function(a,b,c){"use strict";var d=c(0),e=c(69)(!0);d(d.P,"Array",{includes:function(a){return e(this,a,arguments.length>1?arguments[1]:void 0)}}),c(37)("includes")},function(a,b,c){"use strict";var d=c(0),e=c(160),f=c(9),g=c(8),h=c(10),i=c(106);d(d.P,"Array",{flatMap:function(a){var b,c,d=f(this);return h(a),b=g(d.length),c=i(d,0),e(c,d,d,b,0,1,a,arguments[1]),c}}),c(37)("flatMap")},function(a,b,c){"use strict";var d=c(0),e=c(160),f=c(9),g=c(8),h=c(29),i=c(106);d(d.P,"Array",{flatten:function(){var a=arguments[0],b=f(this),c=g(b.length),d=i(b,0);return e(d,b,b,c,0,void 0===a?1:h(a)),d}}),c(37)("flatten")},function(a,b,c){"use strict";var d=c(0),e=c(98)(!0);d(d.P,"String",{at:function(a){return e(this,a)}})},function(a,b,c){"use strict";var d=c(0),e=c(161),f=c(113);d(d.P+d.F*/Version\/10\.\d+(\.\d+)? Safari\//.test(f),"String",{padStart:function(a){return e(this,a,arguments.length>1?arguments[1]:void 0,!0)}})},function(a,b,c){"use strict";var d=c(0),e=c(161),f=c(113);d(d.P+d.F*/Version\/10\.\d+(\.\d+)? Safari\//.test(f),"String",{padEnd:function(a){return e(this,a,arguments.length>1?arguments[1]:void 0,!1)}})},function(a,b,c){"use strict";c(54)("trimLeft",function(a){return function(){return a(this,1)}},"trimStart")},function(a,b,c){"use strict";c(54)("trimRight",function(a){return function(){return a(this,2)}},"trimEnd")},function(a,b,c){"use strict";var d=c(0),e=c(28),f=c(8),g=c(72),h=c(74),i=RegExp.prototype,j=function(a,b){this._r=a,this._s=b};c(100)(j,"RegExp String",function(){var a=this._r.exec(this._s);return{value:a,done:null===a}}),d(d.P,"String",{matchAll:function(a){if(e(this),!g(a))throw TypeError(a+" is not a regexp!");var b=String(this),c="flags"in i?String(a.flags):h.call(a),d=new RegExp(a.source,~c.indexOf("g")?c:"g"+c);return d.lastIndex=f(a.lastIndex),new j(d,b)}})},function(a,b,c){c(88)("asyncIterator")},function(a,b,c){c(88)("observable")},function(a,b,c){var d=c(0),e=c(159),f=c(18),g=c(19),h=c(104);d(d.S,"Object",{getOwnPropertyDescriptors:function(a){for(var b,c,d=f(a),i=g.f,j=e(d),k={},l=0;j.length>l;)void 0!==(c=i(d,b=j[l++]))&&h(k,b,c);return k}})},function(a,b,c){var d=c(0),e=c(162)(!1);d(d.S,"Object",{values:function(a){return e(a)}})},function(a,b,c){var d=c(0),e=c(162)(!0);d(d.S,"Object",{entries:function(a){return e(a)}})},function(a,b,c){"use strict";var d=c(0),e=c(9),f=c(10),g=c(7);c(6)&&d(d.P+c(79),"Object",{__defineGetter__:function(a,b){g.f(e(this),a,{get:f(b),enumerable:!0,configurable:!0})}})},function(a,b,c){"use strict";var d=c(0),e=c(9),f=c(10),g=c(7);c(6)&&d(d.P+c(79),"Object",{__defineSetter__:function(a,b){g.f(e(this),a,{set:f(b),enumerable:!0,configurable:!0})}})},function(a,b,c){"use strict";var d=c(0),e=c(9),f=c(27),g=c(20),h=c(19).f;c(6)&&d(d.P+c(79),"Object",{__lookupGetter__:function(a){var b,c=e(this),d=f(a,!0);do{if(b=h(c,d))return b.get}while(c=g(c))}})},function(a,b,c){"use strict";var d=c(0),e=c(9),f=c(27),g=c(20),h=c(19).f;c(6)&&d(d.P+c(79),"Object",{__lookupSetter__:function(a){var b,c=e(this),d=f(a,!0);do{if(b=h(c,d))return b.set}while(c=g(c))}})},function(a,b,c){var d=c(0);d(d.P+d.R,"Map",{toJSON:c(163)("Map")})},function(a,b,c){var d=c(0);d(d.P+d.R,"Set",{toJSON:c(163)("Set")})},function(a,b,c){c(80)("Map")},function(a,b,c){c(80)("Set")},function(a,b,c){c(80)("WeakMap")},function(a,b,c){c(80)("WeakSet")},function(a,b,c){c(81)("Map")},function(a,b,c){c(81)("Set")},function(a,b,c){c(81)("WeakMap")},function(a,b,c){c(81)("WeakSet")},function(a,b,c){var d=c(0);d(d.G,{global:c(2)})},function(a,b,c){var d=c(0);d(d.S,"System",{global:c(2)})},function(a,b,c){var d=c(0),e=c(23);d(d.S,"Error",{isError:function(a){return"Error"===e(a)}})},function(a,b,c){var d=c(0);d(d.S,"Math",{clamp:function(a,b,c){return Math.min(c,Math.max(b,a))}})},function(a,b,c){var d=c(0);d(d.S,"Math",{DEG_PER_RAD:Math.PI/180})},function(a,b,c){var d=c(0),e=180/Math.PI;d(d.S,"Math",{degrees:function(a){return a*e}})},function(a,b,c){var d=c(0),e=c(165),f=c(145);d(d.S,"Math",{fscale:function(a,b,c,d,g){return f(e(a,b,c,d,g))}})},function(a,b,c){var d=c(0);d(d.S,"Math",{iaddh:function(a,b,c,d){var e=a>>>0,f=b>>>0,g=c>>>0;return f+(d>>>0)+((e&g|(e|g)&~(e+g>>>0))>>>31)|0}})},function(a,b,c){var d=c(0);d(d.S,"Math",{isubh:function(a,b,c,d){var e=a>>>0,f=b>>>0,g=c>>>0;return f-(d>>>0)-((~e&g|~(e^g)&e-g>>>0)>>>31)|0}})},function(a,b,c){var d=c(0);d(d.S,"Math",{imulh:function(a,b){var c=65535,d=+a,e=+b,f=d&c,g=e&c,h=d>>16,i=e>>16,j=(h*g>>>0)+(f*g>>>16);return h*i+(j>>16)+((f*i>>>0)+(j&c)>>16)}})},function(a,b,c){var d=c(0);d(d.S,"Math",{RAD_PER_DEG:180/Math.PI})},function(a,b,c){var d=c(0),e=Math.PI/180;d(d.S,"Math",{radians:function(a){return a*e}})},function(a,b,c){var d=c(0);d(d.S,"Math",{scale:c(165)})},function(a,b,c){var d=c(0);d(d.S,"Math",{umulh:function(a,b){var c=65535,d=+a,e=+b,f=d&c,g=e&c,h=d>>>16,i=e>>>16,j=(h*g>>>0)+(f*g>>>16);return h*i+(j>>>16)+((f*i>>>0)+(j&c)>>>16)}})},function(a,b,c){var d=c(0);d(d.S,"Math",{signbit:function(a){return(a=+a)!=a?a:0==a?1/a==1/0:a>0}})},function(a,b,c){"use strict";var d=c(0),e=c(26),f=c(2),g=c(76),h=c(152);d(d.P+d.R,"Promise",{finally:function(a){var b=g(this,e.Promise||f.Promise),c="function"==typeof a;return this.then(c?function(c){return h(b,a()).then(function(){return c})}:a,c?function(c){return h(b,a()).then(function(){throw c})}:a)}})},function(a,b,c){"use strict";var d=c(0),e=c(111),f=c(151);d(d.S,"Promise",{try:function(a){var b=e.f(this),c=f(a);return(c.e?b.reject:b.resolve)(c.v),b.promise}})},function(a,b,c){var d=c(33),e=c(1),f=d.key,g=d.set;d.exp({defineMetadata:function(a,b,c,d){g(a,b,e(c),f(d))}})},function(a,b,c){var d=c(33),e=c(1),f=d.key,g=d.map,h=d.store;d.exp({deleteMetadata:function(a,b){var c=arguments.length<3?void 0:f(arguments[2]),d=g(e(b),c,!1);if(void 0===d||!d.delete(a))return!1;if(d.size)return!0;var i=h.get(b);return i.delete(c),!!i.size||h.delete(b)}})},function(a,b,c){var d=c(33),e=c(1),f=c(20),g=d.has,h=d.get,i=d.key,j=function(a,b,c){if(g(a,b,c))return h(a,b,c);var d=f(b);return null!==d?j(a,d,c):void 0};d.exp({getMetadata:function(a,b){return j(a,e(b),arguments.length<3?void 0:i(arguments[2]))}})},function(a,b,c){var d=c(155),e=c(164),f=c(33),g=c(1),h=c(20),i=f.keys,j=f.key,k=function(a,b){var c=i(a,b),f=h(a);if(null===f)return c;var g=k(f,b);return g.length?c.length?e(new d(c.concat(g))):g:c};f.exp({getMetadataKeys:function(a){return k(g(a),arguments.length<2?void 0:j(arguments[1]))}})},function(a,b,c){var d=c(33),e=c(1),f=d.get,g=d.key;d.exp({getOwnMetadata:function(a,b){return f(a,e(b),arguments.length<3?void 0:g(arguments[2]))}})},function(a,b,c){var d=c(33),e=c(1),f=d.keys,g=d.key;d.exp({getOwnMetadataKeys:function(a){return f(e(a),arguments.length<2?void 0:g(arguments[1]))}})},function(a,b,c){var d=c(33),e=c(1),f=c(20),g=d.has,h=d.key,i=function(a,b,c){if(g(a,b,c))return!0;var d=f(b);return null!==d&&i(a,d,c)};d.exp({hasMetadata:function(a,b){return i(a,e(b),arguments.length<3?void 0:h(arguments[2]))}})},function(a,b,c){var d=c(33),e=c(1),f=d.has,g=d.key;d.exp({hasOwnMetadata:function(a,b){return f(a,e(b),arguments.length<3?void 0:g(arguments[2]))}})},function(a,b,c){var d=c(33),e=c(1),f=c(10),g=d.key,h=d.set;d.exp({metadata:function(a,b){return function(c,d){h(a,b,(void 0!==d?e:f)(c),g(d))}}})},function(a,b,c){var d=c(0),e=c(110)(),f=c(2).process,g="process"==c(23)(f);d(d.G,{asap:function(a){var b=g&&f.domain;e(b?b.bind(a):a)}})},function(a,b,c){"use strict";var d=c(0),e=c(2),f=c(26),g=c(110)(),h=c(5)("observable"),i=c(10),j=c(1),k=c(49),l=c(51),m=c(15),n=c(50),o=n.RETURN,p=function(a){return null==a?void 0:i(a)},q=function(a){var b=a._c;b&&(a._c=void 0,b())},r=function(a){return void 0===a._o},s=function(a){r(a)||(a._o=void 0,q(a))},t=function(a,b){j(a),this._c=void 0,this._o=a,a=new u(this);try{var c=b(a),d=c;null!=c&&("function"==typeof c.unsubscribe?c=function(){d.unsubscribe()}:i(c),this._c=c)}catch(b){return void a.error(b)}r(this)&&q(this)};t.prototype=l({},{unsubscribe:function(){s(this)}});var u=function(a){this._s=a};u.prototype=l({},{next:function(a){var b=this._s;if(!r(b)){var c=b._o;try{var d=p(c.next);if(d)return d.call(c,a)}catch(a){try{s(b)}finally{throw a}}}},error:function(a){var b=this._s;if(r(b))throw a;var c=b._o;b._o=void 0;try{var d=p(c.error);if(!d)throw a;a=d.call(c,a)}catch(a){try{q(b)}finally{throw a}}return q(b),a},complete:function(a){var b=this._s;if(!r(b)){var c=b._o;b._o=void 0;try{var d=p(c.complete);a=d?d.call(c,a):void 0}catch(a){try{q(b)}finally{throw a}}return q(b),a}}});var v=function(a){k(this,v,"Observable","_f")._f=i(a)};l(v.prototype,{subscribe:function(a){return new t(a,this._f)},forEach:function(a){var b=this;return new(f.Promise||e.Promise)(function(c,d){i(a);var e=b.subscribe({next:function(b){try{return a(b)}catch(a){d(a),e.unsubscribe()}},error:d,complete:c})})}}),l(v,{from:function(a){var b="function"==typeof this?this:v,c=p(j(a)[h]);if(c){var d=j(c.call(a));return d.constructor===b?d:new b(function(a){return d.subscribe(a)})}return new b(function(b){var c=!1;return g(function(){if(!c){try{if(n(a,!1,function(a){if(b.next(a),c)return o})===o)return}catch(a){if(c)throw a;return void b.error(a)}b.complete()}}),function(){c=!0}})},of:function(){for(var a=0,b=arguments.length,c=new Array(b);a<b;)c[a]=arguments[a++];return new("function"==typeof this?this:v)(function(a){var b=!1;return g(function(){if(!b){for(var d=0;d<c.length;++d)if(a.next(c[d]),b)return;a.complete()}}),function(){b=!0}})}}),m(v.prototype,h,function(){return this}),d(d.G,{Observable:v}),c(48)("Observable")},function(a,b,c){var d=c(2),e=c(0),f=c(113),g=[].slice,h=/MSIE .\./.test(f),i=function(a){return function(b,c){var d=arguments.length>2,e=!!d&&g.call(arguments,2);return a(d?function(){("function"==typeof b?b:Function(b)).apply(this,e)}:b,c)}};e(e.G+e.B+e.F*h,{setTimeout:i(d.setTimeout),setInterval:i(d.setInterval)})},function(a,b,c){var d=c(0),e=c(109);d(d.G+d.B,{setImmediate:e.set,clearImmediate:e.clear})},function(a,b,c){for(var d=c(108),e=c(44),f=c(16),g=c(2),h=c(15),i=c(55),j=c(5),k=j("iterator"),l=j("toStringTag"),m=i.Array,n={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},o=e(n),p=0;p<o.length;p++){var q,r=o[p],s=n[r],t=g[r],u=t&&t.prototype;if(u&&(u[k]||h(u,k,m),u[l]||h(u,l,r),i[r]=m,s))for(q in d)u[q]||f(u,q,d[q],!0)}},function(a,b,c){(function(b){!function(b){"use strict";function c(a,b,c,d){var f=b&&b.prototype instanceof e?b:e,g=Object.create(f.prototype),h=new n(d||[]);return g._invoke=j(a,c,h),g}function d(a,b,c){try{return{type:"normal",arg:a.call(b,c)}}catch(a){return{type:"throw",arg:a}}}function e(){}function f(){}function g(){}function h(a){["next","throw","return"].forEach(function(b){a[b]=function(a){return this._invoke(b,a)}})}function i(a){function c(b,e,f,g){var h=d(a[b],a,e);if("throw"!==h.type){var i=h.arg,j=i.value;return j&&"object"==typeof j&&s.call(j,"__await")?Promise.resolve(j.__await).then(function(a){c("next",a,f,g)},function(a){c("throw",a,f,g)}):Promise.resolve(j).then(function(a){i.value=a,f(i)},g)}g(h.arg)}function e(a,b){function d(){return new Promise(function(d,e){c(a,b,d,e)})}return f=f?f.then(d,d):d()}"object"==typeof b.process&&b.process.domain&&(c=b.process.domain.bind(c));var f;this._invoke=e}function j(a,b,c){var e=z;return function(f,g){if(e===B)throw new Error("Generator is already running");if(e===C){if("throw"===f)throw g;return p()}for(c.method=f,c.arg=g;;){var h=c.delegate;if(h){var i=k(h,c);if(i){if(i===D)continue;return i}}if("next"===c.method)c.sent=c._sent=c.arg;else if("throw"===c.method){if(e===z)throw e=C,c.arg;c.dispatchException(c.arg)}else"return"===c.method&&c.abrupt("return",c.arg);e=B;var j=d(a,b,c);if("normal"===j.type){if(e=c.done?C:A,j.arg===D)continue;return{value:j.arg,done:c.done}}"throw"===j.type&&(e=C,c.method="throw",c.arg=j.arg)}}}function k(a,b){var c=a.iterator[b.method];if(c===q){if(b.delegate=null,"throw"===b.method){if(a.iterator.return&&(b.method="return",b.arg=q,k(a,b),"throw"===b.method))return D;b.method="throw",b.arg=new TypeError("The iterator does not provide a 'throw' method")}return D}var e=d(c,a.iterator,b.arg);if("throw"===e.type)return b.method="throw",b.arg=e.arg,b.delegate=null,D;var f=e.arg;return f?f.done?(b[a.resultName]=f.value,b.next=a.nextLoc,"return"!==b.method&&(b.method="next",b.arg=q),b.delegate=null,D):f:(b.method="throw",b.arg=new TypeError("iterator result is not an object"),b.delegate=null,D)}function l(a){var b={tryLoc:a[0]};1 in a&&(b.catchLoc=a[1]),2 in a&&(b.finallyLoc=a[2],b.afterLoc=a[3]),this.tryEntries.push(b)}function m(a){var b=a.completion||{};b.type="normal",delete b.arg,a.completion=b}function n(a){this.tryEntries=[{tryLoc:"root"}],a.forEach(l,this),this.reset(!0)}function o(a){if(a){var b=a[u];if(b)return b.call(a);if("function"==typeof a.next)return a;if(!isNaN(a.length)){var c=-1,d=function b(){for(;++c<a.length;)if(s.call(a,c))return b.value=a[c],b.done=!1,b;return b.value=q,b.done=!0,b};return d.next=d}}return{next:p}}function p(){return{value:q,done:!0}}var q,r=Object.prototype,s=r.hasOwnProperty,t="function"==typeof Symbol?Symbol:{},u=t.iterator||"@@iterator",v=t.asyncIterator||"@@asyncIterator",w=t.toStringTag||"@@toStringTag",x="object"==typeof a,y=b.regeneratorRuntime;if(y)return void(x&&(a.exports=y));y=b.regeneratorRuntime=x?a.exports:{},y.wrap=c;var z="suspendedStart",A="suspendedYield",B="executing",C="completed",D={},E={};E[u]=function(){return this};var F=Object.getPrototypeOf,G=F&&F(F(o([])));G&&G!==r&&s.call(G,u)&&(E=G);var H=g.prototype=e.prototype=Object.create(E);f.prototype=H.constructor=g,g.constructor=f,g[w]=f.displayName="GeneratorFunction",y.isGeneratorFunction=function(a){var b="function"==typeof a&&a.constructor;return!!b&&(b===f||"GeneratorFunction"===(b.displayName||b.name))},y.mark=function(a){return Object.setPrototypeOf?Object.setPrototypeOf(a,g):(a.__proto__=g,w in a||(a[w]="GeneratorFunction")),a.prototype=Object.create(H),a},y.awrap=function(a){return{__await:a}},h(i.prototype),i.prototype[v]=function(){return this},y.AsyncIterator=i,y.async=function(a,b,d,e){var f=new i(c(a,b,d,e));return y.isGeneratorFunction(b)?f:f.next().then(function(a){return a.done?a.value:f.next()})},h(H),H[w]="Generator",H[u]=function(){return this},H.toString=function(){return"[object Generator]"},y.keys=function(a){var b=[];for(var c in a)b.push(c);return b.reverse(),function c(){for(;b.length;){var d=b.pop();if(d in a)return c.value=d,c.done=!1,c}return c.done=!0,c}},y.values=o,n.prototype={constructor:n,reset:function(a){if(this.prev=0,this.next=0,this.sent=this._sent=q,this.done=!1,this.delegate=null,this.method="next",this.arg=q,this.tryEntries.forEach(m),!a)for(var b in this)"t"===b.charAt(0)&&s.call(this,b)&&!isNaN(+b.slice(1))&&(this[b]=q)},stop:function(){this.done=!0;var a=this.tryEntries[0],b=a.completion;if("throw"===b.type)throw b.arg;return this.rval},dispatchException:function(a){function b(b,d){return f.type="throw",f.arg=a,c.next=b,d&&(c.method="next",c.arg=q),!!d}if(this.done)throw a;for(var c=this,d=this.tryEntries.length-1;d>=0;--d){var e=this.tryEntries[d],f=e.completion;if("root"===e.tryLoc)return b("end");if(e.tryLoc<=this.prev){var g=s.call(e,"catchLoc"),h=s.call(e,"finallyLoc");if(g&&h){if(this.prev<e.catchLoc)return b(e.catchLoc,!0);if(this.prev<e.finallyLoc)return b(e.finallyLoc)}else if(g){if(this.prev<e.catchLoc)return b(e.catchLoc,!0)}else{if(!h)throw new Error("try statement without catch or finally");if(this.prev<e.finallyLoc)return b(e.finallyLoc)}}}},abrupt:function(a,b){for(var c=this.tryEntries.length-1;c>=0;--c){var d=this.tryEntries[c];if(d.tryLoc<=this.prev&&s.call(d,"finallyLoc")&&this.prev<d.finallyLoc){var e=d;break}}e&&("break"===a||"continue"===a)&&e.tryLoc<=b&&b<=e.finallyLoc&&(e=null);var f=e?e.completion:{};return f.type=a,f.arg=b,e?(this.method="next",this.next=e.finallyLoc,D):this.complete(f)},complete:function(a,b){if("throw"===a.type)throw a.arg;return"break"===a.type||"continue"===a.type?this.next=a.arg:"return"===a.type?(this.rval=this.arg=a.arg,this.method="return",this.next="end"):"normal"===a.type&&b&&(this.next=b),D},finish:function(a){for(var b=this.tryEntries.length-1;b>=0;--b){var c=this.tryEntries[b];if(c.finallyLoc===a)return this.complete(c.completion,c.afterLoc),m(c),D}},catch:function(a){for(var b=this.tryEntries.length-1;b>=0;--b){var c=this.tryEntries[b];if(c.tryLoc===a){var d=c.completion;if("throw"===d.type){var e=d.arg;m(c)}return e}}throw new Error("illegal catch attempt")},delegateYield:function(a,b,c){return this.delegate={iterator:o(a),resultName:b,nextLoc:c},"next"===this.method&&(this.arg=q),D}}}("object"==typeof b?b:"object"==typeof window?window:"object"==typeof self?self:this)}).call(b,c(86))},function(a,b,c){c(403),a.exports=c(26).RegExp.escape},function(a,b,c){var d=c(0),e=c(404)(/[\\^$*+?.()|[\]{}]/g,"\\$&");d(d.S,"RegExp",{escape:function(a){return e(a)}})},function(a,b){a.exports=function(a,b){var c=b===Object(b)?function(a){return b[a]}:b;return function(b){return String(b).replace(a,c)}}},function(a,b,c){"use strict";function d(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}Object.defineProperty(b,"__esModule",{value:!0}),b.settings=b.support=void 0;var e=c(406);Object.keys(e).forEach(function(a){"default"!==a&&"__esModule"!==a&&Object.defineProperty(b,a,{enumerable:!0,get:function(){return e[a]}})});var f=c(407);Object.keys(f).forEach(function(a){"default"!==a&&"__esModule"!==a&&Object.defineProperty(b,a,{enumerable:!0,get:function(){return f[a]}})});var g=c(408);Object.keys(g).forEach(function(a){"default"!==a&&"__esModule"!==a&&Object.defineProperty(b,a,{enumerable:!0,get:function(){return g[a]}})});var h=c(417);Object.keys(h).forEach(function(a){"default"!==a&&"__esModule"!==a&&Object.defineProperty(b,a,{enumerable:!0,get:function(){return h[a]}})});var i=c(418);Object.keys(i).forEach(function(a){"default"!==a&&"__esModule"!==a&&Object.defineProperty(b,a,{enumerable:!0,get:function(){return i[a]}})});var j=c(420);Object.keys(j).forEach(function(a){"default"!==a&&"__esModule"!==a&&Object.defineProperty(b,a,{enumerable:!0,get:function(){return j[a]}
})});var k=c(422);Object.keys(k).forEach(function(a){"default"!==a&&"__esModule"!==a&&Object.defineProperty(b,a,{enumerable:!0,get:function(){return k[a]}})});var l=c(427);Object.keys(l).forEach(function(a){"default"!==a&&"__esModule"!==a&&Object.defineProperty(b,a,{enumerable:!0,get:function(){return l[a]}})});var m=c(429);Object.keys(m).forEach(function(a){"default"!==a&&"__esModule"!==a&&Object.defineProperty(b,a,{enumerable:!0,get:function(){return m[a]}})});var n=c(39),o=d(n),p=c(11),q=d(p);b.support=o,b.settings=q},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=c(34);Object.keys(d).forEach(function(a){"default"!==a&&"__esModule"!==a&&Object.defineProperty(b,a,{enumerable:!0,get:function(){return d[a]}})});var e=c(114);Object.keys(e).forEach(function(a){"default"!==a&&"__esModule"!==a&&Object.defineProperty(b,a,{enumerable:!0,get:function(){return e[a]}})});var f=c(35);Object.keys(f).forEach(function(a){"default"!==a&&"__esModule"!==a&&Object.defineProperty(b,a,{enumerable:!0,get:function(){return f[a]}})});var g=c(115);Object.keys(g).forEach(function(a){"default"!==a&&"__esModule"!==a&&Object.defineProperty(b,a,{enumerable:!0,get:function(){return g[a]}})})},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=c(166);Object.keys(d).forEach(function(a){"default"!==a&&"__esModule"!==a&&Object.defineProperty(b,a,{enumerable:!0,get:function(){return d[a]}})});var e=c(13);Object.keys(e).forEach(function(a){"default"!==a&&"__esModule"!==a&&Object.defineProperty(b,a,{enumerable:!0,get:function(){return e[a]}})});var f=c(116);Object.keys(f).forEach(function(a){"default"!==a&&"__esModule"!==a&&Object.defineProperty(b,a,{enumerable:!0,get:function(){return f[a]}})});var g=c(38);Object.keys(g).forEach(function(a){"default"!==a&&"__esModule"!==a&&Object.defineProperty(b,a,{enumerable:!0,get:function(){return g[a]}})});var h=c(117);Object.keys(h).forEach(function(a){"default"!==a&&"__esModule"!==a&&Object.defineProperty(b,a,{enumerable:!0,get:function(){return h[a]}})})},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,"__esModule",{value:!0});var e=c(25);Object.defineProperty(b,"EventEmitter",{enumerable:!0,get:function(){return d(e).default}});var f=c(409);Object.defineProperty(b,"Application",{enumerable:!0,get:function(){return d(f).default}});var g=c(414);Object.defineProperty(b,"Quadtree",{enumerable:!0,get:function(){return d(g).default}});var h=c(415);Object.defineProperty(b,"Scene",{enumerable:!0,get:function(){return d(h).default}});var i=c(168);Object.defineProperty(b,"SceneManager",{enumerable:!0,get:function(){return d(i).default}});var j=c(40);Object.defineProperty(b,"Color",{enumerable:!0,get:function(){return d(j).default}});var k=c(82);Object.defineProperty(b,"Time",{enumerable:!0,get:function(){return d(k).default}});var l=c(118);Object.defineProperty(b,"Clock",{enumerable:!0,get:function(){return d(l).default}});var m=c(416);Object.defineProperty(b,"Timer",{enumerable:!0,get:function(){return d(m).default}});var n=c(122);Object.defineProperty(b,"Bounds",{enumerable:!0,get:function(){return d(n).default}});var o=c(62);Object.defineProperty(b,"Collision",{enumerable:!0,get:function(){return d(o).default}})},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){return function(){var b=a.apply(this,arguments);return new Promise(function(a,c){function d(e,f){try{var g=b[e](f),h=g.value}catch(a){return void c(a)}if(!g.done)return Promise.resolve(h).then(function(a){d("next",a)},function(a){d("throw",a)});a(h)}return d("next")})}}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function g(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function h(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var i=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),j=function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;if(void 0!==g)return g.call(d)},k=c(25),l=d(k),m=c(118),n=d(m),o=c(168),p=d(o),q=c(169),r=d(q),s=c(183),t=d(s),u=c(186),v=d(u),w=c(11),x=d(w),y=function(a){function b(a){f(this,b);var c=g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this)),d=Object.assign({},x.default.APP_OPTIONS,a);return c._config=d,c._canvas=d.canvas instanceof HTMLCanvasElement?d.canvas:document.createElement("canvas"),c._canvasParent=d.canvasParent instanceof HTMLElement?d.canvasParent:null,c._loader=new v.default({resourcePath:d.resourcePath,database:d.database}),c._renderManager=new r.default(c),c._inputManager=new t.default(c),c._sceneManager=new p.default(c),c._updateHandler=c.update.bind(c),c._updateId=0,c._delta=new n.default(!1),c._running=!1,c._canvasParent&&c._canvasParent.appendChild(c._canvas),c}return h(b,a),i(b,[{key:"start",value:function(){function a(a){return b.apply(this,arguments)}var b=e(regeneratorRuntime.mark(function a(b){return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(this._running){a.next=6;break}return a.next=3,this._sceneManager.setScene(b);case 3:this._updateId=requestAnimationFrame(this._updateHandler),this._delta.restart(),this._running=!0;case 6:return a.abrupt("return",this);case 7:case"end":return a.stop()}},a,this)}));return a}()},{key:"update",value:function(){return this._running&&(this._inputManager.update(),this._sceneManager.update(this._delta.elapsedTime),this._updateId=requestAnimationFrame(this._updateHandler),this._delta.restart()),this}},{key:"stop",value:function(){return this._running&&(cancelAnimationFrame(this._updateId),this._sceneManager.setScene(null),this._delta.stop(),this._running=!1),this}},{key:"resize",value:function(a,b){return this._renderManager.resize(a,b),this.trigger("resize",a,b,this),this}},{key:"destroy",value:function(){j(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this),this.stop(),this._canvasParent&&this._canvasParent.removeChild(this._canvas),this._loader.destroy(),this._loader=null,this._inputManager.destroy(),this._inputManager=null,this._renderManager.destroy(),this._renderManager=null,this._sceneManager.destroy(),this._sceneManager=null,this._delta.destroy(),this._delta=null,this._config=null,this._canvas=null,this._canvasParent=null,this._updateHandler=null,this._updateId=null,this._running=null}},{key:"canvas",get:function(){return this._canvas}},{key:"config",get:function(){return this._config}},{key:"loader",get:function(){return this._loader}},{key:"renderManager",get:function(){return this._renderManager}},{key:"inputManager",get:function(){return this._inputManager}},{key:"sceneManager",get:function(){return this._sceneManager}},{key:"running",get:function(){return this._running}},{key:"FPS",get:function(){return 1e3/this._delta.elapsedTime.milliseconds}}]),b}(l.default);b.default=y},function(a,b){function c(){throw new Error("setTimeout has not been defined")}function d(){throw new Error("clearTimeout has not been defined")}function e(a){if(k===setTimeout)return setTimeout(a,0);if((k===c||!k)&&setTimeout)return k=setTimeout,setTimeout(a,0);try{return k(a,0)}catch(b){try{return k.call(null,a,0)}catch(b){return k.call(this,a,0)}}}function f(a){if(l===clearTimeout)return clearTimeout(a);if((l===d||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(a);try{return l(a)}catch(b){try{return l.call(null,a)}catch(b){return l.call(this,a)}}}function g(){p&&n&&(p=!1,n.length?o=n.concat(o):q=-1,o.length&&h())}function h(){if(!p){var a=e(g);p=!0;for(var b=o.length;b;){for(n=o,o=[];++q<b;)n&&n[q].run();q=-1,b=o.length}n=null,p=!1,f(a)}}function i(a,b){this.fun=a,this.array=b}function j(){}var k,l,m=a.exports={};!function(){try{k="function"==typeof setTimeout?setTimeout:c}catch(a){k=c}try{l="function"==typeof clearTimeout?clearTimeout:d}catch(a){l=d}}();var n,o=[],p=!1,q=-1;m.nextTick=function(a){var b=new Array(arguments.length-1);if(arguments.length>1)for(var c=1;c<arguments.length;c++)b[c-1]=arguments[c];o.push(new i(a,b)),1!==o.length||p||e(h)},i.prototype.run=function(){this.fun.apply(null,this.array)},m.title="browser",m.browser=!0,m.env={},m.argv=[],m.version="",m.versions={},m.on=j,m.addListener=j,m.once=j,m.off=j,m.removeListener=j,m.removeAllListeners=j,m.emit=j,m.prependListener=j,m.prependOnceListener=j,m.listeners=function(a){return[]},m.binding=function(a){throw new Error("process.binding is not supported")},m.cwd=function(){return"/"},m.chdir=function(a){throw new Error("process.chdir is not supported")},m.umask=function(){return 0}},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0});var f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=c(11),h=d(g),i=function(){function a(b){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},d=c.scaleMode,f=void 0===d?h.default.SCALE_MODE:d,g=c.wrapMode,i=void 0===g?h.default.WRAP_MODE:g;e(this,a),this._context=b,this._sampler=b.createSampler(),this._scaleMode=null,this._wrapMode=null,this.setScaleMode(f),this.setWrapMode(i)}return f(a,[{key:"setScaleMode",value:function(a){if(this._scaleMode!==a){var b=this._context;b.samplerParameteri(this._sampler,b.TEXTURE_MAG_FILTER,a),b.samplerParameteri(this._sampler,b.TEXTURE_MIN_FILTER,a),this._scaleMode=a}return this}},{key:"setWrapMode",value:function(a){if(this._wrapMode!==a){var b=this._context;b.samplerParameteri(this._sampler,b.TEXTURE_WRAP_S,a),b.samplerParameteri(this._sampler,b.TEXTURE_WRAP_T,a),this._wrapMode=a}return this}},{key:"bind",value:function(a){return this._context.bindSampler(a,this._sampler),this}},{key:"destroy",value:function(){this._context.deleteSampler(this._sampler),this._wrapMode=null,this._scaleMode=null,this._sampler=null,this._context=null}},{key:"sampler",get:function(){return this._sampler}},{key:"scaleMode",get:function(){return this._scaleMode},set:function(a){this.setScaleMode(a)}},{key:"wrapMode",get:function(){return this._wrapMode},set:function(a){this.setWrapMode(a)}}]),a}();b.default=i},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;if(void 0!==g)return g.call(d)},j=c(198),k=d(j),l=c(63),m=d(l),n=c(21),o=d(n),p=c(122),q=d(p),r=c(62),s=d(r),t=c(52),u=d(t),v=function(a){function b(){e(this,b);var a=f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this));return a._parent=null,a._globalTransform=new m.default,a._localBounds=new o.default,a._bounds=new q.default,a}return g(b,a),h(b,[{key:"getLocalBounds",value:function(){return this._localBounds}},{key:"getBounds",value:function(){return this.updateParentTransforms(),this.updateBounds(),this._bounds.getRect()}},{key:"updateBounds",value:function(){return this._bounds.reset().addRect(this.getLocalBounds(),this.getGlobalTransform()),this}},{key:"updateParentTransforms",value:function(){return this._parent&&this._parent.updateParentTransforms(),this._updateTransform&&(this.updateTransform(),this._updateTransform=!1),this}},{key:"getGlobalTransform",value:function(){return this._globalTransform.copy(this.getTransform()),this._parent&&this._globalTransform.combine(this._parent.getGlobalTransform()),this._globalTransform}},{key:"getNormals",value:function(){return this.getBounds().getNormals()}},{key:"project",value:function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.default;return this.getBounds().project(a,b)}},{key:"contains",value:function(a,b){return this.getBounds().contains(a,b)}},{key:"intersects",value:function(a){return this.rotation%90==0&&a.rotation%90==0?s.default.intersectionRectRect(this.getBounds(),a.getBounds()):s.default.intersectionSAT(this,a)}},{key:"getCollision",value:function(a){return this.rotation%90==0&&a.rotation%90==0?s.default.collisionRectRect(this.getBounds(),a.getBounds()):s.default.collisionSAT(this,a)}},{key:"setOrigin",value:function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a;if(!(arguments.length>2&&void 0!==arguments[2])||arguments[2]){var c=this.getBounds();a*=c.width,b*=c.height}return this.origin.set(a,b),this}},{key:"destroy",value:function(){i(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this),this._globalTransform.destroy(),this._globalTransform=null,this._localBounds.destroy(),this._localBounds=null,this._bounds.destroy(),this._bounds=null,this._parent=null}},{key:"scene",get:function(){return this._scene},set:function(a){this._scene=a}},{key:"parent",get:function(){return this._parent},set:function(a){this._parent=a}},{key:"globalTransform",get:function(){return this.getGlobalTransform()}},{key:"localBounds",get:function(){return this.getLocalBounds()}},{key:"bounds",get:function(){return this.getBounds()}}]),b}(k.default);b.default=v},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){return function(){var b=a.apply(this,arguments);return new Promise(function(a,c){function d(e,f){try{var g=b[e](f),h=g.value}catch(a){return void c(a)}if(!g.done)return Promise.resolve(h).then(function(a){d("next",a)},function(a){d("throw",a)});a(h)}return d("next")})}}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function g(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function h(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var i=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),j=function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;if(void 0!==g)return g.call(d)},k=c(129),l=d(k),m=function(a){function b(){f(this,b);var a=g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this));return a._objectURLs=new Set,a}return h(b,a),i(b,[{key:"create",value:function(){function a(a,b){return c.apply(this,arguments)}var c=e(regeneratorRuntime.mark(function a(c,d){var e,f,g;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,j(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"create",this).call(this,c,null);case 2:return e=a.sent,f=new Blob([e],{type:"image/svg+xml"}),g=URL.createObjectURL(f),this._objectURLs.add(g),a.abrupt("return",new Promise(function(a,b){var c=new Image;c.addEventListener("load",function(){return a(c)}),c.addEventListener("error",function(){return b(Error("Error loading image source."))}),c.addEventListener("abort",function(){return b(Error("Image loading was canceled."))}),c.src=g}));case 7:case"end":return a.stop()}},a,this)}));return a}()},{key:"destroy",value:function(){var a=!0,b=!1,c=void 0;try{for(var d,e=this._objectURLs[Symbol.iterator]();!(a=(d=e.next()).done);a=!0){var f=d.value;URL.revokeObjectURL(f)}}catch(a){b=!0,c=a}finally{try{!a&&e.return&&e.return()}finally{if(b)throw c}}this._objectURLs.clear(),this._objectURLs=null}},{key:"objectURLs",get:function(){return this._objectURLs}},{key:"storageType",get:function(){return"svg"}}]),b}(l.default);b.default=m},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}return Array.from(a)}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0});var g=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),h=c(21),i=d(h),j=c(11),k=d(j),l=function(){function a(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.default.Empty,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;f(this,a),this._bounds=b.clone(),this._level=c,this._nodes=new Map,this._children=new Set}return g(a,[{key:"clear",value:function(){var a=!0,b=!1,c=void 0;try{for(var d,e=this._nodes.values()[Symbol.iterator]();!(a=(d=e.next()).done);a=!0){d.value.clear()}}catch(a){b=!0,c=a}finally{try{!a&&e.return&&e.return()}finally{if(b)throw c}}return this._nodes.clear(),this._children.clear(),this}},{key:"insert",value:function(a){var b=this._children,c=this._getNode(a);if(c)return c.insert(a),this;if(b.add(a),b.size>k.default.QUAD_TREE_MAX_OBJECTS&&this._level<k.default.QUAD_TREE_MAX_LEVEL){this._split();var d=!0,e=!1,f=void 0;try{for(var g,h=b[Symbol.iterator]();!(d=(g=h.next()).done);d=!0){var i=g.value,j=this._getNode(i);j&&(b.delete(i),j.insert(i))}}catch(a){e=!0,f=a}finally{try{!d&&h.return&&h.return()}finally{if(e)throw f}}}return this}},{key:"getRelatedChildren",value:function(a){var b=this._getNode(a);return b?[].concat(e(b.getRelatedChildren(a)),e(this._children)):[].concat(e(this._children))}},{key:"destroy",value:function(){this._bounds.destroy(),this._bounds=null,this._nodes.clear(),this._nodes=null,this._children.clear(),this._children=null,this._level=null}},{key:"_split",value:function(){if(this._nodes.size){var b=i.default.Temp,c=this._level+1,d=this._bounds,e=d.width/2|0,f=d.height/2|0,g=d.left,h=d.top,j=g+e,k=h+f;this._nodes.set(0,new a(b.set(g,h,e,f),c)).set(1,new a(b.set(j,h,e,f),c)).set(2,new a(b.set(g,k,e,f),c)).set(3,new a(b.set(j,k,e,f),c))}}},{key:"_getNode",value:function(a){var b=a.getBounds(),c=!0,d=!1,e=void 0;try{for(var f,g=this._nodes.values()[Symbol.iterator]();!(c=(f=g.next()).done);c=!0){var h=f.value;if(b.containsRect(h.getBounds()))return h}}catch(a){d=!0,e=a}finally{try{!c&&g.return&&g.return()}finally{if(d)throw e}}return null}},{key:"bounds",get:function(){return this._bounds}},{key:"level",get:function(){return this._level}},{key:"nodes",get:function(){return this._nodes}},{key:"children",get:function(){return this._children}}]),a}();b.default=l},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){return function(){var b=a.apply(this,arguments);return new Promise(function(a,c){function d(e,f){try{var g=b[e](f),h=g.value}catch(a){return void c(a)}if(!g.done)return Promise.resolve(h).then(function(a){d("next",a)},function(a){d("throw",a)});a(h)}return d("next")})}}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function g(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function h(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var i=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),j=function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;if(void 0!==g)return g.call(d)},k=c(25),l=d(k),m=function(a){function b(a){f(this,b);var c=g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this));return c._app=null,a&&Object.assign(c,a),c}return h(b,a),i(b,[{key:"load",value:function(){function a(a){return b.apply(this,arguments)}var b=e(regeneratorRuntime.mark(function a(b){return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:case"end":return a.stop()}},a,this)}));return a}()},{key:"init",value:function(a){}},{key:"update",value:function(a){}},{key:"draw",value:function(a){}},{key:"unload",value:function(){}},{key:"destroy",value:function(){j(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this),this._app=null}},{key:"app",get:function(){return this._app},set:function(a){this._app=a}}]),b}(l.default);b.default=m},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=c(34),j=c(118),k=d(j),l=function(a){function b(a){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.TIME.MILLISECONDS;e(this,b);var g=f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,!1));return g._limit=c,a&&g.restart(c,d),g}return g(b,a),h(b,[{key:"reset",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._limit,b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.TIME.MILLISECONDS;return this._limit=a*b,this._timeBuffer=0,this._running=!1,this}},{key:"restart",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._limit,b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.TIME.MILLISECONDS;return this.reset(a,b),this.start(),this}},{key:"running",get:function(){return this._running&&!this.expired}},{key:"expired",get:function(){return this.elapsedMilliseconds>=this._limit}},{key:"remainingMilliseconds",get:function(){return Math.max(0,this._limit-this.elapsedMilliseconds)}},{key:"remainingSeconds",get:function(){return this.remainingMilliseconds/i.TIME.SECONDS}},{key:"remainingMinutes",get:function(){return this.remainingMilliseconds/i.TIME.MINUTES}},{key:"remainingHours",get:function(){return this.remainingMilliseconds/i.TIME.HOURS}}]),b}(k.default);b.default=l},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,"__esModule",{value:!0});var e=c(12);Object.defineProperty(b,"Vector",{enumerable:!0,get:function(){return d(e).default}});var f=c(120);Object.defineProperty(b,"ObservableVector",{enumerable:!0,get:function(){return d(f).default}});var g=c(63);Object.defineProperty(b,"Matrix",{enumerable:!0,get:function(){return d(g).default}});var h=c(198);Object.defineProperty(b,"Transformable",{enumerable:!0,get:function(){return d(h).default}});var i=c(52);Object.defineProperty(b,"Interval",{enumerable:!0,get:function(){return d(i).default}});var j=c(21);Object.defineProperty(b,"Rectangle",{enumerable:!0,get:function(){return d(j).default}});var k=c(121);Object.defineProperty(b,"Circle",{enumerable:!0,get:function(){return d(k).default}});var l=c(83);Object.defineProperty(b,"Polygon",{enumerable:!0,get:function(){return d(l).default}});var m=c(57);Object.defineProperty(b,"Size",{enumerable:!0,get:function(){return d(m).default}});var n=c(167);Object.defineProperty(b,"Random",{enumerable:!0,get:function(){return d(n).default}});var o=c(173);Object.defineProperty(b,"ObservableSize",{enumerable:!0,get:function(){return d(o).default}});var p=c(64);Object.defineProperty(b,"Flags",{enumerable:!0,get:function(){return d(p).default}})},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,"__esModule",{value:!0});var e=c(128);Object.defineProperty(b,"Media",{enumerable:!0,get:function(){return d(e).default}});var f=c(194);Object.defineProperty(b,"Sound",{enumerable:!0,get:function(){return d(f).default}});var g=c(192);Object.defineProperty(b,"Music",{enumerable:!0,get:function(){return d(g).default}});var h=c(197);Object.defineProperty(b,"Video",{enumerable:!0,get:function(){return d(h).default}});var i=c(191);Object.defineProperty(b,"MediaSource",{enumerable:!0,get:function(){return d(i).default}});var j=c(419);Object.defineProperty(b,"AudioAnalyser",{enumerable:!0,get:function(){return d(j).default}})},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0});var f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=c(39),h=d(g),i=c(38),j=function(){function a(b){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},d=c.fftSize,f=void 0===d?2048:d,g=c.minDecibels,j=void 0===g?-100:g,k=c.maxDecibels,l=void 0===k?-30:k,m=c.smoothingTimeConstant,n=void 0===m?.8:m;if(e(this,a),!h.default.webAudio)throw new Error("Web Audio API should be enabled when using the audio analyzer.");this._analyser=i.audioContext.createAnalyser(),this._analyser.fftSize=f,this._analyser.minDecibels=j,this._analyser.maxDecibels=l,this._analyser.smoothingTimeConstant=n,this._analyserTarget=null,this._media=b,this._timeDomainData=null,this._frequencyData=null,this._preciseTimeDomainData=null,this._preciseFrequencyData=null}return f(a,[{key:"connect",value:function(){if(h.default.webAudio&&!this._analyserTarget){if(!this._media.analyserTarget)throw new Error("No AudioNode on property analyserTarget.");this._analyserTarget=this._media.analyserTarget,this._analyserTarget.connect(this._analyser)}return this}},{key:"destroy",value:function(){this._analyserTarget&&(this._analyserTarget.disconnect(),this._analyserTarget=null),this._analyser.disconnect(),this._analyser=null,this._media=null,this._timeDomainData=null,this._frequencyData=null,this._preciseTimeDomainData=null,this._preciseFrequencyData=null}},{key:"timeDomainData",get:function(){return this.connect(),this._timeDomainData||(this._timeDomainData=new Uint8Array(this._analyser.frequencyBinCount)),this._analyser.getByteTimeDomainData(this._timeDomainData),this._timeDomainData}},{key:"frequencyData",get:function(){return this.connect(),this._frequencyData||(this._frequencyData=new Uint8Array(this._analyser.frequencyBinCount)),this._analyser.getByteFrequencyData(this._frequencyData),this._frequencyData}},{key:"preciseTimeDomainData",get:function(){return this.connect(),this._preciseTimeDomainData||(this._preciseTimeDomainData=new Float32Array(this._analyser.frequencyBinCount)),this._analyser.getFloatTimeDomainData(this._preciseTimeDomainData),this._preciseTimeDomainData}},{key:"preciseFrequencyData",get:function(){return this.connect(),this._preciseFrequencyData||(this._preciseFrequencyData=new Float32Array(this._analyser.frequencyBinCount)),this._analyser.getFloatFrequencyData(this._preciseFrequencyData),this._preciseFrequencyData}}]),a}();b.default=j},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,"__esModule",{value:!0});var e=c(421);Object.defineProperty(b,"Input",{enumerable:!0,get:function(){return d(e).default}});var f=c(183);Object.defineProperty(b,"InputManager",{enumerable:!0,get:function(){return d(f).default}});var g=c(184);Object.defineProperty(b,"Pointer",{enumerable:!0,get:function(){return d(g).default}});var h=c(185);Object.defineProperty(b,"Gamepad",{enumerable:!0,get:function(){return d(h).default}});var i=c(171);Object.defineProperty(b,"GamepadControl",{enumerable:!0,get:function(){return d(i).default}});var j=c(170);Object.defineProperty(b,"GamepadMapping",{enumerable:!0,get:function(){return d(j).default}})},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;if(void 0!==g)return g.call(d)},j=c(11),k=d(j),l=c(25),m=d(l),n=function(a){function b(a){
var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},d=c.start,g=c.stop,h=c.active,i=c.trigger,j=c.context,l=c.threshold,m=void 0===l?k.default.INPUT_THRESHOLD:l;e(this,b);var n=f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this));return n._channels=new Set("number"==typeof a?[a]:a),n._threshold=m,n._triggered=0,n._value=0,d&&n.on("start",d,j),g&&n.on("stop",g,j),h&&n.on("active",h,j),i&&n.on("trigger",i,j),n}return g(b,a),h(b,[{key:"update",value:function(a){this._value=0;var b=!0,c=!1,d=void 0;try{for(var e,f=this._channels[Symbol.iterator]();!(b=(e=f.next()).done);b=!0){var g=e.value;this._value=Math.max(a[g],this._value)}}catch(a){c=!0,d=a}finally{try{!b&&f.return&&f.return()}finally{if(c)throw d}}return this._value?(this._triggered||(this._triggered=Date.now(),this.trigger("start",this._value)),this.trigger("active",this._value)):this._triggered&&(this.trigger("stop",this._value),Date.now()-this._triggered<this._threshold&&this.trigger("trigger",this._value),this._triggered=0),this}},{key:"destroy",value:function(){i(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this),this._channels.clear(),this._channels=null,this._threshold=null,this._triggered=null,this._value=null}},{key:"channels",get:function(){return this._channels},set:function(a){this._channels.clear();var b=!0,c=!1,d=void 0;try{for(var e,f=a[Symbol.iterator]();!(b=(e=f.next()).done);b=!0){var g=e.value;this._channels.add(g)}}catch(a){c=!0,d=a}finally{try{!b&&f.return&&f.return()}finally{if(c)throw d}}}},{key:"threshold",get:function(){return this._threshold},set:function(a){this._threshold=a}},{key:"value",get:function(){return this._value}}]),b}(m.default);b.default=n},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,"__esModule",{value:!0});var e=c(169);Object.defineProperty(b,"RenderManager",{enumerable:!0,get:function(){return d(e).default}});var f=c(119);Object.defineProperty(b,"RenderTarget",{enumerable:!0,get:function(){return d(f).default}});var g=c(423);Object.defineProperty(b,"RenderTexture",{enumerable:!0,get:function(){return d(g).default}});var h=c(125);Object.defineProperty(b,"VertexArray",{enumerable:!0,get:function(){return d(h).default}});var i=c(58);Object.defineProperty(b,"Texture",{enumerable:!0,get:function(){return d(i).default}});var j=c(172);Object.defineProperty(b,"View",{enumerable:!0,get:function(){return d(j).default}});var k=c(123);Object.defineProperty(b,"Renderer",{enumerable:!0,get:function(){return d(k).default}});var l=c(131);Object.defineProperty(b,"Drawable",{enumerable:!0,get:function(){return d(l).default}});var m=c(424);Object.defineProperty(b,"Drawing",{enumerable:!0,get:function(){return d(m).default}});var n=c(130);Object.defineProperty(b,"Container",{enumerable:!0,get:function(){return d(n).default}});var o=c(425);Object.defineProperty(b,"Text",{enumerable:!0,get:function(){return d(o).default}});var p=c(199);Object.defineProperty(b,"TextStyle",{enumerable:!0,get:function(){return d(p).default}});var q=c(124);Object.defineProperty(b,"Shader",{enumerable:!0,get:function(){return d(q).default}});var r=c(176);Object.defineProperty(b,"ShaderAttribute",{enumerable:!0,get:function(){return d(r).default}});var s=c(177);Object.defineProperty(b,"ShaderUniform",{enumerable:!0,get:function(){return d(s).default}});var t=c(178);Object.defineProperty(b,"ShaderBlock",{enumerable:!0,get:function(){return d(t).default}});var u=c(85);Object.defineProperty(b,"Sprite",{enumerable:!0,get:function(){return d(u).default}});var v=c(426);Object.defineProperty(b,"Spritesheet",{enumerable:!0,get:function(){return d(v).default}});var w=c(174);Object.defineProperty(b,"SpriteRenderer",{enumerable:!0,get:function(){return d(w).default}});var x=c(175);Object.defineProperty(b,"SpriteShader",{enumerable:!0,get:function(){return d(x).default}})},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;if(void 0!==g)return g.call(d)},j=c(35),k=c(11),l=d(k),m=c(13),n=c(119),o=d(n),p=c(64),q=d(p),r=function(a){function b(a,c){var d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},g=d.scaleMode,h=void 0===g?l.default.SCALE_MODE:g,i=d.wrapMode,k=void 0===i?l.default.WRAP_MODE:i,m=d.premultiplyAlpha,n=void 0===m?l.default.PREMULTIPLY_ALPHA:m,o=d.generateMipMap,p=void 0===o?l.default.GENERATE_MIPMAP:o;e(this,b);var r=f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c,!1));return r._source=null,r._texture=null,r._scaleMode=null,r._wrapMode=null,r._premultiplyAlpha=null,r._generateMipMap=null,r._flipY=!0,r._flags=new q.default(j.TEXTURE_FLAGS.SOURCE,j.TEXTURE_FLAGS.SIZE),r.setScaleMode(h),r.setWrapMode(k),r.premultiplyAlpha=n,r.generateMipMap=p,r}return g(b,a),h(b,[{key:"connect",value:function(a){return this._context||(this._context=a,this._texture=a.createTexture(),this._framebuffer=a.createFramebuffer(),this.bindTexture(),this.bindFramebuffer(),a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,this._texture,0),this.unbindTexture(),this.unbindFramebuffer()),this}},{key:"disconnect",value:function(){return this.unbindFramebuffer(),this.unbindTexture(),this._context&&(this._context.deleteFramebuffer(this._framebuffer),this._context.deleteTexture(this._texture),this._context=null,this._texture=null,this._framebuffer=null),this}},{key:"bindTexture",value:function(a){if(!this._context)throw new Error("Texture has to be connected first!");var b=this._context;return void 0!==a&&b.activeTexture(b.TEXTURE0+a),b.bindTexture(b.TEXTURE_2D,this._texture),this.update(),this}},{key:"unbindTexture",value:function(){if(this._context){var a=this._context;a.bindTexture(a.TEXTURE_2D,null)}return this}},{key:"setScaleMode",value:function(a){return this._scaleMode!==a&&(this._scaleMode=a,this._flags.add(j.TEXTURE_FLAGS.SCALE_MODE)),this}},{key:"setWrapMode",value:function(a){return this._wrapMode!==a&&(this._wrapMode=a,this._flags.add(j.TEXTURE_FLAGS.WRAP_MODE)),this}},{key:"setPremultiplyAlpha",value:function(a){return this._premultiplyAlpha!==a&&(this._premultiplyAlpha=a,this._flags.add(j.TEXTURE_FLAGS.PREMULTIPLY_ALPHA)),this}},{key:"setSource",value:function(a){return this._source!==a&&(this._source=a,this.updateSource()),this}},{key:"updateSource",value:function(){return this}},{key:"setSize",value:function(a,b){return this._size.equals({width:a,height:b})||(this._size.set(a,b),this._defaultView.resize(a,b),this.updateViewport(),this._flags.add(j.TEXTURE_FLAGS.SIZE)),this}},{key:"update",value:function(){if(this._flags.value&&this._context){var a=this._context;this._flags.has(j.TEXTURE_FLAGS.SCALE_MODE)&&(a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,this._scaleMode),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,this._scaleMode),this._flags.remove(j.TEXTURE_FLAGS.SCALE_MODE)),this._flags.has(j.TEXTURE_FLAGS.WRAP_MODE)&&(a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,this._wrapMode),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,this._wrapMode),this._flags.remove(j.TEXTURE_FLAGS.WRAP_MODE)),this._flags.has(j.TEXTURE_FLAGS.PREMULTIPLY_ALPHA)&&(a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this._premultiplyAlpha),this._flags.remove(j.TEXTURE_FLAGS.PREMULTIPLY_ALPHA)),this._flags.has(j.TEXTURE_FLAGS.SOURCE)&&(this._flags.has(j.TEXTURE_FLAGS.SIZE)||!this._source?a.texImage2D(a.TEXTURE_2D,0,a.RGBA,this.width,this.height,0,a.RGBA,a.UNSIGNED_BYTE,this._source):a.texSubImage2D(a.TEXTURE_2D,0,0,0,this.width,this.height,a.RGBA,a.UNSIGNED_BYTE,this._source),this._generateMipMap&&a.generateMipmap(a.TEXTURE_2D),this._flags.remove(j.TEXTURE_FLAGS.SOURCE,j.TEXTURE_FLAGS.SIZE))}return this}},{key:"destroy",value:function(){i(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this),this._flags.destroy(),this._flags=null,this._source=null,this._texture=null,this._scaleMode=null,this._wrapMode=null,this._premultiplyAlpha=null,this._flipY=null}},{key:"source",get:function(){return this._source},set:function(a){this.setSource(a)}},{key:"scaleMode",get:function(){return this._scaleMode},set:function(a){this.setScaleMode(a)}},{key:"wrapMode",get:function(){return this._wrapMode},set:function(a){this.setWrapMode(a)}},{key:"premultiplyAlpha",get:function(){return this._premultiplyAlpha},set:function(a){this.setPremultiplyAlpha(a)}},{key:"generateMipMap",get:function(){return this._generateMipMap},set:function(a){this._generateMipMap=a}},{key:"flipY",get:function(){return this._flipY},set:function(a){this._flipY=a}},{key:"powerOfTwo",get:function(){return(0,m.isPowerOfTwo)(this.width)&&(0,m.isPowerOfTwo)(this.height)}}]),b}(o.default);b.default=r},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;if(void 0!==g)return g.call(d)},j=c(130),k=d(j),l=c(40),m=d(l),n=function(a){function b(){e(this,b);var a=f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this));return a._lineWidth=0,a._lineColor=m.default.Black.clone(),a._fillColor=m.default.Black.clone(),a}return g(b,a),h(b,[{key:"closePath",value:function(){return this}},{key:"moveTo",value:function(a,b){return this}},{key:"lineTo",value:function(a,b){return this}},{key:"bezierCurveTo",value:function(a,b,c,d,e,f){return this}},{key:"quadraticCurveTo",value:function(a,b,c,d){return this}},{key:"arc",value:function(a,b,c,d,e){arguments.length>5&&void 0!==arguments[5]&&arguments[5];return this}},{key:"arcTo",value:function(a,b,c,d,e){return this}},{key:"ellipse",value:function(a,b,c,d,e,f,g){arguments.length>7&&void 0!==arguments[7]&&arguments[7];return this}},{key:"rect",value:function(a,b,c,d){return this}},{key:"drawRect",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a.x,a.y,a.width,a.height;return this}},{key:"drawCirlce",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a.x,a.y,a.radius;return this}},{key:"drawPolygon",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a.x,a.y,a.points;return this}},{key:"setLineStyle",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},b=a.width,c=a.color;return void 0!==b&&(this.lineWidth=b),void 0!==c&&(this.lineColor=c),this}},{key:"render",value:function(a){if(this.visible&&a.insideViewport(this)){var b=a.getRenderer("primitive");a.setRenderer(b),b.render(this)}return this}},{key:"destroy",value:function(){i(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this),this._lineColor.destroy(),this._lineColor=null,this._fillColor.destroy(),this._fillColor=null,this._lineWidth=null}},{key:"lineWidth",get:function(){return this._lineWidth},set:function(a){this._lineWidth=a}},{key:"lineColor",get:function(){return this._lineColor},set:function(a){this._lineColor.copy(a)}},{key:"fillColor",get:function(){return this._fillColor},set:function(a){this._fillColor.copy(a)}}]),b}(k.default);b.default=n},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;if(void 0!==g)return g.call(d)},j=c(85),k=d(j),l=c(58),m=d(l),n=c(199),o=d(n),p=c(21),q=d(p),r=new Map,s=/(?:\r\n|\r|\n)/,t=function(a){function b(a,c,d){var g=arguments.length>3&&void 0!==arguments[3]?arguments[3]:document.createElement("canvas");e(this,b);var h=f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,new m.default(g,d)));return h._text=null,h._style=null,h._canvas=g,h._context=g.getContext("2d"),h._dirty=!0,h.setText(a).setStyle(c).updateTexture(),h}return g(b,a),h(b,[{key:"setText",value:function(a){return this._text!==a&&(this._text=a,this._dirty=!0),this}},{key:"setStyle",value:function(a){return this._style=a instanceof o.default?a:new o.default(a),this._dirty=!0,this}},{key:"setCanvas",value:function(a){return this._canvas!==a&&(this._canvas=a,this._context=a.getContext("2d"),this._dirty=!0,this.setTextureFrame(q.default.Temp.set(0,0,a.width,a.height))),this}},{key:"updateTexture",value:function(){if(this._style&&(this._dirty||this._style.dirty)){var a=this._canvas,c=this._context,d=this._style.apply(c),e=d.wordWrap?this.getWordWrappedText():this._text,f=b.determineFontHeight(c.font)+d.strokeThickness,g=e.split(s),h=g.map(function(a){return c.measureText(a)}),i=h.reduce(function(a,b){return Math.max(a,b.width)},0),j=Math.ceil(i+d.strokeThickness+2*d.padding),k=Math.ceil(f*g.length+2*d.padding);j!==a.width||k!==a.height?(a.width=j,a.height=k,this.setTextureFrame(q.default.Temp.set(0,0,j,k))):c.clearRect(0,0,j,k),d.apply(c);for(var l=0;l<g.length;l++){var m=h[l],n=i-m.width,o="right"===d.align?n:n/2,p=d.padding+d.strokeThickness/2,r=m.actualBoundingBoxLeft+("left"===d.align?0:o)+p,t=m.fontBoundingBoxAscent+f*l+p;d.stroke&&d.strokeThickness&&c.strokeText(g[l],r,t),d.fill&&c.fillText(g[l],r,t)}this.texture.updateSource(),this._dirty=!1,this._style.dirty=!1}return this}},{key:"getWordWrappedText",value:function(){for(var a=this._context,b=this._style.wordWrapWidth,c=this._text.split("\n"),d=a.measureText(" ").width,e=b,f="",g=0;g<c.length;g++){var h=c[g].split(" ");g>0&&(f+="\n");for(var i=0;i<h.length;i++){var j=h[i],k=a.measureText(j).width,l=k+d;l>e?(i>0&&(f+="\n"),e=b):e-=l,f+=j+" "}}return f}},{key:"render",value:function(a){return this.visible&&(this.updateTexture(),i(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"render",this).call(this,a)),this}},{key:"destroy",value:function(){i(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this),this._text=null,this._style=null,this._canvas=null,this._context=null,this._dirty=null}},{key:"text",get:function(){return this._text},set:function(a){this.setText(a)}},{key:"style",get:function(){return this._style},set:function(a){this.setStyle(a)}},{key:"canvas",get:function(){return this._canvas},set:function(a){this.setCanvas(a)}}],[{key:"determineFontHeight",value:function(a){if(!r.has(a)){var b=document.body,c=document.createElement("div");c.appendChild(document.createTextNode("M")),c.setAttribute("style","font: "+a+";position:absolute;top:0;left:0"),b.appendChild(c),r.set(a,c.offsetHeight),b.removeChild(c)}return r.get(a)}}]),b}(k.default);b.default=t},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0});var f=function(){function a(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done)&&(c.push(g.value),!b||c.length!==b);d=!0);}catch(a){e=!0,f=a}finally{try{!d&&h.return&&h.return()}finally{if(e)throw f}}return c}return function(b,c){if(Array.isArray(b))return b;if(Symbol.iterator in Object(b))return a(b,c);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),g=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),h=c(58),i=(d(h),c(21)),j=d(i),k=c(85),l=d(k),m=function(){function a(b,c){e(this,a),this._texture=b,this._frames={},this._sprites={},this.parse(c)}return g(a,[{key:"parse",value:function(a){arguments.length>1&&void 0!==arguments[1]&&arguments[1]||this.clear();var b=!0,c=!1,d=void 0;try{for(var e,g=Object.entries(a.frames)[Symbol.iterator]();!(b=(e=g.next()).done);b=!0){var h=e.value,i=f(h,2),j=i[0],k=i[1];this.addFrame(j,k)}}catch(a){c=!0,d=a}finally{try{!b&&g.return&&g.return()}finally{if(c)throw d}}return this}},{key:"addFrame",value:function(a,b){var c=b.frame,d=c.x,e=c.y,f=c.w,g=c.h,h=new j.default(d,e,f,g),i=new l.default(this._texture);i.setTextureFrame(h),this._frames[a]=h,this._sprites[a]=i}},{key:"clear",value:function(){var a=!0,b=!1,c=void 0;try{for(var d,e=Object.keys(this._frames)[Symbol.iterator]();!(a=(d=e.next()).done);a=!0){var f=d.value;this._frames[f].destroy(),delete this._frames[f]}}catch(a){b=!0,c=a}finally{try{!a&&e.return&&e.return()}finally{if(b)throw c}}var g=!0,h=!1,i=void 0;try{for(var j,k=Object.keys(this._sprites)[Symbol.iterator]();!(g=(j=k.next()).done);g=!0){var l=j.value;this._sprites[l].destroy(),delete this._sprites[l]}}catch(a){h=!0,i=a}finally{try{!g&&k.return&&k.return()}finally{if(h)throw i}}return this}},{key:"destroy",value:function(){this.clear(),this._frames=null,this._sprites=null,this._texture=null}},{key:"texture",get:function(){return this._texture}},{key:"frames",get:function(){return this._frames}},{key:"sprites",get:function(){return this._sprites}}]),a}();b.default=m},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,"__esModule",{value:!0});var e=c(200);Object.defineProperty(b,"Database",{enumerable:!0,get:function(){return d(e).default}});var f=c(428);Object.defineProperty(b,"IDBDatabase",{enumerable:!0,get:function(){return d(f).default}});var g=c(186);Object.defineProperty(b,"Loader",{enumerable:!0,get:function(){return d(g).default}});var h=c(187);Object.defineProperty(b,"ResourceContainer",{enumerable:!0,get:function(){return d(h).default}});var i=c(84);Object.defineProperty(b,"ResourceFactory",{enumerable:!0,get:function(){return d(i).default}});var j=c(126);Object.defineProperty(b,"BlobFactory",{enumerable:!0,get:function(){return d(j).default}});var k=c(188);Object.defineProperty(b,"FontFactory",{enumerable:!0,get:function(){return d(k).default}});var l=c(65);Object.defineProperty(b,"ArrayBufferFactory",{enumerable:!0,get:function(){return d(l).default}});var m=c(66);Object.defineProperty(b,"MediaSourceFactory",{enumerable:!0,get:function(){return d(m).default}});var n=c(190);Object.defineProperty(b,"MusicFactory",{enumerable:!0,get:function(){return d(n).default}});var o=c(193);Object.defineProperty(b,"SoundFactory",{enumerable:!0,get:function(){return d(o).default}});var p=c(196);Object.defineProperty(b,"VideoFactory",{enumerable:!0,get:function(){return d(p).default}});var q=c(127);Object.defineProperty(b,"ImageFactory",{enumerable:!0,get:function(){return d(q).default}});var r=c(195);Object.defineProperty(b,"TextureFactory",{enumerable:!0,get:function(){return d(r).default}});var s=c(189);Object.defineProperty(b,"JSONFactory",{enumerable:!0,get:function(){return d(s).default}});var t=c(129);Object.defineProperty(b,"TextFactory",{enumerable:!0,get:function(){return d(t).default}})},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}return Array.from(a)}function f(a){return function(){var b=a.apply(this,arguments);return new Promise(function(a,c){function d(e,f){try{var g=b[e](f),h=g.value}catch(a){return void c(a)}if(!g.done)return Promise.resolve(h).then(function(a){d("next",a)},function(a){d("throw",a)});a(h)}return d("next")})}}function g(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function h(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function i(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var j=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),k=function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;if(void 0!==g)return g.call(d)},l=c(34),m=c(39),n=d(m),o=c(200),p=d(o),q=function(a){function b(a,c){if(g(this,b),!n.default.indexedDB)throw new Error("This browser does not support indexedDB!");var d=h(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));return d._database=null,d._onCloseHandler=d.disconnect.bind(d),d}return i(b,a),j(b,[{key:"getObjectStore",value:function(){function a(a){return b.apply(this,arguments)}var b=f(regeneratorRuntime.mark(function a(b){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"readonly";return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(l.DATABASE_TYPES.includes(b)){a.next=2;break}throw new Error('The object store named "'+b+'" could not be found.');case 2:return a.next=4,this.connect();case 4:return a.abrupt("return",this._database.transaction([b],c).objectStore(b));case 5:case"end":return a.stop()}},a,this)}));return a}()},{key:"connect",value:function(){function a(){return b.apply(this,arguments)}var b=f(regeneratorRuntime.mark(function a(){var b=this;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",new Promise(function(a,c){var d=indexedDB.open(b.name,b.version);d.addEventListener("upgradeneeded",function(a){var b=a.target.result,d=a.target.transaction,f=[].concat(e(d.objectStoreNames));b.addEventListener("error",function(a){return c(Error("An error occurred while opening the database."))}),b.addEventListener("abort",function(a){return c(Error("The database opening was aborted."))});var g=!0,h=!1,i=void 0;try{for(var j,k=f[Symbol.iterator]();!(g=(j=k.next()).done);g=!0){var m=j.value;l.DATABASE_TYPES.includes(m)||b.deleteObjectStore(m)}}catch(a){h=!0,i=a}finally{try{!g&&k.return&&k.return()}finally{if(h)throw i}}var n=!0,o=!1,p=void 0;try{for(var q,r=l.DATABASE_TYPES[Symbol.iterator]();!(n=(q=r.next()).done);n=!0){var s=q.value;f.includes(s)||b.createObjectStore(s,{keyPath:"name"})}}catch(a){o=!0,p=a}finally{try{!n&&r.return&&r.return()}finally{if(o)throw p}}}),d.addEventListener("success",function(c){b._database=c.target.result,b._database.addEventListener("close",b._onCloseHandler),b._database.addEventListener("versionchange",b._onCloseHandler),b.connected=!0,a()}),d.addEventListener("error",function(a){return c(Error("An error occurred while requesting the database connection."))}),d.addEventListener("blocked",function(a){return c(Error("The request for the database connection has been blocked."))})}));case 1:case"end":return a.stop()}},a,this)}));return a}()},{key:"disconnect",value:function(){function a(){return b.apply(this,arguments)}var b=f(regeneratorRuntime.mark(function a(){return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return this._database&&(this._database.removeEventListener("close",this._onCloseHandler),this._database.removeEventListener("versionchange",this._onCloseHandler),this._database.close(),this._database=null,this.connected=!1),a.abrupt("return",this);case 2:case"end":return a.stop()}},a,this)}));return a}()},{key:"load",value:function(){function a(a,c){return b.apply(this,arguments)}var b=f(regeneratorRuntime.mark(function a(b,c){var d;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,this.getObjectStore(b);case 2:return d=a.sent,a.abrupt("return",new Promise(function(a,b){var e=d.get(c);e.addEventListener("success",function(b){var c=b.target.result;a(c&&c.data||null)}),e.addEventListener("error",function(a){return b(Error("An error occurred while loading an item."))})}));case 4:case"end":return a.stop()}},a,this)}));return a}()},{key:"save",value:function(){function a(a,c,d){return b.apply(this,arguments)}var b=f(regeneratorRuntime.mark(function a(b,c,d){var e;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,this.getObjectStore(b,"readwrite");case 2:return e=a.sent,a.abrupt("return",new Promise(function(a,b){var f=e.put({name:c,data:d});f.addEventListener("success",function(b){return a(b)}),f.addEventListener("error",function(a){return b(Error("An error occurred while saving an item."))})}));case 4:case"end":return a.stop()}},a,this)}));return a}()},{key:"delete",value:function(){function a(a,c){return b.apply(this,arguments)}var b=f(regeneratorRuntime.mark(function a(b,c){var d;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,this.getObjectStore(b,"readwrite");case 2:return d=a.sent,a.abrupt("return",new Promise(function(a,b){var e=d.delete(c);e.addEventListener("success",function(b){return a(b)}),e.addEventListener("error",function(a){return b(Error("An error occurred while deleting an item."))})}));case 4:case"end":return a.stop()}},a,this)}));return a}()},{key:"clearStorage",value:function(){function a(a){return b.apply(this,arguments)}var b=f(regeneratorRuntime.mark(function a(b){var c;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,this.getObjectStore(b,"readwrite");case 2:return c=a.sent,a.abrupt("return",new Promise(function(a,b){var d=c.clear();d.addEventListener("success",function(b){return a(b)}),d.addEventListener("error",function(a){return b(Error("An error occurred while clearing a storage."))})}));case 4:case"end":return a.stop()}},a,this)}));return a}()},{key:"deleteStorage",value:function(){function a(){return b.apply(this,arguments)}var b=f(regeneratorRuntime.mark(function a(){var b=this;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,this.disconnect();case 2:return a.abrupt("return",new Promise(function(a,c){var d=indexedDB.deleteDatabase(b._name);d.addEventListener("success",function(b){return a(b)}),d.addEventListener("error",function(a){return c(Error("An error occurred while deleting a storage."))})}));case 3:case"end":return a.stop()}},a,this)}));return a}()},{key:"destroy",value:function(){k(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this),this._onCloseHandler=null,this._database=null}}]),b}(p.default);b.default=q},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,"__esModule",{value:!0});var e=c(201);Object.defineProperty(b,"Particle",{enumerable:!0,get:function(){return d(e).default}});var f=c(430);Object.defineProperty(b,"ParticleEmitter",{enumerable:!0,get:function(){return d(f).default}});var g=c(182);Object.defineProperty(b,"ParticleShader",{enumerable:!0,get:function(){return d(g).default}});var h=c(181);Object.defineProperty(b,"ParticleRenderer",{enumerable:!0,get:function(){return d(h).default}});var i=c(67);Object.defineProperty(b,"ParticleModifier",{enumerable:!0,get:function(){return d(i).default}});var j=c(431);Object.defineProperty(b,"ForceModifier",{enumerable:!0,get:function(){return d(j).default}});var k=c(432);Object.defineProperty(b,"ScaleModifier",{enumerable:!0,get:function(){return d(k).default}});var l=c(433);Object.defineProperty(b,"TorqueModifier",{enumerable:!0,get:function(){return d(l).default}});var m=c(434);Object.defineProperty(b,"ColorModifier",{enumerable:!0,get:function(){return d(m).default}})},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;if(void 0!==g)return g.call(d)},j=c(34),k=c(131),l=d(k),m=c(201),n=d(m),o=c(21),p=d(o),q=c(82),r=d(q),s=c(12),t=d(s),u=c(40),v=d(u),w=function(a){function b(a){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},d=c.totalLifetime,g=c.elapsedLifetime,h=c.position,i=c.velocity,k=c.scale,l=c.rotation,m=c.rotationSpeed,n=c.tint;e(this,b);var o=f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this))
;return o._particleTotalLifetime=d&&d.clone()||new r.default(1,j.TIME.SECONDS),o._particleElapsedLifetime=g&&g.clone()||new r.default(0,j.TIME.SECONDS),o._particlePosition=h&&h.clone()||new t.default(0,0),o._particleVelocity=i&&i.clone()||new t.default(0,0),o._particleScale=k&&k.clone()||new t.default(1,1),o._particleRotation=l||0,o._particleRotationSpeed=m||0,o._particleTint=n&&n.clone()||new v.default(255,255,255),o._particles=[],o._graveyard=[],o._modifiers=[],o._texture=null,o._textureFrame=new p.default,o._texCoordData=new Uint32Array(4),o._updateTexCoords=!0,o._emissionRate=1,o._emissionDelta=0,a&&o.setTexture(a),o}return g(b,a),h(b,[{key:"setParticleOptions",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},b=a.totalLifetime,c=a.elapsedLifetime,d=a.position,e=a.velocity,f=a.scale,g=a.rotation,h=a.rotationSpeed,i=a.tint;return void 0!==b&&(this.particleTotalLifetime=b),void 0!==c&&(this.particleElapsedLifetime=c),void 0!==d&&(this.particlePosition=d),void 0!==e&&(this.particleVelocity=e),void 0!==f&&(this.particleScale=f),void 0!==g&&(this.particleRotation=g),void 0!==h&&(this.particleRotationSpeed=h),void 0!==i&&(this.particleTint=i),this}},{key:"setTexture",value:function(a){return this._texture!==a&&(this._texture=a,this.resetTextureFrame()),this}},{key:"setTextureFrame",value:function(a){return this._textureFrame.copy(a),this._updateTexCoords=!0,this.localBounds.set(0,0,a.width,a.height),this}},{key:"resetTextureFrame",value:function(){return this.setTextureFrame(p.default.Temp.set(0,0,this._texture.width,this._texture.height))}},{key:"setEmissionRate",value:function(a){return this._emissionRate=a,this}},{key:"addModifier",value:function(a){return this._modifiers.push(a),this}},{key:"getParticleCount",value:function(a){var b=this._emissionRate*a.seconds+this._emissionDelta,c=0|b;return this._emissionDelta=b-c,c}},{key:"update",value:function(a){for(var b=this.getParticleCount(a),c=this.particleOptions,d=this._particles,e=this._graveyard,f=this._modifiers,g=0;g<b;g++){var h=e.pop()||new n.default;d.push(h.copy(c))}for(var i=d.length-1;i>=0;i--){var j=d[i].update(a);if(j.expired)e.push(d.splice(i,1)[0]);else{var k=!0,l=!1,m=void 0;try{for(var o,p=f[Symbol.iterator]();!(k=(o=p.next()).done);k=!0){o.value.apply(j,a)}}catch(a){l=!0,m=a}finally{try{!k&&p.return&&p.return()}finally{if(l)throw m}}}}return this}},{key:"render",value:function(a){if(this.visible&&a.insideViewport(this)){var b=a.getRenderer("particle");a.setRenderer(b),b.render(this)}return this}},{key:"copy",value:function(a){return this.particleOptions=a.particleOptions,this.particles=a.particles,this.texture=a.texture,this.textureFrame=a.textureFrame,this.emissionRate=a.emissionRate,this.modifiers=a.modifiers,this}},{key:"clone",value:function(){var a=new b(this.texture,this.particleOptions);return a.particles=this.particles,a.textureFrame=this.textureFrame,a.emissionRate=this.emissionRate,a.modifiers=this.modifiers,a}},{key:"destroy",value:function(){i(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this);var a=!0,c=!1,d=void 0;try{for(var e,f=this._particles[Symbol.iterator]();!(a=(e=f.next()).done);a=!0){e.value.destroy()}}catch(a){c=!0,d=a}finally{try{!a&&f.return&&f.return()}finally{if(c)throw d}}var g=!0,h=!1,j=void 0;try{for(var k,l=this._graveyard[Symbol.iterator]();!(g=(k=l.next()).done);g=!0){k.value.destroy()}}catch(a){h=!0,j=a}finally{try{!g&&l.return&&l.return()}finally{if(h)throw j}}this._particleTotalLifetime.destroy(),this._particleTotalLifetime=null,this._particleElapsedLifetime.destroy(),this._particleElapsedLifetime=null,this._particlePosition.destroy(),this._particlePosition=null,this._particleVelocity.destroy(),this._particleVelocity=null,this._particleScale.destroy(),this._particleScale=null,this._particleTint.destroy(),this._particleTint=null,this._particles.length=0,this._particles=null,this._graveyard.length=0,this._graveyard=null,this._modifiers.length=0,this._modifiers=null,this._textureFrame.destroy(),this._textureFrame=null,this._texture=null,this._texCoordData=null,this._blendMode=null,this._emissionRate=null,this._emissionDelta=null,this._updateTexCoords=null,this._particleRotation=null,this._particleRotationSpeed=null}},{key:"particleTotalLifetime",get:function(){return this._particleTotalLifetime},set:function(a){this._particleTotalLifetime.copy(a)}},{key:"particleElapsedLifetime",get:function(){return this._particleElapsedLifetime},set:function(a){this._particleElapsedLifetime.copy(a)}},{key:"particlePosition",get:function(){return this._particlePosition},set:function(a){this._particlePosition.copy(a)}},{key:"particleVelocity",get:function(){return this._particleVelocity},set:function(a){this._particleVelocity.copy(a)}},{key:"particleScale",get:function(){return this._particleScale},set:function(a){this._particleScale.copy(a)}},{key:"particleRotation",get:function(){return this._particleRotation},set:function(a){var b=a%360;this._particleRotation=b<0?b+360:b}},{key:"particleRotationSpeed",get:function(){return this._particleRotationSpeed},set:function(a){this._particleRotationSpeed=a}},{key:"particleTint",get:function(){return this._particleTint},set:function(a){this._particleTint.copy(a)}},{key:"particles",get:function(){return this._particles},set:function(a){for(var b=this._graveyard,c=this._particles,d=a,e=c.length,f=d.length,g=e-f,h=0;h<e;h++)c[h].copy(d[h]);if(g>0)for(var i=f;i<e;i++)b.push(c.pop());else if(g<0)for(var j=e;j<f;j++){var k=b.pop()||new n.default;a.push(k.copy(d[j]))}}},{key:"particleOptions",get:function(){return{totalLifetime:this.particleTotalLifetime,elapsedLifetime:this.particleElapsedLifetime,position:this.particlePosition,velocity:this.particleVelocity,scale:this.particleScale,rotation:this.particleRotation,rotationSpeed:this.particleRotationSpeed,tint:this.particleTint}},set:function(a){this.setParticleOptions(a)}},{key:"modifiers",get:function(){return this._modifiers},set:function(a){var b=!0,c=!1,d=void 0;try{for(var e,f=this._modifiers[Symbol.iterator]();!(b=(e=f.next()).done);b=!0){e.value.destroy()}}catch(a){c=!0,d=a}finally{try{!b&&f.return&&f.return()}finally{if(c)throw d}}this._modifiers.length=0;var g=!0,h=!1,i=void 0;try{for(var j,k=a[Symbol.iterator]();!(g=(j=k.next()).done);g=!0){var l=j.value;this._modifiers.push(l.clone())}}catch(a){h=!0,i=a}finally{try{!g&&k.return&&k.return()}finally{if(h)throw i}}}},{key:"texture",get:function(){return this._texture},set:function(a){this.setTexture(a)}},{key:"textureFrame",get:function(){return this._textureFrame},set:function(a){this.setTextureFrame(a)}},{key:"texCoordData",get:function(){if(this._updateTexCoords){var a=this._texture,b=a.width,c=a.height,d=this._textureFrame,e=d.left,f=d.top,g=d.right,h=d.bottom,i=e/b*65535&65535,j=(f/c*65535&65535)<<16,k=g/b*65535&65535,l=(h/c*65535&65535)<<16;this._texture.flipY?(this._texCoordData[0]=l|i,this._texCoordData[1]=l|k,this._texCoordData[2]=j|k,this._texCoordData[3]=j|i):(this._texCoordData[0]=j|i,this._texCoordData[1]=j|k,this._texCoordData[2]=l|k,this._texCoordData[3]=l|i),this._updateTexCoords=!1}return this._texCoordData}},{key:"emissionRate",get:function(){return this._emissionRate},set:function(a){this.setEmissionRate(a)}},{key:"width",get:function(){return Math.abs(this.scale.x)*this._textureFrame.width},set:function(a){this.scale.x=a/this._textureFrame.width}},{key:"height",get:function(){return Math.abs(this.scale.y)*this._textureFrame.height},set:function(a){this.scale.y=a/this._textureFrame.height}}]),b}(l.default);b.default=w},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=c(67),j=d(i),k=c(12),l=d(k),m=function(a){function b(a,c){e(this,b);var d=f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this));return d._velocity=new l.default(a,c),d}return g(b,a),h(b,[{key:"setVelocity",value:function(a){return this._velocity.copy(a),this}},{key:"apply",value:function(a,b){var c=this._velocity,d=c.x,e=c.y,f=b.seconds;return a.velocity.add(d*f,e*f),this}},{key:"clone",value:function(){return new b(this._velocity.x,this._velocity.y)}},{key:"destroy",value:function(){this._velocity.destroy(),this._velocity=null}},{key:"velocity",get:function(){return this._velocity},set:function(a){this.setVelocity(a)}}]),b}(j.default);b.default=m},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=c(67),j=d(i),k=c(12),l=d(k),m=function(a){function b(a,c){e(this,b);var d=f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this));return d._scaleFactor=new l.default(a,c),d}return g(b,a),h(b,[{key:"setScaleFactor",value:function(a){return this._scaleFactor.copy(a),this}},{key:"apply",value:function(a,b){var c=this._scaleFactor,d=c.x,e=c.y,f=b.seconds;a.scale.add(d*f,e*f)}},{key:"clone",value:function(){return new b(this._scaleFactor.x,this._scaleFactor.y)}},{key:"destroy",value:function(){this._scaleFactor.destroy(),this._scaleFactor=null}},{key:"scaleFactor",get:function(){return this._scaleFactor},set:function(a){this.setScaleFactor(a)}}]),b}(j.default);b.default=m},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=c(67),j=d(i),k=function(a){function b(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;e(this,b);var c=f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this));return c._angularAcceleration=a,c}return g(b,a),h(b,[{key:"setAngularAcceleration",value:function(a){return this._angularAcceleration=a,this}},{key:"apply",value:function(a,b){return a.rotationSpeed=a.rotationSpeed+this._angularAcceleration*b.seconds,this}},{key:"clone",value:function(){return new b(this._angularAcceleration)}},{key:"destroy",value:function(){this._angularAcceleration=null}},{key:"angularAcceleration",get:function(){return this._angularAcceleration},set:function(a){this.setAngularAcceleration(a)}}]),b}(j.default);b.default=k},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=c(67),j=d(i),k=c(12),l=(d(k),c(40)),m=d(l),n=function(a){function b(a,c){e(this,b);var d=f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this));return d._fromColor=a&&a.clone()||new m.default,d._toColor=c&&c.clone()||new m.default,d}return g(b,a),h(b,[{key:"setFromColor",value:function(a){return this._fromColor.copy(a),this}},{key:"setToColor",value:function(a){return this._toColor.copy(a),this}},{key:"apply",value:function(a,b){var c=a.elapsedRatio,d=this._fromColor,e=d.r,f=d.g,g=d.b,h=d.a,i=this._toColor,j=i.r,k=i.g,l=i.b,m=i.a;return a.tint.set((j-e)*c+e,(k-f)*c+f,(l-g)*c+g,(m-h)*c+h),this}},{key:"clone",value:function(){return new b(this._fromColor,this._toColor)}},{key:"destroy",value:function(){this._fromColor.destroy(),this._fromColor=null,this._toColor.destroy(),this._toColor=null}},{key:"fromColor",get:function(){return this._fromColor},set:function(a){this.setFromColor(a)}},{key:"toColor",get:function(){return this._toColor},set:function(a){this.setToColor(a)}}]),b}(j.default);b.default=n}]);
//# sourceMappingURL=exo.min.js.map