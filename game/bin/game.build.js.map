{"version":3,"sources":["webpack:///webpack/bootstrap 070113acf7534699fb44","webpack:///external \"Exo\"","webpack:///./game/src/js/menu/MenuItem.js","webpack:///./game/src/js/menu/Menu.js","webpack:///./game/src/js/scene/GameScene.js","webpack:///./game/src/js/index.js","webpack:///./game/src/js/scene/LauncherScene.js","webpack:///./game/src/js/scene/TitleScene.js","webpack:///./game/src/js/menu/title/TitleMenuManager.js","webpack:///./game/src/js/menu/MenuManager.js","webpack:///./game/src/js/menu/title/MainMenu.js","webpack:///./game/src/js/menu/MenuPath.js","webpack:///./game/src/js/menu/MenuAction.js","webpack:///./game/src/js/menu/title/NewGameMenu.js","webpack:///./game/src/js/map/WorldMap.js","webpack:///./game/src/js/map/MapGenerator.js","webpack:///./game/src/js/map/PerlinNoiseGenerator.js","webpack:///./game/src/js/entity/Player.js","webpack:///./game/src/js/map/Tileset.js","webpack:///./game/src/js/map/AutoTile.js","webpack:///./game/src/js/menu/title/LoadGameMenu.js","webpack:///./game/src/js/menu/title/SettingsMenu.js"],"names":["MenuItem","text","fill","fontSize","fontFamily","stroke","strokeThickness","_ticker","_scalingFactor","_scalingSpeed","setAnchor","setTint","Yellow","delta","time","scalingCenter","scale","Math","sin","PI","setScale","seconds","White","Menu","app","previousMenu","_app","_paths","_actions","_startChild","_activeChild","_previousMenu","_onOpenMenu","_onOpenPrevMenu","child","reset","activate","fromChild","toChild","fromToDirection","toFromDirection","push","action","input","setActiveChild","update","i","len","length","path","fromItem","toItem","item","updateInput","openPreviousMenu","menu","dispatch","pointer","children","contains","x","y","forEach","destroy","value","GameScene","resources","canvas","_worldMap","get","_player","spawnPoint","width","height","worldBounds","bounds","_camera","_paused","_backgroundMusic","play","loop","_addEvents","_addInputs","_updateCamera","renderManager","clear","draw","display","_removeEvents","_removeInputs","maxX","maxY","centerX","centerY","renderTarget","setView","setCenter","pause","_openMenu","_closeMenu","onMove","add","remove","_toggleMenuInput","Escape","Start","context","onTrigger","_resumeGame","_pauseGame","inputManager","$","resourcePath","document","querySelector","database","loader","cache","start","window","LauncherScene","_$launcher","removeClass","_$indicator","find","_$indicatorText","_indicatorProgress","_indicatorCanvas","_indicatorContext","getContext","onLoadResource","index","resource","_renderProgress","scaleMode","LINEAR","NEAREST","title","overworld","family","_openTitleHandler","_openTitle","bind","addClass","html","on","Enter","FaceBottom","off","percentage","radius","offsetAngle","drawImage","beginPath","moveTo","arc","clip","clearRect","sceneManager","setScene","TitleScene","_menuManager","enable","_background","_titleMusic","TitleMenuManager","addMenu","MenuManager","_menus","Map","_currentMenu","_enabled","_inputs","Up","DPadUp","LeftStickUp","onStart","onInputUp","Down","LeftStickDown","DPadDown","onInputDown","Left","LeftStickLeft","DPadLeft","onInputLeft","Right","LeftStickRight","DPadRight","onInputRight","onInputSelect","Backspace","FaceRight","onInputBack","startMenu","_onPointerMove","_onPointerTap","openMenu","disable","name","set","onOpenMenu","onOpenPrevMenu","currentMenu","render","getPointerChild","setCursor","enabled","MainMenu","parentMenu","offsetY","_gameLogo","setPosition","_newGameButton","bottom","_loadGameButton","_settingsButton","_versionText","_addItems","_addPaths","_addActions","setStartChild","rotation","addChild","addPath","addAction","MenuPath","_fromItem","_toItem","_input","emptyFunction","MenuAction","_item","_action","NewGameMenu","_newGameTitle","_createWorldButton","_createCharacterButton","_backButton","_onSelectCreateWorld","_onSelectCreateCharacter","WorldMap","tileset","_tileset","_tileSize","_tileCount","_tile","texture","_mapGenerator","_mapData","generate","_bounds","camera","view","viewport","getBounds","mapData","tile","tilesX","tilesY","tileWidth","tileHeight","tilesHorizontal","tilesVertical","startTileX","startTileY","startTileIndex","tilesTotal","setBlock","MapGenerator","_noiseGenerator","_frequency","_octaves","particleMap","Uint8Array","map","choices","getRandomInt","choice","j","currentValue","max","min","getRandomChoice","smoothen","lowX","highX","lowY","highY","average","times","random","PerlinNoiseGenerator","_noise","_width","_height","frequency","octaves","result","Float32Array","turbulence","size","initialSize","getSmoothNoise","noise","roundX","roundY","fractalX","fractalY","x1","y1","x2","y2","DIRECTION","UP","RIGHT","DOWN","LEFT","Player","_worldBounds","clone","_spawnPoint","_moving","_direction","_velocity","_frameSize","_frameIndex","_frameCount","_frameTimer","_frameChanged","_frame","_walkingSpeed","_runningSpeed","_speed","_onMove","_updateFrame","_updatePosition","position","left","right","top","direction","_setDirection","expired","restart","_setFrameIndex","frameIndex","mag","magnitude","distance","velX","velY","offsetX","move","_updateDirection","stop","_updateFrameIndex","setTextureFrame","_moveUpInput","W","onActive","_moveDownInput","S","_moveLeftInput","A","_moveRightInput","D","_toggleRunInput","Shift","FaceLeft","onStop","Tileset","tileSize","_texture","_tiles","water","sand","grass","forest","dirt","stone","_waterLevel","_sandLevel","_grassLevel","_forestLevel","_dirtLevel","level","block","tint","tileRect","AutoTile","_fullRect","_tileRect","copy","LoadGameMenu","_LoadGameTitle","_loadWorldButton","_onSelectLoadWorld","SettingsMenu","_settingsTitle","_masterVolumeButton","_musicVolumeButton","_soundsVolumeButton","_onOptionLeftHandler","_onOptionLeft","_onOptionRightHandler","_onOptionRight","_volumeStep"],"mappings":"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","file":"game.build.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 4);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 070113acf7534699fb44","module.exports = Exo;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"Exo\"\n// module id = 0\n// module chunks = 0","import { Text, Color } from 'exojs';\r\n\r\n/**\r\n * @class MenuItem\r\n * @extends Text\r\n */\r\nexport default class MenuItem extends Text {\r\n\r\n    /**\r\n     * @constructor\r\n     * @param {String} text\r\n     * @param {Object} [style]\r\n     */\r\n    constructor(text, {\r\n        fill = 'white',\r\n        fontSize = 45,\r\n        fontFamily = 'AndyBold',\r\n        stroke = 'black',\r\n        strokeThickness = 5,\r\n    } = {}) {\r\n        super(text, { fill, fontSize, fontFamily, stroke, strokeThickness });\r\n\r\n        /**\r\n         * @private\r\n         * @member {Number}\r\n         */\r\n        this._ticker = 0;\r\n\r\n        /**\r\n         * @private\r\n         * @member {Number}\r\n         */\r\n        this._scalingFactor = 1.2;\r\n\r\n        /**\r\n         * @private\r\n         * @member {Number}\r\n         */\r\n        this._scalingSpeed = 2;\r\n\r\n        this.setAnchor(0.5, 0.5);\r\n    }\r\n\r\n    /**\r\n     * @public\r\n     */\r\n    activate() {\r\n        this.setTint(Color.Yellow);\r\n        this._ticker = 0;\r\n    }\r\n\r\n    /**\r\n     * @public\r\n     * @param {Time} delta\r\n     */\r\n    update(delta) {\r\n        const time = this._ticker * this._scalingSpeed,\r\n            scalingCenter = (this._scalingFactor - 1) / 2,\r\n            scale = 1 + (Math.sin(time * Math.PI) * scalingCenter) + scalingCenter;\r\n\r\n        this.setScale(scale, scale);\r\n        this._ticker += delta.seconds;\r\n    }\r\n\r\n    /**\r\n     * @public\r\n     */\r\n    reset() {\r\n        this.setTint(Color.White);\r\n        this.setScale(1);\r\n        this._ticker = 0;\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./game/src/js/menu/MenuItem.js","import { Container, Signal } from 'exojs';\nimport MenuPath from './MenuPath';\nimport MenuAction from './MenuAction';\nimport MenuItem from './MenuItem';\n\n/**\n * @class Menu\n * @extends Container\n */\nexport default class Menu extends Container {\n\n    /**\n     * @constructor\n     * @param {Application} app\n     * @param {String} [previousMenu=null]\n     */\n    constructor(app, previousMenu = null) {\n        super();\n\n        /**\n         * @public\n         * @member {Application}\n         */\n        this._app = app;\n\n        /**\n         * @public\n         * @member {MenuPath[]}\n         */\n        this._paths = [];\n\n        /**\n         * @public\n         * @member {MenuAction[]}\n         */\n        this._actions = [];\n\n        /**\n         * @public\n         * @member {?MenuItem}\n         */\n        this._startChild = null;\n\n        /**\n         * @public\n         * @member {?MenuItem}\n         */\n        this._activeChild = null;\n\n        /**\n         * @public\n         * @member {?String}\n         */\n        this._previousMenu = previousMenu;\n\n        /**\n         * @private\n         * @member {Signal}\n         */\n        this._onOpenMenu = new Signal();\n\n        /**\n         * @private\n         * @member {Signal}\n         */\n        this._onOpenPrevMenu = new Signal();\n    }\n\n    /**\n     * @public\n     * @member {?String}\n     */\n    get previousMenu() {\n        return this._previousMenu;\n    }\n\n    set previousMenu(value) {\n        this._previousMenu = value || null;\n    }\n\n    /**\n     * @public\n     * @readonly\n     * @member {Signal}\n     */\n    get onOpenMenu() {\n        return this._onOpenMenu;\n    }\n\n    /**\n     * @public\n     * @readonly\n     * @member {Signal}\n     */\n    get onOpenPrevMenu() {\n        return this._onOpenPrevMenu;\n    }\n\n    /**\n     * @public\n     * @chainable\n     * @param {MenuItem} child\n     * @returns {Menu}\n     */\n    setStartChild(child) {\n        this._startChild = child;\n\n        return this;\n    }\n\n    /**\n     * @public\n     * @chainable\n     * @param {MenuItem} child\n     * @returns {Menu}\n     */\n    setActiveChild(child) {\n        if ((child !== this._activeChild)) {\n            if (this._activeChild) {\n                this._activeChild.reset();\n            }\n\n            this._activeChild = child || null;\n\n            if (this._activeChild) {\n                this._activeChild.activate();\n            }\n        }\n\n        return this;\n    }\n\n    /**\n     * @public\n     * @chainable\n     * @param {MenuItem} fromChild\n     * @param {MenuItem} toChild\n     * @param {String} fromToDirection\n     * @param {String} [toFromDirection]\n     * @returns {Menu}\n     */\n    addPath(fromChild, toChild, fromToDirection, toFromDirection) {\n        this._paths.push(new MenuPath(fromChild, toChild, fromToDirection));\n\n        if (toFromDirection) {\n            this._paths.push(new MenuPath(toChild, fromChild, toFromDirection));\n        }\n\n        return this;\n    }\n\n    /**\n     * @public\n     * @chainable\n     * @param {MenuItem} child\n     * @param {Function} action\n     * @param {String} [input=select]\n     * @returns {Menu}\n     */\n    addAction(child, action, input) {\n        this._actions.push(new MenuAction(child, action, input || 'select'));\n\n        return this;\n    }\n\n    /**\n     * @public\n     * @chainable\n     * @returns {Menu}\n     */\n    enable() {\n        return this.setActiveChild(this._startChild);\n    }\n\n    /**\n     * @public\n     * @chainable\n     * @returns {Menu}\n     */\n    disable() {\n        if (this._activeChild) {\n            this._activeChild.reset();\n            this._activeChild = null;\n        }\n\n        return this;\n    }\n\n    /**\n     * @public\n     * @chainable\n     * @param {Time} delta\n     * @returns {Menu}\n     */\n    update(delta) {\n        if (this._activeChild) {\n            this._activeChild.update(delta);\n        }\n\n        return this;\n    }\n\n    /**\n     * @public\n     * @chainable\n     * @param {String} input\n     * @returns {Menu}\n     */\n    updateInput(input) {\n        if (this._activeChild) {\n            for (let i = 0, len = this._paths.length; i < len; i++) {\n                const path = this._paths[i];\n\n                if (path.fromItem === this._activeChild && path.input === input) {\n                    this.setActiveChild(path.toItem);\n\n                    break;\n                }\n            }\n\n            for (let i = 0, len = this._actions.length; i < len; i++) {\n                const action = this._actions[i];\n\n                if (action.item === this._activeChild && action.input === input) {\n                    action.action(action);\n\n                    break;\n                }\n            }\n        }\n\n        return this;\n    }\n\n    /**\n     * @public\n     */\n    onInputUp() {\n        this.updateInput('up');\n    }\n\n    /**\n     * @public\n     */\n    onInputDown() {\n        this.updateInput('down');\n    }\n\n    /**\n     * @public\n     */\n    onInputLeft() {\n        this.updateInput('left');\n    }\n\n    /**\n     * @public\n     */\n    onInputRight() {\n        this.updateInput('right');\n    }\n\n    /**\n     * @public\n     */\n    onInputSelect() {\n        this.updateInput('select');\n    }\n\n    /**\n     * @public\n     */\n    onInputBack() {\n        this.openPreviousMenu();\n    }\n\n    /**\n     * @public\n     * @param {String} menu\n     */\n    openMenu(menu) {\n        this._onOpenMenu.dispatch(menu);\n    }\n\n    /**\n     * @public\n     */\n    openPreviousMenu() {\n        this._onOpenPrevMenu.dispatch(this._previousMenu);\n    }\n\n    /**\n     * @public\n     * @param {Pointer} pointer\n     * @returns {MenuItem}\n     */\n    getPointerChild(pointer) {\n        for (const child of this.children) {\n            if (!(child instanceof MenuItem)) {\n                continue;\n            }\n\n            if (child.contains(pointer.x, pointer.y)) {\n                return child;\n            }\n        }\n\n        return null;\n    }\n\n    /**\n     * @public\n     */\n    destroy() {\n        super.destroy();\n\n        this._paths.forEach((path) => {\n            path.destroy();\n        });\n\n        this._actions.forEach((action) => {\n            action.destroy();\n        });\n\n        this._paths.length = 0;\n        this._paths = null;\n\n        this._actions.length = 0;\n        this._actions = null;\n\n        this._onOpenMenu.destroy();\n        this._onOpenMenu = null;\n\n        this._onOpenPrevMenu.destroy();\n        this._onOpenPrevMenu = null;\n\n        this._previousMenu = null;\n        this._startChild = null;\n        this._activeChild = null;\n        this._app = null;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./game/src/js/menu/Menu.js","import { KEYBOARD, GAMEPAD, clamp, Scene, View, Vector, Rectangle, Input } from 'exojs';\r\nimport WorldMap from '../map/WorldMap';\r\nimport Player from '../entity/Player';\r\nimport Tileset from '../map/Tileset';\r\n\r\n/**\r\n * @class GameScene\r\n * @extends Scene\r\n */\r\nexport default class GameScene extends Scene {\r\n\r\n    /**\r\n     * @override\r\n     */\r\n    init(resources) {\r\n        const canvas = this.app.canvas;\r\n\r\n        /**\r\n         * @private\r\n         * @member {WorldMap}\r\n         */\r\n        this._worldMap = new WorldMap(new Tileset(resources.get('texture', 'game/tileset'), 32));\r\n\r\n        /**\r\n         * @private\r\n         * @member {Player}\r\n         */\r\n        this._player = new Player(this.app, {\r\n            spawnPoint: new Vector(this._worldMap.width / 2, this._worldMap.height / 2),\r\n            worldBounds: this._worldMap.bounds,\r\n        });\r\n\r\n        /**\r\n         * @private\r\n         * @member {View}\r\n         */\r\n        this._camera = new View(0, 0, canvas.width, canvas.height);\r\n\r\n        /**\r\n         * @private\r\n         * @member {Boolean}\r\n         */\r\n        this._paused = false;\r\n\r\n        /**\r\n         * @private\r\n         * @member {Music}\r\n         */\r\n        this._backgroundMusic = resources.get('music', 'overworld');\r\n        this._backgroundMusic.play({ loop: true });\r\n\r\n        this._addEvents();\r\n        this._addInputs();\r\n        this._updateCamera();\r\n    }\r\n\r\n    /**\r\n     * @override\r\n     */\r\n    update(delta) {\r\n        if (!this._paused) {\r\n            this._player.update(delta);\r\n            this._worldMap.update(delta);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @override\r\n     */\r\n    draw(renderManager) {\r\n        renderManager\r\n            .clear()\r\n            .draw(this._worldMap)\r\n            .draw(this._player)\r\n            .display();\r\n    }\r\n\r\n    /**\r\n     * @override\r\n     */\r\n    unload() {\r\n        this._removeEvents();\r\n        this._removeInputs();\r\n\r\n        this._worldMap.destroy();\r\n        this._worldMap = null;\r\n\r\n        this._player.destroy();\r\n        this._player = null;\r\n\r\n        this._camera.destroy();\r\n        this._camera = null;\r\n\r\n        this._backgroundMusic.destroy();\r\n        this._backgroundMusic = null;\r\n\r\n        this._paused = null;\r\n    }\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    _updateCamera() {\r\n        const renderManager = this.app.renderManager,\r\n            x = this._player.x,\r\n            y = this._player.y - (this._player.height / 2),\r\n            maxX = this._worldMap.width,\r\n            maxY = this._worldMap.height,\r\n            centerX = this._camera.width / 2,\r\n            centerY = this._camera.height / 2;\r\n\r\n        renderManager.renderTarget.setView(this._camera.setCenter(\r\n            clamp(x, centerX, maxX - centerX),\r\n            clamp(y, centerY, maxY - centerY)\r\n        ));\r\n    }\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    _pauseGame() {\r\n        if (!this._paused) {\r\n            this._paused = true;\r\n            this._backgroundMusic.pause();\r\n            this._openMenu();\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    _resumeGame() {\r\n        if (this._paused) {\r\n            this._paused = false;\r\n            this._backgroundMusic.play();\r\n            this._closeMenu();\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    _openMenu() {\r\n\r\n    }\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    _closeMenu() {\r\n\r\n    }\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    _addEvents() {\r\n        this._player.onMove.add(this._updateCamera, this);\r\n    }\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    _removeEvents() {\r\n        this._player.onMove.remove(this._updateCamera, this);\r\n    }\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    _addInputs() {\r\n\r\n        /**\r\n         * @private\r\n         * @member {Input}\r\n         */\r\n        this._toggleMenuInput = new Input([\r\n            KEYBOARD.Escape,\r\n            GAMEPAD.Start,\r\n        ], {\r\n            context: this,\r\n            onTrigger() {\r\n                if (this._paused) {\r\n                    this._resumeGame();\r\n                } else {\r\n                    this._pauseGame();\r\n                }\r\n            },\r\n        });\r\n\r\n        this.app.inputManager.add(this._toggleMenuInput);\r\n    }\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    _removeInputs() {\r\n        this.app.inputManager.remove(this._toggleMenuInput);\r\n\r\n        this._toggleMenuInput.destroy();\r\n        this._toggleMenuInput = null;\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./game/src/js/scene/GameScene.js","import { Application, IDBDatabase } from 'exojs';\nimport LauncherScene from './scene/LauncherScene';\n\n$(() => {\n    const app = new Application({\n        resourcePath: 'assets/',\n        width: 1280,\n        height: 720,\n        canvas: document.querySelector('#game-canvas'),\n        database: new IDBDatabase('game', 3),\n    });\n\n    app.loader.cache = 'no-cache';\n\n    app.start(new LauncherScene());\n\n    window.app = app;\n});\n\n\n\n// WEBPACK FOOTER //\n// ./game/src/js/index.js","import { KEYBOARD, GAMEPAD, SCALE_MODES, degreesToRadians, Scene, Input } from 'exojs';\nimport TitleScene from './TitleScene';\n\n/**\n * @class LauncherScene\n * @extends Scene\n */\nexport default class LauncherScene extends Scene {\n\n    /**\n     * @override\n     * @param {Loader} loader\n     */\n    load(loader) {\n\n        /**\n         * @private\n         * @member {jQuery}\n         */\n        this._$launcher = $('.launcher');\n        this._$launcher.removeClass('hidden');\n\n        /**\n         * @private\n         * @member {jQuery}\n         */\n        this._$indicator = this._$launcher.find('.loading-indicator');\n        this._$indicator.removeClass('finished');\n\n        /**\n         * @private\n         * @member {jQuery}\n         */\n        this._$indicatorText = this._$indicator.find('.indicator-text');\n\n        /**\n         * @private\n         * @member {HTMLImageElement}\n         */\n        this._indicatorProgress = this._$indicator.find('.indicator-progress')[0];\n\n        /**\n         * @private\n         * @member {HTMLCanvasElement}\n         */\n        this._indicatorCanvas = this._$indicator.find('.indicator-canvas')[0];\n\n        /**\n         * @private\n         * @member {CanvasRenderingContext2D}\n         */\n        this._indicatorContext = this._indicatorCanvas.getContext('2d');\n\n        loader.onLoadResource.add((length, index, resource) => this._renderProgress(index / length * 100));\n\n        loader.add('texture', {\n            'title/logo': 'image/title/logo.png',\n            'title/background': 'image/title/background.jpg',\n        }, {\n            scaleMode: SCALE_MODES.LINEAR,\n        });\n\n        loader.add('texture', {\n            'game/tileset': 'image/game/tileset.png',\n            'game/player': 'image/game/player.png',\n        }, {\n            scaleMode: SCALE_MODES.NEAREST,\n        });\n\n        loader.add('music', {\n            title: 'audio/title.ogg',\n            overworld: 'audio/overworld.ogg',\n        });\n\n        loader.add('font', {\n            menu: 'font/AndyBold/AndyBold.woff2',\n        }, {\n            family: 'AndyBold',\n        });\n\n        this._renderProgress(0);\n    }\n\n    /**\n     * @override\n     */\n    init(resources) {\n\n        /**\n         * @private\n         * @member {Function}\n         */\n        this._openTitleHandler = this._openTitle.bind(this);\n\n        this._$indicator.addClass('finished');\n        this._$indicatorText.html('PLAY');\n        this._$indicatorText.on('click', this._openTitleHandler);\n\n        this.app.inputManager.add(new Input([\n            KEYBOARD.Enter,\n            GAMEPAD.Start,\n            GAMEPAD.FaceBottom,\n        ], {\n            context: this,\n            onTrigger: this._openTitleHandler\n        }));\n    }\n\n    /**\n     * @override\n     */\n    unload() {\n        this.app.inputManager.clear(true);\n        this._$indicatorText.off('click', this._openTitleHandler);\n\n        this._openTitleHandler = null;\n    }\n\n    /**\n     * @override\n     */\n    destroy() {\n        this.app.loader.clear({ resources: false });\n\n        super.destroy();\n\n        this._$launcher.addClass('hidden');\n\n        this._$launcher = null;\n        this._$indicator = null;\n        this._$indicatorText = null;\n        this._indicatorProgress = null;\n        this._indicatorCanvas = null;\n        this._indicatorContext = null;\n    }\n\n    /**\n     * @private\n     * @param {Number} percentage\n     */\n    _renderProgress(percentage) {\n        const context = this._indicatorContext,\n            canvas = this._indicatorCanvas,\n            width = canvas.width,\n            height = canvas.height,\n            centerX = (width / 2) | 0,\n            centerY = (height / 2) | 0,\n            radius = ((centerX + centerY) / 2) | 0,\n            offsetAngle = 270;\n\n        this._$indicatorText.html(`${(percentage | 0)}%`);\n\n        context.drawImage(this._indicatorProgress, 0, 0, width, height);\n        context.beginPath();\n        context.moveTo(centerX, centerY);\n        context.arc(\n            centerX,\n            centerY,\n            radius,\n            degreesToRadians(offsetAngle),\n            degreesToRadians((percentage * 3.6) + offsetAngle),\n            true,\n        );\n        context.clip();\n        context.clearRect(0, 0, width, height);\n    }\n\n    /**\n     * @private\n     */\n    _openTitle() {\n        this.app.sceneManager.setScene(new TitleScene());\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./game/src/js/scene/LauncherScene.js","import { Scene, Sprite } from 'exojs';\r\nimport TitleMenuManager from '../menu/title/TitleMenuManager';\r\n\r\n/**\r\n * @class TitleScene\r\n * @extends Scene\r\n */\r\nexport default class TitleScene extends Scene {\r\n\r\n    /**\r\n     * @param {ResourceContainer} resources\r\n     */\r\n    init(resources) {\r\n\r\n        /**\r\n         * @private\r\n         * @member {TitleMenuManager}\r\n         */\r\n        this._menuManager = new TitleMenuManager(this.app);\r\n        this._menuManager.enable('main');\r\n\r\n        /**\r\n         * @private\r\n         * @member {Sprite}\r\n         */\r\n        this._background = new Sprite(resources.get('texture', 'title/background'));\r\n\r\n        /**\r\n         * @private\r\n         * @member {Music}\r\n         */\r\n        this._titleMusic = resources.get('music', 'title');\r\n        this._titleMusic.play({ loop: true });\r\n    }\r\n\r\n    /**\r\n     * @override\r\n     */\r\n    update(delta) {\r\n        this._menuManager.update(delta);\r\n    }\r\n\r\n    /**\r\n     * @override\r\n     */\r\n    draw(renderManager) {\r\n        renderManager\r\n            .clear()\r\n            .draw(this._background)\r\n            .draw(this._menuManager)\r\n            .display();\r\n    }\r\n\r\n    /**\r\n     * @override\r\n     */\r\n    unload() {\r\n        this._menuManager.destroy();\r\n        this._menuManager = null;\r\n\r\n        this._background.destroy();\r\n        this._background = null;\r\n\r\n        this._titleMusic.destroy();\r\n        this._titleMusic = null;\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./game/src/js/scene/TitleScene.js","import MenuManager from '../MenuManager';\nimport MainMenu from './MainMenu';\nimport NewGameMenu from './NewGameMenu';\nimport LoadGameMenu from './LoadGameMenu';\nimport SettingsMenu from './SettingsMenu';\n\n/**\n * @class TitleMenuManager\n * @extends MenuManager\n */\nexport default class TitleMenuManager extends MenuManager {\n\n    /**\n     * @constructor\n     * @param {Application} app\n     */\n    constructor(app) {\n        super(app);\n\n        this.addMenu('main', new MainMenu(app))\n            .addMenu('newGame', new NewGameMenu(app, 'main'))\n            .addMenu('loadGame', new LoadGameMenu(app, 'main'))\n            .addMenu('settings', new SettingsMenu(app, 'main'));\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./game/src/js/menu/title/TitleMenuManager.js","import { KEYBOARD, GAMEPAD, Input } from 'exojs';\r\nimport MenuItem from './MenuItem';\r\n\r\n/**\r\n * @class MenuManager\r\n */\r\nexport default class MenuManager {\r\n\r\n    /**\r\n     * @constructor\r\n     * @param {Application} app\r\n     */\r\n    constructor(app) {\r\n\r\n        /**\r\n         * @private\r\n         * @member {Application}\r\n         */\r\n        this._app = app;\r\n\r\n        /**\r\n         * @private\r\n         * @member {Map.<String, Menu>}\r\n         */\r\n        this._menus = new Map();\r\n\r\n        /**\r\n         * @private\r\n         * @member {?Menu}\r\n         */\r\n        this._currentMenu = null;\r\n\r\n        /**\r\n         * @private\r\n         * @member {Boolean}\r\n         */\r\n        this._enabled = false;\r\n\r\n        /**\r\n         * @private\r\n         * @member {Input[]}\r\n         */\r\n        this._inputs = [\r\n            new Input([\r\n                KEYBOARD.Up,\r\n                GAMEPAD.DPadUp,\r\n                GAMEPAD.LeftStickUp,\r\n            ], {\r\n                context: this,\r\n                onStart() {\r\n                    if (this._currentMenu) {\r\n                        this._currentMenu.onInputUp();\r\n                    }\r\n                },\r\n            }),\r\n            new Input([\r\n                KEYBOARD.Down,\r\n                GAMEPAD.LeftStickDown,\r\n                GAMEPAD.DPadDown,\r\n            ], {\r\n                context: this,\r\n                onStart() {\r\n                    if (this._currentMenu) {\r\n                        this._currentMenu.onInputDown();\r\n                    }\r\n                },\r\n            }),\r\n            new Input([\r\n                KEYBOARD.Left,\r\n                GAMEPAD.LeftStickLeft,\r\n                GAMEPAD.DPadLeft,\r\n            ], {\r\n                context: this,\r\n                onStart() {\r\n                    if (this._currentMenu) {\r\n                        this._currentMenu.onInputLeft();\r\n                    }\r\n                },\r\n            }),\r\n            new Input([\r\n                KEYBOARD.Right,\r\n                GAMEPAD.LeftStickRight,\r\n                GAMEPAD.DPadRight,\r\n            ], {\r\n                context: this,\r\n                onStart() {\r\n                    if (this._currentMenu) {\r\n                        this._currentMenu.onInputRight();\r\n                    }\r\n                },\r\n            }),\r\n            new Input([\r\n                KEYBOARD.Enter,\r\n                GAMEPAD.FaceBottom,\r\n            ], {\r\n                context: this,\r\n                onStart() {\r\n                    if (this._currentMenu) {\r\n                        this._currentMenu.onInputSelect();\r\n                    }\r\n                },\r\n            }),\r\n            new Input([\r\n                KEYBOARD.Backspace,\r\n                GAMEPAD.FaceRight,\r\n            ], {\r\n                context: this,\r\n                onStart() {\r\n                    if (this._currentMenu) {\r\n                        this._currentMenu.onInputBack();\r\n                    }\r\n                },\r\n            }),\r\n        ];\r\n    }\r\n\r\n    /**\r\n     * @public\r\n     * @member {Boolean}\r\n     */\r\n    get enabled() {\r\n        return this._enabled;\r\n    }\r\n\r\n    set enabled(enabled) {\r\n        this._enabled = enabled;\r\n    }\r\n\r\n    /**\r\n     * @public\r\n     * @chainable\r\n     * @param {String} startMenu\r\n     * @returns {MenuManager}\r\n     */\r\n    enable(startMenu) {\r\n        if (!this._enabled) {\r\n            this._enabled = true;\r\n            this._app.inputManager.add(this._inputs);\r\n            this._app.inputManager.on('pointer:move', this._onPointerMove, this);\r\n            this._app.inputManager.on('pointer:tap', this._onPointerTap, this);\r\n\r\n            this.openMenu(startMenu);\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * @public\r\n     * @chainable\r\n     * @returns {MenuManager}\r\n     */\r\n    disable() {\r\n        if (this._enabled) {\r\n            this._enabled = false;\r\n            this._app.inputManager.remove(this._inputs);\r\n            this._app.inputManager.off('pointer:move', this._onPointerMove, this);\r\n            this._app.inputManager.off('pointer:tap', this._onPointerTap, this);\r\n\r\n            if (this._currentMenu) {\r\n                this._currentMenu.disable();\r\n                this._currentMenu = null;\r\n            }\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * @public\r\n     * @chainable\r\n     * @param {String} name\r\n     * @param {Menu} menu\r\n     * @param {String} [previousMenu=null]\r\n     * @returns {MenuManager}\r\n     */\r\n    addMenu(name, menu, previousMenu) {\r\n        if (previousMenu) {\r\n            menu.previousMenu = previousMenu;\r\n        }\r\n\r\n        this._menus.set(name, menu);\r\n\r\n        menu.onOpenMenu.add(this.openMenu, this);\r\n        menu.onOpenPrevMenu.add(this.openPreviousMenu, this);\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * @public\r\n     * @chainable\r\n     * @param {String} name\r\n     * @returns {MenuManager}\r\n     */\r\n    openMenu(name) {\r\n        if (this._currentMenu) {\r\n            this._currentMenu.disable();\r\n        }\r\n\r\n        this._currentMenu = this._menus.get(name) || null;\r\n\r\n        if (this._currentMenu) {\r\n            this._currentMenu.enable();\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * @public\r\n     * @chainable\r\n     * @returns {MenuManager}\r\n     */\r\n    openPreviousMenu() {\r\n        const currentMenu = this._currentMenu;\r\n\r\n        if (currentMenu && currentMenu.previousMenu) {\r\n            this.openMenu(currentMenu.previousMenu);\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * @public\r\n     * @chainable\r\n     * @param {Time} delta\r\n     * @returns {MenuManager}\r\n     */\r\n    update(delta) {\r\n        if (this._currentMenu) {\r\n            this._currentMenu.update(delta);\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * @public\r\n     * @chainable\r\n     * @param {RenderManager} renderManager\r\n     * @returns {MenuManager}\r\n     */\r\n    render(renderManager) {\r\n        if (this._currentMenu) {\r\n            this._currentMenu.render(renderManager);\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * @public\r\n     */\r\n    destroy() {\r\n        this._app.off('pointer:move', this._onPointerMove, this);\r\n        this._app.off('pointer:tap', this._onPointerTap, this);\r\n\r\n        if (this._enabled) {\r\n            this.disable();\r\n        }\r\n\r\n        this._menus.forEach((menu) => {\r\n            menu.destroy();\r\n        });\r\n\r\n        this._menus.clear();\r\n        this._menus = null;\r\n\r\n        this._currentMenu = null;\r\n        this._app = null;\r\n    }\r\n\r\n    /**\r\n     * @private\r\n     * @param {Pointer} pointer\r\n     */\r\n    _onPointerMove(pointer) {\r\n        if (this._currentMenu) {\r\n            const child = this._currentMenu.getPointerChild(pointer);\r\n\r\n            if (child) {\r\n                this._currentMenu.setActiveChild(child);\r\n                this._app.renderManager.setCursor('pointer');\r\n            } else {\r\n                this._app.renderManager.setCursor('default');\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @private\r\n     * @param {Pointer} pointer\r\n     */\r\n    _onPointerTap(pointer) {\r\n        if (this._currentMenu) {\r\n            const child = this._currentMenu.getPointerChild(pointer);\r\n\r\n            if (child) {\r\n                this._currentMenu.setActiveChild(child);\r\n                this._currentMenu.updateInput('select');\r\n            }\r\n        }\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./game/src/js/menu/MenuManager.js","import { Sprite } from 'exojs';\r\nimport Menu from '../Menu';\r\nimport MenuItem from '../MenuItem';\r\n\r\n/**\r\n * @class MainMenu\r\n * @extends Menu\r\n */\r\nexport default class MainMenu extends Menu {\r\n\r\n    /**\r\n     * @constructor\r\n     * @param {Application} app\r\n     * @param {String} parentMenu\r\n     */\r\n    constructor(app, parentMenu = null) {\r\n        super(app, parentMenu);\r\n\r\n        const canvas = app.canvas,\r\n            resources = app.loader.resources,\r\n            centerX = canvas.width / 2,\r\n            offsetY = 50;\r\n\r\n        /**\r\n         * @private\r\n         * @member {Sprite}\r\n         */\r\n        this._gameLogo = new Sprite(resources.get('texture', 'title/logo'));\r\n        this._gameLogo.setAnchor(0.5, 0.8);\r\n        this._gameLogo.setPosition(centerX, 50 + (this._gameLogo.height * 0.8));\r\n\r\n        /**\r\n         * @private\r\n         * @member {MenuItem}\r\n         */\r\n        this._newGameButton = new MenuItem('New Game');\r\n        this._newGameButton.setPosition(centerX, this._gameLogo.bottom + offsetY);\r\n\r\n        /**\r\n         * @private\r\n         * @member {MenuItem}\r\n         */\r\n        this._loadGameButton = new MenuItem('Load Game');\r\n        this._loadGameButton.setPosition(centerX, this._newGameButton.bottom + offsetY);\r\n\r\n        /**\r\n         * @private\r\n         * @member {MenuItem}\r\n         */\r\n        this._settingsButton = new MenuItem('Settings');\r\n        this._settingsButton.setPosition(centerX, this._loadGameButton.bottom + offsetY);\r\n\r\n        /**\r\n         * @private\r\n         * @member {MenuItem}\r\n         */\r\n        this._versionText = new MenuItem('Ver. 0.0.1', { fontSize: 25, strokeThickness: 3 });\r\n        this._versionText.setPosition(canvas.width - 10, canvas.height);\r\n        this._versionText.setAnchor(1, 1);\r\n\r\n        /**\r\n         * @private\r\n         * @member {Number}\r\n         */\r\n        this._ticker = 0;\r\n\r\n        this._addItems();\r\n        this._addPaths();\r\n        this._addActions();\r\n\r\n        this.setStartChild(this._newGameButton);\r\n    }\r\n\r\n    /**\r\n     * @override\r\n     */\r\n    update(delta) {\r\n        if (this._activeChild) {\r\n            this._activeChild.update(delta);\r\n        }\r\n\r\n        this._ticker += delta.seconds;\r\n        this._gameLogo.rotation = Math.sin(this._ticker * Math.PI / 2) * -5;\r\n    }\r\n\r\n    /**\r\n     * @override\r\n     */\r\n    disable() {\r\n        if (this._activeChild) {\r\n            this._activeChild.reset();\r\n        }\r\n\r\n        this._ticker = 0;\r\n        this._gameLogo.rotation = 0;\r\n    }\r\n\r\n    /**\r\n     * @override\r\n     */\r\n    destroy() {\r\n        super.destroy();\r\n\r\n        this._gameLogo = null;\r\n        this._versionText = null;\r\n        this._newGameButton = null;\r\n        this._loadGameButton = null;\r\n        this._settingsButton = null;\r\n    }\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    _addItems() {\r\n        return this\r\n            .addChild(this._gameLogo)\r\n            .addChild(this._newGameButton)\r\n            .addChild(this._loadGameButton)\r\n            .addChild(this._settingsButton)\r\n            .addChild(this._versionText);\r\n    }\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    _addPaths() {\r\n        return this\r\n            .addPath(this._newGameButton, this._loadGameButton, 'down', 'up')\r\n            .addPath(this._loadGameButton, this._settingsButton, 'down', 'up')\r\n            .addPath(this._settingsButton, this._newGameButton, 'down', 'up');\r\n    }\r\n\r\n    /**\r\n     * @private\r\n     * @chaibale\r\n     */\r\n    _addActions() {\r\n        return this\r\n            .addAction(this._newGameButton, this.openMenu.bind(this, 'newGame'), 'select')\r\n            .addAction(this._loadGameButton, this.openMenu.bind(this, 'loadGame'), 'select')\r\n            .addAction(this._settingsButton, this.openMenu.bind(this, 'settings'), 'select');\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./game/src/js/menu/title/MainMenu.js","/**\n * @class MenuPath\n */\nexport default class MenuPath {\n\n    /**\n     * @constructor\n     * @param {MenuItem} fromItem\n     * @param {MenuItem} toItem\n     * @param {String} input\n     */\n    constructor(fromItem, toItem, input) {\n\n        /**\n         * @private\n         * @member {MenuItem}\n         */\n        this._fromItem = fromItem;\n\n        /**\n         * @private\n         * @member {MenuItem}\n         */\n        this._toItem = toItem;\n\n        /**\n         * @private\n         * @member {String}\n         */\n        this._input = input;\n    }\n\n    /**\n     * @public\n     * @member {MenuItem}\n     */\n    get fromItem() {\n        return this._fromItem;\n    }\n\n    set fromItem(value) {\n        this._fromItem = value;\n    }\n\n    /**\n     * @public\n     * @member {MenuItem}\n     */\n    get toItem() {\n        return this._toItem;\n    }\n\n    set toItem(value) {\n        this._toItem = value;\n    }\n\n    /**\n     * @public\n     * @member {String}\n     */\n    get input() {\n        return this._input;\n    }\n\n    set input(value) {\n        this._input = value;\n    }\n\n    /**\n     * @public\n     */\n    destroy() {\n        this._fromItem = null;\n        this._toItem = null;\n        this._input = null;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./game/src/js/menu/MenuPath.js","const emptyFunction = () => {\n    // do nothing\n};\n\n/**\n * @class MenuAction\n */\nexport default class MenuAction {\n\n    /**\n     * @constructor\n     * @param {MenuItem} item\n     * @param {Function} action\n     * @param {String} [input=select]\n     */\n    constructor(item, action, input = 'select') {\n\n        /**\n         * @private\n         * @member {MenuItem}\n         */\n        this._item = item;\n\n        /**\n         * @private\n         * @member {Function}\n         */\n        this._action = action || emptyFunction;\n\n        /**\n         * @private\n         * @member {String}\n         */\n        this._input = input;\n    }\n\n    /**\n     * @public\n     * @member {MenuItem}\n     * @memberof MenuAction#\n     */\n    get item() {\n        return this._item;\n    }\n\n    set item(value) {\n        this._item = value;\n    }\n\n    /**\n     * @public\n     * @member {Function}\n     * @memberof MenuAction#\n     */\n    get action() {\n        return this._action;\n    }\n\n    set action(value) {\n        this._action = value;\n    }\n\n    /**\n     * @public\n     * @member {String}\n     * @memberof MenuAction#\n     */\n    get input() {\n        return this._input;\n    }\n\n    set input(value) {\n        this._input = value;\n    }\n\n    /**\n     * @public\n     */\n    destroy() {\n        this._item = null;\n        this._action = null;\n        this._input = null;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./game/src/js/menu/MenuAction.js","import Menu from '../Menu';\nimport MenuItem from '../MenuItem';\nimport GameScene from '../../scene/GameScene';\n\n/**\n * @class NewGameMenu\n * @extends Menu\n */\nexport default class NewGameMenu extends Menu {\n\n    /**\n     * @constructor\n     * @param {Application} app\n     * @param {?String} [parentMenu=null]\n     */\n    constructor(app, parentMenu) {\n        super(app, parentMenu);\n\n        const canvas = app.canvas,\n            centerX = canvas.width / 2,\n            offsetY = 50;\n\n        /**\n         * @private\n         * @member {MenuItem}\n         */\n        this._newGameTitle = new MenuItem('New Game:');\n        this._newGameTitle.setPosition(centerX, canvas.height / 3);\n\n        /**\n         * @private\n         * @member {MenuItem}\n         */\n        this._createWorldButton = new MenuItem('Create World');\n        this._createWorldButton.setPosition(centerX, this._newGameTitle.bottom + offsetY);\n\n        /**\n         * @private\n         * @member {MenuItem}\n         */\n        this._createCharacterButton = new MenuItem('Create Character');\n        this._createCharacterButton.setPosition(centerX, this._createWorldButton.bottom + offsetY);\n\n        /**\n         * @private\n         * @member {MenuItem}\n         */\n        this._backButton = new MenuItem('Back');\n        this._backButton.setPosition(centerX, this._createCharacterButton.bottom + offsetY);\n\n        this._addItems();\n        this._addPaths();\n        this._addActions();\n\n        this.setStartChild(this._createWorldButton);\n    }\n\n    /**\n     * @override\n     */\n    destroy() {\n        super.destroy();\n\n        this._newGameTitle = null;\n        this._createWorldButton = null;\n        this._createCharacterButton = null;\n        this._backButton = null;\n    }\n\n    _addItems() {\n        this.addChild(this._newGameTitle)\n            .addChild(this._createWorldButton)\n            .addChild(this._createCharacterButton)\n            .addChild(this._backButton);\n    }\n\n    _addPaths() {\n        this.addPath(this._createWorldButton, this._createCharacterButton, 'down', 'up')\n            .addPath(this._createCharacterButton, this._backButton, 'down', 'up')\n            .addPath(this._backButton, this._createWorldButton, 'down', 'up');\n    }\n\n    _addActions() {\n        this.addAction(this._createWorldButton, this._onSelectCreateWorld.bind(this), 'select')\n            .addAction(this._createCharacterButton, this._onSelectCreateCharacter.bind(this), 'select')\n            .addAction(this._backButton, this.openPreviousMenu.bind(this), 'select');\n    }\n\n    _onSelectCreateWorld() {\n        this._app.sceneManager.setScene(new GameScene());\n    }\n\n    _onSelectCreateCharacter() {\n        this._app.sceneManager.setScene(new GameScene());\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./game/src/js/menu/title/NewGameMenu.js","import { clamp, Size, Sprite, Rectangle, Vector } from 'exojs';\r\nimport MapGenerator from './MapGenerator';\r\n\r\n/**\r\n * @class WorldMap\r\n */\r\nexport default class WorldMap {\r\n\r\n    /**\r\n     * @constructor\r\n     * @param {Tileset} tileset\r\n     */\r\n    constructor(tileset) {\r\n\r\n        /**\r\n         * @private\r\n         * @member {Tileset}\r\n         */\r\n        this._tileset = tileset;\r\n\r\n        /**\r\n         * @private\r\n         * @member {Size}\r\n         */\r\n        this._tileSize = new Size(64, 64);\r\n\r\n        /**\r\n         * @private\r\n         * @member {Vector}\r\n         */\r\n        this._tileCount = new Vector(256, 256);\r\n\r\n        /**\r\n         * @private\r\n         * @member {Sprite}\r\n         */\r\n        this._tile = new Sprite(tileset.texture);\r\n        this._tile.width = this._tileSize.width;\r\n        this._tile.height = this._tileSize.height;\r\n\r\n        /**\r\n         * @private\r\n         * @member {MapGenerator}\r\n         */\r\n        this._mapGenerator = new MapGenerator();\r\n\r\n        /**\r\n         * @private\r\n         * @member {Number[]}\r\n         */\r\n        this._mapData = this._mapGenerator.generate(this._tileCount.x, this._tileCount.y);\r\n\r\n        /**\r\n         * @private\r\n         * @member {Rectangle}\r\n         */\r\n        this._bounds = new Rectangle(0, 0, (this._tileCount.x * this._tileSize.width), (this._tileCount.y * this._tileSize.height));\r\n    }\r\n\r\n    /**\r\n     * @public\r\n     * @readonly\r\n     * @member {Number}\r\n     */\r\n    get bounds() {\r\n        return this._bounds;\r\n    }\r\n\r\n    /**\r\n     * @public\r\n     * @readonly\r\n     * @member {Number}\r\n     */\r\n    get width() {\r\n        return this._bounds.width;\r\n    }\r\n\r\n    /**\r\n     * @public\r\n     * @readonly\r\n     * @member {Number}\r\n     */\r\n    get height() {\r\n        return this._bounds.height;\r\n    }\r\n\r\n    /**\r\n     * @public\r\n     * @param {Time} delta\r\n     */\r\n    update(delta) {\r\n\r\n    }\r\n\r\n    /**\r\n     * @public\r\n     * @param {RenderManager} renderManager\r\n     */\r\n    render(renderManager) {\r\n        const camera = renderManager.view,\r\n            viewport = camera.getBounds(),\r\n            mapData = this._mapData,\r\n            tile = this._tile,\r\n            tileset = this._tileset,\r\n            tilesX = this._tileCount.x,\r\n            tilesY = this._tileCount.y,\r\n            tileWidth = this._tileSize.width,\r\n            tileHeight = this._tileSize.height,\r\n            tilesHorizontal = ((viewport.width / tileWidth) + 2) | 0,\r\n            tilesVertical = ((viewport.height / tileHeight) + 2) | 0,\r\n            startTileX = clamp(viewport.x / tileWidth, 0, tilesX - tilesHorizontal) | 0,\r\n            startTileY = clamp(viewport.y / tileHeight, 0, tilesY - tilesVertical) | 0,\r\n            startTileIndex = (startTileY * tilesX) + startTileX,\r\n            tilesTotal = tilesHorizontal * tilesVertical;\r\n\r\n        for (let i = 0; i < tilesTotal; i++) {\r\n            const x = (i % tilesHorizontal) | 0,\r\n                y = (i / tilesHorizontal) | 0,\r\n                index = startTileIndex + ((y * tilesX) + x);\r\n\r\n            tileset.setBlock(tile, mapData[index]);\r\n\r\n            tile.x = (startTileX + x) * tileWidth;\r\n            tile.y = (startTileY + y) * tileHeight;\r\n\r\n            tile.render(renderManager);\r\n        }\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./game/src/js/map/WorldMap.js","import PerlinNoiseGenerator from './PerlinNoiseGenerator';\n\n/**\n * @class MapGenerator\n */\nexport default class MapGenerator {\n\n    /**\n     * @constructor\n     */\n    constructor() {\n\n        /**\n         * @private\n         * @member {PerlinNoiseGenerator}\n         */\n        this._noiseGenerator = new PerlinNoiseGenerator();\n\n        /**\n         * @private\n         * @member {Number}\n         */\n        this._frequency = 1;\n\n        /**\n         * @private\n         * @member {Number}\n         */\n        this._octaves = 16;\n    }\n\n    /**\n     * @public\n     * @param {Number} width\n     * @param {Number} height\n     * @returns {Number[]}\n     */\n    generate(width, height) {\n        const particleMap = new Uint8Array(width * height),\n            map = this._noiseGenerator.generate(width, height, this._frequency, this._octaves);\n\n        for (let i = 0; i < ~~((width * height) * (0.85)); i++) {\n            const choices = [];\n\n            let x = MapGenerator.getRandomInt(15, width - 16),\n                y = MapGenerator.getRandomInt(15, height - 16),\n                choice;\n\n            for (let j = 0; j < ~~((width * height) * (0.05)); j++) {\n                const index = (y * width) + x,\n                    currentValue = particleMap[index] = Math.max(0, Math.min(255, particleMap[index] + 7));\n\n                choices.length = 0;\n\n                if ((x - 1 > 0) && (particleMap[index - 1] <= currentValue)) {\n                    choices.push({\n                        x: -1,\n                        y: 0,\n                    });\n                }\n\n                if ((x + 1 < width - 1) && (particleMap[index + 1] <= currentValue)) {\n                    choices.push({\n                        x: 1,\n                        y: 0,\n                    });\n                }\n\n                if ((y - 1 > 0) && (particleMap[index - width] <= currentValue)) {\n                    choices.push({\n                        x: 0,\n                        y: -1,\n                    });\n                }\n\n                if ((y + 1 < height - 1) && (particleMap[index + width] <= currentValue)) {\n                    choices.push({\n                        x: 0,\n                        y: 1,\n                    });\n                }\n\n                if (choices.length === 0) {\n                    break;\n                }\n\n                choice = MapGenerator.getRandomChoice(choices);\n\n                x += choice.x;\n                y += choice.y;\n            }\n        }\n\n        for (let y = 0; y < height; y++) {\n            for (let x = 0; x < width; x++) {\n                const index = (y * width) + x;\n\n                map[index] *= (particleMap[index] / 255);\n            }\n        }\n\n        MapGenerator.smoothen(map, width, height);\n\n        return map;\n    }\n\n    /**\n     * @public\n     * @static\n     * @param {Number[]} map\n     * @param {Number} width\n     * @param {Number} height\n     */\n    static smoothen(map, width, height) {\n        for (let y = 0; y < height; y++) {\n            for (let x = 0; x < width; x++) {\n                const lowX = x - 1,\n                    highX = x + 1,\n                    lowY = y - 1,\n                    highY = y + 1;\n\n                let average = 0,\n                    times = 0;\n\n                if (lowX >= 0) {\n                    average += map[(y * width) + lowX];\n                    times++;\n                }\n\n                if (highX < width - 1) {\n                    average += map[(y * width) + highX];\n                    times++;\n                }\n\n                if (lowY >= 0) {\n                    average += map[(lowY * width) + x];\n                    times++;\n                }\n\n                if (highY < height - 1) {\n                    average += map[(highY * width) + x];\n                    times++;\n                }\n\n                if (lowX >= 0 && lowY >= 0) {\n                    average += map[(lowY * width) + lowX];\n                    times++;\n                }\n\n                if (highX < width && lowY >= 0) {\n                    average += map[(lowY * width) + highX];\n                    times++;\n                }\n\n                if (lowX >= 0 && highY < height) {\n                    average += map[(highY * width) + lowX];\n                    times++;\n                }\n\n                if (highX < width && highY < height) {\n                    average += map[(highY * width) + highX];\n                    times++;\n                }\n\n                average += map[(y * width) + x];\n                times++;\n\n                map[(y * width) + x] = average / times;\n            }\n        }\n    }\n\n    /**\n     * @public\n     * @static\n     * @param {Number} min\n     * @param {Number} max\n     * @returns {Number}\n     */\n    static getRandomInt(min, max) {\n        return (Math.random() * (max - min + 1) | 0) + min;\n    }\n\n    /**\n     * @public\n     * @static\n     * @param {Object[]} choices\n     * @returns {Object}\n     */\n    static getRandomChoice(choices) {\n        return choices[(Math.random() * choices.length) | 0];\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./game/src/js/map/MapGenerator.js","/**\n * @class PerlinNoiseGenerator\n */\nexport default class PerlinNoiseGenerator {\n\n    /**\n     * @constructor\n     */\n    constructor() {\n\n        /**\n         * @private\n         * @member {?Float32Array}\n         */\n        this._noise = null;\n\n        /**\n         * @private\n         * @member {Number}\n         */\n        this._width = 0;\n\n        /**\n         * @private\n         * @member {Number}\n         */\n        this._height = 0;\n    }\n\n    /**\n     * @public\n     * @param {Number} width\n     * @param {Number} height\n     * @param {Number} frequency\n     * @param {Number} octaves\n     * @returns {Number[]}\n     */\n    generate(width, height, frequency, octaves) {\n        const result = [],\n            length = width * height;\n\n        if (!this._noise || width !== this._width || height !== this._height) {\n            this._noise = new Float32Array(length);\n            this._width = width;\n            this._height = height;\n        }\n\n        for (let i = 0; i < length; i++) {\n            this._noise[i] = Math.random();\n        }\n\n        for (let i = 0; i < length; i++) {\n            result[i] = (this.turbulence((i % width) * frequency, (i / width) * frequency, octaves)) | 0;\n        }\n\n        return result;\n    }\n\n    /**\n     * @public\n     * @param {Number} x\n     * @param {Number} y\n     * @param {Number} size\n     * @returns {Number}\n     */\n    turbulence(x, y, size) {\n        const initialSize = size;\n        let value = 0;\n\n        while (size >= 1) {\n            value += this.getSmoothNoise(x / size, y / size) * size;\n            size /= 2;\n        }\n\n        return 128 * value / initialSize;\n    }\n\n    /**\n     * @public\n     * @param {Number} x\n     * @param {Number} y\n     * @returns {Number}\n     */\n    getSmoothNoise(x, y) {\n        const noise = this._noise,\n            width = this._width,\n            height = this._height,\n            roundX = ~~(x),\n            roundY = ~~(y),\n            fractalX = x - roundX,\n            fractalY = y - roundY,\n            x1 = (roundX + width) % width,\n            y1 = (roundY + height) % height,\n            x2 = (x1 + width - 1) % width,\n            y2 = (y1 + height - 1) % height;\n\n        let value = fractalX * fractalY * noise[(y1 * width) + x1];\n\n        value += fractalX * (1 - fractalY) * noise[(y2 * width) + x1];\n        value += (1 - fractalX) * fractalY * noise[(y1 * width) + x2];\n        value += (1 - fractalX) * (1 - fractalY) * noise[(y2 * width) + x2];\n\n        return value;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./game/src/js/map/PerlinNoiseGenerator.js","import { KEYBOARD, GAMEPAD, clamp, Sprite, Vector, Rectangle, Size, Timer, Input, Signal } from 'exojs';\r\n\r\nconst\r\n\r\n    /**\r\n     * @inner\r\n     * @member {Object<String, Number>}\r\n     */\r\n    DIRECTION = {\r\n        UP: 0,\r\n        RIGHT: 1,\r\n        DOWN: 2,\r\n        LEFT: 3,\r\n    };\r\n\r\n/**\r\n * @class Player\r\n * @extends Sprite\r\n */\r\nexport default class Player extends Sprite {\r\n\r\n    /**\r\n     * @constructor\r\n     * @param {Application} app\r\n     * @param {Object} options\r\n     * @param {Vector} options.spawnPoint\r\n     * @param {Rectangle} options.worldBounds\r\n     */\r\n    constructor(app, {\r\n        spawnPoint = new Vector(),\r\n        worldBounds = new Rectangle(),\r\n    }) {\r\n        super(app.loader.resources.get('texture', 'game/player'));\r\n\r\n        /**\r\n         * @private\r\n         * @member {Application}\r\n         */\r\n        this._app = app;\r\n\r\n        /**\r\n         * @private\r\n         * @member {Rectangle}\r\n         */\r\n        this._worldBounds = worldBounds.clone();\r\n\r\n        /**\r\n         * @private\r\n         * @member {Vector}\r\n         */\r\n        this._spawnPoint = spawnPoint.clone();\r\n\r\n        /**\r\n         * @private\r\n         * @member {Boolean}\r\n         */\r\n        this._moving = false;\r\n\r\n        /**\r\n         * @private\r\n         * @member {Number}\r\n         */\r\n        this._direction = DIRECTION.DOWN;\r\n\r\n        /**\r\n         * @private\r\n         * @member {Vector}\r\n         */\r\n        this._velocity = new Vector();\r\n\r\n        /**\r\n         * @private\r\n         * @member {Size}\r\n         */\r\n        this._frameSize = new Size(96, 96);\r\n\r\n        /**\r\n         * @private\r\n         * @member {Number}\r\n         */\r\n        this._frameIndex = 0;\r\n\r\n        /**\r\n         * @private\r\n         * @member {Number}\r\n         */\r\n        this._frameCount = 8;\r\n\r\n        /**\r\n         * @private\r\n         * @member {Timer}\r\n         */\r\n        this._frameTimer = new Timer(false, 100);\r\n\r\n        /**\r\n         * @private\r\n         * @member {Boolean}\r\n         */\r\n        this._frameChanged = false;\r\n\r\n        /**\r\n         * @private\r\n         * @member {Rectangle}\r\n         */\r\n        this._frame = new Rectangle(\r\n            this._direction * this._frameSize.width,\r\n            this._frameIndex * this._frameSize.height,\r\n            this._frameSize.width,\r\n            this._frameSize.height\r\n        );\r\n\r\n        /**\r\n         * @private\r\n         * @member {Number}\r\n         */\r\n        this._walkingSpeed = 192;\r\n\r\n        /**\r\n         * @private\r\n         * @member {Number}\r\n         */\r\n        this._runningSpeed = 256;\r\n\r\n        /**\r\n         * @private\r\n         * @member {Number}\r\n         */\r\n        this._speed = this._walkingSpeed;\r\n\r\n        /**\r\n         * @private\r\n         * @member {Signal}\r\n         */\r\n        this._onMove = new Signal();\r\n\r\n        this._addInputs();\r\n        this._updateFrame();\r\n        this.setAnchor(0.5, 1);\r\n        this.setPosition(this._spawnPoint.x, this._spawnPoint.y);\r\n    }\r\n\r\n    /**\r\n     * @public\r\n     * @readonly\r\n     * @member {Signal}\r\n     */\r\n    get onMove() {\r\n        return this._onMove;\r\n    }\r\n\r\n    /**\r\n     * @public\r\n     * @param {Time} delta\r\n     */\r\n    update(delta) {\r\n        this._updatePosition(delta);\r\n\r\n        if (this._frameChanged) {\r\n            this._updateFrame();\r\n            this._frameChanged = false;\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * @override\r\n     */\r\n    setPosition(x, y) {\r\n        this.position.set(\r\n            clamp(x, this._worldBounds.left, this._worldBounds.right),\r\n            clamp(y, this._worldBounds.top, this._worldBounds.bottom)\r\n        );\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * @override\r\n     */\r\n    destroy() {\r\n        super.destroy();\r\n\r\n        this._removeInputs();\r\n\r\n        this._worldBounds.destroy();\r\n        this._worldBounds = null;\r\n\r\n        this._spawnPoint.destroy();\r\n        this._spawnPoint = null;\r\n\r\n        this._frameSize.destroy();\r\n        this._frameSize = null;\r\n\r\n        this._frame.destroy();\r\n        this._frame = null;\r\n\r\n        this._frameTimer.destroy();\r\n        this._frameTimer = null;\r\n\r\n        this._onMove.destroy();\r\n        this._onMove = null;\r\n\r\n        this._frameIndex = null;\r\n        this._frameCount = null;\r\n        this._direction = null;\r\n        this._moving = null;\r\n        this._speed = null;\r\n        this._app = null;\r\n    }\r\n\r\n    /**\r\n     * @private\r\n     * @param {Number} direction\r\n     */\r\n    _setDirection(direction) {\r\n        if (this._direction !== direction) {\r\n            this._direction = direction;\r\n            this._frameChanged = true;\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    _updateDirection() {\r\n        const { x, y } = this._velocity;\r\n\r\n        if (x > 0) {\r\n            this._setDirection(DIRECTION.RIGHT);\r\n        } else if (x < 0) {\r\n            this._setDirection(DIRECTION.LEFT);\r\n        }\r\n\r\n        if (y > 0.5) {\r\n            this._setDirection(DIRECTION.DOWN);\r\n        } else if (y < -0.5) {\r\n            this._setDirection(DIRECTION.UP);\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    _updateFrameIndex() {\r\n        if (this._moving && this._frameTimer.expired) {\r\n            this._frameTimer.restart();\r\n            this._setFrameIndex(this._frameIndex + 1);\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * @private\r\n     * @param {Number} index\r\n     */\r\n    _setFrameIndex(index) {\r\n        const frameIndex = (index % this._frameCount);\r\n\r\n        if (this._frameIndex !== frameIndex) {\r\n            this._frameIndex = frameIndex;\r\n            this._frameChanged = true;\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * @private\r\n     * @param {Time} delta\r\n     */\r\n    _updatePosition(delta) {\r\n        const mag = this._velocity.magnitude;\r\n\r\n        if (mag > 0) {\r\n            const distance = (this._speed * delta.seconds),\r\n                velX = this._velocity.x,\r\n                velY = this._velocity.y,\r\n                offsetX = (mag > 1 ? (velX / mag) : velX) * distance,\r\n                offsetY = (mag > 1 ? (velY / mag) : velY) * distance;\r\n\r\n            this.move(offsetX, offsetY);\r\n            this._updateDirection();\r\n\r\n            if (!this._moving) {\r\n                this._moving = true;\r\n                this._frameTimer.restart();\r\n                this._setFrameIndex(1);\r\n            }\r\n\r\n            this._onMove.dispatch(this.x, this.y, this);\r\n        } else if (this._moving) {\r\n            this._moving = false;\r\n            this._frameTimer.stop();\r\n            this._setFrameIndex(0);\r\n        }\r\n\r\n        this._updateFrameIndex();\r\n        this._velocity.set(0, 0);\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    _updateFrame() {\r\n        this.setTextureFrame(this._frame.setPosition(\r\n            this._direction * this._frameSize.width,\r\n            this._frameIndex * this._frameSize.height\r\n        ));\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    _addInputs() {\r\n        this._moveUpInput = new Input([\r\n            KEYBOARD.Up,\r\n            KEYBOARD.W,\r\n            GAMEPAD.LeftStickUp,\r\n            GAMEPAD.DPadUp,\r\n        ], {\r\n            context: this,\r\n            onActive(value) {\r\n                this._velocity.add(0, value * -1);\r\n            },\r\n        });\r\n\r\n        this._moveDownInput = new Input([\r\n            KEYBOARD.Down,\r\n            KEYBOARD.S,\r\n            GAMEPAD.LeftStickDown,\r\n            GAMEPAD.DPadDown,\r\n        ], {\r\n            context: this,\r\n            onActive(value) {\r\n                this._velocity.add(0, value);\r\n            },\r\n        });\r\n\r\n        this._moveLeftInput = new Input([\r\n            KEYBOARD.Left,\r\n            KEYBOARD.A,\r\n            GAMEPAD.LeftStickLeft,\r\n            GAMEPAD.DPadLeft,\r\n        ], {\r\n            context: this,\r\n            onActive(value) {\r\n                this._velocity.add(value * -1, 0);\r\n            },\r\n        });\r\n\r\n        this._moveRightInput = new Input([\r\n            KEYBOARD.Right,\r\n            KEYBOARD.D,\r\n            GAMEPAD.LeftStickRight,\r\n            GAMEPAD.DPadRight,\r\n        ], {\r\n            context: this,\r\n            onActive(value) {\r\n                this._velocity.add(value, 0);\r\n            },\r\n        });\r\n\r\n        this._toggleRunInput = new Input([\r\n            KEYBOARD.Shift,\r\n            GAMEPAD.FaceLeft,\r\n        ], {\r\n            context: this,\r\n            onStart() {\r\n                this._speed = this._runningSpeed;\r\n            },\r\n            onStop() {\r\n                this._speed = this._walkingSpeed;\r\n            }\r\n        });\r\n\r\n        this._app.inputManager.add([\r\n            this._moveUpInput,\r\n            this._moveDownInput,\r\n            this._moveLeftInput,\r\n            this._moveRightInput,\r\n            this._toggleRunInput,\r\n        ]);\r\n    }\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    _removeInputs() {\r\n        this.app.inputManager.remove([\r\n            this._moveUpInput,\r\n            this._moveDownInput,\r\n            this._moveLeftInput,\r\n            this._moveRightInput,\r\n            this._toggleRunInput,\r\n        ]);\r\n\r\n        this._moveUpInput.destroy();\r\n        this._moveUpInput = null;\r\n\r\n        this._moveDownInput.destroy();\r\n        this._moveDownInput = null;\r\n\r\n        this._moveLeftInput.destroy();\r\n        this._moveLeftInput = null;\r\n\r\n        this._moveRightInput.destroy();\r\n        this._moveRightInput = null;\r\n\r\n        this._toggleRunInput.destroy();\r\n        this._toggleRunInput = null;\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./game/src/js/entity/Player.js","import AutoTile from './AutoTile';\n\n/**\n * @class Tileset\n */\nexport default class Tileset {\n\n    /**\n     * @constructor\n     * @param {Texture} texture\n     * @param {Number} tileSize\n     */\n    constructor(texture, tileSize) {\n\n        /**\n         * @private\n         * @member {Texture}\n         */\n        this._texture = texture;\n\n        /**\n         * @private\n         * @member {Number}\n         */\n        this._tileSize = tileSize;\n\n        /**\n         * @private\n         * @member {Object.<String, AutoTile>}\n         */\n        this._tiles = {\n            water: new AutoTile(5, 1, tileSize),\n            sand: new AutoTile(0, 1, tileSize),\n            grass: new AutoTile(0, 0, tileSize),\n            forest: new AutoTile(2, 0, tileSize),\n            dirt: new AutoTile(1, 0, tileSize),\n            stone: new AutoTile(3, 0, tileSize),\n        };\n\n        /**\n         * @private\n         * @member {Number}\n         */\n        this._waterLevel = 70;\n\n        /**\n         * @private\n         * @member {Number}\n         */\n        this._sandLevel = 95;\n\n        /**\n         * @private\n         * @member {Number}\n         */\n        this._grassLevel = 130;\n\n        /**\n         * @private\n         * @member {Number}\n         */\n        this._forestLevel = 150;\n\n        /**\n         * @private\n         * @member {Number}\n         */\n        this._dirtLevel = 170;\n    }\n\n    /**\n     * @public\n     * @member {Texture}\n     */\n    get texture() {\n        return this._texture;\n    }\n\n    /**\n     * @public\n     * @param {Sprite} tile\n     * @param {Number} level\n     */\n    setBlock(tile, level) {\n        let block,\n            tint;\n\n        if (level <= this._waterLevel) {\n            block = 'water';\n            tint = 255 + level - this._waterLevel;\n        } else if (level <= this._sandLevel) {\n            block = 'sand';\n            tint = 255 - level + this._waterLevel;\n        } else if (level <= this._grassLevel) {\n            block = 'grass';\n            tint = 255 - level + this._sandLevel;\n        } else if (level <= this._forestLevel) {\n            block = 'forest';\n            tint = 255 - level + this._grassLevel;\n        } else if (level <= this._dirtLevel) {\n            block = 'dirt';\n            tint = 255 - level + this._forestLevel;\n        } else {\n            block = 'stone';\n            tint = 255 - level + this._dirtLevel;\n        }\n\n        tint = tint | 0;\n        tile.tint.set(tint, tint, tint);\n\n        if (block in this._tiles) {\n            tile.setTextureFrame(this._tiles[block].tileRect, false);\n        }\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./game/src/js/map/Tileset.js","import { Rectangle } from 'exojs';\n\n/**\n * @class AutoTile\n */\nexport default class AutoTile {\n\n    /**\n     * @constructor\n     * @param {Number} x\n     * @param {Number} y\n     * @param {Number} tileSize\n     */\n    constructor(x, y, tileSize) {\n\n        /**\n         * @private\n         * @member {Number}\n         */\n        this._width = tileSize * 2;\n\n        /**\n         * @private\n         * @member {Number}\n         */\n        this._height = tileSize * 3;\n\n        /**\n         * @private\n         * @member {Number}\n         */\n        this._tileSize = tileSize;\n\n        /**\n         * @private\n         * @member {Rectangle}\n         */\n        this._fullRect = new Rectangle(\n            x * this._width,\n            y * this._height,\n            this._width,\n            this._height\n        );\n\n        /**\n         * @private\n         * @member {Rectangle}\n         */\n        this._tileRect = new Rectangle(\n            this._fullRect.x + (tileSize * 0.5),\n            this._fullRect.y + (tileSize * 1.5),\n            tileSize,\n            tileSize\n        );\n    }\n\n    /**\n     * @public\n     * @member {Number}\n     */\n    get width() {\n        return this._width;\n    }\n\n    set width(value) {\n        this._width = value;\n    }\n\n    /**\n     * @public\n     * @member {Number}\n     */\n    get height() {\n        return this._height;\n    }\n\n    set height(value) {\n        this._height = value;\n    }\n\n    /**\n     * @public\n     * @member {Number}\n     */\n    get tileSize() {\n        return this._tileSize;\n    }\n\n    set tileSize(value) {\n        this._tileSize = value;\n    }\n\n    /**\n     * @public\n     * @member {Rectangle}\n     */\n    get fullRect() {\n        return this._fullRect;\n    }\n\n    set fullRect(value) {\n        this._fullRect.copy(value);\n    }\n\n    /**\n     * @public\n     * @member {Rectangle}\n     */\n    get tileRect() {\n        return this._tileRect;\n    }\n\n    set tileRect(value) {\n        this._tileRect.copy(value);\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./game/src/js/map/AutoTile.js","import Menu from '../Menu';\nimport MenuItem from '../MenuItem';\nimport GameScene from '../../scene/GameScene';\n\n/**\n * @class LoadGameMenu\n * @extends Menu\n */\nexport default class LoadGameMenu extends Menu {\n\n    /**\n     * @constructor\n     * @param {Application} app\n     * @param {String} parentMenu\n     */\n    constructor(app, parentMenu) {\n        super(app, parentMenu);\n\n        const canvas = app.canvas,\n            centerX = canvas.width / 2,\n            offsetY = 50;\n\n        /**\n         * @private\n         * @member {MenuItem}\n         */\n        this._LoadGameTitle = new MenuItem('Load Game:');\n        this._LoadGameTitle.setPosition(centerX, canvas.height / 3);\n\n        /**\n         * @private\n         * @member {MenuItem}\n         */\n        this._loadWorldButton = new MenuItem('Load World');\n        this._loadWorldButton.setPosition(centerX, this._LoadGameTitle.bottom + offsetY);\n\n        /**\n         * @private\n         * @member {MenuItem}\n         */\n        this._backButton = new MenuItem('Back');\n        this._backButton.setPosition(centerX, this._loadWorldButton.bottom + offsetY);\n\n        this._addItems();\n        this._addPaths();\n        this._addActions();\n\n        this.setStartChild(this._loadWorldButton);\n    }\n\n    _addItems() {\n        this.addChild(this._LoadGameTitle);\n        this.addChild(this._loadWorldButton);\n        this.addChild(this._backButton);\n    }\n\n    _addPaths() {\n        this.addPath(this._loadWorldButton, this._backButton, 'down', 'up');\n        this.addPath(this._backButton, this._loadWorldButton, 'down', 'up');\n    }\n\n    _addActions() {\n        this.addAction(this._loadWorldButton, this._onSelectLoadWorld.bind(this), 'select');\n        this.addAction(this._backButton, this.openPreviousMenu.bind(this), 'select');\n    }\n\n    _onSelectLoadWorld() {\n        this._app.sceneManager.setScene(new GameScene());\n    }\n\n    destroy() {\n        super.destroy();\n\n        this._LoadGameTitle = null;\n        this._loadWorldButton = null;\n        this._backButton = null;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./game/src/js/menu/title/LoadGameMenu.js","import Menu from '../Menu';\nimport MenuItem from '../MenuItem';\n\n/**\n * @class SettingsMenu\n * @extends Menu\n */\nexport default class SettingsMenu extends Menu {\n\n    /**\n     * @constructor\n     * @param {Application} app\n     * @param {String} previousMenu\n     */\n    constructor(app, previousMenu) {\n        super(app, previousMenu);\n\n        const canvas = app.canvas,\n            centerX = canvas.width / 2,\n            offsetY = 50;\n\n        /**\n         * @private\n         * @member {MenuItem}\n         */\n        this._settingsTitle = new MenuItem('Settings:');\n        this._settingsTitle.setPosition(centerX, canvas.height / 3);\n\n        /**\n         * @private\n         * @member {MenuItem}\n         */\n        this._masterVolumeButton = new MenuItem(`Master Volume: 100%`);\n        this._masterVolumeButton.setPosition(centerX, this._settingsTitle.bottom + offsetY);\n\n        /**\n         * @private\n         * @member {MenuItem}\n         */\n        this._musicVolumeButton = new MenuItem(`Music Volume: 100%`);\n        this._musicVolumeButton.setPosition(centerX, this._masterVolumeButton.bottom + offsetY);\n\n        /**\n         * @private\n         * @member {MenuItem}\n         */\n        this._soundsVolumeButton = new MenuItem(`Sound Volume: 100%`);\n        this._soundsVolumeButton.setPosition(centerX, this._musicVolumeButton.bottom + offsetY);\n\n        /**\n         * @private\n         * @member {MenuItem}\n         */\n        this._backButton = new MenuItem('Back');\n        this._backButton.setPosition(centerX, this._soundsVolumeButton.bottom + offsetY);\n\n        /**\n         * @private\n         * @member {Function}\n         */\n        this._onOptionLeftHandler = this._onOptionLeft.bind(this);\n\n        /**\n         * @private\n         * @member {Function}\n         */\n        this._onOptionRightHandler = this._onOptionRight.bind(this);\n\n        /**\n         * @private\n         * @member {Number}\n         */\n        this._volumeStep = 0.05;\n\n        this._addItems();\n        this._addPaths();\n        this._addActions();\n\n        this.setStartChild(this._musicVolumeButton);\n    }\n\n    /**\n     * @override\n     */\n    destroy() {\n        super.destroy();\n\n        this._onOptionLeftHandler = null;\n        this._onOptionRightHandler = null;\n\n        this._settingsTitle = null;\n        this._masterVolumeButton = null;\n        this._musicVolumeButton = null;\n        this._soundsVolumeButton = null;\n        this._backButton = null;\n    }\n\n    /**\n     * @private\n     */\n    _addItems() {\n        return this\n            .addChild(this._settingsTitle)\n            .addChild(this._masterVolumeButton)\n            .addChild(this._musicVolumeButton)\n            .addChild(this._soundsVolumeButton)\n            .addChild(this._backButton);\n    }\n\n    /**\n     * @private\n     */\n    _addPaths() {\n        return this\n            .addPath(this._masterVolumeButton, this._musicVolumeButton, 'down', 'up')\n            .addPath(this._musicVolumeButton, this._soundsVolumeButton, 'down', 'up')\n            .addPath(this._soundsVolumeButton, this._backButton, 'down', 'up')\n            .addPath(this._backButton, this._masterVolumeButton, 'down', 'up');\n    }\n\n    /**\n     * @private\n     */\n    _addActions() {\n        return this\n            .addAction(this._masterVolumeButton, this._onOptionLeftHandler, 'left')\n            .addAction(this._masterVolumeButton, this._onOptionRightHandler, 'right')\n            .addAction(this._musicVolumeButton, this._onOptionLeftHandler, 'left')\n            .addAction(this._musicVolumeButton, this._onOptionRightHandler, 'right')\n            .addAction(this._soundsVolumeButton, this._onOptionLeftHandler, 'left')\n            .addAction(this._soundsVolumeButton, this._onOptionRightHandler, 'right')\n            .addAction(this._backButton, this.openPreviousMenu.bind(this), 'select');\n    }\n\n    /**\n     * @private\n     * @param {MenuAction} action\n     */\n    _onOptionLeft(action) {\n\n    }\n\n    /**\n     * @private\n     * @param {MenuAction} action\n     */\n    _onOptionRight(action) {\n\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./game/src/js/menu/title/SettingsMenu.js"],"sourceRoot":""}