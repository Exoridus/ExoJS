{"version":3,"sources":["webpack:///webpack/bootstrap e21fd38a763da92ba0af","webpack:///./examples/game/src/js/menu/Menu.js","webpack:///./examples/game/src/js/menu/MenuItem.js","webpack:///./examples/game/src/js/index.js","webpack:///./examples/game/src/js/scene/LauncherScene.js","webpack:///./examples/game/src/js/scene/TitleScene.js","webpack:///./examples/game/src/js/menu/title/TitleMenuManager.js","webpack:///./examples/game/src/js/menu/MenuManager.js","webpack:///./examples/game/src/js/menu/title/MainMenu.js","webpack:///./examples/game/src/js/menu/MenuPath.js","webpack:///./examples/game/src/js/menu/MenuAction.js","webpack:///./examples/game/src/js/menu/title/VersionText.js","webpack:///./examples/game/src/js/menu/title/NewGameMenu.js","webpack:///./examples/game/src/js/scene/GameScene.js","webpack:///./examples/game/src/js/map/WorldMap.js","webpack:///./examples/game/src/js/map/MapGenerator.js","webpack:///./examples/game/src/js/map/PerlinNoiseGenerator.js","webpack:///./examples/game/src/js/entity/Player.js","webpack:///./examples/game/src/js/map/Tileset.js","webpack:///./examples/game/src/js/map/AutoTile.js","webpack:///./examples/game/src/js/menu/title/LoadGameMenu.js","webpack:///./examples/game/src/js/menu/title/SettingsMenu.js"],"names":["Menu","game","previousMenu","_game","_paths","_actions","_startChild","_activeChild","_previousMenu","child","reset","activate","fromChild","toChild","fromToDirection","toFromDirection","push","action","input","setActiveChild","delta","update","i","len","length","path","fromItem","toItem","item","updateInput","openPreviousMenu","menu","trigger","destroyChildren","forEach","destroy","value","Exo","Container","MenuItem","text","previousItem","color","fontSize","fontFamily","outlineColor","outlineWidth","ScaleModes","Linear","_ticker","_scalingFactor","_scalingSpeed","setOrigin","setPosition","x","bottom","height","tint","Color","Yellow","time","scalingCenter","scale","Math","sin","PI","setScale","asSeconds","White","Text","window","addEventListener","Game","basePath","width","soundVolume","musicVolume","canvas","loader","requestQuery","Date","now","WebFont","load","classes","custom","families","active","start","Keyboard","Gamepad","degreesToRadians","Utils","LauncherScene","_$launcher","jQuery","removeClass","_$indicator","find","_$indicatorText","_indicatorProgress","_indicatorCanvas","_indicatorContext","getContext","on","resource","index","_renderProgress","addList","then","_openTitleHandler","_openTitle","bind","_playInput","Input","Enter","Start","FaceButtonBottom","addClass","html","off","percentage","context","centerX","centerY","radius","offsetAngle","drawImage","beginPath","moveTo","arc","clip","clearRect","Scene","TitleScene","add","resources","_menuManager","enable","_titleBackground","Sprite","get","_titleMusic","loop","TitleMenuManager","addMenu","openMenu","MenuManager","_menus","Map","_currentMenu","_enabled","_upInput","Up","DPadUp","LeftStickUp","onInputUp","_downInput","Down","LeftStickDown","DPadDown","onInputDown","_leftInput","Left","LeftStickLeft","DPadLeft","onInputLeft","_rightInput","Right","LeftStickRight","DPadRight","onInputRight","_selectInput","onInputSelect","_backInput","Backspace","FaceButtonRight","onInputBack","startMenu","name","set","currentMenu","diplayManager","worldTransform","draw","disable","clear","MainMenu","parentMenu","_gameLogo","Texture","_newGameButton","_loadGameButton","_settingsButton","_versionText","_addItems","_addPaths","_addActions","setStartChild","rotation","addChild","addPath","addAction","MenuPath","_fromItem","_toItem","_input","emptyFunction","MenuAction","_item","_action","VersionText","viewportWidth","viewportHeight","fontSie","NewGameMenu","_newGameTitle","_createWorldButton","_createCharacterButton","_backButton","_onSelectCreateWorld","_onSelectCreateCharacter","clamp","GameScene","_worldMap","_player","pixelWidth","pixelHeight","_camera","View","Rectangle","_backgroundMusic","_paused","_initInputs","_updateCamera","_inputs","y","player","worldMap","move","camera","offsetWidth","offsetHeight","setCenter","toggleMenuInput","Escape","moveUpInput","W","moveDownInput","S","moveLeftInput","A","moveRightInput","D","runningInput","Shift","RightTriggerTop","_toggleMenu","_movePlayer","running","WorldMap","tileset","_width","_height","_tileSize","_tileset","_mapGenerator","_mapData","generate","_tile","setSize","mapData","tileSize","tile","tilesHorizontal","tilesVertical","startTileX","left","startTileY","top","startTileIndex","tilesTotal","setBlock","MapGenerator","_noiseGenerator","_frequency","_octaves","particleMap","Uint8Array","map","choices","getRandomInt","choice","j","currentValue","max","min","getRandomChoice","smoothen","lowX","highX","lowY","highY","average","times","random","PerlinNoiseGenerator","_noise","frequency","octaves","result","Float32Array","turbulence","size","initialSize","getSmoothNoise","noise","roundX","roundY","fractalX","fractalY","x1","y1","x2","y2","FACE_DIRECTION","UP","RIGHT","DOWN","LEFT","playerWidth","playerHeight","Player","texture","_speed","_runningSpeed","_running","_frame","_frameAnimation","FrameAnimation","_setFaceDirection","speed","mag","sqrt","direction","setTextureRect","Tileset","_tiles","water","sand","grass","forest","dirt","stone","_waterLevel","_sandLevel","_grassLevel","_forestLevel","_dirtLevel","level","block","tileRect","AutoTile","_fullRect","_tileRect","copy","LoadGameMenu","_LoadGameTitle","_loadWorldButton","_onSelectLoadWorld","setCurrentScene","SettingsMenu","_settingsTitle","_musicVolumeButton","audioManager","_soundsVolumeButton","_onOptionLeftHandler","_onOptionLeft","_onOptionRightHandler","_onOptionRight","_volumeStep","activeButton","_addMusicVolume","_addSoundVolume","volume"],"mappings":"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","file":"game.build.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap e21fd38a763da92ba0af","import MenuPath from './MenuPath';\nimport MenuAction from './MenuAction';\n\n/**\n * @class Menu\n * @extends {Exo.Container}\n */\nexport default class Menu extends Exo.Container {\n\n    /**\n     * @constructor\n     * @param {Exo.Game} game\n     * @param {String} [previousMenu=null]\n     */\n    constructor(game, previousMenu = null) {\n        super();\n\n        /**\n         * @public\n         * @member {Exo.Game}\n         */\n        this._game = game;\n\n        /**\n         * @public\n         * @member {MenuPath[]}\n         */\n        this._paths = [];\n\n        /**\n         * @public\n         * @member {MenuAction[]}\n         */\n        this._actions = [];\n\n        /**\n         * @public\n         * @member {MenuItem|null}\n         */\n        this._startChild = null;\n\n        /**\n         * @public\n         * @member {MenuItem|null}\n         */\n        this._activeChild = null;\n\n        /**\n         * @public\n         * @member {String|null}\n         */\n        this._previousMenu = previousMenu;\n    }\n\n    /**\n     * @public\n     * @member {String}\n     */\n    get previousMenu() {\n        return this._previousMenu;\n    }\n\n    set previousMenu(value) {\n        this._previousMenu = value || null;\n    }\n\n    /**\n     * @public\n     * @param {MenuItem} child\n     */\n    setStartChild(child) {\n        this._startChild = child;\n    }\n\n    /**\n     * @public\n     * @param {MenuItem} child\n     */\n    setActiveChild(child) {\n        if (this._activeChild) {\n            this._activeChild.reset();\n        }\n\n        this._activeChild = child;\n        child.activate();\n    }\n\n    /**\n     * @public\n     * @param {MenuItem} fromChild\n     * @param {MenuItem} toChild\n     * @param {String} fromToDirection\n     * @param {String} [toFromDirection]\n     */\n    addPath(fromChild, toChild, fromToDirection, toFromDirection) {\n        this._paths.push(new MenuPath(fromChild, toChild, fromToDirection));\n\n        if (toFromDirection) {\n            this._paths.push(new MenuPath(toChild, fromChild, toFromDirection));\n        }\n    }\n\n    /**\n     * @public\n     * @param {MenuItem} child\n     * @param {Function} action\n     * @param {String} [input=select]\n     */\n    addAction(child, action, input) {\n        this._actions.push(new MenuAction(child, action, input || 'select'));\n    }\n\n    /**\n     * @public\n     */\n    activate() {\n        this.setActiveChild(this._startChild);\n    }\n\n    /**\n     * @public\n     * @param {Exo.Time} delta\n     */\n    update(delta) {\n        if (this._activeChild) {\n            this._activeChild.update(delta);\n        }\n    }\n\n    /**\n     * @public\n     */\n    reset() {\n        if (this._activeChild) {\n            this._activeChild.reset();\n            this._activeChild = null;\n        }\n    }\n\n    /**\n     * @public\n     * @param {String} input\n     */\n    updateInput(input) {\n        if (!this._activeChild) {\n            return;\n        }\n\n        for (let i = 0, len = this._paths.length; i < len; i++) {\n            const path = this._paths[i];\n\n            if (path.fromItem === this._activeChild && path.input === input) {\n                this.setActiveChild(path.toItem);\n\n                break;\n            }\n        }\n        \n        for (let i = 0, len = this._actions.length; i < len; i++) {\n            const action = this._actions[i];\n\n            if (action.item === this._activeChild && action.input === input) {\n                action.action(action);\n\n                break;\n            }\n        }\n    }\n\n    /**\n     * @public\n     */\n    onInputUp() {\n        this.updateInput('up');\n    }\n\n    /**\n     * @public\n     */\n    onInputDown() {\n        this.updateInput('down');\n    }\n\n    /**\n     * @public\n     */\n    onInputLeft() {\n        this.updateInput('left');\n    }\n\n    /**\n     * @public\n     */\n    onInputRight() {\n        this.updateInput('right');\n    }\n\n    /**\n     * @public\n     */\n    onInputSelect() {\n        this.updateInput('select');\n    }\n\n    /**\n     * @public\n     */\n    onInputBack() {\n        this.openPreviousMenu();\n    }\n\n    /**\n     * @public\n     * @param {String} menu\n     */\n    openMenu(menu) {\n        this.trigger('openMenu', menu);\n    }\n\n    /**\n     * @public\n     */\n    openPreviousMenu() {\n        this.trigger('openPreviousMenu');\n    }\n\n    /**\n     * @public\n     * @param {Boolean} [destroyChildren=true]\n     */\n    destroy(destroyChildren) {\n        super.destroy(destroyChildren !== false);\n\n        this._paths.forEach((path) => {\n            path.destroy();\n        });\n\n        this._actions.forEach((action) => {\n            action.destroy();\n        });\n\n        this._paths.length = 0;\n        this._paths = null;\n\n        this._actions.length = 0;\n        this._actions = null;\n\n        this._previousMenu = null;\n        this._startChild = null;\n        this._activeChild = null;\n        this._game = null;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./examples/game/src/js/menu/Menu.js","/**\n * @class MenuItem\n * @extends {Exo.Text}\n */\nexport default class MenuItem extends Exo.Text {\n\n    /**\n     * @constructor\n     * @param {String} text\n     * @param {MenuItem} [previousItem=null]\n     */\n    constructor(text, previousItem = null) {\n        super(text, {\n            color: 'white',\n            fontSize: 45,\n            fontFamily: 'AndyBold',\n            outlineColor: 'black',\n            outlineWidth: 5,\n        }, Exo.ScaleModes.Linear);\n\n        /**\n         * @private\n         * @member {Number}\n         */\n        this._ticker = 0;\n\n        /**\n         * @private\n         * @member {Number}\n         */\n        this._scalingFactor = 1.2;\n\n        /**\n         * @private\n         * @member {Number}\n         */\n        this._scalingSpeed = 2;\n\n        this.setOrigin(0.5, 0.5);\n\n        if (previousItem) {\n            this.setPosition(previousItem.x, previousItem.bottom + (this.height * this._scalingFactor / 2));\n        }\n    }\n\n    /**\n     * @public\n     */\n    activate() {\n        this.tint = Exo.Color.Yellow;\n        this._ticker = 0;\n    }\n\n    /**\n     * @public\n     * @param {Exo.Time} delta\n     */\n    update(delta) {\n        const time = this._ticker * this._scalingSpeed,\n            scalingCenter = (this._scalingFactor - 1) / 2,\n            scale = 1 + (Math.sin(time * Math.PI) * scalingCenter) + scalingCenter;\n\n        this.setScale(scale, scale);\n        this._ticker += delta.asSeconds();\n    }\n\n    /**\n     * @public\n     */\n    reset() {\n        this.tint = Exo.Color.White;\n        this.setScale(1, 1);\n        this._ticker = 0;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./examples/game/src/js/menu/MenuItem.js","/* global WebFont */\nimport LauncherScene from './scene/LauncherScene';\n\nwindow.addEventListener('load', () => {\n    const game = new Exo.Game({\n        basePath: 'assets/',\n        width: 1280,\n        height: 720,\n        soundVolume: 0.5,\n        musicVolume: 0.5,\n        canvas: '#game-canvas',\n    });\n\n    game.loader.requestQuery = `?no-cache=${Date.now()}`;\n    // game.loader.database = new Exo.Database('game', 1);\n\n    WebFont.load({\n        classes: false,\n        custom: {\n            families: ['AndyBold'],\n        },\n        active() {\n            game.start(new LauncherScene());\n        },\n    });\n}, false);\n\n\n\n// WEBPACK FOOTER //\n// ./examples/game/src/js/index.js","import TitleScene from './TitleScene';\n\nconst Keyboard = Exo.Keyboard,\n    Gamepad = Exo.Gamepad,\n    degreesToRadians = Exo.Utils.degreesToRadians;\n\n/**\n * @class LauncherScene\n * @extends {Exo.Scene}\n */\nexport default class LauncherScene extends Exo.Scene {\n\n    /**\n     * @override\n     */\n    load(loader) {\n\n        /**\n         * @private\n         * @member {jQuery}\n         */\n        this._$launcher = jQuery('.launcher');\n        this._$launcher.removeClass('hidden');\n\n        /**\n         * @private\n         * @member {jQuery}\n         */\n        this._$indicator = this._$launcher.find('.loading-indicator');\n        this._$indicator.removeClass('finished');\n\n        /**\n         * @private\n         * @member {jQuery}\n         */\n        this._$indicatorText = this._$indicator.find('.indicator-text');\n\n        /**\n         * @private\n         * @member {HTMLImageElement}\n         */\n        this._indicatorProgress = this._$indicator.find('.indicator-progress')[0];\n\n        /**\n         * @private\n         * @member {HTMLCanvasElement}\n         */\n        this._indicatorCanvas = this._$indicator.find('.indicator-canvas')[0];\n\n        /**\n         * @private\n         * @member {CanvasRenderingContext2D}\n         */\n        this._indicatorContext = this._indicatorCanvas.getContext('2d');\n\n        loader\n            .on('progress', (resource, index, length) => {\n                this._renderProgress(index / length * 100);\n            })\n            .addList('image', {\n                'title/logo': 'image/title/logo.png',\n                'game/tileset': 'image/game/tileset.png',\n            })\n            .addList('texture', {\n                'title/background': 'image/title/background.jpg',\n                'game/player': 'image/game/player.png',\n            })\n            .addList('music', {\n                'title/background': 'audio/title/background.ogg',\n                'game/background': 'audio/game/background.ogg',\n            })\n            .load()\n            .then(() => this.game.trigger('scene:start'));\n\n        this._renderProgress(0);\n    }\n\n    /**\n     * @override\n     */\n    init() {\n\n        /**\n         * @private\n         * @member {Function}\n         */\n        this._openTitleHandler = this._openTitle.bind(this);\n\n        /**\n         * @private\n         * @member {Exo.Input}\n         */\n        this._playInput = new Exo.Input([\n            Keyboard.Enter,\n            Gamepad.Start,\n            Gamepad.FaceButtonBottom,\n        ]);\n\n        this._playInput.on('trigger', this._openTitleHandler);\n\n        this._$indicator.addClass('finished');\n        this._$indicatorText.html('PLAY');\n        this._$indicatorText.on('click', this._openTitleHandler);\n\n        this.game.trigger('input:add', this._playInput);\n    }\n\n    /**\n     * @override\n     */\n    unload() {\n        this.game.trigger('input:remove', this._playInput);\n        this._$indicatorText.off('click', this._openTitleHandler);\n\n        this._playInput.destroy();\n        this._playInput = null;\n\n        this._openTitleHandler = null;\n    }\n\n    /**\n     * @override\n     */\n    destroy() {\n        super.destroy();\n\n        this._$launcher.addClass('hidden');\n\n        this._$launcher = null;\n        this._$indicator = null;\n        this._$indicatorText = null;\n        this._indicatorProgress = null;\n        this._indicatorCanvas = null;\n        this._indicatorContext = null;\n    }\n\n    /**\n     * @private\n     * @param {Number} percentage\n     */\n    _renderProgress(percentage) {\n        const context = this._indicatorContext,\n            canvas = this._indicatorCanvas,\n            width = canvas.width,\n            height = canvas.height,\n            centerX = (width / 2) | 0,\n            centerY = (height / 2) | 0,\n            radius = ((centerX + centerY) / 2) | 0,\n            offsetAngle = 270;\n\n        this._$indicatorText.html(`${(percentage | 0)}%`);\n\n        context.drawImage(this._indicatorProgress, 0, 0, width, height);\n        context.beginPath();\n        context.moveTo(centerX, centerY);\n        context.arc(\n            centerX,\n            centerY,\n            radius,\n            degreesToRadians(offsetAngle),\n            degreesToRadians((percentage * 3.6) + offsetAngle),\n            true\n        );\n        context.clip();\n        context.clearRect(0, 0, width, height);\n    }\n\n    /**\n     * @private\n     */\n    _openTitle() {\n        this.game.trigger('scene:change', new TitleScene());\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./examples/game/src/js/scene/LauncherScene.js","import TitleMenuManager from '../menu/title/TitleMenuManager';\n\n/**\n * @class TitleScene\n * @extends {Exo.Scene}\n */\nexport default class TitleScene extends Exo.Scene {\n\n    /**\n     * @override\n     */\n    load(loader) {\n        loader\n            .add('image', 'title/logo', 'image/title/logo.png')\n            .add('texture', 'title/background', 'image/title/background.jpg')\n            .add('music', 'title/background', 'audio/title/background.ogg')\n            .load()\n            .then(() => this.game.trigger('scene:start'));\n    }\n\n    /**\n     * @override\n     */\n    init() {\n        const resources = this.game.loader.resources;\n\n        /**\n         * @private\n         * @member {TitleMenuManager}\n         */\n        this._menuManager = new TitleMenuManager(this.game);\n        this._menuManager.enable('main');\n\n        /**\n         * @private\n         * @member {Exo.Sprite}\n         */\n        this._titleBackground = new Exo.Sprite(resources.get('texture', 'title/background'));\n\n        /**\n         * @private\n         * @member {Exo.Music}\n         */\n        this._titleMusic = resources.get('music', 'title/background');\n\n        this.game.trigger('audio:play', this._titleMusic, {\n            loop: true,\n        });\n    }\n\n    /**\n     * @override\n     */\n    update(delta) {\n        this._menuManager.update(delta);\n\n        this.game\n            .trigger('display:begin')\n            .trigger('display:render', this._titleBackground)\n            .trigger('display:render', this._menuManager)\n            .trigger('display:end');\n    }\n\n    /**\n     * @override\n     */\n    unload() {\n        this._menuManager.destroy();\n        this._menuManager = null;\n\n        this._titleBackground.destroy();\n        this._titleBackground = null;\n\n        this._titleMusic.destroy();\n        this._titleMusic = null;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./examples/game/src/js/scene/TitleScene.js","import MenuManager from '../MenuManager';\nimport MainMenu from './MainMenu';\nimport NewGameMenu from './NewGameMenu';\nimport LoadGameMenu from './LoadGameMenu';\nimport SettingsMenu from './SettingsMenu';\n\n/**\n * @class TitleMenuManager\n * @extends {MenuManager}\n */\nexport default class TitleMenuManager extends MenuManager {\n\n    /**\n     * @constructor\n     * @param {Exo.Game} game\n     */\n    constructor(game) {\n        super(game);\n\n        this.addMenu('main', new MainMenu(game));\n        this.addMenu('newGame', new NewGameMenu(game, 'main'));\n        this.addMenu('loadGame', new LoadGameMenu(game, 'main'));\n        this.addMenu('settings', new SettingsMenu(game, 'main'));\n\n        this.openMenu('main');\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./examples/game/src/js/menu/title/TitleMenuManager.js","const Keyboard = Exo.Keyboard,\n    Gamepad = Exo.Gamepad;\n\n/**\n * @class MenuManager\n */\nexport default class MenuManager {\n\n    /**\n     * @constructor\n     * @param {Exo.Game} game\n     */\n    constructor(game) {\n\n        /**\n         * @private\n         * @member {Exo.Game}\n         */\n        this._game = game;\n\n        /**\n         * @private\n         * @member {Map<String, Menu>}\n         */\n        this._menus = new Map();\n\n        /**\n         * @private\n         * @member {Menu|null}\n         */\n        this._currentMenu = null;\n\n        /**\n         * @private\n         * @member {Boolean}\n         */\n        this._enabled = false;\n\n        /**\n         * @private\n         * @member {Exo.Input}\n         */\n        this._upInput = new Exo.Input([\n            Keyboard.Up,\n            Gamepad.DPadUp,\n            Gamepad.LeftStickUp,\n        ]);\n\n        this._upInput.on('start', this.onInputUp, this);\n\n        /**\n         * @private\n         * @member {Exo.Input}\n         */\n        this._downInput = new Exo.Input([\n            Keyboard.Down,\n            Gamepad.LeftStickDown,\n            Gamepad.DPadDown,\n        ]);\n\n        this._downInput.on('start', this.onInputDown, this);\n\n        /**\n         * @private\n         * @member {Exo.Input}\n         */\n        this._leftInput = new Exo.Input([\n            Keyboard.Left,\n            Gamepad.LeftStickLeft,\n            Gamepad.DPadLeft,\n        ]);\n\n        this._leftInput.on('start', this.onInputLeft, this);\n\n        /**\n         * @private\n         * @member {Exo.Input}\n         */\n        this._rightInput = new Exo.Input([\n            Keyboard.Right,\n            Gamepad.LeftStickRight,\n            Gamepad.DPadRight,\n        ]);\n\n        this._rightInput.on('start', this.onInputRight, this);\n\n        /**\n         * @private\n         * @member {Exo.Input}\n         */\n        this._selectInput = new Exo.Input([\n            Keyboard.Enter,\n            Gamepad.FaceButtonBottom,\n        ]);\n\n        this._selectInput.on('start', this.onInputSelect, this);\n\n        /**\n         * @private\n         * @member {Exo.Input}\n         */\n        this._backInput = new Exo.Input([\n            Keyboard.Backspace,\n            Gamepad.FaceButtonRight,\n        ]);\n\n        this._backInput.on('start', this.onInputBack, this);\n    }\n\n    /**\n     * @private\n     */\n    onInputUp() {\n        if (this._currentMenu) {\n            this._currentMenu.onInputUp();\n        }\n    }\n\n    /**\n     * @private\n     */\n    onInputDown() {\n        if (this._currentMenu) {\n            this._currentMenu.onInputDown();\n        }\n    }\n\n    /**\n     * @private\n     */\n    onInputLeft() {\n        if (this._currentMenu) {\n            this._currentMenu.onInputLeft();\n        }\n    }\n\n    /**\n     * @private\n     */\n    onInputRight() {\n        if (this._currentMenu) {\n            this._currentMenu.onInputRight();\n        }\n    }\n\n    /**\n     * @private\n     */\n    onInputSelect() {\n        if (this._currentMenu) {\n            this._currentMenu.onInputSelect();\n        }\n    }\n\n    /**\n     * @private\n     */\n    onInputBack() {\n        if (this._currentMenu) {\n            this._currentMenu.onInputBack();\n        }\n    }\n\n    /**\n     * @public\n     * @param {String} startMenu\n     */\n    enable(startMenu) {\n        if (this._enabled) {\n            return;\n        }\n\n        this._enabled = true;\n\n        this._game.trigger('input:add', [\n            this._upInput,\n            this._downInput,\n            this._leftInput,\n            this._rightInput,\n            this._selectInput,\n            this._backInput,\n        ]);\n\n        this.openMenu(startMenu);\n    }\n\n    /**\n     * @public\n     */\n    disable() {\n        if (!this._enabled) {\n            return;\n        }\n\n        this._enabled = false;\n\n        this._game.trigger('input:remove', [\n            this._upInput,\n            this._downInput,\n            this._leftInput,\n            this._rightInput,\n            this._selectInput,\n            this._backInput,\n        ]);\n\n        if (this._currentMenu) {\n            this._currentMenu.reset();\n            this._currentMenu = null;\n        }\n    }\n\n    /**\n     * @public\n     * @param {String} name\n     * @param {Menu} menu\n     * @param {String} [previousMenu=null]\n     */\n    addMenu(name, menu, previousMenu) {\n        if (previousMenu) {\n            menu.previousMenu = previousMenu;\n        }\n\n        this._menus.set(name, menu);\n\n        menu.on('openMenu', this.openMenu, this);\n        menu.on('openPreviousMenu', this.openPreviousMenu, this);\n    }\n\n    /**\n     * @public\n     * @param {String} name\n     */\n    openMenu(name) {\n        if (this._currentMenu) {\n            this._currentMenu.reset();\n        }\n\n        this._currentMenu = this._menus.get(name) || null;\n\n        if (this._currentMenu) {\n            this._currentMenu.activate();\n        }\n    }\n\n    /**\n     * @public\n     */\n    openPreviousMenu() {\n        const currentMenu = this._currentMenu;\n\n        if (currentMenu && currentMenu.previousMenu) {\n            this.openMenu(currentMenu.previousMenu);\n        }\n    }\n\n    /**\n     * @public\n     * @param {Exo.Time} delta\n     */\n    update(delta) {\n        if (this._currentMenu) {\n            this._currentMenu.update(delta);\n        }\n    }\n\n    /**\n     * @public\n     * @param {Exo.DisplayManager} diplayManager\n     * @param {Exo.Transform} worldTransform\n     */\n    draw(diplayManager, worldTransform) {\n        if (this._currentMenu) {\n            this._currentMenu.draw(diplayManager, worldTransform);\n        }\n    }\n\n    /**\n     * @public\n     * @param {Boolean} [destroyChildren=false]\n     */\n    destroy() {\n        if (this._enabled) {\n            this.disable();\n        }\n\n        this._menus.forEach((menu) => {\n            menu.destroy();\n        });\n        this._menus.clear();\n        this._menus = null;\n\n        this._upInput.destroy();\n        this._upInput = null;\n\n        this._downInput.destroy();\n        this._downInput = null;\n\n        this._leftInput.destroy();\n        this._leftInput = null;\n\n        this._rightInput.destroy();\n        this._rightInput = null;\n\n        this._selectInput.destroy();\n        this._selectInput = null;\n\n        this._backInput.destroy();\n        this._backInput = null;\n\n        this._currentMenu = null;\n        this._game = null;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./examples/game/src/js/menu/MenuManager.js","import Menu from '../Menu';\nimport MenuItem from '../MenuItem';\nimport VersionText from './VersionText';\n\n/**\n * @class MainMenu\n * @extends {Menu}\n */\nexport default class MainMenu extends Menu {\n\n    /**\n     * @constructor\n     * @param {Exo.Game} game\n     * @param {String} parentMenu\n     */\n    constructor(game, parentMenu = null) {\n        super(game, parentMenu);\n\n        const canvas = game.canvas,\n            resources = game.loader.resources;\n\n        /**\n         * @private\n         * @member {Exo.Sprite}\n         */\n        this._gameLogo = new Exo.Sprite(new Exo.Texture(resources.get('image', 'title/logo'), Exo.ScaleModes.Linear));\n        this._gameLogo.setOrigin(0.5, 0.8);\n        this._gameLogo.setPosition(canvas.width / 2, 50 + (this._gameLogo.height * 0.8));\n\n        /**\n         * @private\n         * @member {MenuItem}\n         */\n        this._newGameButton = new MenuItem('New Game');\n        this._newGameButton.setPosition(canvas.width / 2, canvas.height / 2);\n\n        /**\n         * @private\n         * @member {MenuItem}\n         */\n        this._loadGameButton = new MenuItem('Load Game', this._newGameButton);\n\n        /**\n         * @private\n         * @member {MenuItem}\n         */\n        this._settingsButton = new MenuItem('Settings', this._loadGameButton);\n\n        /**\n         * @private\n         * @member {VersionText}\n         */\n        this._versionText = new VersionText('Ver. 0.0.1', canvas.width, canvas.height);\n\n        /**\n         * @private\n         * @member {Number}\n         */\n        this._ticker = 0;\n\n        this._addItems();\n        this._addPaths();\n        this._addActions();\n\n        this.setStartChild(this._newGameButton);\n    }\n\n    /**\n     * @override\n     */\n    update(delta) {\n        if (this._activeChild) {\n            this._activeChild.update(delta);\n        }\n\n        this._ticker += delta.asSeconds();\n        this._gameLogo.rotation = Math.sin(this._ticker * Math.PI / 2) * 10;\n    }\n\n    /**\n     * @override\n     */\n    reset() {\n        if (this._activeChild) {\n            this._activeChild.reset();\n        }\n\n        this._ticker = 0;\n        this._gameLogo.rotation = 0;\n    }\n\n    _addItems() {\n        this.addChild(this._gameLogo);\n        this.addChild(this._versionText);\n        this.addChild(this._newGameButton);\n        this.addChild(this._loadGameButton);\n        this.addChild(this._settingsButton);\n    }\n\n    _addPaths() {\n        this.addPath(this._newGameButton, this._loadGameButton, 'down', 'up');\n        this.addPath(this._loadGameButton, this._settingsButton, 'down', 'up');\n        this.addPath(this._settingsButton, this._newGameButton, 'down', 'up');\n    }\n\n    _addActions() {\n        this.addAction(this._newGameButton, this.openMenu.bind(this, 'newGame'), 'select');\n        this.addAction(this._loadGameButton, this.openMenu.bind(this, 'loadGame'), 'select');\n        this.addAction(this._settingsButton, this.openMenu.bind(this, 'settings'), 'select');\n    }\n\n    /**\n     * @override\n     */\n    destroy() {\n        super.destroy();\n\n        this._gameLogo = null;\n        this._versionText = null;\n        this._newGameButton = null;\n        this._loadGameButton = null;\n        this._settingsButton = null;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./examples/game/src/js/menu/title/MainMenu.js","/**\n * @class MenuPath\n */\nexport default class MenuPath {\n\n    /**\n     * @constructor\n     * @param {MenuItem} fromItem\n     * @param {MenuItem} toItem\n     * @param {String} input\n     */\n    constructor(fromItem, toItem, input) {\n\n        /**\n         * @private\n         * @member {MenuItem}\n         */\n        this._fromItem = fromItem;\n\n        /**\n         * @private\n         * @member {MenuItem}\n         */\n        this._toItem = toItem;\n\n        /**\n         * @private\n         * @member {String}\n         */\n        this._input = input;\n    }\n\n    /**\n     * @public\n     * @member {MenuItem}\n     */\n    get fromItem() {\n        return this._fromItem;\n    }\n\n    set fromItem(value) {\n        this._fromItem = value;\n    }\n\n    /**\n     * @public\n     * @member {MenuItem}\n     */\n    get toItem() {\n        return this._toItem;\n    }\n\n    set toItem(value) {\n        this._toItem = value;\n    }\n\n    /**\n     * @public\n     * @member {String}\n     */\n    get input() {\n        return this._input;\n    }\n\n    set input(value) {\n        this._input = value;\n    }\n\n    /**\n     * @public\n     */\n    destroy() {\n        this._fromItem = null;\n        this._toItem = null;\n        this._input = null;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./examples/game/src/js/menu/MenuPath.js","const emptyFunction = () => {\n    // do nothing\n};\n\n/**\n * @class MenuAction\n */\nexport default class MenuAction {\n\n    /**\n     * @constructor\n     * @param {MenuItem} item\n     * @param {Function} action\n     * @param {String} [input=select]\n     */\n    constructor(item, action, input = 'select') {\n\n        /**\n         * @private\n         * @member {MenuItem}\n         */\n        this._item = item;\n\n        /**\n         * @private\n         * @member {Function}\n         */\n        this._action = action || emptyFunction;\n\n        /**\n         * @private\n         * @member {String}\n         */\n        this._input = input;\n    }\n\n    /**\n     * @public\n     * @member {MenuItem}\n     * @memberof MenuAction#\n     */\n    get item() {\n        return this._item;\n    }\n\n    set item(value) {\n        this._item = value;\n    }\n\n    /**\n     * @public\n     * @member {Function}\n     * @memberof MenuAction#\n     */\n    get action() {\n        return this._action;\n    }\n\n    set action(value) {\n        this._action = value;\n    }\n\n    /**\n     * @public\n     * @member {String}\n     * @memberof MenuAction#\n     */\n    get input() {\n        return this._input;\n    }\n\n    set input(value) {\n        this._input = value;\n    }\n\n    /**\n     * @public\n     */\n    destroy() {\n        this._item = null;\n        this._action = null;\n        this._input = null;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./examples/game/src/js/menu/MenuAction.js","/**\n * @class VersionText\n * @extends {Exo.Text}\n */\nexport default class VersionText extends Exo.Text {\n\n    /**\n     * @constructor\n     * @param {String} text\n     * @param {Number} viewportWidth\n     * @param {Number} viewportHeight\n     */\n    constructor(text, viewportWidth, viewportHeight) {\n        super(text, {\n            color: 'white',\n            fontSie: 25,\n            fontFamily: 'AndyBold',\n            outlineColor: 'black',\n            outlineWidth: 3,\n        }, Exo.ScaleModes.Linear);\n\n        this.setOrigin(1, 1);\n        this.setPosition(viewportWidth - 10, viewportHeight);\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./examples/game/src/js/menu/title/VersionText.js","import Menu from '../Menu';\nimport MenuItem from '../MenuItem';\nimport GameScene from '../../scene/GameScene';\n\n/**\n * @class NewGameMenu\n * @extends {Menu}\n */\nexport default class NewGameMenu extends Menu {\n\n    /**\n     * @constructor\n     * @param {Exo.Game} game\n     * @param {String|null} [parentMenu=null]\n     */\n    constructor(game, parentMenu) {\n        super(game, parentMenu);\n\n        const canvas = game.canvas;\n\n        /**\n         * @private\n         * @member {MenuItem}\n         */\n        this._newGameTitle = new MenuItem('New Game:');\n        this._newGameTitle.setPosition(canvas.width / 2, canvas.height / 3);\n\n        /**\n         * @private\n         * @member {MenuItem}\n         */\n        this._createWorldButton = new MenuItem('Create World', this._newGameTitle);\n\n        /**\n         * @private\n         * @member {MenuItem}\n         */\n        this._createCharacterButton = new MenuItem('Create Character', this._createWorldButton);\n\n        /**\n         * @private\n         * @member {MenuItem}\n         */\n        this._backButton = new MenuItem('Back', this._createCharacterButton);\n\n        this._addItems();\n        this._addPaths();\n        this._addActions();\n\n        this.setStartChild(this._createWorldButton);\n    }\n\n    _addItems() {\n        this.addChild(this._newGameTitle);\n        this.addChild(this._createWorldButton);\n        this.addChild(this._createCharacterButton);\n        this.addChild(this._backButton);\n    }\n\n    _addPaths() {\n        this.addPath(this._createWorldButton, this._createCharacterButton, 'down', 'up');\n        this.addPath(this._createCharacterButton, this._backButton, 'down', 'up');\n        this.addPath(this._backButton, this._createWorldButton, 'down', 'up');\n    }\n\n    _addActions() {\n        this.addAction(this._createWorldButton, this._onSelectCreateWorld.bind(this), 'select');\n        this.addAction(this._createCharacterButton, this._onSelectCreateCharacter.bind(this), 'select');\n        this.addAction(this._backButton, this.openPreviousMenu.bind(this), 'select');\n    }\n\n    _onSelectCreateWorld() {\n        this._game.trigger('scene:change', new GameScene());\n    }\n\n    _onSelectCreateCharacter() {\n        this._game.trigger('scene:change', new GameScene());\n    }\n\n    destroy() {\n        super.destroy();\n\n        this._newGameTitle = null;\n        this._createWorldButton = null;\n        this._createCharacterButton = null;\n        this._backButton = null;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./examples/game/src/js/menu/title/NewGameMenu.js","import WorldMap from '../map/WorldMap';\nimport Player from '../entity/Player';\nimport Tileset from '../map/Tileset';\n\nconst Keyboard = Exo.Keyboard,\n    Gamepad = Exo.Gamepad,\n    clamp = Exo.Utils.clamp;\n\n/**\n * @class GameScene\n * @extends {Exo.Scene}\n */\nexport default class GameScene extends Exo.Scene {\n\n    /**\n     * @override\n     */\n    load(loader) {\n        loader\n            .add('image', 'game/tileset', 'images/game/tileset.png')\n            .addList('texture', {\n                'game/player': 'images/game/player.png',\n            })\n            .addList('music', {\n                'game/background': 'audio/game/background.ogg',\n            })\n            .load()\n            .then(() => this.game.trigger('scene:start'));\n    }\n\n    /**\n     * @override\n     */\n    init() {\n        const game = this.game,\n            resources = game.loader.resources;\n\n        /**\n         * @private\n         * @member {WorldMap}\n         */\n        this._worldMap = new WorldMap(new Tileset(resources.get('image', 'game/tileset'), 32));\n\n        /**\n         * @private\n         * @member {Player}\n         */\n        this._player = new Player(resources.get('texture', 'game/player'));\n        this._player.setPosition(this._worldMap.pixelWidth / 2, this._worldMap.pixelHeight / 2);\n\n        /**\n         * @private\n         * @member {Exo.View}\n         */\n        this._camera = new Exo.View(new Exo.Rectangle(0, 0, game.canvas.width, game.canvas.height));\n\n        /**\n         * @private\n         * @member {Exo.Music}\n         */\n        this._backgroundMusic = resources.get('music', 'game/background');\n\n        /**\n         * @private\n         * @member {Boolean}\n         */\n        this._paused = false;\n\n        game.trigger('audio:play', this._backgroundMusic, {\n            loop: true,\n        });\n\n        this._initInputs();\n        this._updateCamera();\n    }\n\n    /**\n     * @override\n     */\n    update(delta) {\n        this._worldMap.draw(this.game, this._camera);\n\n        this.game\n            .trigger('display:begin')\n            .trigger('display:render', this._player)\n            .trigger('display:end');\n    }\n\n    /**\n     * @override\n     */\n    unload() {\n        this.game.trigger('input:remove', this._inputs, true);\n\n        this._worldMap.destroy();\n        this._worldMap = null;\n\n        this._player.destroy();\n        this._player = null;\n\n        this._camera.destroy();\n        this._camera = null;\n\n        this._backgroundMusic.destroy();\n        this._backgroundMusic = null;\n\n        this._inputs.length = 0;\n        this._inputs = null;\n    }\n\n    /**\n     * @private\n     */\n    _toggleMenu() {\n        this._paused = !this._paused;\n\n        if (this._paused) {\n            // show pause menu\n        } else {\n            // hide pause menu\n        }\n    }\n\n    /**\n     * @private\n     * @param {Number} x\n     * @param {Number} y\n     */\n    _movePlayer(x, y) {\n        const player = this._player,\n            worldMap = this._worldMap;\n\n        player.move(x, y);\n\n        player.setPosition(\n            clamp(player.x, 0, worldMap.pixelWidth),\n            clamp(player.y, 0, worldMap.pixelHeight)\n        );\n\n        this._updateCamera();\n    }\n\n    /**\n     * @private\n     */\n    _updateCamera() {\n        const player = this._player,\n            worldMap = this._worldMap,\n            camera = this._camera,\n            offsetWidth = camera.width / 2,\n            offsetHeight = camera.height / 2;\n\n        camera.setCenter(\n            clamp(player.x, offsetWidth, worldMap.pixelWidth - offsetWidth),\n            clamp(player.y, offsetHeight, worldMap.pixelHeight - offsetHeight)\n        );\n\n        this.game.trigger('view:update', camera);\n    }\n\n    /**\n     * @private\n     */\n    _initInputs() {\n        const toggleMenuInput = new Exo.Input([\n                Keyboard.Escape,\n                Gamepad.Start,\n            ]),\n            moveUpInput = new Exo.Input([\n                Keyboard.Up,\n                Keyboard.W,\n                Gamepad.LeftStickUp,\n                Gamepad.DPadUp,\n            ]),\n            moveDownInput = new Exo.Input([\n                Keyboard.Down,\n                Keyboard.S,\n                Gamepad.LeftStickDown,\n                Gamepad.DPadDown,\n            ]),\n            moveLeftInput = new Exo.Input([\n                Keyboard.Left,\n                Keyboard.A,\n                Gamepad.LeftStickLeft,\n                Gamepad.DPadLeft,\n            ]),\n            moveRightInput = new Exo.Input([\n                Keyboard.Right,\n                Keyboard.D,\n                Gamepad.LeftStickRight,\n                Gamepad.DPadRight,\n            ]),\n            runningInput = new Exo.Input([\n                Keyboard.Shift,\n                Gamepad.RightTriggerTop,\n            ]);\n\n        toggleMenuInput.on('trigger', this._toggleMenu, this);\n\n        moveUpInput.on('active', (value) => {\n            this._movePlayer(0, value * -1);\n        });\n\n        moveDownInput.on('active', (value) => {\n            this._movePlayer(0, value);\n        });\n\n        moveLeftInput.on('active', (value) => {\n            this._movePlayer(value * -1, 0);\n        });\n\n        moveRightInput.on('active', (value) => {\n            this._movePlayer(value, 0);\n        });\n\n        runningInput\n            .on('start', () => {\n                this._player.running = true;\n            })\n            .on('stop', () => {\n                this._player.running = false;\n            });\n\n        this._inputs = [\n            toggleMenuInput,\n            moveUpInput,\n            moveDownInput,\n            moveLeftInput,\n            moveRightInput,\n            runningInput,\n        ];\n\n        this.game.trigger('input:add', this._inputs);\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./examples/game/src/js/scene/GameScene.js","import MapGenerator from './MapGenerator';\n\nconst clamp = Exo.Utils.clamp;\n\n/**\n * @class WorldMap\n */\nexport default class WorldMap {\n\n    /**\n     * @constructor\n     * @param {Tileset} tileset\n     */\n    constructor(tileset) {\n\n        /**\n         * @private\n         * @member {Number}\n         */\n        this._width = 256;\n\n        /**\n         * @private\n         * @member {Number}\n         */\n        this._height = 256;\n\n        /**\n         * @private\n         * @member {Number}\n         */\n        this._tileSize = 64;\n\n        /**\n         * @private\n         * @member {Tileset}\n         */\n        this._tileset = tileset;\n\n        /**\n         * @private\n         * @member {MapGenerator}\n         */\n        this._mapGenerator = new MapGenerator();\n\n        /**\n         * @private\n         * @member {Number[]}\n         */\n        this._mapData = this._mapGenerator.generate(this._width, this._height);\n\n        /**\n         * @private\n         * @member {Exo.Sprite}\n         */\n        this._tile = new Exo.Sprite(tileset);\n        this._tile.setSize(this._tileSize, this._tileSize);\n    }\n\n    /**\n     * @public\n     * @readonly\n     * @member {Number}\n     */\n    get pixelWidth() {\n        return this._width * this._tileSize;\n    }\n\n    /**\n     * @public\n     * @readonly\n     * @member {Number}\n     */\n    get pixelHeight() {\n        return this._height * this._tileSize;\n    }\n\n    /**\n     * @public\n     * @param {Exo.Game} game\n     * @param {Exo.View} camera\n     */\n    draw(game, camera) {\n        const width = this._width,\n            height = this._height,\n            mapData = this._mapData,\n            tileset = this._tileset,\n            tileSize = this._tileSize,\n            tile = this._tile,\n            tilesHorizontal = ((camera.width / tileSize) + 2) | 0,\n            tilesVertical = ((camera.height / tileSize) + 2) | 0,\n            startTileX = clamp(camera.left / tileSize, 0, width - tilesHorizontal) | 0,\n            startTileY = clamp(camera.top / tileSize, 0, height - tilesVertical) | 0,\n            startTileIndex = (startTileY * width) + startTileX,\n            tilesTotal = tilesHorizontal * tilesVertical;\n\n        game.trigger('display:begin');\n\n        for (let i = 0; i < tilesTotal; i++) {\n            const x = (i % tilesHorizontal) | 0,\n                y = (i / tilesHorizontal) | 0,\n                index = startTileIndex + ((y * width) + x);\n\n            tileset.setBlock(tile, mapData[index]);\n\n            tile.x = (startTileX + x) * tileSize;\n            tile.y = (startTileY + y) * tileSize;\n\n            game.trigger('display:render', tile);\n        }\n\n        game.trigger('display:end');\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./examples/game/src/js/map/WorldMap.js","import PerlinNoiseGenerator from './PerlinNoiseGenerator';\n\n/**\n * @class MapGenerator\n */\nexport default class MapGenerator {\n\n    /**\n     * @constructor\n     */\n    constructor() {\n\n        /**\n         * @private\n         * @member {PerlinNoiseGenerator}\n         */\n        this._noiseGenerator = new PerlinNoiseGenerator();\n\n        /**\n         * @private\n         * @member {Number}\n         */\n        this._frequency = 1;\n\n        /**\n         * @private\n         * @member {Number}\n         */\n        this._octaves = 16;\n    }\n\n    /**\n     * @public\n     * @param {Number} width\n     * @param {Number} height\n     * @returns {Number[]}\n     */\n    generate(width, height) {\n        const particleMap = new Uint8Array(width * height),\n            map = this._noiseGenerator.generate(width, height, this._frequency, this._octaves);\n\n        for (let i = 0; i < ~~((width * height) * (0.85)); i++) {\n            const choices = [];\n\n            let x = MapGenerator.getRandomInt(15, width - 16),\n                y = MapGenerator.getRandomInt(15, height - 16),\n                choice;\n\n            for (let j = 0; j < ~~((width * height) * (0.05)); j++) {\n                const index = (y * width) + x,\n                    currentValue = particleMap[index] = Math.max(0, Math.min(255, particleMap[index] + 7));\n\n                choices.length = 0;\n\n                if ((x - 1 > 0) && (particleMap[index - 1] <= currentValue)) {\n                    choices.push({\n                        x: -1,\n                        y: 0,\n                    });\n                }\n\n                if ((x + 1 < width - 1) && (particleMap[index + 1] <= currentValue)) {\n                    choices.push({\n                        x: 1,\n                        y: 0,\n                    });\n                }\n\n                if ((y - 1 > 0) && (particleMap[index - width] <= currentValue)) {\n                    choices.push({\n                        x: 0,\n                        y: -1,\n                    });\n                }\n\n                if ((y + 1 < height - 1) && (particleMap[index + width] <= currentValue)) {\n                    choices.push({\n                        x: 0,\n                        y: 1,\n                    });\n                }\n\n                if (choices.length === 0) {\n                    break;\n                }\n\n                choice = MapGenerator.getRandomChoice(choices);\n\n                x += choice.x;\n                y += choice.y;\n            }\n        }\n\n        for (let y = 0; y < height; y++) {\n            for (let x = 0; x < width; x++) {\n                const index = (y * width) + x;\n\n                map[index] *= (particleMap[index] / 255);\n            }\n        }\n\n        MapGenerator.smoothen(map, width, height);\n\n        return map;\n    }\n\n    /**\n     * @public\n     * @static\n     * @param {Number[]} map\n     * @param {Number} width\n     * @param {Number} height\n     */\n    static smoothen(map, width, height) {\n        for (let y = 0; y < height; y++) {\n            for (let x = 0; x < width; x++) {\n                const lowX = x - 1,\n                    highX = x + 1,\n                    lowY = y - 1,\n                    highY = y + 1;\n\n                let average = 0,\n                    times = 0;\n\n                if (lowX >= 0) {\n                    average += map[(y * width) + lowX];\n                    times++;\n                }\n\n                if (highX < width - 1) {\n                    average += map[(y * width) + highX];\n                    times++;\n                }\n\n                if (lowY >= 0) {\n                    average += map[(lowY * width) + x];\n                    times++;\n                }\n\n                if (highY < height - 1) {\n                    average += map[(highY * width) + x];\n                    times++;\n                }\n\n                if (lowX >= 0 && lowY >= 0) {\n                    average += map[(lowY * width) + lowX];\n                    times++;\n                }\n\n                if (highX < width && lowY >= 0) {\n                    average += map[(lowY * width) + highX];\n                    times++;\n                }\n\n                if (lowX >= 0 && highY < height) {\n                    average += map[(highY * width) + lowX];\n                    times++;\n                }\n\n                if (highX < width && highY < height) {\n                    average += map[(highY * width) + highX];\n                    times++;\n                }\n\n                average += map[(y * width) + x];\n                times++;\n\n                map[(y * width) + x] = average / times;\n            }\n        }\n    }\n\n    /**\n     * @public\n     * @static\n     * @param {Number} min\n     * @param {Number} max\n     * @returns {Number}\n     */\n    static getRandomInt(min, max) {\n        return (Math.random() * (max - min + 1) | 0) + min;\n    }\n\n    /**\n     * @public\n     * @static\n     * @param {Object[]} choices\n     * @returns {Object}\n     */\n    static getRandomChoice(choices) {\n        return choices[(Math.random() * choices.length) | 0];\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./examples/game/src/js/map/MapGenerator.js","/**\n * @class PerlinNoiseGenerator\n */\nexport default class PerlinNoiseGenerator {\n\n    /**\n     * @constructor\n     */\n    constructor() {\n\n        /**\n         * @private\n         * @member {Float32Array|null}\n         */\n        this._noise = null;\n\n        /**\n         * @private\n         * @member {Number}\n         */\n        this._width = 0;\n\n        /**\n         * @private\n         * @member {Number}\n         */\n        this._height = 0;\n    }\n\n    /**\n     * @public\n     * @param {Number} width\n     * @param {Number} height\n     * @param {Number} frequency\n     * @param {Number} octaves\n     * @returns {Number[]}\n     */\n    generate(width, height, frequency, octaves) {\n        const result = [],\n            length = width * height;\n\n        if (!this._noise || width !== this._width || height !== this._height) {\n            this._noise = new Float32Array(length);\n            this._width = width;\n            this._height = height;\n        }\n\n        for (let i = 0; i < length; i++) {\n            this._noise[i] = Math.random();\n        }\n\n        for (let i = 0; i < length; i++) {\n            result[i] = (this.turbulence((i % width) * frequency, (i / width) * frequency, octaves)) | 0;\n        }\n\n        return result;\n    }\n\n    /**\n     * @public\n     * @param {Number} x\n     * @param {Number} y\n     * @param {Number} size\n     * @returns {Number}\n     */\n    turbulence(x, y, size) {\n        const initialSize = size;\n        let value = 0;\n\n        while (size >= 1) {\n            value += this.getSmoothNoise(x / size, y / size) * size;\n            size /= 2;\n        }\n\n        return 128 * value / initialSize;\n    }\n\n    /**\n     * @public\n     * @param {Number} x\n     * @param {Number} y\n     * @returns {Number}\n     */\n    getSmoothNoise(x, y) {\n        const noise = this._noise,\n            width = this._width,\n            height = this._height,\n            roundX = ~~(x),\n            roundY = ~~(y),\n            fractalX = x - roundX,\n            fractalY = y - roundY,\n            x1 = (roundX + width) % width,\n            y1 = (roundY + height) % height,\n            x2 = (x1 + width - 1) % width,\n            y2 = (y1 + height - 1) % height;\n\n        let value = fractalX * fractalY * noise[(y1 * width) + x1];\n\n        value += fractalX * (1 - fractalY) * noise[(y2 * width) + x1];\n        value += (1 - fractalX) * fractalY * noise[(y1 * width) + x2];\n        value += (1 - fractalX) * (1 - fractalY) * noise[(y2 * width) + x2];\n\n        return value;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./examples/game/src/js/map/PerlinNoiseGenerator.js","const FACE_DIRECTION = {\n        UP: 0,\n        RIGHT: 1,\n        DOWN: 2,\n        LEFT: 3,\n    },\n    playerWidth = 96,\n    playerHeight = 96;\n\n/**\n * @class Player\n * @extends {Exo.Sprite}\n */\nexport default class Player extends Exo.Sprite {\n\n    /**\n     * @constructor\n     * @param {Exo.Texture} texture\n     */\n    constructor(texture) {\n        super(texture);\n\n        /**\n         * @private\n         * @member {Number}\n         */\n        this._speed = 2;\n\n        /**\n         * @private\n         * @member {Number}\n         */\n        this._runningSpeed = 5;\n\n        /**\n         * @private\n         * @member {Boolean}\n         */\n        this._running = false;\n\n        /**\n         * @private\n         * @member {Exo.Rectangle}\n         */\n        this._frame = new Exo.Rectangle(0, 0, playerWidth, playerHeight);\n\n        /**\n         * @private\n         * @member {Exo.FrameAnimation}\n         */\n        this._frameAnimation = new Exo.FrameAnimation();\n\n        this.setOrigin(0.5, 1);\n        this.setPosition(640, 320);\n        this._setFaceDirection(FACE_DIRECTION.DOWN);\n    }\n\n    /**\n     * @override\n     */\n    move(x, y) {\n        const speed = this._running ? this._runningSpeed : this._speed,\n            mag = Math.sqrt((x * x) + (y * y));\n\n        this.setPosition(\n            this.x + ((mag > 1 ? (x / mag) : x) * speed),\n            this.y + ((mag > 1 ? (y / mag) : y) * speed)\n        );\n\n        if (x > 0) {\n            this._setFaceDirection(FACE_DIRECTION.RIGHT);\n        } else if (x < 0) {\n            this._setFaceDirection(FACE_DIRECTION.LEFT);\n        }\n\n        if (y > 0.5) {\n            this._setFaceDirection(FACE_DIRECTION.DOWN);\n        } else if (y < -0.5) {\n            this._setFaceDirection(FACE_DIRECTION.UP);\n        }\n    }\n\n    /**\n     * @private\n     * @param {Number} direction\n     */\n    _setFaceDirection(direction) {\n        this._frame.x = direction * playerWidth;\n        this._frame.y = 0;\n\n        this.setTextureRect(this._frame);\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./examples/game/src/js/entity/Player.js","import AutoTile from './AutoTile';\n\n/**\n * @class Tileset\n * @extends {Exo.Texture}\n */\nexport default class Tileset extends Exo.Texture {\n\n    /**\n     * @constructor\n     * @param {HTMLImageElement} tileset\n     * @param {Number} tileSize\n     */\n    constructor(tileset, tileSize) {\n        super(tileset);\n\n        /**\n         * @private\n         * @member {Number}\n         */\n        this._tileSize = tileSize;\n\n        /**\n         * @private\n         * @member {Object<String, AutoTile>}\n         */\n        this._tiles = {\n            water: new AutoTile(5, 1, tileSize),\n            sand: new AutoTile(0, 1, tileSize),\n            grass: new AutoTile(0, 0, tileSize),\n            forest: new AutoTile(2, 0, tileSize),\n            dirt: new AutoTile(1, 0, tileSize),\n            stone: new AutoTile(3, 0, tileSize),\n        };\n\n        /**\n         * @private\n         * @member {Number}\n         */\n        this._waterLevel = 70;\n\n        /**\n         * @private\n         * @member {Number}\n         */\n        this._sandLevel = 95;\n\n        /**\n         * @private\n         * @member {Number}\n         */\n        this._grassLevel = 130;\n\n        /**\n         * @private\n         * @member {Number}\n         */\n        this._forestLevel = 150;\n\n        /**\n         * @private\n         * @member {Number}\n         */\n        this._dirtLevel = 170;\n    }\n\n    /**\n     * @public\n     * @param {Exo.String} tile\n     * @param {Number} level\n     */\n    setBlock(tile, level) {\n        let block,\n            tint;\n\n        if (level <= this._waterLevel) {\n            block = 'water';\n            tint = 255 + level - this._waterLevel;\n        } else if (level <= this._sandLevel) {\n            block = 'sand';\n            tint = 255 - level + this._waterLevel;\n        } else if (level <= this._grassLevel) {\n            block = 'grass';\n            tint = 255 - level + this._sandLevel;\n        } else if (level <= this._forestLevel) {\n            block = 'forest';\n            tint = 255 - level + this._grassLevel;\n        } else if (level <= this._dirtLevel) {\n            block = 'dirt';\n            tint = 255 - level + this._forestLevel;\n        } else {\n            block = 'stone';\n            tint = 255 - level + this._dirtLevel;\n        }\n\n        tint = tint | 0;\n        tile.tint.set(tint, tint, tint);\n        tile.setTextureRect(this._tiles[block].tileRect, true);\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./examples/game/src/js/map/Tileset.js","/**\n * @class AutoTile\n */\nexport default class AutoTile {\n\n    /**\n     * @constructor\n     * @param {Number} x\n     * @param {Number} y\n     * @param {Number} tileSize\n     */\n    constructor(x, y, tileSize) {\n\n        /**\n         * @private\n         * @member {Number}\n         */\n        this._width = tileSize * 2;\n\n        /**\n         * @private\n         * @member {Number}\n         */\n        this._height = tileSize * 3;\n\n        /**\n         * @private\n         * @member {Number}\n         */\n        this._tileSize = tileSize;\n\n        /**\n         * @private\n         * @member {Exo.Rectangle}\n         */\n        this._fullRect = new Exo.Rectangle(\n            x * this._width,\n            y * this._height,\n            this._width,\n            this._height\n        );\n\n        /**\n         * @private\n         * @member {Exo.Rectangle}\n         */\n        this._tileRect = new Exo.Rectangle(\n            this._fullRect.x + (tileSize * 0.5),\n            this._fullRect.y + (tileSize * 1.5),\n            tileSize,\n            tileSize\n        );\n    }\n\n    /**\n     * @public\n     * @member {Number}\n     */\n    get width() {\n        return this._width;\n    }\n\n    set width(value) {\n        this._width = value;\n    }\n\n    /**\n     * @public\n     * @member {Number}\n     */\n    get height() {\n        return this._height;\n    }\n\n    set height(value) {\n        this._height = value;\n    }\n\n    /**\n     * @public\n     * @member {Number}\n     */\n    get tileSize() {\n        return this._tileSize;\n    }\n\n    set tileSize(value) {\n        this._tileSize = value;\n    }\n\n    /**\n     * @public\n     * @member {Exo.Rectangle}\n     */\n    get fullRect() {\n        return this._fullRect;\n    }\n\n    set fullRect(value) {\n        this._fullRect.copy(value);\n    }\n\n    /**\n     * @public\n     * @member {Exo.Rectangle}\n     */\n    get tileRect() {\n        return this._tileRect;\n    }\n\n    set tileRect(value) {\n        this._tileRect.copy(value);\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./examples/game/src/js/map/AutoTile.js","import Menu from '../Menu';\nimport MenuItem from '../MenuItem';\n\n/**\n * @class LoadGameMenu\n * @extends {Menu}\n */\nexport default class LoadGameMenu extends Menu {\n\n    /**\n     * @constructor\n     * @param {Exo.Game} game\n     * @param {String} parentMenu\n     */\n    constructor(game, parentMenu) {\n        super(game, parentMenu);\n\n        const canvas = game.canvas;\n\n        /**\n         * @private\n         * @member {MenuItem}\n         */\n        this._LoadGameTitle = new MenuItem('Load Game:');\n        this._LoadGameTitle.setPosition(canvas.width / 2, canvas.height / 3);\n\n        /**\n         * @private\n         * @member {MenuItem}\n         */\n        this._loadWorldButton = new MenuItem('Load World', this._LoadGameTitle);\n\n        /**\n         * @private\n         * @member {MenuItem}\n         */\n        this._backButton = new MenuItem('Back', this._loadWorldButton);\n\n        this._addItems();\n        this._addPaths();\n        this._addActions();\n\n        this.setStartChild(this._loadWorldButton);\n    }\n\n    _addItems() {\n        this.addChild(this._LoadGameTitle);\n        this.addChild(this._loadWorldButton);\n        this.addChild(this._backButton);\n    }\n\n    _addPaths() {\n        this.addPath(this._loadWorldButton, this._backButton, 'down', 'up');\n        this.addPath(this._backButton, this._loadWorldButton, 'down', 'up');\n    }\n\n    _addActions() {\n        this.addAction(this._loadWorldButton, this._onSelectLoadWorld.bind(this), 'select');\n        this.addAction(this._backButton, this.openPreviousMenu.bind(this), 'select');\n    }\n\n    _onSelectLoadWorld() {\n        this._game.setCurrentScene('game');\n    }\n\n    destroy() {\n        super.destroy();\n\n        this._LoadGameTitle = null;\n        this._loadWorldButton = null;\n        this._backButton = null;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./examples/game/src/js/menu/title/LoadGameMenu.js","import Menu from '../Menu';\nimport MenuItem from '../MenuItem';\n\n/**\n * @class SettingsMenu\n * @extends {Menu}\n */\nexport default class SettingsMenu extends Menu {\n\n    /**\n     * @constructor\n     * @param {Exo.Game} game\n     * @param {String} previousMenu\n     */\n    constructor(game, previousMenu) {\n        super(game, previousMenu);\n\n        const canvas = game.canvas;\n\n        /**\n         * @private\n         * @member {MenuItem}\n         */\n        this._settingsTitle = new MenuItem('Settings:');\n        this._settingsTitle.setPosition(canvas.width / 2, canvas.height / 3);\n\n        /**\n         * @private\n         * @member {MenuItem}\n         */\n        this._musicVolumeButton = new MenuItem(\n            `Music Volume: ${(game.audioManager.musicVolume * 100 | 0)}%`,\n            this._settingsTitle\n        );\n\n        /**\n         * @private\n         * @member {MenuItem}\n         */\n        this._soundsVolumeButton = new MenuItem(\n            `Sound Volume: ${(game.audioManager.soundVolume * 100 | 0)}%`,\n            this._musicVolumeButton\n        );\n\n        /**\n         * @private\n         * @member {MenuItem}\n         */\n        this._backButton = new MenuItem('Back', this._soundsVolumeButton);\n\n        /**\n         * @private\n         * @member {Function}\n         */\n        this._onOptionLeftHandler = this._onOptionLeft.bind(this);\n\n        /**\n         * @private\n         * @member {Function}\n         */\n        this._onOptionRightHandler = this._onOptionRight.bind(this);\n\n        /**\n         * @private\n         * @member {Number}\n         */\n        this._volumeStep = 0.05;\n\n        this._addItems();\n        this._addPaths();\n        this._addActions();\n\n        this.setStartChild(this._musicVolumeButton);\n    }\n\n    /**\n     * @override\n     */\n    destroy() {\n        super.destroy();\n\n        this._onOptionLeftHandler = null;\n        this._onOptionRightHandler = null;\n\n        this._settingsTitle = null;\n        this._musicVolumeButton = null;\n        this._soundsVolumeButton = null;\n        this._backButton = null;\n    }\n\n    /**\n     * @private\n     */\n    _addItems() {\n        this.addChild(this._settingsTitle);\n        this.addChild(this._musicVolumeButton);\n        this.addChild(this._soundsVolumeButton);\n        this.addChild(this._backButton);\n    }\n\n    /**\n     * @private\n     */\n    _addPaths() {\n        this.addPath(this._musicVolumeButton, this._soundsVolumeButton, 'down', 'up');\n        this.addPath(this._soundsVolumeButton, this._backButton, 'down', 'up');\n        this.addPath(this._backButton, this._musicVolumeButton, 'down', 'up');\n    }\n\n    /**\n     * @private\n     */\n    _addActions() {\n        this.addAction(this._musicVolumeButton, this._onOptionLeftHandler, 'left');\n        this.addAction(this._musicVolumeButton, this._onOptionRightHandler, 'right');\n        this.addAction(this._soundsVolumeButton, this._onOptionLeftHandler, 'left');\n        this.addAction(this._soundsVolumeButton, this._onOptionRightHandler, 'right');\n        this.addAction(this._backButton, this.openPreviousMenu.bind(this), 'select');\n    }\n\n    /**\n     * @private\n     * @param {MenuAction} action\n     */\n    _onOptionLeft(action) {\n        const activeButton = action.item;\n\n        if (activeButton === this._musicVolumeButton) {\n            this._addMusicVolume(this._volumeStep * -1);\n        } else if (activeButton === this._soundsVolumeButton) {\n            this._addSoundVolume(this._volumeStep * -1);\n        }\n    }\n\n    /**\n     * @private\n     * @param {MenuAction} action\n     */\n    _onOptionRight(action) {\n        const activeButton = action.item;\n\n        if (activeButton === this._musicVolumeButton) {\n            this._addMusicVolume(this._volumeStep);\n        } else if (activeButton === this._soundsVolumeButton) {\n            this._addSoundVolume(this._volumeStep);\n        }\n    }\n\n    /**\n     * @private\n     * @param {Number} volume\n     */\n    _addMusicVolume(volume) {\n        const audioManager = this._game.audioManager;\n\n        audioManager.musicVolume += volume;\n\n        this._musicVolumeButton.text = `Music Volume: ${(audioManager.musicVolume * 100 | 0)}%`;\n    }\n\n    /**\n     * @private\n     * @param {Number} volume\n     */\n    _addSoundVolume(volume) {\n        const audioManager = this._game.audioManager;\n\n        audioManager.soundVolume += volume;\n\n        this._soundsVolumeButton.text = `Sound Volume: ${(audioManager.soundVolume * 100 | 0)}%`;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./examples/game/src/js/menu/title/SettingsMenu.js"],"sourceRoot":""}