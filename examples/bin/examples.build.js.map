{"version":3,"sources":["webpack:///webpack/bootstrap c316c3f9ad4ff8f91236","webpack:///./examples/src/js/vendor/codemirror/lib/codemirror.js","webpack:///(webpack)/buildin/module.js","webpack:///./examples/src/js/index.js","webpack:///./examples/src/js/vendor/jquery.js","webpack:///./examples/src/js/vendor/codemirror/mode/javascript/javascript.js","webpack:///./examples/src/js/vendor/codemirror/addon/edit/matchbrackets.js","webpack:///./examples/src/js/vendor/codemirror/addon/selection/active-line.js","webpack:///external \"Exo\""],"names":["global","factory","exports","module","CodeMirror","userAgent","navigator","platform","gecko","test","ie_upto10","ie_11up","exec","edge","ie","ie_version","document","documentMode","webkit","qtwebkit","chrome","presto","safari","vendor","mac_geMountainLion","phantom","ios","android","mobile","mac","chromeOS","windows","presto_version","match","Number","flipCtrlCmd","captureRightClick","classTest","cls","RegExp","rmClass","node","current","className","after","slice","index","length","removeChildren","e","count","childNodes","removeChild","firstChild","removeChildrenAndAdd","parent","appendChild","elt","tag","content","style","createElement","cssText","createTextNode","i","eltP","setAttribute","range","createRange","start","end","endNode","r","setEnd","setStart","body","createTextRange","moveToElementText","parentNode","collapse","moveEnd","moveStart","contains","child","nodeType","host","activeElt","activeElement","shadowRoot","addClass","joinClasses","a","b","as","split","selectInput","select","selectionStart","selectionEnd","value","_e","bind","f","args","Array","prototype","call","arguments","apply","copyObj","obj","target","overwrite","prop","hasOwnProperty","countColumn","string","tabSize","startIndex","startValue","search","n","nextTab","indexOf","Delayed","id","set","ms","clearTimeout","setTimeout","array","scrollerGap","Pass","toString","sel_dontScroll","scroll","sel_mouse","origin","sel_move","findColumn","goal","pos","col","skipped","Math","min","spaceStrs","spaceStr","push","lst","arr","map","out","insertSorted","score","priority","splice","nothing","createObj","base","props","inst","Object","create","nonASCIISingleCaseWordChar","isWordCharBasic","ch","toUpperCase","toLowerCase","isWordChar","helper","source","isEmpty","extendingChars","isExtendingChar","charCodeAt","skipExtendingChars","str","dir","charAt","findFirst","pred","from","to","midF","mid","ceil","floor","Display","place","doc","input","d","scrollbarFiller","gutterFiller","lineDiv","selectionDiv","cursorDiv","measure","lineMeasure","lineSpace","lines","mover","sizer","sizerWidth","heightForcer","gutters","lineGutter","scroller","wrapper","zIndex","paddingRight","draggable","viewFrom","viewTo","first","reportedViewFrom","reportedViewTo","view","renderedView","externalMeasured","viewOffset","lastWrapHeight","lastWrapWidth","updateLineNumbers","nativeBarWidth","barHeight","barWidth","scrollbarsClipped","lineNumWidth","lineNumInnerWidth","lineNumChars","alignWidgets","cachedCharWidth","cachedTextHeight","cachedPaddingH","maxLine","maxLineLength","maxLineChanged","wheelDX","wheelDY","wheelStartX","wheelStartY","shift","selForContextMenu","activeTouch","init","getLine","size","Error","chunk","children","sz","chunkSize","getBetween","line","iter","text","getLines","updateLineHeight","height","diff","lineNo","cur","no","lineAtHeight","h","outer","i$1","lh","isLine","l","lineNumberFor","options","String","lineNumberFormatter","firstLineNumber","Pos","sticky","cmp","equalCursorPos","copyPos","x","maxPos","minPos","clipLine","max","clipPos","last","clipToLen","linelen","clipPosArray","sawReadOnlySpans","sawCollapsedSpans","seeReadOnlySpans","seeCollapsedSpans","MarkedSpan","marker","getMarkedSpanFor","spans","span","removeMarkedSpan","addMarkedSpan","markedSpans","concat","attachLine","markedSpansBefore","old","startCh","isInsert","nw","startsBefore","inclusiveLeft","type","insertLeft","endsAfter","inclusiveRight","markedSpansAfter","endCh","stretchSpansOverChange","change","full","oldFirst","oldLast","sameLine","offset","found","span$1","found$1","clearEmptySpans","newMarkers","gap","gapMarkers","i$2","i$3","clearWhenEmpty","removeReadOnlyRanges","markers","mark","readOnly","parts","mk","m","find","j","p","newParts","dfrom","dto","detachMarkedSpans","detachLine","attachMarkedSpans","extraLeft","extraRight","compareCollapsedMarkers","lenDiff","aPos","bPos","fromCmp","toCmp","collapsedSpanAtSide","sps","sp","collapsed","collapsedSpanAtStart","collapsedSpanAtEnd","conflictingCollapsedRange","visualLine","merged","visualLineEnd","visualLineContinued","visualLineNo","lineN","vis","visualLineEndNo","lastLine","lineIsHidden","widgetNode","lineIsHiddenInner","heightAtLine","lineObj","lineLength","len","findMaxLine","cm","display","iterateBidiSections","order","part","level","bidiOther","getBidiPartAt","bidiOrdering","lowTypes","arabicTypes","charType","code","bidiRE","isNeutral","isStrong","countsAsLeft","countsAsNum","BidiSpan","direction","outerType","types","prev","type$1","prev$1","type$2","i$4","type$3","replace","i$5","cur$1","type$4","i$6","end$1","before","replace$1","j$1","i$7","at","j$2","nstart","unshift","reverse","getOrder","noHandlers","on","emitter","addEventListener","attachEvent","_handlers","getHandlers","off","removeEventListener","detachEvent","signal","handlers","signalDOMEvent","override","preventDefault","defaultPrevented","e_defaultPrevented","codemirrorIgnore","signalCursorActivity","cursorActivity","curOp","cursorActivityHandlers","hasHandler","eventMixin","ctor","e_preventDefault","returnValue","e_stopPropagation","stopPropagation","cancelBubble","e_stop","e_target","srcElement","e_button","which","button","ctrlKey","dragAndDrop","div","zwspSupported","zeroWidthElement","offsetHeight","offsetWidth","badBidiRects","hasBadBidiRects","txt","r0","getBoundingClientRect","r1","left","right","splitLinesAuto","result","nl","rt","hasSelection","window","getSelection","te","ownerDocument","selection","parentElement","compareEndPoints","hasCopyEvent","oncopy","badZoomedRects","hasBadZoomedRects","normal","fromRange","abs","modes","mimeModes","defineMode","name","mode","dependencies","defineMIME","mime","spec","resolveMode","getMode","mfactory","modeObj","modeExtensions","exts","helperType","modeProps","prop$1","extendMode","properties","copyState","state","nstate","val","innerMode","info","startState","a1","a2","StringStream","lineOracle","lastColumnPos","lastColumnValue","lineStart","eol","sol","peek","undefined","next","eat","ok","eatWhile","eatSpace","this$1","skipToEnd","skipTo","backUp","column","indentation","pattern","consume","caseInsensitive","cased","substr","hideFirstChars","inner","lookAhead","oracle","baseToken","SavedContext","Context","maxLookAhead","baseTokens","baseTokenPos","nextLine","fromSaved","saved","save","copy","highlightLine","context","forceToEnd","st","modeGen","lineClasses","runMode","loop","o","overlay","overlays","i_end","opaque","styles","classes","bgClass","textClass","getLineStyles","updateFrontier","getContextBefore","resetState","maxHighlightLength","stateAfter","styleClasses","highlightFrontier","modeFrontier","precise","findStartLine","processLine","startAt","stream","callBlankLine","readToken","blankLine","token","Token","takeToken","asArray","tokens","extractLineClasses","output","lineClass","flattenSpans","curStart","curStyle","addModeClass","mName","minindent","minline","lim","indented","retreatFrontier","Line","estimateHeight","updateLine","estHeight","cleanUpLine","styleToClassCache","styleToClassCacheWithMode","interpretTokenStyle","cache","buildLineContent","lineView","builder","pre","trailingSpace","splitSpaces","getOption","rest","addToken","buildToken","buildTokenBadBidi","allowFrontierUpdate","insertLineContent","maps","caches","lastChild","querySelector","defaultSpecialCharPlaceholder","title","startStyle","endStyle","css","displayText","special","specialChars","mustWrap","createDocumentFragment","lastIndex","txt$1","tabWidth","specialCharPlaceholder","fullStyle","trailingBefore","spaceBefore","buildCollapsedSpan","ignoreWidget","widget","needsContentAttribute","setUneditable","allText","nextChange","spanStyle","spanEndStyle","spanStartStyle","Infinity","foundBookmarks","endStyles","upto","tokenText","LineView","hidden","buildViewArray","nextPos","operationGroup","pushOperation","op","ops","ownsGroup","delayedCallbacks","fireCallbacksForOps","group","callbacks","cursorActivityCalled","finishOperation","endCb","orphanDelayedCallbacks","signalLater","list","fireOrphanDelayed","delayed","updateLineForChanges","dims","changes","updateLineText","updateLineGutter","updateLineClasses","updateLineWidgets","ensureLineWrapped","replaceChild","updateLineBackground","background","wrap","insertBefore","getLineContent","ext","built","wrapClass","gutter","gutterBackground","gutterClass","fixedGutter","fixedPos","gutterTotalWidth","gutterMarkers","lineNumbers","wrap$1","gutterWrap","lineNumber","gutterLeft","k","gutterWidth","alignable","nextSibling","insertLineWidgets","buildLineElement","insertLineWidgetsFor","allowAbove","widgets","ws","handleMouseEvents","positionLineWidget","above","noHScroll","width","wrapperWidth","coverGutter","paddingLeft","position","marginLeft","widgetHeight","parentStyle","clientWidth","eventInWidget","getAttribute","paddingTop","offsetTop","paddingVert","paddingH","getComputedStyle","currentStyle","data","parseInt","isNaN","scrollGap","displayWidth","displayHeight","clientHeight","ensureLineHeights","rect","wrapping","lineWrapping","curWidth","heights","rects","getClientRects","bottom","top","mapFromLineView","updateExternalMeasurement","measureChar","bias","measureCharPrepared","prepareMeasureForLine","findViewForLine","findViewIndex","getDimensions","forceUpdate","hasHeights","prepared","varHeight","key","measureCharInner","bogus","rtop","rbottom","nullRect","nodeAndOffsetInLineMap","mStart","mEnd","coverStart","coverEnd","getUsefulRect","maybeUpdateRectForZooming","rSpan","charWidth","rbot","bot","singleCursorHeightPerLine","screen","logicalXDPI","deviceXDPI","scaleX","scaleY","logicalYDPI","deviceYDPI","clearLineMeasurementCacheFor","clearLineMeasurementCache","externalMeasure","clearCaches","pageScrollX","pageXOffset","documentElement","scrollLeft","pageScrollY","marginTop","pageYOffset","scrollTop","widgetTopHeight","intoCoordSystem","includeWidgets","yOff","lOff","xOff","fromCoordSystem","coords","localBox","lineSpaceBox","charCoords","cursorCoords","preparedMeasure","get","getBidi","partPos","invert","other","estimateCoords","PosWithInfo","outside","xRel","coordsChar","y","coordsCharInner","mergedPos","wrappedLineExtent","begin","wrappedLineExtentChar","targetTop","boxIsAfter","box","ltr","coordsBidiPartWrapped","coordsBidiPart","chAround","boxAround","baseX","atLeft","atStart","_lineNo","ref","closestDist","endX","dist","measureText","textHeight","anchor","clientLeft","offsetLeft","compensateForHScroll","th","perLine","widgetsHeight","estimateLineHeights","est","posFromMouse","liberal","forRect","space","clientX","clientY","colDiff","round","updateSelection","showSelection","prepareSelection","primary","curFragment","cursors","selFragment","sel","ranges","primIndex","empty","showCursorWhenSelecting","drawSelectionCursor","head","drawSelectionRange","cursor","cursorHeight","otherCursor","cmpCoords","fragment","padding","leftSide","rightSide","docLTR","add","drawForLine","fromArg","toArg","lineLen","wrapX","side","extent","fromPos","toPos","openStart","openEnd","openLeft","openRight","topLeft","topRight","botLeft","botRight","sFrom","sTo","fromLine","toLine","singleVLine","leftEnd","rightStart","restartBlink","focused","clearInterval","blinker","visibility","cursorBlinkRate","setInterval","ensureFocus","focus","onFocus","delayBlurEvent","delayingBlurEvent","onBlur","reset","receivedFocus","updateHeightsInViewport","prevBottom","updateWidgetHeight","w","visibleLines","viewport","ensure","ensureFrom","ensureTo","alignHorizontally","comp","gutterW","align","maybeUpdateLineNumberWidth","innerW","updateGutterSpace","maybeScrollWindow","doScroll","innerHeight","scrollNode","scrollIntoView","scrollPosIntoView","margin","limit","changed","endCoords","scrollPos","calculateScrollPos","startTop","startLeft","updateScrollTop","setScrollLeft","snapMargin","screentop","docBottom","atTop","atBottom","newTop","screenleft","screenw","tooWide","addToScrollTop","resolveScrollToPos","ensureCursorVisible","getCursor","scrollToPos","cursorScrollMargin","scrollToCoords","scrollToRange","scrollToCoordsRange","sPos","updateDisplaySimple","setScrollTop","startWorker","forceScroll","scrollHeight","scrollbars","isScroller","scrollWidth","measureForScrollbars","docH","viewHeight","viewWidth","barLeft","docHeight","NativeScrollbars","vert","horiz","checkedZeroWidth","minHeight","minWidth","update","needsH","needsV","sWidth","totalHeight","totalWidth","zeroWidthHack","disableHoriz","enableZeroWidthBar","disableVert","pointerEvents","bar","delay","maybeDisable","elementFromPoint","clear","NullScrollbars","updateScrollbars","startWidth","startHeight","updateScrollbarsInner","sizes","paddingBottom","borderBottom","coverGutterNextToScrollbar","scrollbarModel","initScrollbars","scrollbarStyle","axis","nextOpId","startOperation","viewChanged","updateInput","typing","changeObjs","selectionChanged","updateMaxLine","endOperation","endOperations","endOperation_R1","endOperation_W1","endOperation_R2","endOperation_W2","endOperation_finish","maybeClipScrollbars","mustUpdate","DisplayUpdate","updatedDisplay","updateDisplayIfNeeded","barMeasure","adjustWidthTo","maxScrollLeft","preparedSelection","takeFocus","setDocumentHeight","postUpdateDisplay","maybeHiddenMarkers","unhidden","maybeUnhiddenMarkers","finish","runInOp","operation","methodOp","docMethodOp","regChange","lendiff","resetView","cut","viewCuttingPoint","cut$1","cutTop","cutBot","regLineChange","oldN","newN","adjustView","countDirtyView","dirty","time","highlight","highlightWorker","Date","workTime","changedLines","oldStyles","highlighted","oldCls","newCls","ischange","workDelay","force","visible","editorIsHidden","wrapperHeight","oldDisplayWidth","events","marginBottom","borderRightWidth","selectionSnapshot","hasFocus","active","anchorNode","extend","anchorOffset","focusNode","focusOffset","restoreSelection","snapshot","removeAllRanges","addRange","viewportMargin","different","toUpdate","selSnapshot","patchDisplay","updateNumbersFrom","container","rm","currentWheelTarget","updateNumber","updateGutters","specs","gElt","setGuttersForLineNumbers","wheelSamples","wheelPixelsPerUnit","wheelEventDelta","dx","wheelDeltaX","dy","wheelDeltaY","detail","HORIZONTAL_AXIS","VERTICAL_AXIS","wheelDelta","wheelEventPixels","delta","onScrollWheel","canScrollX","canScrollY","pixels","movedX","movedY","sample","Selection","equals","here","there","deepCopy","Range","somethingSelected","normalizeSelection","prim","sort","inv","simpleSelection","changeEnd","adjustForChange","computeSelAfterChange","offsetPos","computeReplacedSel","hint","oldPrev","newPrev","loadMode","modeOption","resetModeState","isWholeLineUpdate","wholeLineUpdateBefore","updateDoc","spansFor","linesFor","firstLine","lastText","lastSpans","nlines","insert","remove","added","added$1","added$2","linkedDocs","sharedHistOnly","propagate","skip","sharedHist","linked","rel","shared","attachDoc","setDirectionClass","directionChanged","History","startGen","done","undone","undoDepth","lastModTime","lastSelTime","lastOp","lastSelOp","lastOrigin","lastSelOrigin","generation","maxGeneration","historyChangeFromChange","histChange","attachLocalSpans","clearSelectionEvents","pop","lastChangeEvent","hist","addChangeToHistory","selAfter","opId","history","historyEventDelay","pushSelectionToHistory","selectionEventCanBeMerged","addSelectionToHistory","clearRedo","dest","existing","removeClearedSpans","explicitlyCleared","getOldSpans","mergeOldSpans","stretched","oldCur","stretchCur","copyHistoryArray","newGroup","instantiateSel","event","newChanges","extendRange","posBefore","extendSelection","setSelection","extendSelections","heads","newSel","replaceOneSelection","setSimpleSelection","filterSelectionChange","setSelectionReplaceHistory","setSelectionNoUndo","NaN","setSelectionInner","skipAtomicInSelection","reCheckSelection","mayClear","newAnchor","skipAtomic","newHead","skipAtomicInner","oldPos","atomic","near","movePos","far","cantEdit","selectAll","filterChange","canceled","cancel","makeChange","ignoreReadOnly","suppressEdits","makeChangeInner","makeChangeSingleDoc","rebased","rebaseHist","makeChangeFromHistory","allowSelectionOnly","antiChanges","filter","returned","v","shiftDoc","distance","removed","makeChangeSingleDocInEditor","recomputeMaxLength","checkWidthStart","changesHandler","changeHandler","replaceRange","assign","splitLines","rebaseHistSelSingle","rebaseHistArray","sub","copied","changeLine","handle","changeType","LeafChunk","removeInner","insertInner","iterN","BranchChunk","oldHeight","remaining","leaf","maybeSpill","me","spilled","sibling","myIndex","used","LineWidget","opt","adjustScrollWhenAboveVisible","oldH","addLineWidget","insertAt","aboveVisible","nextMarkerId","TextMarker","withOp","visual","dHeight","markText","markTextShared","replacedWith","addToHistory","curLine","clearOnEnter","clearHistory","SharedTextMarker","cloneNode","isParent","findSharedMarkers","findMarks","copySharedMarkers","mFrom","mTo","subMark","detachSharedMarkers","subMarker","nextDocId","Doc","lineSep","cleanGeneration","constructor","getValue","join","lineSeparator","setValue","getRange","getLineHandle","getLineNumber","getLineHandleVisualStart","lineCount","listSelections","setCursor","extendSelectionsBy","setSelections","addSelection","getSelections","replaceSelection","dup","replaceSelections","undo","redo","undoSelection","redoSelection","setExtending","getExtending","historySize","markClean","changeGeneration","forceSplit","isClean","gen","getHistory","setHistory","histData","setGutterMarker","gutterID","clearGutter","lineInfo","addLineClass","where","removeLineClass","removeLineWidget","setBookmark","realOpts","findMarksAt","getAllMarks","posFromIndex","sepSize","indexFromPos","copyHistory","linkedDoc","unlinkDoc","link","splitIds","iterLinkedDocs","getEditor","setDirection","eachLine","lastDrop","onDrop","clearDragCursor","files","dataTransfer","isReadOnly","FileReader","File","read","loadFile","file","allowDropFileTypes","reader","onload","readAsText","draggingText","text$1","getData","selected","onDragStart","setData","effectAllowed","setDragImage","img","src","_top","onDragOver","frag","dragCursor","forEachCodeMirror","getElementsByClassName","byClass","globalsRegistered","ensureGlobalHandlers","registerGlobalHandlers","resizeTimer","onResize","setSize","keyNames","fromCharCode","keyMap","basic","pcDefault","fallthrough","emacsy","macDefault","normalizeKeyName","alt","ctrl","cmd","mod","normalizeKeyMap","keymap","keyname","keys","lookupKey","getKeyMap","isModifierKey","keyCode","addModifierNames","noShift","altKey","metaKey","shiftKey","keyName","altGraphKey","deleteNearSelection","compute","kill","toKill","replaced","moveCharLogically","moveLogically","endOfLine","visually","moveInStorageOrder","prep","moveVisually","bidi","mv","getWrappedLineExtent","searchInVisualLine","getRes","res","nextCh","commands","singleSelection","killLine","deleteLine","delLineLeft","delWrappedLineLeft","leftPos","delWrappedLineRight","rightPos","goDocStart","goDocEnd","goLineStart","goLineStartSmart","lineStartSmart","goLineEnd","lineEnd","goLineRight","goLineLeft","goLineLeftSmart","goLineUp","moveV","goLineDown","goPageUp","goPageDown","goCharLeft","moveH","goCharRight","goColumnLeft","goColumnRight","goWordLeft","goGroupRight","goGroupLeft","goWordRight","delCharBefore","deleteH","delCharAfter","delWordBefore","delWordAfter","delGroupBefore","delGroupAfter","indentAuto","indentSelection","indentMore","indentLess","insertTab","insertSoftTab","spaces","defaultTab","execCommand","transposeChars","newlineAndIndent","sels","indentLine","openLine","toggleOverwrite","firstNonWS","inWS","doHandleBinding","bound","dropShift","ensurePolled","prevShift","lookupKeyForEditor","keyMaps","extraKeys","stopSeq","dispatchKey","seq","keySeq","dispatchKeyInner","handleKeyBinding","motion","handleCharBinding","lastStoppedKey","onKeyDown","handled","showCrossHair","up","onKeyUp","onKeyPress","charCode","DOUBLECLICK_DELAY","PastClick","compare","lastClick","lastDoubleClick","clickRepeat","now","onMouseDown","supportsTouch","clickInGutter","repeat","selectingText","handleMappedButton","leftButtonDown","onContextMenu","configureMouse","option","unit","addNew","moveOnDrag","behavior","contained","dragDrop","leftButtonStartDrag","leftButtonSelect","moved","dragEnd","mouseMove","dragStart","e2","rangeForUnit","findWordAt","ourRange","ourIndex","startSel","lastPos","extendTo","startCol","posCol","oldRange","ranges$1","bidiSimplify","editorSize","counter","curCount","move","anchorLine","boundary","headIndex","usePart","gutterEvent","prevent","mX","mY","touches","lineBox","g","contextMenuInGutter","themeChanged","theme","Init","defaults","optionHandlers","defineOptions","deflt","notOnInit","defineOption","newBreaks","refresh","getInputField","spellcheck","guttersChanged","detach","attach","wrappingChanged","integer","blur","readOnlyChanged","dragDropChanged","resetPosition","getField","tabIndex","wasOn","funcs","dragFunctions","toggle","enter","over","leave","drop","inputStyles","inputStyle","pasteIncoming","cutIncoming","autofocus","registerEventHandlers","finishInit","initHooks","textRendering","word","touchFinished","prevTouch","finishTouch","isMouseLikeTouchEvent","touch","radiusX","radiusY","farAway","pageX","pageY","inp","defineInitHook","how","aggressive","indent","curSpace","curSpaceString","indentUnit","indentString","indentWithTabs","pos$1","lastCopied","setLastCopied","newLastCopied","applyTextInput","inserted","deleted","paste","textLines","multiPaste","pasteLinesPerSelection","lineWise","changeEvent","triggerElectric","handlePaste","pasted","clipboardData","disableInput","electricChars","smartIndent","getModeAt","electricInput","copyableRanges","lineRange","disableBrowserMagic","field","hiddenTextarea","border","addEditorMethods","helpers","setOption","getDoc","addKeyMap","removeKeyMap","addOverlay","modeSpec","removeOverlay","newRanges","getTokenAt","getLineTokens","getTokenTypeAt","getHelper","getHelpers","help","_global","getStateAfter","defaultTextHeight","defaultCharWidth","getViewport","addWidget","vspace","hspace","triggerOnKeyDown","triggerOnKeyPress","triggerOnKeyUp","triggerOnMouseDown","findPosH","amount","hitSide","rtlMoveVisually","findPosV","goalColumn","goals","headPos","startChar","check","scrollTo","getScrollInfo","interpret","swapDoc","getWrapperElement","getScrollerElement","getGutterElement","registerHelper","registerGlobalHelper","predicate","origDir","findNextLine","moveOnce","boundToLine","sawType","pageSize","moveAmount","ContentEditableInput","lastAnchorNode","lastAnchorOffset","lastFocusNode","lastFocusOffset","polling","composing","gracePeriod","readDOMTimeout","updateFromDOM","readFromDOMSoon","forceCompositionEnd","onCopyCut","lineWiseCopyCut","clearData","kludge","hadFocus","showPrimarySelection","showMultipleSelections","curAnchor","domToPos","curFocus","bad","posToDOM","rangeCount","getRangeAt","rng","startGracePeriod","rememberSelection","selectionInEditor","commonAncestorContainer","pollSelection","poll","pollInterval","isInGutter","pollContent","fromIndex","fromNode","toIndex","toNode","previousSibling","newText","domTextBetween","oldText","cutFront","cutEnd","oldTop","maxCutFront","newBot","oldBot","maxCutEnd","chFrom","chTo","contentEditable","scan","badPos","closing","recognizeMarker","close","addText","walk","cmText","textContent","markerID","isBlock","nodeName","nodeValue","lineNode","locateNodeInLineView","textNode","topNode","curNode","dist$1","TextareaInput","prevInput","pollingFast","textarea","fastPoll","prepareCopyCut","moveInputWithCursor","wrapOff","lineOff","teTop","teLeft","drawn","contextMenuPending","slowPoll","missed","same","resetSelectionOnContextMenu","oldCSS","oldWrapperCSS","wrapperBox","oldScrollY","scrollY","detectingSelectAll","prepareSelectAllHack","extval","rehide","mouseup","disabled","fromTextArea","tabindex","placeholder","realSubmit","form","leaveSubmitMethodAlone","submit","wrappedSubmit","getTextArea","toTextArea","addLegacyProps","cmpPos","dontDelegate","method","defineExtension","func","defineDocExtension","version","loader","$navigation","$preview","$title","$code","$refresh","activeExample","activeEditor","activePath","location","hash","createExample","html","$frame","contents","append","styleActiveLine","matchBrackets","loadExample","example","path","loadItem","then","createNavigation","entries","entry","examples","noGlobal","getProto","getPrototypeOf","class2type","hasOwn","fnToString","ObjectFunctionString","support","DOMEval","script","jQuery","selector","fn","rtrim","rmsPrefix","rdashAlpha","fcamelCase","all","letter","jquery","toArray","num","pushStack","elems","ret","merge","prevObject","each","callback","elem","eq","copyIsArray","clone","deep","isFunction","isPlainObject","isArray","expando","random","isReady","error","msg","noop","isWindow","isNumeric","parseFloat","proto","Ctor","isEmptyObject","globalEval","camelCase","isArrayLike","trim","makeArray","results","inArray","second","grep","callbackInverse","matches","callbackExpect","arg","guid","proxy","tmp","Symbol","iterator","Sizzle","Expr","getText","isXML","tokenize","compile","outermostContext","sortInput","hasDuplicate","setDocument","docElem","documentIsHTML","rbuggyQSA","rbuggyMatches","preferredDoc","dirruns","classCache","createCache","tokenCache","compilerCache","sortOrder","push_native","booleans","whitespace","identifier","attributes","pseudos","rwhitespace","rcomma","rcombinators","rattributeQuotes","rpseudo","ridentifier","matchExpr","rinputs","rheader","rnative","rquickExpr","rsibling","runescape","funescape","_","escaped","escapedWhitespace","high","rcssescape","fcssescape","asCodePoint","unloadHandler","disabledAncestor","addCombinator","els","seed","nid","groups","newSelector","newContext","getElementById","getElementsByTagName","qsa","toSelector","testContext","querySelectorAll","qsaError","removeAttribute","cacheLength","markFunction","assert","el","addHandle","attrs","handler","attrHandle","siblingCheck","sourceIndex","createInputPseudo","createButtonPseudo","createDisabledPseudo","isDisabled","createPositionalPseudo","argument","matchIndexes","hasCompare","subWindow","defaultView","createComment","getById","getElementsByName","attrId","getAttributeNode","innerHTML","matchesSelector","webkitMatchesSelector","mozMatchesSelector","oMatchesSelector","msMatchesSelector","disconnectedMatch","compareDocumentPosition","adown","bup","sortDetached","aup","ap","bp","expr","elements","attr","specified","escape","uniqueSort","duplicates","detectDuplicates","sortStable","selectors","createPseudo","relative","preFilter","excess","unquoted","nodeNameSelector","operator","what","simple","forward","ofType","xml","uniqueCache","outerCache","nodeIndex","useCache","uniqueID","pseudo","setFilters","idx","matched","matcher","unmatched","innerText","lang","elemLang","href","checked","selectedIndex","radio","checkbox","password","image","filters","parseOnly","soFar","preFilters","cached","combinator","checkNonElements","doneName","oldCache","newCache","elementMatcher","matchers","multipleContexts","contexts","condense","newUnmatched","mapped","setMatcher","postFilter","postFinder","postSelector","temp","preMap","postMap","preexisting","matcherIn","matcherOut","matcherFromTokens","checkContext","leadingRelative","implicitRelative","matchContext","matchAnyContext","matcherFromGroupMatchers","elementMatchers","setMatchers","bySet","byElement","superMatcher","outermost","matchedCount","setMatched","contextBackup","dirrunsUnique","compiled","defaultValue","unique","isXMLDoc","escapeSelector","until","truncate","is","siblings","rneedsContext","needsContext","rsingleTag","risSimple","winnow","qualifier","not","self","rootjQuery","root","parseHTML","ready","rparentsprev","guaranteedUnique","has","targets","closest","prevAll","addBack","parents","parentsUntil","nextAll","nextUntil","prevUntil","contentDocument","rnothtmlwhite","createOptions","object","flag","Callbacks","firing","memory","fired","locked","queue","firingIndex","fire","once","stopOnFalse","disable","lock","fireWith","Identity","Thrower","ex","adoptValue","resolve","reject","noValue","promise","fail","Deferred","tuples","always","deferred","pipe","fns","newDefer","tuple","progress","notify","onFulfilled","onRejected","onProgress","maxDepth","depth","that","mightThrow","TypeError","notifyWith","resolveWith","process","exceptionHook","stackTrace","rejectWith","getStackHook","stateString","when","singleValue","resolveContexts","resolveValues","master","updateFunc","rerrorNames","stack","console","warn","message","readyException","readyList","catch","readyWait","wait","completed","readyState","access","chainable","emptyGet","raw","bulk","acceptData","owner","Data","uid","defineProperty","configurable","hasData","dataPriv","dataUser","rbrace","rmultiDash","JSON","parse","dataAttr","removeData","_data","_removeData","dequeue","startLength","hooks","_queueHooks","stop","setter","clearQueue","defer","pnum","rcssNum","cssExpand","isHiddenWithinTree","swap","adjustCSS","valueParts","tween","adjusted","scale","maxIterations","currentValue","initial","cssNumber","initialInUnit","defaultDisplayMap","getDefaultDisplay","showHide","show","values","hide","rcheckableType","rtagName","rscriptType","wrapMap","thead","tr","td","_default","optgroup","tbody","tfoot","colgroup","caption","getAll","setGlobalEval","refElements","rhtml","buildFragment","scripts","ignored","nodes","htmlPrefilter","checkClone","noCloneChecked","rkeyEvent","rmouseEvent","rtypenamespace","returnTrue","returnFalse","safeActiveElement","err","one","origFn","handleObjIn","eventHandle","t","handleObj","namespaces","origType","elemData","triggered","dispatch","delegateType","bindType","namespace","delegateCount","setup","mappedTypes","origCount","teardown","removeEvent","nativeEvent","fix","handlerQueue","delegateTarget","preDispatch","isPropagationStopped","currentTarget","isImmediatePropagationStopped","rnamespace","postDispatch","matchedHandlers","matchedSelectors","addProp","hook","Event","enumerable","originalEvent","writable","load","noBubble","trigger","click","beforeunload","isDefaultPrevented","relatedTarget","timeStamp","isSimulated","stopImmediatePropagation","bubbles","cancelable","changedTouches","eventPhase","buttons","offsetX","offsetY","pointerId","pointerType","screenX","screenY","targetTouches","toElement","mouseenter","mouseleave","pointerenter","pointerleave","orig","related","rxhtmlTag","rnoInnerhtml","rchecked","rscriptTypeMasked","rcleanScript","manipulationTarget","disableScript","restoreScript","cloneCopyEvent","pdataOld","pdataCur","udataOld","udataCur","fixInput","domManip","collection","hasScripts","iNoClone","_evalUrl","keepData","cleanData","dataAndEvents","deepDataAndEvents","srcElements","destElements","inPage","prepend","replaceWith","appendTo","prependTo","insertAfter","replaceAll","original","rmargin","rnumnonpx","getStyles","opener","computeStyleTests","divStyle","pixelPositionVal","reliableMarginLeftVal","boxSizingReliableVal","marginRight","pixelMarginRightVal","backgroundClip","clearCloneStyle","pixelPosition","boxSizingReliable","pixelMarginRight","reliableMarginLeft","curCSS","computed","maxWidth","getPropertyValue","addGetHookIf","conditionFn","hookFn","rdisplayswap","rcustomProp","cssShow","cssNormalTransform","letterSpacing","fontWeight","cssPrefixes","emptyStyle","vendorPropName","capName","finalPropName","cssProps","setPositiveNumber","subtract","augmentWidthOrHeight","extra","isBorderBox","getWidthOrHeight","valueIsBorderBox","cssHooks","opacity","origName","isCustomProp","setProperty","isFinite","prefix","suffix","expand","expanded","Tween","easing","propHooks","run","percent","eased","duration","step","fx","linear","swing","cos","PI","fxNow","inProgress","rfxtypes","rrun","schedule","requestAnimationFrame","interval","tick","createFxNow","genFx","includeWidth","createTween","animation","Animation","tweeners","defaultPrefilter","opts","oldfire","propTween","restoreDisplay","isBox","anim","dataShow","unqueued","overflow","overflowX","overflowY","propFilter","specialEasing","stopped","prefilters","currentTime","startTime","tweens","originalProperties","originalOptions","gotoEnd","complete","timer","tweener","prefilter","speed","speeds","fadeTo","animate","optall","doAnimation","stopQueue","timers","cssFn","slideDown","slideUp","slideToggle","fadeIn","fadeOut","fadeToggle","slow","fast","timeout","checkOn","optSelected","radioValue","boolHook","removeAttr","nType","attrHooks","bool","attrNames","getter","lowercaseName","rfocusable","rclickable","removeProp","propFix","stripAndCollapse","getClass","curValue","clazz","finalValue","removeClass","toggleClass","stateVal","classNames","hasClass","rreturn","valHooks","optionSet","rfocusMorph","onlyHandlers","bubbleType","ontype","eventPath","isTrigger","parentWindow","simulate","triggerHandler","hover","fnOver","fnOut","focusin","attaches","nonce","rquery","parseXML","DOMParser","parseFromString","rbracket","rCRLF","rsubmitterTypes","rsubmittable","buildParams","traditional","param","s","valueOrFunction","encodeURIComponent","serialize","serializeArray","r20","rhash","rantiCache","rheaders","rlocalProtocol","rnoContent","rprotocol","transports","allTypes","originAnchor","addToPrefiltersOrTransports","structure","dataTypeExpression","dataType","dataTypes","inspectPrefiltersOrTransports","jqXHR","inspected","seekingTransport","inspect","prefilterOrFactory","dataTypeOrTransport","ajaxExtend","flatOptions","ajaxSettings","ajaxHandleResponses","responses","ct","finalDataType","firstDataType","mimeType","getResponseHeader","converters","ajaxConvert","response","isSuccess","conv2","conv","responseFields","dataFilter","throws","lastModified","etag","url","isLocal","protocol","processData","async","contentType","accepts","json","ajaxSetup","settings","ajaxPrefilter","ajaxTransport","ajax","transport","cacheURL","responseHeadersString","responseHeaders","timeoutTimer","urlAnchor","fireGlobals","uncached","callbackContext","globalEventContext","completeDeferred","statusCode","requestHeaders","requestHeadersNames","strAbort","getAllResponseHeaders","setRequestHeader","overrideMimeType","status","abort","statusText","finalText","crossDomain","hasContent","ifModified","headers","beforeSend","success","send","nativeStatusText","modified","getJSON","getScript","wrapAll","firstElementChild","wrapInner","unwrap","xhr","XMLHttpRequest","xhrSuccessStatus","xhrSupported","cors","errorCallback","open","username","xhrFields","onerror","onabort","onreadystatechange","responseType","responseText","binary","charset","scriptCharset","evt","oldCallbacks","rjsonp","jsonp","jsonpCallback","originalSettings","callbackName","overwritten","responseContainer","jsonProp","createHTMLDocument","implementation","keepScripts","parsed","params","animated","setOffset","curPosition","curLeft","curCSSTop","curTop","curOffset","curCSSLeft","calculatePosition","curElem","using","win","clientTop","offsetParent","parentOffset","Height","Width","defaultExtra","funcName","unbind","delegate","undelegate","holdReady","hold","parseJSON","define","_jQuery","_$","$","noConflict","require","config","parserConfig","statementIndent","jsonldMode","jsonld","jsonMode","isTS","typescript","wordRE","wordCharacters","keywords","kw","A","B","C","D","atom","jsKeywords","tsKeywords","isOperatorChar","isJsonldKeyword","readRegexp","inSet","tp","cont","tokenBase","tokenString","tokenComment","expressionAllowed","tokenQuasi","lexical","lastType","propertyIsEnumerable","quote","maybeEnd","brackets","findFatArrow","fatArrowAt","arrow","sawSomething","bracket","atomicTypes","JSLexical","inScope","varname","localVars","cx","vars","parseJS","cc","marked","expression","statement","lex","pass","register","inList","globalVars","defaultVars","pushcontext","popcontext","pushlex","poplex","expect","wanted","exp","vardef","parenExpr","maybeexpression","block","maybeelse","functiondef","forspec","typeexpr","maybelabel","funarg","afterExport","afterImport","expressionInner","expressionNoComma","noComma","arrowBodyNoComma","arrowBody","commasep","maybeop","maybeoperatorNoComma","maybeoperatorComma","classExpression","arrayLiteral","contCommasep","objprop","quasi","maybeTarget","property","continueQuasi","targetNoComma","maybeTypeArgs","getterSetter","afterprop","sep","proceed","maybetype","mayberettype","isKW","afterType","typeprop","typearg","maybeReturnType","typeparam","maybeTypeDefault","maybeAssign","vardefCont","proppattern","_type","forspec1","forspec2","formaybeinof","forspec3","classNameAfter","classBody","classfield","maybeFrom","exportField","importSpec","maybeMoreImports","maybeAs","isContinuedStatement","textAfter","basecolumn","firstChar","c","doubleIndentSwitch","blockCommentStart","blockCommentEnd","blockCommentContinue","lineComment","fold","closeBrackets","skipExpression","ie_lt8","matching","findMatchingBracket","afterCursor","strict","scanForBracket","maxScanLen","maxScanLineLength","maxScanLines","re","bracketRegex","autoclear","maxHighlightLen","maxHighlightLineLength","marks","currentlyHighlighted","doMatchBrackets","oldConfig","WRAP_CLASS","BACK_CLASS","GUTT_CLASS","selectionChange","clearActiveLines","activeLines","updateActiveLines","sameArray","nonEmpty"],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;;;;;;AC7DA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEC,WAAUA,MAAV,EAAkBC,OAAlB,EAA2B;AAC1B,kCAAOC,OAAP,OAAmB,QAAnB,IAA+B,OAAOC,MAAP,KAAkB,WAAjD,GAA+DA,OAAOD,OAAP,GAAiBD,SAAhF,GACA,QAA6C,oCAAOA,OAAP;AAAA;AAAA;AAAA;AAAA,oGAA7C,GACCD,OAAOI,UAAP,GAAoBH,SAFrB;AAGD,CAJA,aAIQ,YAAY;AAAE;;AAEvB;AACA;;AACA,MAAII,YAAYC,UAAUD,SAA1B;AACA,MAAIE,WAAWD,UAAUC,QAAzB;;AAEA,MAAIC,QAAQ,aAAaC,IAAb,CAAkBJ,SAAlB,CAAZ;AACA,MAAIK,YAAY,UAAUD,IAAV,CAAeJ,SAAf,CAAhB;AACA,MAAIM,UAAU,wCAAwCC,IAAxC,CAA6CP,SAA7C,CAAd;AACA,MAAIQ,OAAO,cAAcD,IAAd,CAAmBP,SAAnB,CAAX;AACA,MAAIS,KAAKJ,aAAaC,OAAb,IAAwBE,IAAjC;AACA,MAAIE,aAAaD,OAAOJ,YAAYM,SAASC,YAAT,IAAyB,CAArC,GAAyC,CAAC,CAACJ,QAAQF,OAAT,EAAkB,CAAlB,CAAjD,CAAjB;AACA,MAAIO,SAAS,CAACL,IAAD,IAAS,WAAWJ,IAAX,CAAgBJ,SAAhB,CAAtB;AACA,MAAIc,WAAWD,UAAU,eAAeT,IAAf,CAAoBJ,SAApB,CAAzB;AACA,MAAIe,SAAS,CAACP,IAAD,IAAS,WAAWJ,IAAX,CAAgBJ,SAAhB,CAAtB;AACA,MAAIgB,SAAS,UAAUZ,IAAV,CAAeJ,SAAf,CAAb;AACA,MAAIiB,SAAS,iBAAiBb,IAAjB,CAAsBH,UAAUiB,MAAhC,CAAb;AACA,MAAIC,qBAAqB,+BAA+Bf,IAA/B,CAAoCJ,SAApC,CAAzB;AACA,MAAIoB,UAAU,YAAYhB,IAAZ,CAAiBJ,SAAjB,CAAd;;AAEA,MAAIqB,MAAM,CAACb,IAAD,IAAS,cAAcJ,IAAd,CAAmBJ,SAAnB,CAAT,IAA0C,cAAcI,IAAd,CAAmBJ,SAAnB,CAApD;AACA,MAAIsB,UAAU,UAAUlB,IAAV,CAAeJ,SAAf,CAAd;AACA;AACA,MAAIuB,SAASF,OAAOC,OAAP,IAAkB,mDAAmDlB,IAAnD,CAAwDJ,SAAxD,CAA/B;AACA,MAAIwB,MAAMH,OAAO,MAAMjB,IAAN,CAAWF,QAAX,CAAjB;AACA,MAAIuB,WAAW,WAAWrB,IAAX,CAAgBJ,SAAhB,CAAf;AACA,MAAI0B,UAAU,OAAOtB,IAAP,CAAYF,QAAZ,CAAd;;AAEA,MAAIyB,iBAAiBX,UAAUhB,UAAU4B,KAAV,CAAgB,qBAAhB,CAA/B;AACA,MAAID,cAAJ,EAAoB;AAAEA,qBAAiBE,OAAOF,eAAe,CAAf,CAAP,CAAjB;AAA4C;AAClE,MAAIA,kBAAkBA,kBAAkB,EAAxC,EAA4C;AAAEX,aAAS,KAAT,CAAgBH,SAAS,IAAT;AAAe;AAC7E;AACA,MAAIiB,cAAcN,QAAQV,YAAYE,WAAWW,kBAAkB,IAAlB,IAA0BA,iBAAiB,KAAtD,CAApB,CAAlB;AACA,MAAII,oBAAoB5B,SAAUM,MAAMC,cAAc,CAAtD;;AAEA,WAASsB,SAAT,CAAmBC,GAAnB,EAAwB;AAAE,WAAO,IAAIC,MAAJ,CAAW,YAAYD,GAAZ,GAAkB,eAA7B,CAAP;AAAsD;;AAEhF,MAAIE,UAAU,SAAVA,OAAU,CAASC,IAAT,EAAeH,GAAf,EAAoB;AAChC,QAAII,UAAUD,KAAKE,SAAnB;AACA,QAAIV,QAAQI,UAAUC,GAAV,EAAe1B,IAAf,CAAoB8B,OAApB,CAAZ;AACA,QAAIT,KAAJ,EAAW;AACT,UAAIW,QAAQF,QAAQG,KAAR,CAAcZ,MAAMa,KAAN,GAAcb,MAAM,CAAN,EAASc,MAArC,CAAZ;AACAN,WAAKE,SAAL,GAAiBD,QAAQG,KAAR,CAAc,CAAd,EAAiBZ,MAAMa,KAAvB,KAAiCF,QAAQX,MAAM,CAAN,IAAWW,KAAnB,GAA2B,EAA5D,CAAjB;AACD;AACF,GAPD;;AASA,WAASI,cAAT,CAAwBC,CAAxB,EAA2B;AACzB,SAAK,IAAIC,QAAQD,EAAEE,UAAF,CAAaJ,MAA9B,EAAsCG,QAAQ,CAA9C,EAAiD,EAAEA,KAAnD,EACE;AAAED,QAAEG,WAAF,CAAcH,EAAEI,UAAhB;AAA6B;AACjC,WAAOJ,CAAP;AACD;;AAED,WAASK,oBAAT,CAA8BC,MAA9B,EAAsCN,CAAtC,EAAyC;AACvC,WAAOD,eAAeO,MAAf,EAAuBC,WAAvB,CAAmCP,CAAnC,CAAP;AACD;;AAED,WAASQ,GAAT,CAAaC,GAAb,EAAkBC,OAAlB,EAA2BhB,SAA3B,EAAsCiB,KAAtC,EAA6C;AAC3C,QAAIX,IAAIjC,SAAS6C,aAAT,CAAuBH,GAAvB,CAAR;AACA,QAAIf,SAAJ,EAAe;AAAEM,QAAEN,SAAF,GAAcA,SAAd;AAAyB;AAC1C,QAAIiB,KAAJ,EAAW;AAAEX,QAAEW,KAAF,CAAQE,OAAR,GAAkBF,KAAlB;AAAyB;AACtC,QAAI,OAAOD,OAAP,IAAkB,QAAtB,EAAgC;AAAEV,QAAEO,WAAF,CAAcxC,SAAS+C,cAAT,CAAwBJ,OAAxB,CAAd;AAAiD,KAAnF,MACK,IAAIA,OAAJ,EAAa;AAAE,WAAK,IAAIK,IAAI,CAAb,EAAgBA,IAAIL,QAAQZ,MAA5B,EAAoC,EAAEiB,CAAtC,EAAyC;AAAEf,UAAEO,WAAF,CAAcG,QAAQK,CAAR,CAAd;AAA2B;AAAE;AAC5F,WAAOf,CAAP;AACD;AACD;AACA,WAASgB,IAAT,CAAcP,GAAd,EAAmBC,OAAnB,EAA4BhB,SAA5B,EAAuCiB,KAAvC,EAA8C;AAC5C,QAAIX,IAAIQ,IAAIC,GAAJ,EAASC,OAAT,EAAkBhB,SAAlB,EAA6BiB,KAA7B,CAAR;AACAX,MAAEiB,YAAF,CAAe,MAAf,EAAuB,cAAvB;AACA,WAAOjB,CAAP;AACD;;AAED,MAAIkB,KAAJ;AACA,MAAInD,SAASoD,WAAb,EAA0B;AAAED,YAAQ,eAAS1B,IAAT,EAAe4B,KAAf,EAAsBC,GAAtB,EAA2BC,OAA3B,EAAoC;AACtE,UAAIC,IAAIxD,SAASoD,WAAT,EAAR;AACAI,QAAEC,MAAF,CAASF,WAAW9B,IAApB,EAA0B6B,GAA1B;AACAE,QAAEE,QAAF,CAAWjC,IAAX,EAAiB4B,KAAjB;AACA,aAAOG,CAAP;AACD,KAL2B;AAKzB,GALH,MAMK;AAAEL,YAAQ,eAAS1B,IAAT,EAAe4B,KAAf,EAAsBC,GAAtB,EAA2B;AACxC,UAAIE,IAAIxD,SAAS2D,IAAT,CAAcC,eAAd,EAAR;AACA,UAAI;AAAEJ,UAAEK,iBAAF,CAAoBpC,KAAKqC,UAAzB;AAAsC,OAA5C,CACA,OAAM7B,CAAN,EAAS;AAAE,eAAOuB,CAAP;AAAU;AACrBA,QAAEO,QAAF,CAAW,IAAX;AACAP,QAAEQ,OAAF,CAAU,WAAV,EAAuBV,GAAvB;AACAE,QAAES,SAAF,CAAY,WAAZ,EAAyBZ,KAAzB;AACA,aAAOG,CAAP;AACD,KARM;AAQJ;;AAEH,WAASU,QAAT,CAAkB3B,MAAlB,EAA0B4B,KAA1B,EAAiC;AAC/B,QAAIA,MAAMC,QAAN,IAAkB,CAAtB,EAAyB;AACvB;AAAED,gBAAQA,MAAML,UAAd;AAA0B;AAC9B,QAAIvB,OAAO2B,QAAX,EACE;AAAE,aAAO3B,OAAO2B,QAAP,CAAgBC,KAAhB,CAAP;AAA+B;AACnC,OAAG;AACD,UAAIA,MAAMC,QAAN,IAAkB,EAAtB,EAA0B;AAAED,gBAAQA,MAAME,IAAd;AAAoB;AAChD,UAAIF,SAAS5B,MAAb,EAAqB;AAAE,eAAO,IAAP;AAAa;AACrC,KAHD,QAGS4B,QAAQA,MAAML,UAHvB;AAID;;AAED,WAASQ,SAAT,GAAqB;AACnB;AACA;AACA;AACA,QAAIC,aAAJ;AACA,QAAI;AACFA,sBAAgBvE,SAASuE,aAAzB;AACD,KAFD,CAEE,OAAMtC,CAAN,EAAS;AACTsC,sBAAgBvE,SAAS2D,IAAT,IAAiB,IAAjC;AACD;AACD,WAAOY,iBAAiBA,cAAcC,UAA/B,IAA6CD,cAAcC,UAAd,CAAyBD,aAA7E,EACE;AAAEA,sBAAgBA,cAAcC,UAAd,CAAyBD,aAAzC;AAAwD;AAC5D,WAAOA,aAAP;AACD;;AAED,WAASE,QAAT,CAAkBhD,IAAlB,EAAwBH,GAAxB,EAA6B;AAC3B,QAAII,UAAUD,KAAKE,SAAnB;AACA,QAAI,CAACN,UAAUC,GAAV,EAAe7B,IAAf,CAAoBiC,OAApB,CAAL,EAAmC;AAAED,WAAKE,SAAL,IAAkB,CAACD,UAAU,GAAV,GAAgB,EAAjB,IAAuBJ,GAAzC;AAA8C;AACpF;AACD,WAASoD,WAAT,CAAqBC,CAArB,EAAwBC,CAAxB,EAA2B;AACzB,QAAIC,KAAKF,EAAEG,KAAF,CAAQ,GAAR,CAAT;AACA,SAAK,IAAI9B,IAAI,CAAb,EAAgBA,IAAI6B,GAAG9C,MAAvB,EAA+BiB,GAA/B,EACE;AAAE,UAAI6B,GAAG7B,CAAH,KAAS,CAAC3B,UAAUwD,GAAG7B,CAAH,CAAV,EAAiBvD,IAAjB,CAAsBmF,CAAtB,CAAd,EAAwC;AAAEA,aAAK,MAAMC,GAAG7B,CAAH,CAAX;AAAkB;AAAE;AAClE,WAAO4B,CAAP;AACD;;AAED,MAAIG,cAAc,qBAAStD,IAAT,EAAe;AAAEA,SAAKuD,MAAL;AAAe,GAAlD;AACA,MAAItE,GAAJ,EAAS;AACP;AAAEqE,oBAAc,qBAAStD,IAAT,EAAe;AAAEA,aAAKwD,cAAL,GAAsB,CAAtB,CAAyBxD,KAAKyD,YAAL,GAAoBzD,KAAK0D,KAAL,CAAWpD,MAA/B;AAAuC,OAA/F;AAAiG,KADrG,MAEK,IAAIjC,EAAJ,EAAQ;AACX;AAAEiF,oBAAc,qBAAStD,IAAT,EAAe;AAAE,YAAI;AAAEA,eAAKuD,MAAL;AAAe,SAArB,CAAsB,OAAMI,EAAN,EAAU,CAAE;AAAE,OAAnE;AAAqE;;AAEzE,WAASC,IAAT,CAAcC,CAAd,EAAiB;AACf,QAAIC,OAAOC,MAAMC,SAAN,CAAgB5D,KAAhB,CAAsB6D,IAAtB,CAA2BC,SAA3B,EAAsC,CAAtC,CAAX;AACA,WAAO,YAAU;AAAC,aAAOL,EAAEM,KAAF,CAAQ,IAAR,EAAcL,IAAd,CAAP;AAA2B,KAA7C;AACD;;AAED,WAASM,OAAT,CAAiBC,GAAjB,EAAsBC,MAAtB,EAA8BC,SAA9B,EAAyC;AACvC,QAAI,CAACD,MAAL,EAAa;AAAEA,eAAS,EAAT;AAAa;AAC5B,SAAK,IAAIE,IAAT,IAAiBH,GAAjB,EACE;AAAE,UAAIA,IAAII,cAAJ,CAAmBD,IAAnB,MAA6BD,cAAc,KAAd,IAAuB,CAACD,OAAOG,cAAP,CAAsBD,IAAtB,CAArD,CAAJ,EACA;AAAEF,eAAOE,IAAP,IAAeH,IAAIG,IAAJ,CAAf;AAA0B;AAAE;AAClC,WAAOF,MAAP;AACD;;AAED;AACA;AACA,WAASI,WAAT,CAAqBC,MAArB,EAA6B9C,GAA7B,EAAkC+C,OAAlC,EAA2CC,UAA3C,EAAuDC,UAAvD,EAAmE;AACjE,QAAIjD,OAAO,IAAX,EAAiB;AACfA,YAAM8C,OAAOI,MAAP,CAAc,aAAd,CAAN;AACA,UAAIlD,OAAO,CAAC,CAAZ,EAAe;AAAEA,cAAM8C,OAAOrE,MAAb;AAAqB;AACvC;AACD,SAAK,IAAIiB,IAAIsD,cAAc,CAAtB,EAAyBG,IAAIF,cAAc,CAAhD,IAAqD;AACnD,UAAIG,UAAUN,OAAOO,OAAP,CAAe,IAAf,EAAqB3D,CAArB,CAAd;AACA,UAAI0D,UAAU,CAAV,IAAeA,WAAWpD,GAA9B,EACE;AAAE,eAAOmD,KAAKnD,MAAMN,CAAX,CAAP;AAAsB;AAC1ByD,WAAKC,UAAU1D,CAAf;AACAyD,WAAKJ,UAAWI,IAAIJ,OAApB;AACArD,UAAI0D,UAAU,CAAd;AACD;AACF;;AAED,MAAIE,UAAU,SAAVA,OAAU,GAAW;AAAC,SAAKC,EAAL,GAAU,IAAV;AAAe,GAAzC;AACAD,UAAQnB,SAAR,CAAkBqB,GAAlB,GAAwB,UAAUC,EAAV,EAAczB,CAAd,EAAiB;AACvC0B,iBAAa,KAAKH,EAAlB;AACA,SAAKA,EAAL,GAAUI,WAAW3B,CAAX,EAAcyB,EAAd,CAAV;AACD,GAHD;;AAKA,WAASJ,OAAT,CAAiBO,KAAjB,EAAwBzE,GAAxB,EAA6B;AAC3B,SAAK,IAAIO,IAAI,CAAb,EAAgBA,IAAIkE,MAAMnF,MAA1B,EAAkC,EAAEiB,CAApC,EACE;AAAE,UAAIkE,MAAMlE,CAAN,KAAYP,GAAhB,EAAqB;AAAE,eAAOO,CAAP;AAAU;AAAE;AACvC,WAAO,CAAC,CAAR;AACD;;AAED;AACA,MAAImE,cAAc,EAAlB;;AAEA;AACA;AACA,MAAIC,OAAO,EAACC,UAAU,oBAAU;AAAC,aAAO,iBAAP;AAAyB;;AAE1D;AAFW,GAAX,CAGA,IAAIC,iBAAiB,EAACC,QAAQ,KAAT,EAArB;AACA,MAAIC,YAAY,EAACC,QAAQ,QAAT,EAAhB;AACA,MAAIC,WAAW,EAACD,QAAQ,OAAT,EAAf;AACA;AACA;AACA,WAASE,UAAT,CAAoBvB,MAApB,EAA4BwB,IAA5B,EAAkCvB,OAAlC,EAA2C;AACzC,SAAK,IAAIwB,MAAM,CAAV,EAAaC,MAAM,CAAxB,IAA6B;AAC3B,UAAIpB,UAAUN,OAAOO,OAAP,CAAe,IAAf,EAAqBkB,GAArB,CAAd;AACA,UAAInB,WAAW,CAAC,CAAhB,EAAmB;AAAEA,kBAAUN,OAAOrE,MAAjB;AAAyB;AAC9C,UAAIgG,UAAUrB,UAAUmB,GAAxB;AACA,UAAInB,WAAWN,OAAOrE,MAAlB,IAA4B+F,MAAMC,OAAN,IAAiBH,IAAjD,EACE;AAAE,eAAOC,MAAMG,KAAKC,GAAL,CAASF,OAAT,EAAkBH,OAAOE,GAAzB,CAAb;AAA4C;AAChDA,aAAOpB,UAAUmB,GAAjB;AACAC,aAAOzB,UAAWyB,MAAMzB,OAAxB;AACAwB,YAAMnB,UAAU,CAAhB;AACA,UAAIoB,OAAOF,IAAX,EAAiB;AAAE,eAAOC,GAAP;AAAY;AAChC;AACF;;AAED,MAAIK,YAAY,CAAC,EAAD,CAAhB;AACA,WAASC,QAAT,CAAkB1B,CAAlB,EAAqB;AACnB,WAAOyB,UAAUnG,MAAV,IAAoB0E,CAA3B,EACE;AAAEyB,gBAAUE,IAAV,CAAeC,IAAIH,SAAJ,IAAiB,GAAhC;AAAsC;AAC1C,WAAOA,UAAUzB,CAAV,CAAP;AACD;;AAED,WAAS4B,GAAT,CAAaC,GAAb,EAAkB;AAAE,WAAOA,IAAIA,IAAIvG,MAAJ,GAAW,CAAf,CAAP;AAA0B;;AAE9C,WAASwG,GAAT,CAAarB,KAAb,EAAoB5B,CAApB,EAAuB;AACrB,QAAIkD,MAAM,EAAV;AACA,SAAK,IAAIxF,IAAI,CAAb,EAAgBA,IAAIkE,MAAMnF,MAA1B,EAAkCiB,GAAlC,EAAuC;AAAEwF,UAAIxF,CAAJ,IAASsC,EAAE4B,MAAMlE,CAAN,CAAF,EAAYA,CAAZ,CAAT;AAAyB;AAClE,WAAOwF,GAAP;AACD;;AAED,WAASC,YAAT,CAAsBvB,KAAtB,EAA6B/B,KAA7B,EAAoCuD,KAApC,EAA2C;AACzC,QAAIb,MAAM,CAAV;AAAA,QAAac,WAAWD,MAAMvD,KAAN,CAAxB;AACA,WAAO0C,MAAMX,MAAMnF,MAAZ,IAAsB2G,MAAMxB,MAAMW,GAAN,CAAN,KAAqBc,QAAlD,EAA4D;AAAEd;AAAO;AACrEX,UAAM0B,MAAN,CAAaf,GAAb,EAAkB,CAAlB,EAAqB1C,KAArB;AACD;;AAED,WAAS0D,OAAT,GAAmB,CAAE;;AAErB,WAASC,SAAT,CAAmBC,IAAnB,EAAyBC,KAAzB,EAAgC;AAC9B,QAAIC,IAAJ;AACA,QAAIC,OAAOC,MAAX,EAAmB;AACjBF,aAAOC,OAAOC,MAAP,CAAcJ,IAAd,CAAP;AACD,KAFD,MAEO;AACLF,cAAQpD,SAAR,GAAoBsD,IAApB;AACAE,aAAO,IAAIJ,OAAJ,EAAP;AACD;AACD,QAAIG,KAAJ,EAAW;AAAEnD,cAAQmD,KAAR,EAAeC,IAAf;AAAsB;AACnC,WAAOA,IAAP;AACD;;AAED,MAAIG,6BAA6B,2GAAjC;AACA,WAASC,eAAT,CAAyBC,EAAzB,EAA6B;AAC3B,WAAO,MAAK7J,IAAL,CAAU6J,EAAV,KAAiBA,KAAK,MAAL,KACrBA,GAAGC,WAAH,MAAoBD,GAAGE,WAAH,EAApB,IAAwCJ,2BAA2B3J,IAA3B,CAAgC6J,EAAhC,CADnB;AAAxB;AAED;AACD,WAASG,UAAT,CAAoBH,EAApB,EAAwBI,MAAxB,EAAgC;AAC9B,QAAI,CAACA,MAAL,EAAa;AAAE,aAAOL,gBAAgBC,EAAhB,CAAP;AAA4B;AAC3C,QAAII,OAAOC,MAAP,CAAchD,OAAd,CAAsB,KAAtB,IAA+B,CAAC,CAAhC,IAAqC0C,gBAAgBC,EAAhB,CAAzC,EAA8D;AAAE,aAAO,IAAP;AAAa;AAC7E,WAAOI,OAAOjK,IAAP,CAAY6J,EAAZ,CAAP;AACD;;AAED,WAASM,OAAT,CAAiB9D,GAAjB,EAAsB;AACpB,SAAK,IAAIW,CAAT,IAAcX,GAAd,EAAmB;AAAE,UAAIA,IAAII,cAAJ,CAAmBO,CAAnB,KAAyBX,IAAIW,CAAJ,CAA7B,EAAqC;AAAE,eAAO,KAAP;AAAc;AAAE;AAC5E,WAAO,IAAP;AACD;;AAED;AACA;AACA;AACA;AACA;AACA,MAAIoD,iBAAiB,44DAArB;AACA,WAASC,eAAT,CAAyBR,EAAzB,EAA6B;AAAE,WAAOA,GAAGS,UAAH,CAAc,CAAd,KAAoB,GAApB,IAA2BF,eAAepK,IAAf,CAAoB6J,EAApB,CAAlC;AAA2D;;AAE1F;AACA,WAASU,kBAAT,CAA4BC,GAA5B,EAAiCpC,GAAjC,EAAsCqC,GAAtC,EAA2C;AACzC,WAAO,CAACA,MAAM,CAAN,GAAUrC,MAAM,CAAhB,GAAoBA,MAAMoC,IAAIlI,MAA/B,KAA0C+H,gBAAgBG,IAAIE,MAAJ,CAAWtC,GAAX,CAAhB,CAAjD,EAAmF;AAAEA,aAAOqC,GAAP;AAAY;AACjG,WAAOrC,GAAP;AACD;;AAED;AACA;AACA;AACA,WAASuC,SAAT,CAAmBC,IAAnB,EAAyBC,IAAzB,EAA+BC,EAA/B,EAAmC;AACjC;AACA;AACA,QAAIL,MAAMI,OAAOC,EAAP,GAAY,CAAC,CAAb,GAAiB,CAA3B;AACA,aAAS;AACP,UAAID,QAAQC,EAAZ,EAAgB;AAAE,eAAOD,IAAP;AAAa;AAC/B,UAAIE,OAAO,CAACF,OAAOC,EAAR,IAAc,CAAzB;AAAA,UAA4BE,MAAMP,MAAM,CAAN,GAAUlC,KAAK0C,IAAL,CAAUF,IAAV,CAAV,GAA4BxC,KAAK2C,KAAL,CAAWH,IAAX,CAA9D;AACA,UAAIC,OAAOH,IAAX,EAAiB;AAAE,eAAOD,KAAKI,GAAL,IAAYH,IAAZ,GAAmBC,EAA1B;AAA8B;AACjD,UAAIF,KAAKI,GAAL,CAAJ,EAAe;AAAEF,aAAKE,GAAL;AAAU,OAA3B,MACK;AAAEH,eAAOG,MAAMP,GAAb;AAAkB;AAC1B;AACF;;AAED;AACA;AACA;;AAEA,WAASU,OAAT,CAAiBC,KAAjB,EAAwBC,GAAxB,EAA6BC,KAA7B,EAAoC;AAClC,QAAIC,IAAI,IAAR;AACA,SAAKD,KAAL,GAAaA,KAAb;;AAEA;AACAC,MAAEC,eAAF,GAAoBxI,IAAI,KAAJ,EAAW,IAAX,EAAiB,6BAAjB,CAApB;AACAuI,MAAEC,eAAF,CAAkB/H,YAAlB,CAA+B,gBAA/B,EAAiD,MAAjD;AACA;AACA;AACA8H,MAAEE,YAAF,GAAiBzI,IAAI,KAAJ,EAAW,IAAX,EAAiB,0BAAjB,CAAjB;AACAuI,MAAEE,YAAF,CAAehI,YAAf,CAA4B,gBAA5B,EAA8C,MAA9C;AACA;AACA8H,MAAEG,OAAF,GAAYlI,KAAK,KAAL,EAAY,IAAZ,EAAkB,iBAAlB,CAAZ;AACA;AACA+H,MAAEI,YAAF,GAAiB3I,IAAI,KAAJ,EAAW,IAAX,EAAiB,IAAjB,EAAuB,gCAAvB,CAAjB;AACAuI,MAAEK,SAAF,GAAc5I,IAAI,KAAJ,EAAW,IAAX,EAAiB,oBAAjB,CAAd;AACA;AACAuI,MAAEM,OAAF,GAAY7I,IAAI,KAAJ,EAAW,IAAX,EAAiB,oBAAjB,CAAZ;AACA;AACAuI,MAAEO,WAAF,GAAgB9I,IAAI,KAAJ,EAAW,IAAX,EAAiB,oBAAjB,CAAhB;AACA;AACAuI,MAAEQ,SAAF,GAAcvI,KAAK,KAAL,EAAY,CAAC+H,EAAEM,OAAH,EAAYN,EAAEO,WAAd,EAA2BP,EAAEI,YAA7B,EAA2CJ,EAAEK,SAA7C,EAAwDL,EAAEG,OAA1D,CAAZ,EACI,IADJ,EACU,mCADV,CAAd;AAEA,QAAIM,QAAQxI,KAAK,KAAL,EAAY,CAAC+H,EAAEQ,SAAH,CAAZ,EAA2B,kBAA3B,CAAZ;AACA;AACAR,MAAEU,KAAF,GAAUjJ,IAAI,KAAJ,EAAW,CAACgJ,KAAD,CAAX,EAAoB,IAApB,EAA0B,oBAA1B,CAAV;AACA;AACAT,MAAEW,KAAF,GAAUlJ,IAAI,KAAJ,EAAW,CAACuI,EAAEU,KAAH,CAAX,EAAsB,kBAAtB,CAAV;AACAV,MAAEY,UAAF,GAAe,IAAf;AACA;AACA;AACA;AACAZ,MAAEa,YAAF,GAAiBpJ,IAAI,KAAJ,EAAW,IAAX,EAAiB,IAAjB,EAAuB,iCAAiC0E,WAAjC,GAA+C,iBAAtE,CAAjB;AACA;AACA6D,MAAEc,OAAF,GAAYrJ,IAAI,KAAJ,EAAW,IAAX,EAAiB,oBAAjB,CAAZ;AACAuI,MAAEe,UAAF,GAAe,IAAf;AACA;AACAf,MAAEgB,QAAF,GAAavJ,IAAI,KAAJ,EAAW,CAACuI,EAAEW,KAAH,EAAUX,EAAEa,YAAZ,EAA0Bb,EAAEc,OAA5B,CAAX,EAAiD,mBAAjD,CAAb;AACAd,MAAEgB,QAAF,CAAW9I,YAAX,CAAwB,UAAxB,EAAoC,IAApC;AACA;AACA8H,MAAEiB,OAAF,GAAYxJ,IAAI,KAAJ,EAAW,CAACuI,EAAEC,eAAH,EAAoBD,EAAEE,YAAtB,EAAoCF,EAAEgB,QAAtC,CAAX,EAA4D,YAA5D,CAAZ;;AAEA;AACA,QAAIlM,MAAMC,aAAa,CAAvB,EAA0B;AAAEiL,QAAEc,OAAF,CAAUlJ,KAAV,CAAgBsJ,MAAhB,GAAyB,CAAC,CAA1B,CAA6BlB,EAAEgB,QAAF,CAAWpJ,KAAX,CAAiBuJ,YAAjB,GAAgC,CAAhC;AAAmC;AAC5F,QAAI,CAACjM,MAAD,IAAW,EAAEV,SAASoB,MAAX,CAAf,EAAmC;AAAEoK,QAAEgB,QAAF,CAAWI,SAAX,GAAuB,IAAvB;AAA6B;;AAElE,QAAIvB,KAAJ,EAAW;AACT,UAAIA,MAAMrI,WAAV,EAAuB;AAAEqI,cAAMrI,WAAN,CAAkBwI,EAAEiB,OAApB;AAA8B,OAAvD,MACK;AAAEpB,cAAMG,EAAEiB,OAAR;AAAkB;AAC1B;;AAED;AACAjB,MAAEqB,QAAF,GAAarB,EAAEsB,MAAF,GAAWxB,IAAIyB,KAA5B;AACAvB,MAAEwB,gBAAF,GAAqBxB,EAAEyB,cAAF,GAAmB3B,IAAIyB,KAA5C;AACA;AACAvB,MAAE0B,IAAF,GAAS,EAAT;AACA1B,MAAE2B,YAAF,GAAiB,IAAjB;AACA;AACA;AACA3B,MAAE4B,gBAAF,GAAqB,IAArB;AACA;AACA5B,MAAE6B,UAAF,GAAe,CAAf;AACA7B,MAAE8B,cAAF,GAAmB9B,EAAE+B,aAAF,GAAkB,CAArC;AACA/B,MAAEgC,iBAAF,GAAsB,IAAtB;;AAEAhC,MAAEiC,cAAF,GAAmBjC,EAAEkC,SAAF,GAAclC,EAAEmC,QAAF,GAAa,CAA9C;AACAnC,MAAEoC,iBAAF,GAAsB,KAAtB;;AAEA;AACA;AACApC,MAAEqC,YAAF,GAAiBrC,EAAEsC,iBAAF,GAAsBtC,EAAEuC,YAAF,GAAiB,IAAxD;AACA;AACA;AACA;AACAvC,MAAEwC,YAAF,GAAiB,KAAjB;;AAEAxC,MAAEyC,eAAF,GAAoBzC,EAAE0C,gBAAF,GAAqB1C,EAAE2C,cAAF,GAAmB,IAA5D;;AAEA;AACA;AACA3C,MAAE4C,OAAF,GAAY,IAAZ;AACA5C,MAAE6C,aAAF,GAAkB,CAAlB;AACA7C,MAAE8C,cAAF,GAAmB,KAAnB;;AAEA;AACA9C,MAAE+C,OAAF,GAAY/C,EAAEgD,OAAF,GAAYhD,EAAEiD,WAAF,GAAgBjD,EAAEkD,WAAF,GAAgB,IAAxD;;AAEA;AACAlD,MAAEmD,KAAF,GAAU,KAAV;;AAEA;AACA;AACAnD,MAAEoD,iBAAF,GAAsB,IAAtB;;AAEApD,MAAEqD,WAAF,GAAgB,IAAhB;;AAEAtD,UAAMuD,IAAN,CAAWtD,CAAX;AACD;;AAED;AACA,WAASuD,OAAT,CAAiBzD,GAAjB,EAAsBrE,CAAtB,EAAyB;AACvBA,SAAKqE,IAAIyB,KAAT;AACA,QAAI9F,IAAI,CAAJ,IAASA,KAAKqE,IAAI0D,IAAtB,EAA4B;AAAE,YAAM,IAAIC,KAAJ,CAAU,uBAAuBhI,IAAIqE,IAAIyB,KAA/B,IAAwC,mBAAlD,CAAN;AAA8E;AAC5G,QAAImC,QAAQ5D,GAAZ;AACA,WAAO,CAAC4D,MAAMjD,KAAd,EAAqB;AACnB,WAAK,IAAIzI,IAAI,CAAb,GAAiB,EAAEA,CAAnB,EAAsB;AACpB,YAAImB,QAAQuK,MAAMC,QAAN,CAAe3L,CAAf,CAAZ;AAAA,YAA+B4L,KAAKzK,MAAM0K,SAAN,EAApC;AACA,YAAIpI,IAAImI,EAAR,EAAY;AAAEF,kBAAQvK,KAAR,CAAe;AAAO;AACpCsC,aAAKmI,EAAL;AACD;AACF;AACD,WAAOF,MAAMjD,KAAN,CAAYhF,CAAZ,CAAP;AACD;;AAED;AACA;AACA,WAASqI,UAAT,CAAoBhE,GAApB,EAAyBzH,KAAzB,EAAgCC,GAAhC,EAAqC;AACnC,QAAIkF,MAAM,EAAV;AAAA,QAAc/B,IAAIpD,MAAM0L,IAAxB;AACAjE,QAAIkE,IAAJ,CAAS3L,MAAM0L,IAAf,EAAqBzL,IAAIyL,IAAJ,GAAW,CAAhC,EAAmC,UAAUA,IAAV,EAAgB;AACjD,UAAIE,OAAOF,KAAKE,IAAhB;AACA,UAAIxI,KAAKnD,IAAIyL,IAAb,EAAmB;AAAEE,eAAOA,KAAKpN,KAAL,CAAW,CAAX,EAAcyB,IAAIgG,EAAlB,CAAP;AAA8B;AACnD,UAAI7C,KAAKpD,MAAM0L,IAAf,EAAqB;AAAEE,eAAOA,KAAKpN,KAAL,CAAWwB,MAAMiG,EAAjB,CAAP;AAA6B;AACpDd,UAAIJ,IAAJ,CAAS6G,IAAT;AACA,QAAExI,CAAF;AACD,KAND;AAOA,WAAO+B,GAAP;AACD;AACD;AACA,WAAS0G,QAAT,CAAkBpE,GAAlB,EAAuBR,IAAvB,EAA6BC,EAA7B,EAAiC;AAC/B,QAAI/B,MAAM,EAAV;AACAsC,QAAIkE,IAAJ,CAAS1E,IAAT,EAAeC,EAAf,EAAmB,UAAUwE,IAAV,EAAgB;AAAEvG,UAAIJ,IAAJ,CAAS2G,KAAKE,IAAd;AAAqB,KAA1D,EAF+B,CAE6B;AAC5D,WAAOzG,GAAP;AACD;;AAED;AACA;AACA,WAAS2G,gBAAT,CAA0BJ,IAA1B,EAAgCK,MAAhC,EAAwC;AACtC,QAAIC,OAAOD,SAASL,KAAKK,MAAzB;AACA,QAAIC,IAAJ,EAAU;AAAE,WAAK,IAAI5I,IAAIsI,IAAb,EAAmBtI,CAAnB,EAAsBA,IAAIA,EAAElE,MAA5B,EAAoC;AAAEkE,UAAE2I,MAAF,IAAYC,IAAZ;AAAkB;AAAE;AACvE;;AAED;AACA;AACA,WAASC,MAAT,CAAgBP,IAAhB,EAAsB;AACpB,QAAIA,KAAKxM,MAAL,IAAe,IAAnB,EAAyB;AAAE,aAAO,IAAP;AAAa;AACxC,QAAIgN,MAAMR,KAAKxM,MAAf;AAAA,QAAuBiN,KAAK7I,QAAQ4I,IAAI9D,KAAZ,EAAmBsD,IAAnB,CAA5B;AACA,SAAK,IAAIL,QAAQa,IAAIhN,MAArB,EAA6BmM,KAA7B,EAAoCa,MAAMb,KAAN,EAAaA,QAAQA,MAAMnM,MAA/D,EAAuE;AACrE,WAAK,IAAIS,IAAI,CAAb,GAAiB,EAAEA,CAAnB,EAAsB;AACpB,YAAI0L,MAAMC,QAAN,CAAe3L,CAAf,KAAqBuM,GAAzB,EAA8B;AAAE;AAAO;AACvCC,cAAMd,MAAMC,QAAN,CAAe3L,CAAf,EAAkB6L,SAAlB,EAAN;AACD;AACF;AACD,WAAOW,KAAKD,IAAIhD,KAAhB;AACD;;AAED;AACA;AACA,WAASkD,aAAT,CAAsBf,KAAtB,EAA6BgB,CAA7B,EAAgC;AAC9B,QAAIjJ,IAAIiI,MAAMnC,KAAd;AACAoD,WAAO,GAAG;AACR,WAAK,IAAIC,MAAM,CAAf,EAAkBA,MAAMlB,MAAMC,QAAN,CAAe5M,MAAvC,EAA+C,EAAE6N,GAAjD,EAAsD;AACpD,YAAIzL,QAAQuK,MAAMC,QAAN,CAAeiB,GAAf,CAAZ;AAAA,YAAiCtG,KAAKnF,MAAMiL,MAA5C;AACA,YAAIM,IAAIpG,EAAR,EAAY;AAAEoF,kBAAQvK,KAAR,CAAe,SAASwL,KAAT;AAAgB;AAC7CD,aAAKpG,EAAL;AACA7C,aAAKtC,MAAM0K,SAAN,EAAL;AACD;AACD,aAAOpI,CAAP;AACD,KARM,QAQE,CAACiI,MAAMjD,KART;AASP,QAAIzI,IAAI,CAAR;AACA,WAAOA,IAAI0L,MAAMjD,KAAN,CAAY1J,MAAvB,EAA+B,EAAEiB,CAAjC,EAAoC;AAClC,UAAI+L,OAAOL,MAAMjD,KAAN,CAAYzI,CAAZ,CAAX;AAAA,UAA2B6M,KAAKd,KAAKK,MAArC;AACA,UAAIM,IAAIG,EAAR,EAAY;AAAE;AAAO;AACrBH,WAAKG,EAAL;AACD;AACD,WAAOpJ,IAAIzD,CAAX;AACD;;AAED,WAAS8M,MAAT,CAAgBhF,GAAhB,EAAqBiF,CAArB,EAAwB;AAAC,WAAOA,KAAKjF,IAAIyB,KAAT,IAAkBwD,IAAIjF,IAAIyB,KAAJ,GAAYzB,IAAI0D,IAA7C;AAAkD;;AAE3E,WAASwB,aAAT,CAAuBC,OAAvB,EAAgCjN,CAAhC,EAAmC;AACjC,WAAOkN,OAAOD,QAAQE,mBAAR,CAA4BnN,IAAIiN,QAAQG,eAAxC,CAAP,CAAP;AACD;;AAED;AACA,WAASC,GAAT,CAAatB,IAAb,EAAmBzF,EAAnB,EAAuBgH,MAAvB,EAA+B;AAC7B,QAAKA,WAAW,KAAK,CAArB,EAAyBA,SAAS,IAAT;;AAEzB,QAAI,EAAE,gBAAgBD,GAAlB,CAAJ,EAA4B;AAAE,aAAO,IAAIA,GAAJ,CAAQtB,IAAR,EAAczF,EAAd,EAAkBgH,MAAlB,CAAP;AAAkC;AAChE,SAAKvB,IAAL,GAAYA,IAAZ;AACA,SAAKzF,EAAL,GAAUA,EAAV;AACA,SAAKgH,MAAL,GAAcA,MAAd;AACD;;AAED;AACA;AACA,WAASC,GAAT,CAAa5L,CAAb,EAAgBC,CAAhB,EAAmB;AAAE,WAAOD,EAAEoK,IAAF,GAASnK,EAAEmK,IAAX,IAAmBpK,EAAE2E,EAAF,GAAO1E,EAAE0E,EAAnC;AAAuC;;AAE5D,WAASkH,cAAT,CAAwB7L,CAAxB,EAA2BC,CAA3B,EAA8B;AAAE,WAAOD,EAAE2L,MAAF,IAAY1L,EAAE0L,MAAd,IAAwBC,IAAI5L,CAAJ,EAAOC,CAAP,KAAa,CAA5C;AAA+C;;AAE/E,WAAS6L,OAAT,CAAiBC,CAAjB,EAAoB;AAAC,WAAOL,IAAIK,EAAE3B,IAAN,EAAY2B,EAAEpH,EAAd,CAAP;AAAyB;AAC9C,WAASqH,MAAT,CAAgBhM,CAAhB,EAAmBC,CAAnB,EAAsB;AAAE,WAAO2L,IAAI5L,CAAJ,EAAOC,CAAP,IAAY,CAAZ,GAAgBA,CAAhB,GAAoBD,CAA3B;AAA8B;AACtD,WAASiM,MAAT,CAAgBjM,CAAhB,EAAmBC,CAAnB,EAAsB;AAAE,WAAO2L,IAAI5L,CAAJ,EAAOC,CAAP,IAAY,CAAZ,GAAgBD,CAAhB,GAAoBC,CAA3B;AAA8B;;AAEtD;AACA;AACA,WAASiM,QAAT,CAAkB/F,GAAlB,EAAuBrE,CAAvB,EAA0B;AAAC,WAAOuB,KAAK8I,GAAL,CAAShG,IAAIyB,KAAb,EAAoBvE,KAAKC,GAAL,CAASxB,CAAT,EAAYqE,IAAIyB,KAAJ,GAAYzB,IAAI0D,IAAhB,GAAuB,CAAnC,CAApB,CAAP;AAAkE;AAC7F,WAASuC,QAAT,CAAiBjG,GAAjB,EAAsBjD,GAAtB,EAA2B;AACzB,QAAIA,IAAIkH,IAAJ,GAAWjE,IAAIyB,KAAnB,EAA0B;AAAE,aAAO8D,IAAIvF,IAAIyB,KAAR,EAAe,CAAf,CAAP;AAA0B;AACtD,QAAIyE,OAAOlG,IAAIyB,KAAJ,GAAYzB,IAAI0D,IAAhB,GAAuB,CAAlC;AACA,QAAI3G,IAAIkH,IAAJ,GAAWiC,IAAf,EAAqB;AAAE,aAAOX,IAAIW,IAAJ,EAAUzC,QAAQzD,GAAR,EAAakG,IAAb,EAAmB/B,IAAnB,CAAwBlN,MAAlC,CAAP;AAAkD;AACzE,WAAOkP,UAAUpJ,GAAV,EAAe0G,QAAQzD,GAAR,EAAajD,IAAIkH,IAAjB,EAAuBE,IAAvB,CAA4BlN,MAA3C,CAAP;AACD;AACD,WAASkP,SAAT,CAAmBpJ,GAAnB,EAAwBqJ,OAAxB,EAAiC;AAC/B,QAAI5H,KAAKzB,IAAIyB,EAAb;AACA,QAAIA,MAAM,IAAN,IAAcA,KAAK4H,OAAvB,EAAgC;AAAE,aAAOb,IAAIxI,IAAIkH,IAAR,EAAcmC,OAAd,CAAP;AAA+B,KAAjE,MACK,IAAI5H,KAAK,CAAT,EAAY;AAAE,aAAO+G,IAAIxI,IAAIkH,IAAR,EAAc,CAAd,CAAP;AAAyB,KAAvC,MACA;AAAE,aAAOlH,GAAP;AAAY;AACpB;AACD,WAASsJ,YAAT,CAAsBrG,GAAtB,EAA2B5D,KAA3B,EAAkC;AAChC,QAAIsB,MAAM,EAAV;AACA,SAAK,IAAIxF,IAAI,CAAb,EAAgBA,IAAIkE,MAAMnF,MAA1B,EAAkCiB,GAAlC,EAAuC;AAAEwF,UAAIxF,CAAJ,IAAS+N,SAAQjG,GAAR,EAAa5D,MAAMlE,CAAN,CAAb,CAAT;AAAiC;AAC1E,WAAOwF,GAAP;AACD;;AAED;AACA,MAAI4I,mBAAmB,KAAvB;AACA,MAAIC,oBAAoB,KAAxB;AACA,WAASC,gBAAT,GAA4B;AAC1BF,uBAAmB,IAAnB;AACD;;AAED,WAASG,iBAAT,GAA6B;AAC3BF,wBAAoB,IAApB;AACD;;AAED;;AAEA,WAASG,UAAT,CAAoBC,MAApB,EAA4BnH,IAA5B,EAAkCC,EAAlC,EAAsC;AACpC,SAAKkH,MAAL,GAAcA,MAAd;AACA,SAAKnH,IAAL,GAAYA,IAAZ,CAAkB,KAAKC,EAAL,GAAUA,EAAV;AACnB;;AAED;AACA,WAASmH,gBAAT,CAA0BC,KAA1B,EAAiCF,MAAjC,EAAyC;AACvC,QAAIE,KAAJ,EAAW;AAAE,WAAK,IAAI3O,IAAI,CAAb,EAAgBA,IAAI2O,MAAM5P,MAA1B,EAAkC,EAAEiB,CAApC,EAAuC;AAClD,YAAI4O,OAAOD,MAAM3O,CAAN,CAAX;AACA,YAAI4O,KAAKH,MAAL,IAAeA,MAAnB,EAA2B;AAAE,iBAAOG,IAAP;AAAa;AAC3C;AAAE;AACJ;AACD;AACA;AACA,WAASC,gBAAT,CAA0BF,KAA1B,EAAiCC,IAAjC,EAAuC;AACrC,QAAIpO,CAAJ;AACA,SAAK,IAAIR,IAAI,CAAb,EAAgBA,IAAI2O,MAAM5P,MAA1B,EAAkC,EAAEiB,CAApC,EACE;AAAE,UAAI2O,MAAM3O,CAAN,KAAY4O,IAAhB,EAAsB;AAAE,SAACpO,MAAMA,IAAI,EAAV,CAAD,EAAgB4E,IAAhB,CAAqBuJ,MAAM3O,CAAN,CAArB;AAAgC;AAAE;AAC9D,WAAOQ,CAAP;AACD;AACD;AACA,WAASsO,aAAT,CAAuB/C,IAAvB,EAA6B6C,IAA7B,EAAmC;AACjC7C,SAAKgD,WAAL,GAAmBhD,KAAKgD,WAAL,GAAmBhD,KAAKgD,WAAL,CAAiBC,MAAjB,CAAwB,CAACJ,IAAD,CAAxB,CAAnB,GAAqD,CAACA,IAAD,CAAxE;AACAA,SAAKH,MAAL,CAAYQ,UAAZ,CAAuBlD,IAAvB;AACD;;AAED;AACA;AACA;AACA;AACA,WAASmD,iBAAT,CAA2BC,GAA3B,EAAgCC,OAAhC,EAAyCC,QAAzC,EAAmD;AACjD,QAAIC,EAAJ;AACA,QAAIH,GAAJ,EAAS;AAAE,WAAK,IAAInP,IAAI,CAAb,EAAgBA,IAAImP,IAAIpQ,MAAxB,EAAgC,EAAEiB,CAAlC,EAAqC;AAC9C,YAAI4O,OAAOO,IAAInP,CAAJ,CAAX;AAAA,YAAmByO,SAASG,KAAKH,MAAjC;AACA,YAAIc,eAAeX,KAAKtH,IAAL,IAAa,IAAb,KAAsBmH,OAAOe,aAAP,GAAuBZ,KAAKtH,IAAL,IAAa8H,OAApC,GAA8CR,KAAKtH,IAAL,GAAY8H,OAAhF,CAAnB;AACA,YAAIG,gBAAgBX,KAAKtH,IAAL,IAAa8H,OAAb,IAAwBX,OAAOgB,IAAP,IAAe,UAAvC,KAAsD,CAACJ,QAAD,IAAa,CAACT,KAAKH,MAAL,CAAYiB,UAAhF,CAApB,EAAiH;AAC/G,cAAIC,YAAYf,KAAKrH,EAAL,IAAW,IAAX,KAAoBkH,OAAOmB,cAAP,GAAwBhB,KAAKrH,EAAL,IAAW6H,OAAnC,GAA6CR,KAAKrH,EAAL,GAAU6H,OAA3E,CAAhB,CACC,CAACE,OAAOA,KAAK,EAAZ,CAAD,EAAkBlK,IAAlB,CAAuB,IAAIoJ,UAAJ,CAAeC,MAAf,EAAuBG,KAAKtH,IAA5B,EAAkCqI,YAAY,IAAZ,GAAmBf,KAAKrH,EAA1D,CAAvB;AACF;AACF;AAAE;AACH,WAAO+H,EAAP;AACD;AACD,WAASO,gBAAT,CAA0BV,GAA1B,EAA+BW,KAA/B,EAAsCT,QAAtC,EAAgD;AAC9C,QAAIC,EAAJ;AACA,QAAIH,GAAJ,EAAS;AAAE,WAAK,IAAInP,IAAI,CAAb,EAAgBA,IAAImP,IAAIpQ,MAAxB,EAAgC,EAAEiB,CAAlC,EAAqC;AAC9C,YAAI4O,OAAOO,IAAInP,CAAJ,CAAX;AAAA,YAAmByO,SAASG,KAAKH,MAAjC;AACA,YAAIkB,YAAYf,KAAKrH,EAAL,IAAW,IAAX,KAAoBkH,OAAOmB,cAAP,GAAwBhB,KAAKrH,EAAL,IAAWuI,KAAnC,GAA2ClB,KAAKrH,EAAL,GAAUuI,KAAzE,CAAhB;AACA,YAAIH,aAAaf,KAAKtH,IAAL,IAAawI,KAAb,IAAsBrB,OAAOgB,IAAP,IAAe,UAArC,KAAoD,CAACJ,QAAD,IAAaT,KAAKH,MAAL,CAAYiB,UAA7E,CAAjB,EAA2G;AACzG,cAAIH,eAAeX,KAAKtH,IAAL,IAAa,IAAb,KAAsBmH,OAAOe,aAAP,GAAuBZ,KAAKtH,IAAL,IAAawI,KAApC,GAA4ClB,KAAKtH,IAAL,GAAYwI,KAA9E,CAAnB,CACC,CAACR,OAAOA,KAAK,EAAZ,CAAD,EAAkBlK,IAAlB,CAAuB,IAAIoJ,UAAJ,CAAeC,MAAf,EAAuBc,eAAe,IAAf,GAAsBX,KAAKtH,IAAL,GAAYwI,KAAzD,EACclB,KAAKrH,EAAL,IAAW,IAAX,GAAkB,IAAlB,GAAyBqH,KAAKrH,EAAL,GAAUuI,KADjD,CAAvB;AAEF;AACF;AAAE;AACH,WAAOR,EAAP;AACD;;AAED;AACA;AACA;AACA;AACA;AACA;AACA,WAASS,sBAAT,CAAgCjI,GAAhC,EAAqCkI,MAArC,EAA6C;AAC3C,QAAIA,OAAOC,IAAX,EAAiB;AAAE,aAAO,IAAP;AAAa;AAChC,QAAIC,WAAWpD,OAAOhF,GAAP,EAAYkI,OAAO1I,IAAP,CAAYyE,IAAxB,KAAiCR,QAAQzD,GAAR,EAAakI,OAAO1I,IAAP,CAAYyE,IAAzB,EAA+BgD,WAA/E;AACA,QAAIoB,UAAUrD,OAAOhF,GAAP,EAAYkI,OAAOzI,EAAP,CAAUwE,IAAtB,KAA+BR,QAAQzD,GAAR,EAAakI,OAAOzI,EAAP,CAAUwE,IAAvB,EAA6BgD,WAA1E;AACA,QAAI,CAACmB,QAAD,IAAa,CAACC,OAAlB,EAA2B;AAAE,aAAO,IAAP;AAAa;;AAE1C,QAAIf,UAAUY,OAAO1I,IAAP,CAAYhB,EAA1B;AAAA,QAA8BwJ,QAAQE,OAAOzI,EAAP,CAAUjB,EAAhD;AAAA,QAAoD+I,WAAW9B,IAAIyC,OAAO1I,IAAX,EAAiB0I,OAAOzI,EAAxB,KAA+B,CAA9F;AACA;AACA,QAAIgC,QAAQ2F,kBAAkBgB,QAAlB,EAA4Bd,OAA5B,EAAqCC,QAArC,CAAZ;AACA,QAAIrB,OAAO6B,iBAAiBM,OAAjB,EAA0BL,KAA1B,EAAiCT,QAAjC,CAAX;;AAEA;AACA,QAAIe,WAAWJ,OAAO/D,IAAP,CAAYlN,MAAZ,IAAsB,CAArC;AAAA,QAAwCsR,SAAShL,IAAI2K,OAAO/D,IAAX,EAAiBlN,MAAjB,IAA2BqR,WAAWhB,OAAX,GAAqB,CAAhD,CAAjD;AACA,QAAI7F,KAAJ,EAAW;AACT;AACA,WAAK,IAAIvJ,IAAI,CAAb,EAAgBA,IAAIuJ,MAAMxK,MAA1B,EAAkC,EAAEiB,CAApC,EAAuC;AACrC,YAAI4O,OAAOrF,MAAMvJ,CAAN,CAAX;AACA,YAAI4O,KAAKrH,EAAL,IAAW,IAAf,EAAqB;AACnB,cAAI+I,QAAQ5B,iBAAiBV,IAAjB,EAAuBY,KAAKH,MAA5B,CAAZ;AACA,cAAI,CAAC6B,KAAL,EAAY;AAAE1B,iBAAKrH,EAAL,GAAU6H,OAAV;AAAmB,WAAjC,MACK,IAAIgB,QAAJ,EAAc;AAAExB,iBAAKrH,EAAL,GAAU+I,MAAM/I,EAAN,IAAY,IAAZ,GAAmB,IAAnB,GAA0B+I,MAAM/I,EAAN,GAAW8I,MAA/C;AAAuD;AAC7E;AACF;AACF;AACD,QAAIrC,IAAJ,EAAU;AACR;AACA,WAAK,IAAIpB,MAAM,CAAf,EAAkBA,MAAMoB,KAAKjP,MAA7B,EAAqC,EAAE6N,GAAvC,EAA4C;AAC1C,YAAI2D,SAASvC,KAAKpB,GAAL,CAAb;AACA,YAAI2D,OAAOhJ,EAAP,IAAa,IAAjB,EAAuB;AAAEgJ,iBAAOhJ,EAAP,IAAa8I,MAAb;AAAqB;AAC9C,YAAIE,OAAOjJ,IAAP,IAAe,IAAnB,EAAyB;AACvB,cAAIkJ,UAAU9B,iBAAiBnF,KAAjB,EAAwBgH,OAAO9B,MAA/B,CAAd;AACA,cAAI,CAAC+B,OAAL,EAAc;AACZD,mBAAOjJ,IAAP,GAAc+I,MAAd;AACA,gBAAID,QAAJ,EAAc;AAAE,eAAC7G,UAAUA,QAAQ,EAAlB,CAAD,EAAwBnE,IAAxB,CAA6BmL,MAA7B;AAAsC;AACvD;AACF,SAND,MAMO;AACLA,iBAAOjJ,IAAP,IAAe+I,MAAf;AACA,cAAID,QAAJ,EAAc;AAAE,aAAC7G,UAAUA,QAAQ,EAAlB,CAAD,EAAwBnE,IAAxB,CAA6BmL,MAA7B;AAAsC;AACvD;AACF;AACF;AACD;AACA,QAAIhH,KAAJ,EAAW;AAAEA,cAAQkH,gBAAgBlH,KAAhB,CAAR;AAAgC;AAC7C,QAAIyE,QAAQA,QAAQzE,KAApB,EAA2B;AAAEyE,aAAOyC,gBAAgBzC,IAAhB,CAAP;AAA8B;;AAE3D,QAAI0C,aAAa,CAACnH,KAAD,CAAjB;AACA,QAAI,CAAC6G,QAAL,EAAe;AACb;AACA,UAAIO,MAAMX,OAAO/D,IAAP,CAAYlN,MAAZ,GAAqB,CAA/B;AAAA,UAAkC6R,UAAlC;AACA,UAAID,MAAM,CAAN,IAAWpH,KAAf,EACE;AAAE,aAAK,IAAIsH,MAAM,CAAf,EAAkBA,MAAMtH,MAAMxK,MAA9B,EAAsC,EAAE8R,GAAxC,EACA;AAAE,cAAItH,MAAMsH,GAAN,EAAWtJ,EAAX,IAAiB,IAArB,EACA;AAAE,aAACqJ,eAAeA,aAAa,EAA5B,CAAD,EAAkCxL,IAAlC,CAAuC,IAAIoJ,UAAJ,CAAejF,MAAMsH,GAAN,EAAWpC,MAA1B,EAAkC,IAAlC,EAAwC,IAAxC,CAAvC;AAAuF;AAAE;AAAE;AACnG,WAAK,IAAIqC,MAAM,CAAf,EAAkBA,MAAMH,GAAxB,EAA6B,EAAEG,GAA/B,EACE;AAAEJ,mBAAWtL,IAAX,CAAgBwL,UAAhB;AAA6B;AACjCF,iBAAWtL,IAAX,CAAgB4I,IAAhB;AACD;AACD,WAAO0C,UAAP;AACD;;AAED;AACA;AACA,WAASD,eAAT,CAAyB9B,KAAzB,EAAgC;AAC9B,SAAK,IAAI3O,IAAI,CAAb,EAAgBA,IAAI2O,MAAM5P,MAA1B,EAAkC,EAAEiB,CAApC,EAAuC;AACrC,UAAI4O,OAAOD,MAAM3O,CAAN,CAAX;AACA,UAAI4O,KAAKtH,IAAL,IAAa,IAAb,IAAqBsH,KAAKtH,IAAL,IAAasH,KAAKrH,EAAvC,IAA6CqH,KAAKH,MAAL,CAAYsC,cAAZ,KAA+B,KAAhF,EACE;AAAEpC,cAAM/I,MAAN,CAAa5F,GAAb,EAAkB,CAAlB;AAAsB;AAC3B;AACD,QAAI,CAAC2O,MAAM5P,MAAX,EAAmB;AAAE,aAAO,IAAP;AAAa;AAClC,WAAO4P,KAAP;AACD;;AAED;AACA,WAASqC,oBAAT,CAA8BlJ,GAA9B,EAAmCR,IAAnC,EAAyCC,EAAzC,EAA6C;AAC3C,QAAI0J,UAAU,IAAd;AACAnJ,QAAIkE,IAAJ,CAAS1E,KAAKyE,IAAd,EAAoBxE,GAAGwE,IAAH,GAAU,CAA9B,EAAiC,UAAUA,IAAV,EAAgB;AAC/C,UAAIA,KAAKgD,WAAT,EAAsB;AAAE,aAAK,IAAI/O,IAAI,CAAb,EAAgBA,IAAI+L,KAAKgD,WAAL,CAAiBhQ,MAArC,EAA6C,EAAEiB,CAA/C,EAAkD;AACxE,cAAIkR,OAAOnF,KAAKgD,WAAL,CAAiB/O,CAAjB,EAAoByO,MAA/B;AACA,cAAIyC,KAAKC,QAAL,KAAkB,CAACF,OAAD,IAAYtN,QAAQsN,OAAR,EAAiBC,IAAjB,KAA0B,CAAC,CAAzD,CAAJ,EACE;AAAE,aAACD,YAAYA,UAAU,EAAtB,CAAD,EAA4B7L,IAA5B,CAAiC8L,IAAjC;AAAwC;AAC7C;AAAE;AACJ,KAND;AAOA,QAAI,CAACD,OAAL,EAAc;AAAE,aAAO,IAAP;AAAa;AAC7B,QAAIG,QAAQ,CAAC,EAAC9J,MAAMA,IAAP,EAAaC,IAAIA,EAAjB,EAAD,CAAZ;AACA,SAAK,IAAIvH,IAAI,CAAb,EAAgBA,IAAIiR,QAAQlS,MAA5B,EAAoC,EAAEiB,CAAtC,EAAyC;AACvC,UAAIqR,KAAKJ,QAAQjR,CAAR,CAAT;AAAA,UAAqBsR,IAAID,GAAGE,IAAH,CAAQ,CAAR,CAAzB;AACA,WAAK,IAAIC,IAAI,CAAb,EAAgBA,IAAIJ,MAAMrS,MAA1B,EAAkC,EAAEyS,CAApC,EAAuC;AACrC,YAAIC,IAAIL,MAAMI,CAAN,CAAR;AACA,YAAIjE,IAAIkE,EAAElK,EAAN,EAAU+J,EAAEhK,IAAZ,IAAoB,CAApB,IAAyBiG,IAAIkE,EAAEnK,IAAN,EAAYgK,EAAE/J,EAAd,IAAoB,CAAjD,EAAoD;AAAE;AAAU;AAChE,YAAImK,WAAW,CAACF,CAAD,EAAI,CAAJ,CAAf;AAAA,YAAuBG,QAAQpE,IAAIkE,EAAEnK,IAAN,EAAYgK,EAAEhK,IAAd,CAA/B;AAAA,YAAoDsK,MAAMrE,IAAIkE,EAAElK,EAAN,EAAU+J,EAAE/J,EAAZ,CAA1D;AACA,YAAIoK,QAAQ,CAAR,IAAa,CAACN,GAAG7B,aAAJ,IAAqB,CAACmC,KAAvC,EACE;AAAED,mBAAStM,IAAT,CAAc,EAACkC,MAAMmK,EAAEnK,IAAT,EAAeC,IAAI+J,EAAEhK,IAArB,EAAd;AAA2C;AAC/C,YAAIsK,MAAM,CAAN,IAAW,CAACP,GAAGzB,cAAJ,IAAsB,CAACgC,GAAtC,EACE;AAAEF,mBAAStM,IAAT,CAAc,EAACkC,MAAMgK,EAAE/J,EAAT,EAAaA,IAAIkK,EAAElK,EAAnB,EAAd;AAAuC;AAC3C6J,cAAMxL,MAAN,CAAahD,KAAb,CAAmBwO,KAAnB,EAA0BM,QAA1B;AACAF,aAAKE,SAAS3S,MAAT,GAAkB,CAAvB;AACD;AACF;AACD,WAAOqS,KAAP;AACD;;AAED;AACA,WAASS,iBAAT,CAA2B9F,IAA3B,EAAiC;AAC/B,QAAI4C,QAAQ5C,KAAKgD,WAAjB;AACA,QAAI,CAACJ,KAAL,EAAY;AAAE;AAAQ;AACtB,SAAK,IAAI3O,IAAI,CAAb,EAAgBA,IAAI2O,MAAM5P,MAA1B,EAAkC,EAAEiB,CAApC,EACE;AAAE2O,YAAM3O,CAAN,EAASyO,MAAT,CAAgBqD,UAAhB,CAA2B/F,IAA3B;AAAkC;AACtCA,SAAKgD,WAAL,GAAmB,IAAnB;AACD;AACD,WAASgD,iBAAT,CAA2BhG,IAA3B,EAAiC4C,KAAjC,EAAwC;AACtC,QAAI,CAACA,KAAL,EAAY;AAAE;AAAQ;AACtB,SAAK,IAAI3O,IAAI,CAAb,EAAgBA,IAAI2O,MAAM5P,MAA1B,EAAkC,EAAEiB,CAApC,EACE;AAAE2O,YAAM3O,CAAN,EAASyO,MAAT,CAAgBQ,UAAhB,CAA2BlD,IAA3B;AAAkC;AACtCA,SAAKgD,WAAL,GAAmBJ,KAAnB;AACD;;AAED;AACA;AACA,WAASqD,SAAT,CAAmBvD,MAAnB,EAA2B;AAAE,WAAOA,OAAOe,aAAP,GAAuB,CAAC,CAAxB,GAA4B,CAAnC;AAAsC;AACnE,WAASyC,UAAT,CAAoBxD,MAApB,EAA4B;AAAE,WAAOA,OAAOmB,cAAP,GAAwB,CAAxB,GAA4B,CAAnC;AAAsC;;AAEpE;AACA;AACA;AACA,WAASsC,uBAAT,CAAiCvQ,CAAjC,EAAoCC,CAApC,EAAuC;AACrC,QAAIuQ,UAAUxQ,EAAE8G,KAAF,CAAQ1J,MAAR,GAAiB6C,EAAE6G,KAAF,CAAQ1J,MAAvC;AACA,QAAIoT,WAAW,CAAf,EAAkB;AAAE,aAAOA,OAAP;AAAgB;AACpC,QAAIC,OAAOzQ,EAAE4P,IAAF,EAAX;AAAA,QAAqBc,OAAOzQ,EAAE2P,IAAF,EAA5B;AACA,QAAIe,UAAU/E,IAAI6E,KAAK9K,IAAT,EAAe+K,KAAK/K,IAApB,KAA6B0K,UAAUrQ,CAAV,IAAeqQ,UAAUpQ,CAAV,CAA1D;AACA,QAAI0Q,OAAJ,EAAa;AAAE,aAAO,CAACA,OAAR;AAAiB;AAChC,QAAIC,QAAQhF,IAAI6E,KAAK7K,EAAT,EAAa8K,KAAK9K,EAAlB,KAAyB0K,WAAWtQ,CAAX,IAAgBsQ,WAAWrQ,CAAX,CAArD;AACA,QAAI2Q,KAAJ,EAAW;AAAE,aAAOA,KAAP;AAAc;AAC3B,WAAO3Q,EAAEiC,EAAF,GAAOlC,EAAEkC,EAAhB;AACD;;AAED;AACA;AACA,WAAS2O,mBAAT,CAA6BzG,IAA7B,EAAmC1L,KAAnC,EAA0C;AACxC,QAAIoS,MAAMpE,qBAAqBtC,KAAKgD,WAApC;AAAA,QAAiDuB,KAAjD;AACA,QAAImC,GAAJ,EAAS;AAAE,WAAK,IAAIC,KAAM,KAAK,CAAf,EAAmB1S,IAAI,CAA5B,EAA+BA,IAAIyS,IAAI1T,MAAvC,EAA+C,EAAEiB,CAAjD,EAAoD;AAC7D0S,aAAKD,IAAIzS,CAAJ,CAAL;AACA,YAAI0S,GAAGjE,MAAH,CAAUkE,SAAV,IAAuB,CAACtS,QAAQqS,GAAGpL,IAAX,GAAkBoL,GAAGnL,EAAtB,KAA6B,IAApD,KACC,CAAC+I,KAAD,IAAU4B,wBAAwB5B,KAAxB,EAA+BoC,GAAGjE,MAAlC,IAA4C,CADvD,CAAJ,EAEE;AAAE6B,kBAAQoC,GAAGjE,MAAX;AAAmB;AACxB;AAAE;AACH,WAAO6B,KAAP;AACD;AACD,WAASsC,oBAAT,CAA8B7G,IAA9B,EAAoC;AAAE,WAAOyG,oBAAoBzG,IAApB,EAA0B,IAA1B,CAAP;AAAwC;AAC9E,WAAS8G,kBAAT,CAA4B9G,IAA5B,EAAkC;AAAE,WAAOyG,oBAAoBzG,IAApB,EAA0B,KAA1B,CAAP;AAAyC;;AAE7E;AACA;AACA;AACA,WAAS+G,yBAAT,CAAmChL,GAAnC,EAAwCwE,MAAxC,EAAgDhF,IAAhD,EAAsDC,EAAtD,EAA0DkH,MAA1D,EAAkE;AAChE,QAAI1C,OAAOR,QAAQzD,GAAR,EAAawE,MAAb,CAAX;AACA,QAAImG,MAAMpE,qBAAqBtC,KAAKgD,WAApC;AACA,QAAI0D,GAAJ,EAAS;AAAE,WAAK,IAAIzS,IAAI,CAAb,EAAgBA,IAAIyS,IAAI1T,MAAxB,EAAgC,EAAEiB,CAAlC,EAAqC;AAC9C,YAAI0S,KAAKD,IAAIzS,CAAJ,CAAT;AACA,YAAI,CAAC0S,GAAGjE,MAAH,CAAUkE,SAAf,EAA0B;AAAE;AAAU;AACtC,YAAIrC,QAAQoC,GAAGjE,MAAH,CAAU8C,IAAV,CAAe,CAAf,CAAZ;AACA,YAAIe,UAAU/E,IAAI+C,MAAMhJ,IAAV,EAAgBA,IAAhB,KAAyB0K,UAAUU,GAAGjE,MAAb,IAAuBuD,UAAUvD,MAAV,CAA9D;AACA,YAAI8D,QAAQhF,IAAI+C,MAAM/I,EAAV,EAAcA,EAAd,KAAqB0K,WAAWS,GAAGjE,MAAd,IAAwBwD,WAAWxD,MAAX,CAAzD;AACA,YAAI6D,WAAW,CAAX,IAAgBC,SAAS,CAAzB,IAA8BD,WAAW,CAAX,IAAgBC,SAAS,CAA3D,EAA8D;AAAE;AAAU;AAC1E,YAAID,WAAW,CAAX,KAAiBI,GAAGjE,MAAH,CAAUmB,cAAV,IAA4BnB,OAAOe,aAAnC,GAAmDjC,IAAI+C,MAAM/I,EAAV,EAAcD,IAAd,KAAuB,CAA1E,GAA8EiG,IAAI+C,MAAM/I,EAAV,EAAcD,IAAd,IAAsB,CAArH,KACAgL,WAAW,CAAX,KAAiBI,GAAGjE,MAAH,CAAUmB,cAAV,IAA4BnB,OAAOe,aAAnC,GAAmDjC,IAAI+C,MAAMhJ,IAAV,EAAgBC,EAAhB,KAAuB,CAA1E,GAA8EgG,IAAI+C,MAAMhJ,IAAV,EAAgBC,EAAhB,IAAsB,CAArH,CADJ,EAEE;AAAE,iBAAO,IAAP;AAAa;AAClB;AAAE;AACJ;;AAED;AACA;AACA;AACA;AACA,WAASwL,UAAT,CAAoBhH,IAApB,EAA0B;AACxB,QAAIiH,MAAJ;AACA,WAAOA,SAASJ,qBAAqB7G,IAArB,CAAhB,EACE;AAAEA,aAAOiH,OAAOzB,IAAP,CAAY,CAAC,CAAb,EAAgB,IAAhB,EAAsBxF,IAA7B;AAAmC;AACvC,WAAOA,IAAP;AACD;;AAED,WAASkH,aAAT,CAAuBlH,IAAvB,EAA6B;AAC3B,QAAIiH,MAAJ;AACA,WAAOA,SAASH,mBAAmB9G,IAAnB,CAAhB,EACE;AAAEA,aAAOiH,OAAOzB,IAAP,CAAY,CAAZ,EAAe,IAAf,EAAqBxF,IAA5B;AAAkC;AACtC,WAAOA,IAAP;AACD;;AAED;AACA;AACA,WAASmH,mBAAT,CAA6BnH,IAA7B,EAAmC;AACjC,QAAIiH,MAAJ,EAAYvK,KAAZ;AACA,WAAOuK,SAASH,mBAAmB9G,IAAnB,CAAhB,EAA0C;AACxCA,aAAOiH,OAAOzB,IAAP,CAAY,CAAZ,EAAe,IAAf,EAAqBxF,IAA5B,CACC,CAACtD,UAAUA,QAAQ,EAAlB,CAAD,EAAwBrD,IAAxB,CAA6B2G,IAA7B;AACF;AACD,WAAOtD,KAAP;AACD;;AAED;AACA;AACA,WAAS0K,YAAT,CAAsBrL,GAAtB,EAA2BsL,KAA3B,EAAkC;AAChC,QAAIrH,OAAOR,QAAQzD,GAAR,EAAasL,KAAb,CAAX;AAAA,QAAgCC,MAAMN,WAAWhH,IAAX,CAAtC;AACA,QAAIA,QAAQsH,GAAZ,EAAiB;AAAE,aAAOD,KAAP;AAAc;AACjC,WAAO9G,OAAO+G,GAAP,CAAP;AACD;;AAED;AACA;AACA,WAASC,eAAT,CAAyBxL,GAAzB,EAA8BsL,KAA9B,EAAqC;AACnC,QAAIA,QAAQtL,IAAIyL,QAAJ,EAAZ,EAA4B;AAAE,aAAOH,KAAP;AAAc;AAC5C,QAAIrH,OAAOR,QAAQzD,GAAR,EAAasL,KAAb,CAAX;AAAA,QAAgCJ,MAAhC;AACA,QAAI,CAACQ,aAAa1L,GAAb,EAAkBiE,IAAlB,CAAL,EAA8B;AAAE,aAAOqH,KAAP;AAAc;AAC9C,WAAOJ,SAASH,mBAAmB9G,IAAnB,CAAhB,EACE;AAAEA,aAAOiH,OAAOzB,IAAP,CAAY,CAAZ,EAAe,IAAf,EAAqBxF,IAA5B;AAAkC;AACtC,WAAOO,OAAOP,IAAP,IAAe,CAAtB;AACD;;AAED;AACA;AACA;AACA,WAASyH,YAAT,CAAsB1L,GAAtB,EAA2BiE,IAA3B,EAAiC;AAC/B,QAAI0G,MAAMpE,qBAAqBtC,KAAKgD,WAApC;AACA,QAAI0D,GAAJ,EAAS;AAAE,WAAK,IAAIC,KAAM,KAAK,CAAf,EAAmB1S,IAAI,CAA5B,EAA+BA,IAAIyS,IAAI1T,MAAvC,EAA+C,EAAEiB,CAAjD,EAAoD;AAC7D0S,aAAKD,IAAIzS,CAAJ,CAAL;AACA,YAAI,CAAC0S,GAAGjE,MAAH,CAAUkE,SAAf,EAA0B;AAAE;AAAU;AACtC,YAAID,GAAGpL,IAAH,IAAW,IAAf,EAAqB;AAAE,iBAAO,IAAP;AAAa;AACpC,YAAIoL,GAAGjE,MAAH,CAAUgF,UAAd,EAA0B;AAAE;AAAU;AACtC,YAAIf,GAAGpL,IAAH,IAAW,CAAX,IAAgBoL,GAAGjE,MAAH,CAAUe,aAA1B,IAA2CkE,kBAAkB5L,GAAlB,EAAuBiE,IAAvB,EAA6B2G,EAA7B,CAA/C,EACE;AAAE,iBAAO,IAAP;AAAa;AAClB;AAAE;AACJ;AACD,WAASgB,iBAAT,CAA2B5L,GAA3B,EAAgCiE,IAAhC,EAAsC6C,IAAtC,EAA4C;AAC1C,QAAIA,KAAKrH,EAAL,IAAW,IAAf,EAAqB;AACnB,UAAIjH,MAAMsO,KAAKH,MAAL,CAAY8C,IAAZ,CAAiB,CAAjB,EAAoB,IAApB,CAAV;AACA,aAAOmC,kBAAkB5L,GAAlB,EAAuBxH,IAAIyL,IAA3B,EAAiC2C,iBAAiBpO,IAAIyL,IAAJ,CAASgD,WAA1B,EAAuCH,KAAKH,MAA5C,CAAjC,CAAP;AACD;AACD,QAAIG,KAAKH,MAAL,CAAYmB,cAAZ,IAA8BhB,KAAKrH,EAAL,IAAWwE,KAAKE,IAAL,CAAUlN,MAAvD,EACE;AAAE,aAAO,IAAP;AAAa;AACjB,SAAK,IAAI2T,KAAM,KAAK,CAAf,EAAmB1S,IAAI,CAA5B,EAA+BA,IAAI+L,KAAKgD,WAAL,CAAiBhQ,MAApD,EAA4D,EAAEiB,CAA9D,EAAiE;AAC/D0S,WAAK3G,KAAKgD,WAAL,CAAiB/O,CAAjB,CAAL;AACA,UAAI0S,GAAGjE,MAAH,CAAUkE,SAAV,IAAuB,CAACD,GAAGjE,MAAH,CAAUgF,UAAlC,IAAgDf,GAAGpL,IAAH,IAAWsH,KAAKrH,EAAhE,KACCmL,GAAGnL,EAAH,IAAS,IAAT,IAAiBmL,GAAGnL,EAAH,IAASqH,KAAKtH,IADhC,MAECoL,GAAGjE,MAAH,CAAUe,aAAV,IAA2BZ,KAAKH,MAAL,CAAYmB,cAFxC,KAGA8D,kBAAkB5L,GAAlB,EAAuBiE,IAAvB,EAA6B2G,EAA7B,CAHJ,EAGsC;AAAE,eAAO,IAAP;AAAa;AACtD;AACF;;AAED;AACA,WAASiB,aAAT,CAAsBC,OAAtB,EAA+B;AAC7BA,cAAUb,WAAWa,OAAX,CAAV;;AAEA,QAAIlH,IAAI,CAAR;AAAA,QAAWhB,QAAQkI,QAAQrU,MAA3B;AACA,SAAK,IAAIS,IAAI,CAAb,EAAgBA,IAAI0L,MAAMjD,KAAN,CAAY1J,MAAhC,EAAwC,EAAEiB,CAA1C,EAA6C;AAC3C,UAAI+L,OAAOL,MAAMjD,KAAN,CAAYzI,CAAZ,CAAX;AACA,UAAI+L,QAAQ6H,OAAZ,EAAqB;AAAE;AAAO,OAA9B,MACK;AAAElH,aAAKX,KAAKK,MAAV;AAAkB;AAC1B;AACD,SAAK,IAAIqF,IAAI/F,MAAMnM,MAAnB,EAA2BkS,CAA3B,EAA8B/F,QAAQ+F,CAAR,EAAWA,IAAI/F,MAAMnM,MAAnD,EAA2D;AACzD,WAAK,IAAIqN,MAAM,CAAf,EAAkBA,MAAM6E,EAAE9F,QAAF,CAAW5M,MAAnC,EAA2C,EAAE6N,GAA7C,EAAkD;AAChD,YAAIL,MAAMkF,EAAE9F,QAAF,CAAWiB,GAAX,CAAV;AACA,YAAIL,OAAOb,KAAX,EAAkB;AAAE;AAAO,SAA3B,MACK;AAAEgB,eAAKH,IAAIH,MAAT;AAAiB;AACzB;AACF;AACD,WAAOM,CAAP;AACD;;AAED;AACA;AACA;AACA,WAASmH,UAAT,CAAoB9H,IAApB,EAA0B;AACxB,QAAIA,KAAKK,MAAL,IAAe,CAAnB,EAAsB;AAAE,aAAO,CAAP;AAAU;AAClC,QAAI0H,MAAM/H,KAAKE,IAAL,CAAUlN,MAApB;AAAA,QAA4BiU,MAA5B;AAAA,QAAoCzG,MAAMR,IAA1C;AACA,WAAOiH,SAASJ,qBAAqBrG,GAArB,CAAhB,EAA2C;AACzC,UAAI+D,QAAQ0C,OAAOzB,IAAP,CAAY,CAAZ,EAAe,IAAf,CAAZ;AACAhF,YAAM+D,MAAMhJ,IAAN,CAAWyE,IAAjB;AACA+H,aAAOxD,MAAMhJ,IAAN,CAAWhB,EAAX,GAAgBgK,MAAM/I,EAAN,CAASjB,EAAhC;AACD;AACDiG,UAAMR,IAAN;AACA,WAAOiH,SAASH,mBAAmBtG,GAAnB,CAAhB,EAAyC;AACvC,UAAIiE,UAAUwC,OAAOzB,IAAP,CAAY,CAAZ,EAAe,IAAf,CAAd;AACAuC,aAAOvH,IAAIN,IAAJ,CAASlN,MAAT,GAAkByR,QAAQlJ,IAAR,CAAahB,EAAtC;AACAiG,YAAMiE,QAAQjJ,EAAR,CAAWwE,IAAjB;AACA+H,aAAOvH,IAAIN,IAAJ,CAASlN,MAAT,GAAkByR,QAAQjJ,EAAR,CAAWjB,EAApC;AACD;AACD,WAAOwN,GAAP;AACD;;AAED;AACA,WAASC,WAAT,CAAqBC,EAArB,EAAyB;AACvB,QAAIhM,IAAIgM,GAAGC,OAAX;AAAA,QAAoBnM,MAAMkM,GAAGlM,GAA7B;AACAE,MAAE4C,OAAF,GAAYW,QAAQzD,GAAR,EAAaA,IAAIyB,KAAjB,CAAZ;AACAvB,MAAE6C,aAAF,GAAkBgJ,WAAW7L,EAAE4C,OAAb,CAAlB;AACA5C,MAAE8C,cAAF,GAAmB,IAAnB;AACAhD,QAAIkE,IAAJ,CAAS,UAAUD,IAAV,EAAgB;AACvB,UAAI+H,MAAMD,WAAW9H,IAAX,CAAV;AACA,UAAI+H,MAAM9L,EAAE6C,aAAZ,EAA2B;AACzB7C,UAAE6C,aAAF,GAAkBiJ,GAAlB;AACA9L,UAAE4C,OAAF,GAAYmB,IAAZ;AACD;AACF,KAND;AAOD;;AAED;;AAEA,WAASmI,mBAAT,CAA6BC,KAA7B,EAAoC7M,IAApC,EAA0CC,EAA1C,EAA8CjF,CAA9C,EAAiD;AAC/C,QAAI,CAAC6R,KAAL,EAAY;AAAE,aAAO7R,EAAEgF,IAAF,EAAQC,EAAR,EAAY,KAAZ,EAAmB,CAAnB,CAAP;AAA8B;AAC5C,QAAI+I,QAAQ,KAAZ;AACA,SAAK,IAAItQ,IAAI,CAAb,EAAgBA,IAAImU,MAAMpV,MAA1B,EAAkC,EAAEiB,CAApC,EAAuC;AACrC,UAAIoU,OAAOD,MAAMnU,CAAN,CAAX;AACA,UAAIoU,KAAK9M,IAAL,GAAYC,EAAZ,IAAkB6M,KAAK7M,EAAL,GAAUD,IAA5B,IAAoCA,QAAQC,EAAR,IAAc6M,KAAK7M,EAAL,IAAWD,IAAjE,EAAuE;AACrEhF,UAAE0C,KAAK8I,GAAL,CAASsG,KAAK9M,IAAd,EAAoBA,IAApB,CAAF,EAA6BtC,KAAKC,GAAL,CAASmP,KAAK7M,EAAd,EAAkBA,EAAlB,CAA7B,EAAoD6M,KAAKC,KAAL,IAAc,CAAd,GAAkB,KAAlB,GAA0B,KAA9E,EAAqFrU,CAArF;AACAsQ,gBAAQ,IAAR;AACD;AACF;AACD,QAAI,CAACA,KAAL,EAAY;AAAEhO,QAAEgF,IAAF,EAAQC,EAAR,EAAY,KAAZ;AAAoB;AACnC;;AAED,MAAI+M,YAAY,IAAhB;AACA,WAASC,aAAT,CAAuBJ,KAAvB,EAA8B7N,EAA9B,EAAkCgH,MAAlC,EAA0C;AACxC,QAAIgD,KAAJ;AACAgE,gBAAY,IAAZ;AACA,SAAK,IAAItU,IAAI,CAAb,EAAgBA,IAAImU,MAAMpV,MAA1B,EAAkC,EAAEiB,CAApC,EAAuC;AACrC,UAAIuM,MAAM4H,MAAMnU,CAAN,CAAV;AACA,UAAIuM,IAAIjF,IAAJ,GAAWhB,EAAX,IAAiBiG,IAAIhF,EAAJ,GAASjB,EAA9B,EAAkC;AAAE,eAAOtG,CAAP;AAAU;AAC9C,UAAIuM,IAAIhF,EAAJ,IAAUjB,EAAd,EAAkB;AAChB,YAAIiG,IAAIjF,IAAJ,IAAYiF,IAAIhF,EAAhB,IAAsB+F,UAAU,QAApC,EAA8C;AAAEgD,kBAAQtQ,CAAR;AAAW,SAA3D,MACK;AAAEsU,sBAAYtU,CAAZ;AAAe;AACvB;AACD,UAAIuM,IAAIjF,IAAJ,IAAYhB,EAAhB,EAAoB;AAClB,YAAIiG,IAAIjF,IAAJ,IAAYiF,IAAIhF,EAAhB,IAAsB+F,UAAU,QAApC,EAA8C;AAAEgD,kBAAQtQ,CAAR;AAAW,SAA3D,MACK;AAAEsU,sBAAYtU,CAAZ;AAAe;AACvB;AACF;AACD,WAAOsQ,SAAS,IAAT,GAAgBA,KAAhB,GAAwBgE,SAA/B;AACD;;AAED;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAIE,eAAgB,YAAW;AAC7B;AACA,QAAIC,WAAW,0PAAf;AACA;AACA,QAAIC,cAAc,4PAAlB;AACA,aAASC,QAAT,CAAkBC,IAAlB,EAAwB;AACtB,UAAIA,QAAQ,IAAZ,EAAkB;AAAE,eAAOH,SAAStN,MAAT,CAAgByN,IAAhB,CAAP;AAA8B,OAAlD,MACK,IAAI,SAASA,IAAT,IAAiBA,QAAQ,KAA7B,EAAoC;AAAE,eAAO,GAAP;AAAY,OAAlD,MACA,IAAI,SAASA,IAAT,IAAiBA,QAAQ,KAA7B,EAAoC;AAAE,eAAOF,YAAYvN,MAAZ,CAAmByN,OAAO,KAA1B,CAAP;AAAyC,OAA/E,MACA,IAAI,SAASA,IAAT,IAAiBA,QAAQ,KAA7B,EAAoC;AAAE,eAAO,GAAP;AAAY,OAAlD,MACA,IAAI,UAAUA,IAAV,IAAkBA,QAAQ,MAA9B,EAAsC;AAAE,eAAO,GAAP;AAAY,OAApD,MACA,IAAIA,QAAQ,MAAZ,EAAoB;AAAE,eAAO,GAAP;AAAY,OAAlC,MACA;AAAE,eAAO,GAAP;AAAY;AACpB;;AAED,QAAIC,SAAS,2CAAb;AACA,QAAIC,YAAY,QAAhB;AAAA,QAA0BC,WAAW,OAArC;AAAA,QAA8CC,eAAe,QAA7D;AAAA,QAAuEC,cAAc,MAArF;;AAEA,aAASC,QAAT,CAAkBb,KAAlB,EAAyB/M,IAAzB,EAA+BC,EAA/B,EAAmC;AACjC,WAAK8M,KAAL,GAAaA,KAAb;AACA,WAAK/M,IAAL,GAAYA,IAAZ,CAAkB,KAAKC,EAAL,GAAUA,EAAV;AACnB;;AAED,WAAO,UAASN,GAAT,EAAckO,SAAd,EAAyB;AAC9B,UAAIC,YAAYD,aAAa,KAAb,GAAqB,GAArB,GAA2B,GAA3C;;AAEA,UAAIlO,IAAIlI,MAAJ,IAAc,CAAd,IAAmBoW,aAAa,KAAb,IAAsB,CAACN,OAAOpY,IAAP,CAAYwK,GAAZ,CAA9C,EAAgE;AAAE,eAAO,KAAP;AAAc;AAChF,UAAI6M,MAAM7M,IAAIlI,MAAd;AAAA,UAAsBsW,QAAQ,EAA9B;AACA,WAAK,IAAIrV,IAAI,CAAb,EAAgBA,IAAI8T,GAApB,EAAyB,EAAE9T,CAA3B,EACE;AAAEqV,cAAMjQ,IAAN,CAAWuP,SAAS1N,IAAIF,UAAJ,CAAe/G,CAAf,CAAT,CAAX;AAAyC;;AAE7C;AACA;AACA;AACA;AACA,WAAK,IAAI4M,MAAM,CAAV,EAAa0I,OAAOF,SAAzB,EAAoCxI,MAAMkH,GAA1C,EAA+C,EAAElH,GAAjD,EAAsD;AACpD,YAAI6C,OAAO4F,MAAMzI,GAAN,CAAX;AACA,YAAI6C,QAAQ,GAAZ,EAAiB;AAAE4F,gBAAMzI,GAAN,IAAa0I,IAAb;AAAmB,SAAtC,MACK;AAAEA,iBAAO7F,IAAP;AAAa;AACrB;;AAED;AACA;AACA;AACA;AACA;AACA,WAAK,IAAIoB,MAAM,CAAV,EAAatE,MAAM6I,SAAxB,EAAmCvE,MAAMiD,GAAzC,EAA8C,EAAEjD,GAAhD,EAAqD;AACnD,YAAI0E,SAASF,MAAMxE,GAAN,CAAb;AACA,YAAI0E,UAAU,GAAV,IAAiBhJ,OAAO,GAA5B,EAAiC;AAAE8I,gBAAMxE,GAAN,IAAa,GAAb;AAAkB,SAArD,MACK,IAAIkE,SAAStY,IAAT,CAAc8Y,MAAd,CAAJ,EAA2B;AAAEhJ,gBAAMgJ,MAAN,CAAc,IAAIA,UAAU,GAAd,EAAmB;AAAEF,kBAAMxE,GAAN,IAAa,GAAb;AAAkB;AAAE;AAC1F;;AAED;AACA;AACA;AACA,WAAK,IAAIC,MAAM,CAAV,EAAa0E,SAASH,MAAM,CAAN,CAA3B,EAAqCvE,MAAMgD,MAAM,CAAjD,EAAoD,EAAEhD,GAAtD,EAA2D;AACzD,YAAI2E,SAASJ,MAAMvE,GAAN,CAAb;AACA,YAAI2E,UAAU,GAAV,IAAiBD,UAAU,GAA3B,IAAkCH,MAAMvE,MAAI,CAAV,KAAgB,GAAtD,EAA2D;AAAEuE,gBAAMvE,GAAN,IAAa,GAAb;AAAkB,SAA/E,MACK,IAAI2E,UAAU,GAAV,IAAiBD,UAAUH,MAAMvE,MAAI,CAAV,CAA3B,KACC0E,UAAU,GAAV,IAAiBA,UAAU,GAD5B,CAAJ,EACsC;AAAEH,gBAAMvE,GAAN,IAAa0E,MAAb;AAAqB;AAClEA,iBAASC,MAAT;AACD;;AAED;AACA;AACA;AACA;AACA,WAAK,IAAIC,MAAM,CAAf,EAAkBA,MAAM5B,GAAxB,EAA6B,EAAE4B,GAA/B,EAAoC;AAClC,YAAIC,SAASN,MAAMK,GAAN,CAAb;AACA,YAAIC,UAAU,GAAd,EAAmB;AAAEN,gBAAMK,GAAN,IAAa,GAAb;AAAkB,SAAvC,MACK,IAAIC,UAAU,GAAd,EAAmB;AACtB,cAAIrV,MAAO,KAAK,CAAhB;AACA,eAAKA,MAAMoV,MAAM,CAAjB,EAAoBpV,MAAMwT,GAAN,IAAauB,MAAM/U,GAAN,KAAc,GAA/C,EAAoD,EAAEA,GAAtD,EAA2D,CAAE;AAC7D,cAAIsV,UAAWF,OAAOL,MAAMK,MAAI,CAAV,KAAgB,GAAxB,IAAiCpV,MAAMwT,GAAN,IAAauB,MAAM/U,GAAN,KAAc,GAA5D,GAAmE,GAAnE,GAAyE,GAAvF;AACA,eAAK,IAAIkR,IAAIkE,GAAb,EAAkBlE,IAAIlR,GAAtB,EAA2B,EAAEkR,CAA7B,EAAgC;AAAE6D,kBAAM7D,CAAN,IAAWoE,OAAX;AAAoB;AACtDF,gBAAMpV,MAAM,CAAZ;AACD;AACF;;AAED;AACA;AACA;AACA,WAAK,IAAIuV,MAAM,CAAV,EAAaC,QAAQV,SAA1B,EAAqCS,MAAM/B,GAA3C,EAAgD,EAAE+B,GAAlD,EAAuD;AACrD,YAAIE,SAASV,MAAMQ,GAAN,CAAb;AACA,YAAIC,SAAS,GAAT,IAAgBC,UAAU,GAA9B,EAAmC;AAAEV,gBAAMQ,GAAN,IAAa,GAAb;AAAkB,SAAvD,MACK,IAAId,SAAStY,IAAT,CAAcsZ,MAAd,CAAJ,EAA2B;AAAED,kBAAQC,MAAR;AAAgB;AACnD;;AAED;AACA;AACA;AACA;AACA;AACA;AACA,WAAK,IAAIC,MAAM,CAAf,EAAkBA,MAAMlC,GAAxB,EAA6B,EAAEkC,GAA/B,EAAoC;AAClC,YAAIlB,UAAUrY,IAAV,CAAe4Y,MAAMW,GAAN,CAAf,CAAJ,EAAgC;AAC9B,cAAIC,QAAS,KAAK,CAAlB;AACA,eAAKA,QAAQD,MAAM,CAAnB,EAAsBC,QAAQnC,GAAR,IAAegB,UAAUrY,IAAV,CAAe4Y,MAAMY,KAAN,CAAf,CAArC,EAAmE,EAAEA,KAArE,EAA4E,CAAE;AAC9E,cAAIC,SAAS,CAACF,MAAMX,MAAMW,MAAI,CAAV,CAAN,GAAqBZ,SAAtB,KAAoC,GAAjD;AACA,cAAIxW,QAAQ,CAACqX,QAAQnC,GAAR,GAAcuB,MAAMY,KAAN,CAAd,GAA6Bb,SAA9B,KAA4C,GAAxD;AACA,cAAIe,YAAYD,UAAUtX,KAAV,GAAmBsX,SAAS,GAAT,GAAe,GAAlC,GAAyCd,SAAzD;AACA,eAAK,IAAIgB,MAAMJ,GAAf,EAAoBI,MAAMH,KAA1B,EAAiC,EAAEG,GAAnC,EAAwC;AAAEf,kBAAMe,GAAN,IAAaD,SAAb;AAAwB;AAClEH,gBAAMC,QAAQ,CAAd;AACD;AACF;;AAED;AACA;AACA;AACA;AACA;AACA,UAAI9B,QAAQ,EAAZ;AAAA,UAAgB7C,CAAhB;AACA,WAAK,IAAI+E,MAAM,CAAf,EAAkBA,MAAMvC,GAAxB,GAA8B;AAC5B,YAAIkB,aAAavY,IAAb,CAAkB4Y,MAAMgB,GAAN,CAAlB,CAAJ,EAAmC;AACjC,cAAIhW,QAAQgW,GAAZ;AACA,eAAK,EAAEA,GAAP,EAAYA,MAAMvC,GAAN,IAAakB,aAAavY,IAAb,CAAkB4Y,MAAMgB,GAAN,CAAlB,CAAzB,EAAwD,EAAEA,GAA1D,EAA+D,CAAE;AACjElC,gBAAM/O,IAAN,CAAW,IAAI8P,QAAJ,CAAa,CAAb,EAAgB7U,KAAhB,EAAuBgW,GAAvB,CAAX;AACD,SAJD,MAIO;AACL,cAAIxR,MAAMwR,GAAV;AAAA,cAAeC,KAAKnC,MAAMpV,MAA1B;AACA,eAAK,EAAEsX,GAAP,EAAYA,MAAMvC,GAAN,IAAauB,MAAMgB,GAAN,KAAc,GAAvC,EAA4C,EAAEA,GAA9C,EAAmD,CAAE;AACrD,eAAK,IAAIE,MAAM1R,GAAf,EAAoB0R,MAAMF,GAA1B,GAAgC;AAC9B,gBAAIpB,YAAYxY,IAAZ,CAAiB4Y,MAAMkB,GAAN,CAAjB,CAAJ,EAAkC;AAChC,kBAAI1R,MAAM0R,GAAV,EAAe;AAAEpC,sBAAMvO,MAAN,CAAa0Q,EAAb,EAAiB,CAAjB,EAAoB,IAAIpB,QAAJ,CAAa,CAAb,EAAgBrQ,GAAhB,EAAqB0R,GAArB,CAApB;AAAgD;AACjE,kBAAIC,SAASD,GAAb;AACA,mBAAK,EAAEA,GAAP,EAAYA,MAAMF,GAAN,IAAapB,YAAYxY,IAAZ,CAAiB4Y,MAAMkB,GAAN,CAAjB,CAAzB,EAAuD,EAAEA,GAAzD,EAA8D,CAAE;AAChEpC,oBAAMvO,MAAN,CAAa0Q,EAAb,EAAiB,CAAjB,EAAoB,IAAIpB,QAAJ,CAAa,CAAb,EAAgBsB,MAAhB,EAAwBD,GAAxB,CAApB;AACA1R,oBAAM0R,GAAN;AACD,aAND,MAMO;AAAE,gBAAEA,GAAF;AAAO;AACjB;AACD,cAAI1R,MAAMwR,GAAV,EAAe;AAAElC,kBAAMvO,MAAN,CAAa0Q,EAAb,EAAiB,CAAjB,EAAoB,IAAIpB,QAAJ,CAAa,CAAb,EAAgBrQ,GAAhB,EAAqBwR,GAArB,CAApB;AAAgD;AAClE;AACF;AACD,UAAIlB,aAAa,KAAjB,EAAwB;AACtB,YAAIhB,MAAM,CAAN,EAASE,KAAT,IAAkB,CAAlB,KAAwB/C,IAAIrK,IAAIhJ,KAAJ,CAAU,MAAV,CAA5B,CAAJ,EAAoD;AAClDkW,gBAAM,CAAN,EAAS7M,IAAT,GAAgBgK,EAAE,CAAF,EAAKvS,MAArB;AACAoV,gBAAMsC,OAAN,CAAc,IAAIvB,QAAJ,CAAa,CAAb,EAAgB,CAAhB,EAAmB5D,EAAE,CAAF,EAAKvS,MAAxB,CAAd;AACD;AACD,YAAIsG,IAAI8O,KAAJ,EAAWE,KAAX,IAAoB,CAApB,KAA0B/C,IAAIrK,IAAIhJ,KAAJ,CAAU,MAAV,CAA9B,CAAJ,EAAsD;AACpDoH,cAAI8O,KAAJ,EAAW5M,EAAX,IAAiB+J,EAAE,CAAF,EAAKvS,MAAtB;AACAoV,gBAAM/O,IAAN,CAAW,IAAI8P,QAAJ,CAAa,CAAb,EAAgBpB,MAAMxC,EAAE,CAAF,EAAKvS,MAA3B,EAAmC+U,GAAnC,CAAX;AACD;AACF;;AAED,aAAOqB,aAAa,KAAb,GAAqBhB,MAAMuC,OAAN,EAArB,GAAuCvC,KAA9C;AACD,KAzHD;AA0HD,GAjJkB,EAAnB;;AAmJA;AACA;AACA;AACA,WAASwC,QAAT,CAAkB5K,IAAlB,EAAwBoJ,SAAxB,EAAmC;AACjC,QAAIhB,QAAQpI,KAAKoI,KAAjB;AACA,QAAIA,SAAS,IAAb,EAAmB;AAAEA,cAAQpI,KAAKoI,KAAL,GAAaK,aAAazI,KAAKE,IAAlB,EAAwBkJ,SAAxB,CAArB;AAAyD;AAC9E,WAAOhB,KAAP;AACD;;AAED;;AAEA;AACA;;AAEA,MAAIyC,aAAa,EAAjB;;AAEA,MAAIC,KAAK,SAALA,EAAK,CAASC,OAAT,EAAkBrH,IAAlB,EAAwBnN,CAAxB,EAA2B;AAClC,QAAIwU,QAAQC,gBAAZ,EAA8B;AAC5BD,cAAQC,gBAAR,CAAyBtH,IAAzB,EAA+BnN,CAA/B,EAAkC,KAAlC;AACD,KAFD,MAEO,IAAIwU,QAAQE,WAAZ,EAAyB;AAC9BF,cAAQE,WAAR,CAAoB,OAAOvH,IAA3B,EAAiCnN,CAAjC;AACD,KAFM,MAEA;AACL,UAAIiD,MAAMuR,QAAQG,SAAR,KAAsBH,QAAQG,SAAR,GAAoB,EAA1C,CAAV;AACA1R,UAAIkK,IAAJ,IAAY,CAAClK,IAAIkK,IAAJ,KAAamH,UAAd,EAA0B5H,MAA1B,CAAiC1M,CAAjC,CAAZ;AACD;AACF,GATD;;AAWA,WAAS4U,WAAT,CAAqBJ,OAArB,EAA8BrH,IAA9B,EAAoC;AAClC,WAAOqH,QAAQG,SAAR,IAAqBH,QAAQG,SAAR,CAAkBxH,IAAlB,CAArB,IAAgDmH,UAAvD;AACD;;AAED,WAASO,GAAT,CAAaL,OAAb,EAAsBrH,IAAtB,EAA4BnN,CAA5B,EAA+B;AAC7B,QAAIwU,QAAQM,mBAAZ,EAAiC;AAC/BN,cAAQM,mBAAR,CAA4B3H,IAA5B,EAAkCnN,CAAlC,EAAqC,KAArC;AACD,KAFD,MAEO,IAAIwU,QAAQO,WAAZ,EAAyB;AAC9BP,cAAQO,WAAR,CAAoB,OAAO5H,IAA3B,EAAiCnN,CAAjC;AACD,KAFM,MAEA;AACL,UAAIiD,MAAMuR,QAAQG,SAAlB;AAAA,UAA6B3R,MAAMC,OAAOA,IAAIkK,IAAJ,CAA1C;AACA,UAAInK,GAAJ,EAAS;AACP,YAAIxG,QAAQ6E,QAAQ2B,GAAR,EAAahD,CAAb,CAAZ;AACA,YAAIxD,QAAQ,CAAC,CAAb,EACE;AAAEyG,cAAIkK,IAAJ,IAAYnK,IAAIzG,KAAJ,CAAU,CAAV,EAAaC,KAAb,EAAoBkQ,MAApB,CAA2B1J,IAAIzG,KAAJ,CAAUC,QAAQ,CAAlB,CAA3B,CAAZ;AAA8D;AACnE;AACF;AACF;;AAED,WAASwY,MAAT,CAAgBR,OAAhB,EAAyBrH,IAAzB,CAA8B,eAA9B,EAA+C;AAC7C,QAAI8H,WAAWL,YAAYJ,OAAZ,EAAqBrH,IAArB,CAAf;AACA,QAAI,CAAC8H,SAASxY,MAAd,EAAsB;AAAE;AAAQ;AAChC,QAAIwD,OAAOC,MAAMC,SAAN,CAAgB5D,KAAhB,CAAsB6D,IAAtB,CAA2BC,SAA3B,EAAsC,CAAtC,CAAX;AACA,SAAK,IAAI3C,IAAI,CAAb,EAAgBA,IAAIuX,SAASxY,MAA7B,EAAqC,EAAEiB,CAAvC,EAA0C;AAAEuX,eAASvX,CAAT,EAAY4C,KAAZ,CAAkB,IAAlB,EAAwBL,IAAxB;AAA+B;AAC5E;;AAED;AACA;AACA;AACA,WAASiV,cAAT,CAAwBxD,EAAxB,EAA4B/U,CAA5B,EAA+BwY,QAA/B,EAAyC;AACvC,QAAI,OAAOxY,CAAP,IAAY,QAAhB,EACE;AAAEA,UAAI,EAACwQ,MAAMxQ,CAAP,EAAUyY,gBAAgB,0BAAW;AAAE,eAAKC,gBAAL,GAAwB,IAAxB;AAA8B,SAArE,EAAJ;AAA4E;AAChFL,WAAOtD,EAAP,EAAWyD,YAAYxY,EAAEwQ,IAAzB,EAA+BuE,EAA/B,EAAmC/U,CAAnC;AACA,WAAO2Y,mBAAmB3Y,CAAnB,KAAyBA,EAAE4Y,gBAAlC;AACD;;AAED,WAASC,oBAAT,CAA8B9D,EAA9B,EAAkC;AAChC,QAAI1O,MAAM0O,GAAGiD,SAAH,IAAgBjD,GAAGiD,SAAH,CAAac,cAAvC;AACA,QAAI,CAACzS,GAAL,EAAU;AAAE;AAAQ;AACpB,QAAIxB,MAAMkQ,GAAGgE,KAAH,CAASC,sBAAT,KAAoCjE,GAAGgE,KAAH,CAASC,sBAAT,GAAkC,EAAtE,CAAV;AACA,SAAK,IAAIjY,IAAI,CAAb,EAAgBA,IAAIsF,IAAIvG,MAAxB,EAAgC,EAAEiB,CAAlC,EAAqC;AAAE,UAAI2D,QAAQG,GAAR,EAAawB,IAAItF,CAAJ,CAAb,KAAwB,CAAC,CAA7B,EACrC;AAAE8D,YAAIsB,IAAJ,CAASE,IAAItF,CAAJ,CAAT;AAAkB;AAAE;AACzB;;AAED,WAASkY,UAAT,CAAoBpB,OAApB,EAA6BrH,IAA7B,EAAmC;AACjC,WAAOyH,YAAYJ,OAAZ,EAAqBrH,IAArB,EAA2B1Q,MAA3B,GAAoC,CAA3C;AACD;;AAED;AACA;AACA,WAASoZ,UAAT,CAAoBC,IAApB,EAA0B;AACxBA,SAAK3V,SAAL,CAAeoU,EAAf,GAAoB,UAASpH,IAAT,EAAenN,CAAf,EAAkB;AAACuU,SAAG,IAAH,EAASpH,IAAT,EAAenN,CAAf;AAAkB,KAAzD;AACA8V,SAAK3V,SAAL,CAAe0U,GAAf,GAAqB,UAAS1H,IAAT,EAAenN,CAAf,EAAkB;AAAC6U,UAAI,IAAJ,EAAU1H,IAAV,EAAgBnN,CAAhB;AAAmB,KAA3D;AACD;;AAED;AACA;;AAEA,WAAS+V,gBAAT,CAA0BpZ,CAA1B,EAA6B;AAC3B,QAAIA,EAAEyY,cAAN,EAAsB;AAAEzY,QAAEyY,cAAF;AAAoB,KAA5C,MACK;AAAEzY,QAAEqZ,WAAF,GAAgB,KAAhB;AAAuB;AAC/B;AACD,WAASC,iBAAT,CAA2BtZ,CAA3B,EAA8B;AAC5B,QAAIA,EAAEuZ,eAAN,EAAuB;AAAEvZ,QAAEuZ,eAAF;AAAqB,KAA9C,MACK;AAAEvZ,QAAEwZ,YAAF,GAAiB,IAAjB;AAAuB;AAC/B;AACD,WAASb,kBAAT,CAA4B3Y,CAA5B,EAA+B;AAC7B,WAAOA,EAAE0Y,gBAAF,IAAsB,IAAtB,GAA6B1Y,EAAE0Y,gBAA/B,GAAkD1Y,EAAEqZ,WAAF,IAAiB,KAA1E;AACD;AACD,WAASI,MAAT,CAAgBzZ,CAAhB,EAAmB;AAACoZ,qBAAiBpZ,CAAjB,EAAqBsZ,kBAAkBtZ,CAAlB;AAAqB;;AAE9D,WAAS0Z,QAAT,CAAkB1Z,CAAlB,EAAqB;AAAC,WAAOA,EAAE8D,MAAF,IAAY9D,EAAE2Z,UAArB;AAAgC;AACtD,WAASC,QAAT,CAAkB5Z,CAAlB,EAAqB;AACnB,QAAI2C,IAAI3C,EAAE6Z,KAAV;AACA,QAAIlX,KAAK,IAAT,EAAe;AACb,UAAI3C,EAAE8Z,MAAF,GAAW,CAAf,EAAkB;AAAEnX,YAAI,CAAJ;AAAO,OAA3B,MACK,IAAI3C,EAAE8Z,MAAF,GAAW,CAAf,EAAkB;AAAEnX,YAAI,CAAJ;AAAO,OAA3B,MACA,IAAI3C,EAAE8Z,MAAF,GAAW,CAAf,EAAkB;AAAEnX,YAAI,CAAJ;AAAO;AACjC;AACD,QAAI/D,OAAOoB,EAAE+Z,OAAT,IAAoBpX,KAAK,CAA7B,EAAgC;AAAEA,UAAI,CAAJ;AAAO;AACzC,WAAOA,CAAP;AACD;;AAED;AACA,MAAIqX,cAAc,YAAW;AAC3B;AACA;AACA,QAAInc,MAAMC,aAAa,CAAvB,EAA0B;AAAE,aAAO,KAAP;AAAc;AAC1C,QAAImc,MAAMzZ,IAAI,KAAJ,CAAV;AACA,WAAO,eAAeyZ,GAAf,IAAsB,cAAcA,GAA3C;AACD,GANiB,EAAlB;;AAQA,MAAIC,aAAJ;AACA,WAASC,gBAAT,CAA0B9Q,OAA1B,EAAmC;AACjC,QAAI6Q,iBAAiB,IAArB,EAA2B;AACzB,UAAI1c,OAAOgD,IAAI,MAAJ,EAAY,QAAZ,CAAX;AACAH,2BAAqBgJ,OAArB,EAA8B7I,IAAI,MAAJ,EAAY,CAAChD,IAAD,EAAOO,SAAS+C,cAAT,CAAwB,GAAxB,CAAP,CAAZ,CAA9B;AACA,UAAIuI,QAAQjJ,UAAR,CAAmBga,YAAnB,IAAmC,CAAvC,EACE;AAAEF,wBAAgB1c,KAAK6c,WAAL,IAAoB,CAApB,IAAyB7c,KAAK4c,YAAL,GAAoB,CAA7C,IAAkD,EAAEvc,MAAMC,aAAa,CAArB,CAAlE;AAA2F;AAChG;AACD,QAAI0B,OAAO0a,gBAAgB1Z,IAAI,MAAJ,EAAY,QAAZ,CAAhB,GACTA,IAAI,MAAJ,EAAY,MAAZ,EAAsB,IAAtB,EAA4B,uDAA5B,CADF;AAEAhB,SAAKyB,YAAL,CAAkB,SAAlB,EAA6B,EAA7B;AACA,WAAOzB,IAAP;AACD;;AAED;AACA,MAAI8a,YAAJ;AACA,WAASC,eAAT,CAAyBlR,OAAzB,EAAkC;AAChC,QAAIiR,gBAAgB,IAApB,EAA0B;AAAE,aAAOA,YAAP;AAAqB;AACjD,QAAIE,MAAMna,qBAAqBgJ,OAArB,EAA8BtL,SAAS+C,cAAT,CAAwB,UAAxB,CAA9B,CAAV;AACA,QAAI2Z,KAAKvZ,MAAMsZ,GAAN,EAAW,CAAX,EAAc,CAAd,EAAiBE,qBAAjB,EAAT;AACA,QAAIC,KAAKzZ,MAAMsZ,GAAN,EAAW,CAAX,EAAc,CAAd,EAAiBE,qBAAjB,EAAT;AACA3a,mBAAesJ,OAAf;AACA,QAAI,CAACoR,EAAD,IAAOA,GAAGG,IAAH,IAAWH,GAAGI,KAAzB,EAAgC;AAAE,aAAO,KAAP;AAAc,KANhB,CAMiB;AACjD,WAAOP,eAAgBK,GAAGE,KAAH,GAAWJ,GAAGI,KAAd,GAAsB,CAA7C;AACD;;AAED;AACA;AACA,MAAIC,iBAAiB,QAAQjY,KAAR,CAAc,IAAd,EAAoB/C,MAApB,IAA8B,CAA9B,GAAkC,UAAUqE,MAAV,EAAkB;AACvE,QAAIyB,MAAM,CAAV;AAAA,QAAamV,SAAS,EAAtB;AAAA,QAA0BjN,IAAI3J,OAAOrE,MAArC;AACA,WAAO8F,OAAOkI,CAAd,EAAiB;AACf,UAAIkN,KAAK7W,OAAOO,OAAP,CAAe,IAAf,EAAqBkB,GAArB,CAAT;AACA,UAAIoV,MAAM,CAAC,CAAX,EAAc;AAAEA,aAAK7W,OAAOrE,MAAZ;AAAoB;AACpC,UAAIgN,OAAO3I,OAAOvE,KAAP,CAAagG,GAAb,EAAkBzB,OAAO+D,MAAP,CAAc8S,KAAK,CAAnB,KAAyB,IAAzB,GAAgCA,KAAK,CAArC,GAAyCA,EAA3D,CAAX;AACA,UAAIC,KAAKnO,KAAKpI,OAAL,CAAa,IAAb,CAAT;AACA,UAAIuW,MAAM,CAAC,CAAX,EAAc;AACZF,eAAO5U,IAAP,CAAY2G,KAAKlN,KAAL,CAAW,CAAX,EAAcqb,EAAd,CAAZ;AACArV,eAAOqV,KAAK,CAAZ;AACD,OAHD,MAGO;AACLF,eAAO5U,IAAP,CAAY2G,IAAZ;AACAlH,cAAMoV,KAAK,CAAX;AACD;AACF;AACD,WAAOD,MAAP;AACD,GAhBoB,GAgBjB,UAAU5W,MAAV,EAAkB;AAAE,WAAOA,OAAOtB,KAAP,CAAa,UAAb,CAAP;AAAkC,GAhB1D;;AAkBA,MAAIqY,eAAeC,OAAOC,YAAP,GAAsB,UAAUC,EAAV,EAAc;AACrD,QAAI;AAAE,aAAOA,GAAGrY,cAAH,IAAqBqY,GAAGpY,YAA/B;AAA6C,KAAnD,CACA,OAAMjD,CAAN,EAAS;AAAE,aAAO,KAAP;AAAc;AAC1B,GAHkB,GAGf,UAAUqb,EAAV,EAAc;AAChB,QAAIna,KAAJ;AACA,QAAI;AAACA,cAAQma,GAAGC,aAAH,CAAiBC,SAAjB,CAA2Bpa,WAA3B,EAAR;AAAiD,KAAtD,CACA,OAAMnB,CAAN,EAAS,CAAE;AACX,QAAI,CAACkB,KAAD,IAAUA,MAAMsa,aAAN,MAAyBH,EAAvC,EAA2C;AAAE,aAAO,KAAP;AAAc;AAC3D,WAAOna,MAAMua,gBAAN,CAAuB,YAAvB,EAAqCva,KAArC,KAA+C,CAAtD;AACD,GATD;;AAWA,MAAIwa,eAAgB,YAAY;AAC9B,QAAI1b,IAAIQ,IAAI,KAAJ,CAAR;AACA,QAAI,YAAYR,CAAhB,EAAmB;AAAE,aAAO,IAAP;AAAa;AAClCA,MAAEiB,YAAF,CAAe,QAAf,EAAyB,SAAzB;AACA,WAAO,OAAOjB,EAAE2b,MAAT,IAAmB,UAA1B;AACD,GALkB,EAAnB;;AAOA,MAAIC,iBAAiB,IAArB;AACA,WAASC,iBAAT,CAA2BxS,OAA3B,EAAoC;AAClC,QAAIuS,kBAAkB,IAAtB,EAA4B;AAAE,aAAOA,cAAP;AAAuB;AACrD,QAAIpc,OAAOa,qBAAqBgJ,OAArB,EAA8B7I,IAAI,MAAJ,EAAY,GAAZ,CAA9B,CAAX;AACA,QAAIsb,SAAStc,KAAKkb,qBAAL,EAAb;AACA,QAAIqB,YAAY7a,MAAM1B,IAAN,EAAY,CAAZ,EAAe,CAAf,EAAkBkb,qBAAlB,EAAhB;AACA,WAAOkB,iBAAiB7V,KAAKiW,GAAL,CAASF,OAAOlB,IAAP,GAAcmB,UAAUnB,IAAjC,IAAyC,CAAjE;AACD;;AAED,MAAIqB,QAAQ,EAAZ;AACA,MAAIC,YAAY,EAAhB;AACA;AACA;AACA;AACA,WAASC,UAAT,CAAoBC,IAApB,EAA0BC,IAA1B,EAAgC;AAC9B,QAAI3Y,UAAU5D,MAAV,GAAmB,CAAvB,EACE;AAAEuc,WAAKC,YAAL,GAAoB/Y,MAAMC,SAAN,CAAgB5D,KAAhB,CAAsB6D,IAAtB,CAA2BC,SAA3B,EAAsC,CAAtC,CAApB;AAA8D;AAClEuY,UAAMG,IAAN,IAAcC,IAAd;AACD;;AAED,WAASE,UAAT,CAAoBC,IAApB,EAA0BC,IAA1B,EAAgC;AAC9BP,cAAUM,IAAV,IAAkBC,IAAlB;AACD;;AAED;AACA;AACA,WAASC,WAAT,CAAqBD,IAArB,EAA2B;AACzB,QAAI,OAAOA,IAAP,IAAe,QAAf,IAA2BP,UAAUjY,cAAV,CAAyBwY,IAAzB,CAA/B,EAA+D;AAC7DA,aAAOP,UAAUO,IAAV,CAAP;AACD,KAFD,MAEO,IAAIA,QAAQ,OAAOA,KAAKL,IAAZ,IAAoB,QAA5B,IAAwCF,UAAUjY,cAAV,CAAyBwY,KAAKL,IAA9B,CAA5C,EAAiF;AACtF,UAAI/K,QAAQ6K,UAAUO,KAAKL,IAAf,CAAZ;AACA,UAAI,OAAO/K,KAAP,IAAgB,QAApB,EAA8B;AAAEA,gBAAQ,EAAC+K,MAAM/K,KAAP,EAAR;AAAuB;AACvDoL,aAAO5V,UAAUwK,KAAV,EAAiBoL,IAAjB,CAAP;AACAA,WAAKL,IAAL,GAAY/K,MAAM+K,IAAlB;AACD,KALM,MAKA,IAAI,OAAOK,IAAP,IAAe,QAAf,IAA2B,0BAA0Bjf,IAA1B,CAA+Bif,IAA/B,CAA/B,EAAqE;AAC1E,aAAOC,YAAY,iBAAZ,CAAP;AACD,KAFM,MAEA,IAAI,OAAOD,IAAP,IAAe,QAAf,IAA2B,2BAA2Bjf,IAA3B,CAAgCif,IAAhC,CAA/B,EAAsE;AAC3E,aAAOC,YAAY,kBAAZ,CAAP;AACD;AACD,QAAI,OAAOD,IAAP,IAAe,QAAnB,EAA6B;AAAE,aAAO,EAACL,MAAMK,IAAP,EAAP;AAAqB,KAApD,MACK;AAAE,aAAOA,QAAQ,EAACL,MAAM,MAAP,EAAf;AAA+B;AACvC;;AAED;AACA;AACA,WAASO,OAAT,CAAiB3O,OAAjB,EAA0ByO,IAA1B,EAAgC;AAC9BA,WAAOC,YAAYD,IAAZ,CAAP;AACA,QAAIG,WAAWX,MAAMQ,KAAKL,IAAX,CAAf;AACA,QAAI,CAACQ,QAAL,EAAe;AAAE,aAAOD,QAAQ3O,OAAR,EAAiB,YAAjB,CAAP;AAAuC;AACxD,QAAI6O,UAAUD,SAAS5O,OAAT,EAAkByO,IAAlB,CAAd;AACA,QAAIK,eAAe7Y,cAAf,CAA8BwY,KAAKL,IAAnC,CAAJ,EAA8C;AAC5C,UAAIW,OAAOD,eAAeL,KAAKL,IAApB,CAAX;AACA,WAAK,IAAIpY,IAAT,IAAiB+Y,IAAjB,EAAuB;AACrB,YAAI,CAACA,KAAK9Y,cAAL,CAAoBD,IAApB,CAAL,EAAgC;AAAE;AAAU;AAC5C,YAAI6Y,QAAQ5Y,cAAR,CAAuBD,IAAvB,CAAJ,EAAkC;AAAE6Y,kBAAQ,MAAM7Y,IAAd,IAAsB6Y,QAAQ7Y,IAAR,CAAtB;AAAqC;AACzE6Y,gBAAQ7Y,IAAR,IAAgB+Y,KAAK/Y,IAAL,CAAhB;AACD;AACF;AACD6Y,YAAQT,IAAR,GAAeK,KAAKL,IAApB;AACA,QAAIK,KAAKO,UAAT,EAAqB;AAAEH,cAAQG,UAAR,GAAqBP,KAAKO,UAA1B;AAAsC;AAC7D,QAAIP,KAAKQ,SAAT,EAAoB;AAAE,WAAK,IAAIC,MAAT,IAAmBT,KAAKQ,SAAxB,EACpB;AAAEJ,gBAAQK,MAAR,IAAkBT,KAAKQ,SAAL,CAAeC,MAAf,CAAlB;AAA0C;AAAE;;AAEhD,WAAOL,OAAP;AACD;;AAED;AACA;AACA,MAAIC,iBAAiB,EAArB;AACA,WAASK,UAAT,CAAoBd,IAApB,EAA0Be,UAA1B,EAAsC;AACpC,QAAIL,OAAOD,eAAe7Y,cAAf,CAA8BoY,IAA9B,IAAsCS,eAAeT,IAAf,CAAtC,GAA8DS,eAAeT,IAAf,IAAuB,EAAhG;AACAzY,YAAQwZ,UAAR,EAAoBL,IAApB;AACD;;AAED,WAASM,SAAT,CAAmBhB,IAAnB,EAAyBiB,KAAzB,EAAgC;AAC9B,QAAIA,UAAU,IAAd,EAAoB;AAAE,aAAOA,KAAP;AAAc;AACpC,QAAIjB,KAAKgB,SAAT,EAAoB;AAAE,aAAOhB,KAAKgB,SAAL,CAAeC,KAAf,CAAP;AAA8B;AACpD,QAAIC,SAAS,EAAb;AACA,SAAK,IAAI/Y,CAAT,IAAc8Y,KAAd,EAAqB;AACnB,UAAIE,MAAMF,MAAM9Y,CAAN,CAAV;AACA,UAAIgZ,eAAeja,KAAnB,EAA0B;AAAEia,cAAMA,IAAIzN,MAAJ,CAAW,EAAX,CAAN;AAAsB;AAClDwN,aAAO/Y,CAAP,IAAYgZ,GAAZ;AACD;AACD,WAAOD,MAAP;AACD;;AAED;AACA;AACA,WAASE,SAAT,CAAmBpB,IAAnB,EAAyBiB,KAAzB,EAAgC;AAC9B,QAAII,IAAJ;AACA,WAAOrB,KAAKoB,SAAZ,EAAuB;AACrBC,aAAOrB,KAAKoB,SAAL,CAAeH,KAAf,CAAP;AACA,UAAI,CAACI,IAAD,IAASA,KAAKrB,IAAL,IAAaA,IAA1B,EAAgC;AAAE;AAAO;AACzCiB,cAAQI,KAAKJ,KAAb;AACAjB,aAAOqB,KAAKrB,IAAZ;AACD;AACD,WAAOqB,QAAQ,EAACrB,MAAMA,IAAP,EAAaiB,OAAOA,KAApB,EAAf;AACD;;AAED,WAASK,UAAT,CAAoBtB,IAApB,EAA0BuB,EAA1B,EAA8BC,EAA9B,EAAkC;AAChC,WAAOxB,KAAKsB,UAAL,GAAkBtB,KAAKsB,UAAL,CAAgBC,EAAhB,EAAoBC,EAApB,CAAlB,GAA4C,IAAnD;AACD;;AAED;;AAEA;AACA;;AAEA,MAAIC,eAAe,SAAfA,YAAe,CAAS3Z,MAAT,EAAiBC,OAAjB,EAA0B2Z,UAA1B,EAAsC;AACvD,SAAKnY,GAAL,GAAW,KAAKxE,KAAL,GAAa,CAAxB;AACA,SAAK+C,MAAL,GAAcA,MAAd;AACA,SAAKC,OAAL,GAAeA,WAAW,CAA1B;AACA,SAAK4Z,aAAL,GAAqB,KAAKC,eAAL,GAAuB,CAA5C;AACA,SAAKC,SAAL,GAAiB,CAAjB;AACA,SAAKH,UAAL,GAAkBA,UAAlB;AACD,GAPD;;AASAD,eAAata,SAAb,CAAuB2a,GAAvB,GAA6B,YAAY;AAAC,WAAO,KAAKvY,GAAL,IAAY,KAAKzB,MAAL,CAAYrE,MAA/B;AAAsC,GAAhF;AACAge,eAAata,SAAb,CAAuB4a,GAAvB,GAA6B,YAAY;AAAC,WAAO,KAAKxY,GAAL,IAAY,KAAKsY,SAAxB;AAAkC,GAA5E;AACAJ,eAAata,SAAb,CAAuB6a,IAAvB,GAA8B,YAAY;AAAC,WAAO,KAAKla,MAAL,CAAY+D,MAAZ,CAAmB,KAAKtC,GAAxB,KAAgC0Y,SAAvC;AAAiD,GAA5F;AACAR,eAAata,SAAb,CAAuB+a,IAAvB,GAA8B,YAAY;AACxC,QAAI,KAAK3Y,GAAL,GAAW,KAAKzB,MAAL,CAAYrE,MAA3B,EACE;AAAE,aAAO,KAAKqE,MAAL,CAAY+D,MAAZ,CAAmB,KAAKtC,GAAL,EAAnB,CAAP;AAAuC;AAC5C,GAHD;AAIAkY,eAAata,SAAb,CAAuBgb,GAAvB,GAA6B,UAAUxf,KAAV,EAAiB;AAC5C,QAAIqI,KAAK,KAAKlD,MAAL,CAAY+D,MAAZ,CAAmB,KAAKtC,GAAxB,CAAT;AACA,QAAI6Y,EAAJ;AACA,QAAI,OAAOzf,KAAP,IAAgB,QAApB,EAA8B;AAAEyf,WAAKpX,MAAMrI,KAAX;AAAkB,KAAlD,MACK;AAAEyf,WAAKpX,OAAOrI,MAAMxB,IAAN,GAAawB,MAAMxB,IAAN,CAAW6J,EAAX,CAAb,GAA8BrI,MAAMqI,EAAN,CAArC,CAAL;AAAsD;AAC7D,QAAIoX,EAAJ,EAAQ;AAAC,QAAE,KAAK7Y,GAAP,CAAY,OAAOyB,EAAP;AAAU;AAChC,GAND;AAOAyW,eAAata,SAAb,CAAuBkb,QAAvB,GAAkC,UAAU1f,KAAV,EAAiB;AACjD,QAAIoC,QAAQ,KAAKwE,GAAjB;AACA,WAAO,KAAK4Y,GAAL,CAASxf,KAAT,CAAP,EAAuB,CAAE;AACzB,WAAO,KAAK4G,GAAL,GAAWxE,KAAlB;AACD,GAJD;AAKA0c,eAAata,SAAb,CAAuBmb,QAAvB,GAAkC,YAAY;AAC1C,QAAIC,SAAS,IAAb;;AAEF,QAAIxd,QAAQ,KAAKwE,GAAjB;AACA,WAAO,aAAapI,IAAb,CAAkB,KAAK2G,MAAL,CAAY+D,MAAZ,CAAmB,KAAKtC,GAAxB,CAAlB,CAAP,EAAwD;AAAE,QAAEgZ,OAAOhZ,GAAT;AAAc;AACxE,WAAO,KAAKA,GAAL,GAAWxE,KAAlB;AACD,GAND;AAOA0c,eAAata,SAAb,CAAuBqb,SAAvB,GAAmC,YAAY;AAAC,SAAKjZ,GAAL,GAAW,KAAKzB,MAAL,CAAYrE,MAAvB;AAA8B,GAA9E;AACAge,eAAata,SAAb,CAAuBsb,MAAvB,GAAgC,UAAUzX,EAAV,EAAc;AAC5C,QAAIgK,QAAQ,KAAKlN,MAAL,CAAYO,OAAZ,CAAoB2C,EAApB,EAAwB,KAAKzB,GAA7B,CAAZ;AACA,QAAIyL,QAAQ,CAAC,CAAb,EAAgB;AAAC,WAAKzL,GAAL,GAAWyL,KAAX,CAAkB,OAAO,IAAP;AAAY;AAChD,GAHD;AAIAyM,eAAata,SAAb,CAAuBub,MAAvB,GAAgC,UAAUva,CAAV,EAAa;AAAC,SAAKoB,GAAL,IAAYpB,CAAZ;AAAc,GAA5D;AACAsZ,eAAata,SAAb,CAAuBwb,MAAvB,GAAgC,YAAY;AAC1C,QAAI,KAAKhB,aAAL,GAAqB,KAAK5c,KAA9B,EAAqC;AACnC,WAAK6c,eAAL,GAAuB/Z,YAAY,KAAKC,MAAjB,EAAyB,KAAK/C,KAA9B,EAAqC,KAAKgD,OAA1C,EAAmD,KAAK4Z,aAAxD,EAAuE,KAAKC,eAA5E,CAAvB;AACA,WAAKD,aAAL,GAAqB,KAAK5c,KAA1B;AACD;AACD,WAAO,KAAK6c,eAAL,IAAwB,KAAKC,SAAL,GAAiBha,YAAY,KAAKC,MAAjB,EAAyB,KAAK+Z,SAA9B,EAAyC,KAAK9Z,OAA9C,CAAjB,GAA0E,CAAlG,CAAP;AACD,GAND;AAOA0Z,eAAata,SAAb,CAAuByb,WAAvB,GAAqC,YAAY;AAC/C,WAAO/a,YAAY,KAAKC,MAAjB,EAAyB,IAAzB,EAA+B,KAAKC,OAApC,KACJ,KAAK8Z,SAAL,GAAiBha,YAAY,KAAKC,MAAjB,EAAyB,KAAK+Z,SAA9B,EAAyC,KAAK9Z,OAA9C,CAAjB,GAA0E,CADtE,CAAP;AAED,GAHD;AAIA0Z,eAAata,SAAb,CAAuBxE,KAAvB,GAA+B,UAAUkgB,OAAV,EAAmBC,OAAnB,EAA4BC,eAA5B,EAA6C;AAC1E,QAAI,OAAOF,OAAP,IAAkB,QAAtB,EAAgC;AAC9B,UAAIG,QAAQ,SAARA,KAAQ,CAAUrX,GAAV,EAAe;AAAE,eAAOoX,kBAAkBpX,IAAIT,WAAJ,EAAlB,GAAsCS,GAA7C;AAAmD,OAAhF;AACA,UAAIsX,SAAS,KAAKnb,MAAL,CAAYmb,MAAZ,CAAmB,KAAK1Z,GAAxB,EAA6BsZ,QAAQpf,MAArC,CAAb;AACA,UAAIuf,MAAMC,MAAN,KAAiBD,MAAMH,OAAN,CAArB,EAAqC;AACnC,YAAIC,YAAY,KAAhB,EAAuB;AAAE,eAAKvZ,GAAL,IAAYsZ,QAAQpf,MAApB;AAA4B;AACrD,eAAO,IAAP;AACD;AACF,KAPD,MAOO;AACL,UAAId,QAAQ,KAAKmF,MAAL,CAAYvE,KAAZ,CAAkB,KAAKgG,GAAvB,EAA4B5G,KAA5B,CAAkCkgB,OAAlC,CAAZ;AACA,UAAIlgB,SAASA,MAAMa,KAAN,GAAc,CAA3B,EAA8B;AAAE,eAAO,IAAP;AAAa;AAC7C,UAAIb,SAASmgB,YAAY,KAAzB,EAAgC;AAAE,aAAKvZ,GAAL,IAAY5G,MAAM,CAAN,EAASc,MAArB;AAA6B;AAC/D,aAAOd,KAAP;AACD;AACF,GAdD;AAeA8e,eAAata,SAAb,CAAuB/D,OAAvB,GAAiC,YAAW;AAAC,WAAO,KAAK0E,MAAL,CAAYvE,KAAZ,CAAkB,KAAKwB,KAAvB,EAA8B,KAAKwE,GAAnC,CAAP;AAA+C,GAA5F;AACAkY,eAAata,SAAb,CAAuB+b,cAAvB,GAAwC,UAAU/a,CAAV,EAAagb,KAAb,EAAoB;AAC1D,SAAKtB,SAAL,IAAkB1Z,CAAlB;AACA,QAAI;AAAE,aAAOgb,OAAP;AAAgB,KAAtB,SACQ;AAAE,WAAKtB,SAAL,IAAkB1Z,CAAlB;AAAqB;AAChC,GAJD;AAKAsZ,eAAata,SAAb,CAAuBic,SAAvB,GAAmC,UAAUjb,CAAV,EAAa;AAC9C,QAAIkb,SAAS,KAAK3B,UAAlB;AACA,WAAO2B,UAAUA,OAAOD,SAAP,CAAiBjb,CAAjB,CAAjB;AACD,GAHD;AAIAsZ,eAAata,SAAb,CAAuBmc,SAAvB,GAAmC,YAAY;AAC7C,QAAID,SAAS,KAAK3B,UAAlB;AACA,WAAO2B,UAAUA,OAAOC,SAAP,CAAiB,KAAK/Z,GAAtB,CAAjB;AACD,GAHD;;AAKA,MAAIga,eAAe,SAAfA,YAAe,CAAStC,KAAT,EAAgBmC,SAAhB,EAA2B;AAC5C,SAAKnC,KAAL,GAAaA,KAAb;AACA,SAAKmC,SAAL,GAAiBA,SAAjB;AACD,GAHD;;AAKA,MAAII,UAAU,SAAVA,OAAU,CAAShX,GAAT,EAAcyU,KAAd,EAAqBxQ,IAArB,EAA2B2S,SAA3B,EAAsC;AAClD,SAAKnC,KAAL,GAAaA,KAAb;AACA,SAAKzU,GAAL,GAAWA,GAAX;AACA,SAAKiE,IAAL,GAAYA,IAAZ;AACA,SAAKgT,YAAL,GAAoBL,aAAa,CAAjC;AACA,SAAKM,UAAL,GAAkB,IAAlB;AACA,SAAKC,YAAL,GAAoB,CAApB;AACD,GAPD;;AASAH,UAAQrc,SAAR,CAAkBic,SAAlB,GAA8B,UAAUjb,CAAV,EAAa;AACzC,QAAIsI,OAAO,KAAKjE,GAAL,CAASyD,OAAT,CAAiB,KAAKQ,IAAL,GAAYtI,CAA7B,CAAX;AACA,QAAIsI,QAAQ,IAAR,IAAgBtI,IAAI,KAAKsb,YAA7B,EAA2C;AAAE,WAAKA,YAAL,GAAoBtb,CAApB;AAAuB;AACpE,WAAOsI,IAAP;AACD,GAJD;;AAMA+S,UAAQrc,SAAR,CAAkBmc,SAAlB,GAA8B,UAAUnb,CAAV,EAAa;AACvC,QAAIoa,SAAS,IAAb;;AAEF,QAAI,CAAC,KAAKmB,UAAV,EAAsB;AAAE,aAAO,IAAP;AAAa;AACrC,WAAO,KAAKA,UAAL,CAAgB,KAAKC,YAArB,KAAsCxb,CAA7C,EACE;AAAEoa,aAAOoB,YAAP,IAAuB,CAAvB;AAA0B;AAC9B,QAAIxP,OAAO,KAAKuP,UAAL,CAAgB,KAAKC,YAAL,GAAoB,CAApC,CAAX;AACA,WAAO,EAACxP,MAAMA,QAAQA,KAAKmG,OAAL,CAAa,iBAAb,EAAgC,EAAhC,CAAf;AACCpK,YAAM,KAAKwT,UAAL,CAAgB,KAAKC,YAArB,IAAqCxb,CAD5C,EAAP;AAED,GATD;;AAWAqb,UAAQrc,SAAR,CAAkByc,QAAlB,GAA6B,YAAY;AACvC,SAAKnT,IAAL;AACA,QAAI,KAAKgT,YAAL,GAAoB,CAAxB,EAA2B;AAAE,WAAKA,YAAL;AAAqB;AACnD,GAHD;;AAKAD,UAAQK,SAAR,GAAoB,UAAUrX,GAAV,EAAesX,KAAf,EAAsBrT,IAAtB,EAA4B;AAC9C,QAAIqT,iBAAiBP,YAArB,EACE;AAAE,aAAO,IAAIC,OAAJ,CAAYhX,GAAZ,EAAiBwU,UAAUxU,IAAIwT,IAAd,EAAoB8D,MAAM7C,KAA1B,CAAjB,EAAmDxQ,IAAnD,EAAyDqT,MAAMV,SAA/D,CAAP;AAAkF,KADtF,MAGE;AAAE,aAAO,IAAII,OAAJ,CAAYhX,GAAZ,EAAiBwU,UAAUxU,IAAIwT,IAAd,EAAoB8D,KAApB,CAAjB,EAA6CrT,IAA7C,CAAP;AAA2D;AAChE,GALD;;AAOA+S,UAAQrc,SAAR,CAAkB4c,IAAlB,GAAyB,UAAUC,IAAV,EAAgB;AACvC,QAAI/C,QAAQ+C,SAAS,KAAT,GAAiBhD,UAAU,KAAKxU,GAAL,CAASwT,IAAnB,EAAyB,KAAKiB,KAA9B,CAAjB,GAAwD,KAAKA,KAAzE;AACA,WAAO,KAAKwC,YAAL,GAAoB,CAApB,GAAwB,IAAIF,YAAJ,CAAiBtC,KAAjB,EAAwB,KAAKwC,YAA7B,CAAxB,GAAqExC,KAA5E;AACD,GAHD;;AAMA;AACA;AACA;AACA;AACA,WAASgD,aAAT,CAAuBvL,EAAvB,EAA2BjI,IAA3B,EAAiCyT,OAAjC,EAA0CC,UAA1C,EAAsD;AACpD;AACA;AACA,QAAIC,KAAK,CAAC1L,GAAGuI,KAAH,CAASoD,OAAV,CAAT;AAAA,QAA6BC,cAAc,EAA3C;AACA;AACAC,YAAQ7L,EAAR,EAAYjI,KAAKE,IAAjB,EAAuB+H,GAAGlM,GAAH,CAAOwT,IAA9B,EAAoCkE,OAApC,EAA6C,UAAUlf,GAAV,EAAeV,KAAf,EAAsB;AAAE,aAAO8f,GAAGta,IAAH,CAAQ9E,GAAR,EAAaV,KAAb,CAAP;AAA6B,KAAlG,EACQggB,WADR,EACqBH,UADrB;AAEA,QAAIlD,QAAQiD,QAAQjD,KAApB;;AAEA;AACA,QAAIuD,OAAO,SAAPA,IAAO,CAAWC,CAAX,EAAe;AACxBP,cAAQR,UAAR,GAAqBU,EAArB;AACA,UAAIM,UAAUhM,GAAGuI,KAAH,CAAS0D,QAAT,CAAkBF,CAAlB,CAAd;AAAA,UAAoC/f,IAAI,CAAxC;AAAA,UAA2CsW,KAAK,CAAhD;AACAkJ,cAAQjD,KAAR,GAAgB,IAAhB;AACAsD,cAAQ7L,EAAR,EAAYjI,KAAKE,IAAjB,EAAuB+T,QAAQ1E,IAA/B,EAAqCkE,OAArC,EAA8C,UAAUlf,GAAV,EAAeV,KAAf,EAAsB;AAClE,YAAIS,QAAQL,CAAZ;AACA;AACA,eAAOsW,KAAKhW,GAAZ,EAAiB;AACf,cAAI4f,QAAQR,GAAG1f,CAAH,CAAZ;AACA,cAAIkgB,QAAQ5f,GAAZ,EACE;AAAEof,eAAG9Z,MAAH,CAAU5F,CAAV,EAAa,CAAb,EAAgBM,GAAhB,EAAqBof,GAAG1f,IAAE,CAAL,CAArB,EAA8BkgB,KAA9B;AAAsC;AAC1ClgB,eAAK,CAAL;AACAsW,eAAKtR,KAAKC,GAAL,CAAS3E,GAAT,EAAc4f,KAAd,CAAL;AACD;AACD,YAAI,CAACtgB,KAAL,EAAY;AAAE;AAAQ;AACtB,YAAIogB,QAAQG,MAAZ,EAAoB;AAClBT,aAAG9Z,MAAH,CAAUvF,KAAV,EAAiBL,IAAIK,KAArB,EAA4BC,GAA5B,EAAiC,aAAaV,KAA9C;AACAI,cAAIK,QAAQ,CAAZ;AACD,SAHD,MAGO;AACL,iBAAOA,QAAQL,CAAf,EAAkBK,SAAS,CAA3B,EAA8B;AAC5B,gBAAIkM,MAAMmT,GAAGrf,QAAM,CAAT,CAAV;AACAqf,eAAGrf,QAAM,CAAT,IAAc,CAACkM,MAAMA,MAAM,GAAZ,GAAkB,EAAnB,IAAyB,UAAzB,GAAsC3M,KAApD;AACD;AACF;AACF,OApBD,EAoBGggB,WApBH;AAqBAJ,cAAQjD,KAAR,GAAgBA,KAAhB;AACAiD,cAAQR,UAAR,GAAqB,IAArB;AACAQ,cAAQP,YAAR,GAAuB,CAAvB;AACD,KA5BD;;AA8BA,SAAK,IAAIc,IAAI,CAAb,EAAgBA,IAAI/L,GAAGuI,KAAH,CAAS0D,QAAT,CAAkBlhB,MAAtC,EAA8C,EAAEghB,CAAhD;AAAmDD,WAAMC,CAAN;AAAnD,KAEA,OAAO,EAACK,QAAQV,EAAT,EAAaW,SAAST,YAAYU,OAAZ,IAAuBV,YAAYW,SAAnC,GAA+CX,WAA/C,GAA6D,IAAnF,EAAP;AACD;;AAED,WAASY,aAAT,CAAuBxM,EAAvB,EAA2BjI,IAA3B,EAAiC0U,cAAjC,EAAiD;AAC/C,QAAI,CAAC1U,KAAKqU,MAAN,IAAgBrU,KAAKqU,MAAL,CAAY,CAAZ,KAAkBpM,GAAGuI,KAAH,CAASoD,OAA/C,EAAwD;AACtD,UAAIH,UAAUkB,iBAAiB1M,EAAjB,EAAqB1H,OAAOP,IAAP,CAArB,CAAd;AACA,UAAI4U,aAAa5U,KAAKE,IAAL,CAAUlN,MAAV,GAAmBiV,GAAG/G,OAAH,CAAW2T,kBAA9B,IAAoDtE,UAAUtI,GAAGlM,GAAH,CAAOwT,IAAjB,EAAuBkE,QAAQjD,KAA/B,CAArE;AACA,UAAIvC,SAASuF,cAAcvL,EAAd,EAAkBjI,IAAlB,EAAwByT,OAAxB,CAAb;AACA,UAAImB,UAAJ,EAAgB;AAAEnB,gBAAQjD,KAAR,GAAgBoE,UAAhB;AAA4B;AAC9C5U,WAAK8U,UAAL,GAAkBrB,QAAQH,IAAR,CAAa,CAACsB,UAAd,CAAlB;AACA5U,WAAKqU,MAAL,GAAcpG,OAAOoG,MAArB;AACA,UAAIpG,OAAOqG,OAAX,EAAoB;AAAEtU,aAAK+U,YAAL,GAAoB9G,OAAOqG,OAA3B;AAAoC,OAA1D,MACK,IAAItU,KAAK+U,YAAT,EAAuB;AAAE/U,aAAK+U,YAAL,GAAoB,IAApB;AAA0B;AACxD,UAAIL,mBAAmBzM,GAAGlM,GAAH,CAAOiZ,iBAA9B,EACE;AAAE/M,WAAGlM,GAAH,CAAOkZ,YAAP,GAAsBhc,KAAK8I,GAAL,CAASkG,GAAGlM,GAAH,CAAOkZ,YAAhB,EAA8B,EAAEhN,GAAGlM,GAAH,CAAOiZ,iBAAvC,CAAtB;AAAiF;AACtF;AACD,WAAOhV,KAAKqU,MAAZ;AACD;;AAED,WAASM,gBAAT,CAA0B1M,EAA1B,EAA8BvQ,CAA9B,EAAiCwd,OAAjC,EAA0C;AACxC,QAAInZ,MAAMkM,GAAGlM,GAAb;AAAA,QAAkBmM,UAAUD,GAAGC,OAA/B;AACA,QAAI,CAACnM,IAAIwT,IAAJ,CAASsB,UAAd,EAA0B;AAAE,aAAO,IAAIkC,OAAJ,CAAYhX,GAAZ,EAAiB,IAAjB,EAAuBrE,CAAvB,CAAP;AAAkC;AAC9D,QAAIpD,QAAQ6gB,cAAclN,EAAd,EAAkBvQ,CAAlB,EAAqBwd,OAArB,CAAZ;AACA,QAAI7B,QAAQ/e,QAAQyH,IAAIyB,KAAZ,IAAqBgC,QAAQzD,GAAR,EAAazH,QAAQ,CAArB,EAAwBwgB,UAAzD;AACA,QAAIrB,UAAUJ,QAAQN,QAAQK,SAAR,CAAkBrX,GAAlB,EAAuBsX,KAAvB,EAA8B/e,KAA9B,CAAR,GAA+C,IAAIye,OAAJ,CAAYhX,GAAZ,EAAiB8U,WAAW9U,IAAIwT,IAAf,CAAjB,EAAuCjb,KAAvC,CAA7D;;AAEAyH,QAAIkE,IAAJ,CAAS3L,KAAT,EAAgBoD,CAAhB,EAAmB,UAAUsI,IAAV,EAAgB;AACjCoV,kBAAYnN,EAAZ,EAAgBjI,KAAKE,IAArB,EAA2BuT,OAA3B;AACA,UAAI3a,MAAM2a,QAAQzT,IAAlB;AACAA,WAAK8U,UAAL,GAAkBhc,OAAOpB,IAAI,CAAX,IAAgBoB,MAAM,CAAN,IAAW,CAA3B,IAAgCA,OAAOoP,QAAQ5K,QAAf,IAA2BxE,MAAMoP,QAAQ3K,MAAzE,GAAkFkW,QAAQH,IAAR,EAAlF,GAAmG,IAArH;AACAG,cAAQN,QAAR;AACD,KALD;AAMA,QAAI+B,OAAJ,EAAa;AAAEnZ,UAAIkZ,YAAJ,GAAmBxB,QAAQzT,IAA3B;AAAiC;AAChD,WAAOyT,OAAP;AACD;;AAED;AACA;AACA;AACA,WAAS2B,WAAT,CAAqBnN,EAArB,EAAyB/H,IAAzB,EAA+BuT,OAA/B,EAAwC4B,OAAxC,EAAiD;AAC/C,QAAI9F,OAAOtH,GAAGlM,GAAH,CAAOwT,IAAlB;AACA,QAAI+F,SAAS,IAAItE,YAAJ,CAAiB9Q,IAAjB,EAAuB+H,GAAG/G,OAAH,CAAW5J,OAAlC,EAA2Cmc,OAA3C,CAAb;AACA6B,WAAOhhB,KAAP,GAAeghB,OAAOxc,GAAP,GAAauc,WAAW,CAAvC;AACA,QAAInV,QAAQ,EAAZ,EAAgB;AAAEqV,oBAAchG,IAAd,EAAoBkE,QAAQjD,KAA5B;AAAoC;AACtD,WAAO,CAAC8E,OAAOjE,GAAP,EAAR,EAAsB;AACpBmE,gBAAUjG,IAAV,EAAgB+F,MAAhB,EAAwB7B,QAAQjD,KAAhC;AACA8E,aAAOhhB,KAAP,GAAeghB,OAAOxc,GAAtB;AACD;AACF;;AAED,WAASyc,aAAT,CAAuBhG,IAAvB,EAA6BiB,KAA7B,EAAoC;AAClC,QAAIjB,KAAKkG,SAAT,EAAoB;AAAE,aAAOlG,KAAKkG,SAAL,CAAejF,KAAf,CAAP;AAA8B;AACpD,QAAI,CAACjB,KAAKoB,SAAV,EAAqB;AAAE;AAAQ;AAC/B,QAAI+B,QAAQ/B,UAAUpB,IAAV,EAAgBiB,KAAhB,CAAZ;AACA,QAAIkC,MAAMnD,IAAN,CAAWkG,SAAf,EAA0B;AAAE,aAAO/C,MAAMnD,IAAN,CAAWkG,SAAX,CAAqB/C,MAAMlC,KAA3B,CAAP;AAA0C;AACvE;;AAED,WAASgF,SAAT,CAAmBjG,IAAnB,EAAyB+F,MAAzB,EAAiC9E,KAAjC,EAAwCkC,KAAxC,EAA+C;AAC7C,SAAK,IAAIze,IAAI,CAAb,EAAgBA,IAAI,EAApB,EAAwBA,GAAxB,EAA6B;AAC3B,UAAIye,KAAJ,EAAW;AAAEA,cAAM,CAAN,IAAW/B,UAAUpB,IAAV,EAAgBiB,KAAhB,EAAuBjB,IAAlC;AAAwC;AACrD,UAAI1b,QAAQ0b,KAAKmG,KAAL,CAAWJ,MAAX,EAAmB9E,KAAnB,CAAZ;AACA,UAAI8E,OAAOxc,GAAP,GAAawc,OAAOhhB,KAAxB,EAA+B;AAAE,eAAOT,KAAP;AAAc;AAChD;AACD,UAAM,IAAI6L,KAAJ,CAAU,UAAU6P,KAAKD,IAAf,GAAsB,4BAAhC,CAAN;AACD;;AAED,MAAIqG,QAAQ,SAARA,KAAQ,CAASL,MAAT,EAAiB5R,IAAjB,EAAuB8M,KAAvB,EAA8B;AACxC,SAAKlc,KAAL,GAAaghB,OAAOhhB,KAApB,CAA2B,KAAKC,GAAL,GAAW+gB,OAAOxc,GAAlB;AAC3B,SAAKzB,MAAL,GAAcie,OAAO3iB,OAAP,EAAd;AACA,SAAK+Q,IAAL,GAAYA,QAAQ,IAApB;AACA,SAAK8M,KAAL,GAAaA,KAAb;AACD,GALD;;AAOA;AACA,WAASoF,SAAT,CAAmB3N,EAAnB,EAAuBnP,GAAvB,EAA4Boc,OAA5B,EAAqCW,OAArC,EAA8C;AAC5C,QAAI9Z,MAAMkM,GAAGlM,GAAb;AAAA,QAAkBwT,OAAOxT,IAAIwT,IAA7B;AAAA,QAAmC1b,KAAnC;AACAiF,UAAMkJ,SAAQjG,GAAR,EAAajD,GAAb,CAAN;AACA,QAAIkH,OAAOR,QAAQzD,GAAR,EAAajD,IAAIkH,IAAjB,CAAX;AAAA,QAAmCyT,UAAUkB,iBAAiB1M,EAAjB,EAAqBnP,IAAIkH,IAAzB,EAA+BkV,OAA/B,CAA7C;AACA,QAAII,SAAS,IAAItE,YAAJ,CAAiBhR,KAAKE,IAAtB,EAA4B+H,GAAG/G,OAAH,CAAW5J,OAAvC,EAAgDmc,OAAhD,CAAb;AAAA,QAAuEqC,MAAvE;AACA,QAAID,OAAJ,EAAa;AAAEC,eAAS,EAAT;AAAa;AAC5B,WAAO,CAACD,WAAWP,OAAOxc,GAAP,GAAaA,IAAIyB,EAA7B,KAAoC,CAAC+a,OAAOjE,GAAP,EAA5C,EAA0D;AACxDiE,aAAOhhB,KAAP,GAAeghB,OAAOxc,GAAtB;AACAjF,cAAQ2hB,UAAUjG,IAAV,EAAgB+F,MAAhB,EAAwB7B,QAAQjD,KAAhC,CAAR;AACA,UAAIqF,OAAJ,EAAa;AAAEC,eAAOzc,IAAP,CAAY,IAAIsc,KAAJ,CAAUL,MAAV,EAAkBzhB,KAAlB,EAAyB0c,UAAUxU,IAAIwT,IAAd,EAAoBkE,QAAQjD,KAA5B,CAAzB,CAAZ;AAA2E;AAC3F;AACD,WAAOqF,UAAUC,MAAV,GAAmB,IAAIH,KAAJ,CAAUL,MAAV,EAAkBzhB,KAAlB,EAAyB4f,QAAQjD,KAAjC,CAA1B;AACD;;AAED,WAASuF,kBAAT,CAA4BrS,IAA5B,EAAkCsS,MAAlC,EAA0C;AACxC,QAAItS,IAAJ,EAAU;AAAE,eAAS;AACnB,YAAIuS,YAAYvS,KAAKxR,KAAL,CAAW,mCAAX,CAAhB;AACA,YAAI,CAAC+jB,SAAL,EAAgB;AAAE;AAAO;AACzBvS,eAAOA,KAAK5Q,KAAL,CAAW,CAAX,EAAcmjB,UAAUljB,KAAxB,IAAiC2Q,KAAK5Q,KAAL,CAAWmjB,UAAUljB,KAAV,GAAkBkjB,UAAU,CAAV,EAAajjB,MAA1C,CAAxC;AACA,YAAIkE,OAAO+e,UAAU,CAAV,IAAe,SAAf,GAA2B,WAAtC;AACA,YAAID,OAAO9e,IAAP,KAAgB,IAApB,EACE;AAAE8e,iBAAO9e,IAAP,IAAe+e,UAAU,CAAV,CAAf;AAA6B,SADjC,MAEK,IAAI,CAAE,IAAIzjB,MAAJ,CAAW,aAAayjB,UAAU,CAAV,CAAb,GAA4B,UAAvC,CAAD,CAAqDvlB,IAArD,CAA0DslB,OAAO9e,IAAP,CAA1D,CAAL,EACH;AAAE8e,iBAAO9e,IAAP,KAAgB,MAAM+e,UAAU,CAAV,CAAtB;AAAoC;AACzC;AAAE;AACH,WAAOvS,IAAP;AACD;;AAED;AACA,WAASoQ,OAAT,CAAiB7L,EAAjB,EAAqB/H,IAArB,EAA2BqP,IAA3B,EAAiCkE,OAAjC,EAA0Cld,CAA1C,EAA6Csd,WAA7C,EAA0DH,UAA1D,EAAsE;AACpE,QAAIwC,eAAe3G,KAAK2G,YAAxB;AACA,QAAIA,gBAAgB,IAApB,EAA0B;AAAEA,qBAAejO,GAAG/G,OAAH,CAAWgV,YAA1B;AAAwC;AACpE,QAAIC,WAAW,CAAf;AAAA,QAAkBC,WAAW,IAA7B;AACA,QAAId,SAAS,IAAItE,YAAJ,CAAiB9Q,IAAjB,EAAuB+H,GAAG/G,OAAH,CAAW5J,OAAlC,EAA2Cmc,OAA3C,CAAb;AAAA,QAAkE5f,KAAlE;AACA,QAAI6e,QAAQzK,GAAG/G,OAAH,CAAWmV,YAAX,IAA2B,CAAC,IAAD,CAAvC;AACA,QAAInW,QAAQ,EAAZ,EAAgB;AAAE6V,yBAAmBR,cAAchG,IAAd,EAAoBkE,QAAQjD,KAA5B,CAAnB,EAAuDqD,WAAvD;AAAqE;AACvF,WAAO,CAACyB,OAAOjE,GAAP,EAAR,EAAsB;AACpB,UAAIiE,OAAOxc,GAAP,GAAamP,GAAG/G,OAAH,CAAW2T,kBAA5B,EAAgD;AAC9CqB,uBAAe,KAAf;AACA,YAAIxC,UAAJ,EAAgB;AAAE0B,sBAAYnN,EAAZ,EAAgB/H,IAAhB,EAAsBuT,OAAtB,EAA+B6B,OAAOxc,GAAtC;AAA4C;AAC9Dwc,eAAOxc,GAAP,GAAaoH,KAAKlN,MAAlB;AACAa,gBAAQ,IAAR;AACD,OALD,MAKO;AACLA,gBAAQkiB,mBAAmBP,UAAUjG,IAAV,EAAgB+F,MAAhB,EAAwB7B,QAAQjD,KAAhC,EAAuCkC,KAAvC,CAAnB,EAAkEmB,WAAlE,CAAR;AACD;AACD,UAAInB,KAAJ,EAAW;AACT,YAAI4D,QAAQ5D,MAAM,CAAN,EAASpD,IAArB;AACA,YAAIgH,KAAJ,EAAW;AAAEziB,kBAAQ,QAAQA,QAAQyiB,QAAQ,GAAR,GAAcziB,KAAtB,GAA8ByiB,KAAtC,CAAR;AAAsD;AACpE;AACD,UAAI,CAACJ,YAAD,IAAiBE,YAAYviB,KAAjC,EAAwC;AACtC,eAAOsiB,WAAWb,OAAOhhB,KAAzB,EAAgC;AAC9B6hB,qBAAWld,KAAKC,GAAL,CAASoc,OAAOhhB,KAAhB,EAAuB6hB,WAAW,IAAlC,CAAX;AACA5f,YAAE4f,QAAF,EAAYC,QAAZ;AACD;AACDA,mBAAWviB,KAAX;AACD;AACDyhB,aAAOhhB,KAAP,GAAeghB,OAAOxc,GAAtB;AACD;AACD,WAAOqd,WAAWb,OAAOxc,GAAzB,EAA8B;AAC5B;AACA;AACA;AACA,UAAIA,MAAMG,KAAKC,GAAL,CAASoc,OAAOxc,GAAhB,EAAqBqd,WAAW,IAAhC,CAAV;AACA5f,QAAEuC,GAAF,EAAOsd,QAAP;AACAD,iBAAWrd,GAAX;AACD;AACF;;AAED;AACA;AACA;AACA;AACA;AACA,WAASqc,aAAT,CAAuBlN,EAAvB,EAA2BvQ,CAA3B,EAA8Bwd,OAA9B,EAAuC;AACrC,QAAIqB,SAAJ;AAAA,QAAeC,OAAf;AAAA,QAAwBza,MAAMkM,GAAGlM,GAAjC;AACA,QAAI0a,MAAMvB,UAAU,CAAC,CAAX,GAAexd,KAAKuQ,GAAGlM,GAAH,CAAOwT,IAAP,CAAYoB,SAAZ,GAAwB,IAAxB,GAA+B,GAApC,CAAzB;AACA,SAAK,IAAIlZ,SAASC,CAAlB,EAAqBD,SAASgf,GAA9B,EAAmC,EAAEhf,MAArC,EAA6C;AAC3C,UAAIA,UAAUsE,IAAIyB,KAAlB,EAAyB;AAAE,eAAOzB,IAAIyB,KAAX;AAAkB;AAC7C,UAAIwC,OAAOR,QAAQzD,GAAR,EAAatE,SAAS,CAAtB,CAAX;AAAA,UAAqC5E,QAAQmN,KAAK8U,UAAlD;AACA,UAAIjiB,UAAU,CAACqiB,OAAD,IAAYzd,UAAU5E,iBAAiBigB,YAAjB,GAAgCjgB,MAAM8f,SAAtC,GAAkD,CAA5D,KAAkE5W,IAAIkZ,YAA5F,CAAJ,EACE;AAAE,eAAOxd,MAAP;AAAe;AACnB,UAAIif,WAAWtf,YAAY4I,KAAKE,IAAjB,EAAuB,IAAvB,EAA6B+H,GAAG/G,OAAH,CAAW5J,OAAxC,CAAf;AACA,UAAIkf,WAAW,IAAX,IAAmBD,YAAYG,QAAnC,EAA6C;AAC3CF,kBAAU/e,SAAS,CAAnB;AACA8e,oBAAYG,QAAZ;AACD;AACF;AACD,WAAOF,OAAP;AACD;;AAED,WAASG,eAAT,CAAyB5a,GAAzB,EAA8BrE,CAA9B,EAAiC;AAC/BqE,QAAIkZ,YAAJ,GAAmBhc,KAAKC,GAAL,CAAS6C,IAAIkZ,YAAb,EAA2Bvd,CAA3B,CAAnB;AACA,QAAIqE,IAAIiZ,iBAAJ,GAAwBtd,IAAI,EAAhC,EAAoC;AAAE;AAAQ;AAC9C,QAAIpD,QAAQyH,IAAIyB,KAAhB;AACA,SAAK,IAAIwC,OAAOtI,IAAI,CAApB,EAAuBsI,OAAO1L,KAA9B,EAAqC0L,MAArC,EAA6C;AAC3C,UAAIqT,QAAQ7T,QAAQzD,GAAR,EAAaiE,IAAb,EAAmB8U,UAA/B;AACA;AACA;AACA;AACA,UAAIzB,UAAU,EAAEA,iBAAiBP,YAAnB,KAAoC9S,OAAOqT,MAAMV,SAAb,GAAyBjb,CAAvE,CAAJ,EAA+E;AAC7EpD,gBAAQ0L,OAAO,CAAf;AACA;AACD;AACF;AACDjE,QAAIiZ,iBAAJ,GAAwB/b,KAAKC,GAAL,CAAS6C,IAAIiZ,iBAAb,EAAgC1gB,KAAhC,CAAxB;AACD;;AAED;;AAEA;AACA;AACA,MAAIsiB,OAAO,SAAPA,IAAO,CAAS1W,IAAT,EAAe8C,WAAf,EAA4B6T,cAA5B,EAA4C;AACrD,SAAK3W,IAAL,GAAYA,IAAZ;AACA8F,sBAAkB,IAAlB,EAAwBhD,WAAxB;AACA,SAAK3C,MAAL,GAAcwW,iBAAiBA,eAAe,IAAf,CAAjB,GAAwC,CAAtD;AACD,GAJD;;AAMAD,OAAKlgB,SAAL,CAAe6J,MAAf,GAAwB,YAAY;AAAE,WAAOA,OAAO,IAAP,CAAP;AAAqB,GAA3D;AACA6L,aAAWwK,IAAX;;AAEA;AACA;AACA;AACA,WAASE,UAAT,CAAoB9W,IAApB,EAA0BE,IAA1B,EAAgC8C,WAAhC,EAA6C6T,cAA7C,EAA6D;AAC3D7W,SAAKE,IAAL,GAAYA,IAAZ;AACA,QAAIF,KAAK8U,UAAT,EAAqB;AAAE9U,WAAK8U,UAAL,GAAkB,IAAlB;AAAwB;AAC/C,QAAI9U,KAAKqU,MAAT,EAAiB;AAAErU,WAAKqU,MAAL,GAAc,IAAd;AAAoB;AACvC,QAAIrU,KAAKoI,KAAL,IAAc,IAAlB,EAAwB;AAAEpI,WAAKoI,KAAL,GAAa,IAAb;AAAmB;AAC7CtC,sBAAkB9F,IAAlB;AACAgG,sBAAkBhG,IAAlB,EAAwBgD,WAAxB;AACA,QAAI+T,YAAYF,iBAAiBA,eAAe7W,IAAf,CAAjB,GAAwC,CAAxD;AACA,QAAI+W,aAAa/W,KAAKK,MAAtB,EAA8B;AAAED,uBAAiBJ,IAAjB,EAAuB+W,SAAvB;AAAmC;AACpE;;AAED;AACA,WAASC,WAAT,CAAqBhX,IAArB,EAA2B;AACzBA,SAAKxM,MAAL,GAAc,IAAd;AACAsS,sBAAkB9F,IAAlB;AACD;;AAED;AACA;AACA;AACA,MAAIiX,oBAAoB,EAAxB;AACA,MAAIC,4BAA4B,EAAhC;AACA,WAASC,mBAAT,CAA6BtjB,KAA7B,EAAoCqN,OAApC,EAA6C;AAC3C,QAAI,CAACrN,KAAD,IAAU,QAAQnD,IAAR,CAAamD,KAAb,CAAd,EAAmC;AAAE,aAAO,IAAP;AAAa;AAClD,QAAIujB,QAAQlW,QAAQmV,YAAR,GAAuBa,yBAAvB,GAAmDD,iBAA/D;AACA,WAAOG,MAAMvjB,KAAN,MACJujB,MAAMvjB,KAAN,IAAeA,MAAMgW,OAAN,CAAc,MAAd,EAAsB,OAAtB,CADX,CAAP;AAED;;AAED;AACA;AACA;AACA;AACA;AACA,WAASwN,gBAAT,CAA0BpP,EAA1B,EAA8BqP,QAA9B,EAAwC;AACtC;AACA;AACA;AACA,QAAI1jB,UAAUM,KAAK,MAAL,EAAa,IAAb,EAAmB,IAAnB,EAAyB/C,SAAS,qBAAT,GAAiC,IAA1D,CAAd;AACA,QAAIomB,UAAU,EAACC,KAAKtjB,KAAK,KAAL,EAAY,CAACN,OAAD,CAAZ,EAAuB,iBAAvB,CAAN,EAAiDA,SAASA,OAA1D;AACCmF,WAAK,CADN,EACSD,KAAK,CADd,EACiBmP,IAAIA,EADrB;AAECwP,qBAAe,KAFhB;AAGCC,mBAAa,CAAC3mB,MAAMI,MAAP,KAAkB8W,GAAG0P,SAAH,CAAa,cAAb,CAHhC,EAAd;AAIAL,aAAS/a,OAAT,GAAmB,EAAnB;;AAEA;AACA,SAAK,IAAItI,IAAI,CAAb,EAAgBA,MAAMqjB,SAASM,IAAT,GAAgBN,SAASM,IAAT,CAAc5kB,MAA9B,GAAuC,CAA7C,CAAhB,EAAiEiB,GAAjE,EAAsE;AACpE,UAAI+L,OAAO/L,IAAIqjB,SAASM,IAAT,CAAc3jB,IAAI,CAAlB,CAAJ,GAA2BqjB,SAAStX,IAA/C;AAAA,UAAqDoI,QAAS,KAAK,CAAnE;AACAmP,cAAQze,GAAR,GAAc,CAAd;AACAye,cAAQM,QAAR,GAAmBC,UAAnB;AACA;AACA;AACA,UAAIrK,gBAAgBxF,GAAGC,OAAH,CAAW3L,OAA3B,MAAwC6L,QAAQwC,SAAS5K,IAAT,EAAeiI,GAAGlM,GAAH,CAAOqN,SAAtB,CAAhD,CAAJ,EACE;AAAEmO,gBAAQM,QAAR,GAAmBE,kBAAkBR,QAAQM,QAA1B,EAAoCzP,KAApC,CAAnB;AAA+D;AACnEmP,cAAQ/d,GAAR,GAAc,EAAd;AACA,UAAIwe,sBAAsBV,YAAYrP,GAAGC,OAAH,CAAWrK,gBAAvB,IAA2C0C,OAAOP,IAAP,CAArE;AACAiY,wBAAkBjY,IAAlB,EAAwBuX,OAAxB,EAAiC9C,cAAcxM,EAAd,EAAkBjI,IAAlB,EAAwBgY,mBAAxB,CAAjC;AACA,UAAIhY,KAAK+U,YAAT,EAAuB;AACrB,YAAI/U,KAAK+U,YAAL,CAAkBR,OAAtB,EACE;AAAEgD,kBAAQhD,OAAR,GAAkB5e,YAAYqK,KAAK+U,YAAL,CAAkBR,OAA9B,EAAuCgD,QAAQhD,OAAR,IAAmB,EAA1D,CAAlB;AAAiF;AACrF,YAAIvU,KAAK+U,YAAL,CAAkBP,SAAtB,EACE;AAAE+C,kBAAQ/C,SAAR,GAAoB7e,YAAYqK,KAAK+U,YAAL,CAAkBP,SAA9B,EAAyC+C,QAAQ/C,SAAR,IAAqB,EAA9D,CAApB;AAAuF;AAC5F;;AAED;AACA,UAAI+C,QAAQ/d,GAAR,CAAYxG,MAAZ,IAAsB,CAA1B,EACE;AAAEukB,gBAAQ/d,GAAR,CAAYH,IAAZ,CAAiB,CAAjB,EAAoB,CAApB,EAAuBke,QAAQ3jB,OAAR,CAAgBH,WAAhB,CAA4B4Z,iBAAiBpF,GAAGC,OAAH,CAAW3L,OAA5B,CAA5B,CAAvB;AAA2F;;AAE/F;AACA,UAAItI,KAAK,CAAT,EAAY;AACVqjB,iBAAS/a,OAAT,CAAiB/C,GAAjB,GAAuB+d,QAAQ/d,GAA/B;AACA8d,iBAAS/a,OAAT,CAAiB6a,KAAjB,GAAyB,EAAzB;AACD,OAHD,MAGO;AACL,SAAC,CAACE,SAAS/a,OAAT,CAAiB2b,IAAjB,KAA0BZ,SAAS/a,OAAT,CAAiB2b,IAAjB,GAAwB,EAAlD,CAAD,EAAwD7e,IAAxD,CAA6Dke,QAAQ/d,GAArE,EACA,CAAC8d,SAAS/a,OAAT,CAAiB4b,MAAjB,KAA4Bb,SAAS/a,OAAT,CAAiB4b,MAAjB,GAA0B,EAAtD,CAAD,EAA4D9e,IAA5D,CAAiE,EAAjE;AACF;AACF;;AAED;AACA,QAAIlI,MAAJ,EAAY;AACV,UAAI8Q,OAAOsV,QAAQ3jB,OAAR,CAAgBwkB,SAA3B;AACA,UAAI,aAAa1nB,IAAb,CAAkBuR,KAAKrP,SAAvB,KAAsCqP,KAAKoW,aAAL,IAAsBpW,KAAKoW,aAAL,CAAmB,SAAnB,CAAhE,EACE;AAAEd,gBAAQ3jB,OAAR,CAAgBhB,SAAhB,GAA4B,kBAA5B;AAAgD;AACrD;;AAED2Y,WAAOtD,EAAP,EAAW,YAAX,EAAyBA,EAAzB,EAA6BqP,SAAStX,IAAtC,EAA4CuX,QAAQC,GAApD;AACA,QAAID,QAAQC,GAAR,CAAY5kB,SAAhB,EACE;AAAE2kB,cAAQ/C,SAAR,GAAoB7e,YAAY4hB,QAAQC,GAAR,CAAY5kB,SAAxB,EAAmC2kB,QAAQ/C,SAAR,IAAqB,EAAxD,CAApB;AAAiF;;AAErF,WAAO+C,OAAP;AACD;;AAED,WAASe,6BAAT,CAAuC/d,EAAvC,EAA2C;AACzC,QAAImb,QAAQhiB,IAAI,MAAJ,EAAY,QAAZ,EAAsB,gBAAtB,CAAZ;AACAgiB,UAAM6C,KAAN,GAAc,QAAQhe,GAAGS,UAAH,CAAc,CAAd,EAAiB1C,QAAjB,CAA0B,EAA1B,CAAtB;AACAod,UAAMvhB,YAAN,CAAmB,YAAnB,EAAiCuhB,MAAM6C,KAAvC;AACA,WAAO7C,KAAP;AACD;;AAED;AACA;AACA,WAASoC,UAAT,CAAoBP,OAApB,EAA6BrX,IAA7B,EAAmCrM,KAAnC,EAA0C2kB,UAA1C,EAAsDC,QAAtD,EAAgEF,KAAhE,EAAuEG,GAAvE,EAA4E;AAC1E,QAAI,CAACxY,IAAL,EAAW;AAAE;AAAQ;AACrB,QAAIyY,cAAcpB,QAAQG,WAAR,GAAsBA,YAAYxX,IAAZ,EAAkBqX,QAAQE,aAA1B,CAAtB,GAAiEvX,IAAnF;AACA,QAAI0Y,UAAUrB,QAAQtP,EAAR,CAAWuI,KAAX,CAAiBqI,YAA/B;AAAA,QAA6CC,WAAW,KAAxD;AACA,QAAIllB,OAAJ;AACA,QAAI,CAACglB,QAAQloB,IAAR,CAAawP,IAAb,CAAL,EAAyB;AACvBqX,cAAQxe,GAAR,IAAemH,KAAKlN,MAApB;AACAY,gBAAU3C,SAAS+C,cAAT,CAAwB2kB,WAAxB,CAAV;AACApB,cAAQ/d,GAAR,CAAYH,IAAZ,CAAiBke,QAAQze,GAAzB,EAA8Bye,QAAQze,GAAR,GAAcoH,KAAKlN,MAAjD,EAAyDY,OAAzD;AACA,UAAI7C,MAAMC,aAAa,CAAvB,EAA0B;AAAE8nB,mBAAW,IAAX;AAAiB;AAC7CvB,cAAQze,GAAR,IAAeoH,KAAKlN,MAApB;AACD,KAND,MAMO;AACLY,gBAAU3C,SAAS8nB,sBAAT,EAAV;AACA,UAAIjgB,MAAM,CAAV;AACA,aAAO,IAAP,EAAa;AACX8f,gBAAQI,SAAR,GAAoBlgB,GAApB;AACA,YAAIyM,IAAIqT,QAAQ/nB,IAAR,CAAaqP,IAAb,CAAR;AACA,YAAIlH,UAAUuM,IAAIA,EAAExS,KAAF,GAAU+F,GAAd,GAAoBoH,KAAKlN,MAAL,GAAc8F,GAAhD;AACA,YAAIE,OAAJ,EAAa;AACX,cAAI0U,MAAMzc,SAAS+C,cAAT,CAAwB2kB,YAAY7lB,KAAZ,CAAkBgG,GAAlB,EAAuBA,MAAME,OAA7B,CAAxB,CAAV;AACA,cAAIjI,MAAMC,aAAa,CAAvB,EAA0B;AAAE4C,oBAAQH,WAAR,CAAoBC,IAAI,MAAJ,EAAY,CAACga,GAAD,CAAZ,CAApB;AAAyC,WAArE,MACK;AAAE9Z,oBAAQH,WAAR,CAAoBia,GAApB;AAA0B;AACjC6J,kBAAQ/d,GAAR,CAAYH,IAAZ,CAAiBke,QAAQze,GAAzB,EAA8Bye,QAAQze,GAAR,GAAcE,OAA5C,EAAqD0U,GAArD;AACA6J,kBAAQxe,GAAR,IAAeC,OAAf;AACAue,kBAAQze,GAAR,IAAeE,OAAf;AACD;AACD,YAAI,CAACuM,CAAL,EAAQ;AAAE;AAAO;AACjBzM,eAAOE,UAAU,CAAjB;AACA,YAAIigB,QAAS,KAAK,CAAlB;AACA,YAAI1T,EAAE,CAAF,KAAQ,IAAZ,EAAkB;AAChB,cAAIjO,UAAUigB,QAAQtP,EAAR,CAAW/G,OAAX,CAAmB5J,OAAjC;AAAA,cAA0C4hB,WAAW5hB,UAAUigB,QAAQxe,GAAR,GAAczB,OAA7E;AACA2hB,kBAAQrlB,QAAQH,WAAR,CAAoBC,IAAI,MAAJ,EAAY0F,SAAS8f,QAAT,CAAZ,EAAgC,QAAhC,CAApB,CAAR;AACAD,gBAAM9kB,YAAN,CAAmB,MAAnB,EAA2B,cAA3B;AACA8kB,gBAAM9kB,YAAN,CAAmB,SAAnB,EAA8B,IAA9B;AACAojB,kBAAQxe,GAAR,IAAemgB,QAAf;AACD,SAND,MAMO,IAAI3T,EAAE,CAAF,KAAQ,IAAR,IAAgBA,EAAE,CAAF,KAAQ,IAA5B,EAAkC;AACvC0T,kBAAQrlB,QAAQH,WAAR,CAAoBC,IAAI,MAAJ,EAAY6R,EAAE,CAAF,KAAQ,IAAR,GAAe,QAAf,GAA0B,QAAtC,EAAgD,gBAAhD,CAApB,CAAR;AACA0T,gBAAM9kB,YAAN,CAAmB,SAAnB,EAA8BoR,EAAE,CAAF,CAA9B;AACAgS,kBAAQxe,GAAR,IAAe,CAAf;AACD,SAJM,MAIA;AACLkgB,kBAAQ1B,QAAQtP,EAAR,CAAW/G,OAAX,CAAmBiY,sBAAnB,CAA0C5T,EAAE,CAAF,CAA1C,CAAR;AACA0T,gBAAM9kB,YAAN,CAAmB,SAAnB,EAA8BoR,EAAE,CAAF,CAA9B;AACA,cAAIxU,MAAMC,aAAa,CAAvB,EAA0B;AAAE4C,oBAAQH,WAAR,CAAoBC,IAAI,MAAJ,EAAY,CAACulB,KAAD,CAAZ,CAApB;AAA2C,WAAvE,MACK;AAAErlB,oBAAQH,WAAR,CAAoBwlB,KAApB;AAA4B;AACnC1B,kBAAQxe,GAAR,IAAe,CAAf;AACD;AACDwe,gBAAQ/d,GAAR,CAAYH,IAAZ,CAAiBke,QAAQze,GAAzB,EAA8Bye,QAAQze,GAAR,GAAc,CAA5C,EAA+CmgB,KAA/C;AACA1B,gBAAQze,GAAR;AACD;AACF;AACDye,YAAQE,aAAR,GAAwBkB,YAAY3d,UAAZ,CAAuBkF,KAAKlN,MAAL,GAAc,CAArC,KAA2C,EAAnE;AACA,QAAIa,SAAS2kB,UAAT,IAAuBC,QAAvB,IAAmCK,QAAnC,IAA+CJ,GAAnD,EAAwD;AACtD,UAAIU,YAAYvlB,SAAS,EAAzB;AACA,UAAI2kB,UAAJ,EAAgB;AAAEY,qBAAaZ,UAAb;AAAyB;AAC3C,UAAIC,QAAJ,EAAc;AAAEW,qBAAaX,QAAb;AAAuB;AACvC,UAAI/C,QAAQhiB,IAAI,MAAJ,EAAY,CAACE,OAAD,CAAZ,EAAuBwlB,SAAvB,EAAkCV,GAAlC,CAAZ;AACA,UAAIH,KAAJ,EAAW;AAAE7C,cAAM6C,KAAN,GAAcA,KAAd;AAAqB;AAClC,aAAOhB,QAAQ3jB,OAAR,CAAgBH,WAAhB,CAA4BiiB,KAA5B,CAAP;AACD;AACD6B,YAAQ3jB,OAAR,CAAgBH,WAAhB,CAA4BG,OAA5B;AACD;;AAED,WAAS8jB,WAAT,CAAqBxX,IAArB,EAA2BmZ,cAA3B,EAA2C;AACzC,QAAInZ,KAAKlN,MAAL,GAAc,CAAd,IAAmB,CAAC,KAAKtC,IAAL,CAAUwP,IAAV,CAAxB,EAAyC;AAAE,aAAOA,IAAP;AAAa;AACxD,QAAIoZ,cAAcD,cAAlB;AAAA,QAAkCpL,SAAS,EAA3C;AACA,SAAK,IAAIha,IAAI,CAAb,EAAgBA,IAAIiM,KAAKlN,MAAzB,EAAiCiB,GAAjC,EAAsC;AACpC,UAAIsG,KAAK2F,KAAK9E,MAAL,CAAYnH,CAAZ,CAAT;AACA,UAAIsG,MAAM,GAAN,IAAa+e,WAAb,KAA6BrlB,KAAKiM,KAAKlN,MAAL,GAAc,CAAnB,IAAwBkN,KAAKlF,UAAL,CAAgB/G,IAAI,CAApB,KAA0B,EAA/E,CAAJ,EACE;AAAEsG,aAAK,MAAL;AAAe;AACnB0T,gBAAU1T,EAAV;AACA+e,oBAAc/e,MAAM,GAApB;AACD;AACD,WAAO0T,MAAP;AACD;;AAED;AACA;AACA,WAAS8J,iBAAT,CAA2BrF,KAA3B,EAAkCtK,KAAlC,EAAyC;AACvC,WAAO,UAAUmP,OAAV,EAAmBrX,IAAnB,EAAyBrM,KAAzB,EAAgC2kB,UAAhC,EAA4CC,QAA5C,EAAsDF,KAAtD,EAA6DG,GAA7D,EAAkE;AACvE7kB,cAAQA,QAAQA,QAAQ,kBAAhB,GAAqC,iBAA7C;AACA,UAAIS,QAAQijB,QAAQze,GAApB;AAAA,UAAyBvE,MAAMD,QAAQ4L,KAAKlN,MAA5C;AACA,eAAS;AACP;AACA,YAAIqV,OAAQ,KAAK,CAAjB;AACA,aAAK,IAAIpU,IAAI,CAAb,EAAgBA,IAAImU,MAAMpV,MAA1B,EAAkCiB,GAAlC,EAAuC;AACrCoU,iBAAOD,MAAMnU,CAAN,CAAP;AACA,cAAIoU,KAAK7M,EAAL,GAAUlH,KAAV,IAAmB+T,KAAK9M,IAAL,IAAajH,KAApC,EAA2C;AAAE;AAAO;AACrD;AACD,YAAI+T,KAAK7M,EAAL,IAAWjH,GAAf,EAAoB;AAAE,iBAAOme,MAAM6E,OAAN,EAAerX,IAAf,EAAqBrM,KAArB,EAA4B2kB,UAA5B,EAAwCC,QAAxC,EAAkDF,KAAlD,EAAyDG,GAAzD,CAAP;AAAsE;AAC5FhG,cAAM6E,OAAN,EAAerX,KAAKpN,KAAL,CAAW,CAAX,EAAcuV,KAAK7M,EAAL,GAAUlH,KAAxB,CAAf,EAA+CT,KAA/C,EAAsD2kB,UAAtD,EAAkE,IAAlE,EAAwED,KAAxE,EAA+EG,GAA/E;AACAF,qBAAa,IAAb;AACAtY,eAAOA,KAAKpN,KAAL,CAAWuV,KAAK7M,EAAL,GAAUlH,KAArB,CAAP;AACAA,gBAAQ+T,KAAK7M,EAAb;AACD;AACF,KAhBD;AAiBD;;AAED,WAAS+d,kBAAT,CAA4BhC,OAA5B,EAAqC9X,IAArC,EAA2CiD,MAA3C,EAAmD8W,YAAnD,EAAiE;AAC/D,QAAIC,SAAS,CAACD,YAAD,IAAiB9W,OAAOgF,UAArC;AACA,QAAI+R,MAAJ,EAAY;AAAElC,cAAQ/d,GAAR,CAAYH,IAAZ,CAAiBke,QAAQze,GAAzB,EAA8Bye,QAAQze,GAAR,GAAc2G,IAA5C,EAAkDga,MAAlD;AAA2D;AACzE,QAAI,CAACD,YAAD,IAAiBjC,QAAQtP,EAAR,CAAWC,OAAX,CAAmBlM,KAAnB,CAAyB0d,qBAA9C,EAAqE;AACnE,UAAI,CAACD,MAAL,EACE;AAAEA,iBAASlC,QAAQ3jB,OAAR,CAAgBH,WAAhB,CAA4BxC,SAAS6C,aAAT,CAAuB,MAAvB,CAA5B,CAAT;AAAsE;AAC1E2lB,aAAOtlB,YAAP,CAAoB,WAApB,EAAiCuO,OAAO5K,EAAxC;AACD;AACD,QAAI2hB,MAAJ,EAAY;AACVlC,cAAQtP,EAAR,CAAWC,OAAX,CAAmBlM,KAAnB,CAAyB2d,aAAzB,CAAuCF,MAAvC;AACAlC,cAAQ3jB,OAAR,CAAgBH,WAAhB,CAA4BgmB,MAA5B;AACD;AACDlC,YAAQze,GAAR,IAAe2G,IAAf;AACA8X,YAAQE,aAAR,GAAwB,KAAxB;AACD;;AAED;AACA;AACA,WAASQ,iBAAT,CAA2BjY,IAA3B,EAAiCuX,OAAjC,EAA0ClD,MAA1C,EAAkD;AAChD,QAAIzR,QAAQ5C,KAAKgD,WAAjB;AAAA,QAA8B4W,UAAU5Z,KAAKE,IAA7C;AAAA,QAAmDqK,KAAK,CAAxD;AACA,QAAI,CAAC3H,KAAL,EAAY;AACV,WAAK,IAAI/B,MAAM,CAAf,EAAkBA,MAAMwT,OAAOrhB,MAA/B,EAAuC6N,OAAK,CAA5C,EACE;AAAE0W,gBAAQM,QAAR,CAAiBN,OAAjB,EAA0BqC,QAAQ9mB,KAAR,CAAcyX,EAAd,EAAkBA,KAAK8J,OAAOxT,GAAP,CAAvB,CAA1B,EAA+DsW,oBAAoB9C,OAAOxT,MAAI,CAAX,CAApB,EAAmC0W,QAAQtP,EAAR,CAAW/G,OAA9C,CAA/D;AAAwH;AAC5H;AACD;;AAED,QAAI6G,MAAM6R,QAAQ5mB,MAAlB;AAAA,QAA0B8F,MAAM,CAAhC;AAAA,QAAmC7E,IAAI,CAAvC;AAAA,QAA0CiM,OAAO,EAAjD;AAAA,QAAqDrM,KAArD;AAAA,QAA4D6kB,GAA5D;AACA,QAAImB,aAAa,CAAjB;AAAA,QAAoBC,SAApB;AAAA,QAA+BC,YAA/B;AAAA,QAA6CC,cAA7C;AAAA,QAA6DzB,KAA7D;AAAA,QAAoE3R,SAApE;AACA,aAAS;AACP,UAAIiT,cAAc/gB,GAAlB,EAAuB;AAAE;AACvBghB,oBAAYC,eAAeC,iBAAiBzB,QAAQG,MAAM,EAA1D;AACA9R,oBAAY,IAAZ,CAAkBiT,aAAaI,QAAb;AAClB,YAAIC,iBAAiB,EAArB;AAAA,YAAyBC,YAAa,KAAK,CAA3C;AACA,aAAK,IAAI1U,IAAI,CAAb,EAAgBA,IAAI7C,MAAM5P,MAA1B,EAAkC,EAAEyS,CAApC,EAAuC;AACrC,cAAIkB,KAAK/D,MAAM6C,CAAN,CAAT;AAAA,cAAmBF,IAAIoB,GAAGjE,MAA1B;AACA,cAAI6C,EAAE7B,IAAF,IAAU,UAAV,IAAwBiD,GAAGpL,IAAH,IAAWzC,GAAnC,IAA0CyM,EAAEmC,UAAhD,EAA4D;AAC1DwS,2BAAe7gB,IAAf,CAAoBkM,CAApB;AACD,WAFD,MAEO,IAAIoB,GAAGpL,IAAH,IAAWzC,GAAX,KAAmB6N,GAAGnL,EAAH,IAAS,IAAT,IAAiBmL,GAAGnL,EAAH,GAAQ1C,GAAzB,IAAgCyM,EAAEqB,SAAF,IAAeD,GAAGnL,EAAH,IAAS1C,GAAxB,IAA+B6N,GAAGpL,IAAH,IAAWzC,GAA7F,CAAJ,EAAuG;AAC5G,gBAAI6N,GAAGnL,EAAH,IAAS,IAAT,IAAiBmL,GAAGnL,EAAH,IAAS1C,GAA1B,IAAiC+gB,aAAalT,GAAGnL,EAArD,EAAyD;AACvDqe,2BAAalT,GAAGnL,EAAhB;AACAue,6BAAe,EAAf;AACD;AACD,gBAAIxU,EAAE3S,SAAN,EAAiB;AAAEknB,2BAAa,MAAMvU,EAAE3S,SAArB;AAAgC;AACnD,gBAAI2S,EAAEmT,GAAN,EAAW;AAAEA,oBAAM,CAACA,MAAMA,MAAM,GAAZ,GAAkB,EAAnB,IAAyBnT,EAAEmT,GAAjC;AAAsC;AACnD,gBAAInT,EAAEiT,UAAF,IAAgB7R,GAAGpL,IAAH,IAAWzC,GAA/B,EAAoC;AAAEkhB,gCAAkB,MAAMzU,EAAEiT,UAA1B;AAAsC;AAC5E,gBAAIjT,EAAEkT,QAAF,IAAc9R,GAAGnL,EAAH,IAASqe,UAA3B,EAAuC;AAAE,eAACM,cAAcA,YAAY,EAA1B,CAAD,EAAgC9gB,IAAhC,CAAqCkM,EAAEkT,QAAvC,EAAiD9R,GAAGnL,EAApD;AAAyD;AAClG,gBAAI+J,EAAEgT,KAAF,IAAW,CAACA,KAAhB,EAAuB;AAAEA,sBAAQhT,EAAEgT,KAAV;AAAiB;AAC1C,gBAAIhT,EAAEqB,SAAF,KAAgB,CAACA,SAAD,IAAcT,wBAAwBS,UAAUlE,MAAlC,EAA0C6C,CAA1C,IAA+C,CAA7E,CAAJ,EACE;AAAEqB,0BAAYD,EAAZ;AAAgB;AACrB,WAZM,MAYA,IAAIA,GAAGpL,IAAH,GAAUzC,GAAV,IAAiB+gB,aAAalT,GAAGpL,IAArC,EAA2C;AAChDse,yBAAalT,GAAGpL,IAAhB;AACD;AACF;AACD,YAAI4e,SAAJ,EAAe;AAAE,eAAK,IAAI9P,MAAM,CAAf,EAAkBA,MAAM8P,UAAUnnB,MAAlC,EAA0CqX,OAAO,CAAjD,EACf;AAAE,gBAAI8P,UAAU9P,MAAM,CAAhB,KAAsBwP,UAA1B,EAAsC;AAAEE,8BAAgB,MAAMI,UAAU9P,GAAV,CAAtB;AAAsC;AAAE;AAAE;;AAEtF,YAAI,CAACzD,SAAD,IAAcA,UAAUrL,IAAV,IAAkBzC,GAApC,EAAyC;AAAE,eAAK,IAAI0R,MAAM,CAAf,EAAkBA,MAAM0P,eAAelnB,MAAvC,EAA+C,EAAEwX,GAAjD,EACzC;AAAE+O,+BAAmBhC,OAAnB,EAA4B,CAA5B,EAA+B2C,eAAe1P,GAAf,CAA/B;AAAqD;AAAE;AAC3D,YAAI5D,aAAa,CAACA,UAAUrL,IAAV,IAAkB,CAAnB,KAAyBzC,GAA1C,EAA+C;AAC7CygB,6BAAmBhC,OAAnB,EAA4B,CAAC3Q,UAAUpL,EAAV,IAAgB,IAAhB,GAAuBuM,MAAM,CAA7B,GAAiCnB,UAAUpL,EAA5C,IAAkD1C,GAA9E,EACmB8N,UAAUlE,MAD7B,EACqCkE,UAAUrL,IAAV,IAAkB,IADvD;AAEA,cAAIqL,UAAUpL,EAAV,IAAgB,IAApB,EAA0B;AAAE;AAAQ;AACpC,cAAIoL,UAAUpL,EAAV,IAAgB1C,GAApB,EAAyB;AAAE8N,wBAAY,KAAZ;AAAmB;AAC/C;AACF;AACD,UAAI9N,OAAOiP,GAAX,EAAgB;AAAE;AAAO;;AAEzB,UAAIqS,OAAOnhB,KAAKC,GAAL,CAAS6O,GAAT,EAAc8R,UAAd,CAAX;AACA,aAAO,IAAP,EAAa;AACX,YAAI3Z,IAAJ,EAAU;AACR,cAAI3L,MAAMuE,MAAMoH,KAAKlN,MAArB;AACA,cAAI,CAAC4T,SAAL,EAAgB;AACd,gBAAIyT,YAAY9lB,MAAM6lB,IAAN,GAAala,KAAKpN,KAAL,CAAW,CAAX,EAAcsnB,OAAOthB,GAArB,CAAb,GAAyCoH,IAAzD;AACAqX,oBAAQM,QAAR,CAAiBN,OAAjB,EAA0B8C,SAA1B,EAAqCxmB,QAAQA,QAAQimB,SAAhB,GAA4BA,SAAjE,EACiBE,cADjB,EACiClhB,MAAMuhB,UAAUrnB,MAAhB,IAA0B6mB,UAA1B,GAAuCE,YAAvC,GAAsD,EADvF,EAC2FxB,KAD3F,EACkGG,GADlG;AAED;AACD,cAAInkB,OAAO6lB,IAAX,EAAiB;AAACla,mBAAOA,KAAKpN,KAAL,CAAWsnB,OAAOthB,GAAlB,CAAP,CAA+BA,MAAMshB,IAAN,CAAY;AAAM;AACnEthB,gBAAMvE,GAAN;AACAylB,2BAAiB,EAAjB;AACD;AACD9Z,eAAO0Z,QAAQ9mB,KAAR,CAAcyX,EAAd,EAAkBA,KAAK8J,OAAOpgB,GAAP,CAAvB,CAAP;AACAJ,gBAAQsjB,oBAAoB9C,OAAOpgB,GAAP,CAApB,EAAiCsjB,QAAQtP,EAAR,CAAW/G,OAA5C,CAAR;AACD;AACF;AACF;;AAGD;AACA;AACA;AACA,WAASoZ,QAAT,CAAkBve,GAAlB,EAAuBiE,IAAvB,EAA6BqH,KAA7B,EAAoC;AAClC;AACA,SAAKrH,IAAL,GAAYA,IAAZ;AACA;AACA,SAAK4X,IAAL,GAAYzQ,oBAAoBnH,IAApB,CAAZ;AACA;AACA,SAAKP,IAAL,GAAY,KAAKmY,IAAL,GAAYrX,OAAOjH,IAAI,KAAKse,IAAT,CAAP,IAAyBvQ,KAAzB,GAAiC,CAA7C,GAAiD,CAA7D;AACA,SAAK3U,IAAL,GAAY,KAAKwN,IAAL,GAAY,IAAxB;AACA,SAAKqa,MAAL,GAAc9S,aAAa1L,GAAb,EAAkBiE,IAAlB,CAAd;AACD;;AAED;AACA,WAASwa,cAAT,CAAwBvS,EAAxB,EAA4B1M,IAA5B,EAAkCC,EAAlC,EAAsC;AACpC,QAAIrD,QAAQ,EAAZ;AAAA,QAAgBsiB,OAAhB;AACA,SAAK,IAAI3hB,MAAMyC,IAAf,EAAqBzC,MAAM0C,EAA3B,EAA+B1C,MAAM2hB,OAArC,EAA8C;AAC5C,UAAI9c,OAAO,IAAI2c,QAAJ,CAAarS,GAAGlM,GAAhB,EAAqByD,QAAQyI,GAAGlM,GAAX,EAAgBjD,GAAhB,CAArB,EAA2CA,GAA3C,CAAX;AACA2hB,gBAAU3hB,MAAM6E,KAAK8B,IAArB;AACAtH,YAAMkB,IAAN,CAAWsE,IAAX;AACD;AACD,WAAOxF,KAAP;AACD;;AAED,MAAIuiB,iBAAiB,IAArB;;AAEA,WAASC,aAAT,CAAuBC,EAAvB,EAA2B;AACzB,QAAIF,cAAJ,EAAoB;AAClBA,qBAAeG,GAAf,CAAmBxhB,IAAnB,CAAwBuhB,EAAxB;AACD,KAFD,MAEO;AACLA,SAAGE,SAAH,GAAeJ,iBAAiB;AAC9BG,aAAK,CAACD,EAAD,CADyB;AAE9BG,0BAAkB;AAFY,OAAhC;AAID;AACF;;AAED,WAASC,mBAAT,CAA6BC,KAA7B,EAAoC;AAClC;AACA;AACA,QAAIC,YAAYD,MAAMF,gBAAtB;AAAA,QAAwC9mB,IAAI,CAA5C;AACA,OAAG;AACD,aAAOA,IAAIinB,UAAUloB,MAArB,EAA6BiB,GAA7B,EACE;AAAEinB,kBAAUjnB,CAAV,EAAa0C,IAAb,CAAkB,IAAlB;AAAyB;AAC7B,WAAK,IAAI8O,IAAI,CAAb,EAAgBA,IAAIwV,MAAMJ,GAAN,CAAU7nB,MAA9B,EAAsCyS,GAAtC,EAA2C;AACzC,YAAImV,KAAKK,MAAMJ,GAAN,CAAUpV,CAAV,CAAT;AACA,YAAImV,GAAG1O,sBAAP,EACE;AAAE,iBAAO0O,GAAGO,oBAAH,GAA0BP,GAAG1O,sBAAH,CAA0BlZ,MAA3D,EACA;AAAE4nB,eAAG1O,sBAAH,CAA0B0O,GAAGO,oBAAH,EAA1B,EAAqDxkB,IAArD,CAA0D,IAA1D,EAAgEikB,GAAG3S,EAAnE;AAAwE;AAAE;AACjF;AACF,KATD,QASShU,IAAIinB,UAAUloB,MATvB;AAUD;;AAED,WAASooB,eAAT,CAAyBR,EAAzB,EAA6BS,KAA7B,EAAoC;AAClC,QAAIJ,QAAQL,GAAGE,SAAf;AACA,QAAI,CAACG,KAAL,EAAY;AAAE;AAAQ;;AAEtB,QAAI;AAAED,0BAAoBC,KAApB;AAA4B,KAAlC,SACQ;AACNP,uBAAiB,IAAjB;AACAW,YAAMJ,KAAN;AACD;AACF;;AAED,MAAIK,yBAAyB,IAA7B;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAASC,WAAT,CAAqBxQ,OAArB,EAA8BrH,IAA9B,CAAmC,eAAnC,EAAoD;AAClD,QAAInK,MAAM4R,YAAYJ,OAAZ,EAAqBrH,IAArB,CAAV;AACA,QAAI,CAACnK,IAAIvG,MAAT,EAAiB;AAAE;AAAQ;AAC3B,QAAIwD,OAAOC,MAAMC,SAAN,CAAgB5D,KAAhB,CAAsB6D,IAAtB,CAA2BC,SAA3B,EAAsC,CAAtC,CAAX;AAAA,QAAqD4kB,IAArD;AACA,QAAId,cAAJ,EAAoB;AAClBc,aAAOd,eAAeK,gBAAtB;AACD,KAFD,MAEO,IAAIO,sBAAJ,EAA4B;AACjCE,aAAOF,sBAAP;AACD,KAFM,MAEA;AACLE,aAAOF,yBAAyB,EAAhC;AACApjB,iBAAWujB,iBAAX,EAA8B,CAA9B;AACD;AACD,QAAI1H,OAAO,SAAPA,IAAO,CAAW9f,CAAX,EAAe;AACxBunB,WAAKniB,IAAL,CAAU,YAAY;AAAE,eAAOE,IAAItF,CAAJ,EAAO4C,KAAP,CAAa,IAAb,EAAmBL,IAAnB,CAAP;AAAkC,OAA1D;AACD,KAFD;;AAIA,SAAK,IAAIvC,IAAI,CAAb,EAAgBA,IAAIsF,IAAIvG,MAAxB,EAAgC,EAAEiB,CAAlC;AACE8f,WAAM9f,CAAN;AADF;AAED;;AAED,WAASwnB,iBAAT,GAA6B;AAC3B,QAAIC,UAAUJ,sBAAd;AACAA,6BAAyB,IAAzB;AACA,SAAK,IAAIrnB,IAAI,CAAb,EAAgBA,IAAIynB,QAAQ1oB,MAA5B,EAAoC,EAAEiB,CAAtC,EAAyC;AAAEynB,cAAQznB,CAAR;AAAc;AAC1D;;AAED;AACA;AACA;AACA,WAAS0nB,oBAAT,CAA8B1T,EAA9B,EAAkCqP,QAAlC,EAA4CjQ,KAA5C,EAAmDuU,IAAnD,EAAyD;AACvD,SAAK,IAAInW,IAAI,CAAb,EAAgBA,IAAI6R,SAASuE,OAAT,CAAiB7oB,MAArC,EAA6CyS,GAA7C,EAAkD;AAChD,UAAI/B,OAAO4T,SAASuE,OAAT,CAAiBpW,CAAjB,CAAX;AACA,UAAI/B,QAAQ,MAAZ,EAAoB;AAAEoY,uBAAe7T,EAAf,EAAmBqP,QAAnB;AAA8B,OAApD,MACK,IAAI5T,QAAQ,QAAZ,EAAsB;AAAEqY,yBAAiB9T,EAAjB,EAAqBqP,QAArB,EAA+BjQ,KAA/B,EAAsCuU,IAAtC;AAA6C,OAArE,MACA,IAAIlY,QAAQ,OAAZ,EAAqB;AAAEsY,0BAAkB/T,EAAlB,EAAsBqP,QAAtB;AAAiC,OAAxD,MACA,IAAI5T,QAAQ,QAAZ,EAAsB;AAAEuY,0BAAkBhU,EAAlB,EAAsBqP,QAAtB,EAAgCsE,IAAhC;AAAuC;AACrE;AACDtE,aAASuE,OAAT,GAAmB,IAAnB;AACD;;AAED;AACA;AACA,WAASK,iBAAT,CAA2B5E,QAA3B,EAAqC;AACnC,QAAIA,SAAS5kB,IAAT,IAAiB4kB,SAASpX,IAA9B,EAAoC;AAClCoX,eAAS5kB,IAAT,GAAgBgB,IAAI,KAAJ,EAAW,IAAX,EAAiB,IAAjB,EAAuB,oBAAvB,CAAhB;AACA,UAAI4jB,SAASpX,IAAT,CAAcnL,UAAlB,EACE;AAAEuiB,iBAASpX,IAAT,CAAcnL,UAAd,CAAyBonB,YAAzB,CAAsC7E,SAAS5kB,IAA/C,EAAqD4kB,SAASpX,IAA9D;AAAqE;AACzEoX,eAAS5kB,IAAT,CAAce,WAAd,CAA0B6jB,SAASpX,IAAnC;AACA,UAAInP,MAAMC,aAAa,CAAvB,EAA0B;AAAEsmB,iBAAS5kB,IAAT,CAAcmB,KAAd,CAAoBsJ,MAApB,GAA6B,CAA7B;AAAgC;AAC7D;AACD,WAAOma,SAAS5kB,IAAhB;AACD;;AAED,WAAS0pB,oBAAT,CAA8BnU,EAA9B,EAAkCqP,QAAlC,EAA4C;AAC1C,QAAI/kB,MAAM+kB,SAAS/C,OAAT,GAAmB+C,SAAS/C,OAAT,GAAmB,GAAnB,IAA0B+C,SAAStX,IAAT,CAAcuU,OAAd,IAAyB,EAAnD,CAAnB,GAA4E+C,SAAStX,IAAT,CAAcuU,OAApG;AACA,QAAIhiB,GAAJ,EAAS;AAAEA,aAAO,4BAAP;AAAqC;AAChD,QAAI+kB,SAAS+E,UAAb,EAAyB;AACvB,UAAI9pB,GAAJ,EAAS;AAAE+kB,iBAAS+E,UAAT,CAAoBzpB,SAApB,GAAgCL,GAAhC;AAAqC,OAAhD,MACK;AAAE+kB,iBAAS+E,UAAT,CAAoBtnB,UAApB,CAA+B1B,WAA/B,CAA2CikB,SAAS+E,UAApD,EAAiE/E,SAAS+E,UAAT,GAAsB,IAAtB;AAA4B;AACrG,KAHD,MAGO,IAAI9pB,GAAJ,EAAS;AACd,UAAI+pB,OAAOJ,kBAAkB5E,QAAlB,CAAX;AACAA,eAAS+E,UAAT,GAAsBC,KAAKC,YAAL,CAAkB7oB,IAAI,KAAJ,EAAW,IAAX,EAAiBnB,GAAjB,CAAlB,EAAyC+pB,KAAKhpB,UAA9C,CAAtB;AACA2U,SAAGC,OAAH,CAAWlM,KAAX,CAAiB2d,aAAjB,CAA+BrC,SAAS+E,UAAxC;AACD;AACF;;AAED;AACA;AACA,WAASG,cAAT,CAAwBvU,EAAxB,EAA4BqP,QAA5B,EAAsC;AACpC,QAAImF,MAAMxU,GAAGC,OAAH,CAAWrK,gBAArB;AACA,QAAI4e,OAAOA,IAAIzc,IAAJ,IAAYsX,SAAStX,IAAhC,EAAsC;AACpCiI,SAAGC,OAAH,CAAWrK,gBAAX,GAA8B,IAA9B;AACAyZ,eAAS/a,OAAT,GAAmBkgB,IAAIlgB,OAAvB;AACA,aAAOkgB,IAAIC,KAAX;AACD;AACD,WAAOrF,iBAAiBpP,EAAjB,EAAqBqP,QAArB,CAAP;AACD;;AAED;AACA;AACA;AACA,WAASwE,cAAT,CAAwB7T,EAAxB,EAA4BqP,QAA5B,EAAsC;AACpC,QAAI/kB,MAAM+kB,SAASpX,IAAT,CAActN,SAAxB;AACA,QAAI8pB,QAAQF,eAAevU,EAAf,EAAmBqP,QAAnB,CAAZ;AACA,QAAIA,SAASpX,IAAT,IAAiBoX,SAAS5kB,IAA9B,EAAoC;AAAE4kB,eAAS5kB,IAAT,GAAgBgqB,MAAMlF,GAAtB;AAA2B;AACjEF,aAASpX,IAAT,CAAcnL,UAAd,CAAyBonB,YAAzB,CAAsCO,MAAMlF,GAA5C,EAAiDF,SAASpX,IAA1D;AACAoX,aAASpX,IAAT,GAAgBwc,MAAMlF,GAAtB;AACA,QAAIkF,MAAMnI,OAAN,IAAiB+C,SAAS/C,OAA1B,IAAqCmI,MAAMlI,SAAN,IAAmB8C,SAAS9C,SAArE,EAAgF;AAC9E8C,eAAS/C,OAAT,GAAmBmI,MAAMnI,OAAzB;AACA+C,eAAS9C,SAAT,GAAqBkI,MAAMlI,SAA3B;AACAwH,wBAAkB/T,EAAlB,EAAsBqP,QAAtB;AACD,KAJD,MAIO,IAAI/kB,GAAJ,EAAS;AACd+kB,eAASpX,IAAT,CAActN,SAAd,GAA0BL,GAA1B;AACD;AACF;;AAED,WAASypB,iBAAT,CAA2B/T,EAA3B,EAA+BqP,QAA/B,EAAyC;AACvC8E,yBAAqBnU,EAArB,EAAyBqP,QAAzB;AACA,QAAIA,SAAStX,IAAT,CAAc2c,SAAlB,EACE;AAAET,wBAAkB5E,QAAlB,EAA4B1kB,SAA5B,GAAwC0kB,SAAStX,IAAT,CAAc2c,SAAtD;AAAiE,KADrE,MAEK,IAAIrF,SAAS5kB,IAAT,IAAiB4kB,SAASpX,IAA9B,EACH;AAAEoX,eAAS5kB,IAAT,CAAcE,SAAd,GAA0B,EAA1B;AAA8B;AAClC,QAAI4hB,YAAY8C,SAAS9C,SAAT,GAAqB8C,SAAS9C,SAAT,GAAqB,GAArB,IAA4B8C,SAAStX,IAAT,CAAcwU,SAAd,IAA2B,EAAvD,CAArB,GAAkF8C,SAAStX,IAAT,CAAcwU,SAAhH;AACA8C,aAASpX,IAAT,CAActN,SAAd,GAA0B4hB,aAAa,EAAvC;AACD;;AAED,WAASuH,gBAAT,CAA0B9T,EAA1B,EAA8BqP,QAA9B,EAAwCjQ,KAAxC,EAA+CuU,IAA/C,EAAqD;AACnD,QAAItE,SAASsF,MAAb,EAAqB;AACnBtF,eAAS5kB,IAAT,CAAcW,WAAd,CAA0BikB,SAASsF,MAAnC;AACAtF,eAASsF,MAAT,GAAkB,IAAlB;AACD;AACD,QAAItF,SAASuF,gBAAb,EAA+B;AAC7BvF,eAAS5kB,IAAT,CAAcW,WAAd,CAA0BikB,SAASuF,gBAAnC;AACAvF,eAASuF,gBAAT,GAA4B,IAA5B;AACD;AACD,QAAIvF,SAAStX,IAAT,CAAc8c,WAAlB,EAA+B;AAC7B,UAAIR,OAAOJ,kBAAkB5E,QAAlB,CAAX;AACAA,eAASuF,gBAAT,GAA4BnpB,IAAI,KAAJ,EAAW,IAAX,EAAiB,kCAAkC4jB,SAAStX,IAAT,CAAc8c,WAAjE,EACK,YAAY7U,GAAG/G,OAAH,CAAW6b,WAAX,GAAyBnB,KAAKoB,QAA9B,GAAyC,CAACpB,KAAKqB,gBAA3D,IAA+E,aAA/E,GAAgGrB,KAAKqB,gBAArG,GAAyH,IAD9H,CAA5B;AAEAhV,SAAGC,OAAH,CAAWlM,KAAX,CAAiB2d,aAAjB,CAA+BrC,SAASuF,gBAAxC;AACAP,WAAKC,YAAL,CAAkBjF,SAASuF,gBAA3B,EAA6CvF,SAASpX,IAAtD;AACD;AACD,QAAIgF,UAAUoS,SAAStX,IAAT,CAAckd,aAA5B;AACA,QAAIjV,GAAG/G,OAAH,CAAWic,WAAX,IAA0BjY,OAA9B,EAAuC;AACrC,UAAIkY,SAASlB,kBAAkB5E,QAAlB,CAAb;AACA,UAAI+F,aAAa/F,SAASsF,MAAT,GAAkBlpB,IAAI,KAAJ,EAAW,IAAX,EAAiB,2BAAjB,EAA+C,YAAYuU,GAAG/G,OAAH,CAAW6b,WAAX,GAAyBnB,KAAKoB,QAA9B,GAAyC,CAACpB,KAAKqB,gBAA3D,IAA+E,IAA9H,CAAnC;AACAhV,SAAGC,OAAH,CAAWlM,KAAX,CAAiB2d,aAAjB,CAA+B0D,UAA/B;AACAD,aAAOb,YAAP,CAAoBc,UAApB,EAAgC/F,SAASpX,IAAzC;AACA,UAAIoX,SAAStX,IAAT,CAAc8c,WAAlB,EACE;AAAEO,mBAAWzqB,SAAX,IAAwB,MAAM0kB,SAAStX,IAAT,CAAc8c,WAA5C;AAAyD;AAC7D,UAAI7U,GAAG/G,OAAH,CAAWic,WAAX,KAA2B,CAACjY,OAAD,IAAY,CAACA,QAAQ,wBAAR,CAAxC,CAAJ,EACE;AAAEoS,iBAASgG,UAAT,GAAsBD,WAAW5pB,WAAX,CACtBC,IAAI,KAAJ,EAAWuN,cAAcgH,GAAG/G,OAAjB,EAA0BmG,KAA1B,CAAX,EACI,6CADJ,EAEK,WAAYuU,KAAK2B,UAAL,CAAgB,wBAAhB,CAAZ,GAAyD,aAAzD,GAA0EtV,GAAGC,OAAH,CAAW3J,iBAArF,GAA0G,IAF/G,CADsB,CAAtB;AAGwH;AAC5H,UAAI2G,OAAJ,EAAa;AAAE,aAAK,IAAIsY,IAAI,CAAb,EAAgBA,IAAIvV,GAAG/G,OAAH,CAAWnE,OAAX,CAAmB/J,MAAvC,EAA+C,EAAEwqB,CAAjD,EAAoD;AACjE,cAAI1lB,KAAKmQ,GAAG/G,OAAH,CAAWnE,OAAX,CAAmBygB,CAAnB,CAAT;AAAA,cAAgCjZ,QAAQW,QAAQ/N,cAAR,CAAuBW,EAAvB,KAA8BoN,QAAQpN,EAAR,CAAtE;AACA,cAAIyM,KAAJ,EACE;AAAE8Y,uBAAW5pB,WAAX,CAAuBC,IAAI,KAAJ,EAAW,CAAC6Q,KAAD,CAAX,EAAoB,uBAApB,EACG,WAAYqX,KAAK2B,UAAL,CAAgBzlB,EAAhB,CAAZ,GAAmC,aAAnC,GAAoD8jB,KAAK6B,WAAL,CAAiB3lB,EAAjB,CAApD,GAA4E,IAD/E,CAAvB;AAC+G;AACpH;AAAE;AACJ;AACF;;AAED,WAASmkB,iBAAT,CAA2BhU,EAA3B,EAA+BqP,QAA/B,EAAyCsE,IAAzC,EAA+C;AAC7C,QAAItE,SAASoG,SAAb,EAAwB;AAAEpG,eAASoG,SAAT,GAAqB,IAArB;AAA2B;AACrD,SAAK,IAAIhrB,OAAO4kB,SAAS5kB,IAAT,CAAcY,UAAzB,EAAqCme,OAAQ,KAAK,CAAvD,EAA2D/e,IAA3D,EAAiEA,OAAO+e,IAAxE,EAA8E;AAC5EA,aAAO/e,KAAKirB,WAAZ;AACA,UAAIjrB,KAAKE,SAAL,IAAkB,uBAAtB,EACE;AAAE0kB,iBAAS5kB,IAAT,CAAcW,WAAd,CAA0BX,IAA1B;AAAiC;AACtC;AACDkrB,sBAAkB3V,EAAlB,EAAsBqP,QAAtB,EAAgCsE,IAAhC;AACD;;AAED;AACA,WAASiC,gBAAT,CAA0B5V,EAA1B,EAA8BqP,QAA9B,EAAwCjQ,KAAxC,EAA+CuU,IAA/C,EAAqD;AACnD,QAAIc,QAAQF,eAAevU,EAAf,EAAmBqP,QAAnB,CAAZ;AACAA,aAASpX,IAAT,GAAgBoX,SAAS5kB,IAAT,GAAgBgqB,MAAMlF,GAAtC;AACA,QAAIkF,MAAMnI,OAAV,EAAmB;AAAE+C,eAAS/C,OAAT,GAAmBmI,MAAMnI,OAAzB;AAAkC;AACvD,QAAImI,MAAMlI,SAAV,EAAqB;AAAE8C,eAAS9C,SAAT,GAAqBkI,MAAMlI,SAA3B;AAAsC;;AAE7DwH,sBAAkB/T,EAAlB,EAAsBqP,QAAtB;AACAyE,qBAAiB9T,EAAjB,EAAqBqP,QAArB,EAA+BjQ,KAA/B,EAAsCuU,IAAtC;AACAgC,sBAAkB3V,EAAlB,EAAsBqP,QAAtB,EAAgCsE,IAAhC;AACA,WAAOtE,SAAS5kB,IAAhB;AACD;;AAED;AACA;AACA,WAASkrB,iBAAT,CAA2B3V,EAA3B,EAA+BqP,QAA/B,EAAyCsE,IAAzC,EAA+C;AAC7CkC,yBAAqB7V,EAArB,EAAyBqP,SAAStX,IAAlC,EAAwCsX,QAAxC,EAAkDsE,IAAlD,EAAwD,IAAxD;AACA,QAAItE,SAASM,IAAb,EAAmB;AAAE,WAAK,IAAI3jB,IAAI,CAAb,EAAgBA,IAAIqjB,SAASM,IAAT,CAAc5kB,MAAlC,EAA0CiB,GAA1C,EACnB;AAAE6pB,6BAAqB7V,EAArB,EAAyBqP,SAASM,IAAT,CAAc3jB,CAAd,CAAzB,EAA2CqjB,QAA3C,EAAqDsE,IAArD,EAA2D,KAA3D;AAAmE;AAAE;AAC1E;;AAED,WAASkC,oBAAT,CAA8B7V,EAA9B,EAAkCjI,IAAlC,EAAwCsX,QAAxC,EAAkDsE,IAAlD,EAAwDmC,UAAxD,EAAoE;AAClE,QAAI,CAAC/d,KAAKge,OAAV,EAAmB;AAAE;AAAQ;AAC7B,QAAI1B,OAAOJ,kBAAkB5E,QAAlB,CAAX;AACA,SAAK,IAAIrjB,IAAI,CAAR,EAAWgqB,KAAKje,KAAKge,OAA1B,EAAmC/pB,IAAIgqB,GAAGjrB,MAA1C,EAAkD,EAAEiB,CAApD,EAAuD;AACrD,UAAIwlB,SAASwE,GAAGhqB,CAAH,CAAb;AAAA,UAAoBvB,OAAOgB,IAAI,KAAJ,EAAW,CAAC+lB,OAAO/mB,IAAR,CAAX,EAA0B,uBAA1B,CAA3B;AACA,UAAI,CAAC+mB,OAAOyE,iBAAZ,EAA+B;AAAExrB,aAAKyB,YAAL,CAAkB,kBAAlB,EAAsC,MAAtC;AAA+C;AAChFgqB,yBAAmB1E,MAAnB,EAA2B/mB,IAA3B,EAAiC4kB,QAAjC,EAA2CsE,IAA3C;AACA3T,SAAGC,OAAH,CAAWlM,KAAX,CAAiB2d,aAAjB,CAA+BjnB,IAA/B;AACA,UAAIqrB,cAActE,OAAO2E,KAAzB,EACE;AAAE9B,aAAKC,YAAL,CAAkB7pB,IAAlB,EAAwB4kB,SAASsF,MAAT,IAAmBtF,SAASpX,IAApD;AAA2D,OAD/D,MAGE;AAAEoc,aAAK7oB,WAAL,CAAiBf,IAAjB;AAAwB;AAC5B6oB,kBAAY9B,MAAZ,EAAoB,QAApB;AACD;AACF;;AAED,WAAS0E,kBAAT,CAA4B1E,MAA5B,EAAoC/mB,IAApC,EAA0C4kB,QAA1C,EAAoDsE,IAApD,EAA0D;AACxD,QAAInC,OAAO4E,SAAX,EAAsB;AACpB,OAAC,CAAC/G,SAASoG,SAAT,KAAuBpG,SAASoG,SAAT,GAAqB,EAA5C,CAAD,EAAkDrkB,IAAlD,CAAuD3G,IAAvD;AACD,UAAI4rB,QAAQ1C,KAAK2C,YAAjB;AACA7rB,WAAKmB,KAAL,CAAWia,IAAX,GAAkB8N,KAAKoB,QAAL,GAAgB,IAAlC;AACA,UAAI,CAACvD,OAAO+E,WAAZ,EAAyB;AACvBF,iBAAS1C,KAAKqB,gBAAd;AACAvqB,aAAKmB,KAAL,CAAW4qB,WAAX,GAAyB7C,KAAKqB,gBAAL,GAAwB,IAAjD;AACD;AACDvqB,WAAKmB,KAAL,CAAWyqB,KAAX,GAAmBA,QAAQ,IAA3B;AACD;AACD,QAAI7E,OAAO+E,WAAX,EAAwB;AACtB9rB,WAAKmB,KAAL,CAAWsJ,MAAX,GAAoB,CAApB;AACAzK,WAAKmB,KAAL,CAAW6qB,QAAX,GAAsB,UAAtB;AACA,UAAI,CAACjF,OAAO4E,SAAZ,EAAuB;AAAE3rB,aAAKmB,KAAL,CAAW8qB,UAAX,GAAwB,CAAC/C,KAAKqB,gBAAN,GAAyB,IAAjD;AAAuD;AACjF;AACF;;AAED,WAAS2B,YAAT,CAAsBnF,MAAtB,EAA8B;AAC5B,QAAIA,OAAOpZ,MAAP,IAAiB,IAArB,EAA2B;AAAE,aAAOoZ,OAAOpZ,MAAd;AAAsB;AACnD,QAAI4H,KAAKwR,OAAO1d,GAAP,CAAWkM,EAApB;AACA,QAAI,CAACA,EAAL,EAAS;AAAE,aAAO,CAAP;AAAU;AACrB,QAAI,CAAC9S,SAASlE,SAAS2D,IAAlB,EAAwB6kB,OAAO/mB,IAA/B,CAAL,EAA2C;AACzC,UAAImsB,cAAc,qBAAlB;AACA,UAAIpF,OAAO+E,WAAX,EACE;AAAEK,uBAAe,mBAAmB5W,GAAGC,OAAH,CAAWnL,OAAX,CAAmBwQ,WAAtC,GAAoD,KAAnE;AAA0E;AAC9E,UAAIkM,OAAO4E,SAAX,EACE;AAAEQ,uBAAe,YAAY5W,GAAGC,OAAH,CAAWhL,OAAX,CAAmB4hB,WAA/B,GAA6C,KAA5D;AAAmE;AACvEvrB,2BAAqB0U,GAAGC,OAAH,CAAW3L,OAAhC,EAAyC7I,IAAI,KAAJ,EAAW,CAAC+lB,OAAO/mB,IAAR,CAAX,EAA0B,IAA1B,EAAgCmsB,WAAhC,CAAzC;AACD;AACD,WAAOpF,OAAOpZ,MAAP,GAAgBoZ,OAAO/mB,IAAP,CAAYqC,UAAZ,CAAuBuY,YAA9C;AACD;;AAED;AACA,WAASyR,aAAT,CAAuB7W,OAAvB,EAAgChV,CAAhC,EAAmC;AACjC,SAAK,IAAIwE,IAAIkV,SAAS1Z,CAAT,CAAb,EAA0BwE,KAAKwQ,QAAQhL,OAAvC,EAAgDxF,IAAIA,EAAE3C,UAAtD,EAAkE;AAChE,UAAI,CAAC2C,CAAD,IAAOA,EAAErC,QAAF,IAAc,CAAd,IAAmBqC,EAAEsnB,YAAF,CAAe,kBAAf,KAAsC,MAAhE,IACCtnB,EAAE3C,UAAF,IAAgBmT,QAAQtL,KAAxB,IAAiClF,KAAKwQ,QAAQvL,KADnD,EAEE;AAAE,eAAO,IAAP;AAAa;AAClB;AACF;;AAED;;AAEA,WAASsiB,UAAT,CAAoB/W,OAApB,EAA6B;AAAC,WAAOA,QAAQzL,SAAR,CAAkByiB,SAAzB;AAAmC;AACjE,WAASC,WAAT,CAAqBjX,OAArB,EAA8B;AAAC,WAAOA,QAAQvL,KAAR,CAAc2Q,YAAd,GAA6BpF,QAAQzL,SAAR,CAAkB6Q,YAAtD;AAAmE;AAClG,WAAS8R,QAAT,CAAkBlX,OAAlB,EAA2B;AACzB,QAAIA,QAAQtJ,cAAZ,EAA4B;AAAE,aAAOsJ,QAAQtJ,cAAf;AAA+B;AAC7D,QAAI1L,IAAIK,qBAAqB2U,QAAQ3L,OAA7B,EAAsC7I,IAAI,KAAJ,EAAW,GAAX,CAAtC,CAAR;AACA,QAAIG,QAAQwa,OAAOgR,gBAAP,GAA0BhR,OAAOgR,gBAAP,CAAwBnsB,CAAxB,CAA1B,GAAuDA,EAAEosB,YAArE;AACA,QAAIC,OAAO,EAACzR,MAAM0R,SAAS3rB,MAAM4qB,WAAf,CAAP,EAAoC1Q,OAAOyR,SAAS3rB,MAAMuJ,YAAf,CAA3C,EAAX;AACA,QAAI,CAACqiB,MAAMF,KAAKzR,IAAX,CAAD,IAAqB,CAAC2R,MAAMF,KAAKxR,KAAX,CAA1B,EAA6C;AAAE7F,cAAQtJ,cAAR,GAAyB2gB,IAAzB;AAA+B;AAC9E,WAAOA,IAAP;AACD;;AAED,WAASG,SAAT,CAAmBzX,EAAnB,EAAuB;AAAE,WAAO7P,cAAc6P,GAAGC,OAAH,CAAWhK,cAAhC;AAAgD;AACzE,WAASyhB,YAAT,CAAsB1X,EAAtB,EAA0B;AACxB,WAAOA,GAAGC,OAAH,CAAWjL,QAAX,CAAoB6hB,WAApB,GAAkCY,UAAUzX,EAAV,CAAlC,GAAkDA,GAAGC,OAAH,CAAW9J,QAApE;AACD;AACD,WAASwhB,aAAT,CAAuB3X,EAAvB,EAA2B;AACzB,WAAOA,GAAGC,OAAH,CAAWjL,QAAX,CAAoB4iB,YAApB,GAAmCH,UAAUzX,EAAV,CAAnC,GAAmDA,GAAGC,OAAH,CAAW/J,SAArE;AACD;;AAED;AACA;AACA;AACA;AACA,WAAS2hB,iBAAT,CAA2B7X,EAA3B,EAA+BqP,QAA/B,EAAyCyI,IAAzC,EAA+C;AAC7C,QAAIC,WAAW/X,GAAG/G,OAAH,CAAW+e,YAA1B;AACA,QAAIC,WAAWF,YAAYL,aAAa1X,EAAb,CAA3B;AACA,QAAI,CAACqP,SAAS/a,OAAT,CAAiB4jB,OAAlB,IAA6BH,YAAY1I,SAAS/a,OAAT,CAAiB+hB,KAAjB,IAA0B4B,QAAvE,EAAiF;AAC/E,UAAIC,UAAU7I,SAAS/a,OAAT,CAAiB4jB,OAAjB,GAA2B,EAAzC;AACA,UAAIH,QAAJ,EAAc;AACZ1I,iBAAS/a,OAAT,CAAiB+hB,KAAjB,GAAyB4B,QAAzB;AACA,YAAIE,QAAQ9I,SAASpX,IAAT,CAAc5M,UAAd,CAAyB+sB,cAAzB,EAAZ;AACA,aAAK,IAAIpsB,IAAI,CAAb,EAAgBA,IAAImsB,MAAMptB,MAAN,GAAe,CAAnC,EAAsCiB,GAAtC,EAA2C;AACzC,cAAIuM,MAAM4f,MAAMnsB,CAAN,CAAV;AAAA,cAAoBwd,OAAO2O,MAAMnsB,IAAI,CAAV,CAA3B;AACA,cAAIgF,KAAKiW,GAAL,CAAS1O,IAAI8f,MAAJ,GAAa7O,KAAK6O,MAA3B,IAAqC,CAAzC,EACE;AAAEH,oBAAQ9mB,IAAR,CAAa,CAACmH,IAAI8f,MAAJ,GAAa7O,KAAK8O,GAAnB,IAA0B,CAA1B,GAA8BR,KAAKQ,GAAhD;AAAsD;AAC3D;AACF;AACDJ,cAAQ9mB,IAAR,CAAa0mB,KAAKO,MAAL,GAAcP,KAAKQ,GAAhC;AACD;AACF;;AAED;AACA;AACA;AACA,WAASC,eAAT,CAAyBlJ,QAAzB,EAAmCtX,IAAnC,EAAyCqH,KAAzC,EAAgD;AAC9C,QAAIiQ,SAAStX,IAAT,IAAiBA,IAArB,EACE;AAAE,aAAO,EAACxG,KAAK8d,SAAS/a,OAAT,CAAiB/C,GAAvB,EAA4B4d,OAAOE,SAAS/a,OAAT,CAAiB6a,KAApD,EAAP;AAAmE;AACvE,SAAK,IAAInjB,IAAI,CAAb,EAAgBA,IAAIqjB,SAASM,IAAT,CAAc5kB,MAAlC,EAA0CiB,GAA1C,EACE;AAAE,UAAIqjB,SAASM,IAAT,CAAc3jB,CAAd,KAAoB+L,IAAxB,EACA;AAAE,eAAO,EAACxG,KAAK8d,SAAS/a,OAAT,CAAiB2b,IAAjB,CAAsBjkB,CAAtB,CAAN,EAAgCmjB,OAAOE,SAAS/a,OAAT,CAAiB4b,MAAjB,CAAwBlkB,CAAxB,CAAvC,EAAP;AAA2E;AAAE;AACnF,SAAK,IAAI4M,MAAM,CAAf,EAAkBA,MAAMyW,SAASM,IAAT,CAAc5kB,MAAtC,EAA8C6N,KAA9C,EACE;AAAE,UAAIN,OAAO+W,SAASM,IAAT,CAAc/W,GAAd,CAAP,IAA6BwG,KAAjC,EACA;AAAE,eAAO,EAAC7N,KAAK8d,SAAS/a,OAAT,CAAiB2b,IAAjB,CAAsBrX,GAAtB,CAAN,EAAkCuW,OAAOE,SAAS/a,OAAT,CAAiB4b,MAAjB,CAAwBtX,GAAxB,CAAzC,EAAuEsJ,QAAQ,IAA/E,EAAP;AAA6F;AAAE;AACtG;;AAED;AACA;AACA,WAASsW,yBAAT,CAAmCxY,EAAnC,EAAuCjI,IAAvC,EAA6C;AAC3CA,WAAOgH,WAAWhH,IAAX,CAAP;AACA,QAAIqH,QAAQ9G,OAAOP,IAAP,CAAZ;AACA,QAAIrC,OAAOsK,GAAGC,OAAH,CAAWrK,gBAAX,GAA8B,IAAIyc,QAAJ,CAAarS,GAAGlM,GAAhB,EAAqBiE,IAArB,EAA2BqH,KAA3B,CAAzC;AACA1J,SAAK0J,KAAL,GAAaA,KAAb;AACA,QAAIqV,QAAQ/e,KAAK+e,KAAL,GAAarF,iBAAiBpP,EAAjB,EAAqBtK,IAArB,CAAzB;AACAA,SAAKuC,IAAL,GAAYwc,MAAMlF,GAAlB;AACAjkB,yBAAqB0U,GAAGC,OAAH,CAAW1L,WAAhC,EAA6CkgB,MAAMlF,GAAnD;AACA,WAAO7Z,IAAP;AACD;;AAED;AACA;AACA,WAAS+iB,WAAT,CAAqBzY,EAArB,EAAyBjI,IAAzB,EAA+BzF,EAA/B,EAAmComB,IAAnC,EAAyC;AACvC,WAAOC,oBAAoB3Y,EAApB,EAAwB4Y,sBAAsB5Y,EAAtB,EAA0BjI,IAA1B,CAAxB,EAAyDzF,EAAzD,EAA6DomB,IAA7D,CAAP;AACD;;AAED;AACA,WAASG,eAAT,CAAyB7Y,EAAzB,EAA6BZ,KAA7B,EAAoC;AAClC,QAAIA,SAASY,GAAGC,OAAH,CAAW5K,QAApB,IAAgC+J,QAAQY,GAAGC,OAAH,CAAW3K,MAAvD,EACE;AAAE,aAAO0K,GAAGC,OAAH,CAAWvK,IAAX,CAAgBojB,cAAc9Y,EAAd,EAAkBZ,KAAlB,CAAhB,CAAP;AAAkD;AACtD,QAAIoV,MAAMxU,GAAGC,OAAH,CAAWrK,gBAArB;AACA,QAAI4e,OAAOpV,SAASoV,IAAIpV,KAApB,IAA6BA,QAAQoV,IAAIpV,KAAJ,GAAYoV,IAAIhd,IAAzD,EACE;AAAE,aAAOgd,GAAP;AAAY;AACjB;;AAED;AACA;AACA;AACA;AACA;AACA,WAASoE,qBAAT,CAA+B5Y,EAA/B,EAAmCjI,IAAnC,EAAyC;AACvC,QAAIqH,QAAQ9G,OAAOP,IAAP,CAAZ;AACA,QAAIrC,OAAOmjB,gBAAgB7Y,EAAhB,EAAoBZ,KAApB,CAAX;AACA,QAAI1J,QAAQ,CAACA,KAAKuC,IAAlB,EAAwB;AACtBvC,aAAO,IAAP;AACD,KAFD,MAEO,IAAIA,QAAQA,KAAKke,OAAjB,EAA0B;AAC/BF,2BAAqB1T,EAArB,EAAyBtK,IAAzB,EAA+B0J,KAA/B,EAAsC2Z,cAAc/Y,EAAd,CAAtC;AACAA,SAAGgE,KAAH,CAASgV,WAAT,GAAuB,IAAvB;AACD;AACD,QAAI,CAACtjB,IAAL,EACE;AAAEA,aAAO8iB,0BAA0BxY,EAA1B,EAA8BjI,IAA9B,CAAP;AAA4C;;AAEhD,QAAI4Q,OAAO4P,gBAAgB7iB,IAAhB,EAAsBqC,IAAtB,EAA4BqH,KAA5B,CAAX;AACA,WAAO;AACLrH,YAAMA,IADD,EACOrC,MAAMA,IADb,EACmBoiB,MAAM,IADzB;AAELvmB,WAAKoX,KAAKpX,GAFL,EAEU4d,OAAOxG,KAAKwG,KAFtB,EAE6BjN,QAAQyG,KAAKzG,MAF1C;AAGL+W,kBAAY;AAHP,KAAP;AAKD;;AAED;AACA;AACA,WAASN,mBAAT,CAA6B3Y,EAA7B,EAAiCkZ,QAAjC,EAA2C5mB,EAA3C,EAA+ComB,IAA/C,EAAqDS,SAArD,EAAgE;AAC9D,QAAID,SAAShX,MAAb,EAAqB;AAAE5P,WAAK,CAAC,CAAN;AAAS;AAChC,QAAI8mB,MAAM9mB,MAAMomB,QAAQ,EAAd,CAAV;AAAA,QAA6Bpc,KAA7B;AACA,QAAI4c,SAAS/J,KAAT,CAAejgB,cAAf,CAA8BkqB,GAA9B,CAAJ,EAAwC;AACtC9c,cAAQ4c,SAAS/J,KAAT,CAAeiK,GAAf,CAAR;AACD,KAFD,MAEO;AACL,UAAI,CAACF,SAASpB,IAAd,EACE;AAAEoB,iBAASpB,IAAT,GAAgBoB,SAASxjB,IAAT,CAAcuC,IAAd,CAAmB0N,qBAAnB,EAAhB;AAA4D;AAChE,UAAI,CAACuT,SAASD,UAAd,EAA0B;AACxBpB,0BAAkB7X,EAAlB,EAAsBkZ,SAASxjB,IAA/B,EAAqCwjB,SAASpB,IAA9C;AACAoB,iBAASD,UAAT,GAAsB,IAAtB;AACD;AACD3c,cAAQ+c,iBAAiBrZ,EAAjB,EAAqBkZ,QAArB,EAA+B5mB,EAA/B,EAAmComB,IAAnC,CAAR;AACA,UAAI,CAACpc,MAAMgd,KAAX,EAAkB;AAAEJ,iBAAS/J,KAAT,CAAeiK,GAAf,IAAsB9c,KAAtB;AAA6B;AAClD;AACD,WAAO,EAACuJ,MAAMvJ,MAAMuJ,IAAb,EAAmBC,OAAOxJ,MAAMwJ,KAAhC;AACCwS,WAAKa,YAAY7c,MAAMid,IAAlB,GAAyBjd,MAAMgc,GADrC;AAECD,cAAQc,YAAY7c,MAAMkd,OAAlB,GAA4Bld,MAAM+b,MAF3C,EAAP;AAGD;;AAED,MAAIoB,WAAW,EAAC5T,MAAM,CAAP,EAAUC,OAAO,CAAjB,EAAoBwS,KAAK,CAAzB,EAA4BD,QAAQ,CAApC,EAAf;;AAEA,WAASqB,sBAAT,CAAgCnoB,GAAhC,EAAqCe,EAArC,EAAyComB,IAAzC,EAA+C;AAC7C,QAAIjuB,IAAJ,EAAU4B,KAAV,EAAiBC,GAAjB,EAAsBS,QAAtB,EAAgC4sB,MAAhC,EAAwCC,IAAxC;AACA;AACA;AACA,SAAK,IAAI5tB,IAAI,CAAb,EAAgBA,IAAIuF,IAAIxG,MAAxB,EAAgCiB,KAAK,CAArC,EAAwC;AACtC2tB,eAASpoB,IAAIvF,CAAJ,CAAT;AACA4tB,aAAOroB,IAAIvF,IAAI,CAAR,CAAP;AACA,UAAIsG,KAAKqnB,MAAT,EAAiB;AACfttB,gBAAQ,CAAR,CAAWC,MAAM,CAAN;AACXS,mBAAW,MAAX;AACD,OAHD,MAGO,IAAIuF,KAAKsnB,IAAT,EAAe;AACpBvtB,gBAAQiG,KAAKqnB,MAAb;AACArtB,cAAMD,QAAQ,CAAd;AACD,OAHM,MAGA,IAAIL,KAAKuF,IAAIxG,MAAJ,GAAa,CAAlB,IAAuBuH,MAAMsnB,IAAN,IAAcroB,IAAIvF,IAAI,CAAR,IAAasG,EAAtD,EAA0D;AAC/DhG,cAAMstB,OAAOD,MAAb;AACAttB,gBAAQC,MAAM,CAAd;AACA,YAAIgG,MAAMsnB,IAAV,EAAgB;AAAE7sB,qBAAW,OAAX;AAAoB;AACvC;AACD,UAAIV,SAAS,IAAb,EAAmB;AACjB5B,eAAO8G,IAAIvF,IAAI,CAAR,CAAP;AACA,YAAI2tB,UAAUC,IAAV,IAAkBlB,SAASjuB,KAAKiR,UAAL,GAAkB,MAAlB,GAA2B,OAApC,CAAtB,EACE;AAAE3O,qBAAW2rB,IAAX;AAAiB;AACrB,YAAIA,QAAQ,MAAR,IAAkBrsB,SAAS,CAA/B,EACE;AAAE,iBAAOL,KAAKuF,IAAIvF,IAAI,CAAR,KAAcuF,IAAIvF,IAAI,CAAR,CAAnB,IAAiCuF,IAAIvF,IAAI,CAAR,EAAW0P,UAAnD,EAA+D;AAC/DjR,mBAAO8G,IAAI,CAACvF,KAAK,CAAN,IAAW,CAAf,CAAP;AACAe,uBAAW,MAAX;AACD;AAAE;AACL,YAAI2rB,QAAQ,OAAR,IAAmBrsB,SAASutB,OAAOD,MAAvC,EACE;AAAE,iBAAO3tB,IAAIuF,IAAIxG,MAAJ,GAAa,CAAjB,IAAsBwG,IAAIvF,IAAI,CAAR,KAAcuF,IAAIvF,IAAI,CAAR,CAApC,IAAkD,CAACuF,IAAIvF,IAAI,CAAR,EAAW0P,UAArE,EAAiF;AACjFjR,mBAAO8G,IAAI,CAACvF,KAAK,CAAN,IAAW,CAAf,CAAP;AACAe,uBAAW,OAAX;AACD;AAAE;AACL;AACD;AACF;AACD,WAAO,EAACtC,MAAMA,IAAP,EAAa4B,OAAOA,KAApB,EAA2BC,KAAKA,GAAhC,EAAqCS,UAAUA,QAA/C,EAAyD8sB,YAAYF,MAArE,EAA6EG,UAAUF,IAAvF,EAAP;AACD;;AAED,WAASG,aAAT,CAAuB5B,KAAvB,EAA8BO,IAA9B,EAAoC;AAClC,QAAIZ,OAAO2B,QAAX;AACA,QAAIf,QAAQ,MAAZ,EAAoB;AAAE,WAAK,IAAI1sB,IAAI,CAAb,EAAgBA,IAAImsB,MAAMptB,MAA1B,EAAkCiB,GAAlC,EAAuC;AAC3D,YAAI,CAAC8rB,OAAOK,MAAMnsB,CAAN,CAAR,EAAkB6Z,IAAlB,IAA0BiS,KAAKhS,KAAnC,EAA0C;AAAE;AAAO;AACpD;AAAE,KAFH,MAES;AAAE,WAAK,IAAIlN,MAAMuf,MAAMptB,MAAN,GAAe,CAA9B,EAAiC6N,OAAO,CAAxC,EAA2CA,KAA3C,EAAkD;AAC3D,YAAI,CAACkf,OAAOK,MAAMvf,GAAN,CAAR,EAAoBiN,IAApB,IAA4BiS,KAAKhS,KAArC,EAA4C;AAAE;AAAO;AACtD;AAAE;AACH,WAAOgS,IAAP;AACD;;AAED,WAASuB,gBAAT,CAA0BrZ,EAA1B,EAA8BkZ,QAA9B,EAAwC5mB,EAAxC,EAA4ComB,IAA5C,EAAkD;AAChD,QAAI7kB,QAAQ6lB,uBAAuBR,SAAS3nB,GAAhC,EAAqCe,EAArC,EAAyComB,IAAzC,CAAZ;AACA,QAAIjuB,OAAOoJ,MAAMpJ,IAAjB;AAAA,QAAuB4B,QAAQwH,MAAMxH,KAArC;AAAA,QAA4CC,MAAMuH,MAAMvH,GAAxD;AAAA,QAA6DS,WAAW8G,MAAM9G,QAA9E;;AAEA,QAAI+qB,IAAJ;AACA,QAAIrtB,KAAK2C,QAAL,IAAiB,CAArB,EAAwB;AAAE;AACxB,WAAK,IAAIwL,MAAM,CAAf,EAAkBA,MAAM,CAAxB,EAA2BA,KAA3B,EAAkC;AAAE;AAClC,eAAOvM,SAASyG,gBAAgBomB,SAASnhB,IAAT,CAAcE,IAAd,CAAmB9E,MAAnB,CAA0BU,MAAMgmB,UAAN,GAAmBxtB,KAA7C,CAAhB,CAAhB,EAAsF;AAAE,YAAEA,KAAF;AAAS;AACjG,eAAOwH,MAAMgmB,UAAN,GAAmBvtB,GAAnB,GAAyBuH,MAAMimB,QAA/B,IAA2ChnB,gBAAgBomB,SAASnhB,IAAT,CAAcE,IAAd,CAAmB9E,MAAnB,CAA0BU,MAAMgmB,UAAN,GAAmBvtB,GAA7C,CAAhB,CAAlD,EAAsH;AAAE,YAAEA,GAAF;AAAO;AAC/H,YAAIxD,MAAMC,aAAa,CAAnB,IAAwBsD,SAAS,CAAjC,IAAsCC,OAAOuH,MAAMimB,QAAN,GAAiBjmB,MAAMgmB,UAAxE,EACE;AAAE/B,iBAAOrtB,KAAKqC,UAAL,CAAgB6Y,qBAAhB,EAAP;AAAgD,SADpD,MAGE;AAAEmS,iBAAOiC,cAAc5tB,MAAM1B,IAAN,EAAY4B,KAAZ,EAAmBC,GAAnB,EAAwB8rB,cAAxB,EAAd,EAAwDM,IAAxD,CAAP;AAAsE;AAC1E,YAAIZ,KAAKjS,IAAL,IAAaiS,KAAKhS,KAAlB,IAA2BzZ,SAAS,CAAxC,EAA2C;AAAE;AAAO;AACpDC,cAAMD,KAAN;AACAA,gBAAQA,QAAQ,CAAhB;AACAU,mBAAW,OAAX;AACD;AACD,UAAIjE,MAAMC,aAAa,EAAvB,EAA2B;AAAE+uB,eAAOkC,0BAA0Bha,GAAGC,OAAH,CAAW3L,OAArC,EAA8CwjB,IAA9C,CAAP;AAA4D;AAC1F,KAdD,MAcO;AAAE;AACP,UAAIzrB,QAAQ,CAAZ,EAAe;AAAEU,mBAAW2rB,OAAO,OAAlB;AAA2B;AAC5C,UAAIP,KAAJ;AACA,UAAInY,GAAG/G,OAAH,CAAW+e,YAAX,IAA2B,CAACG,QAAQ1tB,KAAK2tB,cAAL,EAAT,EAAgCrtB,MAAhC,GAAyC,CAAxE,EACE;AAAE+sB,eAAOK,MAAMO,QAAQ,OAAR,GAAkBP,MAAMptB,MAAN,GAAe,CAAjC,GAAqC,CAA3C,CAAP;AAAsD,OAD1D,MAGE;AAAE+sB,eAAOrtB,KAAKkb,qBAAL,EAAP;AAAqC;AAC1C;AACD,QAAI7c,MAAMC,aAAa,CAAnB,IAAwB,CAACsD,KAAzB,KAAmC,CAACyrB,IAAD,IAAS,CAACA,KAAKjS,IAAN,IAAc,CAACiS,KAAKhS,KAAhE,CAAJ,EAA4E;AAC1E,UAAImU,QAAQxvB,KAAKqC,UAAL,CAAgBsrB,cAAhB,GAAiC,CAAjC,CAAZ;AACA,UAAI6B,KAAJ,EACE;AAAEnC,eAAO,EAACjS,MAAMoU,MAAMpU,IAAb,EAAmBC,OAAOmU,MAAMpU,IAAN,GAAaqU,UAAUla,GAAGC,OAAb,CAAvC,EAA8DqY,KAAK2B,MAAM3B,GAAzE,EAA8ED,QAAQ4B,MAAM5B,MAA5F,EAAP;AAA4G,OADhH,MAGE;AAAEP,eAAO2B,QAAP;AAAiB;AACtB;;AAED,QAAIF,OAAOzB,KAAKQ,GAAL,GAAWY,SAASpB,IAAT,CAAcQ,GAApC;AAAA,QAAyC6B,OAAOrC,KAAKO,MAAL,GAAca,SAASpB,IAAT,CAAcQ,GAA5E;AACA,QAAI7kB,MAAM,CAAC8lB,OAAOY,IAAR,IAAgB,CAA1B;AACA,QAAIjC,UAAUgB,SAASxjB,IAAT,CAAcpB,OAAd,CAAsB4jB,OAApC;AACA,QAAIlsB,IAAI,CAAR;AACA,WAAOA,IAAIksB,QAAQntB,MAAR,GAAiB,CAA5B,EAA+BiB,GAA/B,EACE;AAAE,UAAIyH,MAAMykB,QAAQlsB,CAAR,CAAV,EAAsB;AAAE;AAAO;AAAE;AACrC,QAAIssB,MAAMtsB,IAAIksB,QAAQlsB,IAAI,CAAZ,CAAJ,GAAqB,CAA/B;AAAA,QAAkCouB,MAAMlC,QAAQlsB,CAAR,CAAxC;AACA,QAAIga,SAAS,EAACH,MAAM,CAAC9Y,YAAY,OAAZ,GAAsB+qB,KAAKhS,KAA3B,GAAmCgS,KAAKjS,IAAzC,IAAiDqT,SAASpB,IAAT,CAAcjS,IAAtE;AACCC,aAAO,CAAC/Y,YAAY,MAAZ,GAAqB+qB,KAAKjS,IAA1B,GAAiCiS,KAAKhS,KAAvC,IAAgDoT,SAASpB,IAAT,CAAcjS,IADtE;AAECyS,WAAKA,GAFN,EAEWD,QAAQ+B,GAFnB,EAAb;AAGA,QAAI,CAACtC,KAAKjS,IAAN,IAAc,CAACiS,KAAKhS,KAAxB,EAA+B;AAAEE,aAAOsT,KAAP,GAAe,IAAf;AAAqB;AACtD,QAAI,CAACtZ,GAAG/G,OAAH,CAAWohB,yBAAhB,EAA2C;AAAErU,aAAOuT,IAAP,GAAcA,IAAd,CAAoBvT,OAAOwT,OAAP,GAAiBW,IAAjB;AAAuB;;AAExF,WAAOnU,MAAP;AACD;;AAED;AACA;AACA,WAASgU,yBAAT,CAAmC1lB,OAAnC,EAA4CwjB,IAA5C,EAAkD;AAChD,QAAI,CAAC1R,OAAOkU,MAAR,IAAkBA,OAAOC,WAAP,IAAsB,IAAxC,IACAD,OAAOC,WAAP,IAAsBD,OAAOE,UAD7B,IAC2C,CAAC1T,kBAAkBxS,OAAlB,CADhD,EAEE;AAAE,aAAOwjB,IAAP;AAAa;AACjB,QAAI2C,SAASH,OAAOC,WAAP,GAAqBD,OAAOE,UAAzC;AACA,QAAIE,SAASJ,OAAOK,WAAP,GAAqBL,OAAOM,UAAzC;AACA,WAAO,EAAC/U,MAAMiS,KAAKjS,IAAL,GAAY4U,MAAnB,EAA2B3U,OAAOgS,KAAKhS,KAAL,GAAa2U,MAA/C;AACCnC,WAAKR,KAAKQ,GAAL,GAAWoC,MADjB,EACyBrC,QAAQP,KAAKO,MAAL,GAAcqC,MAD/C,EAAP;AAED;;AAED,WAASG,4BAAT,CAAsCxL,QAAtC,EAAgD;AAC9C,QAAIA,SAAS/a,OAAb,EAAsB;AACpB+a,eAAS/a,OAAT,CAAiB6a,KAAjB,GAAyB,EAAzB;AACAE,eAAS/a,OAAT,CAAiB4jB,OAAjB,GAA2B,IAA3B;AACA,UAAI7I,SAASM,IAAb,EAAmB;AAAE,aAAK,IAAI3jB,IAAI,CAAb,EAAgBA,IAAIqjB,SAASM,IAAT,CAAc5kB,MAAlC,EAA0CiB,GAA1C,EACnB;AAAEqjB,mBAAS/a,OAAT,CAAiB4b,MAAjB,CAAwBlkB,CAAxB,IAA6B,EAA7B;AAAiC;AAAE;AACxC;AACF;;AAED,WAAS8uB,yBAAT,CAAmC9a,EAAnC,EAAuC;AACrCA,OAAGC,OAAH,CAAW8a,eAAX,GAA6B,IAA7B;AACA/vB,mBAAegV,GAAGC,OAAH,CAAW1L,WAA1B;AACA,SAAK,IAAIvI,IAAI,CAAb,EAAgBA,IAAIgU,GAAGC,OAAH,CAAWvK,IAAX,CAAgB3K,MAApC,EAA4CiB,GAA5C,EACE;AAAE6uB,mCAA6B7a,GAAGC,OAAH,CAAWvK,IAAX,CAAgB1J,CAAhB,CAA7B;AAAkD;AACvD;;AAED,WAASgvB,WAAT,CAAqBhb,EAArB,EAAyB;AACvB8a,8BAA0B9a,EAA1B;AACAA,OAAGC,OAAH,CAAWxJ,eAAX,GAA6BuJ,GAAGC,OAAH,CAAWvJ,gBAAX,GAA8BsJ,GAAGC,OAAH,CAAWtJ,cAAX,GAA4B,IAAvF;AACA,QAAI,CAACqJ,GAAG/G,OAAH,CAAW+e,YAAhB,EAA8B;AAAEhY,SAAGC,OAAH,CAAWnJ,cAAX,GAA4B,IAA5B;AAAkC;AAClEkJ,OAAGC,OAAH,CAAW1J,YAAX,GAA0B,IAA1B;AACD;;AAED,WAAS0kB,WAAT,GAAuB;AACrB;AACA;AACA;AACA,QAAI7xB,UAAUO,OAAd,EAAuB;AAAE,aAAO,EAAEX,SAAS2D,IAAT,CAAcgZ,qBAAd,GAAsCE,IAAtC,GAA6C0R,SAASH,iBAAiBpuB,SAAS2D,IAA1B,EAAgC+pB,UAAzC,CAA/C,CAAP;AAA6G;AACtI,WAAOtQ,OAAO8U,WAAP,IAAsB,CAAClyB,SAASmyB,eAAT,IAA4BnyB,SAAS2D,IAAtC,EAA4CyuB,UAAzE;AACD;AACD,WAASC,WAAT,GAAuB;AACrB,QAAIjyB,UAAUO,OAAd,EAAuB;AAAE,aAAO,EAAEX,SAAS2D,IAAT,CAAcgZ,qBAAd,GAAsC2S,GAAtC,GAA4Cf,SAASH,iBAAiBpuB,SAAS2D,IAA1B,EAAgC2uB,SAAzC,CAA9C,CAAP;AAA2G;AACpI,WAAOlV,OAAOmV,WAAP,IAAsB,CAACvyB,SAASmyB,eAAT,IAA4BnyB,SAAS2D,IAAtC,EAA4C6uB,SAAzE;AACD;;AAED,WAASC,eAAT,CAAyB7b,OAAzB,EAAkC;AAChC,QAAIxH,SAAS,CAAb;AACA,QAAIwH,QAAQmW,OAAZ,EAAqB;AAAE,WAAK,IAAI/pB,IAAI,CAAb,EAAgBA,IAAI4T,QAAQmW,OAAR,CAAgBhrB,MAApC,EAA4C,EAAEiB,CAA9C,EAAiD;AAAE,YAAI4T,QAAQmW,OAAR,CAAgB/pB,CAAhB,EAAmBmqB,KAAvB,EACxE;AAAE/d,oBAAUue,aAAa/W,QAAQmW,OAAR,CAAgB/pB,CAAhB,CAAb,CAAV;AAA4C;AAAE;AAAE;AACpD,WAAOoM,MAAP;AACD;;AAED;AACA;AACA;AACA;AACA,WAASsjB,eAAT,CAAyB1b,EAAzB,EAA6BJ,OAA7B,EAAsCkY,IAAtC,EAA4CtM,OAA5C,EAAqDmQ,cAArD,EAAqE;AACnE,QAAI,CAACA,cAAL,EAAqB;AACnB,UAAIvjB,SAASqjB,gBAAgB7b,OAAhB,CAAb;AACAkY,WAAKQ,GAAL,IAAYlgB,MAAZ,CAAoB0f,KAAKO,MAAL,IAAejgB,MAAf;AACrB;AACD,QAAIoT,WAAW,MAAf,EAAuB;AAAE,aAAOsM,IAAP;AAAa;AACtC,QAAI,CAACtM,OAAL,EAAc;AAAEA,gBAAU,OAAV;AAAmB;AACnC,QAAIoQ,OAAOjc,cAAaC,OAAb,CAAX;AACA,QAAI4L,WAAW,OAAf,EAAwB;AAAEoQ,cAAQ5E,WAAWhX,GAAGC,OAAd,CAAR;AAAgC,KAA1D,MACK;AAAE2b,cAAQ5b,GAAGC,OAAH,CAAWpK,UAAnB;AAA+B;AACtC,QAAI2V,WAAW,MAAX,IAAqBA,WAAW,QAApC,EAA8C;AAC5C,UAAIqQ,OAAO7b,GAAGC,OAAH,CAAWzL,SAAX,CAAqBmR,qBAArB,EAAX;AACAiW,cAAQC,KAAKvD,GAAL,IAAY9M,WAAW,QAAX,GAAsB,CAAtB,GAA0B6P,aAAtC,CAAR;AACA,UAAIS,OAAOD,KAAKhW,IAAL,IAAa2F,WAAW,QAAX,GAAsB,CAAtB,GAA0ByP,aAAvC,CAAX;AACAnD,WAAKjS,IAAL,IAAaiW,IAAb,CAAmBhE,KAAKhS,KAAL,IAAcgW,IAAd;AACpB;AACDhE,SAAKQ,GAAL,IAAYsD,IAAZ,CAAkB9D,KAAKO,MAAL,IAAeuD,IAAf;AAClB,WAAO9D,IAAP;AACD;;AAED;AACA;AACA,WAASiE,eAAT,CAAyB/b,EAAzB,EAA6Bgc,MAA7B,EAAqCxQ,OAArC,EAA8C;AAC5C,QAAIA,WAAW,KAAf,EAAsB;AAAE,aAAOwQ,MAAP;AAAe;AACvC,QAAInW,OAAOmW,OAAOnW,IAAlB;AAAA,QAAwByS,MAAM0D,OAAO1D,GAArC;AACA;AACA,QAAI9M,WAAW,MAAf,EAAuB;AACrB3F,cAAQoV,aAAR;AACA3C,aAAO+C,aAAP;AACD,KAHD,MAGO,IAAI7P,WAAW,OAAX,IAAsB,CAACA,OAA3B,EAAoC;AACzC,UAAIyQ,WAAWjc,GAAGC,OAAH,CAAWtL,KAAX,CAAiBgR,qBAAjB,EAAf;AACAE,cAAQoW,SAASpW,IAAjB;AACAyS,aAAO2D,SAAS3D,GAAhB;AACD;;AAED,QAAI4D,eAAelc,GAAGC,OAAH,CAAWzL,SAAX,CAAqBmR,qBAArB,EAAnB;AACA,WAAO,EAACE,MAAMA,OAAOqW,aAAarW,IAA3B,EAAiCyS,KAAKA,MAAM4D,aAAa5D,GAAzD,EAAP;AACD;;AAED,WAAS6D,WAAT,CAAoBnc,EAApB,EAAwBnP,GAAxB,EAA6B2a,OAA7B,EAAsC5L,OAAtC,EAA+C8Y,IAA/C,EAAqD;AACnD,QAAI,CAAC9Y,OAAL,EAAc;AAAEA,gBAAUrI,QAAQyI,GAAGlM,GAAX,EAAgBjD,IAAIkH,IAApB,CAAV;AAAqC;AACrD,WAAO2jB,gBAAgB1b,EAAhB,EAAoBJ,OAApB,EAA6B6Y,YAAYzY,EAAZ,EAAgBJ,OAAhB,EAAyB/O,IAAIyB,EAA7B,EAAiComB,IAAjC,CAA7B,EAAqElN,OAArE,CAAP;AACD;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAS4Q,aAAT,CAAsBpc,EAAtB,EAA0BnP,GAA1B,EAA+B2a,OAA/B,EAAwC5L,OAAxC,EAAiDyc,eAAjD,EAAkElD,SAAlE,EAA6E;AAC3EvZ,cAAUA,WAAWrI,QAAQyI,GAAGlM,GAAX,EAAgBjD,IAAIkH,IAApB,CAArB;AACA,QAAI,CAACskB,eAAL,EAAsB;AAAEA,wBAAkBzD,sBAAsB5Y,EAAtB,EAA0BJ,OAA1B,CAAlB;AAAsD;AAC9E,aAAS0c,GAAT,CAAahqB,EAAb,EAAiBwT,KAAjB,EAAwB;AACtB,UAAIxI,IAAIqb,oBAAoB3Y,EAApB,EAAwBqc,eAAxB,EAAyC/pB,EAAzC,EAA6CwT,QAAQ,OAAR,GAAkB,MAA/D,EAAuEqT,SAAvE,CAAR;AACA,UAAIrT,KAAJ,EAAW;AAAExI,UAAEuI,IAAF,GAASvI,EAAEwI,KAAX;AAAmB,OAAhC,MAAsC;AAAExI,UAAEwI,KAAF,GAAUxI,EAAEuI,IAAZ;AAAkB;AAC1D,aAAO6V,gBAAgB1b,EAAhB,EAAoBJ,OAApB,EAA6BtC,CAA7B,EAAgCkO,OAAhC,CAAP;AACD;AACD,QAAIrL,QAAQwC,SAAS/C,OAAT,EAAkBI,GAAGlM,GAAH,CAAOqN,SAAzB,CAAZ;AAAA,QAAiD7O,KAAKzB,IAAIyB,EAA1D;AAAA,QAA8DgH,SAASzI,IAAIyI,MAA3E;AACA,QAAIhH,MAAMsN,QAAQ3H,IAAR,CAAalN,MAAvB,EAA+B;AAC7BuH,WAAKsN,QAAQ3H,IAAR,CAAalN,MAAlB;AACAuO,eAAS,QAAT;AACD,KAHD,MAGO,IAAIhH,MAAM,CAAV,EAAa;AAClBA,WAAK,CAAL;AACAgH,eAAS,OAAT;AACD;AACD,QAAI,CAAC6G,KAAL,EAAY;AAAE,aAAOmc,IAAIhjB,UAAU,QAAV,GAAqBhH,KAAK,CAA1B,GAA8BA,EAAlC,EAAsCgH,UAAU,QAAhD,CAAP;AAAkE;;AAEhF,aAASijB,OAAT,CAAiBjqB,EAAjB,EAAqBkqB,OAArB,EAA8BC,MAA9B,EAAsC;AACpC,UAAIrc,OAAOD,MAAMqc,OAAN,CAAX;AAAA,UAA2B1W,QAAQ1F,KAAKC,KAAL,IAAc,CAAjD;AACA,aAAOic,IAAIG,SAASnqB,KAAK,CAAd,GAAkBA,EAAtB,EAA0BwT,SAAS2W,MAAnC,CAAP;AACD;AACD,QAAID,UAAUjc,cAAcJ,KAAd,EAAqB7N,EAArB,EAAyBgH,MAAzB,CAAd;AACA,QAAIojB,QAAQpc,SAAZ;AACA,QAAImI,MAAM8T,QAAQjqB,EAAR,EAAYkqB,OAAZ,EAAqBljB,UAAU,QAA/B,CAAV;AACA,QAAIojB,SAAS,IAAb,EAAmB;AAAEjU,UAAIiU,KAAJ,GAAYH,QAAQjqB,EAAR,EAAYoqB,KAAZ,EAAmBpjB,UAAU,QAA7B,CAAZ;AAAoD;AACzE,WAAOmP,GAAP;AACD;;AAED;AACA;AACA,WAASkU,cAAT,CAAwB3c,EAAxB,EAA4BnP,GAA5B,EAAiC;AAC/B,QAAIgV,OAAO,CAAX;AACAhV,UAAMkJ,SAAQiG,GAAGlM,GAAX,EAAgBjD,GAAhB,CAAN;AACA,QAAI,CAACmP,GAAG/G,OAAH,CAAW+e,YAAhB,EAA8B;AAAEnS,aAAOqU,UAAUla,GAAGC,OAAb,IAAwBpP,IAAIyB,EAAnC;AAAuC;AACvE,QAAIsN,UAAUrI,QAAQyI,GAAGlM,GAAX,EAAgBjD,IAAIkH,IAApB,CAAd;AACA,QAAIugB,MAAM3Y,cAAaC,OAAb,IAAwBoX,WAAWhX,GAAGC,OAAd,CAAlC;AACA,WAAO,EAAC4F,MAAMA,IAAP,EAAaC,OAAOD,IAApB,EAA0ByS,KAAKA,GAA/B,EAAoCD,QAAQC,MAAM1Y,QAAQxH,MAA1D,EAAP;AACD;;AAED;AACA;AACA;AACA;AACA;AACA;AACA,WAASwkB,WAAT,CAAqB7kB,IAArB,EAA2BzF,EAA3B,EAA+BgH,MAA/B,EAAuCujB,OAAvC,EAAgDC,IAAhD,EAAsD;AACpD,QAAIjsB,MAAMwI,IAAItB,IAAJ,EAAUzF,EAAV,EAAcgH,MAAd,CAAV;AACAzI,QAAIisB,IAAJ,GAAWA,IAAX;AACA,QAAID,OAAJ,EAAa;AAAEhsB,UAAIgsB,OAAJ,GAAc,IAAd;AAAoB;AACnC,WAAOhsB,GAAP;AACD;;AAED;AACA;AACA,WAASksB,WAAT,CAAoB/c,EAApB,EAAwBtG,CAAxB,EAA2BsjB,CAA3B,EAA8B;AAC5B,QAAIlpB,MAAMkM,GAAGlM,GAAb;AACAkpB,SAAKhd,GAAGC,OAAH,CAAWpK,UAAhB;AACA,QAAImnB,IAAI,CAAR,EAAW;AAAE,aAAOJ,YAAY9oB,IAAIyB,KAAhB,EAAuB,CAAvB,EAA0B,IAA1B,EAAgC,IAAhC,EAAsC,CAAC,CAAvC,CAAP;AAAkD;AAC/D,QAAI6J,QAAQ3G,cAAa3E,GAAb,EAAkBkpB,CAAlB,CAAZ;AAAA,QAAkChjB,OAAOlG,IAAIyB,KAAJ,GAAYzB,IAAI0D,IAAhB,GAAuB,CAAhE;AACA,QAAI4H,QAAQpF,IAAZ,EACE;AAAE,aAAO4iB,YAAY9oB,IAAIyB,KAAJ,GAAYzB,IAAI0D,IAAhB,GAAuB,CAAnC,EAAsCD,QAAQzD,GAAR,EAAakG,IAAb,EAAmB/B,IAAnB,CAAwBlN,MAA9D,EAAsE,IAAtE,EAA4E,IAA5E,EAAkF,CAAlF,CAAP;AAA6F;AACjG,QAAI2O,IAAI,CAAR,EAAW;AAAEA,UAAI,CAAJ;AAAO;;AAEpB,QAAIkG,UAAUrI,QAAQzD,GAAR,EAAasL,KAAb,CAAd;AACA,aAAS;AACP,UAAI9C,QAAQ2gB,gBAAgBjd,EAAhB,EAAoBJ,OAApB,EAA6BR,KAA7B,EAAoC1F,CAApC,EAAuCsjB,CAAvC,CAAZ;AACA,UAAIhe,SAASH,mBAAmBe,OAAnB,CAAb;AACA,UAAIsd,YAAYle,UAAUA,OAAOzB,IAAP,CAAY,CAAZ,EAAe,IAAf,CAA1B;AACA,UAAIyB,WAAW1C,MAAMhK,EAAN,GAAW4qB,UAAU5pB,IAAV,CAAehB,EAA1B,IAAgCgK,MAAMhK,EAAN,IAAY4qB,UAAU5pB,IAAV,CAAehB,EAA3B,IAAiCgK,MAAMwgB,IAAN,GAAa,CAAzF,CAAJ,EACE;AAAE1d,gBAAQ9G,OAAOsH,UAAUsd,UAAU3pB,EAAV,CAAawE,IAA9B,CAAR;AAA6C,OADjD,MAGE;AAAE,eAAOuE,KAAP;AAAc;AACnB;AACF;;AAED,WAAS6gB,iBAAT,CAA2Bnd,EAA3B,EAA+BJ,OAA/B,EAAwCyc,eAAxC,EAAyDW,CAAzD,EAA4D;AAC1DA,SAAKvB,gBAAgB7b,OAAhB,CAAL;AACA,QAAItT,MAAMsT,QAAQ3H,IAAR,CAAalN,MAAvB;AACA,QAAIqyB,QAAQhqB,UAAU,UAAUd,EAAV,EAAc;AAAE,aAAOqmB,oBAAoB3Y,EAApB,EAAwBqc,eAAxB,EAAyC/pB,KAAK,CAA9C,EAAiD+lB,MAAjD,IAA2D2E,CAAlE;AAAsE,KAAhG,EAAkG1wB,GAAlG,EAAuG,CAAvG,CAAZ;AACAA,UAAM8G,UAAU,UAAUd,EAAV,EAAc;AAAE,aAAOqmB,oBAAoB3Y,EAApB,EAAwBqc,eAAxB,EAAyC/pB,EAAzC,EAA6CgmB,GAA7C,GAAmD0E,CAA1D;AAA8D,KAAxF,EAA0FI,KAA1F,EAAiG9wB,GAAjG,CAAN;AACA,WAAO,EAAC8wB,OAAOA,KAAR,EAAe9wB,KAAKA,GAApB,EAAP;AACD;;AAED,WAAS+wB,qBAAT,CAA+Brd,EAA/B,EAAmCJ,OAAnC,EAA4Cyc,eAA5C,EAA6DttB,MAA7D,EAAqE;AACnE,QAAI,CAACstB,eAAL,EAAsB;AAAEA,wBAAkBzD,sBAAsB5Y,EAAtB,EAA0BJ,OAA1B,CAAlB;AAAsD;AAC9E,QAAI0d,YAAY5B,gBAAgB1b,EAAhB,EAAoBJ,OAApB,EAA6B+Y,oBAAoB3Y,EAApB,EAAwBqc,eAAxB,EAAyCttB,MAAzC,CAA7B,EAA+E,MAA/E,EAAuFupB,GAAvG;AACA,WAAO6E,kBAAkBnd,EAAlB,EAAsBJ,OAAtB,EAA+Byc,eAA/B,EAAgDiB,SAAhD,CAAP;AACD;;AAED;AACA;AACA,WAASC,UAAT,CAAoBC,GAApB,EAAyB9jB,CAAzB,EAA4BsjB,CAA5B,EAA+BnX,IAA/B,EAAqC;AACnC,WAAO2X,IAAInF,MAAJ,IAAc2E,CAAd,GAAkB,KAAlB,GAA0BQ,IAAIlF,GAAJ,GAAU0E,CAAV,GAAc,IAAd,GAAqB,CAACnX,OAAO2X,IAAI3X,IAAX,GAAkB2X,IAAI1X,KAAvB,IAAgCpM,CAAtF;AACD;;AAED,WAASujB,eAAT,CAAyBjd,EAAzB,EAA6BJ,OAA7B,EAAsCtH,MAAtC,EAA8CoB,CAA9C,EAAiDsjB,CAAjD,EAAoD;AAClD;AACAA,SAAKrd,cAAaC,OAAb,CAAL;AACA,QAAIyc,kBAAkBzD,sBAAsB5Y,EAAtB,EAA0BJ,OAA1B,CAAtB;AACA;AACA;AACA,QAAI+W,eAAe8E,gBAAgB7b,OAAhB,CAAnB;AACA,QAAIwd,QAAQ,CAAZ;AAAA,QAAe9wB,MAAMsT,QAAQ3H,IAAR,CAAalN,MAAlC;AAAA,QAA0C0yB,MAAM,IAAhD;;AAEA,QAAItd,QAAQwC,SAAS/C,OAAT,EAAkBI,GAAGlM,GAAH,CAAOqN,SAAzB,CAAZ;AACA;AACA;AACA,QAAIhB,KAAJ,EAAW;AACT,UAAIC,OAAO,CAACJ,GAAG/G,OAAH,CAAW+e,YAAX,GAA0B0F,qBAA1B,GAAkDC,cAAnD,EACG3d,EADH,EACOJ,OADP,EACgBtH,MADhB,EACwB+jB,eADxB,EACyClc,KADzC,EACgDzG,CADhD,EACmDsjB,CADnD,CAAX;AAEAS,YAAMrd,KAAKC,KAAL,IAAc,CAApB;AACA;AACA;AACA;AACA;AACA+c,cAAQK,MAAMrd,KAAK9M,IAAX,GAAkB8M,KAAK7M,EAAL,GAAU,CAApC;AACAjH,YAAMmxB,MAAMrd,KAAK7M,EAAX,GAAgB6M,KAAK9M,IAAL,GAAY,CAAlC;AACD;;AAED;AACA;AACA;AACA,QAAIsqB,WAAW,IAAf;AAAA,QAAqBC,YAAY,IAAjC;AACA,QAAIvrB,KAAKc,UAAU,UAAUd,EAAV,EAAc;AAC/B,UAAIkrB,MAAM7E,oBAAoB3Y,EAApB,EAAwBqc,eAAxB,EAAyC/pB,EAAzC,CAAV;AACAkrB,UAAIlF,GAAJ,IAAW3B,YAAX,CAAyB6G,IAAInF,MAAJ,IAAc1B,YAAd;AACzB,UAAI,CAAC4G,WAAWC,GAAX,EAAgB9jB,CAAhB,EAAmBsjB,CAAnB,EAAsB,KAAtB,CAAL,EAAmC;AAAE,eAAO,KAAP;AAAc;AACnD,UAAIQ,IAAIlF,GAAJ,IAAW0E,CAAX,IAAgBQ,IAAI3X,IAAJ,IAAYnM,CAAhC,EAAmC;AACjCkkB,mBAAWtrB,EAAX;AACAurB,oBAAYL,GAAZ;AACD;AACD,aAAO,IAAP;AACD,KATQ,EASNJ,KATM,EASC9wB,GATD,CAAT;;AAWA,QAAIwxB,KAAJ;AAAA,QAAWxkB,MAAX;AAAA,QAAmBujB,UAAU,KAA7B;AACA;AACA,QAAIgB,SAAJ,EAAe;AACb;AACA,UAAIE,SAASrkB,IAAImkB,UAAUhY,IAAd,GAAqBgY,UAAU/X,KAAV,GAAkBpM,CAApD;AAAA,UAAuDskB,UAAUD,UAAUN,GAA3E;AACAnrB,WAAKsrB,YAAYI,UAAU,CAAV,GAAc,CAA1B,CAAL;AACA1kB,eAAS0kB,UAAU,OAAV,GAAoB,QAA7B;AACAF,cAAQC,SAASF,UAAUhY,IAAnB,GAA0BgY,UAAU/X,KAA5C;AACD,KAND,MAMO;AACL;AACA,UAAI,CAAC2X,GAAD,KAASnrB,MAAMhG,GAAN,IAAagG,MAAM8qB,KAA5B,CAAJ,EAAwC;AAAE9qB;AAAM;AAChD;AACA;AACA;AACAgH,eAAShH,MAAM,CAAN,GAAU,OAAV,GAAoBA,MAAMsN,QAAQ3H,IAAR,CAAalN,MAAnB,GAA4B,QAA5B,GAC1B4tB,oBAAoB3Y,EAApB,EAAwBqc,eAAxB,EAAyC/pB,MAAMmrB,MAAM,CAAN,GAAU,CAAhB,CAAzC,EAA6DpF,MAA7D,GAAsE1B,YAAtE,IAAsFqG,CAAvF,IAA6FS,GAA7F,GACA,OADA,GACU,QAFZ;AAGA;AACA;AACA,UAAIzB,SAASI,cAAapc,EAAb,EAAiB3G,IAAIf,MAAJ,EAAYhG,EAAZ,EAAgBgH,MAAhB,CAAjB,EAA0C,MAA1C,EAAkDsG,OAAlD,EAA2Dyc,eAA3D,CAAb;AACAyB,cAAQ9B,OAAOnW,IAAf;AACAgX,gBAAUG,IAAIhB,OAAO1D,GAAX,IAAkB0E,KAAKhB,OAAO3D,MAAxC;AACD;;AAED/lB,SAAKU,mBAAmB4M,QAAQ3H,IAA3B,EAAiC3F,EAAjC,EAAqC,CAArC,CAAL;AACA,WAAOsqB,YAAYtkB,MAAZ,EAAoBhG,EAApB,EAAwBgH,MAAxB,EAAgCujB,OAAhC,EAAyCnjB,IAAIokB,KAA7C,CAAP;AACD;;AAED,WAASH,cAAT,CAAwB3d,EAAxB,EAA4BJ,OAA5B,EAAqCtH,MAArC,EAA6C+jB,eAA7C,EAA8Dlc,KAA9D,EAAqEzG,CAArE,EAAwEsjB,CAAxE,EAA2E;AACzE;AACA;AACA;AACA;AACA,QAAIlyB,QAAQsI,UAAU,UAAUpH,CAAV,EAAa;AACjC,UAAIoU,OAAOD,MAAMnU,CAAN,CAAX;AAAA,UAAqByxB,MAAMrd,KAAKC,KAAL,IAAc,CAAzC;AACA,aAAOkd,WAAWnB,cAAapc,EAAb,EAAiB3G,IAAIf,MAAJ,EAAYmlB,MAAMrd,KAAK7M,EAAX,GAAgB6M,KAAK9M,IAAjC,EAAuCmqB,MAAM,QAAN,GAAiB,OAAxD,CAAjB,EACa,MADb,EACqB7d,OADrB,EAC8Byc,eAD9B,CAAX,EAC2D3iB,CAD3D,EAC8DsjB,CAD9D,EACiE,IADjE,CAAP;AAED,KAJW,EAIT,CAJS,EAIN7c,MAAMpV,MAAN,GAAe,CAJT,CAAZ;AAKA,QAAIqV,OAAOD,MAAMrV,KAAN,CAAX;AACA;AACA;AACA;AACA,QAAIA,QAAQ,CAAZ,EAAe;AACb,UAAI2yB,MAAMrd,KAAKC,KAAL,IAAc,CAAxB;AACA,UAAIhU,QAAQ+vB,cAAapc,EAAb,EAAiB3G,IAAIf,MAAJ,EAAYmlB,MAAMrd,KAAK9M,IAAX,GAAkB8M,KAAK7M,EAAnC,EAAuCkqB,MAAM,OAAN,GAAgB,QAAvD,CAAjB,EACa,MADb,EACqB7d,OADrB,EAC8Byc,eAD9B,CAAZ;AAEA,UAAIkB,WAAWlxB,KAAX,EAAkBqN,CAAlB,EAAqBsjB,CAArB,EAAwB,IAAxB,KAAiC3wB,MAAMisB,GAAN,GAAY0E,CAAjD,EACE;AAAE5c,eAAOD,MAAMrV,QAAQ,CAAd,CAAP;AAAyB;AAC9B;AACD,WAAOsV,IAAP;AACD;;AAED,WAASsd,qBAAT,CAA+B1d,EAA/B,EAAmCJ,OAAnC,EAA4Cqe,OAA5C,EAAqD5B,eAArD,EAAsElc,KAAtE,EAA6EzG,CAA7E,EAAgFsjB,CAAhF,EAAmF;AACjF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAIkB,MAAMf,kBAAkBnd,EAAlB,EAAsBJ,OAAtB,EAA+Byc,eAA/B,EAAgDW,CAAhD,CAAV;AACA,QAAII,QAAQc,IAAId,KAAhB;AACA,QAAI9wB,MAAM4xB,IAAI5xB,GAAd;AACA,QAAI,KAAK7D,IAAL,CAAUmX,QAAQ3H,IAAR,CAAa9E,MAAb,CAAoB7G,MAAM,CAA1B,CAAV,CAAJ,EAA6C;AAAEA;AAAO;AACtD,QAAI8T,OAAO,IAAX;AAAA,QAAiB+d,cAAc,IAA/B;AACA,SAAK,IAAInyB,IAAI,CAAb,EAAgBA,IAAImU,MAAMpV,MAA1B,EAAkCiB,GAAlC,EAAuC;AACrC,UAAIyR,IAAI0C,MAAMnU,CAAN,CAAR;AACA,UAAIyR,EAAEnK,IAAF,IAAUhH,GAAV,IAAiBmR,EAAElK,EAAF,IAAQ6pB,KAA7B,EAAoC;AAAE;AAAU;AAChD,UAAIK,MAAMhgB,EAAE4C,KAAF,IAAW,CAArB;AACA,UAAI+d,OAAOzF,oBAAoB3Y,EAApB,EAAwBqc,eAAxB,EAAyCoB,MAAMzsB,KAAKC,GAAL,CAAS3E,GAAT,EAAcmR,EAAElK,EAAhB,IAAsB,CAA5B,GAAgCvC,KAAK8I,GAAL,CAASsjB,KAAT,EAAgB3f,EAAEnK,IAAlB,CAAzE,EAAkGwS,KAA7G;AACA;AACA;AACA,UAAIuY,OAAOD,OAAO1kB,CAAP,GAAWA,IAAI0kB,IAAJ,GAAW,GAAtB,GAA4BA,OAAO1kB,CAA9C;AACA,UAAI,CAAC0G,IAAD,IAAS+d,cAAcE,IAA3B,EAAiC;AAC/Bje,eAAO3C,CAAP;AACA0gB,sBAAcE,IAAd;AACD;AACF;AACD,QAAI,CAACje,IAAL,EAAW;AAAEA,aAAOD,MAAMA,MAAMpV,MAAN,GAAe,CAArB,CAAP;AAAgC;AAC7C;AACA,QAAIqV,KAAK9M,IAAL,GAAY8pB,KAAhB,EAAuB;AAAEhd,aAAO,EAAC9M,MAAM8pB,KAAP,EAAc7pB,IAAI6M,KAAK7M,EAAvB,EAA2B8M,OAAOD,KAAKC,KAAvC,EAAP;AAAsD;AAC/E,QAAID,KAAK7M,EAAL,GAAUjH,GAAd,EAAmB;AAAE8T,aAAO,EAAC9M,MAAM8M,KAAK9M,IAAZ,EAAkBC,IAAIjH,GAAtB,EAA2B+T,OAAOD,KAAKC,KAAvC,EAAP;AAAsD;AAC3E,WAAOD,IAAP;AACD;;AAED,MAAIke,WAAJ;AACA;AACA,WAASC,UAAT,CAAoBte,OAApB,EAA6B;AAC3B,QAAIA,QAAQvJ,gBAAR,IAA4B,IAAhC,EAAsC;AAAE,aAAOuJ,QAAQvJ,gBAAf;AAAiC;AACzE,QAAI4nB,eAAe,IAAnB,EAAyB;AACvBA,oBAAc7yB,IAAI,KAAJ,CAAd;AACA;AACA;AACA,WAAK,IAAIO,IAAI,CAAb,EAAgBA,IAAI,EAApB,EAAwB,EAAEA,CAA1B,EAA6B;AAC3BsyB,oBAAY9yB,WAAZ,CAAwBxC,SAAS+C,cAAT,CAAwB,GAAxB,CAAxB;AACAuyB,oBAAY9yB,WAAZ,CAAwBC,IAAI,IAAJ,CAAxB;AACD;AACD6yB,kBAAY9yB,WAAZ,CAAwBxC,SAAS+C,cAAT,CAAwB,GAAxB,CAAxB;AACD;AACDT,yBAAqB2U,QAAQ3L,OAA7B,EAAsCgqB,WAAtC;AACA,QAAIlmB,SAASkmB,YAAYjZ,YAAZ,GAA2B,EAAxC;AACA,QAAIjN,SAAS,CAAb,EAAgB;AAAE6H,cAAQvJ,gBAAR,GAA2B0B,MAA3B;AAAmC;AACrDpN,mBAAeiV,QAAQ3L,OAAvB;AACA,WAAO8D,UAAU,CAAjB;AACD;;AAED;AACA,WAAS8hB,SAAT,CAAmBja,OAAnB,EAA4B;AAC1B,QAAIA,QAAQxJ,eAAR,IAA2B,IAA/B,EAAqC;AAAE,aAAOwJ,QAAQxJ,eAAf;AAAgC;AACvE,QAAI+nB,SAAS/yB,IAAI,MAAJ,EAAY,YAAZ,CAAb;AACA,QAAI8jB,MAAM9jB,IAAI,KAAJ,EAAW,CAAC+yB,MAAD,CAAX,CAAV;AACAlzB,yBAAqB2U,QAAQ3L,OAA7B,EAAsCib,GAAtC;AACA,QAAIuI,OAAO0G,OAAO7Y,qBAAP,EAAX;AAAA,QAA2C0Q,QAAQ,CAACyB,KAAKhS,KAAL,GAAagS,KAAKjS,IAAnB,IAA2B,EAA9E;AACA,QAAIwQ,QAAQ,CAAZ,EAAe;AAAEpW,cAAQxJ,eAAR,GAA0B4f,KAA1B;AAAiC;AAClD,WAAOA,SAAS,EAAhB;AACD;;AAED;AACA;AACA,WAAS0C,aAAT,CAAuB/Y,EAAvB,EAA2B;AACzB,QAAIhM,IAAIgM,GAAGC,OAAX;AAAA,QAAoB4F,OAAO,EAA3B;AAAA,QAA+BwQ,QAAQ,EAAvC;AACA,QAAIf,aAAathB,EAAEc,OAAF,CAAU2pB,UAA3B;AACA,SAAK,IAAIhvB,IAAIuE,EAAEc,OAAF,CAAUzJ,UAAlB,EAA8BW,IAAI,CAAvC,EAA0CyD,CAA1C,EAA6CA,IAAIA,EAAEimB,WAAN,EAAmB,EAAE1pB,CAAlE,EAAqE;AACnE6Z,WAAK7F,GAAG/G,OAAH,CAAWnE,OAAX,CAAmB9I,CAAnB,CAAL,IAA8ByD,EAAEivB,UAAF,GAAejvB,EAAEgvB,UAAjB,GAA8BnJ,UAA5D;AACAe,YAAMrW,GAAG/G,OAAH,CAAWnE,OAAX,CAAmB9I,CAAnB,CAAN,IAA+ByD,EAAEonB,WAAjC;AACD;AACD,WAAO,EAAC9B,UAAU4J,qBAAqB3qB,CAArB,CAAX;AACCghB,wBAAkBhhB,EAAEc,OAAF,CAAUwQ,WAD7B;AAECgQ,kBAAYzP,IAFb;AAGC2P,mBAAaa,KAHd;AAICC,oBAActiB,EAAEiB,OAAF,CAAU4hB,WAJzB,EAAP;AAKD;;AAED;AACA;AACA;AACA,WAAS8H,oBAAT,CAA8B1e,OAA9B,EAAuC;AACrC,WAAOA,QAAQjL,QAAR,CAAiB2Q,qBAAjB,GAAyCE,IAAzC,GAAgD5F,QAAQtL,KAAR,CAAcgR,qBAAd,GAAsCE,IAA7F;AACD;;AAED;AACA;AACA;AACA,WAAS+I,cAAT,CAAwB5O,EAAxB,EAA4B;AAC1B,QAAI4e,KAAKL,WAAWve,GAAGC,OAAd,CAAT;AAAA,QAAiC8X,WAAW/X,GAAG/G,OAAH,CAAW+e,YAAvD;AACA,QAAI6G,UAAU9G,YAAY/mB,KAAK8I,GAAL,CAAS,CAAT,EAAYkG,GAAGC,OAAH,CAAWjL,QAAX,CAAoB6hB,WAApB,GAAkCqD,UAAUla,GAAGC,OAAb,CAAlC,GAA0D,CAAtE,CAA1B;AACA,WAAO,UAAUlI,IAAV,EAAgB;AACrB,UAAIyH,aAAaQ,GAAGlM,GAAhB,EAAqBiE,IAArB,CAAJ,EAAgC;AAAE,eAAO,CAAP;AAAU;;AAE5C,UAAI+mB,gBAAgB,CAApB;AACA,UAAI/mB,KAAKge,OAAT,EAAkB;AAAE,aAAK,IAAI/pB,IAAI,CAAb,EAAgBA,IAAI+L,KAAKge,OAAL,CAAahrB,MAAjC,EAAyCiB,GAAzC,EAA8C;AAChE,cAAI+L,KAAKge,OAAL,CAAa/pB,CAAb,EAAgBoM,MAApB,EAA4B;AAAE0mB,6BAAiB/mB,KAAKge,OAAL,CAAa/pB,CAAb,EAAgBoM,MAAjC;AAAyC;AACxE;AAAE;;AAEH,UAAI2f,QAAJ,EACE;AAAE,eAAO+G,gBAAgB,CAAC9tB,KAAK0C,IAAL,CAAUqE,KAAKE,IAAL,CAAUlN,MAAV,GAAmB8zB,OAA7B,KAAyC,CAA1C,IAA+CD,EAAtE;AAA0E,OAD9E,MAGE;AAAE,eAAOE,gBAAgBF,EAAvB;AAA2B;AAChC,KAZD;AAaD;;AAED,WAASG,mBAAT,CAA6B/e,EAA7B,EAAiC;AAC/B,QAAIlM,MAAMkM,GAAGlM,GAAb;AAAA,QAAkBkrB,MAAMpQ,eAAe5O,EAAf,CAAxB;AACAlM,QAAIkE,IAAJ,CAAS,UAAUD,IAAV,EAAgB;AACvB,UAAI+W,YAAYkQ,IAAIjnB,IAAJ,CAAhB;AACA,UAAI+W,aAAa/W,KAAKK,MAAtB,EAA8B;AAAED,yBAAiBJ,IAAjB,EAAuB+W,SAAvB;AAAmC;AACpE,KAHD;AAID;;AAED;AACA;AACA;AACA;AACA;AACA,WAASmQ,YAAT,CAAsBjf,EAAtB,EAA0B/U,CAA1B,EAA6Bi0B,OAA7B,EAAsCC,OAAtC,EAA+C;AAC7C,QAAIlf,UAAUD,GAAGC,OAAjB;AACA,QAAI,CAACif,OAAD,IAAYva,SAAS1Z,CAAT,EAAY8rB,YAAZ,CAAyB,gBAAzB,KAA8C,MAA9D,EAAsE;AAAE,aAAO,IAAP;AAAa;;AAErF,QAAIrd,CAAJ;AAAA,QAAOsjB,CAAP;AAAA,QAAUoC,QAAQnf,QAAQzL,SAAR,CAAkBmR,qBAAlB,EAAlB;AACA;AACA,QAAI;AAAEjM,UAAIzO,EAAEo0B,OAAF,GAAYD,MAAMvZ,IAAtB,CAA4BmX,IAAI/xB,EAAEq0B,OAAF,GAAYF,MAAM9G,GAAtB;AAA2B,KAA7D,CACA,OAAOrtB,CAAP,EAAU;AAAE,aAAO,IAAP;AAAa;AACzB,QAAI+wB,SAASe,YAAW/c,EAAX,EAAetG,CAAf,EAAkBsjB,CAAlB,CAAb;AAAA,QAAmCjlB,IAAnC;AACA,QAAIonB,WAAWnD,OAAOc,IAAP,IAAe,CAA1B,IAA+B,CAAC/kB,OAAOR,QAAQyI,GAAGlM,GAAX,EAAgBkoB,OAAOjkB,IAAvB,EAA6BE,IAArC,EAA2ClN,MAA3C,IAAqDixB,OAAO1pB,EAA/F,EAAmG;AACjG,UAAIitB,UAAUpwB,YAAY4I,IAAZ,EAAkBA,KAAKhN,MAAvB,EAA+BiV,GAAG/G,OAAH,CAAW5J,OAA1C,IAAqD0I,KAAKhN,MAAxE;AACAixB,eAAS3iB,IAAI2iB,OAAOjkB,IAAX,EAAiB/G,KAAK8I,GAAL,CAAS,CAAT,EAAY9I,KAAKwuB,KAAL,CAAW,CAAC9lB,IAAIyd,SAASnX,GAAGC,OAAZ,EAAqB4F,IAA1B,IAAkCqU,UAAUla,GAAGC,OAAb,CAA7C,IAAsEsf,OAAlF,CAAjB,CAAT;AACD;AACD,WAAOvD,MAAP;AACD;;AAED;AACA;AACA,WAASlD,aAAT,CAAuB9Y,EAAvB,EAA2BvQ,CAA3B,EAA8B;AAC5B,QAAIA,KAAKuQ,GAAGC,OAAH,CAAW3K,MAApB,EAA4B;AAAE,aAAO,IAAP;AAAa;AAC3C7F,SAAKuQ,GAAGC,OAAH,CAAW5K,QAAhB;AACA,QAAI5F,IAAI,CAAR,EAAW;AAAE,aAAO,IAAP;AAAa;AAC1B,QAAIiG,OAAOsK,GAAGC,OAAH,CAAWvK,IAAtB;AACA,SAAK,IAAI1J,IAAI,CAAb,EAAgBA,IAAI0J,KAAK3K,MAAzB,EAAiCiB,GAAjC,EAAsC;AACpCyD,WAAKiG,KAAK1J,CAAL,EAAQwL,IAAb;AACA,UAAI/H,IAAI,CAAR,EAAW;AAAE,eAAOzD,CAAP;AAAU;AACxB;AACF;;AAED,WAASyzB,eAAT,CAAyBzf,EAAzB,EAA6B;AAC3BA,OAAGC,OAAH,CAAWlM,KAAX,CAAiB2rB,aAAjB,CAA+B1f,GAAGC,OAAH,CAAWlM,KAAX,CAAiB4rB,gBAAjB,EAA/B;AACD;;AAED,WAASA,gBAAT,CAA0B3f,EAA1B,EAA8B4f,OAA9B,EAAuC;AACrC,QAAKA,YAAY,KAAK,CAAtB,EAA0BA,UAAU,IAAV;;AAE1B,QAAI9rB,MAAMkM,GAAGlM,GAAb;AAAA,QAAkBkS,SAAS,EAA3B;AACA,QAAI6Z,cAAc7Z,OAAO8Z,OAAP,GAAiB92B,SAAS8nB,sBAAT,EAAnC;AACA,QAAIiP,cAAc/Z,OAAOQ,SAAP,GAAmBxd,SAAS8nB,sBAAT,EAArC;;AAEA,SAAK,IAAI9kB,IAAI,CAAb,EAAgBA,IAAI8H,IAAIksB,GAAJ,CAAQC,MAAR,CAAel1B,MAAnC,EAA2CiB,GAA3C,EAAgD;AAC9C,UAAI,CAAC4zB,OAAD,IAAY5zB,KAAK8H,IAAIksB,GAAJ,CAAQE,SAA7B,EAAwC;AAAE;AAAU;AACpD,UAAI/zB,QAAQ2H,IAAIksB,GAAJ,CAAQC,MAAR,CAAej0B,CAAf,CAAZ;AACA,UAAIG,MAAMmH,IAAN,GAAayE,IAAb,IAAqBiI,GAAGC,OAAH,CAAW3K,MAAhC,IAA0CnJ,MAAMoH,EAAN,GAAWwE,IAAX,GAAkBiI,GAAGC,OAAH,CAAW5K,QAA3E,EAAqF;AAAE;AAAU;AACjG,UAAIsJ,YAAYxS,MAAMg0B,KAAN,EAAhB;AACA,UAAIxhB,aAAaqB,GAAG/G,OAAH,CAAWmnB,uBAA5B,EACE;AAAEC,4BAAoBrgB,EAApB,EAAwB7T,MAAMm0B,IAA9B,EAAoCT,WAApC;AAAkD;AACtD,UAAI,CAAClhB,SAAL,EACE;AAAE4hB,2BAAmBvgB,EAAnB,EAAuB7T,KAAvB,EAA8B4zB,WAA9B;AAA4C;AACjD;AACD,WAAO/Z,MAAP;AACD;;AAED;AACA,WAASqa,mBAAT,CAA6BrgB,EAA7B,EAAiCsgB,IAAjC,EAAuCvS,MAAvC,EAA+C;AAC7C,QAAIld,MAAMurB,cAAapc,EAAb,EAAiBsgB,IAAjB,EAAuB,KAAvB,EAA8B,IAA9B,EAAoC,IAApC,EAA0C,CAACtgB,GAAG/G,OAAH,CAAWohB,yBAAtD,CAAV;;AAEA,QAAImG,SAASzS,OAAOviB,WAAP,CAAmBC,IAAI,KAAJ,EAAW,MAAX,EAAqB,mBAArB,CAAnB,CAAb;AACA+0B,WAAO50B,KAAP,CAAaia,IAAb,GAAoBhV,IAAIgV,IAAJ,GAAW,IAA/B;AACA2a,WAAO50B,KAAP,CAAa0sB,GAAb,GAAmBznB,IAAIynB,GAAJ,GAAU,IAA7B;AACAkI,WAAO50B,KAAP,CAAawM,MAAb,GAAsBpH,KAAK8I,GAAL,CAAS,CAAT,EAAYjJ,IAAIwnB,MAAJ,GAAaxnB,IAAIynB,GAA7B,IAAoCtY,GAAG/G,OAAH,CAAWwnB,YAA/C,GAA8D,IAApF;;AAEA,QAAI5vB,IAAI6rB,KAAR,EAAe;AACb;AACA,UAAIgE,cAAc3S,OAAOviB,WAAP,CAAmBC,IAAI,KAAJ,EAAW,MAAX,EAAqB,8CAArB,CAAnB,CAAlB;AACAi1B,kBAAY90B,KAAZ,CAAkBqU,OAAlB,GAA4B,EAA5B;AACAygB,kBAAY90B,KAAZ,CAAkBia,IAAlB,GAAyBhV,IAAI6rB,KAAJ,CAAU7W,IAAV,GAAiB,IAA1C;AACA6a,kBAAY90B,KAAZ,CAAkB0sB,GAAlB,GAAwBznB,IAAI6rB,KAAJ,CAAUpE,GAAV,GAAgB,IAAxC;AACAoI,kBAAY90B,KAAZ,CAAkBwM,MAAlB,GAA2B,CAACvH,IAAI6rB,KAAJ,CAAUrE,MAAV,GAAmBxnB,IAAI6rB,KAAJ,CAAUpE,GAA9B,IAAqC,GAArC,GAA2C,IAAtE;AACD;AACF;;AAED,WAASqI,SAAT,CAAmBhzB,CAAnB,EAAsBC,CAAtB,EAAyB;AAAE,WAAOD,EAAE2qB,GAAF,GAAQ1qB,EAAE0qB,GAAV,IAAiB3qB,EAAEkY,IAAF,GAASjY,EAAEiY,IAAnC;AAAyC;;AAEpE;AACA,WAAS0a,kBAAT,CAA4BvgB,EAA5B,EAAgC7T,KAAhC,EAAuC4hB,MAAvC,EAA+C;AAC7C,QAAI9N,UAAUD,GAAGC,OAAjB;AAAA,QAA0BnM,MAAMkM,GAAGlM,GAAnC;AACA,QAAI8sB,WAAW53B,SAAS8nB,sBAAT,EAAf;AACA,QAAI+P,UAAU1J,SAASnX,GAAGC,OAAZ,CAAd;AAAA,QAAoC6gB,WAAWD,QAAQhb,IAAvD;AACA,QAAIkb,YAAY/vB,KAAK8I,GAAL,CAASmG,QAAQrL,UAAjB,EAA6B8iB,aAAa1X,EAAb,IAAmBC,QAAQtL,KAAR,CAAc+pB,UAA9D,IAA4EmC,QAAQ/a,KAApG;AACA,QAAIkb,SAASltB,IAAIqN,SAAJ,IAAiB,KAA9B;;AAEA,aAAS8f,GAAT,CAAapb,IAAb,EAAmByS,GAAnB,EAAwBjC,KAAxB,EAA+BgC,MAA/B,EAAuC;AACrC,UAAIC,MAAM,CAAV,EAAa;AAAEA,cAAM,CAAN;AAAS;AACxBA,YAAMtnB,KAAKwuB,KAAL,CAAWlH,GAAX,CAAN;AACAD,eAASrnB,KAAKwuB,KAAL,CAAWnH,MAAX,CAAT;AACAuI,eAASp1B,WAAT,CAAqBC,IAAI,KAAJ,EAAW,IAAX,EAAiB,qBAAjB,EAAyC,+BAA+Boa,IAA/B,GAAsC,yCAAtC,GAAkFyS,GAAlF,GAAwF,aAAxF,IAAyGjC,SAAS,IAAT,GAAgB0K,YAAYlb,IAA5B,GAAmCwQ,KAA5I,IAAqJ,4CAArJ,IAAqMgC,SAASC,GAA9M,IAAqN,IAA9P,CAArB;AACD;;AAED,aAAS4I,WAAT,CAAqBnpB,IAArB,EAA2BopB,OAA3B,EAAoCC,KAApC,EAA2C;AACzC,UAAIxhB,UAAUrI,QAAQzD,GAAR,EAAaiE,IAAb,CAAd;AACA,UAAIspB,UAAUzhB,QAAQ3H,IAAR,CAAalN,MAA3B;AACA,UAAIsB,KAAJ,EAAWC,GAAX;AACA,eAAS0vB,MAAT,CAAgB1pB,EAAhB,EAAoBomB,IAApB,EAA0B;AACxB,eAAOyD,YAAWnc,EAAX,EAAe3G,IAAItB,IAAJ,EAAUzF,EAAV,CAAf,EAA8B,KAA9B,EAAqCsN,OAArC,EAA8C8Y,IAA9C,CAAP;AACD;;AAED,eAAS4I,KAAT,CAAezwB,GAAf,EAAoBqC,GAApB,EAAyBquB,IAAzB,EAA+B;AAC7B,YAAIC,SAASnE,sBAAsBrd,EAAtB,EAA0BJ,OAA1B,EAAmC,IAAnC,EAAyC/O,GAAzC,CAAb;AACA,YAAI5B,OAAQiE,OAAO,KAAR,KAAmBquB,QAAQ,OAA3B,IAAsC,MAAtC,GAA+C,OAA1D;AACA,YAAIjvB,KAAKivB,QAAQ,OAAR,GAAkBC,OAAOpE,KAAzB,GAAiCoE,OAAOl1B,GAAP,IAAc,KAAK7D,IAAL,CAAUmX,QAAQ3H,IAAR,CAAa9E,MAAb,CAAoBquB,OAAOl1B,GAAP,GAAa,CAAjC,CAAV,IAAiD,CAAjD,GAAqD,CAAnE,CAA1C;AACA,eAAO0vB,OAAO1pB,EAAP,EAAWrD,IAAX,EAAiBA,IAAjB,CAAP;AACD;;AAED,UAAIkR,QAAQwC,SAAS/C,OAAT,EAAkB9L,IAAIqN,SAAtB,CAAZ;AACAjB,0BAAoBC,KAApB,EAA2BghB,WAAW,CAAtC,EAAyCC,SAAS,IAAT,GAAgBC,OAAhB,GAA0BD,KAAnE,EAA0E,UAAU9tB,IAAV,EAAgBC,EAAhB,EAAoBL,GAApB,EAAyBlH,CAAzB,EAA4B;AACpG,YAAIyxB,MAAMvqB,OAAO,KAAjB;AACA,YAAIuuB,UAAUzF,OAAO1oB,IAAP,EAAamqB,MAAM,MAAN,GAAe,OAA5B,CAAd;AACA,YAAIiE,QAAQ1F,OAAOzoB,KAAK,CAAZ,EAAekqB,MAAM,OAAN,GAAgB,MAA/B,CAAZ;;AAEA,YAAIkE,YAAYR,WAAW,IAAX,IAAmB7tB,QAAQ,CAA3C;AAAA,YAA8CsuB,UAAUR,SAAS,IAAT,IAAiB7tB,MAAM8tB,OAA/E;AACA,YAAI9rB,QAAQvJ,KAAK,CAAjB;AAAA,YAAoBgO,OAAO,CAACmG,KAAD,IAAUnU,KAAKmU,MAAMpV,MAAN,GAAe,CAAzD;AACA,YAAI22B,MAAMpJ,GAAN,GAAYmJ,QAAQnJ,GAApB,IAA2B,CAA/B,EAAkC;AAAE;AAClC,cAAIuJ,WAAW,CAACb,SAASW,SAAT,GAAqBC,OAAtB,KAAkCrsB,KAAjD;AACA,cAAIusB,YAAY,CAACd,SAASY,OAAT,GAAmBD,SAApB,KAAkC3nB,IAAlD;AACA,cAAI6L,OAAOgc,WAAWf,QAAX,GAAsB,CAACrD,MAAMgE,OAAN,GAAgBC,KAAjB,EAAwB7b,IAAzD;AACA,cAAIC,QAAQgc,YAAYf,SAAZ,GAAwB,CAACtD,MAAMiE,KAAN,GAAcD,OAAf,EAAwB3b,KAA5D;AACAmb,cAAIpb,IAAJ,EAAU4b,QAAQnJ,GAAlB,EAAuBxS,QAAQD,IAA/B,EAAqC4b,QAAQpJ,MAA7C;AACD,SAND,MAMO;AAAE;AACP,cAAI0J,OAAJ,EAAaC,QAAb,EAAuBC,OAAvB,EAAgCC,QAAhC;AACA,cAAIzE,GAAJ,EAAS;AACPsE,sBAAUf,UAAUW,SAAV,IAAuBpsB,KAAvB,GAA+BurB,QAA/B,GAA0CW,QAAQ5b,IAA5D;AACAmc,uBAAWhB,SAASD,SAAT,GAAqBO,MAAMhuB,IAAN,EAAYJ,GAAZ,EAAiB,QAAjB,CAAhC;AACA+uB,sBAAUjB,SAASF,QAAT,GAAoBQ,MAAM/tB,EAAN,EAAUL,GAAV,EAAe,OAAf,CAA9B;AACAgvB,uBAAWlB,UAAUY,OAAV,IAAqB5nB,IAArB,GAA4B+mB,SAA5B,GAAwCW,MAAM5b,KAAzD;AACD,WALD,MAKO;AACLic,sBAAU,CAACf,MAAD,GAAUF,QAAV,GAAqBQ,MAAMhuB,IAAN,EAAYJ,GAAZ,EAAiB,QAAjB,CAA/B;AACA8uB,uBAAW,CAAChB,MAAD,IAAWW,SAAX,IAAwBpsB,KAAxB,GAAgCwrB,SAAhC,GAA4CU,QAAQ3b,KAA/D;AACAmc,sBAAU,CAACjB,MAAD,IAAWY,OAAX,IAAsB5nB,IAAtB,GAA6B8mB,QAA7B,GAAwCY,MAAM7b,IAAxD;AACAqc,uBAAW,CAAClB,MAAD,GAAUD,SAAV,GAAsBO,MAAM/tB,EAAN,EAAUL,GAAV,EAAe,OAAf,CAAjC;AACD;AACD+tB,cAAIc,OAAJ,EAAaN,QAAQnJ,GAArB,EAA0B0J,WAAWD,OAArC,EAA8CN,QAAQpJ,MAAtD;AACA,cAAIoJ,QAAQpJ,MAAR,GAAiBqJ,MAAMpJ,GAA3B,EAAgC;AAAE2I,gBAAIH,QAAJ,EAAcW,QAAQpJ,MAAtB,EAA8B,IAA9B,EAAoCqJ,MAAMpJ,GAA1C;AAAgD;AAClF2I,cAAIgB,OAAJ,EAAaP,MAAMpJ,GAAnB,EAAwB4J,WAAWD,OAAnC,EAA4CP,MAAMrJ,MAAlD;AACD;;AAED,YAAI,CAAChsB,KAAD,IAAUs0B,UAAUc,OAAV,EAAmBp1B,KAAnB,IAA4B,CAA1C,EAA6C;AAAEA,kBAAQo1B,OAAR;AAAiB;AAChE,YAAId,UAAUe,KAAV,EAAiBr1B,KAAjB,IAA0B,CAA9B,EAAiC;AAAEA,kBAAQq1B,KAAR;AAAe;AAClD,YAAI,CAACp1B,GAAD,IAAQq0B,UAAUc,OAAV,EAAmBn1B,GAAnB,IAA0B,CAAtC,EAAyC;AAAEA,gBAAMm1B,OAAN;AAAe;AAC1D,YAAId,UAAUe,KAAV,EAAiBp1B,GAAjB,IAAwB,CAA5B,EAA+B;AAAEA,gBAAMo1B,KAAN;AAAa;AAC/C,OAnCD;AAoCA,aAAO,EAACr1B,OAAOA,KAAR,EAAeC,KAAKA,GAApB,EAAP;AACD;;AAED,QAAI61B,QAAQh2B,MAAMmH,IAAN,EAAZ;AAAA,QAA0B8uB,MAAMj2B,MAAMoH,EAAN,EAAhC;AACA,QAAI4uB,MAAMpqB,IAAN,IAAcqqB,IAAIrqB,IAAtB,EAA4B;AAC1BmpB,kBAAYiB,MAAMpqB,IAAlB,EAAwBoqB,MAAM7vB,EAA9B,EAAkC8vB,IAAI9vB,EAAtC;AACD,KAFD,MAEO;AACL,UAAI+vB,WAAW9qB,QAAQzD,GAAR,EAAaquB,MAAMpqB,IAAnB,CAAf;AAAA,UAAyCuqB,SAAS/qB,QAAQzD,GAAR,EAAasuB,IAAIrqB,IAAjB,CAAlD;AACA,UAAIwqB,cAAcxjB,WAAWsjB,QAAX,KAAwBtjB,WAAWujB,MAAX,CAA1C;AACA,UAAIE,UAAUtB,YAAYiB,MAAMpqB,IAAlB,EAAwBoqB,MAAM7vB,EAA9B,EAAkCiwB,cAAcF,SAASpqB,IAAT,CAAclN,MAAd,GAAuB,CAArC,GAAyC,IAA3E,EAAiFuB,GAA/F;AACA,UAAIm2B,aAAavB,YAAYkB,IAAIrqB,IAAhB,EAAsBwqB,cAAc,CAAd,GAAkB,IAAxC,EAA8CH,IAAI9vB,EAAlD,EAAsDjG,KAAvE;AACA,UAAIk2B,WAAJ,EAAiB;AACf,YAAIC,QAAQlK,GAAR,GAAcmK,WAAWnK,GAAX,GAAiB,CAAnC,EAAsC;AACpC2I,cAAIuB,QAAQ1c,KAAZ,EAAmB0c,QAAQlK,GAA3B,EAAgC,IAAhC,EAAsCkK,QAAQnK,MAA9C;AACA4I,cAAIH,QAAJ,EAAc2B,WAAWnK,GAAzB,EAA8BmK,WAAW5c,IAAzC,EAA+C4c,WAAWpK,MAA1D;AACD,SAHD,MAGO;AACL4I,cAAIuB,QAAQ1c,KAAZ,EAAmB0c,QAAQlK,GAA3B,EAAgCmK,WAAW5c,IAAX,GAAkB2c,QAAQ1c,KAA1D,EAAiE0c,QAAQnK,MAAzE;AACD;AACF;AACD,UAAImK,QAAQnK,MAAR,GAAiBoK,WAAWnK,GAAhC,EACE;AAAE2I,YAAIH,QAAJ,EAAc0B,QAAQnK,MAAtB,EAA8B,IAA9B,EAAoCoK,WAAWnK,GAA/C;AAAqD;AAC1D;;AAEDvK,WAAOviB,WAAP,CAAmBo1B,QAAnB;AACD;;AAED;AACA,WAAS8B,YAAT,CAAsB1iB,EAAtB,EAA0B;AACxB,QAAI,CAACA,GAAGuI,KAAH,CAASoa,OAAd,EAAuB;AAAE;AAAQ;AACjC,QAAI1iB,UAAUD,GAAGC,OAAjB;AACA2iB,kBAAc3iB,QAAQ4iB,OAAtB;AACA,QAAIhgB,KAAK,IAAT;AACA5C,YAAQ5L,SAAR,CAAkBzI,KAAlB,CAAwBk3B,UAAxB,GAAqC,EAArC;AACA,QAAI9iB,GAAG/G,OAAH,CAAW8pB,eAAX,GAA6B,CAAjC,EACE;AAAE9iB,cAAQ4iB,OAAR,GAAkBG,YAAY,YAAY;AAAE,eAAO/iB,QAAQ5L,SAAR,CAAkBzI,KAAlB,CAAwBk3B,UAAxB,GAAqC,CAACjgB,KAAK,CAACA,EAAP,IAAa,EAAb,GAAkB,QAA9D;AAAyE,OAAnG,EAClB7C,GAAG/G,OAAH,CAAW8pB,eADO,CAAlB;AAC6B,KAFjC,MAGK,IAAI/iB,GAAG/G,OAAH,CAAW8pB,eAAX,GAA6B,CAAjC,EACH;AAAE9iB,cAAQ5L,SAAR,CAAkBzI,KAAlB,CAAwBk3B,UAAxB,GAAqC,QAArC;AAA+C;AACpD;;AAED,WAASG,WAAT,CAAqBjjB,EAArB,EAAyB;AACvB,QAAI,CAACA,GAAGuI,KAAH,CAASoa,OAAd,EAAuB;AAAE3iB,SAAGC,OAAH,CAAWlM,KAAX,CAAiBmvB,KAAjB,GAA0BC,QAAQnjB,EAAR;AAAa;AACjE;;AAED,WAASojB,cAAT,CAAwBpjB,EAAxB,EAA4B;AAC1BA,OAAGuI,KAAH,CAAS8a,iBAAT,GAA6B,IAA7B;AACApzB,eAAW,YAAY;AAAE,UAAI+P,GAAGuI,KAAH,CAAS8a,iBAAb,EAAgC;AACvDrjB,WAAGuI,KAAH,CAAS8a,iBAAT,GAA6B,KAA7B;AACAC,eAAOtjB,EAAP;AACD;AAAE,KAHH,EAGK,GAHL;AAID;;AAED,WAASmjB,OAAT,CAAiBnjB,EAAjB,EAAqB/U,CAArB,EAAwB;AACtB,QAAI+U,GAAGuI,KAAH,CAAS8a,iBAAb,EAAgC;AAAErjB,SAAGuI,KAAH,CAAS8a,iBAAT,GAA6B,KAA7B;AAAoC;;AAEtE,QAAIrjB,GAAG/G,OAAH,CAAWkE,QAAX,IAAuB,UAA3B,EAAuC;AAAE;AAAQ;AACjD,QAAI,CAAC6C,GAAGuI,KAAH,CAASoa,OAAd,EAAuB;AACrBrf,aAAOtD,EAAP,EAAW,OAAX,EAAoBA,EAApB,EAAwB/U,CAAxB;AACA+U,SAAGuI,KAAH,CAASoa,OAAT,GAAmB,IAAnB;AACAl1B,eAASuS,GAAGC,OAAH,CAAWhL,OAApB,EAA6B,oBAA7B;AACA;AACA;AACA;AACA,UAAI,CAAC+K,GAAGgE,KAAJ,IAAahE,GAAGC,OAAH,CAAW7I,iBAAX,IAAgC4I,GAAGlM,GAAH,CAAOksB,GAAxD,EAA6D;AAC3DhgB,WAAGC,OAAH,CAAWlM,KAAX,CAAiBwvB,KAAjB;AACA,YAAIr6B,MAAJ,EAAY;AAAE+G,qBAAW,YAAY;AAAE,mBAAO+P,GAAGC,OAAH,CAAWlM,KAAX,CAAiBwvB,KAAjB,CAAuB,IAAvB,CAAP;AAAsC,WAA/D,EAAiE,EAAjE;AAAsE,SAFzB,CAE0B;AACtF;AACDvjB,SAAGC,OAAH,CAAWlM,KAAX,CAAiByvB,aAAjB;AACD;AACDd,iBAAa1iB,EAAb;AACD;AACD,WAASsjB,MAAT,CAAgBtjB,EAAhB,EAAoB/U,CAApB,EAAuB;AACrB,QAAI+U,GAAGuI,KAAH,CAAS8a,iBAAb,EAAgC;AAAE;AAAQ;;AAE1C,QAAIrjB,GAAGuI,KAAH,CAASoa,OAAb,EAAsB;AACpBrf,aAAOtD,EAAP,EAAW,MAAX,EAAmBA,EAAnB,EAAuB/U,CAAvB;AACA+U,SAAGuI,KAAH,CAASoa,OAAT,GAAmB,KAAnB;AACAn4B,cAAQwV,GAAGC,OAAH,CAAWhL,OAAnB,EAA4B,oBAA5B;AACD;AACD2tB,kBAAc5iB,GAAGC,OAAH,CAAW4iB,OAAzB;AACA5yB,eAAW,YAAY;AAAE,UAAI,CAAC+P,GAAGuI,KAAH,CAASoa,OAAd,EAAuB;AAAE3iB,WAAGC,OAAH,CAAW9I,KAAX,GAAmB,KAAnB;AAA0B;AAAE,KAA9E,EAAgF,GAAhF;AACD;;AAED;AACA;AACA,WAASssB,uBAAT,CAAiCzjB,EAAjC,EAAqC;AACnC,QAAIC,UAAUD,GAAGC,OAAjB;AACA,QAAIyjB,aAAazjB,QAAQ9L,OAAR,CAAgB8iB,SAAjC;AACA,SAAK,IAAIjrB,IAAI,CAAb,EAAgBA,IAAIiU,QAAQvK,IAAR,CAAa3K,MAAjC,EAAyCiB,GAAzC,EAA8C;AAC5C,UAAIuM,MAAM0H,QAAQvK,IAAR,CAAa1J,CAAb,CAAV;AAAA,UAA2BoM,SAAU,KAAK,CAA1C;AACA,UAAIG,IAAI+Z,MAAR,EAAgB;AAAE;AAAU;AAC5B,UAAIxpB,MAAMC,aAAa,CAAvB,EAA0B;AACxB,YAAIqxB,MAAM7hB,IAAI9N,IAAJ,CAASwsB,SAAT,GAAqB1e,IAAI9N,IAAJ,CAAS4a,YAAxC;AACAjN,iBAASgiB,MAAMsJ,UAAf;AACAA,qBAAatJ,GAAb;AACD,OAJD,MAIO;AACL,YAAIoD,MAAMjlB,IAAI9N,IAAJ,CAASkb,qBAAT,EAAV;AACAvN,iBAASolB,IAAInF,MAAJ,GAAamF,IAAIlF,GAA1B;AACD;AACD,UAAIjgB,OAAOE,IAAIR,IAAJ,CAASK,MAAT,GAAkBA,MAA7B;AACA,UAAIA,SAAS,CAAb,EAAgB;AAAEA,iBAASmmB,WAAWte,OAAX,CAAT;AAA8B;AAChD,UAAI5H,OAAO,IAAP,IAAeA,OAAO,CAAC,IAA3B,EAAiC;AAC/BF,yBAAiBI,IAAIR,IAArB,EAA2BK,MAA3B;AACAurB,2BAAmBprB,IAAIR,IAAvB;AACA,YAAIQ,IAAIoX,IAAR,EAAc;AAAE,eAAK,IAAInS,IAAI,CAAb,EAAgBA,IAAIjF,IAAIoX,IAAJ,CAAS5kB,MAA7B,EAAqCyS,GAArC,EACd;AAAEmmB,+BAAmBprB,IAAIoX,IAAJ,CAASnS,CAAT,CAAnB;AAAiC;AAAE;AACxC;AACF;AACF;;AAED;AACA;AACA,WAASmmB,kBAAT,CAA4B5rB,IAA5B,EAAkC;AAChC,QAAIA,KAAKge,OAAT,EAAkB;AAAE,WAAK,IAAI/pB,IAAI,CAAb,EAAgBA,IAAI+L,KAAKge,OAAL,CAAahrB,MAAjC,EAAyC,EAAEiB,CAA3C,EAA8C;AAChE,YAAI43B,IAAI7rB,KAAKge,OAAL,CAAa/pB,CAAb,CAAR;AAAA,YAAyBT,SAASq4B,EAAEn5B,IAAF,CAAOqC,UAAzC;AACA,YAAIvB,MAAJ,EAAY;AAAEq4B,YAAExrB,MAAF,GAAW7M,OAAO8Z,YAAlB;AAAgC;AAC/C;AAAE;AACJ;;AAED;AACA;AACA;AACA,WAASwe,YAAT,CAAsB5jB,OAAtB,EAA+BnM,GAA/B,EAAoCgwB,QAApC,EAA8C;AAC5C,QAAIxL,MAAMwL,YAAYA,SAASxL,GAAT,IAAgB,IAA5B,GAAmCtnB,KAAK8I,GAAL,CAAS,CAAT,EAAYgqB,SAASxL,GAArB,CAAnC,GAA+DrY,QAAQjL,QAAR,CAAiBwmB,SAA1F;AACAlD,UAAMtnB,KAAK2C,KAAL,CAAW2kB,MAAMtB,WAAW/W,OAAX,CAAjB,CAAN;AACA,QAAIoY,SAASyL,YAAYA,SAASzL,MAAT,IAAmB,IAA/B,GAAsCyL,SAASzL,MAA/C,GAAwDC,MAAMrY,QAAQhL,OAAR,CAAgB2iB,YAA3F;;AAEA,QAAItkB,OAAOmF,cAAa3E,GAAb,EAAkBwkB,GAAlB,CAAX;AAAA,QAAmC/kB,KAAKkF,cAAa3E,GAAb,EAAkBukB,MAAlB,CAAxC;AACA;AACA;AACA,QAAIyL,YAAYA,SAASC,MAAzB,EAAiC;AAC/B,UAAIC,aAAaF,SAASC,MAAT,CAAgBzwB,IAAhB,CAAqByE,IAAtC;AAAA,UAA4CksB,WAAWH,SAASC,MAAT,CAAgBxwB,EAAhB,CAAmBwE,IAA1E;AACA,UAAIisB,aAAa1wB,IAAjB,EAAuB;AACrBA,eAAO0wB,UAAP;AACAzwB,aAAKkF,cAAa3E,GAAb,EAAkB6L,cAAapI,QAAQzD,GAAR,EAAakwB,UAAb,CAAb,IAAyC/jB,QAAQhL,OAAR,CAAgB2iB,YAA3E,CAAL;AACD,OAHD,MAGO,IAAI5mB,KAAKC,GAAL,CAASgzB,QAAT,EAAmBnwB,IAAIyL,QAAJ,EAAnB,KAAsChM,EAA1C,EAA8C;AACnDD,eAAOmF,cAAa3E,GAAb,EAAkB6L,cAAapI,QAAQzD,GAAR,EAAamwB,QAAb,CAAb,IAAuChkB,QAAQhL,OAAR,CAAgB2iB,YAAzE,CAAP;AACArkB,aAAK0wB,QAAL;AACD;AACF;AACD,WAAO,EAAC3wB,MAAMA,IAAP,EAAaC,IAAIvC,KAAK8I,GAAL,CAASvG,EAAT,EAAaD,OAAO,CAApB,CAAjB,EAAP;AACD;;AAED;AACA;AACA,WAAS4wB,iBAAT,CAA2BlkB,EAA3B,EAA+B;AAC7B,QAAIC,UAAUD,GAAGC,OAAjB;AAAA,QAA0BvK,OAAOuK,QAAQvK,IAAzC;AACA,QAAI,CAACuK,QAAQzJ,YAAT,KAA0B,CAACyJ,QAAQnL,OAAR,CAAgBzJ,UAAjB,IAA+B,CAAC2U,GAAG/G,OAAH,CAAW6b,WAArE,CAAJ,EAAuF;AAAE;AAAQ;AACjG,QAAIqP,OAAOxF,qBAAqB1e,OAArB,IAAgCA,QAAQjL,QAAR,CAAiBomB,UAAjD,GAA8Dpb,GAAGlM,GAAH,CAAOsnB,UAAhF;AACA,QAAIgJ,UAAUnkB,QAAQnL,OAAR,CAAgBwQ,WAA9B;AAAA,QAA2CO,OAAOse,OAAO,IAAzD;AACA,SAAK,IAAIn4B,IAAI,CAAb,EAAgBA,IAAI0J,KAAK3K,MAAzB,EAAiCiB,GAAjC,EAAsC;AAAE,UAAI,CAAC0J,KAAK1J,CAAL,EAAQsmB,MAAb,EAAqB;AAC3D,YAAItS,GAAG/G,OAAH,CAAW6b,WAAf,EAA4B;AAC1B,cAAIpf,KAAK1J,CAAL,EAAQ2oB,MAAZ,EACE;AAAEjf,iBAAK1J,CAAL,EAAQ2oB,MAAR,CAAe/oB,KAAf,CAAqBia,IAArB,GAA4BA,IAA5B;AAAkC;AACtC,cAAInQ,KAAK1J,CAAL,EAAQ4oB,gBAAZ,EACE;AAAElf,iBAAK1J,CAAL,EAAQ4oB,gBAAR,CAAyBhpB,KAAzB,CAA+Bia,IAA/B,GAAsCA,IAAtC;AAA4C;AACjD;AACD,YAAIwe,QAAQ3uB,KAAK1J,CAAL,EAAQypB,SAApB;AACA,YAAI4O,KAAJ,EAAW;AAAE,eAAK,IAAI7mB,IAAI,CAAb,EAAgBA,IAAI6mB,MAAMt5B,MAA1B,EAAkCyS,GAAlC,EACX;AAAE6mB,kBAAM7mB,CAAN,EAAS5R,KAAT,CAAeia,IAAf,GAAsBA,IAAtB;AAA4B;AAAE;AACnC;AAAE;AACH,QAAI7F,GAAG/G,OAAH,CAAW6b,WAAf,EACE;AAAE7U,cAAQnL,OAAR,CAAgBlJ,KAAhB,CAAsBia,IAAtB,GAA8Bse,OAAOC,OAAR,GAAmB,IAAhD;AAAsD;AAC3D;;AAED;AACA;AACA;AACA,WAASE,0BAAT,CAAoCtkB,EAApC,EAAwC;AACtC,QAAI,CAACA,GAAG/G,OAAH,CAAWic,WAAhB,EAA6B;AAAE,aAAO,KAAP;AAAc;AAC7C,QAAIphB,MAAMkM,GAAGlM,GAAb;AAAA,QAAkBkG,OAAOhB,cAAcgH,GAAG/G,OAAjB,EAA0BnF,IAAIyB,KAAJ,GAAYzB,IAAI0D,IAAhB,GAAuB,CAAjD,CAAzB;AAAA,QAA8EyI,UAAUD,GAAGC,OAA3F;AACA,QAAIjG,KAAKjP,MAAL,IAAekV,QAAQ1J,YAA3B,EAAyC;AACvC,UAAI9N,OAAOwX,QAAQ3L,OAAR,CAAgB9I,WAAhB,CAA4BC,IAAI,KAAJ,EAAW,CAACA,IAAI,KAAJ,EAAWuO,IAAX,CAAD,CAAX,EACI,6CADJ,CAA5B,CAAX;AAEA,UAAIuqB,SAAS97B,KAAK4C,UAAL,CAAgBia,WAA7B;AAAA,UAA0Cub,UAAUp4B,KAAK6c,WAAL,GAAmBif,MAAvE;AACAtkB,cAAQlL,UAAR,CAAmBnJ,KAAnB,CAAyByqB,KAAzB,GAAiC,EAAjC;AACApW,cAAQ3J,iBAAR,GAA4BtF,KAAK8I,GAAL,CAASyqB,MAAT,EAAiBtkB,QAAQlL,UAAR,CAAmBuQ,WAAnB,GAAiCub,OAAlD,IAA6D,CAAzF;AACA5gB,cAAQ5J,YAAR,GAAuB4J,QAAQ3J,iBAAR,GAA4BuqB,OAAnD;AACA5gB,cAAQ1J,YAAR,GAAuB0J,QAAQ3J,iBAAR,GAA4B0D,KAAKjP,MAAjC,GAA0C,CAAC,CAAlE;AACAkV,cAAQlL,UAAR,CAAmBnJ,KAAnB,CAAyByqB,KAAzB,GAAiCpW,QAAQ5J,YAAR,GAAuB,IAAxD;AACAmuB,wBAAkBxkB,EAAlB;AACA,aAAO,IAAP;AACD;AACD,WAAO,KAAP;AACD;;AAED;;AAEA;AACA;AACA,WAASykB,iBAAT,CAA2BzkB,EAA3B,EAA+B8X,IAA/B,EAAqC;AACnC,QAAItU,eAAexD,EAAf,EAAmB,sBAAnB,CAAJ,EAAgD;AAAE;AAAQ;;AAE1D,QAAIC,UAAUD,GAAGC,OAAjB;AAAA,QAA0Bud,MAAMvd,QAAQtL,KAAR,CAAcgR,qBAAd,EAAhC;AAAA,QAAuE+e,WAAW,IAAlF;AACA,QAAI5M,KAAKQ,GAAL,GAAWkF,IAAIlF,GAAf,GAAqB,CAAzB,EAA4B;AAAEoM,iBAAW,IAAX;AAAiB,KAA/C,MACK,IAAI5M,KAAKO,MAAL,GAAcmF,IAAIlF,GAAlB,IAAyBlS,OAAOue,WAAP,IAAsB37B,SAASmyB,eAAT,CAAyBvD,YAAxE,CAAJ,EAA2F;AAAE8M,iBAAW,KAAX;AAAkB;AACpH,QAAIA,YAAY,IAAZ,IAAoB,CAACj7B,OAAzB,EAAkC;AAChC,UAAIm7B,aAAan5B,IAAI,KAAJ,EAAW,QAAX,EAAqB,IAArB,EAA4B,yDAAyDqsB,KAAKQ,GAAL,GAAWrY,QAAQpK,UAAnB,GAAgCmhB,WAAWhX,GAAGC,OAAd,CAAzF,IAAmH,wCAAnH,IAA+J6X,KAAKO,MAAL,GAAcP,KAAKQ,GAAnB,GAAyBb,UAAUzX,EAAV,CAAzB,GAAyCC,QAAQ/J,SAAhN,IAA6N,sCAA7N,GAAuQ4hB,KAAKjS,IAA5Q,GAAoR,aAApR,GAAqS7U,KAAK8I,GAAL,CAAS,CAAT,EAAYge,KAAKhS,KAAL,GAAagS,KAAKjS,IAA9B,CAArS,GAA4U,KAAxW,CAAjB;AACA7F,SAAGC,OAAH,CAAWzL,SAAX,CAAqBhJ,WAArB,CAAiCo5B,UAAjC;AACAA,iBAAWC,cAAX,CAA0BH,QAA1B;AACA1kB,SAAGC,OAAH,CAAWzL,SAAX,CAAqBpJ,WAArB,CAAiCw5B,UAAjC;AACD;AACF;;AAED;AACA;AACA;AACA,WAASE,iBAAT,CAA2B9kB,EAA3B,EAA+BnP,GAA/B,EAAoCvE,GAApC,EAAyCy4B,MAAzC,EAAiD;AAC/C,QAAIA,UAAU,IAAd,EAAoB;AAAEA,eAAS,CAAT;AAAY;AAClC,QAAIjN,IAAJ;AACA,QAAI,CAAC9X,GAAG/G,OAAH,CAAW+e,YAAZ,IAA4BnnB,OAAOvE,GAAvC,EAA4C;AAC1C;AACA;AACA;AACAuE,YAAMA,IAAIyB,EAAJ,GAAS+G,IAAIxI,IAAIkH,IAAR,EAAclH,IAAIyI,MAAJ,IAAc,QAAd,GAAyBzI,IAAIyB,EAAJ,GAAS,CAAlC,GAAsCzB,IAAIyB,EAAxD,EAA4D,OAA5D,CAAT,GAAgFzB,GAAtF;AACAvE,YAAMuE,IAAIyI,MAAJ,IAAc,QAAd,GAAyBD,IAAIxI,IAAIkH,IAAR,EAAclH,IAAIyB,EAAJ,GAAS,CAAvB,EAA0B,QAA1B,CAAzB,GAA+DzB,GAArE;AACD;AACD,SAAK,IAAIm0B,QAAQ,CAAjB,EAAoBA,QAAQ,CAA5B,EAA+BA,OAA/B,EAAwC;AACtC,UAAIC,UAAU,KAAd;AACA,UAAIjJ,SAASI,cAAapc,EAAb,EAAiBnP,GAAjB,CAAb;AACA,UAAIq0B,YAAY,CAAC54B,GAAD,IAAQA,OAAOuE,GAAf,GAAqBmrB,MAArB,GAA8BI,cAAapc,EAAb,EAAiB1T,GAAjB,CAA9C;AACAwrB,aAAO,EAACjS,MAAM7U,KAAKC,GAAL,CAAS+qB,OAAOnW,IAAhB,EAAsBqf,UAAUrf,IAAhC,CAAP;AACCyS,aAAKtnB,KAAKC,GAAL,CAAS+qB,OAAO1D,GAAhB,EAAqB4M,UAAU5M,GAA/B,IAAsCyM,MAD5C;AAECjf,eAAO9U,KAAK8I,GAAL,CAASkiB,OAAOnW,IAAhB,EAAsBqf,UAAUrf,IAAhC,CAFR;AAGCwS,gBAAQrnB,KAAK8I,GAAL,CAASkiB,OAAO3D,MAAhB,EAAwB6M,UAAU7M,MAAlC,IAA4C0M,MAHrD,EAAP;AAIA,UAAII,YAAYC,mBAAmBplB,EAAnB,EAAuB8X,IAAvB,CAAhB;AACA,UAAIuN,WAAWrlB,GAAGlM,GAAH,CAAO0nB,SAAtB;AAAA,UAAiC8J,YAAYtlB,GAAGlM,GAAH,CAAOsnB,UAApD;AACA,UAAI+J,UAAU3J,SAAV,IAAuB,IAA3B,EAAiC;AAC/B+J,wBAAgBvlB,EAAhB,EAAoBmlB,UAAU3J,SAA9B;AACA,YAAIxqB,KAAKiW,GAAL,CAASjH,GAAGlM,GAAH,CAAO0nB,SAAP,GAAmB6J,QAA5B,IAAwC,CAA5C,EAA+C;AAAEJ,oBAAU,IAAV;AAAgB;AAClE;AACD,UAAIE,UAAU/J,UAAV,IAAwB,IAA5B,EAAkC;AAChCoK,sBAAcxlB,EAAd,EAAkBmlB,UAAU/J,UAA5B;AACA,YAAIpqB,KAAKiW,GAAL,CAASjH,GAAGlM,GAAH,CAAOsnB,UAAP,GAAoBkK,SAA7B,IAA0C,CAA9C,EAAiD;AAAEL,oBAAU,IAAV;AAAgB;AACpE;AACD,UAAI,CAACA,OAAL,EAAc;AAAE;AAAO;AACxB;AACD,WAAOnN,IAAP;AACD;;AAED;AACA,WAAS+M,cAAT,CAAwB7kB,EAAxB,EAA4B8X,IAA5B,EAAkC;AAChC,QAAIqN,YAAYC,mBAAmBplB,EAAnB,EAAuB8X,IAAvB,CAAhB;AACA,QAAIqN,UAAU3J,SAAV,IAAuB,IAA3B,EAAiC;AAAE+J,sBAAgBvlB,EAAhB,EAAoBmlB,UAAU3J,SAA9B;AAA0C;AAC7E,QAAI2J,UAAU/J,UAAV,IAAwB,IAA5B,EAAkC;AAAEoK,oBAAcxlB,EAAd,EAAkBmlB,UAAU/J,UAA5B;AAAyC;AAC9E;;AAED;AACA;AACA;AACA;AACA,WAASgK,kBAAT,CAA4BplB,EAA5B,EAAgC8X,IAAhC,EAAsC;AACpC,QAAI7X,UAAUD,GAAGC,OAAjB;AAAA,QAA0BwlB,aAAalH,WAAWve,GAAGC,OAAd,CAAvC;AACA,QAAI6X,KAAKQ,GAAL,GAAW,CAAf,EAAkB;AAAER,WAAKQ,GAAL,GAAW,CAAX;AAAc;AAClC,QAAIoN,YAAY1lB,GAAGgE,KAAH,IAAYhE,GAAGgE,KAAH,CAASwX,SAAT,IAAsB,IAAlC,GAAyCxb,GAAGgE,KAAH,CAASwX,SAAlD,GAA8Dvb,QAAQjL,QAAR,CAAiBwmB,SAA/F;AACA,QAAIlB,SAAS3C,cAAc3X,EAAd,CAAb;AAAA,QAAgCgG,SAAS,EAAzC;AACA,QAAI8R,KAAKO,MAAL,GAAcP,KAAKQ,GAAnB,GAAyBgC,MAA7B,EAAqC;AAAExC,WAAKO,MAAL,GAAcP,KAAKQ,GAAL,GAAWgC,MAAzB;AAAiC;AACxE,QAAIqL,YAAY3lB,GAAGlM,GAAH,CAAOsE,MAAP,GAAgB8e,YAAYjX,OAAZ,CAAhC;AACA,QAAI2lB,QAAQ9N,KAAKQ,GAAL,GAAWmN,UAAvB;AAAA,QAAmCI,WAAW/N,KAAKO,MAAL,GAAcsN,YAAYF,UAAxE;AACA,QAAI3N,KAAKQ,GAAL,GAAWoN,SAAf,EAA0B;AACxB1f,aAAOwV,SAAP,GAAmBoK,QAAQ,CAAR,GAAY9N,KAAKQ,GAApC;AACD,KAFD,MAEO,IAAIR,KAAKO,MAAL,GAAcqN,YAAYpL,MAA9B,EAAsC;AAC3C,UAAIwL,SAAS90B,KAAKC,GAAL,CAAS6mB,KAAKQ,GAAd,EAAmB,CAACuN,WAAWF,SAAX,GAAuB7N,KAAKO,MAA7B,IAAuCiC,MAA1D,CAAb;AACA,UAAIwL,UAAUJ,SAAd,EAAyB;AAAE1f,eAAOwV,SAAP,GAAmBsK,MAAnB;AAA2B;AACvD;;AAED,QAAIC,aAAa/lB,GAAGgE,KAAH,IAAYhE,GAAGgE,KAAH,CAASoX,UAAT,IAAuB,IAAnC,GAA0Cpb,GAAGgE,KAAH,CAASoX,UAAnD,GAAgEnb,QAAQjL,QAAR,CAAiBomB,UAAlG;AACA,QAAI4K,UAAUtO,aAAa1X,EAAb,KAAoBA,GAAG/G,OAAH,CAAW6b,WAAX,GAAyB7U,QAAQnL,OAAR,CAAgBwQ,WAAzC,GAAuD,CAA3E,CAAd;AACA,QAAI2gB,UAAUnO,KAAKhS,KAAL,GAAagS,KAAKjS,IAAlB,GAAyBmgB,OAAvC;AACA,QAAIC,OAAJ,EAAa;AAAEnO,WAAKhS,KAAL,GAAagS,KAAKjS,IAAL,GAAYmgB,OAAzB;AAAkC;AACjD,QAAIlO,KAAKjS,IAAL,GAAY,EAAhB,EACE;AAAEG,aAAOoV,UAAP,GAAoB,CAApB;AAAuB,KAD3B,MAEK,IAAItD,KAAKjS,IAAL,GAAYkgB,UAAhB,EACH;AAAE/f,aAAOoV,UAAP,GAAoBpqB,KAAK8I,GAAL,CAAS,CAAT,EAAYge,KAAKjS,IAAL,IAAaogB,UAAU,CAAV,GAAc,EAA3B,CAAZ,CAApB;AAAiE,KADhE,MAEA,IAAInO,KAAKhS,KAAL,GAAakgB,UAAUD,UAAV,GAAuB,CAAxC,EACH;AAAE/f,aAAOoV,UAAP,GAAoBtD,KAAKhS,KAAL,IAAcmgB,UAAU,CAAV,GAAc,EAA5B,IAAkCD,OAAtD;AAA+D;AACnE,WAAOhgB,MAAP;AACD;;AAED;AACA;AACA,WAASkgB,cAAT,CAAwBlmB,EAAxB,EAA4BsY,GAA5B,EAAiC;AAC/B,QAAIA,OAAO,IAAX,EAAiB;AAAE;AAAQ;AAC3B6N,uBAAmBnmB,EAAnB;AACAA,OAAGgE,KAAH,CAASwX,SAAT,GAAqB,CAACxb,GAAGgE,KAAH,CAASwX,SAAT,IAAsB,IAAtB,GAA6Bxb,GAAGlM,GAAH,CAAO0nB,SAApC,GAAgDxb,GAAGgE,KAAH,CAASwX,SAA1D,IAAuElD,GAA5F;AACD;;AAED;AACA;AACA,WAAS8N,mBAAT,CAA6BpmB,EAA7B,EAAiC;AAC/BmmB,uBAAmBnmB,EAAnB;AACA,QAAIzH,MAAMyH,GAAGqmB,SAAH,EAAV;AACArmB,OAAGgE,KAAH,CAASsiB,WAAT,GAAuB,EAAChzB,MAAMiF,GAAP,EAAYhF,IAAIgF,GAAhB,EAAqBwsB,QAAQ/kB,GAAG/G,OAAH,CAAWstB,kBAAxC,EAAvB;AACD;;AAED,WAASC,cAAT,CAAwBxmB,EAAxB,EAA4BtG,CAA5B,EAA+BsjB,CAA/B,EAAkC;AAChC,QAAItjB,KAAK,IAAL,IAAasjB,KAAK,IAAtB,EAA4B;AAAEmJ,yBAAmBnmB,EAAnB;AAAwB;AACtD,QAAItG,KAAK,IAAT,EAAe;AAAEsG,SAAGgE,KAAH,CAASoX,UAAT,GAAsB1hB,CAAtB;AAAyB;AAC1C,QAAIsjB,KAAK,IAAT,EAAe;AAAEhd,SAAGgE,KAAH,CAASwX,SAAT,GAAqBwB,CAArB;AAAwB;AAC1C;;AAED,WAASyJ,aAAT,CAAuBzmB,EAAvB,EAA2B7T,KAA3B,EAAkC;AAChCg6B,uBAAmBnmB,EAAnB;AACAA,OAAGgE,KAAH,CAASsiB,WAAT,GAAuBn6B,KAAvB;AACD;;AAED;AACA;AACA;AACA;AACA,WAASg6B,kBAAT,CAA4BnmB,EAA5B,EAAgC;AAC9B,QAAI7T,QAAQ6T,GAAGgE,KAAH,CAASsiB,WAArB;AACA,QAAIn6B,KAAJ,EAAW;AACT6T,SAAGgE,KAAH,CAASsiB,WAAT,GAAuB,IAAvB;AACA,UAAIhzB,OAAOqpB,eAAe3c,EAAf,EAAmB7T,MAAMmH,IAAzB,CAAX;AAAA,UAA2CC,KAAKopB,eAAe3c,EAAf,EAAmB7T,MAAMoH,EAAzB,CAAhD;AACAmzB,0BAAoB1mB,EAApB,EAAwB1M,IAAxB,EAA8BC,EAA9B,EAAkCpH,MAAM44B,MAAxC;AACD;AACF;;AAED,WAAS2B,mBAAT,CAA6B1mB,EAA7B,EAAiC1M,IAAjC,EAAuCC,EAAvC,EAA2CwxB,MAA3C,EAAmD;AACjD,QAAI4B,OAAOvB,mBAAmBplB,EAAnB,EAAuB;AAChC6F,YAAM7U,KAAKC,GAAL,CAASqC,KAAKuS,IAAd,EAAoBtS,GAAGsS,IAAvB,CAD0B;AAEhCyS,WAAKtnB,KAAKC,GAAL,CAASqC,KAAKglB,GAAd,EAAmB/kB,GAAG+kB,GAAtB,IAA6ByM,MAFF;AAGhCjf,aAAO9U,KAAK8I,GAAL,CAASxG,KAAKwS,KAAd,EAAqBvS,GAAGuS,KAAxB,CAHyB;AAIhCuS,cAAQrnB,KAAK8I,GAAL,CAASxG,KAAK+kB,MAAd,EAAsB9kB,GAAG8kB,MAAzB,IAAmC0M;AAJX,KAAvB,CAAX;AAMAyB,mBAAexmB,EAAf,EAAmB2mB,KAAKvL,UAAxB,EAAoCuL,KAAKnL,SAAzC;AACD;;AAED;AACA;AACA,WAAS+J,eAAT,CAAyBvlB,EAAzB,EAA6ByI,GAA7B,EAAkC;AAChC,QAAIzX,KAAKiW,GAAL,CAASjH,GAAGlM,GAAH,CAAO0nB,SAAP,GAAmB/S,GAA5B,IAAmC,CAAvC,EAA0C;AAAE;AAAQ;AACpD,QAAI,CAACjgB,KAAL,EAAY;AAAEo+B,0BAAoB5mB,EAApB,EAAwB,EAACsY,KAAK7P,GAAN,EAAxB;AAAqC;AACnDoe,iBAAa7mB,EAAb,EAAiByI,GAAjB,EAAsB,IAAtB;AACA,QAAIjgB,KAAJ,EAAW;AAAEo+B,0BAAoB5mB,EAApB;AAAyB;AACtC8mB,gBAAY9mB,EAAZ,EAAgB,GAAhB;AACD;;AAED,WAAS6mB,YAAT,CAAsB7mB,EAAtB,EAA0ByI,GAA1B,EAA+Bse,WAA/B,EAA4C;AAC1Cte,UAAMzX,KAAKC,GAAL,CAAS+O,GAAGC,OAAH,CAAWjL,QAAX,CAAoBgyB,YAApB,GAAmChnB,GAAGC,OAAH,CAAWjL,QAAX,CAAoB4iB,YAAhE,EAA8EnP,GAA9E,CAAN;AACA,QAAIzI,GAAGC,OAAH,CAAWjL,QAAX,CAAoBwmB,SAApB,IAAiC/S,GAAjC,IAAwC,CAACse,WAA7C,EAA0D;AAAE;AAAQ;AACpE/mB,OAAGlM,GAAH,CAAO0nB,SAAP,GAAmB/S,GAAnB;AACAzI,OAAGC,OAAH,CAAWgnB,UAAX,CAAsBJ,YAAtB,CAAmCpe,GAAnC;AACA,QAAIzI,GAAGC,OAAH,CAAWjL,QAAX,CAAoBwmB,SAApB,IAAiC/S,GAArC,EAA0C;AAAEzI,SAAGC,OAAH,CAAWjL,QAAX,CAAoBwmB,SAApB,GAAgC/S,GAAhC;AAAqC;AAClF;;AAED;AACA;AACA,WAAS+c,aAAT,CAAuBxlB,EAAvB,EAA2ByI,GAA3B,EAAgCye,UAAhC,EAA4CH,WAA5C,EAAyD;AACvDte,UAAMzX,KAAKC,GAAL,CAASwX,GAAT,EAAczI,GAAGC,OAAH,CAAWjL,QAAX,CAAoBmyB,WAApB,GAAkCnnB,GAAGC,OAAH,CAAWjL,QAAX,CAAoB6hB,WAApE,CAAN;AACA,QAAI,CAACqQ,aAAaze,OAAOzI,GAAGlM,GAAH,CAAOsnB,UAA3B,GAAwCpqB,KAAKiW,GAAL,CAASjH,GAAGlM,GAAH,CAAOsnB,UAAP,GAAoB3S,GAA7B,IAAoC,CAA7E,KAAmF,CAACse,WAAxF,EAAqG;AAAE;AAAQ;AAC/G/mB,OAAGlM,GAAH,CAAOsnB,UAAP,GAAoB3S,GAApB;AACAyb,sBAAkBlkB,EAAlB;AACA,QAAIA,GAAGC,OAAH,CAAWjL,QAAX,CAAoBomB,UAApB,IAAkC3S,GAAtC,EAA2C;AAAEzI,SAAGC,OAAH,CAAWjL,QAAX,CAAoBomB,UAApB,GAAiC3S,GAAjC;AAAsC;AACnFzI,OAAGC,OAAH,CAAWgnB,UAAX,CAAsBzB,aAAtB,CAAoC/c,GAApC;AACD;;AAED;;AAEA;AACA;AACA,WAAS2e,oBAAT,CAA8BpnB,EAA9B,EAAkC;AAChC,QAAIhM,IAAIgM,GAAGC,OAAX;AAAA,QAAoBmkB,UAAUpwB,EAAEc,OAAF,CAAUwQ,WAAxC;AACA,QAAI+hB,OAAOr2B,KAAKwuB,KAAL,CAAWxf,GAAGlM,GAAH,CAAOsE,MAAP,GAAgB8e,YAAYlX,GAAGC,OAAf,CAA3B,CAAX;AACA,WAAO;AACL2X,oBAAc5jB,EAAEgB,QAAF,CAAW4iB,YADpB;AAEL0P,kBAAYtzB,EAAEiB,OAAF,CAAU2iB,YAFjB;AAGLuP,mBAAanzB,EAAEgB,QAAF,CAAWmyB,WAHnB,EAGgCtQ,aAAa7iB,EAAEgB,QAAF,CAAW6hB,WAHxD;AAIL0Q,iBAAWvzB,EAAEiB,OAAF,CAAU4hB,WAJhB;AAKL2Q,eAASxnB,GAAG/G,OAAH,CAAW6b,WAAX,GAAyBsP,OAAzB,GAAmC,CALvC;AAMLqD,iBAAWJ,IANN;AAOLL,oBAAcK,OAAO5P,UAAUzX,EAAV,CAAP,GAAuBhM,EAAEkC,SAPlC;AAQLD,sBAAgBjC,EAAEiC,cARb;AASLuf,mBAAa4O;AATR,KAAP;AAWD;;AAED,MAAIsD,mBAAmB,SAAnBA,gBAAmB,CAAS7zB,KAAT,EAAgBtD,MAAhB,EAAwByP,EAAxB,EAA4B;AACjD,SAAKA,EAAL,GAAUA,EAAV;AACA,QAAI2nB,OAAO,KAAKA,IAAL,GAAYl8B,IAAI,KAAJ,EAAW,CAACA,IAAI,KAAJ,EAAW,IAAX,EAAiB,IAAjB,EAAuB,gBAAvB,CAAD,CAAX,EAAuD,uBAAvD,CAAvB;AACA,QAAIm8B,QAAQ,KAAKA,KAAL,GAAan8B,IAAI,KAAJ,EAAW,CAACA,IAAI,KAAJ,EAAW,IAAX,EAAiB,IAAjB,EAAuB,+BAAvB,CAAD,CAAX,EAAsE,uBAAtE,CAAzB;AACAoI,UAAM8zB,IAAN,EAAa9zB,MAAM+zB,KAAN;;AAEb/kB,OAAG8kB,IAAH,EAAS,QAAT,EAAmB,YAAY;AAC7B,UAAIA,KAAK/P,YAAT,EAAuB;AAAErnB,eAAOo3B,KAAKnM,SAAZ,EAAuB,UAAvB;AAAoC;AAC9D,KAFD;AAGA3Y,OAAG+kB,KAAH,EAAU,QAAV,EAAoB,YAAY;AAC9B,UAAIA,MAAM/Q,WAAV,EAAuB;AAAEtmB,eAAOq3B,MAAMxM,UAAb,EAAyB,YAAzB;AAAwC;AAClE,KAFD;;AAIA,SAAKyM,gBAAL,GAAwB,KAAxB;AACA;AACA,QAAI/+B,MAAMC,aAAa,CAAvB,EAA0B;AAAE,WAAK6+B,KAAL,CAAWh8B,KAAX,CAAiBk8B,SAAjB,GAA6B,KAAKH,IAAL,CAAU/7B,KAAV,CAAgBm8B,QAAhB,GAA2B,MAAxD;AAAgE;AAC7F,GAhBD;;AAkBAL,mBAAiBj5B,SAAjB,CAA2Bu5B,MAA3B,GAAoC,UAAU1zB,OAAV,EAAmB;AACrD,QAAI2zB,SAAS3zB,QAAQ6yB,WAAR,GAAsB7yB,QAAQuiB,WAAR,GAAsB,CAAzD;AACA,QAAIqR,SAAS5zB,QAAQ0yB,YAAR,GAAuB1yB,QAAQsjB,YAAR,GAAuB,CAA3D;AACA,QAAIuQ,SAAS7zB,QAAQ2B,cAArB;;AAEA,QAAIiyB,MAAJ,EAAY;AACV,WAAKP,IAAL,CAAU/7B,KAAV,CAAgBqU,OAAhB,GAA0B,OAA1B;AACA,WAAK0nB,IAAL,CAAU/7B,KAAV,CAAgBysB,MAAhB,GAAyB4P,SAASE,SAAS,IAAlB,GAAyB,GAAlD;AACA,UAAIC,cAAc9zB,QAAQgzB,UAAR,IAAsBW,SAASE,MAAT,GAAkB,CAAxC,CAAlB;AACA;AACA,WAAKR,IAAL,CAAUt8B,UAAV,CAAqBO,KAArB,CAA2BwM,MAA3B,GACEpH,KAAK8I,GAAL,CAAS,CAAT,EAAYxF,QAAQ0yB,YAAR,GAAuB1yB,QAAQsjB,YAA/B,GAA8CwQ,WAA1D,IAAyE,IAD3E;AAED,KAPD,MAOO;AACL,WAAKT,IAAL,CAAU/7B,KAAV,CAAgBqU,OAAhB,GAA0B,EAA1B;AACA,WAAK0nB,IAAL,CAAUt8B,UAAV,CAAqBO,KAArB,CAA2BwM,MAA3B,GAAoC,GAApC;AACD;;AAED,QAAI6vB,MAAJ,EAAY;AACV,WAAKL,KAAL,CAAWh8B,KAAX,CAAiBqU,OAAjB,GAA2B,OAA3B;AACA,WAAK2nB,KAAL,CAAWh8B,KAAX,CAAiBka,KAAjB,GAAyBoiB,SAASC,SAAS,IAAlB,GAAyB,GAAlD;AACA,WAAKP,KAAL,CAAWh8B,KAAX,CAAiBia,IAAjB,GAAwBvR,QAAQkzB,OAAR,GAAkB,IAA1C;AACA,UAAIa,aAAa/zB,QAAQizB,SAAR,GAAoBjzB,QAAQkzB,OAA5B,IAAuCU,SAASC,MAAT,GAAkB,CAAzD,CAAjB;AACA,WAAKP,KAAL,CAAWv8B,UAAX,CAAsBO,KAAtB,CAA4ByqB,KAA5B,GACErlB,KAAK8I,GAAL,CAAS,CAAT,EAAYxF,QAAQ6yB,WAAR,GAAsB7yB,QAAQuiB,WAA9B,GAA4CwR,UAAxD,IAAsE,IADxE;AAED,KAPD,MAOO;AACL,WAAKT,KAAL,CAAWh8B,KAAX,CAAiBqU,OAAjB,GAA2B,EAA3B;AACA,WAAK2nB,KAAL,CAAWv8B,UAAX,CAAsBO,KAAtB,CAA4ByqB,KAA5B,GAAoC,GAApC;AACD;;AAED,QAAI,CAAC,KAAKwR,gBAAN,IAA0BvzB,QAAQsjB,YAAR,GAAuB,CAArD,EAAwD;AACtD,UAAIuQ,UAAU,CAAd,EAAiB;AAAE,aAAKG,aAAL;AAAsB;AACzC,WAAKT,gBAAL,GAAwB,IAAxB;AACD;;AAED,WAAO,EAAC/hB,OAAOoiB,SAASC,MAAT,GAAkB,CAA1B,EAA6B9P,QAAQ4P,SAASE,MAAT,GAAkB,CAAvD,EAAP;AACD,GAnCD;;AAqCAT,mBAAiBj5B,SAAjB,CAA2B+2B,aAA3B,GAA2C,UAAU30B,GAAV,EAAe;AACxD,QAAI,KAAK+2B,KAAL,CAAWxM,UAAX,IAAyBvqB,GAA7B,EAAkC;AAAE,WAAK+2B,KAAL,CAAWxM,UAAX,GAAwBvqB,GAAxB;AAA6B;AACjE,QAAI,KAAK03B,YAAT,EAAuB;AAAE,WAAKC,kBAAL,CAAwB,KAAKZ,KAA7B,EAAoC,KAAKW,YAAzC,EAAuD,OAAvD;AAAiE;AAC3F,GAHD;;AAKAb,mBAAiBj5B,SAAjB,CAA2Bo4B,YAA3B,GAA0C,UAAUh2B,GAAV,EAAe;AACvD,QAAI,KAAK82B,IAAL,CAAUnM,SAAV,IAAuB3qB,GAA3B,EAAgC;AAAE,WAAK82B,IAAL,CAAUnM,SAAV,GAAsB3qB,GAAtB;AAA2B;AAC7D,QAAI,KAAK43B,WAAT,EAAsB;AAAE,WAAKD,kBAAL,CAAwB,KAAKb,IAA7B,EAAmC,KAAKc,WAAxC,EAAqD,MAArD;AAA8D;AACvF,GAHD;;AAKAf,mBAAiBj5B,SAAjB,CAA2B65B,aAA3B,GAA2C,YAAY;AACrD,QAAI1E,IAAI/5B,OAAO,CAACL,kBAAR,GAA6B,MAA7B,GAAsC,MAA9C;AACA,SAAKo+B,KAAL,CAAWh8B,KAAX,CAAiBwM,MAAjB,GAA0B,KAAKuvB,IAAL,CAAU/7B,KAAV,CAAgByqB,KAAhB,GAAwBuN,CAAlD;AACA,SAAKgE,KAAL,CAAWh8B,KAAX,CAAiB88B,aAAjB,GAAiC,KAAKf,IAAL,CAAU/7B,KAAV,CAAgB88B,aAAhB,GAAgC,MAAjE;AACA,SAAKH,YAAL,GAAoB,IAAI34B,OAAJ,EAApB;AACA,SAAK64B,WAAL,GAAmB,IAAI74B,OAAJ,EAAnB;AACD,GAND;;AAQA83B,mBAAiBj5B,SAAjB,CAA2B+5B,kBAA3B,GAAgD,UAAUG,GAAV,EAAeC,KAAf,EAAsBntB,IAAtB,EAA4B;AAC1EktB,QAAI/8B,KAAJ,CAAU88B,aAAV,GAA0B,MAA1B;AACA,aAASG,YAAT,GAAwB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA,UAAIrL,MAAMmL,IAAIhjB,qBAAJ,EAAV;AACA,UAAIla,MAAMgQ,QAAQ,MAAR,GAAiBzS,SAAS8/B,gBAAT,CAA0BtL,IAAI1X,KAAJ,GAAY,CAAtC,EAAyC,CAAC0X,IAAIlF,GAAJ,GAAUkF,IAAInF,MAAf,IAAyB,CAAlE,CAAjB,GACJrvB,SAAS8/B,gBAAT,CAA0B,CAACtL,IAAI1X,KAAJ,GAAY0X,IAAI3X,IAAjB,IAAyB,CAAnD,EAAsD2X,IAAInF,MAAJ,GAAa,CAAnE,CADN;AAEA,UAAI5sB,OAAOk9B,GAAX,EAAgB;AAAEA,YAAI/8B,KAAJ,CAAU88B,aAAV,GAA0B,MAA1B;AAAkC,OAApD,MACK;AAAEE,cAAM94B,GAAN,CAAU,IAAV,EAAgB+4B,YAAhB;AAA+B;AACvC;AACDD,UAAM94B,GAAN,CAAU,IAAV,EAAgB+4B,YAAhB;AACD,GAhBD;;AAkBAnB,mBAAiBj5B,SAAjB,CAA2Bs6B,KAA3B,GAAmC,YAAY;AAC7C,QAAIx9B,SAAS,KAAKq8B,KAAL,CAAW96B,UAAxB;AACAvB,WAAOH,WAAP,CAAmB,KAAKw8B,KAAxB;AACAr8B,WAAOH,WAAP,CAAmB,KAAKu8B,IAAxB;AACD,GAJD;;AAMA,MAAIqB,iBAAiB,SAAjBA,cAAiB,GAAY,CAAE,CAAnC;;AAEAA,iBAAev6B,SAAf,CAAyBu5B,MAAzB,GAAkC,YAAY;AAAE,WAAO,EAAC3P,QAAQ,CAAT,EAAYvS,OAAO,CAAnB,EAAP;AAA8B,GAA9E;AACAkjB,iBAAev6B,SAAf,CAAyB+2B,aAAzB,GAAyC,YAAY,CAAE,CAAvD;AACAwD,iBAAev6B,SAAf,CAAyBo4B,YAAzB,GAAwC,YAAY,CAAE,CAAtD;AACAmC,iBAAev6B,SAAf,CAAyBs6B,KAAzB,GAAiC,YAAY,CAAE,CAA/C;;AAEA,WAASE,gBAAT,CAA0BjpB,EAA1B,EAA8B1L,OAA9B,EAAuC;AACrC,QAAI,CAACA,OAAL,EAAc;AAAEA,gBAAU8yB,qBAAqBpnB,EAArB,CAAV;AAAoC;AACpD,QAAIkpB,aAAalpB,GAAGC,OAAH,CAAW9J,QAA5B;AAAA,QAAsCgzB,cAAcnpB,GAAGC,OAAH,CAAW/J,SAA/D;AACAkzB,0BAAsBppB,EAAtB,EAA0B1L,OAA1B;AACA,SAAK,IAAItI,IAAI,CAAb,EAAgBA,IAAI,CAAJ,IAASk9B,cAAclpB,GAAGC,OAAH,CAAW9J,QAAlC,IAA8CgzB,eAAenpB,GAAGC,OAAH,CAAW/J,SAAxF,EAAmGlK,GAAnG,EAAwG;AACtG,UAAIk9B,cAAclpB,GAAGC,OAAH,CAAW9J,QAAzB,IAAqC6J,GAAG/G,OAAH,CAAW+e,YAApD,EACE;AAAEyL,gCAAwBzjB,EAAxB;AAA6B;AACjCopB,4BAAsBppB,EAAtB,EAA0BonB,qBAAqBpnB,EAArB,CAA1B;AACAkpB,mBAAalpB,GAAGC,OAAH,CAAW9J,QAAxB,CAAkCgzB,cAAcnpB,GAAGC,OAAH,CAAW/J,SAAzB;AACnC;AACF;;AAED;AACA;AACA,WAASkzB,qBAAT,CAA+BppB,EAA/B,EAAmC1L,OAAnC,EAA4C;AAC1C,QAAIN,IAAIgM,GAAGC,OAAX;AACA,QAAIopB,QAAQr1B,EAAEizB,UAAF,CAAae,MAAb,CAAoB1zB,OAApB,CAAZ;;AAEAN,MAAEW,KAAF,CAAQ/I,KAAR,CAAcuJ,YAAd,GAA6B,CAACnB,EAAEmC,QAAF,GAAakzB,MAAMvjB,KAApB,IAA6B,IAA1D;AACA9R,MAAEW,KAAF,CAAQ/I,KAAR,CAAc09B,aAAd,GAA8B,CAACt1B,EAAEkC,SAAF,GAAcmzB,MAAMhR,MAArB,IAA+B,IAA7D;AACArkB,MAAEa,YAAF,CAAejJ,KAAf,CAAqB29B,YAArB,GAAoCF,MAAMhR,MAAN,GAAe,sBAAnD;;AAEA,QAAIgR,MAAMvjB,KAAN,IAAeujB,MAAMhR,MAAzB,EAAiC;AAC/BrkB,QAAEC,eAAF,CAAkBrI,KAAlB,CAAwBqU,OAAxB,GAAkC,OAAlC;AACAjM,QAAEC,eAAF,CAAkBrI,KAAlB,CAAwBwM,MAAxB,GAAiCixB,MAAMhR,MAAN,GAAe,IAAhD;AACArkB,QAAEC,eAAF,CAAkBrI,KAAlB,CAAwByqB,KAAxB,GAAgCgT,MAAMvjB,KAAN,GAAc,IAA9C;AACD,KAJD,MAIO;AAAE9R,QAAEC,eAAF,CAAkBrI,KAAlB,CAAwBqU,OAAxB,GAAkC,EAAlC;AAAsC;AAC/C,QAAIopB,MAAMhR,MAAN,IAAgBrY,GAAG/G,OAAH,CAAWuwB,0BAA3B,IAAyDxpB,GAAG/G,OAAH,CAAW6b,WAAxE,EAAqF;AACnF9gB,QAAEE,YAAF,CAAetI,KAAf,CAAqBqU,OAArB,GAA+B,OAA/B;AACAjM,QAAEE,YAAF,CAAetI,KAAf,CAAqBwM,MAArB,GAA8BixB,MAAMhR,MAAN,GAAe,IAA7C;AACArkB,QAAEE,YAAF,CAAetI,KAAf,CAAqByqB,KAArB,GAA6B/hB,QAAQkhB,WAAR,GAAsB,IAAnD;AACD,KAJD,MAIO;AAAExhB,QAAEE,YAAF,CAAetI,KAAf,CAAqBqU,OAArB,GAA+B,EAA/B;AAAmC;AAC7C;;AAED,MAAIwpB,iBAAiB,EAAC,UAAU/B,gBAAX,EAA6B,QAAQsB,cAArC,EAArB;;AAEA,WAASU,cAAT,CAAwB1pB,EAAxB,EAA4B;AAC1B,QAAIA,GAAGC,OAAH,CAAWgnB,UAAf,EAA2B;AACzBjnB,SAAGC,OAAH,CAAWgnB,UAAX,CAAsB8B,KAAtB;AACA,UAAI/oB,GAAGC,OAAH,CAAWgnB,UAAX,CAAsBx5B,QAA1B,EACE;AAAEjD,gBAAQwV,GAAGC,OAAH,CAAWhL,OAAnB,EAA4B+K,GAAGC,OAAH,CAAWgnB,UAAX,CAAsBx5B,QAAlD;AAA6D;AAClE;;AAEDuS,OAAGC,OAAH,CAAWgnB,UAAX,GAAwB,IAAIwC,eAAezpB,GAAG/G,OAAH,CAAW0wB,cAA1B,CAAJ,CAA8C,UAAUl/B,IAAV,EAAgB;AACpFuV,SAAGC,OAAH,CAAWhL,OAAX,CAAmBqf,YAAnB,CAAgC7pB,IAAhC,EAAsCuV,GAAGC,OAAH,CAAWhM,eAAjD;AACA;AACA4O,SAAGpY,IAAH,EAAS,WAAT,EAAsB,YAAY;AAChC,YAAIuV,GAAGuI,KAAH,CAASoa,OAAb,EAAsB;AAAE1yB,qBAAW,YAAY;AAAE,mBAAO+P,GAAGC,OAAH,CAAWlM,KAAX,CAAiBmvB,KAAjB,EAAP;AAAkC,WAA3D,EAA6D,CAA7D;AAAiE;AAC1F,OAFD;AAGAz4B,WAAKyB,YAAL,CAAkB,gBAAlB,EAAoC,MAApC;AACD,KAPuB,EAOrB,UAAU2E,GAAV,EAAe+4B,IAAf,EAAqB;AACtB,UAAIA,QAAQ,YAAZ,EAA0B;AAAEpE,sBAAcxlB,EAAd,EAAkBnP,GAAlB;AAAwB,OAApD,MACK;AAAE00B,wBAAgBvlB,EAAhB,EAAoBnP,GAApB;AAA0B;AAClC,KAVuB,EAUrBmP,EAVqB,CAAxB;AAWA,QAAIA,GAAGC,OAAH,CAAWgnB,UAAX,CAAsBx5B,QAA1B,EACE;AAAEA,eAASuS,GAAGC,OAAH,CAAWhL,OAApB,EAA6B+K,GAAGC,OAAH,CAAWgnB,UAAX,CAAsBx5B,QAAnD;AAA8D;AACnE;;AAED;AACA;AACA;AACA;AACA;;AAEA,MAAIo8B,WAAW,CAAf;AACA;AACA,WAASC,eAAT,CAAwB9pB,EAAxB,EAA4B;AAC1BA,OAAGgE,KAAH,GAAW;AACThE,UAAIA,EADK;AAET+pB,mBAAa,KAFJ,EAEgB;AACzBZ,mBAAanpB,GAAGlM,GAAH,CAAOsE,MAHX,EAGmB;AAC5B4gB,mBAAa,KAJJ,EAIgB;AACzBgR,mBAAa,IALJ,EAKgB;AACzBC,cAAQ,KANC,EAMgB;AACzBC,kBAAY,IAPH,EAOgB;AACzBjmB,8BAAwB,IARf,EAQqB;AAC9BiP,4BAAsB,CATb,EASgB;AACzBiX,wBAAkB,KAVT,EAUgB;AACzBC,qBAAe,KAXN,EAWgB;AACzBhP,kBAAY,IAZH,EAYSI,WAAW,IAZpB,EAY0B;AACnC8K,mBAAa,IAbJ,EAagB;AACzBpD,aAAO,KAdE;AAeTrzB,UAAI,EAAEg6B,QAfG,CAegB;AAfhB,KAAX;AAiBAnX,kBAAc1S,GAAGgE,KAAjB;AACD;;AAED;AACA,WAASqmB,aAAT,CAAsBrqB,EAAtB,EAA0B;AACxB,QAAI2S,KAAK3S,GAAGgE,KAAZ;AACAmP,oBAAgBR,EAAhB,EAAoB,UAAUK,KAAV,EAAiB;AACnC,WAAK,IAAIhnB,IAAI,CAAb,EAAgBA,IAAIgnB,MAAMJ,GAAN,CAAU7nB,MAA9B,EAAsCiB,GAAtC,EACE;AAAEgnB,cAAMJ,GAAN,CAAU5mB,CAAV,EAAagU,EAAb,CAAgBgE,KAAhB,GAAwB,IAAxB;AAA8B;AAClCsmB,oBAActX,KAAd;AACD,KAJD;AAKD;;AAED;AACA;AACA,WAASsX,aAAT,CAAuBtX,KAAvB,EAA8B;AAC5B,QAAIJ,MAAMI,MAAMJ,GAAhB;AACA,SAAK,IAAI5mB,IAAI,CAAb,EAAgBA,IAAI4mB,IAAI7nB,MAAxB,EAAgCiB,GAAhC,EAAqC;AACnC;AAAEu+B,sBAAgB3X,IAAI5mB,CAAJ,CAAhB;AAAyB;AAC7B,SAAK,IAAI4M,MAAM,CAAf,EAAkBA,MAAMga,IAAI7nB,MAA5B,EAAoC6N,KAApC,EAA2C;AACzC;AAAE4xB,sBAAgB5X,IAAIha,GAAJ,CAAhB;AAA2B;AAC/B,SAAK,IAAIiE,MAAM,CAAf,EAAkBA,MAAM+V,IAAI7nB,MAA5B,EAAoC8R,KAApC,EAA2C;AACzC;AAAE4tB,sBAAgB7X,IAAI/V,GAAJ,CAAhB;AAA2B;AAC/B,SAAK,IAAIC,MAAM,CAAf,EAAkBA,MAAM8V,IAAI7nB,MAA5B,EAAoC+R,KAApC,EAA2C;AACzC;AAAE4tB,sBAAgB9X,IAAI9V,GAAJ,CAAhB;AAA2B;AAC/B,SAAK,IAAI4E,MAAM,CAAf,EAAkBA,MAAMkR,IAAI7nB,MAA5B,EAAoC2W,KAApC,EAA2C;AACzC;AAAEipB,0BAAoB/X,IAAIlR,GAAJ,CAApB;AAA+B;AACpC;;AAED,WAAS6oB,eAAT,CAAyB5X,EAAzB,EAA6B;AAC3B,QAAI3S,KAAK2S,GAAG3S,EAAZ;AAAA,QAAgBC,UAAUD,GAAGC,OAA7B;AACA2qB,wBAAoB5qB,EAApB;AACA,QAAI2S,GAAGyX,aAAP,EAAsB;AAAErqB,kBAAYC,EAAZ;AAAiB;;AAEzC2S,OAAGkY,UAAH,GAAgBlY,GAAGoX,WAAH,IAAkBpX,GAAGqG,WAArB,IAAoCrG,GAAG6I,SAAH,IAAgB,IAApD,IACd7I,GAAG2T,WAAH,KAAmB3T,GAAG2T,WAAH,CAAehzB,IAAf,CAAoByE,IAApB,GAA2BkI,QAAQ5K,QAAnC,IACAsd,GAAG2T,WAAH,CAAe/yB,EAAf,CAAkBwE,IAAlB,IAA0BkI,QAAQ3K,MADrD,CADc,IAGd2K,QAAQnJ,cAAR,IAA0BkJ,GAAG/G,OAAH,CAAW+e,YAHvC;AAIArF,OAAGqV,MAAH,GAAYrV,GAAGkY,UAAH,IACV,IAAIC,aAAJ,CAAkB9qB,EAAlB,EAAsB2S,GAAGkY,UAAH,IAAiB,EAACvS,KAAK3F,GAAG6I,SAAT,EAAoBuI,QAAQpR,GAAG2T,WAA/B,EAAvC,EAAoF3T,GAAGqG,WAAvF,CADF;AAED;;AAED,WAASwR,eAAT,CAAyB7X,EAAzB,EAA6B;AAC3BA,OAAGoY,cAAH,GAAoBpY,GAAGkY,UAAH,IAAiBG,sBAAsBrY,GAAG3S,EAAzB,EAA6B2S,GAAGqV,MAAhC,CAArC;AACD;;AAED,WAASyC,eAAT,CAAyB9X,EAAzB,EAA6B;AAC3B,QAAI3S,KAAK2S,GAAG3S,EAAZ;AAAA,QAAgBC,UAAUD,GAAGC,OAA7B;AACA,QAAI0S,GAAGoY,cAAP,EAAuB;AAAEtH,8BAAwBzjB,EAAxB;AAA6B;;AAEtD2S,OAAGsY,UAAH,GAAgB7D,qBAAqBpnB,EAArB,CAAhB;;AAEA;AACA;AACA;AACA,QAAIC,QAAQnJ,cAAR,IAA0B,CAACkJ,GAAG/G,OAAH,CAAW+e,YAA1C,EAAwD;AACtDrF,SAAGuY,aAAH,GAAmBzS,YAAYzY,EAAZ,EAAgBC,QAAQrJ,OAAxB,EAAiCqJ,QAAQrJ,OAAR,CAAgBqB,IAAhB,CAAqBlN,MAAtD,EAA8D8a,IAA9D,GAAqE,CAAxF;AACA7F,SAAGC,OAAH,CAAWrL,UAAX,GAAwB+d,GAAGuY,aAA3B;AACAvY,SAAGsY,UAAH,CAAc9D,WAAd,GACEn2B,KAAK8I,GAAL,CAASmG,QAAQjL,QAAR,CAAiB6hB,WAA1B,EAAuC5W,QAAQtL,KAAR,CAAc+pB,UAAd,GAA2B/L,GAAGuY,aAA9B,GAA8CzT,UAAUzX,EAAV,CAA9C,GAA8DA,GAAGC,OAAH,CAAW9J,QAAhH,CADF;AAEAwc,SAAGwY,aAAH,GAAmBn6B,KAAK8I,GAAL,CAAS,CAAT,EAAYmG,QAAQtL,KAAR,CAAc+pB,UAAd,GAA2B/L,GAAGuY,aAA9B,GAA8CxT,aAAa1X,EAAb,CAA1D,CAAnB;AACD;;AAED,QAAI2S,GAAGoY,cAAH,IAAqBpY,GAAGwX,gBAA5B,EACE;AAAExX,SAAGyY,iBAAH,GAAuBnrB,QAAQlM,KAAR,CAAc4rB,gBAAd,EAAvB;AAAyD;AAC9D;;AAED,WAAS+K,eAAT,CAAyB/X,EAAzB,EAA6B;AAC3B,QAAI3S,KAAK2S,GAAG3S,EAAZ;;AAEA,QAAI2S,GAAGuY,aAAH,IAAoB,IAAxB,EAA8B;AAC5BlrB,SAAGC,OAAH,CAAWtL,KAAX,CAAiB/I,KAAjB,CAAuBm8B,QAAvB,GAAkCpV,GAAGuY,aAAH,GAAmB,IAArD;AACA,UAAIvY,GAAGwY,aAAH,GAAmBnrB,GAAGlM,GAAH,CAAOsnB,UAA9B,EACE;AAAEoK,sBAAcxlB,EAAd,EAAkBhP,KAAKC,GAAL,CAAS+O,GAAGC,OAAH,CAAWjL,QAAX,CAAoBomB,UAA7B,EAAyCzI,GAAGwY,aAA5C,CAAlB,EAA8E,IAA9E;AAAqF;AACzFnrB,SAAGC,OAAH,CAAWnJ,cAAX,GAA4B,KAA5B;AACD;;AAED,QAAIu0B,YAAY1Y,GAAGuQ,KAAH,IAAYvQ,GAAGuQ,KAAH,IAAY51B,WAAxC;AACA,QAAIqlB,GAAGyY,iBAAP,EACE;AAAEprB,SAAGC,OAAH,CAAWlM,KAAX,CAAiB2rB,aAAjB,CAA+B/M,GAAGyY,iBAAlC,EAAqDC,SAArD;AAAiE;AACrE,QAAI1Y,GAAGoY,cAAH,IAAqBpY,GAAGwW,WAAH,IAAkBnpB,GAAGlM,GAAH,CAAOsE,MAAlD,EACE;AAAE6wB,uBAAiBjpB,EAAjB,EAAqB2S,GAAGsY,UAAxB;AAAqC;AACzC,QAAItY,GAAGoY,cAAP,EACE;AAAEO,wBAAkBtrB,EAAlB,EAAsB2S,GAAGsY,UAAzB;AAAsC;;AAE1C,QAAItY,GAAGwX,gBAAP,EAAyB;AAAEzH,mBAAa1iB,EAAb;AAAkB;;AAE7C,QAAIA,GAAGuI,KAAH,CAASoa,OAAT,IAAoBhQ,GAAGqX,WAA3B,EACE;AAAEhqB,SAAGC,OAAH,CAAWlM,KAAX,CAAiBwvB,KAAjB,CAAuB5Q,GAAGsX,MAA1B;AAAmC;AACvC,QAAIoB,SAAJ,EAAe;AAAEpI,kBAAYtQ,GAAG3S,EAAf;AAAoB;AACtC;;AAED,WAAS2qB,mBAAT,CAA6BhY,EAA7B,EAAiC;AAC/B,QAAI3S,KAAK2S,GAAG3S,EAAZ;AAAA,QAAgBC,UAAUD,GAAGC,OAA7B;AAAA,QAAsCnM,MAAMkM,GAAGlM,GAA/C;;AAEA,QAAI6e,GAAGoY,cAAP,EAAuB;AAAEQ,wBAAkBvrB,EAAlB,EAAsB2S,GAAGqV,MAAzB;AAAkC;;AAE3D;AACA,QAAI/nB,QAAQhJ,WAAR,IAAuB,IAAvB,KAAgC0b,GAAG6I,SAAH,IAAgB,IAAhB,IAAwB7I,GAAGyI,UAAH,IAAiB,IAAzC,IAAiDzI,GAAG2T,WAApF,CAAJ,EACE;AAAErmB,cAAQhJ,WAAR,GAAsBgJ,QAAQ/I,WAAR,GAAsB,IAA5C;AAAkD;;AAEtD;AACA,QAAIyb,GAAG6I,SAAH,IAAgB,IAApB,EAA0B;AAAEqL,mBAAa7mB,EAAb,EAAiB2S,GAAG6I,SAApB,EAA+B7I,GAAGoU,WAAlC;AAAgD;;AAE5E,QAAIpU,GAAGyI,UAAH,IAAiB,IAArB,EAA2B;AAAEoK,oBAAcxlB,EAAd,EAAkB2S,GAAGyI,UAArB,EAAiC,IAAjC,EAAuC,IAAvC;AAA8C;AAC3E;AACA,QAAIzI,GAAG2T,WAAP,EAAoB;AAClB,UAAIxO,OAAOgN,kBAAkB9kB,EAAlB,EAAsBjG,SAAQjG,GAAR,EAAa6e,GAAG2T,WAAH,CAAehzB,IAA5B,CAAtB,EACkByG,SAAQjG,GAAR,EAAa6e,GAAG2T,WAAH,CAAe/yB,EAA5B,CADlB,EACmDof,GAAG2T,WAAH,CAAevB,MADlE,CAAX;AAEAN,wBAAkBzkB,EAAlB,EAAsB8X,IAAtB;AACD;;AAED;AACA;AACA,QAAIxF,SAASK,GAAG6Y,kBAAhB;AAAA,QAAoCC,WAAW9Y,GAAG+Y,oBAAlD;AACA,QAAIpZ,MAAJ,EAAY;AAAE,WAAK,IAAItmB,IAAI,CAAb,EAAgBA,IAAIsmB,OAAOvnB,MAA3B,EAAmC,EAAEiB,CAArC,EACZ;AAAE,YAAI,CAACsmB,OAAOtmB,CAAP,EAAUyI,KAAV,CAAgB1J,MAArB,EAA6B;AAAEuY,iBAAOgP,OAAOtmB,CAAP,CAAP,EAAkB,MAAlB;AAA2B;AAAE;AAAE;AAClE,QAAIy/B,QAAJ,EAAc;AAAE,WAAK,IAAI7yB,MAAM,CAAf,EAAkBA,MAAM6yB,SAAS1gC,MAAjC,EAAyC,EAAE6N,GAA3C,EACd;AAAE,YAAI6yB,SAAS7yB,GAAT,EAAcnE,KAAd,CAAoB1J,MAAxB,EAAgC;AAAEuY,iBAAOmoB,SAAS7yB,GAAT,CAAP,EAAsB,QAAtB;AAAiC;AAAE;AAAE;;AAE3E,QAAIqH,QAAQhL,OAAR,CAAgBoQ,YAApB,EACE;AAAEvR,UAAI0nB,SAAJ,GAAgBxb,GAAGC,OAAH,CAAWjL,QAAX,CAAoBwmB,SAApC;AAA+C;;AAEnD;AACA,QAAI7I,GAAGuX,UAAP,EACE;AAAE5mB,aAAOtD,EAAP,EAAW,SAAX,EAAsBA,EAAtB,EAA0B2S,GAAGuX,UAA7B;AAA0C;AAC9C,QAAIvX,GAAGqV,MAAP,EACE;AAAErV,SAAGqV,MAAH,CAAU2D,MAAV;AAAoB;AACzB;;AAED;AACA,WAASC,OAAT,CAAiB5rB,EAAjB,EAAqB1R,CAArB,EAAwB;AACtB,QAAI0R,GAAGgE,KAAP,EAAc;AAAE,aAAO1V,GAAP;AAAY;AAC5Bw7B,oBAAe9pB,EAAf;AACA,QAAI;AAAE,aAAO1R,GAAP;AAAY,KAAlB,SACQ;AAAE+7B,oBAAarqB,EAAb;AAAkB;AAC7B;AACD;AACA,WAAS6rB,SAAT,CAAmB7rB,EAAnB,EAAuB1R,CAAvB,EAA0B;AACxB,WAAO,YAAW;AAChB,UAAI0R,GAAGgE,KAAP,EAAc;AAAE,eAAO1V,EAAEM,KAAF,CAAQoR,EAAR,EAAYrR,SAAZ,CAAP;AAA+B;AAC/Cm7B,sBAAe9pB,EAAf;AACA,UAAI;AAAE,eAAO1R,EAAEM,KAAF,CAAQoR,EAAR,EAAYrR,SAAZ,CAAP;AAA+B,OAArC,SACQ;AAAE07B,sBAAarqB,EAAb;AAAkB;AAC7B,KALD;AAMD;AACD;AACA;AACA,WAAS8rB,QAAT,CAAkBx9B,CAAlB,EAAqB;AACnB,WAAO,YAAW;AAChB,UAAI,KAAK0V,KAAT,EAAgB;AAAE,eAAO1V,EAAEM,KAAF,CAAQ,IAAR,EAAcD,SAAd,CAAP;AAAiC;AACnDm7B,sBAAe,IAAf;AACA,UAAI;AAAE,eAAOx7B,EAAEM,KAAF,CAAQ,IAAR,EAAcD,SAAd,CAAP;AAAiC,OAAvC,SACQ;AAAE07B,sBAAa,IAAb;AAAoB;AAC/B,KALD;AAMD;AACD,WAAS0B,WAAT,CAAqBz9B,CAArB,EAAwB;AACtB,WAAO,YAAW;AAChB,UAAI0R,KAAK,KAAKA,EAAd;AACA,UAAI,CAACA,EAAD,IAAOA,GAAGgE,KAAd,EAAqB;AAAE,eAAO1V,EAAEM,KAAF,CAAQ,IAAR,EAAcD,SAAd,CAAP;AAAiC;AACxDm7B,sBAAe9pB,EAAf;AACA,UAAI;AAAE,eAAO1R,EAAEM,KAAF,CAAQ,IAAR,EAAcD,SAAd,CAAP;AAAiC,OAAvC,SACQ;AAAE07B,sBAAarqB,EAAb;AAAkB;AAC7B,KAND;AAOD;;AAED;AACA;AACA;AACA;AACA;AACA;AACA,WAASgsB,SAAT,CAAmBhsB,EAAnB,EAAuB1M,IAAvB,EAA6BC,EAA7B,EAAiC04B,OAAjC,EAA0C;AACxC,QAAI34B,QAAQ,IAAZ,EAAkB;AAAEA,aAAO0M,GAAGlM,GAAH,CAAOyB,KAAd;AAAqB;AACzC,QAAIhC,MAAM,IAAV,EAAgB;AAAEA,WAAKyM,GAAGlM,GAAH,CAAOyB,KAAP,GAAeyK,GAAGlM,GAAH,CAAO0D,IAA3B;AAAiC;AACnD,QAAI,CAACy0B,OAAL,EAAc;AAAEA,gBAAU,CAAV;AAAa;;AAE7B,QAAIhsB,UAAUD,GAAGC,OAAjB;AACA,QAAIgsB,WAAW14B,KAAK0M,QAAQ3K,MAAxB,KACC2K,QAAQjK,iBAAR,IAA6B,IAA7B,IAAqCiK,QAAQjK,iBAAR,GAA4B1C,IADlE,CAAJ,EAEE;AAAE2M,cAAQjK,iBAAR,GAA4B1C,IAA5B;AAAkC;;AAEtC0M,OAAGgE,KAAH,CAAS+lB,WAAT,GAAuB,IAAvB;;AAEA,QAAIz2B,QAAQ2M,QAAQ3K,MAApB,EAA4B;AAAE;AAC5B,UAAI+E,qBAAqB8E,aAAaa,GAAGlM,GAAhB,EAAqBR,IAArB,IAA6B2M,QAAQ3K,MAA9D,EACE;AAAE42B,kBAAUlsB,EAAV;AAAe;AACpB,KAHD,MAGO,IAAIzM,MAAM0M,QAAQ5K,QAAlB,EAA4B;AAAE;AACnC,UAAIgF,qBAAqBiF,gBAAgBU,GAAGlM,GAAnB,EAAwBP,KAAK04B,OAA7B,IAAwChsB,QAAQ5K,QAAzE,EAAmF;AACjF62B,kBAAUlsB,EAAV;AACD,OAFD,MAEO;AACLC,gBAAQ5K,QAAR,IAAoB42B,OAApB;AACAhsB,gBAAQ3K,MAAR,IAAkB22B,OAAlB;AACD;AACF,KAPM,MAOA,IAAI34B,QAAQ2M,QAAQ5K,QAAhB,IAA4B9B,MAAM0M,QAAQ3K,MAA9C,EAAsD;AAAE;AAC7D42B,gBAAUlsB,EAAV;AACD,KAFM,MAEA,IAAI1M,QAAQ2M,QAAQ5K,QAApB,EAA8B;AAAE;AACrC,UAAI82B,MAAMC,iBAAiBpsB,EAAjB,EAAqBzM,EAArB,EAAyBA,KAAK04B,OAA9B,EAAuC,CAAvC,CAAV;AACA,UAAIE,GAAJ,EAAS;AACPlsB,gBAAQvK,IAAR,GAAeuK,QAAQvK,IAAR,CAAa7K,KAAb,CAAmBshC,IAAIrhC,KAAvB,CAAf;AACAmV,gBAAQ5K,QAAR,GAAmB82B,IAAI/sB,KAAvB;AACAa,gBAAQ3K,MAAR,IAAkB22B,OAAlB;AACD,OAJD,MAIO;AACLC,kBAAUlsB,EAAV;AACD;AACF,KATM,MASA,IAAIzM,MAAM0M,QAAQ3K,MAAlB,EAA0B;AAAE;AACjC,UAAI+2B,QAAQD,iBAAiBpsB,EAAjB,EAAqB1M,IAArB,EAA2BA,IAA3B,EAAiC,CAAC,CAAlC,CAAZ;AACA,UAAI+4B,KAAJ,EAAW;AACTpsB,gBAAQvK,IAAR,GAAeuK,QAAQvK,IAAR,CAAa7K,KAAb,CAAmB,CAAnB,EAAsBwhC,MAAMvhC,KAA5B,CAAf;AACAmV,gBAAQ3K,MAAR,GAAiB+2B,MAAMjtB,KAAvB;AACD,OAHD,MAGO;AACL8sB,kBAAUlsB,EAAV;AACD;AACF,KARM,MAQA;AAAE;AACP,UAAIssB,SAASF,iBAAiBpsB,EAAjB,EAAqB1M,IAArB,EAA2BA,IAA3B,EAAiC,CAAC,CAAlC,CAAb;AACA,UAAIi5B,SAASH,iBAAiBpsB,EAAjB,EAAqBzM,EAArB,EAAyBA,KAAK04B,OAA9B,EAAuC,CAAvC,CAAb;AACA,UAAIK,UAAUC,MAAd,EAAsB;AACpBtsB,gBAAQvK,IAAR,GAAeuK,QAAQvK,IAAR,CAAa7K,KAAb,CAAmB,CAAnB,EAAsByhC,OAAOxhC,KAA7B,EACZkQ,MADY,CACLuX,eAAevS,EAAf,EAAmBssB,OAAOltB,KAA1B,EAAiCmtB,OAAOntB,KAAxC,CADK,EAEZpE,MAFY,CAELiF,QAAQvK,IAAR,CAAa7K,KAAb,CAAmB0hC,OAAOzhC,KAA1B,CAFK,CAAf;AAGAmV,gBAAQ3K,MAAR,IAAkB22B,OAAlB;AACD,OALD,MAKO;AACLC,kBAAUlsB,EAAV;AACD;AACF;;AAED,QAAIwU,MAAMvU,QAAQrK,gBAAlB;AACA,QAAI4e,GAAJ,EAAS;AACP,UAAIjhB,KAAKihB,IAAIpV,KAAb,EACE;AAAEoV,YAAIpV,KAAJ,IAAa6sB,OAAb;AAAsB,OAD1B,MAEK,IAAI34B,OAAOkhB,IAAIpV,KAAJ,GAAYoV,IAAIhd,IAA3B,EACH;AAAEyI,gBAAQrK,gBAAR,GAA2B,IAA3B;AAAiC;AACtC;AACF;;AAED;AACA;AACA,WAAS42B,aAAT,CAAuBxsB,EAAvB,EAA2BjI,IAA3B,EAAiC0D,IAAjC,EAAuC;AACrCuE,OAAGgE,KAAH,CAAS+lB,WAAT,GAAuB,IAAvB;AACA,QAAI9pB,UAAUD,GAAGC,OAAjB;AAAA,QAA0BuU,MAAMxU,GAAGC,OAAH,CAAWrK,gBAA3C;AACA,QAAI4e,OAAOzc,QAAQyc,IAAIpV,KAAnB,IAA4BrH,OAAOyc,IAAIpV,KAAJ,GAAYoV,IAAIhd,IAAvD,EACE;AAAEyI,cAAQrK,gBAAR,GAA2B,IAA3B;AAAiC;;AAErC,QAAImC,OAAOkI,QAAQ5K,QAAf,IAA2B0C,QAAQkI,QAAQ3K,MAA/C,EAAuD;AAAE;AAAQ;AACjE,QAAI+Z,WAAWpP,QAAQvK,IAAR,CAAaojB,cAAc9Y,EAAd,EAAkBjI,IAAlB,CAAb,CAAf;AACA,QAAIsX,SAAS5kB,IAAT,IAAiB,IAArB,EAA2B;AAAE;AAAQ;AACrC,QAAI6G,MAAM+d,SAASuE,OAAT,KAAqBvE,SAASuE,OAAT,GAAmB,EAAxC,CAAV;AACA,QAAIjkB,QAAQ2B,GAAR,EAAamK,IAAb,KAAsB,CAAC,CAA3B,EAA8B;AAAEnK,UAAIF,IAAJ,CAASqK,IAAT;AAAgB;AACjD;;AAED;AACA,WAASywB,SAAT,CAAmBlsB,EAAnB,EAAuB;AACrBA,OAAGC,OAAH,CAAW5K,QAAX,GAAsB2K,GAAGC,OAAH,CAAW3K,MAAX,GAAoB0K,GAAGlM,GAAH,CAAOyB,KAAjD;AACAyK,OAAGC,OAAH,CAAWvK,IAAX,GAAkB,EAAlB;AACAsK,OAAGC,OAAH,CAAWpK,UAAX,GAAwB,CAAxB;AACD;;AAED,WAASu2B,gBAAT,CAA0BpsB,EAA1B,EAA8BysB,IAA9B,EAAoCC,IAApC,EAA0Cx5B,GAA1C,EAA+C;AAC7C,QAAIpI,QAAQguB,cAAc9Y,EAAd,EAAkBysB,IAAlB,CAAZ;AAAA,QAAqCp0B,IAArC;AAAA,QAA2C3C,OAAOsK,GAAGC,OAAH,CAAWvK,IAA7D;AACA,QAAI,CAAC2E,iBAAD,IAAsBqyB,QAAQ1sB,GAAGlM,GAAH,CAAOyB,KAAP,GAAeyK,GAAGlM,GAAH,CAAO0D,IAAxD,EACE;AAAE,aAAO,EAAC1M,OAAOA,KAAR,EAAesU,OAAOstB,IAAtB,EAAP;AAAoC;AACxC,QAAIj9B,IAAIuQ,GAAGC,OAAH,CAAW5K,QAAnB;AACA,SAAK,IAAIrJ,IAAI,CAAb,EAAgBA,IAAIlB,KAApB,EAA2BkB,GAA3B,EACE;AAAEyD,WAAKiG,KAAK1J,CAAL,EAAQwL,IAAb;AAAmB;AACvB,QAAI/H,KAAKg9B,IAAT,EAAe;AACb,UAAIv5B,MAAM,CAAV,EAAa;AACX,YAAIpI,SAAS4K,KAAK3K,MAAL,GAAc,CAA3B,EAA8B;AAAE,iBAAO,IAAP;AAAa;AAC7CsN,eAAQ5I,IAAIiG,KAAK5K,KAAL,EAAY0M,IAAjB,GAAyBi1B,IAAhC;AACA3hC;AACD,OAJD,MAIO;AACLuN,eAAO5I,IAAIg9B,IAAX;AACD;AACDA,cAAQp0B,IAAR,CAAcq0B,QAAQr0B,IAAR;AACf;AACD,WAAO8G,aAAaa,GAAGlM,GAAhB,EAAqB44B,IAArB,KAA8BA,IAArC,EAA2C;AACzC,UAAI5hC,UAAUoI,MAAM,CAAN,GAAU,CAAV,GAAcwC,KAAK3K,MAAL,GAAc,CAAtC,CAAJ,EAA8C;AAAE,eAAO,IAAP;AAAa;AAC7D2hC,cAAQx5B,MAAMwC,KAAK5K,SAASoI,MAAM,CAAN,GAAU,CAAV,GAAc,CAAvB,CAAL,EAAgCsE,IAA9C;AACA1M,eAASoI,GAAT;AACD;AACD,WAAO,EAACpI,OAAOA,KAAR,EAAesU,OAAOstB,IAAtB,EAAP;AACD;;AAED;AACA;AACA,WAASC,UAAT,CAAoB3sB,EAApB,EAAwB1M,IAAxB,EAA8BC,EAA9B,EAAkC;AAChC,QAAI0M,UAAUD,GAAGC,OAAjB;AAAA,QAA0BvK,OAAOuK,QAAQvK,IAAzC;AACA,QAAIA,KAAK3K,MAAL,IAAe,CAAf,IAAoBuI,QAAQ2M,QAAQ3K,MAApC,IAA8C/B,MAAM0M,QAAQ5K,QAAhE,EAA0E;AACxE4K,cAAQvK,IAAR,GAAe6c,eAAevS,EAAf,EAAmB1M,IAAnB,EAAyBC,EAAzB,CAAf;AACA0M,cAAQ5K,QAAR,GAAmB/B,IAAnB;AACD,KAHD,MAGO;AACL,UAAI2M,QAAQ5K,QAAR,GAAmB/B,IAAvB,EACE;AAAE2M,gBAAQvK,IAAR,GAAe6c,eAAevS,EAAf,EAAmB1M,IAAnB,EAAyB2M,QAAQ5K,QAAjC,EAA2C2F,MAA3C,CAAkDiF,QAAQvK,IAA1D,CAAf;AAAgF,OADpF,MAEK,IAAIuK,QAAQ5K,QAAR,GAAmB/B,IAAvB,EACH;AAAE2M,gBAAQvK,IAAR,GAAeuK,QAAQvK,IAAR,CAAa7K,KAAb,CAAmBiuB,cAAc9Y,EAAd,EAAkB1M,IAAlB,CAAnB,CAAf;AAA4D;AAChE2M,cAAQ5K,QAAR,GAAmB/B,IAAnB;AACA,UAAI2M,QAAQ3K,MAAR,GAAiB/B,EAArB,EACE;AAAE0M,gBAAQvK,IAAR,GAAeuK,QAAQvK,IAAR,CAAasF,MAAb,CAAoBuX,eAAevS,EAAf,EAAmBC,QAAQ3K,MAA3B,EAAmC/B,EAAnC,CAApB,CAAf;AAA4E,OADhF,MAEK,IAAI0M,QAAQ3K,MAAR,GAAiB/B,EAArB,EACH;AAAE0M,gBAAQvK,IAAR,GAAeuK,QAAQvK,IAAR,CAAa7K,KAAb,CAAmB,CAAnB,EAAsBiuB,cAAc9Y,EAAd,EAAkBzM,EAAlB,CAAtB,CAAf;AAA6D;AAClE;AACD0M,YAAQ3K,MAAR,GAAiB/B,EAAjB;AACD;;AAED;AACA;AACA,WAASq5B,cAAT,CAAwB5sB,EAAxB,EAA4B;AAC1B,QAAItK,OAAOsK,GAAGC,OAAH,CAAWvK,IAAtB;AAAA,QAA4Bm3B,QAAQ,CAApC;AACA,SAAK,IAAI7gC,IAAI,CAAb,EAAgBA,IAAI0J,KAAK3K,MAAzB,EAAiCiB,GAAjC,EAAsC;AACpC,UAAIqjB,WAAW3Z,KAAK1J,CAAL,CAAf;AACA,UAAI,CAACqjB,SAASiD,MAAV,KAAqB,CAACjD,SAAS5kB,IAAV,IAAkB4kB,SAASuE,OAAhD,CAAJ,EAA8D;AAAE,UAAEiZ,KAAF;AAAS;AAC1E;AACD,WAAOA,KAAP;AACD;;AAED;;AAEA,WAAS/F,WAAT,CAAqB9mB,EAArB,EAAyB8sB,IAAzB,EAA+B;AAC7B,QAAI9sB,GAAGlM,GAAH,CAAOiZ,iBAAP,GAA2B/M,GAAGC,OAAH,CAAW3K,MAA1C,EACE;AAAE0K,SAAGuI,KAAH,CAASwkB,SAAT,CAAmBj9B,GAAnB,CAAuBg9B,IAAvB,EAA6Bz+B,KAAK2+B,eAAL,EAAsBhtB,EAAtB,CAA7B;AAAyD;AAC9D;;AAED,WAASgtB,eAAT,CAAyBhtB,EAAzB,EAA6B;AAC3B,QAAIlM,MAAMkM,GAAGlM,GAAb;AACA,QAAIA,IAAIiZ,iBAAJ,IAAyB/M,GAAGC,OAAH,CAAW3K,MAAxC,EAAgD;AAAE;AAAQ;AAC1D,QAAIhJ,MAAM,CAAC,IAAI2gC,IAAJ,EAAD,GAAYjtB,GAAG/G,OAAH,CAAWi0B,QAAjC;AACA,QAAI1hB,UAAUkB,iBAAiB1M,EAAjB,EAAqBlM,IAAIiZ,iBAAzB,CAAd;AACA,QAAIogB,eAAe,EAAnB;;AAEAr5B,QAAIkE,IAAJ,CAASwT,QAAQzT,IAAjB,EAAuB/G,KAAKC,GAAL,CAAS6C,IAAIyB,KAAJ,GAAYzB,IAAI0D,IAAzB,EAA+BwI,GAAGC,OAAH,CAAW3K,MAAX,GAAoB,GAAnD,CAAvB,EAAgF,UAAUyC,IAAV,EAAgB;AAC9F,UAAIyT,QAAQzT,IAAR,IAAgBiI,GAAGC,OAAH,CAAW5K,QAA/B,EAAyC;AAAE;AACzC,YAAI+3B,YAAYr1B,KAAKqU,MAArB;AACA,YAAIO,aAAa5U,KAAKE,IAAL,CAAUlN,MAAV,GAAmBiV,GAAG/G,OAAH,CAAW2T,kBAA9B,GAAmDtE,UAAUxU,IAAIwT,IAAd,EAAoBkE,QAAQjD,KAA5B,CAAnD,GAAwF,IAAzG;AACA,YAAI8kB,cAAc9hB,cAAcvL,EAAd,EAAkBjI,IAAlB,EAAwByT,OAAxB,EAAiC,IAAjC,CAAlB;AACA,YAAImB,UAAJ,EAAgB;AAAEnB,kBAAQjD,KAAR,GAAgBoE,UAAhB;AAA4B;AAC9C5U,aAAKqU,MAAL,GAAcihB,YAAYjhB,MAA1B;AACA,YAAIkhB,SAASv1B,KAAK+U,YAAlB;AAAA,YAAgCygB,SAASF,YAAYhhB,OAArD;AACA,YAAIkhB,MAAJ,EAAY;AAAEx1B,eAAK+U,YAAL,GAAoBygB,MAApB;AAA4B,SAA1C,MACK,IAAID,MAAJ,EAAY;AAAEv1B,eAAK+U,YAAL,GAAoB,IAApB;AAA0B;AAC7C,YAAI0gB,WAAW,CAACJ,SAAD,IAAcA,UAAUriC,MAAV,IAAoBgN,KAAKqU,MAAL,CAAYrhB,MAA9C,IACbuiC,UAAUC,MAAV,KAAqB,CAACD,MAAD,IAAW,CAACC,MAAZ,IAAsBD,OAAOhhB,OAAP,IAAkBihB,OAAOjhB,OAA/C,IAA0DghB,OAAO/gB,SAAP,IAAoBghB,OAAOhhB,SAA1G,CADF;AAEA,aAAK,IAAIvgB,IAAI,CAAb,EAAgB,CAACwhC,QAAD,IAAaxhC,IAAIohC,UAAUriC,MAA3C,EAAmD,EAAEiB,CAArD,EAAwD;AAAEwhC,qBAAWJ,UAAUphC,CAAV,KAAgB+L,KAAKqU,MAAL,CAAYpgB,CAAZ,CAA3B;AAA2C;AACrG,YAAIwhC,QAAJ,EAAc;AAAEL,uBAAa/7B,IAAb,CAAkBoa,QAAQzT,IAA1B;AAAiC;AACjDA,aAAK8U,UAAL,GAAkBrB,QAAQH,IAAR,EAAlB;AACAG,gBAAQN,QAAR;AACD,OAfD,MAeO;AACL,YAAInT,KAAKE,IAAL,CAAUlN,MAAV,IAAoBiV,GAAG/G,OAAH,CAAW2T,kBAAnC,EACE;AAAEO,sBAAYnN,EAAZ,EAAgBjI,KAAKE,IAArB,EAA2BuT,OAA3B;AAAqC;AACzCzT,aAAK8U,UAAL,GAAkBrB,QAAQzT,IAAR,GAAe,CAAf,IAAoB,CAApB,GAAwByT,QAAQH,IAAR,EAAxB,GAAyC,IAA3D;AACAG,gBAAQN,QAAR;AACD;AACD,UAAI,CAAC,IAAI+hB,IAAJ,EAAD,GAAY3gC,GAAhB,EAAqB;AACnBw6B,oBAAY9mB,EAAZ,EAAgBA,GAAG/G,OAAH,CAAWw0B,SAA3B;AACA,eAAO,IAAP;AACD;AACF,KA1BD;AA2BA35B,QAAIiZ,iBAAJ,GAAwBvB,QAAQzT,IAAhC;AACAjE,QAAIkZ,YAAJ,GAAmBhc,KAAK8I,GAAL,CAAShG,IAAIkZ,YAAb,EAA2BxB,QAAQzT,IAAnC,CAAnB;AACA,QAAIo1B,aAAapiC,MAAjB,EAAyB;AAAE6gC,cAAQ5rB,EAAR,EAAY,YAAY;AACjD,aAAK,IAAIhU,IAAI,CAAb,EAAgBA,IAAImhC,aAAapiC,MAAjC,EAAyCiB,GAAzC,EACE;AAAEwgC,wBAAcxsB,EAAd,EAAkBmtB,aAAanhC,CAAb,CAAlB,EAAmC,MAAnC;AAA4C;AACjD,OAH0B;AAGvB;AACL;;AAED;;AAEA,MAAI8+B,gBAAgB,SAAhBA,aAAgB,CAAS9qB,EAAT,EAAa8jB,QAAb,EAAuB4J,KAAvB,EAA8B;AAChD,QAAIztB,UAAUD,GAAGC,OAAjB;;AAEA,SAAK6jB,QAAL,GAAgBA,QAAhB;AACA;AACA,SAAK6J,OAAL,GAAe9J,aAAa5jB,OAAb,EAAsBD,GAAGlM,GAAzB,EAA8BgwB,QAA9B,CAAf;AACA,SAAK8J,cAAL,GAAsB,CAAC3tB,QAAQhL,OAAR,CAAgBqQ,WAAvC;AACA,SAAKuoB,aAAL,GAAqB5tB,QAAQhL,OAAR,CAAgB2iB,YAArC;AACA,SAAKtB,YAAL,GAAoBrW,QAAQhL,OAAR,CAAgB4hB,WAApC;AACA,SAAKiX,eAAL,GAAuBpW,aAAa1X,EAAb,CAAvB;AACA,SAAK0tB,KAAL,GAAaA,KAAb;AACA,SAAK/Z,IAAL,GAAYoF,cAAc/Y,EAAd,CAAZ;AACA,SAAK+tB,MAAL,GAAc,EAAd;AACD,GAbD;;AAeAjD,gBAAcr8B,SAAd,CAAwB6U,MAAxB,GAAiC,UAAUR,OAAV,EAAmBrH,IAAnB,EAAyB;AACxD,QAAIyI,WAAWpB,OAAX,EAAoBrH,IAApB,CAAJ,EACE;AAAE,WAAKsyB,MAAL,CAAY38B,IAAZ,CAAiBzC,SAAjB;AAA6B;AAClC,GAHD;AAIAm8B,gBAAcr8B,SAAd,CAAwBk9B,MAAxB,GAAiC,YAAY;AACzC,QAAI9hB,SAAS,IAAb;;AAEF,SAAK,IAAI7d,IAAI,CAAb,EAAgBA,IAAI,KAAK+hC,MAAL,CAAYhjC,MAAhC,EAAwCiB,GAAxC,EACE;AAAEsX,aAAO1U,KAAP,CAAa,IAAb,EAAmBib,OAAOkkB,MAAP,CAAc/hC,CAAd,CAAnB;AAAsC;AAC3C,GALD;;AAOA,WAAS4+B,mBAAT,CAA6B5qB,EAA7B,EAAiC;AAC/B,QAAIC,UAAUD,GAAGC,OAAjB;AACA,QAAI,CAACA,QAAQ7J,iBAAT,IAA8B6J,QAAQjL,QAAR,CAAiBsQ,WAAnD,EAAgE;AAC9DrF,cAAQhK,cAAR,GAAyBgK,QAAQjL,QAAR,CAAiBsQ,WAAjB,GAA+BrF,QAAQjL,QAAR,CAAiB6hB,WAAzE;AACA5W,cAAQpL,YAAR,CAAqBjJ,KAArB,CAA2BwM,MAA3B,GAAoCqf,UAAUzX,EAAV,IAAgB,IAApD;AACAC,cAAQtL,KAAR,CAAc/I,KAAd,CAAoBoiC,YAApB,GAAmC,CAAC/tB,QAAQhK,cAAT,GAA0B,IAA7D;AACAgK,cAAQtL,KAAR,CAAc/I,KAAd,CAAoBqiC,gBAApB,GAAuCxW,UAAUzX,EAAV,IAAgB,IAAvD;AACAC,cAAQ7J,iBAAR,GAA4B,IAA5B;AACD;AACF;;AAED,WAAS83B,iBAAT,CAA2BluB,EAA3B,EAA+B;AAC7B,QAAIA,GAAGmuB,QAAH,EAAJ,EAAmB;AAAE,aAAO,IAAP;AAAa;AAClC,QAAIC,SAAS9gC,WAAb;AACA,QAAI,CAAC8gC,MAAD,IAAW,CAAClhC,SAAS8S,GAAGC,OAAH,CAAW9L,OAApB,EAA6Bi6B,MAA7B,CAAhB,EAAsD;AAAE,aAAO,IAAP;AAAa;AACrE,QAAIpoB,SAAS,EAAC1Y,WAAW8gC,MAAZ,EAAb;AACA,QAAIhoB,OAAOC,YAAX,EAAyB;AACvB,UAAI2Z,MAAM5Z,OAAOC,YAAP,EAAV;AACA,UAAI2Z,IAAIqO,UAAJ,IAAkBrO,IAAIsO,MAAtB,IAAgCphC,SAAS8S,GAAGC,OAAH,CAAW9L,OAApB,EAA6B6rB,IAAIqO,UAAjC,CAApC,EAAkF;AAChFroB,eAAOqoB,UAAP,GAAoBrO,IAAIqO,UAAxB;AACAroB,eAAOuoB,YAAP,GAAsBvO,IAAIuO,YAA1B;AACAvoB,eAAOwoB,SAAP,GAAmBxO,IAAIwO,SAAvB;AACAxoB,eAAOyoB,WAAP,GAAqBzO,IAAIyO,WAAzB;AACD;AACF;AACD,WAAOzoB,MAAP;AACD;;AAED,WAAS0oB,gBAAT,CAA0BC,QAA1B,EAAoC;AAClC,QAAI,CAACA,QAAD,IAAa,CAACA,SAASrhC,SAAvB,IAAoCqhC,SAASrhC,SAAT,IAAsBA,WAA9D,EAA2E;AAAE;AAAQ;AACrFqhC,aAASrhC,SAAT,CAAmB41B,KAAnB;AACA,QAAIyL,SAASN,UAAT,IAAuBnhC,SAASlE,SAAS2D,IAAlB,EAAwBgiC,SAASN,UAAjC,CAAvB,IAAuEnhC,SAASlE,SAAS2D,IAAlB,EAAwBgiC,SAASH,SAAjC,CAA3E,EAAwH;AACtH,UAAIxO,MAAM5Z,OAAOC,YAAP,EAAV;AAAA,UAAiCla,QAAQnD,SAASoD,WAAT,EAAzC;AACAD,YAAMM,MAAN,CAAakiC,SAASN,UAAtB,EAAkCM,SAASJ,YAA3C;AACApiC,YAAMY,QAAN,CAAe,KAAf;AACAizB,UAAI4O,eAAJ;AACA5O,UAAI6O,QAAJ,CAAa1iC,KAAb;AACA6zB,UAAIsO,MAAJ,CAAWK,SAASH,SAApB,EAA+BG,SAASF,WAAxC;AACD;AACF;;AAED;AACA;AACA;AACA,WAASzD,qBAAT,CAA+BhrB,EAA/B,EAAmCgoB,MAAnC,EAA2C;AACzC,QAAI/nB,UAAUD,GAAGC,OAAjB;AAAA,QAA0BnM,MAAMkM,GAAGlM,GAAnC;;AAEA,QAAIk0B,OAAO4F,cAAX,EAA2B;AACzB1B,gBAAUlsB,EAAV;AACA,aAAO,KAAP;AACD;;AAED;AACA,QAAI,CAACgoB,OAAO0F,KAAR,IACA1F,OAAO2F,OAAP,CAAer6B,IAAf,IAAuB2M,QAAQ5K,QAD/B,IAC2C2yB,OAAO2F,OAAP,CAAep6B,EAAf,IAAqB0M,QAAQ3K,MADxE,KAEC2K,QAAQjK,iBAAR,IAA6B,IAA7B,IAAqCiK,QAAQjK,iBAAR,IAA6BiK,QAAQ3K,MAF3E,KAGA2K,QAAQtK,YAAR,IAAwBsK,QAAQvK,IAHhC,IAGwCk3B,eAAe5sB,EAAf,KAAsB,CAHlE,EAIE;AAAE,aAAO,KAAP;AAAc;;AAElB,QAAIskB,2BAA2BtkB,EAA3B,CAAJ,EAAoC;AAClCksB,gBAAUlsB,EAAV;AACAgoB,aAAOrU,IAAP,GAAcoF,cAAc/Y,EAAd,CAAd;AACD;;AAED;AACA,QAAI1T,MAAMwH,IAAIyB,KAAJ,GAAYzB,IAAI0D,IAA1B;AACA,QAAIlE,OAAOtC,KAAK8I,GAAL,CAASkuB,OAAO2F,OAAP,CAAer6B,IAAf,GAAsB0M,GAAG/G,OAAH,CAAW61B,cAA1C,EAA0Dh7B,IAAIyB,KAA9D,CAAX;AACA,QAAIhC,KAAKvC,KAAKC,GAAL,CAAS3E,GAAT,EAAc07B,OAAO2F,OAAP,CAAep6B,EAAf,GAAoByM,GAAG/G,OAAH,CAAW61B,cAA7C,CAAT;AACA,QAAI7uB,QAAQ5K,QAAR,GAAmB/B,IAAnB,IAA2BA,OAAO2M,QAAQ5K,QAAf,GAA0B,EAAzD,EAA6D;AAAE/B,aAAOtC,KAAK8I,GAAL,CAAShG,IAAIyB,KAAb,EAAoB0K,QAAQ5K,QAA5B,CAAP;AAA8C;AAC7G,QAAI4K,QAAQ3K,MAAR,GAAiB/B,EAAjB,IAAuB0M,QAAQ3K,MAAR,GAAiB/B,EAAjB,GAAsB,EAAjD,EAAqD;AAAEA,WAAKvC,KAAKC,GAAL,CAAS3E,GAAT,EAAc2T,QAAQ3K,MAAtB,CAAL;AAAoC;AAC3F,QAAI+E,iBAAJ,EAAuB;AACrB/G,aAAO6L,aAAaa,GAAGlM,GAAhB,EAAqBR,IAArB,CAAP;AACAC,WAAK+L,gBAAgBU,GAAGlM,GAAnB,EAAwBP,EAAxB,CAAL;AACD;;AAED,QAAIw7B,YAAYz7B,QAAQ2M,QAAQ5K,QAAhB,IAA4B9B,MAAM0M,QAAQ3K,MAA1C,IACd2K,QAAQnK,cAAR,IAA0BkyB,OAAO6F,aADnB,IACoC5tB,QAAQlK,aAAR,IAAyBiyB,OAAO1R,YADpF;AAEAqW,eAAW3sB,EAAX,EAAe1M,IAAf,EAAqBC,EAArB;;AAEA0M,YAAQpK,UAAR,GAAqB8J,cAAapI,QAAQyI,GAAGlM,GAAX,EAAgBmM,QAAQ5K,QAAxB,CAAb,CAArB;AACA;AACA2K,OAAGC,OAAH,CAAWvL,KAAX,CAAiB9I,KAAjB,CAAuB0sB,GAAvB,GAA6BrY,QAAQpK,UAAR,GAAqB,IAAlD;;AAEA,QAAIm5B,WAAWpC,eAAe5sB,EAAf,CAAf;AACA,QAAI,CAAC+uB,SAAD,IAAcC,YAAY,CAA1B,IAA+B,CAAChH,OAAO0F,KAAvC,IAAgDztB,QAAQtK,YAAR,IAAwBsK,QAAQvK,IAAhF,KACCuK,QAAQjK,iBAAR,IAA6B,IAA7B,IAAqCiK,QAAQjK,iBAAR,IAA6BiK,QAAQ3K,MAD3E,CAAJ,EAEE;AAAE,aAAO,KAAP;AAAc;;AAElB;AACA;AACA,QAAI25B,cAAcf,kBAAkBluB,EAAlB,CAAlB;AACA,QAAIgvB,WAAW,CAAf,EAAkB;AAAE/uB,cAAQ9L,OAAR,CAAgBvI,KAAhB,CAAsBqU,OAAtB,GAAgC,MAAhC;AAAwC;AAC5DivB,iBAAalvB,EAAb,EAAiBC,QAAQjK,iBAAzB,EAA4CgyB,OAAOrU,IAAnD;AACA,QAAIqb,WAAW,CAAf,EAAkB;AAAE/uB,cAAQ9L,OAAR,CAAgBvI,KAAhB,CAAsBqU,OAAtB,GAAgC,EAAhC;AAAoC;AACxDA,YAAQtK,YAAR,GAAuBsK,QAAQvK,IAA/B;AACA;AACA;AACAg5B,qBAAiBO,WAAjB;;AAEA;AACA;AACAjkC,mBAAeiV,QAAQ5L,SAAvB;AACArJ,mBAAeiV,QAAQ7L,YAAvB;AACA6L,YAAQnL,OAAR,CAAgBlJ,KAAhB,CAAsBwM,MAAtB,GAA+B6H,QAAQtL,KAAR,CAAc/I,KAAd,CAAoBk8B,SAApB,GAAgC,CAA/D;;AAEA,QAAIiH,SAAJ,EAAe;AACb9uB,cAAQnK,cAAR,GAAyBkyB,OAAO6F,aAAhC;AACA5tB,cAAQlK,aAAR,GAAwBiyB,OAAO1R,YAA/B;AACAwQ,kBAAY9mB,EAAZ,EAAgB,GAAhB;AACD;;AAEDC,YAAQjK,iBAAR,GAA4B,IAA5B;;AAEA,WAAO,IAAP;AACD;;AAED,WAASu1B,iBAAT,CAA2BvrB,EAA3B,EAA+BgoB,MAA/B,EAAuC;AACrC,QAAIlE,WAAWkE,OAAOlE,QAAtB;;AAEA,SAAK,IAAIvuB,QAAQ,IAAjB,GAAwBA,QAAQ,KAAhC,EAAuC;AACrC,UAAI,CAACA,KAAD,IAAU,CAACyK,GAAG/G,OAAH,CAAW+e,YAAtB,IAAsCgQ,OAAO8F,eAAP,IAA0BpW,aAAa1X,EAAb,CAApE,EAAsF;AACpF;AACA,YAAI8jB,YAAYA,SAASxL,GAAT,IAAgB,IAAhC,EACE;AAAEwL,qBAAW,EAACxL,KAAKtnB,KAAKC,GAAL,CAAS+O,GAAGlM,GAAH,CAAOsE,MAAP,GAAgB8e,YAAYlX,GAAGC,OAAf,CAAhB,GAA0C0X,cAAc3X,EAAd,CAAnD,EAAsE8jB,SAASxL,GAA/E,CAAN,EAAX;AAAuG;AAC3G;AACA;AACA0P,eAAO2F,OAAP,GAAiB9J,aAAa7jB,GAAGC,OAAhB,EAAyBD,GAAGlM,GAA5B,EAAiCgwB,QAAjC,CAAjB;AACA,YAAIkE,OAAO2F,OAAP,CAAer6B,IAAf,IAAuB0M,GAAGC,OAAH,CAAW5K,QAAlC,IAA8C2yB,OAAO2F,OAAP,CAAep6B,EAAf,IAAqByM,GAAGC,OAAH,CAAW3K,MAAlF,EACE;AAAE;AAAO;AACZ;AACD,UAAI,CAAC01B,sBAAsBhrB,EAAtB,EAA0BgoB,MAA1B,CAAL,EAAwC;AAAE;AAAO;AACjDvE,8BAAwBzjB,EAAxB;AACA,UAAIirB,aAAa7D,qBAAqBpnB,EAArB,CAAjB;AACAyf,sBAAgBzf,EAAhB;AACAipB,uBAAiBjpB,EAAjB,EAAqBirB,UAArB;AACAK,wBAAkBtrB,EAAlB,EAAsBirB,UAAtB;AACAjD,aAAO0F,KAAP,GAAe,KAAf;AACD;;AAED1F,WAAO1kB,MAAP,CAActD,EAAd,EAAkB,QAAlB,EAA4BA,EAA5B;AACA,QAAIA,GAAGC,OAAH,CAAW5K,QAAX,IAAuB2K,GAAGC,OAAH,CAAWzK,gBAAlC,IAAsDwK,GAAGC,OAAH,CAAW3K,MAAX,IAAqB0K,GAAGC,OAAH,CAAWxK,cAA1F,EAA0G;AACxGuyB,aAAO1kB,MAAP,CAActD,EAAd,EAAkB,gBAAlB,EAAoCA,EAApC,EAAwCA,GAAGC,OAAH,CAAW5K,QAAnD,EAA6D2K,GAAGC,OAAH,CAAW3K,MAAxE;AACA0K,SAAGC,OAAH,CAAWzK,gBAAX,GAA8BwK,GAAGC,OAAH,CAAW5K,QAAzC,CAAmD2K,GAAGC,OAAH,CAAWxK,cAAX,GAA4BuK,GAAGC,OAAH,CAAW3K,MAAvC;AACpD;AACF;;AAED,WAASsxB,mBAAT,CAA6B5mB,EAA7B,EAAiC8jB,QAAjC,EAA2C;AACzC,QAAIkE,SAAS,IAAI8C,aAAJ,CAAkB9qB,EAAlB,EAAsB8jB,QAAtB,CAAb;AACA,QAAIkH,sBAAsBhrB,EAAtB,EAA0BgoB,MAA1B,CAAJ,EAAuC;AACrCvE,8BAAwBzjB,EAAxB;AACAurB,wBAAkBvrB,EAAlB,EAAsBgoB,MAAtB;AACA,UAAIiD,aAAa7D,qBAAqBpnB,EAArB,CAAjB;AACAyf,sBAAgBzf,EAAhB;AACAipB,uBAAiBjpB,EAAjB,EAAqBirB,UAArB;AACAK,wBAAkBtrB,EAAlB,EAAsBirB,UAAtB;AACAjD,aAAO2D,MAAP;AACD;AACF;;AAED;AACA;AACA;AACA;AACA,WAASuD,YAAT,CAAsBlvB,EAAtB,EAA0BmvB,iBAA1B,EAA6Cxb,IAA7C,EAAmD;AACjD,QAAI1T,UAAUD,GAAGC,OAAjB;AAAA,QAA0BiV,cAAclV,GAAG/G,OAAH,CAAWic,WAAnD;AACA,QAAIka,YAAYnvB,QAAQ9L,OAAxB;AAAA,QAAiCoE,MAAM62B,UAAU/jC,UAAjD;;AAEA,aAASgkC,EAAT,CAAY5kC,IAAZ,EAAkB;AAChB,UAAI+e,OAAO/e,KAAKirB,WAAhB;AACA;AACA,UAAIxsB,UAAUW,GAAV,IAAiBmW,GAAGC,OAAH,CAAWqvB,kBAAX,IAAiC7kC,IAAtD,EACE;AAAEA,aAAKmB,KAAL,CAAWqU,OAAX,GAAqB,MAArB;AAA6B,OADjC,MAGE;AAAExV,aAAKqC,UAAL,CAAgB1B,WAAhB,CAA4BX,IAA5B;AAAmC;AACvC,aAAO+e,IAAP;AACD;;AAED,QAAI9T,OAAOuK,QAAQvK,IAAnB;AAAA,QAAyB0J,QAAQa,QAAQ5K,QAAzC;AACA;AACA;AACA,SAAK,IAAIrJ,IAAI,CAAb,EAAgBA,IAAI0J,KAAK3K,MAAzB,EAAiCiB,GAAjC,EAAsC;AACpC,UAAIqjB,WAAW3Z,KAAK1J,CAAL,CAAf;AACA,UAAIqjB,SAASiD,MAAb,EAAqB,CACpB,CADD,MACO,IAAI,CAACjD,SAAS5kB,IAAV,IAAkB4kB,SAAS5kB,IAAT,CAAcqC,UAAd,IAA4BsiC,SAAlD,EAA6D;AAAE;AACpE,YAAI3kC,OAAOmrB,iBAAiB5V,EAAjB,EAAqBqP,QAArB,EAA+BjQ,KAA/B,EAAsCuU,IAAtC,CAAX;AACAyb,kBAAU9a,YAAV,CAAuB7pB,IAAvB,EAA6B8N,GAA7B;AACD,OAHM,MAGA;AAAE;AACP,eAAOA,OAAO8W,SAAS5kB,IAAvB,EAA6B;AAAE8N,gBAAM82B,GAAG92B,GAAH,CAAN;AAAe;AAC9C,YAAIg3B,eAAera,eAAeia,qBAAqB,IAApC,IACjBA,qBAAqB/vB,KADJ,IACaiQ,SAASgG,UADzC;AAEA,YAAIhG,SAASuE,OAAb,EAAsB;AACpB,cAAIjkB,QAAQ0f,SAASuE,OAAjB,EAA0B,QAA1B,IAAsC,CAAC,CAA3C,EAA8C;AAAE2b,2BAAe,KAAf;AAAsB;AACtE7b,+BAAqB1T,EAArB,EAAyBqP,QAAzB,EAAmCjQ,KAAnC,EAA0CuU,IAA1C;AACD;AACD,YAAI4b,YAAJ,EAAkB;AAChBvkC,yBAAeqkB,SAASgG,UAAxB;AACAhG,mBAASgG,UAAT,CAAoB7pB,WAApB,CAAgCxC,SAAS+C,cAAT,CAAwBiN,cAAcgH,GAAG/G,OAAjB,EAA0BmG,KAA1B,CAAxB,CAAhC;AACD;AACD7G,cAAM8W,SAAS5kB,IAAT,CAAcirB,WAApB;AACD;AACDtW,eAASiQ,SAAS7X,IAAlB;AACD;AACD,WAAOe,GAAP,EAAY;AAAEA,YAAM82B,GAAG92B,GAAH,CAAN;AAAe;AAC9B;;AAED,WAASisB,iBAAT,CAA2BxkB,EAA3B,EAA+B;AAC7B,QAAIqW,QAAQrW,GAAGC,OAAH,CAAWnL,OAAX,CAAmBwQ,WAA/B;AACAtF,OAAGC,OAAH,CAAWtL,KAAX,CAAiB/I,KAAjB,CAAuB8qB,UAAvB,GAAoCL,QAAQ,IAA5C;AACD;;AAED,WAASiV,iBAAT,CAA2BtrB,EAA3B,EAA+B1L,OAA/B,EAAwC;AACtC0L,OAAGC,OAAH,CAAWtL,KAAX,CAAiB/I,KAAjB,CAAuBk8B,SAAvB,GAAmCxzB,QAAQmzB,SAAR,GAAoB,IAAvD;AACAznB,OAAGC,OAAH,CAAWpL,YAAX,CAAwBjJ,KAAxB,CAA8B0sB,GAA9B,GAAoChkB,QAAQmzB,SAAR,GAAoB,IAAxD;AACAznB,OAAGC,OAAH,CAAWnL,OAAX,CAAmBlJ,KAAnB,CAAyBwM,MAAzB,GAAmC9D,QAAQmzB,SAAR,GAAoBznB,GAAGC,OAAH,CAAW/J,SAA/B,GAA2CuhB,UAAUzX,EAAV,CAA5C,GAA6D,IAA/F;AACD;;AAED;AACA;AACA,WAASwvB,aAAT,CAAuBxvB,EAAvB,EAA2B;AACzB,QAAIlL,UAAUkL,GAAGC,OAAH,CAAWnL,OAAzB;AAAA,QAAkC26B,QAAQzvB,GAAG/G,OAAH,CAAWnE,OAArD;AACA9J,mBAAe8J,OAAf;AACA,QAAI9I,IAAI,CAAR;AACA,WAAOA,IAAIyjC,MAAM1kC,MAAjB,EAAyB,EAAEiB,CAA3B,EAA8B;AAC5B,UAAI6oB,cAAc4a,MAAMzjC,CAAN,CAAlB;AACA,UAAI0jC,OAAO56B,QAAQtJ,WAAR,CAAoBC,IAAI,KAAJ,EAAW,IAAX,EAAiB,uBAAuBopB,WAAxC,CAApB,CAAX;AACA,UAAIA,eAAe,wBAAnB,EAA6C;AAC3C7U,WAAGC,OAAH,CAAWlL,UAAX,GAAwB26B,IAAxB;AACAA,aAAK9jC,KAAL,CAAWyqB,KAAX,GAAmB,CAACrW,GAAGC,OAAH,CAAW5J,YAAX,IAA2B,CAA5B,IAAiC,IAApD;AACD;AACF;AACDvB,YAAQlJ,KAAR,CAAcqU,OAAd,GAAwBjU,IAAI,EAAJ,GAAS,MAAjC;AACAw4B,sBAAkBxkB,EAAlB;AACD;;AAED;AACA;AACA,WAAS2vB,wBAAT,CAAkC12B,OAAlC,EAA2C;AACzC,QAAIqD,QAAQ3M,QAAQsJ,QAAQnE,OAAhB,EAAyB,wBAAzB,CAAZ;AACA,QAAIwH,SAAS,CAAC,CAAV,IAAerD,QAAQic,WAA3B,EAAwC;AACtCjc,cAAQnE,OAAR,GAAkBmE,QAAQnE,OAAR,CAAgBkG,MAAhB,CAAuB,CAAC,wBAAD,CAAvB,CAAlB;AACD,KAFD,MAEO,IAAIsB,QAAQ,CAAC,CAAT,IAAc,CAACrD,QAAQic,WAA3B,EAAwC;AAC7Cjc,cAAQnE,OAAR,GAAkBmE,QAAQnE,OAAR,CAAgBjK,KAAhB,CAAsB,CAAtB,CAAlB;AACAoO,cAAQnE,OAAR,CAAgBlD,MAAhB,CAAuB0K,KAAvB,EAA8B,CAA9B;AACD;AACF;;AAED,MAAIszB,eAAe,CAAnB;AACA,MAAIC,qBAAqB,IAAzB;AACA;AACA;AACA;AACA;AACA,MAAI/mC,EAAJ,EAAQ;AAAE+mC,yBAAqB,CAAC,GAAtB;AAA2B,GAArC,MACK,IAAIrnC,KAAJ,EAAW;AAAEqnC,yBAAqB,EAArB;AAAyB,GAAtC,MACA,IAAIzmC,MAAJ,EAAY;AAAEymC,yBAAqB,CAAC,EAAtB;AAA0B,GAAxC,MACA,IAAIvmC,MAAJ,EAAY;AAAEumC,yBAAqB,CAAC,CAAD,GAAG,CAAxB;AAA2B;;AAE9C,WAASC,eAAT,CAAyB7kC,CAAzB,EAA4B;AAC1B,QAAI8kC,KAAK9kC,EAAE+kC,WAAX;AAAA,QAAwBC,KAAKhlC,EAAEilC,WAA/B;AACA,QAAIH,MAAM,IAAN,IAAc9kC,EAAEklC,MAAhB,IAA0BllC,EAAE2+B,IAAF,IAAU3+B,EAAEmlC,eAA1C,EAA2D;AAAEL,WAAK9kC,EAAEklC,MAAP;AAAe;AAC5E,QAAIF,MAAM,IAAN,IAAchlC,EAAEklC,MAAhB,IAA0BllC,EAAE2+B,IAAF,IAAU3+B,EAAEolC,aAA1C,EAAyD;AAAEJ,WAAKhlC,EAAEklC,MAAP;AAAe,KAA1E,MACK,IAAIF,MAAM,IAAV,EAAgB;AAAEA,WAAKhlC,EAAEqlC,UAAP;AAAmB;AAC1C,WAAO,EAAC52B,GAAGq2B,EAAJ,EAAQ/S,GAAGiT,EAAX,EAAP;AACD;AACD,WAASM,gBAAT,CAA0BtlC,CAA1B,EAA6B;AAC3B,QAAIulC,QAAQV,gBAAgB7kC,CAAhB,CAAZ;AACAulC,UAAM92B,CAAN,IAAWm2B,kBAAX;AACAW,UAAMxT,CAAN,IAAW6S,kBAAX;AACA,WAAOW,KAAP;AACD;;AAED,WAASC,aAAT,CAAuBzwB,EAAvB,EAA2B/U,CAA3B,EAA8B;AAC5B,QAAIulC,QAAQV,gBAAgB7kC,CAAhB,CAAZ;AAAA,QAAgC8kC,KAAKS,MAAM92B,CAA3C;AAAA,QAA8Cu2B,KAAKO,MAAMxT,CAAzD;;AAEA,QAAI/c,UAAUD,GAAGC,OAAjB;AAAA,QAA0B1P,SAAS0P,QAAQjL,QAA3C;AACA;AACA,QAAI07B,aAAangC,OAAO42B,WAAP,GAAqB52B,OAAOsmB,WAA7C;AACA,QAAI8Z,aAAapgC,OAAOy2B,YAAP,GAAsBz2B,OAAOqnB,YAA9C;AACA,QAAI,EAAEmY,MAAMW,UAAN,IAAoBT,MAAMU,UAA5B,CAAJ,EAA6C;AAAE;AAAQ;;AAEvD;AACA;AACA;AACA;AACA,QAAIV,MAAMpmC,GAAN,IAAaX,MAAjB,EAAyB;AACvByP,aAAO,KAAK,IAAIJ,MAAMtN,EAAE8D,MAAZ,EAAoB2G,OAAOuK,QAAQvK,IAAxC,EAA8C6C,OAAOhI,MAArD,EAA6DgI,MAAMA,IAAIzL,UAAvE,EAAmF;AACxF,aAAK,IAAId,IAAI,CAAb,EAAgBA,IAAI0J,KAAK3K,MAAzB,EAAiCiB,GAAjC,EAAsC;AACpC,cAAI0J,KAAK1J,CAAL,EAAQvB,IAAR,IAAgB8N,GAApB,EAAyB;AACvByH,eAAGC,OAAH,CAAWqvB,kBAAX,GAAgC/2B,GAAhC;AACA,kBAAMI,KAAN;AACD;AACF;AACF;AACF;;AAED;AACA;AACA;AACA;AACA;AACA;AACA,QAAIo3B,MAAM,CAACvnC,KAAP,IAAgB,CAACa,MAAjB,IAA2BwmC,sBAAsB,IAArD,EAA2D;AACzD,UAAII,MAAMU,UAAV,EACE;AAAEpL,wBAAgBvlB,EAAhB,EAAoBhP,KAAK8I,GAAL,CAAS,CAAT,EAAYvJ,OAAOirB,SAAP,GAAmByU,KAAKJ,kBAApC,CAApB;AAA8E;AAClFrK,oBAAcxlB,EAAd,EAAkBhP,KAAK8I,GAAL,CAAS,CAAT,EAAYvJ,OAAO6qB,UAAP,GAAoB2U,KAAKF,kBAArC,CAAlB;AACA;AACA;AACA;AACA;AACA,UAAI,CAACI,EAAD,IAAQA,MAAMU,UAAlB,EACE;AAAEtsB,yBAAiBpZ,CAAjB;AAAqB;AACzBgV,cAAQhJ,WAAR,GAAsB,IAAtB,CAVyD,CAU9B;AAC3B;AACD;;AAED;AACA;AACA,QAAIg5B,MAAMJ,sBAAsB,IAAhC,EAAsC;AACpC,UAAIe,SAASX,KAAKJ,kBAAlB;AACA,UAAIvX,MAAMtY,GAAGlM,GAAH,CAAO0nB,SAAjB;AAAA,UAA4BpB,MAAM9B,MAAMrY,QAAQhL,OAAR,CAAgB2iB,YAAxD;AACA,UAAIgZ,SAAS,CAAb,EAAgB;AAAEtY,cAAMtnB,KAAK8I,GAAL,CAAS,CAAT,EAAYwe,MAAMsY,MAAN,GAAe,EAA3B,CAAN;AAAsC,OAAxD,MACK;AAAExW,cAAMppB,KAAKC,GAAL,CAAS+O,GAAGlM,GAAH,CAAOsE,MAAhB,EAAwBgiB,MAAMwW,MAAN,GAAe,EAAvC,CAAN;AAAkD;AACzDhK,0BAAoB5mB,EAApB,EAAwB,EAACsY,KAAKA,GAAN,EAAWD,QAAQ+B,GAAnB,EAAxB;AACD;;AAED,QAAIwV,eAAe,EAAnB,EAAuB;AACrB,UAAI3vB,QAAQhJ,WAAR,IAAuB,IAA3B,EAAiC;AAC/BgJ,gBAAQhJ,WAAR,GAAsB1G,OAAO6qB,UAA7B,CAAyCnb,QAAQ/I,WAAR,GAAsB3G,OAAOirB,SAA7B;AACzCvb,gBAAQlJ,OAAR,GAAkBg5B,EAAlB,CAAsB9vB,QAAQjJ,OAAR,GAAkBi5B,EAAlB;AACtBhgC,mBAAW,YAAY;AACrB,cAAIgQ,QAAQhJ,WAAR,IAAuB,IAA3B,EAAiC;AAAE;AAAQ;AAC3C,cAAI45B,SAAStgC,OAAO6qB,UAAP,GAAoBnb,QAAQhJ,WAAzC;AACA,cAAI65B,SAASvgC,OAAOirB,SAAP,GAAmBvb,QAAQ/I,WAAxC;AACA,cAAI65B,SAAUD,UAAU7wB,QAAQjJ,OAAlB,IAA6B85B,SAAS7wB,QAAQjJ,OAA/C,IACV65B,UAAU5wB,QAAQlJ,OAAlB,IAA6B85B,SAAS5wB,QAAQlJ,OADjD;AAEAkJ,kBAAQhJ,WAAR,GAAsBgJ,QAAQ/I,WAAR,GAAsB,IAA5C;AACA,cAAI,CAAC65B,MAAL,EAAa;AAAE;AAAQ;AACvBlB,+BAAqB,CAACA,qBAAqBD,YAArB,GAAoCmB,MAArC,KAAgDnB,eAAe,CAA/D,CAArB;AACA,YAAEA,YAAF;AACD,SAVD,EAUG,GAVH;AAWD,OAdD,MAcO;AACL3vB,gBAAQlJ,OAAR,IAAmBg5B,EAAnB,CAAuB9vB,QAAQjJ,OAAR,IAAmBi5B,EAAnB;AACxB;AACF;AACF;;AAED;AACA;AACA;AACA;AACA;AACA,MAAIe,YAAY,SAAZA,SAAY,CAAS/Q,MAAT,EAAiBC,SAAjB,EAA4B;AAC1C,SAAKD,MAAL,GAAcA,MAAd;AACA,SAAKC,SAAL,GAAiBA,SAAjB;AACD,GAHD;;AAKA8Q,YAAUviC,SAAV,CAAoBmxB,OAApB,GAA8B,YAAY;AAAE,WAAO,KAAKK,MAAL,CAAY,KAAKC,SAAjB,CAAP;AAAoC,GAAhF;;AAEA8Q,YAAUviC,SAAV,CAAoBwiC,MAApB,GAA6B,UAAUvU,KAAV,EAAiB;AAC1C,QAAI7S,SAAS,IAAb;;AAEF,QAAI6S,SAAS,IAAb,EAAmB;AAAE,aAAO,IAAP;AAAa;AAClC,QAAIA,MAAMwD,SAAN,IAAmB,KAAKA,SAAxB,IAAqCxD,MAAMuD,MAAN,CAAal1B,MAAb,IAAuB,KAAKk1B,MAAL,CAAYl1B,MAA5E,EAAoF;AAAE,aAAO,KAAP;AAAc;AACpG,SAAK,IAAIiB,IAAI,CAAb,EAAgBA,IAAI,KAAKi0B,MAAL,CAAYl1B,MAAhC,EAAwCiB,GAAxC,EAA6C;AAC3C,UAAIklC,OAAOrnB,OAAOoW,MAAP,CAAcj0B,CAAd,CAAX;AAAA,UAA6BmlC,QAAQzU,MAAMuD,MAAN,CAAaj0B,CAAb,CAArC;AACA,UAAI,CAACwN,eAAe03B,KAAK1S,MAApB,EAA4B2S,MAAM3S,MAAlC,CAAD,IAA8C,CAAChlB,eAAe03B,KAAK5Q,IAApB,EAA0B6Q,MAAM7Q,IAAhC,CAAnD,EAA0F;AAAE,eAAO,KAAP;AAAc;AAC3G;AACD,WAAO,IAAP;AACD,GAVD;;AAYA0Q,YAAUviC,SAAV,CAAoB2iC,QAApB,GAA+B,YAAY;AACvC,QAAIvnB,SAAS,IAAb;;AAEF,QAAIrY,MAAM,EAAV;AACA,SAAK,IAAIxF,IAAI,CAAb,EAAgBA,IAAI,KAAKi0B,MAAL,CAAYl1B,MAAhC,EAAwCiB,GAAxC,EACE;AAAEwF,UAAIxF,CAAJ,IAAS,IAAIqlC,KAAJ,CAAU53B,QAAQoQ,OAAOoW,MAAP,CAAcj0B,CAAd,EAAiBwyB,MAAzB,CAAV,EAA4C/kB,QAAQoQ,OAAOoW,MAAP,CAAcj0B,CAAd,EAAiBs0B,IAAzB,CAA5C,CAAT;AAAsF;AAC1F,WAAO,IAAI0Q,SAAJ,CAAcx/B,GAAd,EAAmB,KAAK0uB,SAAxB,CAAP;AACD,GAPD;;AASA8Q,YAAUviC,SAAV,CAAoB6iC,iBAApB,GAAwC,YAAY;AAChD,QAAIznB,SAAS,IAAb;;AAEF,SAAK,IAAI7d,IAAI,CAAb,EAAgBA,IAAI,KAAKi0B,MAAL,CAAYl1B,MAAhC,EAAwCiB,GAAxC,EACE;AAAE,UAAI,CAAC6d,OAAOoW,MAAP,CAAcj0B,CAAd,EAAiBm0B,KAAjB,EAAL,EAA+B;AAAE,eAAO,IAAP;AAAa;AAAE;AACpD,WAAO,KAAP;AACD,GAND;;AAQA6Q,YAAUviC,SAAV,CAAoBvB,QAApB,GAA+B,UAAU2D,GAAV,EAAevE,GAAf,EAAoB;AAC/C,QAAIud,SAAS,IAAb;;AAEF,QAAI,CAACvd,GAAL,EAAU;AAAEA,YAAMuE,GAAN;AAAW;AACvB,SAAK,IAAI7E,IAAI,CAAb,EAAgBA,IAAI,KAAKi0B,MAAL,CAAYl1B,MAAhC,EAAwCiB,GAAxC,EAA6C;AAC3C,UAAIG,QAAQ0d,OAAOoW,MAAP,CAAcj0B,CAAd,CAAZ;AACA,UAAIuN,IAAIjN,GAAJ,EAASH,MAAMmH,IAAN,EAAT,KAA0B,CAA1B,IAA+BiG,IAAI1I,GAAJ,EAAS1E,MAAMoH,EAAN,EAAT,KAAwB,CAA3D,EACE;AAAE,eAAOvH,CAAP;AAAU;AACf;AACD,WAAO,CAAC,CAAR;AACD,GAVD;;AAYA,MAAIqlC,QAAQ,SAARA,KAAQ,CAAS7S,MAAT,EAAiB8B,IAAjB,EAAuB;AACjC,SAAK9B,MAAL,GAAcA,MAAd,CAAsB,KAAK8B,IAAL,GAAYA,IAAZ;AACvB,GAFD;;AAIA+Q,QAAM5iC,SAAN,CAAgB6E,IAAhB,GAAuB,YAAY;AAAE,WAAOsG,OAAO,KAAK4kB,MAAZ,EAAoB,KAAK8B,IAAzB,CAAP;AAAuC,GAA5E;AACA+Q,QAAM5iC,SAAN,CAAgB8E,EAAhB,GAAqB,YAAY;AAAE,WAAOoG,OAAO,KAAK6kB,MAAZ,EAAoB,KAAK8B,IAAzB,CAAP;AAAuC,GAA1E;AACA+Q,QAAM5iC,SAAN,CAAgB0xB,KAAhB,GAAwB,YAAY;AAAE,WAAO,KAAKG,IAAL,CAAUvoB,IAAV,IAAkB,KAAKymB,MAAL,CAAYzmB,IAA9B,IAAsC,KAAKuoB,IAAL,CAAUhuB,EAAV,IAAgB,KAAKksB,MAAL,CAAYlsB,EAAzE;AAA6E,GAAnH;;AAEA;AACA;AACA;AACA,WAASi/B,kBAAT,CAA4BtR,MAA5B,EAAoCC,SAApC,EAA+C;AAC7C,QAAIsR,OAAOvR,OAAOC,SAAP,CAAX;AACAD,WAAOwR,IAAP,CAAY,UAAU9jC,CAAV,EAAaC,CAAb,EAAgB;AAAE,aAAO2L,IAAI5L,EAAE2F,IAAF,EAAJ,EAAc1F,EAAE0F,IAAF,EAAd,CAAP;AAAiC,KAA/D;AACA4sB,gBAAYvwB,QAAQswB,MAAR,EAAgBuR,IAAhB,CAAZ;AACA,SAAK,IAAIxlC,IAAI,CAAb,EAAgBA,IAAIi0B,OAAOl1B,MAA3B,EAAmCiB,GAAnC,EAAwC;AACtC,UAAIuM,MAAM0nB,OAAOj0B,CAAP,CAAV;AAAA,UAAqBsV,OAAO2e,OAAOj0B,IAAI,CAAX,CAA5B;AACA,UAAIuN,IAAI+H,KAAK/N,EAAL,EAAJ,EAAegF,IAAIjF,IAAJ,EAAf,KAA8B,CAAlC,EAAqC;AACnC,YAAIA,OAAOsG,OAAO0H,KAAKhO,IAAL,EAAP,EAAoBiF,IAAIjF,IAAJ,EAApB,CAAX;AAAA,YAA4CC,KAAKoG,OAAO2H,KAAK/N,EAAL,EAAP,EAAkBgF,IAAIhF,EAAJ,EAAlB,CAAjD;AACA,YAAIm+B,MAAMpwB,KAAK6e,KAAL,KAAe5nB,IAAIjF,IAAJ,MAAciF,IAAI+nB,IAAjC,GAAwChf,KAAKhO,IAAL,MAAegO,KAAKgf,IAAtE;AACA,YAAIt0B,KAAKk0B,SAAT,EAAoB;AAAE,YAAEA,SAAF;AAAa;AACnCD,eAAOruB,MAAP,CAAc,EAAE5F,CAAhB,EAAmB,CAAnB,EAAsB,IAAIqlC,KAAJ,CAAUK,MAAMn+B,EAAN,GAAWD,IAArB,EAA2Bo+B,MAAMp+B,IAAN,GAAaC,EAAxC,CAAtB;AACD;AACF;AACD,WAAO,IAAIy9B,SAAJ,CAAc/Q,MAAd,EAAsBC,SAAtB,CAAP;AACD;;AAED,WAASyR,eAAT,CAAyBnT,MAAzB,EAAiC8B,IAAjC,EAAuC;AACrC,WAAO,IAAI0Q,SAAJ,CAAc,CAAC,IAAIK,KAAJ,CAAU7S,MAAV,EAAkB8B,QAAQ9B,MAA1B,CAAD,CAAd,EAAmD,CAAnD,CAAP;AACD;;AAED;AACA;AACA,WAASoT,SAAT,CAAmB51B,MAAnB,EAA2B;AACzB,QAAI,CAACA,OAAO/D,IAAZ,EAAkB;AAAE,aAAO+D,OAAOzI,EAAd;AAAkB;AACtC,WAAO8F,IAAI2C,OAAO1I,IAAP,CAAYyE,IAAZ,GAAmBiE,OAAO/D,IAAP,CAAYlN,MAA/B,GAAwC,CAA5C,EACIsG,IAAI2K,OAAO/D,IAAX,EAAiBlN,MAAjB,IAA2BiR,OAAO/D,IAAP,CAAYlN,MAAZ,IAAsB,CAAtB,GAA0BiR,OAAO1I,IAAP,CAAYhB,EAAtC,GAA2C,CAAtE,CADJ,CAAP;AAED;;AAED;AACA;AACA,WAASu/B,eAAT,CAAyBhhC,GAAzB,EAA8BmL,MAA9B,EAAsC;AACpC,QAAIzC,IAAI1I,GAAJ,EAASmL,OAAO1I,IAAhB,IAAwB,CAA5B,EAA+B;AAAE,aAAOzC,GAAP;AAAY;AAC7C,QAAI0I,IAAI1I,GAAJ,EAASmL,OAAOzI,EAAhB,KAAuB,CAA3B,EAA8B;AAAE,aAAOq+B,UAAU51B,MAAV,CAAP;AAA0B;;AAE1D,QAAIjE,OAAOlH,IAAIkH,IAAJ,GAAWiE,OAAO/D,IAAP,CAAYlN,MAAvB,IAAiCiR,OAAOzI,EAAP,CAAUwE,IAAV,GAAiBiE,OAAO1I,IAAP,CAAYyE,IAA9D,IAAsE,CAAjF;AAAA,QAAoFzF,KAAKzB,IAAIyB,EAA7F;AACA,QAAIzB,IAAIkH,IAAJ,IAAYiE,OAAOzI,EAAP,CAAUwE,IAA1B,EAAgC;AAAEzF,YAAMs/B,UAAU51B,MAAV,EAAkB1J,EAAlB,GAAuB0J,OAAOzI,EAAP,CAAUjB,EAAvC;AAA2C;AAC7E,WAAO+G,IAAItB,IAAJ,EAAUzF,EAAV,CAAP;AACD;;AAED,WAASw/B,qBAAT,CAA+Bh+B,GAA/B,EAAoCkI,MAApC,EAA4C;AAC1C,QAAIxK,MAAM,EAAV;AACA,SAAK,IAAIxF,IAAI,CAAb,EAAgBA,IAAI8H,IAAIksB,GAAJ,CAAQC,MAAR,CAAel1B,MAAnC,EAA2CiB,GAA3C,EAAgD;AAC9C,UAAIG,QAAQ2H,IAAIksB,GAAJ,CAAQC,MAAR,CAAej0B,CAAf,CAAZ;AACAwF,UAAIJ,IAAJ,CAAS,IAAIigC,KAAJ,CAAUQ,gBAAgB1lC,MAAMqyB,MAAtB,EAA8BxiB,MAA9B,CAAV,EACU61B,gBAAgB1lC,MAAMm0B,IAAtB,EAA4BtkB,MAA5B,CADV,CAAT;AAED;AACD,WAAOu1B,mBAAmB//B,GAAnB,EAAwBsC,IAAIksB,GAAJ,CAAQE,SAAhC,CAAP;AACD;;AAED,WAAS6R,SAAT,CAAmBlhC,GAAnB,EAAwBsK,GAAxB,EAA6BG,EAA7B,EAAiC;AAC/B,QAAIzK,IAAIkH,IAAJ,IAAYoD,IAAIpD,IAApB,EACE;AAAE,aAAOsB,IAAIiC,GAAGvD,IAAP,EAAalH,IAAIyB,EAAJ,GAAS6I,IAAI7I,EAAb,GAAkBgJ,GAAGhJ,EAAlC,CAAP;AAA8C,KADlD,MAGE;AAAE,aAAO+G,IAAIiC,GAAGvD,IAAH,IAAWlH,IAAIkH,IAAJ,GAAWoD,IAAIpD,IAA1B,CAAJ,EAAqClH,IAAIyB,EAAzC,CAAP;AAAqD;AAC1D;;AAED;AACA;AACA,WAAS0/B,kBAAT,CAA4Bl+B,GAA5B,EAAiC8f,OAAjC,EAA0Cqe,IAA1C,EAAgD;AAC9C,QAAIzgC,MAAM,EAAV;AACA,QAAI0gC,UAAU74B,IAAIvF,IAAIyB,KAAR,EAAe,CAAf,CAAd;AAAA,QAAiC48B,UAAUD,OAA3C;AACA,SAAK,IAAIlmC,IAAI,CAAb,EAAgBA,IAAI4nB,QAAQ7oB,MAA5B,EAAoCiB,GAApC,EAAyC;AACvC,UAAIgQ,SAAS4X,QAAQ5nB,CAAR,CAAb;AACA,UAAIsH,OAAOy+B,UAAU/1B,OAAO1I,IAAjB,EAAuB4+B,OAAvB,EAAgCC,OAAhC,CAAX;AACA,UAAI5+B,KAAKw+B,UAAUH,UAAU51B,MAAV,CAAV,EAA6Bk2B,OAA7B,EAAsCC,OAAtC,CAAT;AACAD,gBAAUl2B,OAAOzI,EAAjB;AACA4+B,gBAAU5+B,EAAV;AACA,UAAI0+B,QAAQ,QAAZ,EAAsB;AACpB,YAAI9lC,QAAQ2H,IAAIksB,GAAJ,CAAQC,MAAR,CAAej0B,CAAf,CAAZ;AAAA,YAA+B0lC,MAAMn4B,IAAIpN,MAAMm0B,IAAV,EAAgBn0B,MAAMqyB,MAAtB,IAAgC,CAArE;AACAhtB,YAAIxF,CAAJ,IAAS,IAAIqlC,KAAJ,CAAUK,MAAMn+B,EAAN,GAAWD,IAArB,EAA2Bo+B,MAAMp+B,IAAN,GAAaC,EAAxC,CAAT;AACD,OAHD,MAGO;AACL/B,YAAIxF,CAAJ,IAAS,IAAIqlC,KAAJ,CAAU/9B,IAAV,EAAgBA,IAAhB,CAAT;AACD;AACF;AACD,WAAO,IAAI09B,SAAJ,CAAcx/B,GAAd,EAAmBsC,IAAIksB,GAAJ,CAAQE,SAA3B,CAAP;AACD;;AAED;;AAEA,WAASkS,QAAT,CAAkBpyB,EAAlB,EAAsB;AACpBA,OAAGlM,GAAH,CAAOwT,IAAP,GAAcM,QAAQ5H,GAAG/G,OAAX,EAAoB+G,GAAGlM,GAAH,CAAOu+B,UAA3B,CAAd;AACAC,mBAAetyB,EAAf;AACD;;AAED,WAASsyB,cAAT,CAAwBtyB,EAAxB,EAA4B;AAC1BA,OAAGlM,GAAH,CAAOkE,IAAP,CAAY,UAAUD,IAAV,EAAgB;AAC1B,UAAIA,KAAK8U,UAAT,EAAqB;AAAE9U,aAAK8U,UAAL,GAAkB,IAAlB;AAAwB;AAC/C,UAAI9U,KAAKqU,MAAT,EAAiB;AAAErU,aAAKqU,MAAL,GAAc,IAAd;AAAoB;AACxC,KAHD;AAIApM,OAAGlM,GAAH,CAAOkZ,YAAP,GAAsBhN,GAAGlM,GAAH,CAAOiZ,iBAAP,GAA2B/M,GAAGlM,GAAH,CAAOyB,KAAxD;AACAuxB,gBAAY9mB,EAAZ,EAAgB,GAAhB;AACAA,OAAGuI,KAAH,CAASoD,OAAT;AACA,QAAI3L,GAAGgE,KAAP,EAAc;AAAEgoB,gBAAUhsB,EAAV;AAAe;AAChC;;AAED;;AAEA;AACA;AACA;AACA,WAASuyB,iBAAT,CAA2Bz+B,GAA3B,EAAgCkI,MAAhC,EAAwC;AACtC,WAAOA,OAAO1I,IAAP,CAAYhB,EAAZ,IAAkB,CAAlB,IAAuB0J,OAAOzI,EAAP,CAAUjB,EAAV,IAAgB,CAAvC,IAA4CjB,IAAI2K,OAAO/D,IAAX,KAAoB,EAAhE,KACJ,CAACnE,IAAIkM,EAAL,IAAWlM,IAAIkM,EAAJ,CAAO/G,OAAP,CAAeu5B,qBADtB,CAAP;AAED;;AAED;AACA,WAASC,SAAT,CAAmB3+B,GAAnB,EAAwBkI,MAAxB,EAAgCjB,WAAhC,EAA6C6T,cAA7C,EAA6D;AAC3D,aAAS8jB,QAAT,CAAkBjjC,CAAlB,EAAqB;AAAC,aAAOsL,cAAcA,YAAYtL,CAAZ,CAAd,GAA+B,IAAtC;AAA2C;AACjE,aAASu4B,MAAT,CAAgBjwB,IAAhB,EAAsBE,IAAtB,EAA4B0C,KAA5B,EAAmC;AACjCkU,iBAAW9W,IAAX,EAAiBE,IAAjB,EAAuB0C,KAAvB,EAA8BiU,cAA9B;AACA0E,kBAAYvb,IAAZ,EAAkB,QAAlB,EAA4BA,IAA5B,EAAkCiE,MAAlC;AACD;AACD,aAAS22B,QAAT,CAAkBtmC,KAAlB,EAAyBC,GAAzB,EAA8B;AAC5B,UAAI0Z,SAAS,EAAb;AACA,WAAK,IAAIha,IAAIK,KAAb,EAAoBL,IAAIM,GAAxB,EAA6B,EAAEN,CAA/B,EACE;AAAEga,eAAO5U,IAAP,CAAY,IAAIud,IAAJ,CAAS1W,KAAKjM,CAAL,CAAT,EAAkB0mC,SAAS1mC,CAAT,CAAlB,EAA+B4iB,cAA/B,CAAZ;AAA6D;AACjE,aAAO5I,MAAP;AACD;;AAED,QAAI1S,OAAO0I,OAAO1I,IAAlB;AAAA,QAAwBC,KAAKyI,OAAOzI,EAApC;AAAA,QAAwC0E,OAAO+D,OAAO/D,IAAtD;AACA,QAAI26B,YAAYr7B,QAAQzD,GAAR,EAAaR,KAAKyE,IAAlB,CAAhB;AAAA,QAAyCwH,WAAWhI,QAAQzD,GAAR,EAAaP,GAAGwE,IAAhB,CAApD;AACA,QAAI86B,WAAWxhC,IAAI4G,IAAJ,CAAf;AAAA,QAA0B66B,YAAYJ,SAASz6B,KAAKlN,MAAL,GAAc,CAAvB,CAAtC;AAAA,QAAiEgoC,SAASx/B,GAAGwE,IAAH,GAAUzE,KAAKyE,IAAzF;;AAEA;AACA,QAAIiE,OAAOC,IAAX,EAAiB;AACfnI,UAAIk/B,MAAJ,CAAW,CAAX,EAAcL,SAAS,CAAT,EAAY16B,KAAKlN,MAAjB,CAAd;AACA+I,UAAIm/B,MAAJ,CAAWh7B,KAAKlN,MAAhB,EAAwB+I,IAAI0D,IAAJ,GAAWS,KAAKlN,MAAxC;AACD,KAHD,MAGO,IAAIwnC,kBAAkBz+B,GAAlB,EAAuBkI,MAAvB,CAAJ,EAAoC;AACzC;AACA;AACA,UAAIk3B,QAAQP,SAAS,CAAT,EAAY16B,KAAKlN,MAAL,GAAc,CAA1B,CAAZ;AACAi9B,aAAOzoB,QAAP,EAAiBA,SAAStH,IAA1B,EAAgC66B,SAAhC;AACA,UAAIC,MAAJ,EAAY;AAAEj/B,YAAIm/B,MAAJ,CAAW3/B,KAAKyE,IAAhB,EAAsBg7B,MAAtB;AAA+B;AAC7C,UAAIG,MAAMnoC,MAAV,EAAkB;AAAE+I,YAAIk/B,MAAJ,CAAW1/B,KAAKyE,IAAhB,EAAsBm7B,KAAtB;AAA8B;AACnD,KAPM,MAOA,IAAIN,aAAarzB,QAAjB,EAA2B;AAChC,UAAItH,KAAKlN,MAAL,IAAe,CAAnB,EAAsB;AACpBi9B,eAAO4K,SAAP,EAAkBA,UAAU36B,IAAV,CAAepN,KAAf,CAAqB,CAArB,EAAwByI,KAAKhB,EAA7B,IAAmCugC,QAAnC,GAA8CD,UAAU36B,IAAV,CAAepN,KAAf,CAAqB0I,GAAGjB,EAAxB,CAAhE,EAA6FwgC,SAA7F;AACD,OAFD,MAEO;AACL,YAAIK,UAAUR,SAAS,CAAT,EAAY16B,KAAKlN,MAAL,GAAc,CAA1B,CAAd;AACAooC,gBAAQ/hC,IAAR,CAAa,IAAIud,IAAJ,CAASkkB,WAAWD,UAAU36B,IAAV,CAAepN,KAAf,CAAqB0I,GAAGjB,EAAxB,CAApB,EAAiDwgC,SAAjD,EAA4DlkB,cAA5D,CAAb;AACAoZ,eAAO4K,SAAP,EAAkBA,UAAU36B,IAAV,CAAepN,KAAf,CAAqB,CAArB,EAAwByI,KAAKhB,EAA7B,IAAmC2F,KAAK,CAAL,CAArD,EAA8Dy6B,SAAS,CAAT,CAA9D;AACA5+B,YAAIk/B,MAAJ,CAAW1/B,KAAKyE,IAAL,GAAY,CAAvB,EAA0Bo7B,OAA1B;AACD;AACF,KATM,MASA,IAAIl7B,KAAKlN,MAAL,IAAe,CAAnB,EAAsB;AAC3Bi9B,aAAO4K,SAAP,EAAkBA,UAAU36B,IAAV,CAAepN,KAAf,CAAqB,CAArB,EAAwByI,KAAKhB,EAA7B,IAAmC2F,KAAK,CAAL,CAAnC,GAA6CsH,SAAStH,IAAT,CAAcpN,KAAd,CAAoB0I,GAAGjB,EAAvB,CAA/D,EAA2FogC,SAAS,CAAT,CAA3F;AACA5+B,UAAIm/B,MAAJ,CAAW3/B,KAAKyE,IAAL,GAAY,CAAvB,EAA0Bg7B,MAA1B;AACD,KAHM,MAGA;AACL/K,aAAO4K,SAAP,EAAkBA,UAAU36B,IAAV,CAAepN,KAAf,CAAqB,CAArB,EAAwByI,KAAKhB,EAA7B,IAAmC2F,KAAK,CAAL,CAArD,EAA8Dy6B,SAAS,CAAT,CAA9D;AACA1K,aAAOzoB,QAAP,EAAiBszB,WAAWtzB,SAAStH,IAAT,CAAcpN,KAAd,CAAoB0I,GAAGjB,EAAvB,CAA5B,EAAwDwgC,SAAxD;AACA,UAAIM,UAAUT,SAAS,CAAT,EAAY16B,KAAKlN,MAAL,GAAc,CAA1B,CAAd;AACA,UAAIgoC,SAAS,CAAb,EAAgB;AAAEj/B,YAAIm/B,MAAJ,CAAW3/B,KAAKyE,IAAL,GAAY,CAAvB,EAA0Bg7B,SAAS,CAAnC;AAAuC;AACzDj/B,UAAIk/B,MAAJ,CAAW1/B,KAAKyE,IAAL,GAAY,CAAvB,EAA0Bq7B,OAA1B;AACD;;AAED9f,gBAAYxf,GAAZ,EAAiB,QAAjB,EAA2BA,GAA3B,EAAgCkI,MAAhC;AACD;;AAED;AACA,WAASq3B,UAAT,CAAoBv/B,GAApB,EAAyBxF,CAAzB,EAA4BglC,cAA5B,EAA4C;AAC1C,aAASC,SAAT,CAAmBz/B,GAAnB,EAAwB0/B,IAAxB,EAA8BC,UAA9B,EAA0C;AACxC,UAAI3/B,IAAI4/B,MAAR,EAAgB;AAAE,aAAK,IAAI1nC,IAAI,CAAb,EAAgBA,IAAI8H,IAAI4/B,MAAJ,CAAW3oC,MAA/B,EAAuC,EAAEiB,CAAzC,EAA4C;AAC5D,cAAI2nC,MAAM7/B,IAAI4/B,MAAJ,CAAW1nC,CAAX,CAAV;AACA,cAAI2nC,IAAI7/B,GAAJ,IAAW0/B,IAAf,EAAqB;AAAE;AAAU;AACjC,cAAII,SAASH,cAAcE,IAAIF,UAA/B;AACA,cAAIH,kBAAkB,CAACM,MAAvB,EAA+B;AAAE;AAAU;AAC3CtlC,YAAEqlC,IAAI7/B,GAAN,EAAW8/B,MAAX;AACAL,oBAAUI,IAAI7/B,GAAd,EAAmBA,GAAnB,EAAwB8/B,MAAxB;AACD;AAAE;AACJ;AACDL,cAAUz/B,GAAV,EAAe,IAAf,EAAqB,IAArB;AACD;;AAED;AACA,WAAS+/B,SAAT,CAAmB7zB,EAAnB,EAAuBlM,GAAvB,EAA4B;AAC1B,QAAIA,IAAIkM,EAAR,EAAY;AAAE,YAAM,IAAIvI,KAAJ,CAAU,kCAAV,CAAN;AAAqD;AACnEuI,OAAGlM,GAAH,GAASA,GAAT;AACAA,QAAIkM,EAAJ,GAASA,EAAT;AACA+e,wBAAoB/e,EAApB;AACAoyB,aAASpyB,EAAT;AACA8zB,sBAAkB9zB,EAAlB;AACA,QAAI,CAACA,GAAG/G,OAAH,CAAW+e,YAAhB,EAA8B;AAAEjY,kBAAYC,EAAZ;AAAiB;AACjDA,OAAG/G,OAAH,CAAWqO,IAAX,GAAkBxT,IAAIu+B,UAAtB;AACArG,cAAUhsB,EAAV;AACD;;AAED,WAAS8zB,iBAAT,CAA2B9zB,EAA3B,EAA+B;AAC7B,KAAC,CAACA,GAAGlM,GAAH,CAAOqN,SAAP,IAAoB,KAApB,GAA4B1T,QAA5B,GAAuCjD,OAAxC,EAAiDwV,GAAGC,OAAH,CAAW9L,OAA5D,EAAqE,gBAArE;AACF;;AAED,WAAS4/B,gBAAT,CAA0B/zB,EAA1B,EAA8B;AAC5B4rB,YAAQ5rB,EAAR,EAAY,YAAY;AACtB8zB,wBAAkB9zB,EAAlB;AACAgsB,gBAAUhsB,EAAV;AACD,KAHD;AAID;;AAED,WAASg0B,OAAT,CAAiBC,QAAjB,EAA2B;AACzB;AACA;AACA;AACA,SAAKC,IAAL,GAAY,EAAZ,CAAgB,KAAKC,MAAL,GAAc,EAAd;AAChB,SAAKC,SAAL,GAAiBpiB,QAAjB;AACA;AACA;AACA,SAAKqiB,WAAL,GAAmB,KAAKC,WAAL,GAAmB,CAAtC;AACA,SAAKC,MAAL,GAAc,KAAKC,SAAL,GAAiB,IAA/B;AACA,SAAKC,UAAL,GAAkB,KAAKC,aAAL,GAAqB,IAAvC;AACA;AACA,SAAKC,UAAL,GAAkB,KAAKC,aAAL,GAAqBX,YAAY,CAAnD;AACD;;AAED;AACA;AACA,WAASY,uBAAT,CAAiC/gC,GAAjC,EAAsCkI,MAAtC,EAA8C;AAC5C,QAAI84B,aAAa,EAACxhC,MAAMmG,QAAQuC,OAAO1I,IAAf,CAAP,EAA6BC,IAAIq+B,UAAU51B,MAAV,CAAjC,EAAoD/D,MAAMH,WAAWhE,GAAX,EAAgBkI,OAAO1I,IAAvB,EAA6B0I,OAAOzI,EAApC,CAA1D,EAAjB;AACAwhC,qBAAiBjhC,GAAjB,EAAsBghC,UAAtB,EAAkC94B,OAAO1I,IAAP,CAAYyE,IAA9C,EAAoDiE,OAAOzI,EAAP,CAAUwE,IAAV,GAAiB,CAArE;AACAs7B,eAAWv/B,GAAX,EAAgB,UAAUA,GAAV,EAAe;AAAE,aAAOihC,iBAAiBjhC,GAAjB,EAAsBghC,UAAtB,EAAkC94B,OAAO1I,IAAP,CAAYyE,IAA9C,EAAoDiE,OAAOzI,EAAP,CAAUwE,IAAV,GAAiB,CAArE,CAAP;AAAiF,KAAlH,EAAoH,IAApH;AACA,WAAO+8B,UAAP;AACD;;AAED;AACA;AACA,WAASE,oBAAT,CAA8B9kC,KAA9B,EAAqC;AACnC,WAAOA,MAAMnF,MAAb,EAAqB;AACnB,UAAIiP,OAAO3I,IAAInB,KAAJ,CAAX;AACA,UAAI8J,KAAKimB,MAAT,EAAiB;AAAE/vB,cAAM+kC,GAAN;AAAa,OAAhC,MACK;AAAE;AAAO;AACf;AACF;;AAED;AACA;AACA,WAASC,eAAT,CAAyBC,IAAzB,EAA+BzH,KAA/B,EAAsC;AACpC,QAAIA,KAAJ,EAAW;AACTsH,2BAAqBG,KAAKjB,IAA1B;AACA,aAAO7iC,IAAI8jC,KAAKjB,IAAT,CAAP;AACD,KAHD,MAGO,IAAIiB,KAAKjB,IAAL,CAAUnpC,MAAV,IAAoB,CAACsG,IAAI8jC,KAAKjB,IAAT,EAAejU,MAAxC,EAAgD;AACrD,aAAO5uB,IAAI8jC,KAAKjB,IAAT,CAAP;AACD,KAFM,MAEA,IAAIiB,KAAKjB,IAAL,CAAUnpC,MAAV,GAAmB,CAAnB,IAAwB,CAACoqC,KAAKjB,IAAL,CAAUiB,KAAKjB,IAAL,CAAUnpC,MAAV,GAAmB,CAA7B,EAAgCk1B,MAA7D,EAAqE;AAC1EkV,WAAKjB,IAAL,CAAUe,GAAV;AACA,aAAO5jC,IAAI8jC,KAAKjB,IAAT,CAAP;AACD;AACF;;AAED;AACA;AACA;AACA,WAASkB,kBAAT,CAA4BthC,GAA5B,EAAiCkI,MAAjC,EAAyCq5B,QAAzC,EAAmDC,IAAnD,EAAyD;AACvD,QAAIH,OAAOrhC,IAAIyhC,OAAf;AACAJ,SAAKhB,MAAL,CAAYppC,MAAZ,GAAqB,CAArB;AACA,QAAI+hC,OAAO,CAAC,IAAIG,IAAJ,EAAZ;AAAA,QAAsB10B,GAAtB;AACA,QAAIyB,IAAJ;;AAEA,QAAI,CAACm7B,KAAKZ,MAAL,IAAee,IAAf,IACAH,KAAKV,UAAL,IAAmBz4B,OAAOvL,MAA1B,IAAoCuL,OAAOvL,MAA3C,KACEuL,OAAOvL,MAAP,CAAc0C,MAAd,CAAqB,CAArB,KAA2B,GAA3B,IAAkCW,IAAIkM,EAAtC,IAA4Cm1B,KAAKd,WAAL,GAAmBvH,OAAOh5B,IAAIkM,EAAJ,CAAO/G,OAAP,CAAeu8B,iBAAtF,IACAx5B,OAAOvL,MAAP,CAAc0C,MAAd,CAAqB,CAArB,KAA2B,GAF5B,CADD,MAICoF,MAAM28B,gBAAgBC,IAAhB,EAAsBA,KAAKZ,MAAL,IAAee,IAArC,CAJP,CAAJ,EAIwD;AACtD;AACAt7B,aAAO3I,IAAIkH,IAAIqb,OAAR,CAAP;AACA,UAAIra,IAAIyC,OAAO1I,IAAX,EAAiB0I,OAAOzI,EAAxB,KAA+B,CAA/B,IAAoCgG,IAAIyC,OAAO1I,IAAX,EAAiB0G,KAAKzG,EAAtB,KAA6B,CAArE,EAAwE;AACtE;AACA;AACAyG,aAAKzG,EAAL,GAAUq+B,UAAU51B,MAAV,CAAV;AACD,OAJD,MAIO;AACL;AACAzD,YAAIqb,OAAJ,CAAYxiB,IAAZ,CAAiByjC,wBAAwB/gC,GAAxB,EAA6BkI,MAA7B,CAAjB;AACD;AACF,KAfD,MAeO;AACL;AACA,UAAIkG,SAAS7Q,IAAI8jC,KAAKjB,IAAT,CAAb;AACA,UAAI,CAAChyB,MAAD,IAAW,CAACA,OAAO+d,MAAvB,EACE;AAAEwV,+BAAuB3hC,IAAIksB,GAA3B,EAAgCmV,KAAKjB,IAArC;AAA4C;AAChD37B,YAAM,EAACqb,SAAS,CAACihB,wBAAwB/gC,GAAxB,EAA6BkI,MAA7B,CAAD,CAAV;AACC24B,oBAAYQ,KAAKR,UADlB,EAAN;AAEAQ,WAAKjB,IAAL,CAAU9iC,IAAV,CAAemH,GAAf;AACA,aAAO48B,KAAKjB,IAAL,CAAUnpC,MAAV,GAAmBoqC,KAAKf,SAA/B,EAA0C;AACxCe,aAAKjB,IAAL,CAAU/8B,KAAV;AACA,YAAI,CAACg+B,KAAKjB,IAAL,CAAU,CAAV,EAAajU,MAAlB,EAA0B;AAAEkV,eAAKjB,IAAL,CAAU/8B,KAAV;AAAmB;AAChD;AACF;AACDg+B,SAAKjB,IAAL,CAAU9iC,IAAV,CAAeikC,QAAf;AACAF,SAAKR,UAAL,GAAkB,EAAEQ,KAAKP,aAAzB;AACAO,SAAKd,WAAL,GAAmBc,KAAKb,WAAL,GAAmBxH,IAAtC;AACAqI,SAAKZ,MAAL,GAAcY,KAAKX,SAAL,GAAiBc,IAA/B;AACAH,SAAKV,UAAL,GAAkBU,KAAKT,aAAL,GAAqB14B,OAAOvL,MAA9C;;AAEA,QAAI,CAACuJ,IAAL,EAAW;AAAEsJ,aAAOxP,GAAP,EAAY,cAAZ;AAA6B;AAC3C;;AAED,WAAS4hC,yBAAT,CAAmC5hC,GAAnC,EAAwCrD,MAAxC,EAAgD6Q,IAAhD,EAAsD0e,GAAtD,EAA2D;AACzD,QAAI1tB,KAAK7B,OAAO0C,MAAP,CAAc,CAAd,CAAT;AACA,WAAOb,MAAM,GAAN,IACLA,MAAM,GAAN,IACAgP,KAAK2e,MAAL,CAAYl1B,MAAZ,IAAsBi1B,IAAIC,MAAJ,CAAWl1B,MADjC,IAEAuW,KAAKgwB,iBAAL,MAA4BtR,IAAIsR,iBAAJ,EAF5B,IAGA,IAAIrE,IAAJ,KAAWn5B,IAAIyhC,OAAJ,CAAYjB,WAAvB,KAAuCxgC,IAAIkM,EAAJ,GAASlM,IAAIkM,EAAJ,CAAO/G,OAAP,CAAeu8B,iBAAxB,GAA4C,GAAnF,CAJF;AAKD;;AAED;AACA;AACA;AACA;AACA,WAASG,qBAAT,CAA+B7hC,GAA/B,EAAoCksB,GAApC,EAAyCsV,IAAzC,EAA+Cr8B,OAA/C,EAAwD;AACtD,QAAIk8B,OAAOrhC,IAAIyhC,OAAf;AAAA,QAAwB9kC,SAASwI,WAAWA,QAAQxI,MAApD;;AAEA;AACA;AACA;AACA;AACA,QAAI6kC,QAAQH,KAAKX,SAAb,IACC/jC,UAAU0kC,KAAKT,aAAL,IAAsBjkC,MAAhC,KACC0kC,KAAKd,WAAL,IAAoBc,KAAKb,WAAzB,IAAwCa,KAAKV,UAAL,IAAmBhkC,MAA3D,IACAilC,0BAA0B5hC,GAA1B,EAA+BrD,MAA/B,EAAuCY,IAAI8jC,KAAKjB,IAAT,CAAvC,EAAuDlU,GAAvD,CAFD,CADL,EAIE;AAAEmV,WAAKjB,IAAL,CAAUiB,KAAKjB,IAAL,CAAUnpC,MAAV,GAAmB,CAA7B,IAAkCi1B,GAAlC;AAAuC,KAJ3C,MAME;AAAEyV,6BAAuBzV,GAAvB,EAA4BmV,KAAKjB,IAAjC;AAAwC;;AAE5CiB,SAAKb,WAAL,GAAmB,CAAC,IAAIrH,IAAJ,EAApB;AACAkI,SAAKT,aAAL,GAAqBjkC,MAArB;AACA0kC,SAAKX,SAAL,GAAiBc,IAAjB;AACA,QAAIr8B,WAAWA,QAAQ28B,SAAR,KAAsB,KAArC,EACE;AAAEZ,2BAAqBG,KAAKhB,MAA1B;AAAmC;AACxC;;AAED,WAASsB,sBAAT,CAAgCzV,GAAhC,EAAqC6V,IAArC,EAA2C;AACzC,QAAIvd,MAAMjnB,IAAIwkC,IAAJ,CAAV;AACA,QAAI,EAAEvd,OAAOA,IAAI2H,MAAX,IAAqB3H,IAAI2Y,MAAJ,CAAWjR,GAAX,CAAvB,CAAJ,EACE;AAAE6V,WAAKzkC,IAAL,CAAU4uB,GAAV;AAAgB;AACrB;;AAED;AACA,WAAS+U,gBAAT,CAA0BjhC,GAA1B,EAA+BkI,MAA/B,EAAuC1I,IAAvC,EAA6CC,EAA7C,EAAiD;AAC/C,QAAIuiC,WAAW95B,OAAO,WAAWlI,IAAIjE,EAAtB,CAAf;AAAA,QAA0CJ,IAAI,CAA9C;AACAqE,QAAIkE,IAAJ,CAAShH,KAAK8I,GAAL,CAAShG,IAAIyB,KAAb,EAAoBjC,IAApB,CAAT,EAAoCtC,KAAKC,GAAL,CAAS6C,IAAIyB,KAAJ,GAAYzB,IAAI0D,IAAzB,EAA+BjE,EAA/B,CAApC,EAAwE,UAAUwE,IAAV,EAAgB;AACtF,UAAIA,KAAKgD,WAAT,EACE;AAAE,SAAC+6B,aAAaA,WAAW95B,OAAO,WAAWlI,IAAIjE,EAAtB,IAA4B,EAApD,CAAD,EAA0DJ,CAA1D,IAA+DsI,KAAKgD,WAApE;AAAiF;AACrF,QAAEtL,CAAF;AACD,KAJD;AAKD;;AAED;AACA;AACA,WAASsmC,kBAAT,CAA4Bp7B,KAA5B,EAAmC;AACjC,QAAI,CAACA,KAAL,EAAY;AAAE,aAAO,IAAP;AAAa;AAC3B,QAAInJ,GAAJ;AACA,SAAK,IAAIxF,IAAI,CAAb,EAAgBA,IAAI2O,MAAM5P,MAA1B,EAAkC,EAAEiB,CAApC,EAAuC;AACrC,UAAI2O,MAAM3O,CAAN,EAASyO,MAAT,CAAgBu7B,iBAApB,EAAuC;AAAE,YAAI,CAACxkC,GAAL,EAAU;AAAEA,gBAAMmJ,MAAM9P,KAAN,CAAY,CAAZ,EAAemB,CAAf,CAAN;AAAyB;AAAE,OAAhF,MACK,IAAIwF,GAAJ,EAAS;AAAEA,YAAIJ,IAAJ,CAASuJ,MAAM3O,CAAN,CAAT;AAAoB;AACrC;AACD,WAAO,CAACwF,GAAD,GAAOmJ,KAAP,GAAenJ,IAAIzG,MAAJ,GAAayG,GAAb,GAAmB,IAAzC;AACD;;AAED;AACA,WAASykC,WAAT,CAAqBniC,GAArB,EAA0BkI,MAA1B,EAAkC;AAChC,QAAIM,QAAQN,OAAO,WAAWlI,IAAIjE,EAAtB,CAAZ;AACA,QAAI,CAACyM,KAAL,EAAY;AAAE,aAAO,IAAP;AAAa;AAC3B,QAAIhB,KAAK,EAAT;AACA,SAAK,IAAItP,IAAI,CAAb,EAAgBA,IAAIgQ,OAAO/D,IAAP,CAAYlN,MAAhC,EAAwC,EAAEiB,CAA1C,EACE;AAAEsP,SAAGlK,IAAH,CAAQ2kC,mBAAmBz5B,MAAMtQ,CAAN,CAAnB,CAAR;AAAuC;AAC3C,WAAOsP,EAAP;AACD;;AAED;AACA;AACA;AACA;AACA,WAAS46B,aAAT,CAAuBpiC,GAAvB,EAA4BkI,MAA5B,EAAoC;AAClC,QAAIb,MAAM86B,YAAYniC,GAAZ,EAAiBkI,MAAjB,CAAV;AACA,QAAIm6B,YAAYp6B,uBAAuBjI,GAAvB,EAA4BkI,MAA5B,CAAhB;AACA,QAAI,CAACb,GAAL,EAAU;AAAE,aAAOg7B,SAAP;AAAkB;AAC9B,QAAI,CAACA,SAAL,EAAgB;AAAE,aAAOh7B,GAAP;AAAY;;AAE9B,SAAK,IAAInP,IAAI,CAAb,EAAgBA,IAAImP,IAAIpQ,MAAxB,EAAgC,EAAEiB,CAAlC,EAAqC;AACnC,UAAIoqC,SAASj7B,IAAInP,CAAJ,CAAb;AAAA,UAAqBqqC,aAAaF,UAAUnqC,CAAV,CAAlC;AACA,UAAIoqC,UAAUC,UAAd,EAA0B;AACxB17B,eAAO,KAAK,IAAI6C,IAAI,CAAb,EAAgBA,IAAI64B,WAAWtrC,MAA/B,EAAuC,EAAEyS,CAAzC,EAA4C;AACjD,cAAI5C,OAAOy7B,WAAW74B,CAAX,CAAX;AACA,eAAK,IAAI+X,IAAI,CAAb,EAAgBA,IAAI6gB,OAAOrrC,MAA3B,EAAmC,EAAEwqB,CAArC,EACE;AAAE,gBAAI6gB,OAAO7gB,CAAP,EAAU9a,MAAV,IAAoBG,KAAKH,MAA7B,EAAqC;AAAE,uBAASE,KAAT;AAAgB;AAAE;AAC7Dy7B,iBAAOhlC,IAAP,CAAYwJ,IAAZ;AACD;AACF,OAPD,MAOO,IAAIy7B,UAAJ,EAAgB;AACrBl7B,YAAInP,CAAJ,IAASqqC,UAAT;AACD;AACF;AACD,WAAOl7B,GAAP;AACD;;AAED;AACA;AACA,WAASm7B,gBAAT,CAA0BvI,MAA1B,EAAkCwI,QAAlC,EAA4CC,cAA5C,EAA4D;AAC1D,QAAIlrB,OAAO,EAAX;AACA,SAAK,IAAItf,IAAI,CAAb,EAAgBA,IAAI+hC,OAAOhjC,MAA3B,EAAmC,EAAEiB,CAArC,EAAwC;AACtC,UAAIyqC,QAAQ1I,OAAO/hC,CAAP,CAAZ;AACA,UAAIyqC,MAAMxW,MAAV,EAAkB;AAChB3U,aAAKla,IAAL,CAAUolC,iBAAiBxF,UAAUviC,SAAV,CAAoB2iC,QAApB,CAA6B1iC,IAA7B,CAAkC+nC,KAAlC,CAAjB,GAA4DA,KAAtE;AACA;AACD;AACD,UAAI7iB,UAAU6iB,MAAM7iB,OAApB;AAAA,UAA6B8iB,aAAa,EAA1C;AACAprB,WAAKla,IAAL,CAAU,EAACwiB,SAAS8iB,UAAV,EAAV;AACA,WAAK,IAAIl5B,IAAI,CAAb,EAAgBA,IAAIoW,QAAQ7oB,MAA5B,EAAoC,EAAEyS,CAAtC,EAAyC;AACvC,YAAIxB,SAAS4X,QAAQpW,CAAR,CAAb;AAAA,YAAyBF,IAAK,KAAK,CAAnC;AACAo5B,mBAAWtlC,IAAX,CAAgB,EAACkC,MAAM0I,OAAO1I,IAAd,EAAoBC,IAAIyI,OAAOzI,EAA/B,EAAmC0E,MAAM+D,OAAO/D,IAAhD,EAAhB;AACA,YAAIs+B,QAAJ,EAAc;AAAE,eAAK,IAAItnC,IAAT,IAAiB+M,MAAjB,EAAyB;AAAE,gBAAIsB,IAAIrO,KAAKhF,KAAL,CAAW,eAAX,CAAR,EAAqC;AAC9E,kBAAI0F,QAAQ4mC,QAAR,EAAkBrsC,OAAOoT,EAAE,CAAF,CAAP,CAAlB,IAAkC,CAAC,CAAvC,EAA0C;AACxCjM,oBAAIqlC,UAAJ,EAAgBznC,IAAhB,IAAwB+M,OAAO/M,IAAP,CAAxB;AACA,uBAAO+M,OAAO/M,IAAP,CAAP;AACD;AACF;AAAE;AAAE;AACN;AACF;AACD,WAAOqc,IAAP;AACD;;AAED;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAASqrB,WAAT,CAAqBxqC,KAArB,EAA4Bm0B,IAA5B,EAAkC5D,KAAlC,EAAyC4R,MAAzC,EAAiD;AAC/C,QAAIA,MAAJ,EAAY;AACV,UAAI9P,SAASryB,MAAMqyB,MAAnB;AACA,UAAI9B,KAAJ,EAAW;AACT,YAAIka,YAAYr9B,IAAI+mB,IAAJ,EAAU9B,MAAV,IAAoB,CAApC;AACA,YAAIoY,aAAcr9B,IAAImjB,KAAJ,EAAW8B,MAAX,IAAqB,CAAvC,EAA2C;AACzCA,mBAAS8B,IAAT;AACAA,iBAAO5D,KAAP;AACD,SAHD,MAGO,IAAIka,aAAcr9B,IAAI+mB,IAAJ,EAAU5D,KAAV,IAAmB,CAArC,EAAyC;AAC9C4D,iBAAO5D,KAAP;AACD;AACF;AACD,aAAO,IAAI2U,KAAJ,CAAU7S,MAAV,EAAkB8B,IAAlB,CAAP;AACD,KAZD,MAYO;AACL,aAAO,IAAI+Q,KAAJ,CAAU3U,SAAS4D,IAAnB,EAAyBA,IAAzB,CAAP;AACD;AACF;;AAED;AACA,WAASuW,eAAT,CAAyB/iC,GAAzB,EAA8BwsB,IAA9B,EAAoC5D,KAApC,EAA2CzjB,OAA3C,EAAoDq1B,MAApD,EAA4D;AAC1D,QAAIA,UAAU,IAAd,EAAoB;AAAEA,eAASx6B,IAAIkM,EAAJ,KAAWlM,IAAIkM,EAAJ,CAAOC,OAAP,CAAe9I,KAAf,IAAwBrD,IAAIw6B,MAAvC,CAAT;AAAyD;AAC/EwI,iBAAahjC,GAAb,EAAkB,IAAIk9B,SAAJ,CAAc,CAAC2F,YAAY7iC,IAAIksB,GAAJ,CAAQJ,OAAR,EAAZ,EAA+BU,IAA/B,EAAqC5D,KAArC,EAA4C4R,MAA5C,CAAD,CAAd,EAAqE,CAArE,CAAlB,EAA2Fr1B,OAA3F;AACD;;AAED;AACA;AACA,WAAS89B,gBAAT,CAA0BjjC,GAA1B,EAA+BkjC,KAA/B,EAAsC/9B,OAAtC,EAA+C;AAC7C,QAAIzH,MAAM,EAAV;AACA,QAAI88B,SAASx6B,IAAIkM,EAAJ,KAAWlM,IAAIkM,EAAJ,CAAOC,OAAP,CAAe9I,KAAf,IAAwBrD,IAAIw6B,MAAvC,CAAb;AACA,SAAK,IAAItiC,IAAI,CAAb,EAAgBA,IAAI8H,IAAIksB,GAAJ,CAAQC,MAAR,CAAel1B,MAAnC,EAA2CiB,GAA3C,EACE;AAAEwF,UAAIxF,CAAJ,IAAS2qC,YAAY7iC,IAAIksB,GAAJ,CAAQC,MAAR,CAAej0B,CAAf,CAAZ,EAA+BgrC,MAAMhrC,CAAN,CAA/B,EAAyC,IAAzC,EAA+CsiC,MAA/C,CAAT;AAAiE;AACrE,QAAI2I,SAAS1F,mBAAmB//B,GAAnB,EAAwBsC,IAAIksB,GAAJ,CAAQE,SAAhC,CAAb;AACA4W,iBAAahjC,GAAb,EAAkBmjC,MAAlB,EAA0Bh+B,OAA1B;AACD;;AAED;AACA,WAASi+B,mBAAT,CAA6BpjC,GAA7B,EAAkC9H,CAAlC,EAAqCG,KAArC,EAA4C8M,OAA5C,EAAqD;AACnD,QAAIgnB,SAASnsB,IAAIksB,GAAJ,CAAQC,MAAR,CAAep1B,KAAf,CAAqB,CAArB,CAAb;AACAo1B,WAAOj0B,CAAP,IAAYG,KAAZ;AACA2qC,iBAAahjC,GAAb,EAAkBy9B,mBAAmBtR,MAAnB,EAA2BnsB,IAAIksB,GAAJ,CAAQE,SAAnC,CAAlB,EAAiEjnB,OAAjE;AACD;;AAED;AACA,WAASk+B,kBAAT,CAA4BrjC,GAA5B,EAAiC0qB,MAAjC,EAAyC8B,IAAzC,EAA+CrnB,OAA/C,EAAwD;AACtD69B,iBAAahjC,GAAb,EAAkB69B,gBAAgBnT,MAAhB,EAAwB8B,IAAxB,CAAlB,EAAiDrnB,OAAjD;AACD;;AAED;AACA;AACA,WAASm+B,qBAAT,CAA+BtjC,GAA/B,EAAoCksB,GAApC,EAAyC/mB,OAAzC,EAAkD;AAChD,QAAInK,MAAM;AACRmxB,cAAQD,IAAIC,MADJ;AAER+H,cAAQ,gBAAS/H,MAAT,EAAiB;AACvB,YAAIpW,SAAS,IAAb;;AAEA,aAAKoW,MAAL,GAAc,EAAd;AACA,aAAK,IAAIj0B,IAAI,CAAb,EAAgBA,IAAIi0B,OAAOl1B,MAA3B,EAAmCiB,GAAnC,EACE;AAAE6d,iBAAOoW,MAAP,CAAcj0B,CAAd,IAAmB,IAAIqlC,KAAJ,CAAUt3B,SAAQjG,GAAR,EAAamsB,OAAOj0B,CAAP,EAAUwyB,MAAvB,CAAV,EACMzkB,SAAQjG,GAAR,EAAamsB,OAAOj0B,CAAP,EAAUs0B,IAAvB,CADN,CAAnB;AACwD;AAC7D,OATO;AAUR7vB,cAAQwI,WAAWA,QAAQxI;AAVnB,KAAV;AAYA6S,WAAOxP,GAAP,EAAY,uBAAZ,EAAqCA,GAArC,EAA0ChF,GAA1C;AACA,QAAIgF,IAAIkM,EAAR,EAAY;AAAEsD,aAAOxP,IAAIkM,EAAX,EAAe,uBAAf,EAAwClM,IAAIkM,EAA5C,EAAgDlR,GAAhD;AAAsD;AACpE,QAAIA,IAAImxB,MAAJ,IAAcD,IAAIC,MAAtB,EAA8B;AAAE,aAAOsR,mBAAmBziC,IAAImxB,MAAvB,EAA+BnxB,IAAImxB,MAAJ,CAAWl1B,MAAX,GAAoB,CAAnD,CAAP;AAA8D,KAA9F,MACK;AAAE,aAAOi1B,GAAP;AAAY;AACpB;;AAED,WAASqX,0BAAT,CAAoCvjC,GAApC,EAAyCksB,GAAzC,EAA8C/mB,OAA9C,EAAuD;AACrD,QAAIi7B,OAAOpgC,IAAIyhC,OAAJ,CAAYrB,IAAvB;AAAA,QAA6Bl6B,OAAO3I,IAAI6iC,IAAJ,CAApC;AACA,QAAIl6B,QAAQA,KAAKimB,MAAjB,EAAyB;AACvBiU,WAAKA,KAAKnpC,MAAL,GAAc,CAAnB,IAAwBi1B,GAAxB;AACAsX,yBAAmBxjC,GAAnB,EAAwBksB,GAAxB,EAA6B/mB,OAA7B;AACD,KAHD,MAGO;AACL69B,mBAAahjC,GAAb,EAAkBksB,GAAlB,EAAuB/mB,OAAvB;AACD;AACF;;AAED;AACA,WAAS69B,YAAT,CAAsBhjC,GAAtB,EAA2BksB,GAA3B,EAAgC/mB,OAAhC,EAAyC;AACvCq+B,uBAAmBxjC,GAAnB,EAAwBksB,GAAxB,EAA6B/mB,OAA7B;AACA08B,0BAAsB7hC,GAAtB,EAA2BA,IAAIksB,GAA/B,EAAoClsB,IAAIkM,EAAJ,GAASlM,IAAIkM,EAAJ,CAAOgE,KAAP,CAAanU,EAAtB,GAA2B0nC,GAA/D,EAAoEt+B,OAApE;AACD;;AAED,WAASq+B,kBAAT,CAA4BxjC,GAA5B,EAAiCksB,GAAjC,EAAsC/mB,OAAtC,EAA+C;AAC7C,QAAIiL,WAAWpQ,GAAX,EAAgB,uBAAhB,KAA4CA,IAAIkM,EAAJ,IAAUkE,WAAWpQ,IAAIkM,EAAf,EAAmB,uBAAnB,CAA1D,EACE;AAAEggB,YAAMoX,sBAAsBtjC,GAAtB,EAA2BksB,GAA3B,EAAgC/mB,OAAhC,CAAN;AAAgD;;AAEpD,QAAIyf,OAAOzf,WAAWA,QAAQyf,IAAnB,KACRnf,IAAIymB,IAAIJ,OAAJ,GAAcU,IAAlB,EAAwBxsB,IAAIksB,GAAJ,CAAQJ,OAAR,GAAkBU,IAA1C,IAAkD,CAAlD,GAAsD,CAAC,CAAvD,GAA2D,CADnD,CAAX;AAEAkX,sBAAkB1jC,GAAlB,EAAuB2jC,sBAAsB3jC,GAAtB,EAA2BksB,GAA3B,EAAgCtH,IAAhC,EAAsC,IAAtC,CAAvB;;AAEA,QAAI,EAAEzf,WAAWA,QAAQ1I,MAAR,KAAmB,KAAhC,KAA0CuD,IAAIkM,EAAlD,EACE;AAAEomB,0BAAoBtyB,IAAIkM,EAAxB;AAA6B;AAClC;;AAED,WAASw3B,iBAAT,CAA2B1jC,GAA3B,EAAgCksB,GAAhC,EAAqC;AACnC,QAAIA,IAAIiR,MAAJ,CAAWn9B,IAAIksB,GAAf,CAAJ,EAAyB;AAAE;AAAQ;;AAEnClsB,QAAIksB,GAAJ,GAAUA,GAAV;;AAEA,QAAIlsB,IAAIkM,EAAR,EAAY;AACVlM,UAAIkM,EAAJ,CAAOgE,KAAP,CAAagmB,WAAb,GAA2Bl2B,IAAIkM,EAAJ,CAAOgE,KAAP,CAAammB,gBAAb,GAAgC,IAA3D;AACArmB,2BAAqBhQ,IAAIkM,EAAzB;AACD;AACDsT,gBAAYxf,GAAZ,EAAiB,gBAAjB,EAAmCA,GAAnC;AACD;;AAED;AACA;AACA,WAAS4jC,gBAAT,CAA0B5jC,GAA1B,EAA+B;AAC7B0jC,sBAAkB1jC,GAAlB,EAAuB2jC,sBAAsB3jC,GAAtB,EAA2BA,IAAIksB,GAA/B,EAAoC,IAApC,EAA0C,KAA1C,CAAvB;AACD;;AAED;AACA;AACA,WAASyX,qBAAT,CAA+B3jC,GAA/B,EAAoCksB,GAApC,EAAyCtH,IAAzC,EAA+Cif,QAA/C,EAAyD;AACvD,QAAInmC,GAAJ;AACA,SAAK,IAAIxF,IAAI,CAAb,EAAgBA,IAAIg0B,IAAIC,MAAJ,CAAWl1B,MAA/B,EAAuCiB,GAAvC,EAA4C;AAC1C,UAAIG,QAAQ6zB,IAAIC,MAAJ,CAAWj0B,CAAX,CAAZ;AACA,UAAImP,MAAM6kB,IAAIC,MAAJ,CAAWl1B,MAAX,IAAqB+I,IAAIksB,GAAJ,CAAQC,MAAR,CAAel1B,MAApC,IAA8C+I,IAAIksB,GAAJ,CAAQC,MAAR,CAAej0B,CAAf,CAAxD;AACA,UAAI4rC,YAAYC,WAAW/jC,GAAX,EAAgB3H,MAAMqyB,MAAtB,EAA8BrjB,OAAOA,IAAIqjB,MAAzC,EAAiD9F,IAAjD,EAAuDif,QAAvD,CAAhB;AACA,UAAIG,UAAUD,WAAW/jC,GAAX,EAAgB3H,MAAMm0B,IAAtB,EAA4BnlB,OAAOA,IAAImlB,IAAvC,EAA6C5H,IAA7C,EAAmDif,QAAnD,CAAd;AACA,UAAInmC,OAAOomC,aAAazrC,MAAMqyB,MAA1B,IAAoCsZ,WAAW3rC,MAAMm0B,IAAzD,EAA+D;AAC7D,YAAI,CAAC9uB,GAAL,EAAU;AAAEA,gBAAMwuB,IAAIC,MAAJ,CAAWp1B,KAAX,CAAiB,CAAjB,EAAoBmB,CAApB,CAAN;AAA8B;AAC1CwF,YAAIxF,CAAJ,IAAS,IAAIqlC,KAAJ,CAAUuG,SAAV,EAAqBE,OAArB,CAAT;AACD;AACF;AACD,WAAOtmC,MAAM+/B,mBAAmB//B,GAAnB,EAAwBwuB,IAAIE,SAA5B,CAAN,GAA+CF,GAAtD;AACD;;AAED,WAAS+X,eAAT,CAAyBjkC,GAAzB,EAA8BjD,GAA9B,EAAmCmnC,MAAnC,EAA2C9kC,GAA3C,EAAgDykC,QAAhD,EAA0D;AACxD,QAAI5/B,OAAOR,QAAQzD,GAAR,EAAajD,IAAIkH,IAAjB,CAAX;AACA,QAAIA,KAAKgD,WAAT,EAAsB;AAAE,WAAK,IAAI/O,IAAI,CAAb,EAAgBA,IAAI+L,KAAKgD,WAAL,CAAiBhQ,MAArC,EAA6C,EAAEiB,CAA/C,EAAkD;AACxE,YAAI0S,KAAK3G,KAAKgD,WAAL,CAAiB/O,CAAjB,CAAT;AAAA,YAA8BsR,IAAIoB,GAAGjE,MAArC;AACA,YAAI,CAACiE,GAAGpL,IAAH,IAAW,IAAX,KAAoBgK,EAAE9B,aAAF,GAAkBkD,GAAGpL,IAAH,IAAWzC,IAAIyB,EAAjC,GAAsCoM,GAAGpL,IAAH,GAAUzC,IAAIyB,EAAxE,CAAD,MACCoM,GAAGnL,EAAH,IAAS,IAAT,KAAkB+J,EAAE1B,cAAF,GAAmB8C,GAAGnL,EAAH,IAAS1C,IAAIyB,EAAhC,GAAqCoM,GAAGnL,EAAH,GAAQ1C,IAAIyB,EAAnE,CADD,CAAJ,EAC8E;AAC5E,cAAIqlC,QAAJ,EAAc;AACZr0B,mBAAOhG,CAAP,EAAU,mBAAV;AACA,gBAAIA,EAAE04B,iBAAN,EAAyB;AACvB,kBAAI,CAACj+B,KAAKgD,WAAV,EAAuB;AAAE;AAAO,eAAhC,MACK;AAAC,kBAAE/O,CAAF,CAAK;AAAS;AACrB;AACF;AACD,cAAI,CAACsR,EAAE26B,MAAP,EAAe;AAAE;AAAU;;AAE3B,cAAID,MAAJ,EAAY;AACV,gBAAIE,OAAO56B,EAAEC,IAAF,CAAOrK,MAAM,CAAN,GAAU,CAAV,GAAc,CAAC,CAAtB,CAAX;AAAA,gBAAqCmF,OAAQ,KAAK,CAAlD;AACA,gBAAInF,MAAM,CAAN,GAAUoK,EAAE1B,cAAZ,GAA6B0B,EAAE9B,aAAnC,EACE;AAAE08B,qBAAOC,QAAQrkC,GAAR,EAAaokC,IAAb,EAAmB,CAAChlC,GAApB,EAAyBglC,QAAQA,KAAKngC,IAAL,IAAalH,IAAIkH,IAAzB,GAAgCA,IAAhC,GAAuC,IAAhE,CAAP;AAA8E;AAClF,gBAAImgC,QAAQA,KAAKngC,IAAL,IAAalH,IAAIkH,IAAzB,KAAkCM,OAAOkB,IAAI2+B,IAAJ,EAAUF,MAAV,CAAzC,MAAgE9kC,MAAM,CAAN,GAAUmF,OAAO,CAAjB,GAAqBA,OAAO,CAA5F,CAAJ,EACE;AAAE,qBAAO0/B,gBAAgBjkC,GAAhB,EAAqBokC,IAArB,EAA2BrnC,GAA3B,EAAgCqC,GAAhC,EAAqCykC,QAArC,CAAP;AAAuD;AAC5D;;AAED,cAAIS,MAAM96B,EAAEC,IAAF,CAAOrK,MAAM,CAAN,GAAU,CAAC,CAAX,GAAe,CAAtB,CAAV;AACA,cAAIA,MAAM,CAAN,GAAUoK,EAAE9B,aAAZ,GAA4B8B,EAAE1B,cAAlC,EACE;AAAEw8B,kBAAMD,QAAQrkC,GAAR,EAAaskC,GAAb,EAAkBllC,GAAlB,EAAuBklC,IAAIrgC,IAAJ,IAAYlH,IAAIkH,IAAhB,GAAuBA,IAAvB,GAA8B,IAArD,CAAN;AAAkE;AACtE,iBAAOqgC,MAAML,gBAAgBjkC,GAAhB,EAAqBskC,GAArB,EAA0BvnC,GAA1B,EAA+BqC,GAA/B,EAAoCykC,QAApC,CAAN,GAAsD,IAA7D;AACD;AACF;AAAE;AACH,WAAO9mC,GAAP;AACD;;AAED;AACA,WAASgnC,UAAT,CAAoB/jC,GAApB,EAAyBjD,GAAzB,EAA8BmnC,MAA9B,EAAsCtf,IAAtC,EAA4Cif,QAA5C,EAAsD;AACpD,QAAIzkC,MAAMwlB,QAAQ,CAAlB;AACA,QAAIpc,QAAQy7B,gBAAgBjkC,GAAhB,EAAqBjD,GAArB,EAA0BmnC,MAA1B,EAAkC9kC,GAAlC,EAAuCykC,QAAvC,KACP,CAACA,QAAD,IAAaI,gBAAgBjkC,GAAhB,EAAqBjD,GAArB,EAA0BmnC,MAA1B,EAAkC9kC,GAAlC,EAAuC,IAAvC,CADN,IAER6kC,gBAAgBjkC,GAAhB,EAAqBjD,GAArB,EAA0BmnC,MAA1B,EAAkC,CAAC9kC,GAAnC,EAAwCykC,QAAxC,CAFQ,IAGP,CAACA,QAAD,IAAaI,gBAAgBjkC,GAAhB,EAAqBjD,GAArB,EAA0BmnC,MAA1B,EAAkC,CAAC9kC,GAAnC,EAAwC,IAAxC,CAHlB;AAIA,QAAI,CAACoJ,KAAL,EAAY;AACVxI,UAAIukC,QAAJ,GAAe,IAAf;AACA,aAAOh/B,IAAIvF,IAAIyB,KAAR,EAAe,CAAf,CAAP;AACD;AACD,WAAO+G,KAAP;AACD;;AAED,WAAS67B,OAAT,CAAiBrkC,GAAjB,EAAsBjD,GAAtB,EAA2BqC,GAA3B,EAAgC6E,IAAhC,EAAsC;AACpC,QAAI7E,MAAM,CAAN,IAAWrC,IAAIyB,EAAJ,IAAU,CAAzB,EAA4B;AAC1B,UAAIzB,IAAIkH,IAAJ,GAAWjE,IAAIyB,KAAnB,EAA0B;AAAE,eAAOwE,SAAQjG,GAAR,EAAauF,IAAIxI,IAAIkH,IAAJ,GAAW,CAAf,CAAb,CAAP;AAAwC,OAApE,MACK;AAAE,eAAO,IAAP;AAAa;AACrB,KAHD,MAGO,IAAI7E,MAAM,CAAN,IAAWrC,IAAIyB,EAAJ,IAAU,CAACyF,QAAQR,QAAQzD,GAAR,EAAajD,IAAIkH,IAAjB,CAAT,EAAiCE,IAAjC,CAAsClN,MAA/D,EAAuE;AAC5E,UAAI8F,IAAIkH,IAAJ,GAAWjE,IAAIyB,KAAJ,GAAYzB,IAAI0D,IAAhB,GAAuB,CAAtC,EAAyC;AAAE,eAAO6B,IAAIxI,IAAIkH,IAAJ,GAAW,CAAf,EAAkB,CAAlB,CAAP;AAA6B,OAAxE,MACK;AAAE,eAAO,IAAP;AAAa;AACrB,KAHM,MAGA;AACL,aAAO,IAAIsB,GAAJ,CAAQxI,IAAIkH,IAAZ,EAAkBlH,IAAIyB,EAAJ,GAASY,GAA3B,CAAP;AACD;AACF;;AAED,WAASolC,SAAT,CAAmBt4B,EAAnB,EAAuB;AACrBA,OAAG82B,YAAH,CAAgBz9B,IAAI2G,GAAG4yB,SAAH,EAAJ,EAAoB,CAApB,CAAhB,EAAwCv5B,IAAI2G,GAAGT,QAAH,EAAJ,CAAxC,EAA4DjP,cAA5D;AACD;;AAED;;AAEA;AACA,WAASioC,YAAT,CAAsBzkC,GAAtB,EAA2BkI,MAA3B,EAAmCgsB,MAAnC,EAA2C;AACzC,QAAIl5B,MAAM;AACR0pC,gBAAU,KADF;AAERllC,YAAM0I,OAAO1I,IAFL;AAGRC,UAAIyI,OAAOzI,EAHH;AAIR0E,YAAM+D,OAAO/D,IAJL;AAKRxH,cAAQuL,OAAOvL,MALP;AAMRgoC,cAAQ,kBAAY;AAAE,eAAO3pC,IAAI0pC,QAAJ,GAAe,IAAtB;AAA6B;AAN3C,KAAV;AAQA,QAAIxQ,MAAJ,EAAY;AAAEl5B,UAAIk5B,MAAJ,GAAa,UAAU10B,IAAV,EAAgBC,EAAhB,EAAoB0E,IAApB,EAA0BxH,MAA1B,EAAkC;AAC3D,YAAI6C,IAAJ,EAAU;AAAExE,cAAIwE,IAAJ,GAAWyG,SAAQjG,GAAR,EAAaR,IAAb,CAAX;AAA+B;AAC3C,YAAIC,EAAJ,EAAQ;AAAEzE,cAAIyE,EAAJ,GAASwG,SAAQjG,GAAR,EAAaP,EAAb,CAAT;AAA2B;AACrC,YAAI0E,IAAJ,EAAU;AAAEnJ,cAAImJ,IAAJ,GAAWA,IAAX;AAAiB;AAC7B,YAAIxH,WAAW8Y,SAAf,EAA0B;AAAEza,cAAI2B,MAAJ,GAAaA,MAAb;AAAqB;AAClD,OALa;AAKX;AACH6S,WAAOxP,GAAP,EAAY,cAAZ,EAA4BA,GAA5B,EAAiChF,GAAjC;AACA,QAAIgF,IAAIkM,EAAR,EAAY;AAAEsD,aAAOxP,IAAIkM,EAAX,EAAe,cAAf,EAA+BlM,IAAIkM,EAAnC,EAAuClR,GAAvC;AAA6C;;AAE3D,QAAIA,IAAI0pC,QAAR,EAAkB;AAAE,aAAO,IAAP;AAAa;AACjC,WAAO,EAACllC,MAAMxE,IAAIwE,IAAX,EAAiBC,IAAIzE,IAAIyE,EAAzB,EAA6B0E,MAAMnJ,IAAImJ,IAAvC,EAA6CxH,QAAQ3B,IAAI2B,MAAzD,EAAP;AACD;;AAED;AACA;AACA,WAASioC,UAAT,CAAoB5kC,GAApB,EAAyBkI,MAAzB,EAAiC28B,cAAjC,EAAiD;AAC/C,QAAI7kC,IAAIkM,EAAR,EAAY;AACV,UAAI,CAAClM,IAAIkM,EAAJ,CAAOgE,KAAZ,EAAmB;AAAE,eAAO6nB,UAAU/3B,IAAIkM,EAAd,EAAkB04B,UAAlB,EAA8B5kC,GAA9B,EAAmCkI,MAAnC,EAA2C28B,cAA3C,CAAP;AAAmE;AACxF,UAAI7kC,IAAIkM,EAAJ,CAAOuI,KAAP,CAAaqwB,aAAjB,EAAgC;AAAE;AAAQ;AAC3C;;AAED,QAAI10B,WAAWpQ,GAAX,EAAgB,cAAhB,KAAmCA,IAAIkM,EAAJ,IAAUkE,WAAWpQ,IAAIkM,EAAf,EAAmB,cAAnB,CAAjD,EAAqF;AACnFhE,eAASu8B,aAAazkC,GAAb,EAAkBkI,MAAlB,EAA0B,IAA1B,CAAT;AACA,UAAI,CAACA,MAAL,EAAa;AAAE;AAAQ;AACxB;;AAED;AACA;AACA,QAAIlO,QAAQsM,oBAAoB,CAACu+B,cAArB,IAAuC37B,qBAAqBlJ,GAArB,EAA0BkI,OAAO1I,IAAjC,EAAuC0I,OAAOzI,EAA9C,CAAnD;AACA,QAAIzF,KAAJ,EAAW;AACT,WAAK,IAAI9B,IAAI8B,MAAM/C,MAAN,GAAe,CAA5B,EAA+BiB,KAAK,CAApC,EAAuC,EAAEA,CAAzC,EACE;AAAE6sC,wBAAgB/kC,GAAhB,EAAqB,EAACR,MAAMxF,MAAM9B,CAAN,EAASsH,IAAhB,EAAsBC,IAAIzF,MAAM9B,CAAN,EAASuH,EAAnC,EAAuC0E,MAAMjM,IAAI,CAAC,EAAD,CAAJ,GAAWgQ,OAAO/D,IAA/D,EAAqExH,QAAQuL,OAAOvL,MAApF,EAArB;AAAmH;AACxH,KAHD,MAGO;AACLooC,sBAAgB/kC,GAAhB,EAAqBkI,MAArB;AACD;AACF;;AAED,WAAS68B,eAAT,CAAyB/kC,GAAzB,EAA8BkI,MAA9B,EAAsC;AACpC,QAAIA,OAAO/D,IAAP,CAAYlN,MAAZ,IAAsB,CAAtB,IAA2BiR,OAAO/D,IAAP,CAAY,CAAZ,KAAkB,EAA7C,IAAmDsB,IAAIyC,OAAO1I,IAAX,EAAiB0I,OAAOzI,EAAxB,KAA+B,CAAtF,EAAyF;AAAE;AAAQ;AACnG,QAAI8hC,WAAWvD,sBAAsBh+B,GAAtB,EAA2BkI,MAA3B,CAAf;AACAo5B,uBAAmBthC,GAAnB,EAAwBkI,MAAxB,EAAgCq5B,QAAhC,EAA0CvhC,IAAIkM,EAAJ,GAASlM,IAAIkM,EAAJ,CAAOgE,KAAP,CAAanU,EAAtB,GAA2B0nC,GAArE;;AAEAuB,wBAAoBhlC,GAApB,EAAyBkI,MAAzB,EAAiCq5B,QAAjC,EAA2Ct5B,uBAAuBjI,GAAvB,EAA4BkI,MAA5B,CAA3C;AACA,QAAI+8B,UAAU,EAAd;;AAEA1F,eAAWv/B,GAAX,EAAgB,UAAUA,GAAV,EAAe2/B,UAAf,EAA2B;AACzC,UAAI,CAACA,UAAD,IAAe9jC,QAAQopC,OAAR,EAAiBjlC,IAAIyhC,OAArB,KAAiC,CAAC,CAArD,EAAwD;AACtDyD,mBAAWllC,IAAIyhC,OAAf,EAAwBv5B,MAAxB;AACA+8B,gBAAQ3nC,IAAR,CAAa0C,IAAIyhC,OAAjB;AACD;AACDuD,0BAAoBhlC,GAApB,EAAyBkI,MAAzB,EAAiC,IAAjC,EAAuCD,uBAAuBjI,GAAvB,EAA4BkI,MAA5B,CAAvC;AACD,KAND;AAOD;;AAED;AACA,WAASi9B,qBAAT,CAA+BnlC,GAA/B,EAAoC2H,IAApC,EAA0Cy9B,kBAA1C,EAA8D;AAC5D,QAAIplC,IAAIkM,EAAJ,IAAUlM,IAAIkM,EAAJ,CAAOuI,KAAP,CAAaqwB,aAAvB,IAAwC,CAACM,kBAA7C,EAAiE;AAAE;AAAQ;;AAE3E,QAAI/D,OAAOrhC,IAAIyhC,OAAf;AAAA,QAAwBkB,KAAxB;AAAA,QAA+BpB,WAAWvhC,IAAIksB,GAA9C;AACA,QAAIrtB,SAAS8I,QAAQ,MAAR,GAAiB05B,KAAKjB,IAAtB,GAA6BiB,KAAKhB,MAA/C;AAAA,QAAuD0B,OAAOp6B,QAAQ,MAAR,GAAiB05B,KAAKhB,MAAtB,GAA+BgB,KAAKjB,IAAlG;;AAEA;AACA;AACA,QAAIloC,IAAI,CAAR;AACA,WAAOA,IAAI2G,OAAO5H,MAAlB,EAA0BiB,GAA1B,EAA+B;AAC7ByqC,cAAQ9jC,OAAO3G,CAAP,CAAR;AACA,UAAIktC,qBAAqBzC,MAAMxW,MAAN,IAAgB,CAACwW,MAAMxF,MAAN,CAAan9B,IAAIksB,GAAjB,CAAtC,GAA8D,CAACyW,MAAMxW,MAAzE,EACE;AAAE;AAAO;AACZ;AACD,QAAIj0B,KAAK2G,OAAO5H,MAAhB,EAAwB;AAAE;AAAQ;AAClCoqC,SAAKV,UAAL,GAAkBU,KAAKT,aAAL,GAAqB,IAAvC;;AAEA,aAAS;AACP+B,cAAQ9jC,OAAOsiC,GAAP,EAAR;AACA,UAAIwB,MAAMxW,MAAV,EAAkB;AAChBwV,+BAAuBgB,KAAvB,EAA8BZ,IAA9B;AACA,YAAIqD,sBAAsB,CAACzC,MAAMxF,MAAN,CAAan9B,IAAIksB,GAAjB,CAA3B,EAAkD;AAChD8W,uBAAahjC,GAAb,EAAkB2iC,KAAlB,EAAyB,EAACb,WAAW,KAAZ,EAAzB;AACA;AACD;AACDP,mBAAWoB,KAAX;AACD,OAPD,MAQK;AAAE;AAAO;AACf;;AAED;AACA;AACA,QAAI0C,cAAc,EAAlB;AACA1D,2BAAuBJ,QAAvB,EAAiCQ,IAAjC;AACAA,SAAKzkC,IAAL,CAAU,EAACwiB,SAASulB,WAAV,EAAuBxE,YAAYQ,KAAKR,UAAxC,EAAV;AACAQ,SAAKR,UAAL,GAAkB8B,MAAM9B,UAAN,IAAoB,EAAEQ,KAAKP,aAA7C;;AAEA,QAAIwE,SAASl1B,WAAWpQ,GAAX,EAAgB,cAAhB,KAAmCA,IAAIkM,EAAJ,IAAUkE,WAAWpQ,IAAIkM,EAAf,EAAmB,cAAnB,CAA1D;;AAEA,QAAI8L,OAAO,SAAPA,IAAO,CAAW9f,CAAX,EAAe;AACxB,UAAIgQ,SAASy6B,MAAM7iB,OAAN,CAAc5nB,CAAd,CAAb;AACAgQ,aAAOvL,MAAP,GAAgBgL,IAAhB;AACA,UAAI29B,UAAU,CAACb,aAAazkC,GAAb,EAAkBkI,MAAlB,EAA0B,KAA1B,CAAf,EAAiD;AAC/CrJ,eAAO5H,MAAP,GAAgB,CAAhB;AACA,eAAO,EAAP;AACD;;AAEDouC,kBAAY/nC,IAAZ,CAAiByjC,wBAAwB/gC,GAAxB,EAA6BkI,MAA7B,CAAjB;;AAEA,UAAIpR,QAAQoB,IAAI8lC,sBAAsBh+B,GAAtB,EAA2BkI,MAA3B,CAAJ,GAAyC3K,IAAIsB,MAAJ,CAArD;AACAmmC,0BAAoBhlC,GAApB,EAAyBkI,MAAzB,EAAiCpR,KAAjC,EAAwCsrC,cAAcpiC,GAAd,EAAmBkI,MAAnB,CAAxC;AACA,UAAI,CAAChQ,CAAD,IAAM8H,IAAIkM,EAAd,EAAkB;AAAElM,YAAIkM,EAAJ,CAAO6kB,cAAP,CAAsB,EAACvxB,MAAM0I,OAAO1I,IAAd,EAAoBC,IAAIq+B,UAAU51B,MAAV,CAAxB,EAAtB;AAAmE;AACvF,UAAI+8B,UAAU,EAAd;;AAEA;AACA1F,iBAAWv/B,GAAX,EAAgB,UAAUA,GAAV,EAAe2/B,UAAf,EAA2B;AACzC,YAAI,CAACA,UAAD,IAAe9jC,QAAQopC,OAAR,EAAiBjlC,IAAIyhC,OAArB,KAAiC,CAAC,CAArD,EAAwD;AACtDyD,qBAAWllC,IAAIyhC,OAAf,EAAwBv5B,MAAxB;AACA+8B,kBAAQ3nC,IAAR,CAAa0C,IAAIyhC,OAAjB;AACD;AACDuD,4BAAoBhlC,GAApB,EAAyBkI,MAAzB,EAAiC,IAAjC,EAAuCk6B,cAAcpiC,GAAd,EAAmBkI,MAAnB,CAAvC;AACD,OAND;AAOD,KAvBD;;AAyBA,SAAK,IAAIpD,MAAM69B,MAAM7iB,OAAN,CAAc7oB,MAAd,GAAuB,CAAtC,EAAyC6N,OAAO,CAAhD,EAAmD,EAAEA,GAArD,EAA0D;AACxD,UAAIygC,WAAWvtB,KAAMlT,GAAN,CAAf;;AAEA,UAAKygC,QAAL,EAAgB,OAAOA,SAASC,CAAhB;AACjB;AACF;;AAED;AACA;AACA,WAASC,QAAT,CAAkBzlC,GAAlB,EAAuB0lC,QAAvB,EAAiC;AAC/B,QAAIA,YAAY,CAAhB,EAAmB;AAAE;AAAQ;AAC7B1lC,QAAIyB,KAAJ,IAAaikC,QAAb;AACA1lC,QAAIksB,GAAJ,GAAU,IAAIgR,SAAJ,CAAcz/B,IAAIuC,IAAIksB,GAAJ,CAAQC,MAAZ,EAAoB,UAAU9zB,KAAV,EAAiB;AAAE,aAAO,IAAIklC,KAAJ,CACpEh4B,IAAIlN,MAAMqyB,MAAN,CAAazmB,IAAb,GAAoByhC,QAAxB,EAAkCrtC,MAAMqyB,MAAN,CAAalsB,EAA/C,CADoE,EAEpE+G,IAAIlN,MAAMm0B,IAAN,CAAWvoB,IAAX,GAAkByhC,QAAtB,EAAgCrtC,MAAMm0B,IAAN,CAAWhuB,EAA3C,CAFoE,CAAP;AAG3D,KAHoB,CAAd,EAGHwB,IAAIksB,GAAJ,CAAQE,SAHL,CAAV;AAIA,QAAIpsB,IAAIkM,EAAR,EAAY;AACVgsB,gBAAUl4B,IAAIkM,EAAd,EAAkBlM,IAAIyB,KAAtB,EAA6BzB,IAAIyB,KAAJ,GAAYikC,QAAzC,EAAmDA,QAAnD;AACA,WAAK,IAAIxlC,IAAIF,IAAIkM,EAAJ,CAAOC,OAAf,EAAwBlH,IAAI/E,EAAEqB,QAAnC,EAA6C0D,IAAI/E,EAAEsB,MAAnD,EAA2DyD,GAA3D,EACE;AAAEyzB,sBAAc14B,IAAIkM,EAAlB,EAAsBjH,CAAtB,EAAyB,QAAzB;AAAoC;AACzC;AACF;;AAED;AACA;AACA,WAAS+/B,mBAAT,CAA6BhlC,GAA7B,EAAkCkI,MAAlC,EAA0Cq5B,QAA1C,EAAoD16B,KAApD,EAA2D;AACzD,QAAI7G,IAAIkM,EAAJ,IAAU,CAAClM,IAAIkM,EAAJ,CAAOgE,KAAtB,EACE;AAAE,aAAO6nB,UAAU/3B,IAAIkM,EAAd,EAAkB84B,mBAAlB,EAAuChlC,GAAvC,EAA4CkI,MAA5C,EAAoDq5B,QAApD,EAA8D16B,KAA9D,CAAP;AAA6E;;AAEjF,QAAIqB,OAAOzI,EAAP,CAAUwE,IAAV,GAAiBjE,IAAIyB,KAAzB,EAAgC;AAC9BgkC,eAASzlC,GAAT,EAAckI,OAAO/D,IAAP,CAAYlN,MAAZ,GAAqB,CAArB,IAA0BiR,OAAOzI,EAAP,CAAUwE,IAAV,GAAiBiE,OAAO1I,IAAP,CAAYyE,IAAvD,CAAd;AACA;AACD;AACD,QAAIiE,OAAO1I,IAAP,CAAYyE,IAAZ,GAAmBjE,IAAIyL,QAAJ,EAAvB,EAAuC;AAAE;AAAQ;;AAEjD;AACA,QAAIvD,OAAO1I,IAAP,CAAYyE,IAAZ,GAAmBjE,IAAIyB,KAA3B,EAAkC;AAChC,UAAI4B,QAAQ6E,OAAO/D,IAAP,CAAYlN,MAAZ,GAAqB,CAArB,IAA0B+I,IAAIyB,KAAJ,GAAYyG,OAAO1I,IAAP,CAAYyE,IAAlD,CAAZ;AACAwhC,eAASzlC,GAAT,EAAcqD,KAAd;AACA6E,eAAS,EAAC1I,MAAM+F,IAAIvF,IAAIyB,KAAR,EAAe,CAAf,CAAP,EAA0BhC,IAAI8F,IAAI2C,OAAOzI,EAAP,CAAUwE,IAAV,GAAiBZ,KAArB,EAA4B6E,OAAOzI,EAAP,CAAUjB,EAAtC,CAA9B;AACC2F,cAAM,CAAC5G,IAAI2K,OAAO/D,IAAX,CAAD,CADP,EAC2BxH,QAAQuL,OAAOvL,MAD1C,EAAT;AAED;AACD,QAAIuJ,OAAOlG,IAAIyL,QAAJ,EAAX;AACA,QAAIvD,OAAOzI,EAAP,CAAUwE,IAAV,GAAiBiC,IAArB,EAA2B;AACzBgC,eAAS,EAAC1I,MAAM0I,OAAO1I,IAAd,EAAoBC,IAAI8F,IAAIW,IAAJ,EAAUzC,QAAQzD,GAAR,EAAakG,IAAb,EAAmB/B,IAAnB,CAAwBlN,MAAlC,CAAxB;AACCkN,cAAM,CAAC+D,OAAO/D,IAAP,CAAY,CAAZ,CAAD,CADP,EACyBxH,QAAQuL,OAAOvL,MADxC,EAAT;AAED;;AAEDuL,WAAOy9B,OAAP,GAAiB3hC,WAAWhE,GAAX,EAAgBkI,OAAO1I,IAAvB,EAA6B0I,OAAOzI,EAApC,CAAjB;;AAEA,QAAI,CAAC8hC,QAAL,EAAe;AAAEA,iBAAWvD,sBAAsBh+B,GAAtB,EAA2BkI,MAA3B,CAAX;AAA+C;AAChE,QAAIlI,IAAIkM,EAAR,EAAY;AAAE05B,kCAA4B5lC,IAAIkM,EAAhC,EAAoChE,MAApC,EAA4CrB,KAA5C;AAAoD,KAAlE,MACK;AAAE83B,gBAAU3+B,GAAV,EAAekI,MAAf,EAAuBrB,KAAvB;AAA+B;AACtC28B,uBAAmBxjC,GAAnB,EAAwBuhC,QAAxB,EAAkC/kC,cAAlC;AACD;;AAED;AACA;AACA,WAASopC,2BAAT,CAAqC15B,EAArC,EAAyChE,MAAzC,EAAiDrB,KAAjD,EAAwD;AACtD,QAAI7G,MAAMkM,GAAGlM,GAAb;AAAA,QAAkBmM,UAAUD,GAAGC,OAA/B;AAAA,QAAwC3M,OAAO0I,OAAO1I,IAAtD;AAAA,QAA4DC,KAAKyI,OAAOzI,EAAxE;;AAEA,QAAIomC,qBAAqB,KAAzB;AAAA,QAAgCC,kBAAkBtmC,KAAKyE,IAAvD;AACA,QAAI,CAACiI,GAAG/G,OAAH,CAAW+e,YAAhB,EAA8B;AAC5B4hB,wBAAkBthC,OAAOyG,WAAWxH,QAAQzD,GAAR,EAAaR,KAAKyE,IAAlB,CAAX,CAAP,CAAlB;AACAjE,UAAIkE,IAAJ,CAAS4hC,eAAT,EAA0BrmC,GAAGwE,IAAH,GAAU,CAApC,EAAuC,UAAUA,IAAV,EAAgB;AACrD,YAAIA,QAAQkI,QAAQrJ,OAApB,EAA6B;AAC3B+iC,+BAAqB,IAArB;AACA,iBAAO,IAAP;AACD;AACF,OALD;AAMD;;AAED,QAAI7lC,IAAIksB,GAAJ,CAAQ9yB,QAAR,CAAiB8O,OAAO1I,IAAxB,EAA8B0I,OAAOzI,EAArC,IAA2C,CAAC,CAAhD,EACE;AAAEuQ,2BAAqB9D,EAArB;AAA0B;;AAE9ByyB,cAAU3+B,GAAV,EAAekI,MAAf,EAAuBrB,KAAvB,EAA8BiU,eAAe5O,EAAf,CAA9B;;AAEA,QAAI,CAACA,GAAG/G,OAAH,CAAW+e,YAAhB,EAA8B;AAC5BlkB,UAAIkE,IAAJ,CAAS4hC,eAAT,EAA0BtmC,KAAKyE,IAAL,GAAYiE,OAAO/D,IAAP,CAAYlN,MAAlD,EAA0D,UAAUgN,IAAV,EAAgB;AACxE,YAAI+H,MAAMD,WAAW9H,IAAX,CAAV;AACA,YAAI+H,MAAMG,QAAQpJ,aAAlB,EAAiC;AAC/BoJ,kBAAQrJ,OAAR,GAAkBmB,IAAlB;AACAkI,kBAAQpJ,aAAR,GAAwBiJ,GAAxB;AACAG,kBAAQnJ,cAAR,GAAyB,IAAzB;AACA6iC,+BAAqB,KAArB;AACD;AACF,OARD;AASA,UAAIA,kBAAJ,EAAwB;AAAE35B,WAAGgE,KAAH,CAASomB,aAAT,GAAyB,IAAzB;AAA+B;AAC1D;;AAED1b,oBAAgB5a,GAAhB,EAAqBR,KAAKyE,IAA1B;AACA+uB,gBAAY9mB,EAAZ,EAAgB,GAAhB;;AAEA,QAAIisB,UAAUjwB,OAAO/D,IAAP,CAAYlN,MAAZ,IAAsBwI,GAAGwE,IAAH,GAAUzE,KAAKyE,IAArC,IAA6C,CAA3D;AACA;AACA,QAAIiE,OAAOC,IAAX,EACE;AAAE+vB,gBAAUhsB,EAAV;AAAe,KADnB,MAEK,IAAI1M,KAAKyE,IAAL,IAAaxE,GAAGwE,IAAhB,IAAwBiE,OAAO/D,IAAP,CAAYlN,MAAZ,IAAsB,CAA9C,IAAmD,CAACwnC,kBAAkBvyB,GAAGlM,GAArB,EAA0BkI,MAA1B,CAAxD,EACH;AAAEwwB,oBAAcxsB,EAAd,EAAkB1M,KAAKyE,IAAvB,EAA6B,MAA7B;AAAsC,KADrC,MAGH;AAAEi0B,gBAAUhsB,EAAV,EAAc1M,KAAKyE,IAAnB,EAAyBxE,GAAGwE,IAAH,GAAU,CAAnC,EAAsCk0B,OAAtC;AAAgD;;AAEpD,QAAI4N,iBAAiB31B,WAAWlE,EAAX,EAAe,SAAf,CAArB;AAAA,QAAgD85B,gBAAgB51B,WAAWlE,EAAX,EAAe,QAAf,CAAhE;AACA,QAAI85B,iBAAiBD,cAArB,EAAqC;AACnC,UAAI/qC,MAAM;AACRwE,cAAMA,IADE,EACIC,IAAIA,EADR;AAER0E,cAAM+D,OAAO/D,IAFL;AAGRwhC,iBAASz9B,OAAOy9B,OAHR;AAIRhpC,gBAAQuL,OAAOvL;AAJP,OAAV;AAMA,UAAIqpC,aAAJ,EAAmB;AAAExmB,oBAAYtT,EAAZ,EAAgB,QAAhB,EAA0BA,EAA1B,EAA8BlR,GAA9B;AAAoC;AACzD,UAAI+qC,cAAJ,EAAoB;AAAE,SAAC75B,GAAGgE,KAAH,CAASkmB,UAAT,KAAwBlqB,GAAGgE,KAAH,CAASkmB,UAAT,GAAsB,EAA9C,CAAD,EAAoD94B,IAApD,CAAyDtC,GAAzD;AAA+D;AACtF;AACDkR,OAAGC,OAAH,CAAW7I,iBAAX,GAA+B,IAA/B;AACD;;AAED,WAAS2iC,aAAT,CAAsBjmC,GAAtB,EAA2B8M,IAA3B,EAAiCtN,IAAjC,EAAuCC,EAAvC,EAA2C9C,MAA3C,EAAmD;AACjD,QAAI,CAAC8C,EAAL,EAAS;AAAEA,WAAKD,IAAL;AAAW;AACtB,QAAIiG,IAAIhG,EAAJ,EAAQD,IAAR,IAAgB,CAApB,EAAuB;AAAE,UAAI0mC,MAAJ;AACtBA,eAAS,CAACzmC,EAAD,EAAKD,IAAL,CAAT,EAAqBA,OAAO0mC,OAAO,CAAP,CAA5B,EAAuCzmC,KAAKymC,OAAO,CAAP,CAA5C,EAAuDA,MAAxD;AAAiE;AACnE,QAAI,OAAOp5B,IAAP,IAAe,QAAnB,EAA6B;AAAEA,aAAO9M,IAAImmC,UAAJ,CAAer5B,IAAf,CAAP;AAA6B;AAC5D83B,eAAW5kC,GAAX,EAAgB,EAACR,MAAMA,IAAP,EAAaC,IAAIA,EAAjB,EAAqB0E,MAAM2I,IAA3B,EAAiCnQ,QAAQA,MAAzC,EAAhB;AACD;;AAED;;AAEA,WAASypC,mBAAT,CAA6BrpC,GAA7B,EAAkCyC,IAAlC,EAAwCC,EAAxC,EAA4C8E,IAA5C,EAAkD;AAChD,QAAI9E,KAAK1C,IAAIkH,IAAb,EAAmB;AACjBlH,UAAIkH,IAAJ,IAAYM,IAAZ;AACD,KAFD,MAEO,IAAI/E,OAAOzC,IAAIkH,IAAf,EAAqB;AAC1BlH,UAAIkH,IAAJ,GAAWzE,IAAX;AACAzC,UAAIyB,EAAJ,GAAS,CAAT;AACD;AACF;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAS6nC,eAAT,CAAyBjqC,KAAzB,EAAgCoD,IAAhC,EAAsCC,EAAtC,EAA0C8E,IAA1C,EAAgD;AAC9C,SAAK,IAAIrM,IAAI,CAAb,EAAgBA,IAAIkE,MAAMnF,MAA1B,EAAkC,EAAEiB,CAApC,EAAuC;AACrC,UAAIouC,MAAMlqC,MAAMlE,CAAN,CAAV;AAAA,UAAoB0d,KAAK,IAAzB;AACA,UAAI0wB,IAAIna,MAAR,EAAgB;AACd,YAAI,CAACma,IAAIC,MAAT,EAAiB;AAAED,gBAAMlqC,MAAMlE,CAAN,IAAWouC,IAAIhJ,QAAJ,EAAjB,CAAiCgJ,IAAIC,MAAJ,GAAa,IAAb;AAAmB;AACvE,aAAK,IAAI78B,IAAI,CAAb,EAAgBA,IAAI48B,IAAIna,MAAJ,CAAWl1B,MAA/B,EAAuCyS,GAAvC,EAA4C;AAC1C08B,8BAAoBE,IAAIna,MAAJ,CAAWziB,CAAX,EAAcghB,MAAlC,EAA0ClrB,IAA1C,EAAgDC,EAAhD,EAAoD8E,IAApD;AACA6hC,8BAAoBE,IAAIna,MAAJ,CAAWziB,CAAX,EAAc8iB,IAAlC,EAAwChtB,IAAxC,EAA8CC,EAA9C,EAAkD8E,IAAlD;AACD;AACD;AACD;AACD,WAAK,IAAI+J,MAAM,CAAf,EAAkBA,MAAMg4B,IAAIxmB,OAAJ,CAAY7oB,MAApC,EAA4C,EAAEqX,GAA9C,EAAmD;AACjD,YAAI7J,MAAM6hC,IAAIxmB,OAAJ,CAAYxR,GAAZ,CAAV;AACA,YAAI7O,KAAKgF,IAAIjF,IAAJ,CAASyE,IAAlB,EAAwB;AACtBQ,cAAIjF,IAAJ,GAAW+F,IAAId,IAAIjF,IAAJ,CAASyE,IAAT,GAAgBM,IAApB,EAA0BE,IAAIjF,IAAJ,CAAShB,EAAnC,CAAX;AACAiG,cAAIhF,EAAJ,GAAS8F,IAAId,IAAIhF,EAAJ,CAAOwE,IAAP,GAAcM,IAAlB,EAAwBE,IAAIhF,EAAJ,CAAOjB,EAA/B,CAAT;AACD,SAHD,MAGO,IAAIgB,QAAQiF,IAAIhF,EAAJ,CAAOwE,IAAnB,EAAyB;AAC9B2R,eAAK,KAAL;AACA;AACD;AACF;AACD,UAAI,CAACA,EAAL,EAAS;AACPxZ,cAAM0B,MAAN,CAAa,CAAb,EAAgB5F,IAAI,CAApB;AACAA,YAAI,CAAJ;AACD;AACF;AACF;;AAED,WAASgtC,UAAT,CAAoB7D,IAApB,EAA0Bn5B,MAA1B,EAAkC;AAChC,QAAI1I,OAAO0I,OAAO1I,IAAP,CAAYyE,IAAvB;AAAA,QAA6BxE,KAAKyI,OAAOzI,EAAP,CAAUwE,IAA5C;AAAA,QAAkDM,OAAO2D,OAAO/D,IAAP,CAAYlN,MAAZ,IAAsBwI,KAAKD,IAA3B,IAAmC,CAA5F;AACA6mC,oBAAgBhF,KAAKjB,IAArB,EAA2B5gC,IAA3B,EAAiCC,EAAjC,EAAqC8E,IAArC;AACA8hC,oBAAgBhF,KAAKhB,MAArB,EAA6B7gC,IAA7B,EAAmCC,EAAnC,EAAuC8E,IAAvC;AACD;;AAED;AACA;AACA;AACA,WAASiiC,UAAT,CAAoBxmC,GAApB,EAAyBymC,MAAzB,EAAiCC,UAAjC,EAA6C7nB,EAA7C,EAAiD;AAC/C,QAAIna,KAAK+hC,MAAT;AAAA,QAAiBxiC,OAAOwiC,MAAxB;AACA,QAAI,OAAOA,MAAP,IAAiB,QAArB,EAA+B;AAAExiC,aAAOR,QAAQzD,GAAR,EAAa+F,SAAS/F,GAAT,EAAcymC,MAAd,CAAb,CAAP;AAA4C,KAA7E,MACK;AAAE/hC,WAAKF,OAAOiiC,MAAP,CAAL;AAAqB;AAC5B,QAAI/hC,MAAM,IAAV,EAAgB;AAAE,aAAO,IAAP;AAAa;AAC/B,QAAIma,GAAG5a,IAAH,EAASS,EAAT,KAAgB1E,IAAIkM,EAAxB,EAA4B;AAAEwsB,oBAAc14B,IAAIkM,EAAlB,EAAsBxH,EAAtB,EAA0BgiC,UAA1B;AAAuC;AACrE,WAAOziC,IAAP;AACD;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,WAAS0iC,SAAT,CAAmBhmC,KAAnB,EAA0B;AACxB,QAAIoV,SAAS,IAAb;;AAEA,SAAKpV,KAAL,GAAaA,KAAb;AACA,SAAKlJ,MAAL,GAAc,IAAd;AACA,QAAI6M,SAAS,CAAb;AACA,SAAK,IAAIpM,IAAI,CAAb,EAAgBA,IAAIyI,MAAM1J,MAA1B,EAAkC,EAAEiB,CAApC,EAAuC;AACrCyI,YAAMzI,CAAN,EAAST,MAAT,GAAkBse,MAAlB;AACAzR,gBAAU3D,MAAMzI,CAAN,EAASoM,MAAnB;AACD;AACD,SAAKA,MAAL,GAAcA,MAAd;AACD;;AAEDqiC,YAAUhsC,SAAV,GAAsB;AACpBoJ,eAAW,SAASA,SAAT,GAAqB;AAAE,aAAO,KAAKpD,KAAL,CAAW1J,MAAlB;AAA0B,KADxC;;AAGpB;AACA2vC,iBAAa,SAASA,WAAT,CAAqBp4B,EAArB,EAAyB7S,CAAzB,EAA4B;AACvC,UAAIoa,SAAS,IAAb;;AAEA,WAAK,IAAI7d,IAAIsW,EAAR,EAAYrX,IAAIqX,KAAK7S,CAA1B,EAA6BzD,IAAIf,CAAjC,EAAoC,EAAEe,CAAtC,EAAyC;AACvC,YAAI+L,OAAO8R,OAAOpV,KAAP,CAAazI,CAAb,CAAX;AACA6d,eAAOzR,MAAP,IAAiBL,KAAKK,MAAtB;AACA2W,oBAAYhX,IAAZ;AACAub,oBAAYvb,IAAZ,EAAkB,QAAlB;AACD;AACD,WAAKtD,KAAL,CAAW7C,MAAX,CAAkB0Q,EAAlB,EAAsB7S,CAAtB;AACD,KAdmB;;AAgBpB;AACA1C,cAAU,SAASA,QAAT,CAAkB0H,KAAlB,EAAyB;AACjCA,YAAMrD,IAAN,CAAWxC,KAAX,CAAiB6F,KAAjB,EAAwB,KAAKA,KAA7B;AACD,KAnBmB;;AAqBpB;AACA;AACAkmC,iBAAa,SAASA,WAAT,CAAqBr4B,EAArB,EAAyB7N,KAAzB,EAAgC2D,MAAhC,EAAwC;AACnD,UAAIyR,SAAS,IAAb;;AAEA,WAAKzR,MAAL,IAAeA,MAAf;AACA,WAAK3D,KAAL,GAAa,KAAKA,KAAL,CAAW5J,KAAX,CAAiB,CAAjB,EAAoByX,EAApB,EAAwBtH,MAAxB,CAA+BvG,KAA/B,EAAsCuG,MAAtC,CAA6C,KAAKvG,KAAL,CAAW5J,KAAX,CAAiByX,EAAjB,CAA7C,CAAb;AACA,WAAK,IAAItW,IAAI,CAAb,EAAgBA,IAAIyI,MAAM1J,MAA1B,EAAkC,EAAEiB,CAApC,EAAuC;AAAEyI,cAAMzI,CAAN,EAAST,MAAT,GAAkBse,MAAlB;AAA0B;AACpE,KA7BmB;;AA+BpB;AACA+wB,WAAO,SAASA,KAAT,CAAet4B,EAAf,EAAmB7S,CAAnB,EAAsBkjB,EAAtB,EAA0B;AAC/B,UAAI9I,SAAS,IAAb;;AAEA,WAAK,IAAI5e,IAAIqX,KAAK7S,CAAlB,EAAqB6S,KAAKrX,CAA1B,EAA6B,EAAEqX,EAA/B,EACE;AAAE,YAAIqQ,GAAG9I,OAAOpV,KAAP,CAAa6N,EAAb,CAAH,CAAJ,EAA0B;AAAE,iBAAO,IAAP;AAAa;AAAE;AAChD;AArCmB,GAAtB;;AAwCA,WAASu4B,WAAT,CAAqBljC,QAArB,EAA+B;AAC7B,QAAIkS,SAAS,IAAb;;AAEA,SAAKlS,QAAL,GAAgBA,QAAhB;AACA,QAAIH,OAAO,CAAX;AAAA,QAAcY,SAAS,CAAvB;AACA,SAAK,IAAIpM,IAAI,CAAb,EAAgBA,IAAI2L,SAAS5M,MAA7B,EAAqC,EAAEiB,CAAvC,EAA0C;AACxC,UAAIsG,KAAKqF,SAAS3L,CAAT,CAAT;AACAwL,cAAQlF,GAAGuF,SAAH,EAAR,CAAwBO,UAAU9F,GAAG8F,MAAb;AACxB9F,SAAG/G,MAAH,GAAYse,MAAZ;AACD;AACD,SAAKrS,IAAL,GAAYA,IAAZ;AACA,SAAKY,MAAL,GAAcA,MAAd;AACA,SAAK7M,MAAL,GAAc,IAAd;AACD;;AAEDsvC,cAAYpsC,SAAZ,GAAwB;AACtBoJ,eAAW,SAASA,SAAT,GAAqB;AAAE,aAAO,KAAKL,IAAZ;AAAkB,KAD9B;;AAGtBkjC,iBAAa,SAASA,WAAT,CAAqBp4B,EAArB,EAAyB7S,CAAzB,EAA4B;AACvC,UAAIoa,SAAS,IAAb;;AAEA,WAAKrS,IAAL,IAAa/H,CAAb;AACA,WAAK,IAAIzD,IAAI,CAAb,EAAgBA,IAAI,KAAK2L,QAAL,CAAc5M,MAAlC,EAA0C,EAAEiB,CAA5C,EAA+C;AAC7C,YAAImB,QAAQ0c,OAAOlS,QAAP,CAAgB3L,CAAhB,CAAZ;AAAA,YAAgC4L,KAAKzK,MAAM0K,SAAN,EAArC;AACA,YAAIyK,KAAK1K,EAAT,EAAa;AACX,cAAIy3B,KAAKr+B,KAAKC,GAAL,CAASxB,CAAT,EAAYmI,KAAK0K,EAAjB,CAAT;AAAA,cAA+Bw4B,YAAY3tC,MAAMiL,MAAjD;AACAjL,gBAAMutC,WAAN,CAAkBp4B,EAAlB,EAAsB+sB,EAAtB;AACAxlB,iBAAOzR,MAAP,IAAiB0iC,YAAY3tC,MAAMiL,MAAnC;AACA,cAAIR,MAAMy3B,EAAV,EAAc;AAAExlB,mBAAOlS,QAAP,CAAgB/F,MAAhB,CAAuB5F,GAAvB,EAA4B,CAA5B,EAAgCmB,MAAM5B,MAAN,GAAe,IAAf;AAAqB;AACrE,cAAI,CAACkE,KAAK4/B,EAAN,KAAa,CAAjB,EAAoB;AAAE;AAAO;AAC7B/sB,eAAK,CAAL;AACD,SAPD,MAOO;AAAEA,gBAAM1K,EAAN;AAAU;AACpB;AACD;AACA;AACA,UAAI,KAAKJ,IAAL,GAAY/H,CAAZ,GAAgB,EAAhB,KACC,KAAKkI,QAAL,CAAc5M,MAAd,GAAuB,CAAvB,IAA4B,EAAE,KAAK4M,QAAL,CAAc,CAAd,aAA4B8iC,SAA9B,CAD7B,CAAJ,EAC4E;AAC1E,YAAIhmC,QAAQ,EAAZ;AACA,aAAK1H,QAAL,CAAc0H,KAAd;AACA,aAAKkD,QAAL,GAAgB,CAAC,IAAI8iC,SAAJ,CAAchmC,KAAd,CAAD,CAAhB;AACA,aAAKkD,QAAL,CAAc,CAAd,EAAiBpM,MAAjB,GAA0B,IAA1B;AACD;AACF,KA3BqB;;AA6BtBwB,cAAU,SAASA,QAAT,CAAkB0H,KAAlB,EAAyB;AACjC,UAAIoV,SAAS,IAAb;;AAEA,WAAK,IAAI7d,IAAI,CAAb,EAAgBA,IAAI,KAAK2L,QAAL,CAAc5M,MAAlC,EAA0C,EAAEiB,CAA5C,EAA+C;AAAE6d,eAAOlS,QAAP,CAAgB3L,CAAhB,EAAmBe,QAAnB,CAA4B0H,KAA5B;AAAoC;AACtF,KAjCqB;;AAmCtBkmC,iBAAa,SAASA,WAAT,CAAqBr4B,EAArB,EAAyB7N,KAAzB,EAAgC2D,MAAhC,EAAwC;AACnD,UAAIyR,SAAS,IAAb;;AAEA,WAAKrS,IAAL,IAAa/C,MAAM1J,MAAnB;AACA,WAAKqN,MAAL,IAAeA,MAAf;AACA,WAAK,IAAIpM,IAAI,CAAb,EAAgBA,IAAI,KAAK2L,QAAL,CAAc5M,MAAlC,EAA0C,EAAEiB,CAA5C,EAA+C;AAC7C,YAAImB,QAAQ0c,OAAOlS,QAAP,CAAgB3L,CAAhB,CAAZ;AAAA,YAAgC4L,KAAKzK,MAAM0K,SAAN,EAArC;AACA,YAAIyK,MAAM1K,EAAV,EAAc;AACZzK,gBAAMwtC,WAAN,CAAkBr4B,EAAlB,EAAsB7N,KAAtB,EAA6B2D,MAA7B;AACA,cAAIjL,MAAMsH,KAAN,IAAetH,MAAMsH,KAAN,CAAY1J,MAAZ,GAAqB,EAAxC,EAA4C;AAC1C;AACA;AACA,gBAAIgwC,YAAY5tC,MAAMsH,KAAN,CAAY1J,MAAZ,GAAqB,EAArB,GAA0B,EAA1C;AACA,iBAAK,IAAI8F,MAAMkqC,SAAf,EAA0BlqC,MAAM1D,MAAMsH,KAAN,CAAY1J,MAA5C,GAAqD;AACnD,kBAAIiwC,OAAO,IAAIP,SAAJ,CAActtC,MAAMsH,KAAN,CAAY5J,KAAZ,CAAkBgG,GAAlB,EAAuBA,OAAO,EAA9B,CAAd,CAAX;AACA1D,oBAAMiL,MAAN,IAAgB4iC,KAAK5iC,MAArB;AACAyR,qBAAOlS,QAAP,CAAgB/F,MAAhB,CAAuB,EAAE5F,CAAzB,EAA4B,CAA5B,EAA+BgvC,IAA/B;AACAA,mBAAKzvC,MAAL,GAAcse,MAAd;AACD;AACD1c,kBAAMsH,KAAN,GAActH,MAAMsH,KAAN,CAAY5J,KAAZ,CAAkB,CAAlB,EAAqBkwC,SAArB,CAAd;AACAlxB,mBAAOoxB,UAAP;AACD;AACD;AACD;AACD34B,cAAM1K,EAAN;AACD;AACF,KA7DqB;;AA+DtB;AACAqjC,gBAAY,SAASA,UAAT,GAAsB;AAChC,UAAI,KAAKtjC,QAAL,CAAc5M,MAAd,IAAwB,EAA5B,EAAgC;AAAE;AAAQ;AAC1C,UAAImwC,KAAK,IAAT;AACA,SAAG;AACD,YAAIC,UAAUD,GAAGvjC,QAAH,CAAY/F,MAAZ,CAAmBspC,GAAGvjC,QAAH,CAAY5M,MAAZ,GAAqB,CAAxC,EAA2C,CAA3C,CAAd;AACA,YAAIqwC,UAAU,IAAIP,WAAJ,CAAgBM,OAAhB,CAAd;AACA,YAAI,CAACD,GAAG3vC,MAAR,EAAgB;AAAE;AAChB,cAAI+f,OAAO,IAAIuvB,WAAJ,CAAgBK,GAAGvjC,QAAnB,CAAX;AACA2T,eAAK/f,MAAL,GAAc2vC,EAAd;AACAA,aAAGvjC,QAAH,GAAc,CAAC2T,IAAD,EAAO8vB,OAAP,CAAd;AACAF,eAAK5vB,IAAL;AACF,SALA,MAKM;AACJ4vB,aAAG1jC,IAAH,IAAW4jC,QAAQ5jC,IAAnB;AACA0jC,aAAG9iC,MAAH,IAAagjC,QAAQhjC,MAArB;AACA,cAAIijC,UAAU1rC,QAAQurC,GAAG3vC,MAAH,CAAUoM,QAAlB,EAA4BujC,EAA5B,CAAd;AACAA,aAAG3vC,MAAH,CAAUoM,QAAV,CAAmB/F,MAAnB,CAA0BypC,UAAU,CAApC,EAAuC,CAAvC,EAA0CD,OAA1C;AACD;AACDA,gBAAQ7vC,MAAR,GAAiB2vC,GAAG3vC,MAApB;AACD,OAfD,QAeS2vC,GAAGvjC,QAAH,CAAY5M,MAAZ,GAAqB,EAf9B;AAgBAmwC,SAAG3vC,MAAH,CAAU0vC,UAAV;AACD,KApFqB;;AAsFtBL,WAAO,SAASA,KAAT,CAAet4B,EAAf,EAAmB7S,CAAnB,EAAsBkjB,EAAtB,EAA0B;AAC/B,UAAI9I,SAAS,IAAb;;AAEA,WAAK,IAAI7d,IAAI,CAAb,EAAgBA,IAAI,KAAK2L,QAAL,CAAc5M,MAAlC,EAA0C,EAAEiB,CAA5C,EAA+C;AAC7C,YAAImB,QAAQ0c,OAAOlS,QAAP,CAAgB3L,CAAhB,CAAZ;AAAA,YAAgC4L,KAAKzK,MAAM0K,SAAN,EAArC;AACA,YAAIyK,KAAK1K,EAAT,EAAa;AACX,cAAI0jC,OAAOtqC,KAAKC,GAAL,CAASxB,CAAT,EAAYmI,KAAK0K,EAAjB,CAAX;AACA,cAAInV,MAAMytC,KAAN,CAAYt4B,EAAZ,EAAgBg5B,IAAhB,EAAsB3oB,EAAtB,CAAJ,EAA+B;AAAE,mBAAO,IAAP;AAAa;AAC9C,cAAI,CAACljB,KAAK6rC,IAAN,KAAe,CAAnB,EAAsB;AAAE;AAAO;AAC/Bh5B,eAAK,CAAL;AACD,SALD,MAKO;AAAEA,gBAAM1K,EAAN;AAAU;AACpB;AACF;;AAGH;;AArGwB,GAAxB,CAuGA,IAAI2jC,aAAa,SAAbA,UAAa,CAASznC,GAAT,EAAcrJ,IAAd,EAAoBwO,OAApB,EAA6B;AAC5C,QAAI4Q,SAAS,IAAb;;AAEA,QAAI5Q,OAAJ,EAAa;AAAE,WAAK,IAAIuiC,GAAT,IAAgBviC,OAAhB,EAAyB;AAAE,YAAIA,QAAQ/J,cAAR,CAAuBssC,GAAvB,CAAJ,EACxC;AAAE3xB,iBAAO2xB,GAAP,IAAcviC,QAAQuiC,GAAR,CAAd;AAA4B;AAAE;AAAE;AACpC,SAAK1nC,GAAL,GAAWA,GAAX;AACA,SAAKrJ,IAAL,GAAYA,IAAZ;AACD,GAPD;;AASA8wC,aAAW9sC,SAAX,CAAqBs6B,KAArB,GAA6B,YAAY;AACrC,QAAIlf,SAAS,IAAb;;AAEF,QAAI7J,KAAK,KAAKlM,GAAL,CAASkM,EAAlB;AAAA,QAAsBgW,KAAK,KAAKje,IAAL,CAAUge,OAArC;AAAA,QAA8Che,OAAO,KAAKA,IAA1D;AAAA,QAAgES,KAAKF,OAAOP,IAAP,CAArE;AACA,QAAIS,MAAM,IAAN,IAAc,CAACwd,EAAnB,EAAuB;AAAE;AAAQ;AACjC,SAAK,IAAIhqB,IAAI,CAAb,EAAgBA,IAAIgqB,GAAGjrB,MAAvB,EAA+B,EAAEiB,CAAjC,EAAoC;AAAE,UAAIgqB,GAAGhqB,CAAH,KAAS6d,MAAb,EAAqB;AAAEmM,WAAGpkB,MAAH,CAAU5F,GAAV,EAAe,CAAf;AAAmB;AAAE;AAClF,QAAI,CAACgqB,GAAGjrB,MAAR,EAAgB;AAAEgN,WAAKge,OAAL,GAAe,IAAf;AAAqB;AACvC,QAAI3d,SAASue,aAAa,IAAb,CAAb;AACAxe,qBAAiBJ,IAAjB,EAAuB/G,KAAK8I,GAAL,CAAS,CAAT,EAAY/B,KAAKK,MAAL,GAAcA,MAA1B,CAAvB;AACA,QAAI4H,EAAJ,EAAQ;AACN4rB,cAAQ5rB,EAAR,EAAY,YAAY;AACtBy7B,qCAA6Bz7B,EAA7B,EAAiCjI,IAAjC,EAAuC,CAACK,MAAxC;AACAo0B,sBAAcxsB,EAAd,EAAkBxH,EAAlB,EAAsB,QAAtB;AACD,OAHD;AAIA8a,kBAAYtT,EAAZ,EAAgB,mBAAhB,EAAqCA,EAArC,EAAyC,IAAzC,EAA+CxH,EAA/C;AACD;AACF,GAhBD;;AAkBA+iC,aAAW9sC,SAAX,CAAqBw2B,OAArB,GAA+B,YAAY;AACvC,QAAIpb,SAAS,IAAb;;AAEF,QAAI6xB,OAAO,KAAKtjC,MAAhB;AAAA,QAAwB4H,KAAK,KAAKlM,GAAL,CAASkM,EAAtC;AAAA,QAA0CjI,OAAO,KAAKA,IAAtD;AACA,SAAKK,MAAL,GAAc,IAAd;AACA,QAAIC,OAAOse,aAAa,IAAb,IAAqB+kB,IAAhC;AACA,QAAI,CAACrjC,IAAL,EAAW;AAAE;AAAQ;AACrBF,qBAAiBJ,IAAjB,EAAuBA,KAAKK,MAAL,GAAcC,IAArC;AACA,QAAI2H,EAAJ,EAAQ;AACN4rB,cAAQ5rB,EAAR,EAAY,YAAY;AACtBA,WAAGgE,KAAH,CAASgV,WAAT,GAAuB,IAAvB;AACAyiB,qCAA6Bz7B,EAA7B,EAAiCjI,IAAjC,EAAuCM,IAAvC;AACAib,oBAAYtT,EAAZ,EAAgB,mBAAhB,EAAqCA,EAArC,EAAyC6J,MAAzC,EAAiDvR,OAAOP,IAAP,CAAjD;AACD,OAJD;AAKD;AACF,GAfD;AAgBAoM,aAAWo3B,UAAX;;AAEA,WAASE,4BAAT,CAAsCz7B,EAAtC,EAA0CjI,IAA1C,EAAgDM,IAAhD,EAAsD;AACpD,QAAIsH,cAAa5H,IAAb,KAAuBiI,GAAGgE,KAAH,IAAYhE,GAAGgE,KAAH,CAASwX,SAAtB,IAAoCxb,GAAGlM,GAAH,CAAO0nB,SAAjE,CAAJ,EACE;AAAE0K,qBAAelmB,EAAf,EAAmB3H,IAAnB;AAA0B;AAC/B;;AAED,WAASsjC,aAAT,CAAuB7nC,GAAvB,EAA4BymC,MAA5B,EAAoC9vC,IAApC,EAA0CwO,OAA1C,EAAmD;AACjD,QAAIuY,SAAS,IAAI+pB,UAAJ,CAAeznC,GAAf,EAAoBrJ,IAApB,EAA0BwO,OAA1B,CAAb;AACA,QAAI+G,KAAKlM,IAAIkM,EAAb;AACA,QAAIA,MAAMwR,OAAO4E,SAAjB,EAA4B;AAAEpW,SAAGC,OAAH,CAAWzJ,YAAX,GAA0B,IAA1B;AAAgC;AAC9D8jC,eAAWxmC,GAAX,EAAgBymC,MAAhB,EAAwB,QAAxB,EAAkC,UAAUxiC,IAAV,EAAgB;AAChD,UAAIge,UAAUhe,KAAKge,OAAL,KAAiBhe,KAAKge,OAAL,GAAe,EAAhC,CAAd;AACA,UAAIvE,OAAOoqB,QAAP,IAAmB,IAAvB,EAA6B;AAAE7lB,gBAAQ3kB,IAAR,CAAaogB,MAAb;AAAsB,OAArD,MACK;AAAEuE,gBAAQnkB,MAAR,CAAeZ,KAAKC,GAAL,CAAS8kB,QAAQhrB,MAAR,GAAiB,CAA1B,EAA6BiG,KAAK8I,GAAL,CAAS,CAAT,EAAY0X,OAAOoqB,QAAnB,CAA7B,CAAf,EAA2E,CAA3E,EAA8EpqB,MAA9E;AAAuF;AAC9FA,aAAOzZ,IAAP,GAAcA,IAAd;AACA,UAAIiI,MAAM,CAACR,aAAa1L,GAAb,EAAkBiE,IAAlB,CAAX,EAAoC;AAClC,YAAI8jC,eAAel8B,cAAa5H,IAAb,IAAqBjE,IAAI0nB,SAA5C;AACArjB,yBAAiBJ,IAAjB,EAAuBA,KAAKK,MAAL,GAAcue,aAAanF,MAAb,CAArC;AACA,YAAIqqB,YAAJ,EAAkB;AAAE3V,yBAAelmB,EAAf,EAAmBwR,OAAOpZ,MAA1B;AAAmC;AACvD4H,WAAGgE,KAAH,CAASgV,WAAT,GAAuB,IAAvB;AACD;AACD,aAAO,IAAP;AACD,KAZD;AAaA1F,gBAAYtT,EAAZ,EAAgB,iBAAhB,EAAmCA,EAAnC,EAAuCwR,MAAvC,EAA+C,OAAO+oB,MAAP,IAAiB,QAAjB,GAA4BA,MAA5B,GAAqCjiC,OAAOiiC,MAAP,CAApF;AACA,WAAO/oB,MAAP;AACD;;AAED;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAIsqB,eAAe,CAAnB;;AAEA,MAAIC,aAAa,SAAbA,UAAa,CAASjoC,GAAT,EAAc2H,IAAd,EAAoB;AACnC,SAAKhH,KAAL,GAAa,EAAb;AACA,SAAKgH,IAAL,GAAYA,IAAZ;AACA,SAAK3H,GAAL,GAAWA,GAAX;AACA,SAAKjE,EAAL,GAAU,EAAEisC,YAAZ;AACD,GALD;;AAOA;AACAC,aAAWttC,SAAX,CAAqBs6B,KAArB,GAA6B,YAAY;AACrC,QAAIlf,SAAS,IAAb;;AAEF,QAAI,KAAKmsB,iBAAT,EAA4B;AAAE;AAAQ;AACtC,QAAIh2B,KAAK,KAAKlM,GAAL,CAASkM,EAAlB;AAAA,QAAsBg8B,SAASh8B,MAAM,CAACA,GAAGgE,KAAzC;AACA,QAAIg4B,MAAJ,EAAY;AAAElS,sBAAe9pB,EAAf;AAAoB;AAClC,QAAIkE,WAAW,IAAX,EAAiB,OAAjB,CAAJ,EAA+B;AAC7B,UAAI5H,QAAQ,KAAKiB,IAAL,EAAZ;AACA,UAAIjB,KAAJ,EAAW;AAAEgX,oBAAY,IAAZ,EAAkB,OAAlB,EAA2BhX,MAAMhJ,IAAjC,EAAuCgJ,MAAM/I,EAA7C;AAAkD;AAChE;AACD,QAAItC,MAAM,IAAV;AAAA,QAAgB6I,MAAM,IAAtB;AACA,SAAK,IAAI9N,IAAI,CAAb,EAAgBA,IAAI,KAAKyI,KAAL,CAAW1J,MAA/B,EAAuC,EAAEiB,CAAzC,EAA4C;AAC1C,UAAI+L,OAAO8R,OAAOpV,KAAP,CAAazI,CAAb,CAAX;AACA,UAAI4O,OAAOF,iBAAiB3C,KAAKgD,WAAtB,EAAmC8O,MAAnC,CAAX;AACA,UAAI7J,MAAM,CAAC6J,OAAOlL,SAAlB,EAA6B;AAAE6tB,sBAAcxsB,EAAd,EAAkB1H,OAAOP,IAAP,CAAlB,EAAgC,MAAhC;AAAyC,OAAxE,MACK,IAAIiI,EAAJ,EAAQ;AACX,YAAIpF,KAAKrH,EAAL,IAAW,IAAf,EAAqB;AAAEuG,gBAAMxB,OAAOP,IAAP,CAAN;AAAoB;AAC3C,YAAI6C,KAAKtH,IAAL,IAAa,IAAjB,EAAuB;AAAErC,gBAAMqH,OAAOP,IAAP,CAAN;AAAoB;AAC9C;AACDA,WAAKgD,WAAL,GAAmBF,iBAAiB9C,KAAKgD,WAAtB,EAAmCH,IAAnC,CAAnB;AACA,UAAIA,KAAKtH,IAAL,IAAa,IAAb,IAAqBuW,OAAOlL,SAA5B,IAAyC,CAACa,aAAaqK,OAAO/V,GAApB,EAAyBiE,IAAzB,CAA1C,IAA4EiI,EAAhF,EACE;AAAE7H,yBAAiBJ,IAAjB,EAAuBwmB,WAAWve,GAAGC,OAAd,CAAvB;AAAgD;AACrD;AACD,QAAID,MAAM,KAAKrB,SAAX,IAAwB,CAACqB,GAAG/G,OAAH,CAAW+e,YAAxC,EAAsD;AAAE,WAAK,IAAIpf,MAAM,CAAf,EAAkBA,MAAM,KAAKnE,KAAL,CAAW1J,MAAnC,EAA2C,EAAE6N,GAA7C,EAAkD;AACxG,YAAIqjC,SAASl9B,WAAW8K,OAAOpV,KAAP,CAAamE,GAAb,CAAX,CAAb;AAAA,YAA4CkH,MAAMD,WAAWo8B,MAAX,CAAlD;AACA,YAAIn8B,MAAME,GAAGC,OAAH,CAAWpJ,aAArB,EAAoC;AAClCmJ,aAAGC,OAAH,CAAWrJ,OAAX,GAAqBqlC,MAArB;AACAj8B,aAAGC,OAAH,CAAWpJ,aAAX,GAA2BiJ,GAA3B;AACAE,aAAGC,OAAH,CAAWnJ,cAAX,GAA4B,IAA5B;AACD;AACF;AAAE;;AAEH,QAAI7F,OAAO,IAAP,IAAe+O,EAAf,IAAqB,KAAKrB,SAA9B,EAAyC;AAAEqtB,gBAAUhsB,EAAV,EAAc/O,GAAd,EAAmB6I,MAAM,CAAzB;AAA6B;AACxE,SAAKrF,KAAL,CAAW1J,MAAX,GAAoB,CAApB;AACA,SAAKirC,iBAAL,GAAyB,IAAzB;AACA,QAAI,KAAKiC,MAAL,IAAe,KAAKnkC,GAAL,CAASukC,QAA5B,EAAsC;AACpC,WAAKvkC,GAAL,CAASukC,QAAT,GAAoB,KAApB;AACA,UAAIr4B,EAAJ,EAAQ;AAAE03B,yBAAiB13B,GAAGlM,GAApB;AAA0B;AACrC;AACD,QAAIkM,EAAJ,EAAQ;AAAEsT,kBAAYtT,EAAZ,EAAgB,eAAhB,EAAiCA,EAAjC,EAAqC,IAArC,EAA2C/O,GAA3C,EAAgD6I,GAAhD;AAAsD;AAChE,QAAIkiC,MAAJ,EAAY;AAAE3R,oBAAarqB,EAAb;AAAkB;AAChC,QAAI,KAAKzU,MAAT,EAAiB;AAAE,WAAKA,MAAL,CAAYw9B,KAAZ;AAAqB;AACzC,GA1CD;;AA4CA;AACA;AACA;AACA;AACA;AACAgT,aAAWttC,SAAX,CAAqB8O,IAArB,GAA4B,UAAUgkB,IAAV,EAAgB3hB,OAAhB,EAAyB;AACjD,QAAIiK,SAAS,IAAb;;AAEF,QAAI0X,QAAQ,IAAR,IAAgB,KAAK9lB,IAAL,IAAa,UAAjC,EAA6C;AAAE8lB,aAAO,CAAP;AAAU;AACzD,QAAIjuB,IAAJ,EAAUC,EAAV;AACA,SAAK,IAAIvH,IAAI,CAAb,EAAgBA,IAAI,KAAKyI,KAAL,CAAW1J,MAA/B,EAAuC,EAAEiB,CAAzC,EAA4C;AAC1C,UAAI+L,OAAO8R,OAAOpV,KAAP,CAAazI,CAAb,CAAX;AACA,UAAI4O,OAAOF,iBAAiB3C,KAAKgD,WAAtB,EAAmC8O,MAAnC,CAAX;AACA,UAAIjP,KAAKtH,IAAL,IAAa,IAAjB,EAAuB;AACrBA,eAAO+F,IAAIuG,UAAU7H,IAAV,GAAiBO,OAAOP,IAAP,CAArB,EAAmC6C,KAAKtH,IAAxC,CAAP;AACA,YAAIiuB,QAAQ,CAAC,CAAb,EAAgB;AAAE,iBAAOjuB,IAAP;AAAa;AAChC;AACD,UAAIsH,KAAKrH,EAAL,IAAW,IAAf,EAAqB;AACnBA,aAAK8F,IAAIuG,UAAU7H,IAAV,GAAiBO,OAAOP,IAAP,CAArB,EAAmC6C,KAAKrH,EAAxC,CAAL;AACA,YAAIguB,QAAQ,CAAZ,EAAe;AAAE,iBAAOhuB,EAAP;AAAW;AAC7B;AACF;AACD,WAAOD,QAAQ,EAACA,MAAMA,IAAP,EAAaC,IAAIA,EAAjB,EAAf;AACD,GAlBD;;AAoBA;AACA;AACAwoC,aAAWttC,SAAX,CAAqBw2B,OAArB,GAA+B,YAAY;AACvC,QAAIpb,SAAS,IAAb;;AAEF,QAAIhZ,MAAM,KAAK0M,IAAL,CAAU,CAAC,CAAX,EAAc,IAAd,CAAV;AAAA,QAA+BiU,SAAS,IAAxC;AAAA,QAA8CxR,KAAK,KAAKlM,GAAL,CAASkM,EAA5D;AACA,QAAI,CAACnP,GAAD,IAAQ,CAACmP,EAAb,EAAiB;AAAE;AAAQ;AAC3B4rB,YAAQ5rB,EAAR,EAAY,YAAY;AACtB,UAAIjI,OAAOlH,IAAIkH,IAAf;AAAA,UAAqBqH,QAAQ9G,OAAOzH,IAAIkH,IAAX,CAA7B;AACA,UAAIrC,OAAOmjB,gBAAgB7Y,EAAhB,EAAoBZ,KAApB,CAAX;AACA,UAAI1J,IAAJ,EAAU;AACRmlB,qCAA6BnlB,IAA7B;AACAsK,WAAGgE,KAAH,CAASmmB,gBAAT,GAA4BnqB,GAAGgE,KAAH,CAASgV,WAAT,GAAuB,IAAnD;AACD;AACDhZ,SAAGgE,KAAH,CAASomB,aAAT,GAAyB,IAAzB;AACA,UAAI,CAAC5qB,aAAagS,OAAO1d,GAApB,EAAyBiE,IAAzB,CAAD,IAAmCyZ,OAAOpZ,MAAP,IAAiB,IAAxD,EAA8D;AAC5D,YAAI0iC,YAAYtpB,OAAOpZ,MAAvB;AACAoZ,eAAOpZ,MAAP,GAAgB,IAAhB;AACA,YAAI8jC,UAAUvlB,aAAanF,MAAb,IAAuBspB,SAArC;AACA,YAAIoB,OAAJ,EACE;AAAE/jC,2BAAiBJ,IAAjB,EAAuBA,KAAKK,MAAL,GAAc8jC,OAArC;AAA+C;AACpD;AACD5oB,kBAAYtT,EAAZ,EAAgB,eAAhB,EAAiCA,EAAjC,EAAqC6J,MAArC;AACD,KAhBD;AAiBD,GAtBD;;AAwBAkyB,aAAWttC,SAAX,CAAqBwM,UAArB,GAAkC,UAAUlD,IAAV,EAAgB;AAChD,QAAI,CAAC,KAAKtD,KAAL,CAAW1J,MAAZ,IAAsB,KAAK+I,GAAL,CAASkM,EAAnC,EAAuC;AACrC,UAAI2S,KAAK,KAAK7e,GAAL,CAASkM,EAAT,CAAYgE,KAArB;AACA,UAAI,CAAC2O,GAAG6Y,kBAAJ,IAA0B77B,QAAQgjB,GAAG6Y,kBAAX,EAA+B,IAA/B,KAAwC,CAAC,CAAvE,EACE;AAAE,SAAC7Y,GAAG+Y,oBAAH,KAA4B/Y,GAAG+Y,oBAAH,GAA0B,EAAtD,CAAD,EAA4Dt6B,IAA5D,CAAiE,IAAjE;AAAwE;AAC7E;AACD,SAAKqD,KAAL,CAAWrD,IAAX,CAAgB2G,IAAhB;AACD,GAPD;;AASAgkC,aAAWttC,SAAX,CAAqBqP,UAArB,GAAkC,UAAU/F,IAAV,EAAgB;AAChD,SAAKtD,KAAL,CAAW7C,MAAX,CAAkBjC,QAAQ,KAAK8E,KAAb,EAAoBsD,IAApB,CAAlB,EAA6C,CAA7C;AACA,QAAI,CAAC,KAAKtD,KAAL,CAAW1J,MAAZ,IAAsB,KAAK+I,GAAL,CAASkM,EAAnC,EAAuC;AACrC,UAAI2S,KAAK,KAAK7e,GAAL,CAASkM,EAAT,CAAYgE,KAArB,CACC,CAAC2O,GAAG6Y,kBAAH,KAA0B7Y,GAAG6Y,kBAAH,GAAwB,EAAlD,CAAD,EAAwDp6B,IAAxD,CAA6D,IAA7D;AACF;AACF,GAND;AAOA+S,aAAW43B,UAAX;;AAEA;AACA,WAASI,SAAT,CAAkBroC,GAAlB,EAAuBR,IAAvB,EAA6BC,EAA7B,EAAiC0F,OAAjC,EAA0CwC,IAA1C,EAAgD;AAC9C;AACA;AACA;AACA,QAAIxC,WAAWA,QAAQ26B,MAAvB,EAA+B;AAAE,aAAOwI,eAAetoC,GAAf,EAAoBR,IAApB,EAA0BC,EAA1B,EAA8B0F,OAA9B,EAAuCwC,IAAvC,CAAP;AAAqD;AACtF;AACA,QAAI3H,IAAIkM,EAAJ,IAAU,CAAClM,IAAIkM,EAAJ,CAAOgE,KAAtB,EAA6B;AAAE,aAAO6nB,UAAU/3B,IAAIkM,EAAd,EAAkBm8B,SAAlB,EAA4BroC,GAA5B,EAAiCR,IAAjC,EAAuCC,EAAvC,EAA2C0F,OAA3C,EAAoDwC,IAApD,CAAP;AAAkE;;AAEjG,QAAIhB,SAAS,IAAIshC,UAAJ,CAAejoC,GAAf,EAAoB2H,IAApB,CAAb;AAAA,QAAwCpD,OAAOkB,IAAIjG,IAAJ,EAAUC,EAAV,CAA/C;AACA,QAAI0F,OAAJ,EAAa;AAAEpK,cAAQoK,OAAR,EAAiBwB,MAAjB,EAAyB,KAAzB;AAAiC;AAChD;AACA,QAAIpC,OAAO,CAAP,IAAYA,QAAQ,CAAR,IAAaoC,OAAOsC,cAAP,KAA0B,KAAvD,EACE;AAAE,aAAOtC,MAAP;AAAe;AACnB,QAAIA,OAAO4hC,YAAX,EAAyB;AACvB;AACA5hC,aAAOkE,SAAP,GAAmB,IAAnB;AACAlE,aAAOgF,UAAP,GAAoBxT,KAAK,MAAL,EAAa,CAACwO,OAAO4hC,YAAR,CAAb,EAAoC,mBAApC,CAApB;AACA,UAAI,CAACpjC,QAAQgd,iBAAb,EAAgC;AAAExb,eAAOgF,UAAP,CAAkBvT,YAAlB,CAA+B,kBAA/B,EAAmD,MAAnD;AAA4D;AAC9F,UAAI+M,QAAQyC,UAAZ,EAAwB;AAAEjB,eAAOgF,UAAP,CAAkB/D,UAAlB,GAA+B,IAA/B;AAAqC;AAChE;AACD,QAAIjB,OAAOkE,SAAX,EAAsB;AACpB,UAAIG,0BAA0BhL,GAA1B,EAA+BR,KAAKyE,IAApC,EAA0CzE,IAA1C,EAAgDC,EAAhD,EAAoDkH,MAApD,KACAnH,KAAKyE,IAAL,IAAaxE,GAAGwE,IAAhB,IAAwB+G,0BAA0BhL,GAA1B,EAA+BP,GAAGwE,IAAlC,EAAwCzE,IAAxC,EAA8CC,EAA9C,EAAkDkH,MAAlD,CAD5B,EAEE;AAAE,cAAM,IAAIhD,KAAJ,CAAU,kEAAV,CAAN;AAAqF;AACzF8C;AACD;;AAED,QAAIE,OAAO6hC,YAAX,EACE;AAAElH,yBAAmBthC,GAAnB,EAAwB,EAACR,MAAMA,IAAP,EAAaC,IAAIA,EAAjB,EAAqB9C,QAAQ,UAA7B,EAAxB,EAAkEqD,IAAIksB,GAAtE,EAA2EuX,GAA3E;AAAiF;;AAErF,QAAIgF,UAAUjpC,KAAKyE,IAAnB;AAAA,QAAyBiI,KAAKlM,IAAIkM,EAAlC;AAAA,QAAsCoqB,aAAtC;AACAt2B,QAAIkE,IAAJ,CAASukC,OAAT,EAAkBhpC,GAAGwE,IAAH,GAAU,CAA5B,EAA+B,UAAUA,IAAV,EAAgB;AAC7C,UAAIiI,MAAMvF,OAAOkE,SAAb,IAA0B,CAACqB,GAAG/G,OAAH,CAAW+e,YAAtC,IAAsDjZ,WAAWhH,IAAX,KAAoBiI,GAAGC,OAAH,CAAWrJ,OAAzF,EACE;AAAEwzB,wBAAgB,IAAhB;AAAsB;AAC1B,UAAI3vB,OAAOkE,SAAP,IAAoB49B,WAAWjpC,KAAKyE,IAAxC,EAA8C;AAAEI,yBAAiBJ,IAAjB,EAAuB,CAAvB;AAA2B;AAC3E+C,oBAAc/C,IAAd,EAAoB,IAAIyC,UAAJ,CAAeC,MAAf,EACe8hC,WAAWjpC,KAAKyE,IAAhB,GAAuBzE,KAAKhB,EAA5B,GAAiC,IADhD,EAEeiqC,WAAWhpC,GAAGwE,IAAd,GAAqBxE,GAAGjB,EAAxB,GAA6B,IAF5C,CAApB;AAGA,QAAEiqC,OAAF;AACD,KARD;AASA;AACA,QAAI9hC,OAAOkE,SAAX,EAAsB;AAAE7K,UAAIkE,IAAJ,CAAS1E,KAAKyE,IAAd,EAAoBxE,GAAGwE,IAAH,GAAU,CAA9B,EAAiC,UAAUA,IAAV,EAAgB;AACvE,YAAIyH,aAAa1L,GAAb,EAAkBiE,IAAlB,CAAJ,EAA6B;AAAEI,2BAAiBJ,IAAjB,EAAuB,CAAvB;AAA2B;AAC3D,OAFuB;AAEpB;;AAEJ,QAAI0C,OAAO+hC,YAAX,EAAyB;AAAE35B,SAAGpI,MAAH,EAAW,mBAAX,EAAgC,YAAY;AAAE,eAAOA,OAAOsuB,KAAP,EAAP;AAAwB,OAAtE;AAAyE;;AAEpG,QAAItuB,OAAO0C,QAAX,EAAqB;AACnB7C;AACA,UAAIxG,IAAIyhC,OAAJ,CAAYrB,IAAZ,CAAiBnpC,MAAjB,IAA2B+I,IAAIyhC,OAAJ,CAAYpB,MAAZ,CAAmBppC,MAAlD,EACE;AAAE+I,YAAI2oC,YAAJ;AAAoB;AACzB;AACD,QAAIhiC,OAAOkE,SAAX,EAAsB;AACpBlE,aAAO5K,EAAP,GAAY,EAAEisC,YAAd;AACArhC,aAAOw9B,MAAP,GAAgB,IAAhB;AACD;AACD,QAAIj4B,EAAJ,EAAQ;AACN;AACA,UAAIoqB,aAAJ,EAAmB;AAAEpqB,WAAGgE,KAAH,CAASomB,aAAT,GAAyB,IAAzB;AAA+B;AACpD,UAAI3vB,OAAOkE,SAAX,EACE;AAAEqtB,kBAAUhsB,EAAV,EAAc1M,KAAKyE,IAAnB,EAAyBxE,GAAGwE,IAAH,GAAU,CAAnC;AAAuC,OAD3C,MAEK,IAAI0C,OAAO9P,SAAP,IAAoB8P,OAAO6V,KAA3B,IAAoC7V,OAAO8V,UAA3C,IAAyD9V,OAAO+V,QAAhE,IAA4E/V,OAAOgW,GAAvF,EACH;AAAE,aAAK,IAAIzkB,IAAIsH,KAAKyE,IAAlB,EAAwB/L,KAAKuH,GAAGwE,IAAhC,EAAsC/L,GAAtC,EAA2C;AAAEwgC,wBAAcxsB,EAAd,EAAkBhU,CAAlB,EAAqB,MAArB;AAA8B;AAAE;AACjF,UAAIyO,OAAOw9B,MAAX,EAAmB;AAAEP,yBAAiB13B,GAAGlM,GAApB;AAA0B;AAC/Cwf,kBAAYtT,EAAZ,EAAgB,aAAhB,EAA+BA,EAA/B,EAAmCvF,MAAnC;AACD;AACD,WAAOA,MAAP;AACD;;AAED;;AAEA;AACA;AACA;AACA,MAAIiiC,mBAAmB,SAAnBA,gBAAmB,CAASz/B,OAAT,EAAkB2iB,OAAlB,EAA2B;AAChD,QAAI/V,SAAS,IAAb;;AAEA,SAAK5M,OAAL,GAAeA,OAAf;AACA,SAAK2iB,OAAL,GAAeA,OAAf;AACA,SAAK,IAAI5zB,IAAI,CAAb,EAAgBA,IAAIiR,QAAQlS,MAA5B,EAAoC,EAAEiB,CAAtC,EACE;AAAEiR,cAAQjR,CAAR,EAAWT,MAAX,GAAoBse,MAApB;AAA4B;AACjC,GAPD;;AASA6yB,mBAAiBjuC,SAAjB,CAA2Bs6B,KAA3B,GAAmC,YAAY;AAC3C,QAAIlf,SAAS,IAAb;;AAEF,QAAI,KAAKmsB,iBAAT,EAA4B;AAAE;AAAQ;AACtC,SAAKA,iBAAL,GAAyB,IAAzB;AACA,SAAK,IAAIhqC,IAAI,CAAb,EAAgBA,IAAI,KAAKiR,OAAL,CAAalS,MAAjC,EAAyC,EAAEiB,CAA3C,EACE;AAAE6d,aAAO5M,OAAP,CAAejR,CAAf,EAAkB+8B,KAAlB;AAA2B;AAC/BzV,gBAAY,IAAZ,EAAkB,OAAlB;AACD,GARD;;AAUAopB,mBAAiBjuC,SAAjB,CAA2B8O,IAA3B,GAAkC,UAAUgkB,IAAV,EAAgB3hB,OAAhB,EAAyB;AACzD,WAAO,KAAKggB,OAAL,CAAariB,IAAb,CAAkBgkB,IAAlB,EAAwB3hB,OAAxB,CAAP;AACD,GAFD;AAGAuE,aAAWu4B,gBAAX;;AAEA,WAASN,cAAT,CAAwBtoC,GAAxB,EAA6BR,IAA7B,EAAmCC,EAAnC,EAAuC0F,OAAvC,EAAgDwC,IAAhD,EAAsD;AACpDxC,cAAUpK,QAAQoK,OAAR,CAAV;AACAA,YAAQ26B,MAAR,GAAiB,KAAjB;AACA,QAAI32B,UAAU,CAACk/B,UAASroC,GAAT,EAAcR,IAAd,EAAoBC,EAApB,EAAwB0F,OAAxB,EAAiCwC,IAAjC,CAAD,CAAd;AAAA,QAAwDmkB,UAAU3iB,QAAQ,CAAR,CAAlE;AACA,QAAIuU,SAASvY,QAAQwG,UAArB;AACA4zB,eAAWv/B,GAAX,EAAgB,UAAUA,GAAV,EAAe;AAC7B,UAAI0d,MAAJ,EAAY;AAAEvY,gBAAQwG,UAAR,GAAqB+R,OAAOmrB,SAAP,CAAiB,IAAjB,CAArB;AAA6C;AAC3D1/B,cAAQ7L,IAAR,CAAa+qC,UAASroC,GAAT,EAAciG,SAAQjG,GAAR,EAAaR,IAAb,CAAd,EAAkCyG,SAAQjG,GAAR,EAAaP,EAAb,CAAlC,EAAoD0F,OAApD,EAA6DwC,IAA7D,CAAb;AACA,WAAK,IAAIzP,IAAI,CAAb,EAAgBA,IAAI8H,IAAI4/B,MAAJ,CAAW3oC,MAA/B,EAAuC,EAAEiB,CAAzC,EACE;AAAE,YAAI8H,IAAI4/B,MAAJ,CAAW1nC,CAAX,EAAc4wC,QAAlB,EAA4B;AAAE;AAAQ;AAAE;AAC5Chd,gBAAUvuB,IAAI4L,OAAJ,CAAV;AACD,KAND;AAOA,WAAO,IAAIy/B,gBAAJ,CAAqBz/B,OAArB,EAA8B2iB,OAA9B,CAAP;AACD;;AAED,WAASid,iBAAT,CAA2B/oC,GAA3B,EAAgC;AAC9B,WAAOA,IAAIgpC,SAAJ,CAAczjC,IAAIvF,IAAIyB,KAAR,EAAe,CAAf,CAAd,EAAiCzB,IAAIiG,OAAJ,CAAYV,IAAIvF,IAAIyL,QAAJ,EAAJ,CAAZ,CAAjC,EAAmE,UAAUjC,CAAV,EAAa;AAAE,aAAOA,EAAE/R,MAAT;AAAkB,KAApG,CAAP;AACD;;AAED,WAASwxC,iBAAT,CAA2BjpC,GAA3B,EAAgCmJ,OAAhC,EAAyC;AACvC,SAAK,IAAIjR,IAAI,CAAb,EAAgBA,IAAIiR,QAAQlS,MAA5B,EAAoCiB,GAApC,EAAyC;AACvC,UAAIyO,SAASwC,QAAQjR,CAAR,CAAb;AAAA,UAAyB6E,MAAM4J,OAAO8C,IAAP,EAA/B;AACA,UAAIy/B,QAAQlpC,IAAIiG,OAAJ,CAAYlJ,IAAIyC,IAAhB,CAAZ;AAAA,UAAmC2pC,MAAMnpC,IAAIiG,OAAJ,CAAYlJ,IAAI0C,EAAhB,CAAzC;AACA,UAAIgG,IAAIyjC,KAAJ,EAAWC,GAAX,CAAJ,EAAqB;AACnB,YAAIC,UAAUf,UAASroC,GAAT,EAAckpC,KAAd,EAAqBC,GAArB,EAA0BxiC,OAAOmlB,OAAjC,EAA0CnlB,OAAOmlB,OAAP,CAAenkB,IAAzD,CAAd;AACAhB,eAAOwC,OAAP,CAAe7L,IAAf,CAAoB8rC,OAApB;AACAA,gBAAQ3xC,MAAR,GAAiBkP,MAAjB;AACD;AACF;AACF;;AAED,WAAS0iC,mBAAT,CAA6BlgC,OAA7B,EAAsC;AACpC,QAAI6O,OAAO,SAAPA,IAAO,CAAW9f,CAAX,EAAe;AACxB,UAAIyO,SAASwC,QAAQjR,CAAR,CAAb;AAAA,UAAyB0nC,SAAS,CAACj5B,OAAOmlB,OAAP,CAAe9rB,GAAhB,CAAlC;AACAu/B,iBAAW54B,OAAOmlB,OAAP,CAAe9rB,GAA1B,EAA+B,UAAUE,CAAV,EAAa;AAAE,eAAO0/B,OAAOtiC,IAAP,CAAY4C,CAAZ,CAAP;AAAwB,OAAtE;AACA,WAAK,IAAIwJ,IAAI,CAAb,EAAgBA,IAAI/C,OAAOwC,OAAP,CAAelS,MAAnC,EAA2CyS,GAA3C,EAAgD;AAC9C,YAAI4/B,YAAY3iC,OAAOwC,OAAP,CAAeO,CAAf,CAAhB;AACA,YAAI7N,QAAQ+jC,MAAR,EAAgB0J,UAAUtpC,GAA1B,KAAkC,CAAC,CAAvC,EAA0C;AACxCspC,oBAAU7xC,MAAV,GAAmB,IAAnB;AACAkP,iBAAOwC,OAAP,CAAerL,MAAf,CAAsB4L,GAAtB,EAA2B,CAA3B;AACD;AACF;AACF,KAVD;;AAYA,SAAK,IAAIxR,IAAI,CAAb,EAAgBA,IAAIiR,QAAQlS,MAA5B,EAAoCiB,GAApC;AAAyC8f,WAAM9f,CAAN;AAAzC;AACD;;AAED,MAAIqxC,YAAY,CAAhB;AACA,MAAIC,MAAM,SAANA,GAAM,CAASrlC,IAAT,EAAeqP,IAAf,EAAqBsrB,SAArB,EAAgC2K,OAAhC,EAAyCp8B,SAAzC,EAAoD;AAC5D,QAAI,EAAE,gBAAgBm8B,GAAlB,CAAJ,EAA4B;AAAE,aAAO,IAAIA,GAAJ,CAAQrlC,IAAR,EAAcqP,IAAd,EAAoBsrB,SAApB,EAA+B2K,OAA/B,EAAwCp8B,SAAxC,CAAP;AAA2D;AACzF,QAAIyxB,aAAa,IAAjB,EAAuB;AAAEA,kBAAY,CAAZ;AAAe;;AAExCiI,gBAAYnsC,IAAZ,CAAiB,IAAjB,EAAuB,CAAC,IAAI+rC,SAAJ,CAAc,CAAC,IAAI9rB,IAAJ,CAAS,EAAT,EAAa,IAAb,CAAD,CAAd,CAAD,CAAvB;AACA,SAAKpZ,KAAL,GAAaq9B,SAAb;AACA,SAAKpX,SAAL,GAAiB,KAAKJ,UAAL,GAAkB,CAAnC;AACA,SAAKid,QAAL,GAAgB,KAAhB;AACA,SAAKmF,eAAL,GAAuB,CAAvB;AACA,SAAKxwB,YAAL,GAAoB,KAAKD,iBAAL,GAAyB6lB,SAA7C;AACA,QAAIvmC,QAAQgN,IAAIu5B,SAAJ,EAAe,CAAf,CAAZ;AACA,SAAK5S,GAAL,GAAW2R,gBAAgBtlC,KAAhB,CAAX;AACA,SAAKkpC,OAAL,GAAe,IAAIvB,OAAJ,CAAY,IAAZ,CAAf;AACA,SAAKnkC,EAAL,GAAU,EAAEwtC,SAAZ;AACA,SAAKhL,UAAL,GAAkB/qB,IAAlB;AACA,SAAKi2B,OAAL,GAAeA,OAAf;AACA,SAAKp8B,SAAL,GAAkBA,aAAa,KAAd,GAAuB,KAAvB,GAA+B,KAAhD;AACA,SAAKmtB,MAAL,GAAc,KAAd;;AAEA,QAAI,OAAOr2B,IAAP,IAAe,QAAnB,EAA6B;AAAEA,aAAO,KAAKgiC,UAAL,CAAgBhiC,IAAhB,CAAP;AAA8B;AAC7Dw6B,cAAU,IAAV,EAAgB,EAACn/B,MAAMjH,KAAP,EAAckH,IAAIlH,KAAlB,EAAyB4L,MAAMA,IAA/B,EAAhB;AACA6+B,iBAAa,IAAb,EAAmBnF,gBAAgBtlC,KAAhB,CAAnB,EAA2CiE,cAA3C;AACD,GAtBD;;AAwBAgtC,MAAI7uC,SAAJ,GAAgBqD,UAAU+oC,YAAYpsC,SAAtB,EAAiC;AAC/CgvC,iBAAaH,GADkC;AAE/C;AACA;AACA;AACA;AACAtlC,UAAM,cAAS1E,IAAT,EAAeC,EAAf,EAAmBof,EAAnB,EAAuB;AAC3B,UAAIA,EAAJ,EAAQ;AAAE,aAAKioB,KAAL,CAAWtnC,OAAO,KAAKiC,KAAvB,EAA8BhC,KAAKD,IAAnC,EAAyCqf,EAAzC;AAA8C,OAAxD,MACK;AAAE,aAAKioB,KAAL,CAAW,KAAKrlC,KAAhB,EAAuB,KAAKA,KAAL,GAAa,KAAKiC,IAAzC,EAA+ClE,IAA/C;AAAsD;AAC9D,KAT8C;;AAW/C;AACA0/B,YAAQ,gBAAS1wB,EAAT,EAAa7N,KAAb,EAAoB;AAC1B,UAAI2D,SAAS,CAAb;AACA,WAAK,IAAIpM,IAAI,CAAb,EAAgBA,IAAIyI,MAAM1J,MAA1B,EAAkC,EAAEiB,CAApC,EAAuC;AAAEoM,kBAAU3D,MAAMzI,CAAN,EAASoM,MAAnB;AAA2B;AACpE,WAAKuiC,WAAL,CAAiBr4B,KAAK,KAAK/M,KAA3B,EAAkCd,KAAlC,EAAyC2D,MAAzC;AACD,KAhB8C;AAiB/C66B,YAAQ,gBAAS3wB,EAAT,EAAa7S,CAAb,EAAgB;AAAE,WAAKirC,WAAL,CAAiBp4B,KAAK,KAAK/M,KAA3B,EAAkC9F,CAAlC;AAAsC,KAjBjB;;AAmB/C;AACA;;AAEAiuC,cAAU,kBAASH,OAAT,EAAkB;AAC1B,UAAI9oC,QAAQyD,SAAS,IAAT,EAAe,KAAK3C,KAApB,EAA2B,KAAKA,KAAL,GAAa,KAAKiC,IAA7C,CAAZ;AACA,UAAI+lC,YAAY,KAAhB,EAAuB;AAAE,eAAO9oC,KAAP;AAAc;AACvC,aAAOA,MAAMkpC,IAAN,CAAWJ,WAAW,KAAKK,aAAL,EAAtB,CAAP;AACD,KA1B8C;AA2B/CC,cAAU9R,YAAY,UAASnrB,IAAT,EAAe;AACnC,UAAI0X,MAAMjf,IAAI,KAAK9D,KAAT,EAAgB,CAAhB,CAAV;AAAA,UAA8ByE,OAAO,KAAKzE,KAAL,GAAa,KAAKiC,IAAlB,GAAyB,CAA9D;AACAkhC,iBAAW,IAAX,EAAiB,EAACplC,MAAMglB,GAAP,EAAY/kB,IAAI8F,IAAIW,IAAJ,EAAUzC,QAAQ,IAAR,EAAcyC,IAAd,EAAoB/B,IAApB,CAAyBlN,MAAnC,CAAhB;AACCkN,cAAM,KAAKgiC,UAAL,CAAgBr5B,IAAhB,CADP,EAC8BnQ,QAAQ,UADtC,EACkDwL,MAAM,IADxD,EAAjB,EACgF,IADhF;AAEA,UAAI,KAAK+D,EAAT,EAAa;AAAEwmB,uBAAe,KAAKxmB,EAApB,EAAwB,CAAxB,EAA2B,CAA3B;AAA+B;AAC9C82B,mBAAa,IAAb,EAAmBnF,gBAAgBrZ,GAAhB,CAAnB,EAAyChoB,cAAzC;AACD,KANS,CA3BqC;AAkC/CypC,kBAAc,sBAASn5B,IAAT,EAAetN,IAAf,EAAqBC,EAArB,EAAyB9C,MAAzB,EAAiC;AAC7C6C,aAAOyG,SAAQ,IAAR,EAAczG,IAAd,CAAP;AACAC,WAAKA,KAAKwG,SAAQ,IAAR,EAAcxG,EAAd,CAAL,GAAyBD,IAA9B;AACAymC,oBAAa,IAAb,EAAmBn5B,IAAnB,EAAyBtN,IAAzB,EAA+BC,EAA/B,EAAmC9C,MAAnC;AACD,KAtC8C;AAuC/CqtC,cAAU,kBAASxqC,IAAT,EAAeC,EAAf,EAAmBgqC,OAAnB,EAA4B;AACpC,UAAI9oC,QAAQqD,WAAW,IAAX,EAAiBiC,SAAQ,IAAR,EAAczG,IAAd,CAAjB,EAAsCyG,SAAQ,IAAR,EAAcxG,EAAd,CAAtC,CAAZ;AACA,UAAIgqC,YAAY,KAAhB,EAAuB;AAAE,eAAO9oC,KAAP;AAAc;AACvC,aAAOA,MAAMkpC,IAAN,CAAWJ,WAAW,KAAKK,aAAL,EAAtB,CAAP;AACD,KA3C8C;;AA6C/CrmC,aAAS,iBAASQ,IAAT,EAAe;AAAC,UAAIgB,IAAI,KAAKglC,aAAL,CAAmBhmC,IAAnB,CAAR,CAAkC,OAAOgB,KAAKA,EAAEd,IAAd;AAAmB,KA7C/B;;AA+C/C8lC,mBAAe,uBAAShmC,IAAT,EAAe;AAAC,UAAIe,OAAO,IAAP,EAAaf,IAAb,CAAJ,EAAwB;AAAE,eAAOR,QAAQ,IAAR,EAAcQ,IAAd,CAAP;AAA4B;AAAC,KA/CvC;AAgD/CimC,mBAAe,uBAASjmC,IAAT,EAAe;AAAC,aAAOO,OAAOP,IAAP,CAAP;AAAoB,KAhDJ;;AAkD/CkmC,8BAA0B,kCAASlmC,IAAT,EAAe;AACvC,UAAI,OAAOA,IAAP,IAAe,QAAnB,EAA6B;AAAEA,eAAOR,QAAQ,IAAR,EAAcQ,IAAd,CAAP;AAA4B;AAC3D,aAAOgH,WAAWhH,IAAX,CAAP;AACD,KArD8C;;AAuD/CmmC,eAAW,qBAAW;AAAC,aAAO,KAAK1mC,IAAZ;AAAiB,KAvDO;AAwD/Co7B,eAAW,qBAAW;AAAC,aAAO,KAAKr9B,KAAZ;AAAkB,KAxDM;AAyD/CgK,cAAU,oBAAW;AAAC,aAAO,KAAKhK,KAAL,GAAa,KAAKiC,IAAlB,GAAyB,CAAhC;AAAkC,KAzDT;;AA2D/CuC,aAAS,iBAASlJ,GAAT,EAAc;AAAC,aAAOkJ,SAAQ,IAAR,EAAclJ,GAAd,CAAP;AAA0B,KA3DH;;AA6D/Cw1B,eAAW,mBAASh6B,KAAT,EAAgB;AACzB,UAAIF,QAAQ,KAAK6zB,GAAL,CAASJ,OAAT,EAAZ;AAAA,UAAgC/uB,GAAhC;AACA,UAAIxE,SAAS,IAAT,IAAiBA,SAAS,MAA9B,EAAsC;AAAEwE,cAAM1E,MAAMm0B,IAAZ;AAAkB,OAA1D,MACK,IAAIj0B,SAAS,QAAb,EAAuB;AAAEwE,cAAM1E,MAAMqyB,MAAZ;AAAoB,OAA7C,MACA,IAAInyB,SAAS,KAAT,IAAkBA,SAAS,IAA3B,IAAmCA,UAAU,KAAjD,EAAwD;AAAEwE,cAAM1E,MAAMoH,EAAN,EAAN;AAAkB,OAA5E,MACA;AAAE1C,cAAM1E,MAAMmH,IAAN,EAAN;AAAoB;AAC3B,aAAOzC,GAAP;AACD,KApE8C;AAqE/CstC,oBAAgB,0BAAW;AAAE,aAAO,KAAKne,GAAL,CAASC,MAAhB;AAAwB,KArEN;AAsE/CqR,uBAAmB,6BAAW;AAAC,aAAO,KAAKtR,GAAL,CAASsR,iBAAT,EAAP;AAAoC,KAtEpB;;AAwE/C8M,eAAWrS,YAAY,UAASh0B,IAAT,EAAezF,EAAf,EAAmB2G,OAAnB,EAA4B;AACjDk+B,yBAAmB,IAAnB,EAAyBp9B,SAAQ,IAAR,EAAc,OAAOhC,IAAP,IAAe,QAAf,GAA0BsB,IAAItB,IAAJ,EAAUzF,MAAM,CAAhB,CAA1B,GAA+CyF,IAA7D,CAAzB,EAA6F,IAA7F,EAAmGkB,OAAnG;AACD,KAFU,CAxEoC;AA2E/C69B,kBAAc/K,YAAY,UAASvN,MAAT,EAAiB8B,IAAjB,EAAuBrnB,OAAvB,EAAgC;AACxDk+B,yBAAmB,IAAnB,EAAyBp9B,SAAQ,IAAR,EAAcykB,MAAd,CAAzB,EAAgDzkB,SAAQ,IAAR,EAAcumB,QAAQ9B,MAAtB,CAAhD,EAA+EvlB,OAA/E;AACD,KAFa,CA3EiC;AA8E/C49B,qBAAiB9K,YAAY,UAASzL,IAAT,EAAe5D,KAAf,EAAsBzjB,OAAtB,EAA+B;AAC1D49B,sBAAgB,IAAhB,EAAsB98B,SAAQ,IAAR,EAAcumB,IAAd,CAAtB,EAA2C5D,SAAS3iB,SAAQ,IAAR,EAAc2iB,KAAd,CAApD,EAA0EzjB,OAA1E;AACD,KAFgB,CA9E8B;AAiF/C89B,sBAAkBhL,YAAY,UAASiL,KAAT,EAAgB/9B,OAAhB,EAAyB;AACrD89B,uBAAiB,IAAjB,EAAuB58B,aAAa,IAAb,EAAmB68B,KAAnB,CAAvB,EAAkD/9B,OAAlD;AACD,KAFiB,CAjF6B;AAoF/ColC,wBAAoBtS,YAAY,UAASz9B,CAAT,EAAY2K,OAAZ,EAAqB;AACnD,UAAI+9B,QAAQzlC,IAAI,KAAKyuB,GAAL,CAASC,MAAb,EAAqB3xB,CAArB,CAAZ;AACAyoC,uBAAiB,IAAjB,EAAuB58B,aAAa,IAAb,EAAmB68B,KAAnB,CAAvB,EAAkD/9B,OAAlD;AACD,KAHmB,CApF2B;AAwF/CqlC,mBAAevS,YAAY,UAAS9L,MAAT,EAAiBL,OAAjB,EAA0B3mB,OAA1B,EAAmC;AAC5D,UAAI4Q,SAAS,IAAb;;AAEA,UAAI,CAACoW,OAAOl1B,MAAZ,EAAoB;AAAE;AAAQ;AAC9B,UAAIyG,MAAM,EAAV;AACA,WAAK,IAAIxF,IAAI,CAAb,EAAgBA,IAAIi0B,OAAOl1B,MAA3B,EAAmCiB,GAAnC,EACE;AAAEwF,YAAIxF,CAAJ,IAAS,IAAIqlC,KAAJ,CAAUt3B,SAAQ8P,MAAR,EAAgBoW,OAAOj0B,CAAP,EAAUwyB,MAA1B,CAAV,EACQzkB,SAAQ8P,MAAR,EAAgBoW,OAAOj0B,CAAP,EAAUs0B,IAA1B,CADR,CAAT;AACmD;AACvD,UAAIV,WAAW,IAAf,EAAqB;AAAEA,kBAAU5uB,KAAKC,GAAL,CAASgvB,OAAOl1B,MAAP,GAAgB,CAAzB,EAA4B,KAAKi1B,GAAL,CAASE,SAArC,CAAV;AAA2D;AAClF4W,mBAAa,IAAb,EAAmBvF,mBAAmB//B,GAAnB,EAAwBouB,OAAxB,CAAnB,EAAqD3mB,OAArD;AACD,KAVc,CAxFgC;AAmG/CslC,kBAAcxS,YAAY,UAASvN,MAAT,EAAiB8B,IAAjB,EAAuBrnB,OAAvB,EAAgC;AACxD,UAAIgnB,SAAS,KAAKD,GAAL,CAASC,MAAT,CAAgBp1B,KAAhB,CAAsB,CAAtB,CAAb;AACAo1B,aAAO7uB,IAAP,CAAY,IAAIigC,KAAJ,CAAUt3B,SAAQ,IAAR,EAAcykB,MAAd,CAAV,EAAiCzkB,SAAQ,IAAR,EAAcumB,QAAQ9B,MAAtB,CAAjC,CAAZ;AACAsY,mBAAa,IAAb,EAAmBvF,mBAAmBtR,MAAnB,EAA2BA,OAAOl1B,MAAP,GAAgB,CAA3C,CAAnB,EAAkEkO,OAAlE;AACD,KAJa,CAnGiC;;AAyG/CoN,kBAAc,sBAASk3B,OAAT,EAAkB;AAC9B,UAAI1zB,SAAS,IAAb;;AAEA,UAAIoW,SAAS,KAAKD,GAAL,CAASC,MAAtB;AAAA,UAA8BxrB,KAA9B;AACA,WAAK,IAAIzI,IAAI,CAAb,EAAgBA,IAAIi0B,OAAOl1B,MAA3B,EAAmCiB,GAAnC,EAAwC;AACtC,YAAIg0B,MAAMloB,WAAW+R,MAAX,EAAmBoW,OAAOj0B,CAAP,EAAUsH,IAAV,EAAnB,EAAqC2sB,OAAOj0B,CAAP,EAAUuH,EAAV,EAArC,CAAV;AACAkB,gBAAQA,QAAQA,MAAMuG,MAAN,CAAaglB,GAAb,CAAR,GAA4BA,GAApC;AACD;AACD,UAAIud,YAAY,KAAhB,EAAuB;AAAE,eAAO9oC,KAAP;AAAc,OAAvC,MACK;AAAE,eAAOA,MAAMkpC,IAAN,CAAWJ,WAAW,KAAKK,aAAL,EAAtB,CAAP;AAAoD;AAC5D,KAnH8C;AAoH/CY,mBAAe,uBAASjB,OAAT,EAAkB;AAC/B,UAAI1zB,SAAS,IAAb;;AAEA,UAAIzM,QAAQ,EAAZ;AAAA,UAAgB6iB,SAAS,KAAKD,GAAL,CAASC,MAAlC;AACA,WAAK,IAAIj0B,IAAI,CAAb,EAAgBA,IAAIi0B,OAAOl1B,MAA3B,EAAmCiB,GAAnC,EAAwC;AACtC,YAAIg0B,MAAMloB,WAAW+R,MAAX,EAAmBoW,OAAOj0B,CAAP,EAAUsH,IAAV,EAAnB,EAAqC2sB,OAAOj0B,CAAP,EAAUuH,EAAV,EAArC,CAAV;AACA,YAAIgqC,YAAY,KAAhB,EAAuB;AAAEvd,gBAAMA,IAAI2d,IAAJ,CAASJ,WAAW1zB,OAAO+zB,aAAP,EAApB,CAAN;AAAmD;AAC5ExgC,cAAMpR,CAAN,IAAWg0B,GAAX;AACD;AACD,aAAO5iB,KAAP;AACD,KA9H8C;AA+H/CqhC,sBAAkB,0BAAS79B,IAAT,EAAe7T,QAAf,EAAyB0D,MAAzB,EAAiC;AACjD,UAAIiuC,MAAM,EAAV;AACA,WAAK,IAAI1yC,IAAI,CAAb,EAAgBA,IAAI,KAAKg0B,GAAL,CAASC,MAAT,CAAgBl1B,MAApC,EAA4CiB,GAA5C,EACE;AAAE0yC,YAAI1yC,CAAJ,IAAS4U,IAAT;AAAe;AACnB,WAAK+9B,iBAAL,CAAuBD,GAAvB,EAA4B3xC,QAA5B,EAAsC0D,UAAU,QAAhD;AACD,KApI8C;AAqI/CkuC,uBAAmB5S,YAAY,UAASnrB,IAAT,EAAe7T,QAAf,EAAyB0D,MAAzB,EAAiC;AAC9D,UAAIoZ,SAAS,IAAb;;AAEA,UAAI+J,UAAU,EAAd;AAAA,UAAkBoM,MAAM,KAAKA,GAA7B;AACA,WAAK,IAAIh0B,IAAI,CAAb,EAAgBA,IAAIg0B,IAAIC,MAAJ,CAAWl1B,MAA/B,EAAuCiB,GAAvC,EAA4C;AAC1C,YAAIG,QAAQ6zB,IAAIC,MAAJ,CAAWj0B,CAAX,CAAZ;AACA4nB,gBAAQ5nB,CAAR,IAAa,EAACsH,MAAMnH,MAAMmH,IAAN,EAAP,EAAqBC,IAAIpH,MAAMoH,EAAN,EAAzB,EAAqC0E,MAAM4R,OAAOowB,UAAP,CAAkBr5B,KAAK5U,CAAL,CAAlB,CAA3C,EAAuEyE,QAAQA,MAA/E,EAAb;AACD;AACD,UAAIwmC,SAASlqC,YAAYA,YAAY,KAAxB,IAAiCilC,mBAAmB,IAAnB,EAAyBpe,OAAzB,EAAkC7mB,QAAlC,CAA9C;AACA,WAAK,IAAI6L,MAAMgb,QAAQ7oB,MAAR,GAAiB,CAAhC,EAAmC6N,OAAO,CAA1C,EAA6CA,KAA7C,EACE;AAAE8/B,mBAAW7uB,MAAX,EAAmB+J,QAAQhb,GAAR,CAAnB;AAAkC;AACtC,UAAIq+B,MAAJ,EAAY;AAAEI,mCAA2B,IAA3B,EAAiCJ,MAAjC;AAA0C,OAAxD,MACK,IAAI,KAAKj3B,EAAT,EAAa;AAAEomB,4BAAoB,KAAKpmB,EAAzB;AAA8B;AACnD,KAbkB,CArI4B;AAmJ/C4+B,UAAM7S,YAAY,YAAW;AAACkN,4BAAsB,IAAtB,EAA4B,MAA5B;AAAoC,KAA5D,CAnJyC;AAoJ/C4F,UAAM9S,YAAY,YAAW;AAACkN,4BAAsB,IAAtB,EAA4B,MAA5B;AAAoC,KAA5D,CApJyC;AAqJ/C6F,mBAAe/S,YAAY,YAAW;AAACkN,4BAAsB,IAAtB,EAA4B,MAA5B,EAAoC,IAApC;AAA0C,KAAlE,CArJgC;AAsJ/C8F,mBAAehT,YAAY,YAAW;AAACkN,4BAAsB,IAAtB,EAA4B,MAA5B,EAAoC,IAApC;AAA0C,KAAlE,CAtJgC;;AAwJ/C+F,kBAAc,sBAASv2B,GAAT,EAAc;AAAC,WAAK6lB,MAAL,GAAc7lB,GAAd;AAAkB,KAxJA;AAyJ/Cw2B,kBAAc,wBAAW;AAAC,aAAO,KAAK3Q,MAAZ;AAAmB,KAzJE;;AA2J/C4Q,iBAAa,uBAAW;AACtB,UAAI/J,OAAO,KAAKI,OAAhB;AAAA,UAAyBrB,OAAO,CAAhC;AAAA,UAAmCC,SAAS,CAA5C;AACA,WAAK,IAAInoC,IAAI,CAAb,EAAgBA,IAAImpC,KAAKjB,IAAL,CAAUnpC,MAA9B,EAAsCiB,GAAtC,EAA2C;AAAE,YAAI,CAACmpC,KAAKjB,IAAL,CAAUloC,CAAV,EAAai0B,MAAlB,EAA0B;AAAE,YAAEiU,IAAF;AAAQ;AAAE;AACnF,WAAK,IAAIt7B,MAAM,CAAf,EAAkBA,MAAMu8B,KAAKhB,MAAL,CAAYppC,MAApC,EAA4C6N,KAA5C,EAAmD;AAAE,YAAI,CAACu8B,KAAKhB,MAAL,CAAYv7B,GAAZ,EAAiBqnB,MAAtB,EAA8B;AAAE,YAAEkU,MAAF;AAAU;AAAE;AACjG,aAAO,EAACyK,MAAM1K,IAAP,EAAa2K,MAAM1K,MAAnB,EAAP;AACD,KAhK8C;AAiK/CsI,kBAAc,wBAAW;AAAC,WAAKlH,OAAL,GAAe,IAAIvB,OAAJ,CAAY,KAAKuB,OAAL,CAAaX,aAAzB,CAAf;AAAuD,KAjKlC;;AAmK/CuK,eAAW,qBAAW;AACpB,WAAK3B,eAAL,GAAuB,KAAK4B,gBAAL,CAAsB,IAAtB,CAAvB;AACD,KArK8C;AAsK/CA,sBAAkB,0BAASC,UAAT,EAAqB;AACrC,UAAIA,UAAJ,EACE;AAAE,aAAK9J,OAAL,CAAahB,MAAb,GAAsB,KAAKgB,OAAL,CAAaf,SAAb,GAAyB,KAAKe,OAAL,CAAad,UAAb,GAA0B,IAAzE;AAA+E;AACnF,aAAO,KAAKc,OAAL,CAAaZ,UAApB;AACD,KA1K8C;AA2K/C2K,aAAS,iBAAUC,GAAV,EAAe;AACtB,aAAO,KAAKhK,OAAL,CAAaZ,UAAb,KAA4B4K,OAAO,KAAK/B,eAAxC,CAAP;AACD,KA7K8C;;AA+K/CgC,gBAAY,sBAAW;AACrB,aAAO,EAACtL,MAAMoC,iBAAiB,KAAKf,OAAL,CAAarB,IAA9B,CAAP;AACCC,gBAAQmC,iBAAiB,KAAKf,OAAL,CAAapB,MAA9B,CADT,EAAP;AAED,KAlL8C;AAmL/CsL,gBAAY,oBAASC,QAAT,EAAmB;AAC7B,UAAIvK,OAAO,KAAKI,OAAL,GAAe,IAAIvB,OAAJ,CAAY,KAAKuB,OAAL,CAAaX,aAAzB,CAA1B;AACAO,WAAKjB,IAAL,GAAYoC,iBAAiBoJ,SAASxL,IAAT,CAAcrpC,KAAd,CAAoB,CAApB,CAAjB,EAAyC,IAAzC,EAA+C,IAA/C,CAAZ;AACAsqC,WAAKhB,MAAL,GAAcmC,iBAAiBoJ,SAASvL,MAAT,CAAgBtpC,KAAhB,CAAsB,CAAtB,CAAjB,EAA2C,IAA3C,EAAiD,IAAjD,CAAd;AACD,KAvL8C;;AAyL/C80C,qBAAiB5T,YAAY,UAASh0B,IAAT,EAAe6nC,QAAf,EAAyBzxC,KAAzB,EAAgC;AAC3D,aAAOmsC,WAAW,IAAX,EAAiBviC,IAAjB,EAAuB,QAAvB,EAAiC,UAAUA,IAAV,EAAgB;AACtD,YAAIkF,UAAUlF,KAAKkd,aAAL,KAAuBld,KAAKkd,aAAL,GAAqB,EAA5C,CAAd;AACAhY,gBAAQ2iC,QAAR,IAAoBzxC,KAApB;AACA,YAAI,CAACA,KAAD,IAAUyE,QAAQqK,OAAR,CAAd,EAAgC;AAAElF,eAAKkd,aAAL,GAAqB,IAArB;AAA2B;AAC7D,eAAO,IAAP;AACD,OALM,CAAP;AAMD,KAPgB,CAzL8B;;AAkM/C4qB,iBAAa9T,YAAY,UAAS6T,QAAT,EAAmB;AAC1C,UAAI/1B,SAAS,IAAb;;AAEA,WAAK7R,IAAL,CAAU,UAAUD,IAAV,EAAgB;AACxB,YAAIA,KAAKkd,aAAL,IAAsBld,KAAKkd,aAAL,CAAmB2qB,QAAnB,CAA1B,EAAwD;AACtDtF,qBAAWzwB,MAAX,EAAmB9R,IAAnB,EAAyB,QAAzB,EAAmC,YAAY;AAC7CA,iBAAKkd,aAAL,CAAmB2qB,QAAnB,IAA+B,IAA/B;AACA,gBAAIhtC,QAAQmF,KAAKkd,aAAb,CAAJ,EAAiC;AAAEld,mBAAKkd,aAAL,GAAqB,IAArB;AAA2B;AAC9D,mBAAO,IAAP;AACD,WAJD;AAKD;AACF,OARD;AASD,KAZY,CAlMkC;;AAgN/C6qB,cAAU,kBAAS/nC,IAAT,EAAe;AACvB,UAAItI,CAAJ;AACA,UAAI,OAAOsI,IAAP,IAAe,QAAnB,EAA6B;AAC3B,YAAI,CAACe,OAAO,IAAP,EAAaf,IAAb,CAAL,EAAyB;AAAE,iBAAO,IAAP;AAAa;AACxCtI,YAAIsI,IAAJ;AACAA,eAAOR,QAAQ,IAAR,EAAcQ,IAAd,CAAP;AACA,YAAI,CAACA,IAAL,EAAW;AAAE,iBAAO,IAAP;AAAa;AAC3B,OALD,MAKO;AACLtI,YAAI6I,OAAOP,IAAP,CAAJ;AACA,YAAItI,KAAK,IAAT,EAAe;AAAE,iBAAO,IAAP;AAAa;AAC/B;AACD,aAAO,EAACsI,MAAMtI,CAAP,EAAU8qC,QAAQxiC,IAAlB,EAAwBE,MAAMF,KAAKE,IAAnC,EAAyCgd,eAAeld,KAAKkd,aAA7D;AACC1I,mBAAWxU,KAAKwU,SADjB,EAC4BD,SAASvU,KAAKuU,OAD1C,EACmDoI,WAAW3c,KAAK2c,SADnE;AAECqB,iBAAShe,KAAKge,OAFf,EAAP;AAGD,KA9N8C;;AAgO/CgqB,kBAAchU,YAAY,UAASwO,MAAT,EAAiByF,KAAjB,EAAwB11C,GAAxB,EAA6B;AACrD,aAAOgwC,WAAW,IAAX,EAAiBC,MAAjB,EAAyByF,SAAS,QAAT,GAAoB,QAApB,GAA+B,OAAxD,EAAiE,UAAUjoC,IAAV,EAAgB;AACtF,YAAI9I,OAAO+wC,SAAS,MAAT,GAAkB,WAAlB,GACAA,SAAS,YAAT,GAAwB,SAAxB,GACAA,SAAS,QAAT,GAAoB,aAApB,GAAoC,WAF/C;AAGA,YAAI,CAACjoC,KAAK9I,IAAL,CAAL,EAAiB;AAAE8I,eAAK9I,IAAL,IAAa3E,GAAb;AAAkB,SAArC,MACK,IAAID,UAAUC,GAAV,EAAe7B,IAAf,CAAoBsP,KAAK9I,IAAL,CAApB,CAAJ,EAAqC;AAAE,iBAAO,KAAP;AAAc,SAArD,MACA;AAAE8I,eAAK9I,IAAL,KAAc,MAAM3E,GAApB;AAAyB;AAChC,eAAO,IAAP;AACD,OARM,CAAP;AASD,KAVa,CAhOiC;AA2O/C21C,qBAAiBlU,YAAY,UAASwO,MAAT,EAAiByF,KAAjB,EAAwB11C,GAAxB,EAA6B;AACxD,aAAOgwC,WAAW,IAAX,EAAiBC,MAAjB,EAAyByF,SAAS,QAAT,GAAoB,QAApB,GAA+B,OAAxD,EAAiE,UAAUjoC,IAAV,EAAgB;AACtF,YAAI9I,OAAO+wC,SAAS,MAAT,GAAkB,WAAlB,GACAA,SAAS,YAAT,GAAwB,SAAxB,GACAA,SAAS,QAAT,GAAoB,aAApB,GAAoC,WAF/C;AAGA,YAAIznC,MAAMR,KAAK9I,IAAL,CAAV;AACA,YAAI,CAACsJ,GAAL,EAAU;AAAE,iBAAO,KAAP;AAAc,SAA1B,MACK,IAAIjO,OAAO,IAAX,EAAiB;AAAEyN,eAAK9I,IAAL,IAAa,IAAb;AAAmB,SAAtC,MACA;AACH,cAAIqN,QAAQ/D,IAAItO,KAAJ,CAAUI,UAAUC,GAAV,CAAV,CAAZ;AACA,cAAI,CAACgS,KAAL,EAAY;AAAE,mBAAO,KAAP;AAAc;AAC5B,cAAIhQ,MAAMgQ,MAAMxR,KAAN,GAAcwR,MAAM,CAAN,EAASvR,MAAjC;AACAgN,eAAK9I,IAAL,IAAasJ,IAAI1N,KAAJ,CAAU,CAAV,EAAayR,MAAMxR,KAAnB,KAA6B,CAACwR,MAAMxR,KAAP,IAAgBwB,OAAOiM,IAAIxN,MAA3B,GAAoC,EAApC,GAAyC,GAAtE,IAA6EwN,IAAI1N,KAAJ,CAAUyB,GAAV,CAA7E,IAA+F,IAA5G;AACD;AACD,eAAO,IAAP;AACD,OAdM,CAAP;AAeD,KAhBgB,CA3O8B;;AA6P/CqvC,mBAAe5P,YAAY,UAASwO,MAAT,EAAiB9vC,IAAjB,EAAuBwO,OAAvB,EAAgC;AACzD,aAAO0iC,cAAc,IAAd,EAAoBpB,MAApB,EAA4B9vC,IAA5B,EAAkCwO,OAAlC,CAAP;AACD,KAFc,CA7PgC;AAgQ/CinC,sBAAkB,0BAAS1uB,MAAT,EAAiB;AAAEA,aAAOuX,KAAP;AAAgB,KAhQN;;AAkQ/CoT,cAAU,kBAAS7oC,IAAT,EAAeC,EAAf,EAAmB0F,OAAnB,EAA4B;AACpC,aAAOkjC,UAAS,IAAT,EAAepiC,SAAQ,IAAR,EAAczG,IAAd,CAAf,EAAoCyG,SAAQ,IAAR,EAAcxG,EAAd,CAApC,EAAuD0F,OAAvD,EAAgEA,WAAWA,QAAQwC,IAAnB,IAA2B,OAA3F,CAAP;AACD,KApQ8C;AAqQ/C0kC,iBAAa,qBAAStvC,GAAT,EAAcoI,OAAd,EAAuB;AAClC,UAAImnC,WAAW,EAAC/D,cAAcpjC,YAAYA,QAAQ7L,QAAR,IAAoB,IAApB,GAA2B6L,QAAQuY,MAAnC,GAA4CvY,OAAxD,CAAf;AACCyC,oBAAYzC,WAAWA,QAAQyC,UADhC;AAECqB,wBAAgB,KAFjB,EAEwB62B,QAAQ36B,WAAWA,QAAQ26B,MAFnD;AAGC3d,2BAAmBhd,WAAWA,QAAQgd,iBAHvC,EAAf;AAIAplB,YAAMkJ,SAAQ,IAAR,EAAclJ,GAAd,CAAN;AACA,aAAOsrC,UAAS,IAAT,EAAetrC,GAAf,EAAoBA,GAApB,EAAyBuvC,QAAzB,EAAmC,UAAnC,CAAP;AACD,KA5Q8C;AA6Q/CC,iBAAa,qBAASxvC,GAAT,EAAc;AACzBA,YAAMkJ,SAAQ,IAAR,EAAclJ,GAAd,CAAN;AACA,UAAIoM,UAAU,EAAd;AAAA,UAAkBtC,QAAQpD,QAAQ,IAAR,EAAc1G,IAAIkH,IAAlB,EAAwBgD,WAAlD;AACA,UAAIJ,KAAJ,EAAW;AAAE,aAAK,IAAI3O,IAAI,CAAb,EAAgBA,IAAI2O,MAAM5P,MAA1B,EAAkC,EAAEiB,CAApC,EAAuC;AAClD,cAAI4O,OAAOD,MAAM3O,CAAN,CAAX;AACA,cAAI,CAAC4O,KAAKtH,IAAL,IAAa,IAAb,IAAqBsH,KAAKtH,IAAL,IAAazC,IAAIyB,EAAvC,MACCsI,KAAKrH,EAAL,IAAW,IAAX,IAAmBqH,KAAKrH,EAAL,IAAW1C,IAAIyB,EADnC,CAAJ,EAEE;AAAE2K,oBAAQ7L,IAAR,CAAawJ,KAAKH,MAAL,CAAYlP,MAAZ,IAAsBqP,KAAKH,MAAxC;AAAiD;AACtD;AAAE;AACH,aAAOwC,OAAP;AACD,KAvR8C;AAwR/C6/B,eAAW,mBAASxpC,IAAT,EAAeC,EAAf,EAAmB6lC,MAAnB,EAA2B;AACpC9lC,aAAOyG,SAAQ,IAAR,EAAczG,IAAd,CAAP,CAA4BC,KAAKwG,SAAQ,IAAR,EAAcxG,EAAd,CAAL;AAC5B,UAAI+I,QAAQ,EAAZ;AAAA,UAAgBhE,SAAShF,KAAKyE,IAA9B;AACA,WAAKC,IAAL,CAAU1E,KAAKyE,IAAf,EAAqBxE,GAAGwE,IAAH,GAAU,CAA/B,EAAkC,UAAUA,IAAV,EAAgB;AAChD,YAAI4C,QAAQ5C,KAAKgD,WAAjB;AACA,YAAIJ,KAAJ,EAAW;AAAE,eAAK,IAAI3O,IAAI,CAAb,EAAgBA,IAAI2O,MAAM5P,MAA1B,EAAkCiB,GAAlC,EAAuC;AAClD,gBAAI4O,OAAOD,MAAM3O,CAAN,CAAX;AACA,gBAAI,EAAE4O,KAAKrH,EAAL,IAAW,IAAX,IAAmB+E,UAAUhF,KAAKyE,IAAlC,IAA0CzE,KAAKhB,EAAL,IAAWsI,KAAKrH,EAA1D,IACAqH,KAAKtH,IAAL,IAAa,IAAb,IAAqBgF,UAAUhF,KAAKyE,IADpC,IAEA6C,KAAKtH,IAAL,IAAa,IAAb,IAAqBgF,UAAU/E,GAAGwE,IAAlC,IAA0C6C,KAAKtH,IAAL,IAAaC,GAAGjB,EAF5D,MAGC,CAAC8mC,MAAD,IAAWA,OAAOx+B,KAAKH,MAAZ,CAHZ,CAAJ,EAIE;AAAE6B,oBAAMlL,IAAN,CAAWwJ,KAAKH,MAAL,CAAYlP,MAAZ,IAAsBqP,KAAKH,MAAtC;AAA+C;AACpD;AAAE;AACH,UAAEnC,MAAF;AACD,OAXD;AAYA,aAAOgE,KAAP;AACD,KAxS8C;AAyS/CgkC,iBAAa,uBAAW;AACtB,UAAIrjC,UAAU,EAAd;AACA,WAAKjF,IAAL,CAAU,UAAUD,IAAV,EAAgB;AACxB,YAAI0G,MAAM1G,KAAKgD,WAAf;AACA,YAAI0D,GAAJ,EAAS;AAAE,eAAK,IAAIzS,IAAI,CAAb,EAAgBA,IAAIyS,IAAI1T,MAAxB,EAAgC,EAAEiB,CAAlC,EACT;AAAE,gBAAIyS,IAAIzS,CAAJ,EAAOsH,IAAP,IAAe,IAAnB,EAAyB;AAAE2J,sBAAQ7L,IAAR,CAAaqN,IAAIzS,CAAJ,EAAOyO,MAApB;AAA6B;AAAE;AAAE;AACjE,OAJD;AAKA,aAAOwC,OAAP;AACD,KAjT8C;;AAmT/CsjC,kBAAc,sBAASp9B,GAAT,EAAc;AAC1B,UAAI7Q,EAAJ;AAAA,UAAQgG,SAAS,KAAK/C,KAAtB;AAAA,UAA6BirC,UAAU,KAAK5C,aAAL,GAAqB7yC,MAA5D;AACA,WAAKiN,IAAL,CAAU,UAAUD,IAAV,EAAgB;AACxB,YAAIH,KAAKG,KAAKE,IAAL,CAAUlN,MAAV,GAAmBy1C,OAA5B;AACA,YAAI5oC,KAAKuL,GAAT,EAAc;AAAE7Q,eAAK6Q,GAAL,CAAU,OAAO,IAAP;AAAa;AACvCA,eAAOvL,EAAP;AACA,UAAEU,MAAF;AACD,OALD;AAMA,aAAOyB,SAAQ,IAAR,EAAcV,IAAIf,MAAJ,EAAYhG,EAAZ,CAAd,CAAP;AACD,KA5T8C;AA6T/CmuC,kBAAc,sBAAUzkB,MAAV,EAAkB;AAC9BA,eAASjiB,SAAQ,IAAR,EAAciiB,MAAd,CAAT;AACA,UAAIlxB,QAAQkxB,OAAO1pB,EAAnB;AACA,UAAI0pB,OAAOjkB,IAAP,GAAc,KAAKxC,KAAnB,IAA4BymB,OAAO1pB,EAAP,GAAY,CAA5C,EAA+C;AAAE,eAAO,CAAP;AAAU;AAC3D,UAAIkuC,UAAU,KAAK5C,aAAL,GAAqB7yC,MAAnC;AACA,WAAKiN,IAAL,CAAU,KAAKzC,KAAf,EAAsBymB,OAAOjkB,IAA7B,EAAmC,UAAUA,IAAV,EAAgB;AAAE;AACnDjN,iBAASiN,KAAKE,IAAL,CAAUlN,MAAV,GAAmBy1C,OAA5B;AACD,OAFD;AAGA,aAAO11C,KAAP;AACD,KAtU8C;;AAwU/CwgB,UAAM,cAASo1B,WAAT,EAAsB;AAC1B,UAAI5sC,MAAM,IAAIwpC,GAAJ,CAAQplC,SAAS,IAAT,EAAe,KAAK3C,KAApB,EAA2B,KAAKA,KAAL,GAAa,KAAKiC,IAA7C,CAAR,EACQ,KAAK66B,UADb,EACyB,KAAK98B,KAD9B,EACqC,KAAKgoC,OAD1C,EACmD,KAAKp8B,SADxD,CAAV;AAEArN,UAAI0nB,SAAJ,GAAgB,KAAKA,SAArB,CAAgC1nB,IAAIsnB,UAAJ,GAAiB,KAAKA,UAAtB;AAChCtnB,UAAIksB,GAAJ,GAAU,KAAKA,GAAf;AACAlsB,UAAIw6B,MAAJ,GAAa,KAAb;AACA,UAAIoS,WAAJ,EAAiB;AACf5sC,YAAIyhC,OAAJ,CAAYnB,SAAZ,GAAwB,KAAKmB,OAAL,CAAanB,SAArC;AACAtgC,YAAI2rC,UAAJ,CAAe,KAAKD,UAAL,EAAf;AACD;AACD,aAAO1rC,GAAP;AACD,KAnV8C;;AAqV/C6sC,eAAW,mBAAS1nC,OAAT,EAAkB;AAC3B,UAAI,CAACA,OAAL,EAAc;AAAEA,kBAAU,EAAV;AAAc;AAC9B,UAAI3F,OAAO,KAAKiC,KAAhB;AAAA,UAAuBhC,KAAK,KAAKgC,KAAL,GAAa,KAAKiC,IAA9C;AACA,UAAIyB,QAAQ3F,IAAR,IAAgB,IAAhB,IAAwB2F,QAAQ3F,IAAR,GAAeA,IAA3C,EAAiD;AAAEA,eAAO2F,QAAQ3F,IAAf;AAAqB;AACxE,UAAI2F,QAAQ1F,EAAR,IAAc,IAAd,IAAsB0F,QAAQ1F,EAAR,GAAaA,EAAvC,EAA2C;AAAEA,aAAK0F,QAAQ1F,EAAb;AAAiB;AAC9D,UAAI+X,OAAO,IAAIgyB,GAAJ,CAAQplC,SAAS,IAAT,EAAe5E,IAAf,EAAqBC,EAArB,CAAR,EAAkC0F,QAAQqO,IAAR,IAAgB,KAAK+qB,UAAvD,EAAmE/+B,IAAnE,EAAyE,KAAKiqC,OAA9E,EAAuF,KAAKp8B,SAA5F,CAAX;AACA,UAAIlI,QAAQw6B,UAAZ,EAAwB;AAAEnoB,aAAKiqB,OAAL,GAAe,KAAKA,OAApB;AACvB,QAAC,KAAK7B,MAAL,KAAgB,KAAKA,MAAL,GAAc,EAA9B,CAAD,EAAoCtiC,IAApC,CAAyC,EAAC0C,KAAKwX,IAAN,EAAYmoB,YAAYx6B,QAAQw6B,UAAhC,EAAzC;AACHnoB,WAAKooB,MAAL,GAAc,CAAC,EAAC5/B,KAAK,IAAN,EAAY8oC,UAAU,IAAtB,EAA4BnJ,YAAYx6B,QAAQw6B,UAAhD,EAAD,CAAd;AACAsJ,wBAAkBzxB,IAAlB,EAAwBuxB,kBAAkB,IAAlB,CAAxB;AACA,aAAOvxB,IAAP;AACD,KAhW8C;AAiW/Cs1B,eAAW,mBAASlkB,KAAT,EAAgB;AACzB,UAAI7S,SAAS,IAAb;;AAEA,UAAI6S,iBAAiBt0B,UAArB,EAAiC;AAAEs0B,gBAAQA,MAAM5oB,GAAd;AAAmB;AACtD,UAAI,KAAK4/B,MAAT,EAAiB;AAAE,aAAK,IAAI1nC,IAAI,CAAb,EAAgBA,IAAI,KAAK0nC,MAAL,CAAY3oC,MAAhC,EAAwC,EAAEiB,CAA1C,EAA6C;AAC9D,cAAI60C,OAAOh3B,OAAO6pB,MAAP,CAAc1nC,CAAd,CAAX;AACA,cAAI60C,KAAK/sC,GAAL,IAAY4oB,KAAhB,EAAuB;AAAE;AAAU;AACnC7S,iBAAO6pB,MAAP,CAAc9hC,MAAd,CAAqB5F,CAArB,EAAwB,CAAxB;AACA0wB,gBAAMkkB,SAAN,CAAgB/2B,MAAhB;AACAszB,8BAAoBN,kBAAkBhzB,MAAlB,CAApB;AACA;AACD;AAAE;AACH;AACA,UAAI6S,MAAM6Y,OAAN,IAAiB,KAAKA,OAA1B,EAAmC;AACjC,YAAIuL,WAAW,CAACpkB,MAAM7sB,EAAP,CAAf;AACAwjC,mBAAW3W,KAAX,EAAkB,UAAU5oB,GAAV,EAAe;AAAE,iBAAOgtC,SAAS1vC,IAAT,CAAc0C,IAAIjE,EAAlB,CAAP;AAA+B,SAAlE,EAAoE,IAApE;AACA6sB,cAAM6Y,OAAN,GAAgB,IAAIvB,OAAJ,CAAY,IAAZ,CAAhB;AACAtX,cAAM6Y,OAAN,CAAcrB,IAAd,GAAqBoC,iBAAiB,KAAKf,OAAL,CAAarB,IAA9B,EAAoC4M,QAApC,CAArB;AACApkB,cAAM6Y,OAAN,CAAcpB,MAAd,GAAuBmC,iBAAiB,KAAKf,OAAL,CAAapB,MAA9B,EAAsC2M,QAAtC,CAAvB;AACD;AACF,KArX8C;AAsX/CC,oBAAgB,wBAASzyC,CAAT,EAAY;AAAC+kC,iBAAW,IAAX,EAAiB/kC,CAAjB;AAAoB,KAtXF;;AAwX/CsZ,aAAS,mBAAW;AAAC,aAAO,KAAKN,IAAZ;AAAiB,KAxXS;AAyX/C05B,eAAW,qBAAW;AAAC,aAAO,KAAKhhC,EAAZ;AAAe,KAzXS;;AA2X/Ci6B,gBAAY,oBAAShnC,GAAT,EAAc;AACxB,UAAI,KAAKsqC,OAAT,EAAkB;AAAE,eAAOtqC,IAAInF,KAAJ,CAAU,KAAKyvC,OAAf,CAAP;AAAgC;AACpD,aAAOx3B,eAAe9S,GAAf,CAAP;AACD,KA9X8C;AA+X/C2qC,mBAAe,yBAAW;AAAE,aAAO,KAAKL,OAAL,IAAgB,IAAvB;AAA6B,KA/XV;;AAiY/C0D,kBAAclV,YAAY,UAAU74B,GAAV,EAAe;AACvC,UAAIA,OAAO,KAAX,EAAkB;AAAEA,cAAM,KAAN;AAAa;AACjC,UAAIA,OAAO,KAAKiO,SAAhB,EAA2B;AAAE;AAAQ;AACrC,WAAKA,SAAL,GAAiBjO,GAAjB;AACA,WAAK8E,IAAL,CAAU,UAAUD,IAAV,EAAgB;AAAE,eAAOA,KAAKoI,KAAL,GAAa,IAApB;AAA2B,OAAvD;AACA,UAAI,KAAKH,EAAT,EAAa;AAAE+zB,yBAAiB,KAAK/zB,EAAtB;AAA2B;AAC3C,KANa;AAjYiC,GAAjC,CAAhB;;AA0YA;AACAs9B,MAAI7uC,SAAJ,CAAcyyC,QAAd,GAAyB5D,IAAI7uC,SAAJ,CAAcuJ,IAAvC;;AAEA;AACA;AACA,MAAImpC,WAAW,CAAf;;AAEA,WAASC,MAAT,CAAgBn2C,CAAhB,EAAmB;AACjB,QAAI+U,KAAK,IAAT;AACAqhC,oBAAgBrhC,EAAhB;AACA,QAAIwD,eAAexD,EAAf,EAAmB/U,CAAnB,KAAyB6rB,cAAc9W,GAAGC,OAAjB,EAA0BhV,CAA1B,CAA7B,EACE;AAAE;AAAQ;AACZoZ,qBAAiBpZ,CAAjB;AACA,QAAInC,EAAJ,EAAQ;AAAEq4C,iBAAW,CAAC,IAAIlU,IAAJ,EAAZ;AAAsB;AAChC,QAAIp8B,MAAMouB,aAAajf,EAAb,EAAiB/U,CAAjB,EAAoB,IAApB,CAAV;AAAA,QAAqCq2C,QAAQr2C,EAAEs2C,YAAF,CAAeD,KAA5D;AACA,QAAI,CAACzwC,GAAD,IAAQmP,GAAGwhC,UAAH,EAAZ,EAA6B;AAAE;AAAQ;AACvC;AACA;AACA,QAAIF,SAASA,MAAMv2C,MAAf,IAAyBqb,OAAOq7B,UAAhC,IAA8Cr7B,OAAOs7B,IAAzD,EAA+D;AAC7D,UAAIjyC,IAAI6xC,MAAMv2C,MAAd;AAAA,UAAsBkN,OAAOzJ,MAAMiB,CAAN,CAA7B;AAAA,UAAuCkyC,OAAO,CAA9C;AACA,UAAIC,WAAW,SAAXA,QAAW,CAAUC,IAAV,EAAgB71C,CAAhB,EAAmB;AAChC,YAAIgU,GAAG/G,OAAH,CAAW6oC,kBAAX,IACAnyC,QAAQqQ,GAAG/G,OAAH,CAAW6oC,kBAAnB,EAAuCD,KAAKpmC,IAA5C,KAAqD,CAAC,CAD1D,EAEE;AAAE;AAAQ;;AAEZ,YAAIsmC,SAAS,IAAIN,UAAJ,EAAb;AACAM,eAAOC,MAAP,GAAgBnW,UAAU7rB,EAAV,EAAc,YAAY;AACxC,cAAIrU,UAAUo2C,OAAO/7B,MAArB;AACA,cAAI,0BAA0Bvd,IAA1B,CAA+BkD,OAA/B,CAAJ,EAA6C;AAAEA,sBAAU,EAAV;AAAc;AAC7DsM,eAAKjM,CAAL,IAAUL,OAAV;AACA,cAAI,EAAEg2C,IAAF,IAAUlyC,CAAd,EAAiB;AACfoB,kBAAMkJ,SAAQiG,GAAGlM,GAAX,EAAgBjD,GAAhB,CAAN;AACA,gBAAImL,SAAS,EAAC1I,MAAMzC,GAAP,EAAY0C,IAAI1C,GAAhB;AACCoH,oBAAM+H,GAAGlM,GAAH,CAAOmmC,UAAP,CAAkBhiC,KAAK0lC,IAAL,CAAU39B,GAAGlM,GAAH,CAAO8pC,aAAP,EAAV,CAAlB,CADP;AAECntC,sBAAQ,OAFT,EAAb;AAGAioC,uBAAW14B,GAAGlM,GAAd,EAAmBkI,MAAnB;AACAq7B,uCAA2Br3B,GAAGlM,GAA9B,EAAmC69B,gBAAgB9gC,GAAhB,EAAqB+gC,UAAU51B,MAAV,CAArB,CAAnC;AACD;AACF,SAZe,CAAhB;AAaA+lC,eAAOE,UAAP,CAAkBJ,IAAlB;AACD,OApBD;AAqBA,WAAK,IAAI71C,IAAI,CAAb,EAAgBA,IAAIyD,CAApB,EAAuB,EAAEzD,CAAzB,EAA4B;AAAE41C,iBAASN,MAAMt1C,CAAN,CAAT,EAAmBA,CAAnB;AAAuB;AACtD,KAxBD,MAwBO;AAAE;AACP;AACA,UAAIgU,GAAGuI,KAAH,CAAS25B,YAAT,IAAyBliC,GAAGlM,GAAH,CAAOksB,GAAP,CAAW9yB,QAAX,CAAoB2D,GAApB,IAA2B,CAAC,CAAzD,EAA4D;AAC1DmP,WAAGuI,KAAH,CAAS25B,YAAT,CAAsBj3C,CAAtB;AACA;AACAgF,mBAAW,YAAY;AAAE,iBAAO+P,GAAGC,OAAH,CAAWlM,KAAX,CAAiBmvB,KAAjB,EAAP;AAAkC,SAA3D,EAA6D,EAA7D;AACA;AACD;AACD,UAAI;AACF,YAAIif,SAASl3C,EAAEs2C,YAAF,CAAea,OAAf,CAAuB,MAAvB,CAAb;AACA,YAAID,MAAJ,EAAY;AACV,cAAIE,QAAJ;AACA,cAAIriC,GAAGuI,KAAH,CAAS25B,YAAT,IAAyB,CAACliC,GAAGuI,KAAH,CAAS25B,YAAT,CAAsB52B,IAApD,EACE;AAAE+2B,uBAAWriC,GAAGm+B,cAAH,EAAX;AAAgC;AACpC7G,6BAAmBt3B,GAAGlM,GAAtB,EAA2B69B,gBAAgB9gC,GAAhB,EAAqBA,GAArB,CAA3B;AACA,cAAIwxC,QAAJ,EAAc;AAAE,iBAAK,IAAIzpC,MAAM,CAAf,EAAkBA,MAAMypC,SAASt3C,MAAjC,EAAyC,EAAE6N,GAA3C,EACd;AAAEmhC,4BAAa/5B,GAAGlM,GAAhB,EAAqB,EAArB,EAAyBuuC,SAASzpC,GAAT,EAAc4lB,MAAvC,EAA+C6jB,SAASzpC,GAAT,EAAc0nB,IAA7D,EAAmE,MAAnE;AAA4E;AAAE;AAClFtgB,aAAGy+B,gBAAH,CAAoB0D,MAApB,EAA4B,QAA5B,EAAsC,OAAtC;AACAniC,aAAGC,OAAH,CAAWlM,KAAX,CAAiBmvB,KAAjB;AACD;AACF,OAZD,CAaA,OAAMj4B,CAAN,EAAQ,CAAE;AACX;AACF;;AAED,WAASq3C,WAAT,CAAqBtiC,EAArB,EAAyB/U,CAAzB,EAA4B;AAC1B,QAAInC,OAAO,CAACkX,GAAGuI,KAAH,CAAS25B,YAAV,IAA0B,CAAC,IAAIjV,IAAJ,EAAD,GAAYkU,QAAZ,GAAuB,GAAxD,CAAJ,EAAkE;AAAEz8B,aAAOzZ,CAAP,EAAW;AAAQ;AACvF,QAAIuY,eAAexD,EAAf,EAAmB/U,CAAnB,KAAyB6rB,cAAc9W,GAAGC,OAAjB,EAA0BhV,CAA1B,CAA7B,EAA2D;AAAE;AAAQ;;AAErEA,MAAEs2C,YAAF,CAAegB,OAAf,CAAuB,MAAvB,EAA+BviC,GAAGqG,YAAH,EAA/B;AACApb,MAAEs2C,YAAF,CAAeiB,aAAf,GAA+B,UAA/B;;AAEA;AACA;AACA,QAAIv3C,EAAEs2C,YAAF,CAAekB,YAAf,IAA+B,CAACn5C,MAApC,EAA4C;AAC1C,UAAIo5C,MAAMj3C,IAAI,KAAJ,EAAW,IAAX,EAAiB,IAAjB,EAAuB,mCAAvB,CAAV;AACAi3C,UAAIC,GAAJ,GAAU,4EAAV;AACA,UAAIt5C,MAAJ,EAAY;AACVq5C,YAAIrsB,KAAJ,GAAYqsB,IAAItqC,MAAJ,GAAa,CAAzB;AACA4H,WAAGC,OAAH,CAAWhL,OAAX,CAAmBzJ,WAAnB,CAA+Bk3C,GAA/B;AACA;AACAA,YAAIE,IAAJ,GAAWF,IAAIzrB,SAAf;AACD;AACDhsB,QAAEs2C,YAAF,CAAekB,YAAf,CAA4BC,GAA5B,EAAiC,CAAjC,EAAoC,CAApC;AACA,UAAIr5C,MAAJ,EAAY;AAAEq5C,YAAI51C,UAAJ,CAAe1B,WAAf,CAA2Bs3C,GAA3B;AAAiC;AAChD;AACF;;AAED,WAASG,UAAT,CAAoB7iC,EAApB,EAAwB/U,CAAxB,EAA2B;AACzB,QAAI4F,MAAMouB,aAAajf,EAAb,EAAiB/U,CAAjB,CAAV;AACA,QAAI,CAAC4F,GAAL,EAAU;AAAE;AAAQ;AACpB,QAAIiyC,OAAO95C,SAAS8nB,sBAAT,EAAX;AACAuP,wBAAoBrgB,EAApB,EAAwBnP,GAAxB,EAA6BiyC,IAA7B;AACA,QAAI,CAAC9iC,GAAGC,OAAH,CAAW8iC,UAAhB,EAA4B;AAC1B/iC,SAAGC,OAAH,CAAW8iC,UAAX,GAAwBt3C,IAAI,KAAJ,EAAW,IAAX,EAAiB,2CAAjB,CAAxB;AACAuU,SAAGC,OAAH,CAAWzL,SAAX,CAAqB8f,YAArB,CAAkCtU,GAAGC,OAAH,CAAW8iC,UAA7C,EAAyD/iC,GAAGC,OAAH,CAAW5L,SAApE;AACD;AACD/I,yBAAqB0U,GAAGC,OAAH,CAAW8iC,UAAhC,EAA4CD,IAA5C;AACD;;AAED,WAASzB,eAAT,CAAyBrhC,EAAzB,EAA6B;AAC3B,QAAIA,GAAGC,OAAH,CAAW8iC,UAAf,EAA2B;AACzB/iC,SAAGC,OAAH,CAAWzL,SAAX,CAAqBpJ,WAArB,CAAiC4U,GAAGC,OAAH,CAAW8iC,UAA5C;AACA/iC,SAAGC,OAAH,CAAW8iC,UAAX,GAAwB,IAAxB;AACD;AACF;;AAED;AACA;AACA;;AAEA,WAASC,iBAAT,CAA2B10C,CAA3B,EAA8B;AAC5B,QAAI,CAACtF,SAASi6C,sBAAd,EAAsC;AAAE;AAAQ;AAChD,QAAIC,UAAUl6C,SAASi6C,sBAAT,CAAgC,YAAhC,CAAd;AACA,SAAK,IAAIj3C,IAAI,CAAb,EAAgBA,IAAIk3C,QAAQn4C,MAA5B,EAAoCiB,GAApC,EAAyC;AACvC,UAAIgU,KAAKkjC,QAAQl3C,CAAR,EAAW5D,UAApB;AACA,UAAI4X,EAAJ,EAAQ;AAAE1R,UAAE0R,EAAF;AAAO;AAClB;AACF;;AAED,MAAImjC,oBAAoB,KAAxB;AACA,WAASC,oBAAT,GAAgC;AAC9B,QAAID,iBAAJ,EAAuB;AAAE;AAAQ;AACjCE;AACAF,wBAAoB,IAApB;AACD;AACD,WAASE,sBAAT,GAAkC;AAChC;AACA,QAAIC,WAAJ;AACAzgC,OAAGuD,MAAH,EAAW,QAAX,EAAqB,YAAY;AAC/B,UAAIk9B,eAAe,IAAnB,EAAyB;AAAEA,sBAAcrzC,WAAW,YAAY;AAC9DqzC,wBAAc,IAAd;AACAN,4BAAkBO,QAAlB;AACD,SAHwC,EAGtC,GAHsC,CAAd;AAGlB;AACV,KALD;AAMA;AACA1gC,OAAGuD,MAAH,EAAW,MAAX,EAAmB,YAAY;AAAE,aAAO48B,kBAAkB1f,MAAlB,CAAP;AAAmC,KAApE;AACD;AACD;AACA,WAASigB,QAAT,CAAkBvjC,EAAlB,EAAsB;AACpB,QAAIhM,IAAIgM,GAAGC,OAAX;AACA,QAAIjM,EAAE8B,cAAF,IAAoB9B,EAAEiB,OAAF,CAAU2iB,YAA9B,IAA8C5jB,EAAE+B,aAAF,IAAmB/B,EAAEiB,OAAF,CAAU4hB,WAA/E,EACE;AAAE;AAAQ;AACZ;AACA7iB,MAAEyC,eAAF,GAAoBzC,EAAE0C,gBAAF,GAAqB1C,EAAE2C,cAAF,GAAmB,IAA5D;AACA3C,MAAEoC,iBAAF,GAAsB,KAAtB;AACA4J,OAAGwjC,OAAH;AACD;;AAED,MAAIC,WAAW;AACb,OAAG,OADU,EACD,GAAG,WADF,EACe,GAAG,KADlB,EACyB,IAAI,OAD7B,EACsC,IAAI,OAD1C,EACmD,IAAI,MADvD,EAC+D,IAAI,KADnE;AAEb,QAAI,OAFS,EAEA,IAAI,UAFJ,EAEgB,IAAI,KAFpB,EAE2B,IAAI,OAF/B,EAEwC,IAAI,QAF5C,EAEsD,IAAI,UAF1D,EAEsE,IAAI,KAF1E;AAGb,QAAI,MAHS,EAGD,IAAI,MAHH,EAGW,IAAI,IAHf,EAGqB,IAAI,OAHzB,EAGkC,IAAI,MAHtC,EAG8C,IAAI,WAHlD,EAG+D,IAAI,QAHnE;AAIb,QAAI,QAJS,EAIC,IAAI,GAJL,EAIU,IAAI,GAJd,EAImB,IAAI,KAJvB,EAI8B,IAAI,KAJlC,EAIyC,IAAI,KAJ7C;AAKb,SAAK,GALQ,EAKH,KAAK,GALF,EAKO,KAAK,GALZ,EAKiB,KAAK,GALtB,EAK2B,KAAK,GALhC,EAKqC,KAAK,QAL1C;AAMb,SAAK,GANQ,EAMH,KAAK,GANF,EAMO,KAAK,GANZ,EAMiB,KAAK,GANtB,EAM2B,KAAK,GANhC,EAMqC,KAAK,GAN1C,EAM+C,KAAK,GANpD,EAMyD,KAAK,GAN9D,EAMmE,KAAK,GANxE,EAM6E,KAAK,IANlF;AAOb,SAAK,GAPQ,EAOH,KAAK,GAPF,EAOO,OAAO,IAPd,EAOoB,OAAO,MAP3B,EAOmC,OAAO,MAP1C,EAOkD,OAAO,OAPzD,EAOkE,OAAO,QAPzE;AAQb,WAAO,MARM,EAQE,OAAO,KART,EAQgB,OAAO,QARvB,EAQiC,OAAO,UARxC,EAQoD,OAAO;;AAG1E;AAXe,GAAf,CAYA,KAAK,IAAIz3C,IAAI,CAAb,EAAgBA,IAAI,EAApB,EAAwBA,GAAxB,EAA6B;AAAEy3C,aAASz3C,IAAI,EAAb,IAAmBy3C,SAASz3C,IAAI,EAAb,IAAmBkN,OAAOlN,CAAP,CAAtC;AAAiD;AAChF;AACA,OAAK,IAAI4M,MAAM,EAAf,EAAmBA,OAAO,EAA1B,EAA8BA,KAA9B,EAAqC;AAAE6qC,aAAS7qC,GAAT,IAAgBM,OAAOwqC,YAAP,CAAoB9qC,GAApB,CAAhB;AAA0C;AACjF;AACA,OAAK,IAAIiE,MAAM,CAAf,EAAkBA,OAAO,EAAzB,EAA6BA,KAA7B,EAAoC;AAAE4mC,aAAS5mC,MAAM,GAAf,IAAsB4mC,SAAS5mC,MAAM,KAAf,IAAwB,MAAMA,GAApD;AAAyD;;AAE/F,MAAI8mC,SAAS,EAAb;;AAEAA,SAAOC,KAAP,GAAe;AACb,YAAQ,YADK,EACS,SAAS,aADlB,EACiC,MAAM,UADvC,EACmD,QAAQ,YAD3D;AAEb,WAAO,WAFM,EAEO,QAAQ,kBAFf,EAEmC,UAAU,UAF7C,EAEyD,YAAY,YAFrE;AAGb,cAAU,cAHG,EAGa,aAAa,eAH1B,EAG2C,mBAAmB,eAH9D;AAIb,WAAO,YAJM,EAIQ,aAAa,YAJrB;AAKb,aAAS,kBALI,EAKgB,UAAU,iBAL1B;AAMb,WAAO;AAET;AACA;AACA;AAVe,GAAf,CAWAD,OAAOE,SAAP,GAAmB;AACjB,cAAU,WADO,EACM,UAAU,YADhB,EAC8B,UAAU,MADxC,EACgD,gBAAgB,MADhE,EACwE,UAAU,MADlF;AAEjB,iBAAa,YAFI,EAEU,YAAY,UAFtB,EAEkC,WAAW,UAF7C,EAEyD,aAAa,YAFtE;AAGjB,iBAAa,aAHI,EAGW,cAAc,cAHzB,EAGyC,YAAY,aAHrD,EAGoE,aAAa,WAHjF;AAIjB,sBAAkB,gBAJD,EAImB,eAAe,eAJlC,EAImD,UAAU,MAJ7D,EAIqE,UAAU,MAJ/E;AAKjB,cAAU,UALO,EAKK,gBAAgB,UALrB,EAKiC,gBAAgB,SALjD,EAK4D,gBAAgB,YAL5E;AAMjB,cAAU,YANO,EAMO,UAAU,YANjB;AAOjB,cAAU,eAPO,EAOU,gBAAgB,eAP1B,EAO2C,SAAS,eAPpD;AAQjBC,iBAAa;AAEf;AAVmB,GAAnB,CAWAH,OAAOI,MAAP,GAAgB;AACd,cAAU,aADI,EACW,UAAU,YADrB,EACmC,UAAU,UAD7C,EACyD,UAAU,YADnE;AAEd,aAAS,aAFK,EAEU,SAAS,YAFnB,EAEiC,UAAU,aAF3C,EAE0D,UAAU,WAFpE;AAGd,cAAU,YAHI,EAGU,gBAAgB,UAH1B,EAGsC,UAAU,cAHhD,EAGgE,UAAU,eAH1E;AAId,aAAS,cAJK,EAIW,iBAAiB,eAJ5B,EAI6C,UAAU,UAJvD,EAImE,UAAU,gBAJ7E;AAKd,cAAU;AALI,GAAhB;AAOAJ,SAAOK,UAAP,GAAoB;AAClB,aAAS,WADS,EACI,SAAS,YADb,EAC2B,SAAS,MADpC,EAC4C,eAAe,MAD3D,EACmE,SAAS,MAD5E;AAElB,gBAAY,YAFM,EAEQ,UAAU,YAFlB,EAEgC,WAAW,UAF3C,EAEuD,YAAY,UAFnE,EAE+E,YAAY,aAF3F;AAGlB,iBAAa,cAHK,EAGW,YAAY,YAHvB,EAGqC,aAAa,aAHlD,EAGiE,iBAAiB,gBAHlF;AAIlB,0BAAsB,eAJJ,EAIqB,cAAc,eAJnC,EAIoD,SAAS,MAJ7D,EAIqE,SAAS,MAJ9E;AAKlB,aAAS,UALS,EAKG,eAAe,UALlB,EAK8B,aAAa,SAL3C,EAKsD,mBAAmB,YALzE;AAMlB,aAAS,YANS,EAMK,SAAS,YANd,EAM4B,iBAAiB,oBAN7C,EAMmE,cAAc,qBANjF;AAOlB,aAAS,eAPS,EAOQ,eAAe,eAPvB,EAOwC,WAAW,YAPnD,EAOiE,aAAa,UAP9E;AAQlBF,iBAAa,CAAC,OAAD,EAAU,QAAV;AARK,GAApB;AAUAH,SAAO,SAAP,IAAoB95C,MAAM85C,OAAOK,UAAb,GAA0BL,OAAOE,SAArD;;AAEA;;AAEA,WAASI,gBAAT,CAA0B58B,IAA1B,EAAgC;AAC9B,QAAIjK,QAAQiK,KAAKvZ,KAAL,CAAW,QAAX,CAAZ;AACAuZ,WAAOjK,MAAMA,MAAMrS,MAAN,GAAe,CAArB,CAAP;AACA,QAAIm5C,GAAJ,EAASC,IAAT,EAAehtC,KAAf,EAAsBitC,GAAtB;AACA,SAAK,IAAIp4C,IAAI,CAAb,EAAgBA,IAAIoR,MAAMrS,MAAN,GAAe,CAAnC,EAAsCiB,GAAtC,EAA2C;AACzC,UAAIq4C,MAAMjnC,MAAMpR,CAAN,CAAV;AACA,UAAI,kBAAkBvD,IAAlB,CAAuB47C,GAAvB,CAAJ,EAAiC;AAAED,cAAM,IAAN;AAAY,OAA/C,MACK,IAAI,YAAY37C,IAAZ,CAAiB47C,GAAjB,CAAJ,EAA2B;AAAEH,cAAM,IAAN;AAAY,OAAzC,MACA,IAAI,sBAAsBz7C,IAAtB,CAA2B47C,GAA3B,CAAJ,EAAqC;AAAEF,eAAO,IAAP;AAAa,OAApD,MACA,IAAI,cAAc17C,IAAd,CAAmB47C,GAAnB,CAAJ,EAA6B;AAAEltC,gBAAQ,IAAR;AAAc,OAA7C,MACA;AAAE,cAAM,IAAIM,KAAJ,CAAU,iCAAiC4sC,GAA3C,CAAN;AAAuD;AAC/D;AACD,QAAIH,GAAJ,EAAS;AAAE78B,aAAO,SAASA,IAAhB;AAAsB;AACjC,QAAI88B,IAAJ,EAAU;AAAE98B,aAAO,UAAUA,IAAjB;AAAuB;AACnC,QAAI+8B,GAAJ,EAAS;AAAE/8B,aAAO,SAASA,IAAhB;AAAsB;AACjC,QAAIlQ,KAAJ,EAAW;AAAEkQ,aAAO,WAAWA,IAAlB;AAAwB;AACrC,WAAOA,IAAP;AACD;;AAED;AACA;AACA;AACA;AACA;AACA,WAASi9B,eAAT,CAAyBC,MAAzB,EAAiC;AAC/B,QAAIj5B,OAAO,EAAX;AACA,SAAK,IAAIk5B,OAAT,IAAoBD,MAApB,EAA4B;AAAE,UAAIA,OAAOr1C,cAAP,CAAsBs1C,OAAtB,CAAJ,EAAoC;AAChE,YAAIr2C,QAAQo2C,OAAOC,OAAP,CAAZ;AACA,YAAI,mCAAmC/7C,IAAnC,CAAwC+7C,OAAxC,CAAJ,EAAsD;AAAE;AAAU;AAClE,YAAIr2C,SAAS,KAAb,EAAoB;AAAE,iBAAOo2C,OAAOC,OAAP,CAAP,CAAwB;AAAU;;AAExD,YAAIC,OAAOlzC,IAAIizC,QAAQ12C,KAAR,CAAc,GAAd,CAAJ,EAAwBm2C,gBAAxB,CAAX;AACA,aAAK,IAAIj4C,IAAI,CAAb,EAAgBA,IAAIy4C,KAAK15C,MAAzB,EAAiCiB,GAAjC,EAAsC;AACpC,cAAIyc,MAAO,KAAK,CAAhB;AAAA,cAAoBpB,OAAQ,KAAK,CAAjC;AACA,cAAIrb,KAAKy4C,KAAK15C,MAAL,GAAc,CAAvB,EAA0B;AACxBsc,mBAAOo9B,KAAK9G,IAAL,CAAU,GAAV,CAAP;AACAl1B,kBAAMta,KAAN;AACD,WAHD,MAGO;AACLkZ,mBAAOo9B,KAAK55C,KAAL,CAAW,CAAX,EAAcmB,IAAI,CAAlB,EAAqB2xC,IAArB,CAA0B,GAA1B,CAAP;AACAl1B,kBAAM,KAAN;AACD;AACD,cAAInH,OAAOgK,KAAKjE,IAAL,CAAX;AACA,cAAI,CAAC/F,IAAL,EAAW;AAAEgK,iBAAKjE,IAAL,IAAaoB,GAAb;AAAkB,WAA/B,MACK,IAAInH,QAAQmH,GAAZ,EAAiB;AAAE,kBAAM,IAAIhR,KAAJ,CAAU,+BAA+B4P,IAAzC,CAAN;AAAsD;AAC/E;AACD,eAAOk9B,OAAOC,OAAP,CAAP;AACD;AAAE;AACH,SAAK,IAAIv1C,IAAT,IAAiBqc,IAAjB,EAAuB;AAAEi5B,aAAOt1C,IAAP,IAAeqc,KAAKrc,IAAL,CAAf;AAA2B;AACpD,WAAOs1C,MAAP;AACD;;AAED,WAASG,SAAT,CAAmBtrB,GAAnB,EAAwB7nB,GAAxB,EAA6BgpC,MAA7B,EAAqC/uB,OAArC,EAA8C;AAC5Cja,UAAMozC,UAAUpzC,GAAV,CAAN;AACA,QAAI+K,QAAQ/K,IAAI7C,IAAJ,GAAW6C,IAAI7C,IAAJ,CAAS0qB,GAAT,EAAc5N,OAAd,CAAX,GAAoCja,IAAI6nB,GAAJ,CAAhD;AACA,QAAI9c,UAAU,KAAd,EAAqB;AAAE,aAAO,SAAP;AAAkB;AACzC,QAAIA,UAAU,KAAd,EAAqB;AAAE,aAAO,OAAP;AAAgB;AACvC,QAAIA,SAAS,IAAT,IAAiBi+B,OAAOj+B,KAAP,CAArB,EAAoC;AAAE,aAAO,SAAP;AAAkB;;AAExD,QAAI/K,IAAIuyC,WAAR,EAAqB;AACnB,UAAI5xC,OAAOzD,SAAP,CAAiB4B,QAAjB,CAA0B3B,IAA1B,CAA+B6C,IAAIuyC,WAAnC,KAAmD,gBAAvD,EACE;AAAE,eAAOY,UAAUtrB,GAAV,EAAe7nB,IAAIuyC,WAAnB,EAAgCvJ,MAAhC,EAAwC/uB,OAAxC,CAAP;AAAyD;AAC7D,WAAK,IAAIxf,IAAI,CAAb,EAAgBA,IAAIuF,IAAIuyC,WAAJ,CAAgB/4C,MAApC,EAA4CiB,GAA5C,EAAiD;AAC/C,YAAIga,SAAS0+B,UAAUtrB,GAAV,EAAe7nB,IAAIuyC,WAAJ,CAAgB93C,CAAhB,CAAf,EAAmCuuC,MAAnC,EAA2C/uB,OAA3C,CAAb;AACA,YAAIxF,MAAJ,EAAY;AAAE,iBAAOA,MAAP;AAAe;AAC9B;AACF;AACF;;AAED;AACA;AACA,WAAS4+B,aAAT,CAAuBz2C,KAAvB,EAA8B;AAC5B,QAAIkZ,OAAO,OAAOlZ,KAAP,IAAgB,QAAhB,GAA2BA,KAA3B,GAAmCs1C,SAASt1C,MAAM02C,OAAf,CAA9C;AACA,WAAOx9B,QAAQ,MAAR,IAAkBA,QAAQ,KAA1B,IAAmCA,QAAQ,OAA3C,IAAsDA,QAAQ,KAArE;AACD;;AAED,WAASy9B,gBAAT,CAA0Bz9B,IAA1B,EAAgCovB,KAAhC,EAAuCsO,OAAvC,EAAgD;AAC9C,QAAIhzC,OAAOsV,IAAX;AACA,QAAIovB,MAAMuO,MAAN,IAAgBjzC,QAAQ,KAA5B,EAAmC;AAAEsV,aAAO,SAASA,IAAhB;AAAsB;AAC3D,QAAI,CAACld,cAAcssC,MAAMwO,OAApB,GAA8BxO,MAAMzxB,OAArC,KAAiDjT,QAAQ,MAA7D,EAAqE;AAAEsV,aAAO,UAAUA,IAAjB;AAAuB;AAC9F,QAAI,CAACld,cAAcssC,MAAMzxB,OAApB,GAA8ByxB,MAAMwO,OAArC,KAAiDlzC,QAAQ,KAA7D,EAAoE;AAAEsV,aAAO,SAASA,IAAhB;AAAsB;AAC5F,QAAI,CAAC09B,OAAD,IAAYtO,MAAMyO,QAAlB,IAA8BnzC,QAAQ,OAA1C,EAAmD;AAAEsV,aAAO,WAAWA,IAAlB;AAAwB;AAC7E,WAAOA,IAAP;AACD;;AAED;AACA,WAAS89B,OAAT,CAAiB1O,KAAjB,EAAwBsO,OAAxB,EAAiC;AAC/B,QAAI17C,UAAUotC,MAAMoO,OAAN,IAAiB,EAA3B,IAAiCpO,MAAM,MAAN,CAArC,EAAoD;AAAE,aAAO,KAAP;AAAc;AACpE,QAAIpvB,OAAOo8B,SAAShN,MAAMoO,OAAf,CAAX;AACA,QAAIx9B,QAAQ,IAAR,IAAgBovB,MAAM2O,WAA1B,EAAuC;AAAE,aAAO,KAAP;AAAc;AACvD,WAAON,iBAAiBz9B,IAAjB,EAAuBovB,KAAvB,EAA8BsO,OAA9B,CAAP;AACD;;AAED,WAASJ,SAAT,CAAmBl8B,GAAnB,EAAwB;AACtB,WAAO,OAAOA,GAAP,IAAc,QAAd,GAAyBk7B,OAAOl7B,GAAP,CAAzB,GAAuCA,GAA9C;AACD;;AAED;AACA;AACA,WAAS48B,mBAAT,CAA6BrlC,EAA7B,EAAiCslC,OAAjC,EAA0C;AACxC,QAAIrlB,SAASjgB,GAAGlM,GAAH,CAAOksB,GAAP,CAAWC,MAAxB;AAAA,QAAgCslB,OAAO,EAAvC;AACA;AACA;AACA,SAAK,IAAIv5C,IAAI,CAAb,EAAgBA,IAAIi0B,OAAOl1B,MAA3B,EAAmCiB,GAAnC,EAAwC;AACtC,UAAIw5C,SAASF,QAAQrlB,OAAOj0B,CAAP,CAAR,CAAb;AACA,aAAOu5C,KAAKx6C,MAAL,IAAewO,IAAIisC,OAAOlyC,IAAX,EAAiBjC,IAAIk0C,IAAJ,EAAUhyC,EAA3B,KAAkC,CAAxD,EAA2D;AACzD,YAAIkyC,WAAWF,KAAKtQ,GAAL,EAAf;AACA,YAAI17B,IAAIksC,SAASnyC,IAAb,EAAmBkyC,OAAOlyC,IAA1B,IAAkC,CAAtC,EAAyC;AACvCkyC,iBAAOlyC,IAAP,GAAcmyC,SAASnyC,IAAvB;AACA;AACD;AACF;AACDiyC,WAAKn0C,IAAL,CAAUo0C,MAAV;AACD;AACD;AACA5Z,YAAQ5rB,EAAR,EAAY,YAAY;AACtB,WAAK,IAAIhU,IAAIu5C,KAAKx6C,MAAL,GAAc,CAA3B,EAA8BiB,KAAK,CAAnC,EAAsCA,GAAtC,EACE;AAAE+tC,sBAAa/5B,GAAGlM,GAAhB,EAAqB,EAArB,EAAyByxC,KAAKv5C,CAAL,EAAQsH,IAAjC,EAAuCiyC,KAAKv5C,CAAL,EAAQuH,EAA/C,EAAmD,SAAnD;AAA+D;AACnE6yB,0BAAoBpmB,EAApB;AACD,KAJD;AAKD;;AAED,WAAS0lC,iBAAT,CAA2B3tC,IAA3B,EAAiCzF,EAAjC,EAAqCY,GAArC,EAA0C;AACxC,QAAInE,SAASiE,mBAAmB+E,KAAKE,IAAxB,EAA8B3F,KAAKY,GAAnC,EAAwCA,GAAxC,CAAb;AACA,WAAOnE,SAAS,CAAT,IAAcA,SAASgJ,KAAKE,IAAL,CAAUlN,MAAjC,GAA0C,IAA1C,GAAiDgE,MAAxD;AACD;;AAED,WAAS42C,aAAT,CAAuB5tC,IAAvB,EAA6B1L,KAA7B,EAAoC6G,GAApC,EAAyC;AACvC,QAAIZ,KAAKozC,kBAAkB3tC,IAAlB,EAAwB1L,MAAMiG,EAA9B,EAAkCY,GAAlC,CAAT;AACA,WAAOZ,MAAM,IAAN,GAAa,IAAb,GAAoB,IAAI+G,GAAJ,CAAQhN,MAAM0L,IAAd,EAAoBzF,EAApB,EAAwBY,MAAM,CAAN,GAAU,OAAV,GAAoB,QAA5C,CAA3B;AACD;;AAED,WAAS0yC,SAAT,CAAmBC,QAAnB,EAA6B7lC,EAA7B,EAAiCJ,OAAjC,EAA0CtH,MAA1C,EAAkDpF,GAAlD,EAAuD;AACrD,QAAI2yC,QAAJ,EAAc;AACZ,UAAI1lC,QAAQwC,SAAS/C,OAAT,EAAkBI,GAAGlM,GAAH,CAAOqN,SAAzB,CAAZ;AACA,UAAIhB,KAAJ,EAAW;AACT,YAAIC,OAAOlN,MAAM,CAAN,GAAU7B,IAAI8O,KAAJ,CAAV,GAAuBA,MAAM,CAAN,CAAlC;AACA,YAAI2lC,qBAAsB5yC,MAAM,CAAP,KAAckN,KAAKC,KAAL,IAAc,CAA5B,CAAzB;AACA,YAAI/G,SAASwsC,qBAAqB,OAArB,GAA+B,QAA5C;AACA,YAAIxzC,EAAJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAI8N,KAAKC,KAAL,GAAa,CAAb,IAAkBL,GAAGlM,GAAH,CAAOqN,SAAP,IAAoB,KAA1C,EAAiD;AAC/C,cAAI4kC,OAAOntB,sBAAsB5Y,EAAtB,EAA0BJ,OAA1B,CAAX;AACAtN,eAAKY,MAAM,CAAN,GAAU0M,QAAQ3H,IAAR,CAAalN,MAAb,GAAsB,CAAhC,GAAoC,CAAzC;AACA,cAAIuyB,YAAY3E,oBAAoB3Y,EAApB,EAAwB+lC,IAAxB,EAA8BzzC,EAA9B,EAAkCgmB,GAAlD;AACAhmB,eAAKc,UAAU,UAAUd,EAAV,EAAc;AAAE,mBAAOqmB,oBAAoB3Y,EAApB,EAAwB+lC,IAAxB,EAA8BzzC,EAA9B,EAAkCgmB,GAAlC,IAAyCgF,SAAhD;AAA4D,WAAtF,EAAyFpqB,MAAM,CAAP,KAAckN,KAAKC,KAAL,IAAc,CAA5B,IAAiCD,KAAK9M,IAAtC,GAA6C8M,KAAK7M,EAAL,GAAU,CAA/I,EAAkJjB,EAAlJ,CAAL;AACA,cAAIgH,UAAU,QAAd,EAAwB;AAAEhH,iBAAKozC,kBAAkB9lC,OAAlB,EAA2BtN,EAA3B,EAA+B,CAA/B,CAAL;AAAwC;AACnE,SAND,MAMO;AAAEA,eAAKY,MAAM,CAAN,GAAUkN,KAAK7M,EAAf,GAAoB6M,KAAK9M,IAA9B;AAAoC;AAC7C,eAAO,IAAI+F,GAAJ,CAAQf,MAAR,EAAgBhG,EAAhB,EAAoBgH,MAApB,CAAP;AACD;AACF;AACD,WAAO,IAAID,GAAJ,CAAQf,MAAR,EAAgBpF,MAAM,CAAN,GAAU0M,QAAQ3H,IAAR,CAAalN,MAAvB,GAAgC,CAAhD,EAAmDmI,MAAM,CAAN,GAAU,QAAV,GAAqB,OAAxE,CAAP;AACD;;AAED,WAAS8yC,YAAT,CAAsBhmC,EAAtB,EAA0BjI,IAA1B,EAAgC1L,KAAhC,EAAuC6G,GAAvC,EAA4C;AAC1C,QAAI+yC,OAAOtjC,SAAS5K,IAAT,EAAeiI,GAAGlM,GAAH,CAAOqN,SAAtB,CAAX;AACA,QAAI,CAAC8kC,IAAL,EAAW;AAAE,aAAON,cAAc5tC,IAAd,EAAoB1L,KAApB,EAA2B6G,GAA3B,CAAP;AAAwC;AACrD,QAAI7G,MAAMiG,EAAN,IAAYyF,KAAKE,IAAL,CAAUlN,MAA1B,EAAkC;AAChCsB,YAAMiG,EAAN,GAAWyF,KAAKE,IAAL,CAAUlN,MAArB;AACAsB,YAAMiN,MAAN,GAAe,QAAf;AACD,KAHD,MAGO,IAAIjN,MAAMiG,EAAN,IAAY,CAAhB,EAAmB;AACxBjG,YAAMiG,EAAN,GAAW,CAAX;AACAjG,YAAMiN,MAAN,GAAe,OAAf;AACD;AACD,QAAIkjB,UAAUjc,cAAc0lC,IAAd,EAAoB55C,MAAMiG,EAA1B,EAA8BjG,MAAMiN,MAApC,CAAd;AAAA,QAA2D8G,OAAO6lC,KAAKzpB,OAAL,CAAlE;AACA,QAAIxc,GAAGlM,GAAH,CAAOqN,SAAP,IAAoB,KAApB,IAA6Bf,KAAKC,KAAL,GAAa,CAAb,IAAkB,CAA/C,KAAqDnN,MAAM,CAAN,GAAUkN,KAAK7M,EAAL,GAAUlH,MAAMiG,EAA1B,GAA+B8N,KAAK9M,IAAL,GAAYjH,MAAMiG,EAAtG,CAAJ,EAA+G;AAC7G;AACA;AACA,aAAOqzC,cAAc5tC,IAAd,EAAoB1L,KAApB,EAA2B6G,GAA3B,CAAP;AACD;;AAED,QAAIgzC,KAAK,SAALA,EAAK,CAAUr1C,GAAV,EAAeqC,GAAf,EAAoB;AAAE,aAAOwyC,kBAAkB3tC,IAAlB,EAAwBlH,eAAewI,GAAf,GAAqBxI,IAAIyB,EAAzB,GAA8BzB,GAAtD,EAA2DqC,GAA3D,CAAP;AAAyE,KAAxG;AACA,QAAI6yC,IAAJ;AACA,QAAII,uBAAuB,SAAvBA,oBAAuB,CAAU7zC,EAAV,EAAc;AACvC,UAAI,CAAC0N,GAAG/G,OAAH,CAAW+e,YAAhB,EAA8B;AAAE,eAAO,EAACoF,OAAO,CAAR,EAAW9wB,KAAKyL,KAAKE,IAAL,CAAUlN,MAA1B,EAAP;AAA0C;AAC1Eg7C,aAAOA,QAAQntB,sBAAsB5Y,EAAtB,EAA0BjI,IAA1B,CAAf;AACA,aAAOslB,sBAAsBrd,EAAtB,EAA0BjI,IAA1B,EAAgCguC,IAAhC,EAAsCzzC,EAAtC,CAAP;AACD,KAJD;AAKA,QAAI6qB,oBAAoBgpB,qBAAqB95C,MAAMiN,MAAN,IAAgB,QAAhB,GAA2B4sC,GAAG75C,KAAH,EAAU,CAAC,CAAX,CAA3B,GAA2CA,MAAMiG,EAAtE,CAAxB;;AAEA,QAAI0N,GAAGlM,GAAH,CAAOqN,SAAP,IAAoB,KAApB,IAA6Bf,KAAKC,KAAL,IAAc,CAA/C,EAAkD;AAChD,UAAIylC,qBAAsB1lC,KAAKC,KAAL,IAAc,CAAf,IAAsBnN,MAAM,CAArD;AACA,UAAIZ,KAAK4zC,GAAG75C,KAAH,EAAUy5C,qBAAqB,CAArB,GAAyB,CAAC,CAApC,CAAT;AACA,UAAIxzC,MAAM,IAAN,KAAe,CAACwzC,kBAAD,GAAsBxzC,MAAM8N,KAAK9M,IAAX,IAAmBhB,MAAM6qB,kBAAkBC,KAAjE,GAAyE9qB,MAAM8N,KAAK7M,EAAX,IAAiBjB,MAAM6qB,kBAAkB7wB,GAAjI,CAAJ,EAA2I;AACzI;AACA,YAAIgN,SAASwsC,qBAAqB,QAArB,GAAgC,OAA7C;AACA,eAAO,IAAIzsC,GAAJ,CAAQhN,MAAM0L,IAAd,EAAoBzF,EAApB,EAAwBgH,MAAxB,CAAP;AACD;AACF;;AAED;AACA;;AAEA,QAAI8sC,qBAAqB,SAArBA,kBAAqB,CAAU5pB,OAAV,EAAmBtpB,GAAnB,EAAwBiqB,iBAAxB,EAA2C;AAClE,UAAIkpB,SAAS,SAATA,MAAS,CAAU/zC,EAAV,EAAcwzC,kBAAd,EAAkC;AAAE,eAAOA,qBACpD,IAAIzsC,GAAJ,CAAQhN,MAAM0L,IAAd,EAAoBmuC,GAAG5zC,EAAH,EAAO,CAAP,CAApB,EAA+B,QAA/B,CADoD,GAEpD,IAAI+G,GAAJ,CAAQhN,MAAM0L,IAAd,EAAoBzF,EAApB,EAAwB,OAAxB,CAF6C;AAEV,OAFvC;;AAIA,aAAOkqB,WAAW,CAAX,IAAgBA,UAAUypB,KAAKl7C,MAAtC,EAA8CyxB,WAAWtpB,GAAzD,EAA8D;AAC5D,YAAIkN,OAAO6lC,KAAKzpB,OAAL,CAAX;AACA,YAAIspB,qBAAsB5yC,MAAM,CAAP,KAAckN,KAAKC,KAAL,IAAc,CAA5B,CAAzB;AACA,YAAI/N,KAAKwzC,qBAAqB3oB,kBAAkBC,KAAvC,GAA+C8oB,GAAG/oB,kBAAkB7wB,GAArB,EAA0B,CAAC,CAA3B,CAAxD;AACA,YAAI8T,KAAK9M,IAAL,IAAahB,EAAb,IAAmBA,KAAK8N,KAAK7M,EAAjC,EAAqC;AAAE,iBAAO8yC,OAAO/zC,EAAP,EAAWwzC,kBAAX,CAAP;AAAuC;AAC9ExzC,aAAKwzC,qBAAqB1lC,KAAK9M,IAA1B,GAAiC4yC,GAAG9lC,KAAK7M,EAAR,EAAY,CAAC,CAAb,CAAtC;AACA,YAAI4pB,kBAAkBC,KAAlB,IAA2B9qB,EAA3B,IAAiCA,KAAK6qB,kBAAkB7wB,GAA5D,EAAiE;AAAE,iBAAO+5C,OAAO/zC,EAAP,EAAWwzC,kBAAX,CAAP;AAAuC;AAC3G;AACF,KAbD;;AAeA;AACA,QAAIQ,MAAMF,mBAAmB5pB,UAAUtpB,GAA7B,EAAkCA,GAAlC,EAAuCiqB,iBAAvC,CAAV;AACA,QAAImpB,GAAJ,EAAS;AAAE,aAAOA,GAAP;AAAY;;AAEvB;AACA,QAAIC,SAASrzC,MAAM,CAAN,GAAUiqB,kBAAkB7wB,GAA5B,GAAkC45C,GAAG/oB,kBAAkBC,KAArB,EAA4B,CAAC,CAA7B,CAA/C;AACA,QAAImpB,UAAU,IAAV,IAAkB,EAAErzC,MAAM,CAAN,IAAWqzC,UAAUxuC,KAAKE,IAAL,CAAUlN,MAAjC,CAAtB,EAAgE;AAC9Du7C,YAAMF,mBAAmBlzC,MAAM,CAAN,GAAU,CAAV,GAAc+yC,KAAKl7C,MAAL,GAAc,CAA/C,EAAkDmI,GAAlD,EAAuDizC,qBAAqBI,MAArB,CAAvD,CAAN;AACA,UAAID,GAAJ,EAAS;AAAE,eAAOA,GAAP;AAAY;AACxB;;AAED;AACA,WAAO,IAAP;AACD;;AAED;AACA;AACA,MAAIE,WAAW;AACblO,eAAWA,SADE;AAEbmO,qBAAiB,yBAAUzmC,EAAV,EAAc;AAAE,aAAOA,GAAG82B,YAAH,CAAgB92B,GAAGqmB,SAAH,CAAa,QAAb,CAAhB,EAAwCrmB,GAAGqmB,SAAH,CAAa,MAAb,CAAxC,EAA8D/1B,cAA9D,CAAP;AAAuF,KAF3G;AAGbo2C,cAAU,kBAAU1mC,EAAV,EAAc;AAAE,aAAOqlC,oBAAoBrlC,EAApB,EAAwB,UAAU7T,KAAV,EAAiB;AACxE,YAAIA,MAAMg0B,KAAN,EAAJ,EAAmB;AACjB,cAAIrgB,MAAMvI,QAAQyI,GAAGlM,GAAX,EAAgB3H,MAAMm0B,IAAN,CAAWvoB,IAA3B,EAAiCE,IAAjC,CAAsClN,MAAhD;AACA,cAAIoB,MAAMm0B,IAAN,CAAWhuB,EAAX,IAAiBwN,GAAjB,IAAwB3T,MAAMm0B,IAAN,CAAWvoB,IAAX,GAAkBiI,GAAGT,QAAH,EAA9C,EACE;AAAE,mBAAO,EAACjM,MAAMnH,MAAMm0B,IAAb,EAAmB/sB,IAAI8F,IAAIlN,MAAMm0B,IAAN,CAAWvoB,IAAX,GAAkB,CAAtB,EAAyB,CAAzB,CAAvB,EAAP;AAA4D,WADhE,MAGE;AAAE,mBAAO,EAACzE,MAAMnH,MAAMm0B,IAAb,EAAmB/sB,IAAI8F,IAAIlN,MAAMm0B,IAAN,CAAWvoB,IAAf,EAAqB+H,GAArB,CAAvB,EAAP;AAA0D;AAC/D,SAND,MAMO;AACL,iBAAO,EAACxM,MAAMnH,MAAMmH,IAAN,EAAP,EAAqBC,IAAIpH,MAAMoH,EAAN,EAAzB,EAAP;AACD;AACF,OAVgC,CAAP;AAUrB,KAbQ;AAcbozC,gBAAY,oBAAU3mC,EAAV,EAAc;AAAE,aAAOqlC,oBAAoBrlC,EAApB,EAAwB,UAAU7T,KAAV,EAAiB;AAAE,eAAQ;AACpFmH,gBAAM+F,IAAIlN,MAAMmH,IAAN,GAAayE,IAAjB,EAAuB,CAAvB,CAD8E;AAEpFxE,cAAIwG,SAAQiG,GAAGlM,GAAX,EAAgBuF,IAAIlN,MAAMoH,EAAN,GAAWwE,IAAX,GAAkB,CAAtB,EAAyB,CAAzB,CAAhB;AAFgF,SAAR;AAGzE,OAH8B,CAAP;AAGnB,KAjBI;AAkBb6uC,iBAAa,qBAAU5mC,EAAV,EAAc;AAAE,aAAOqlC,oBAAoBrlC,EAApB,EAAwB,UAAU7T,KAAV,EAAiB;AAAE,eAAQ;AACrFmH,gBAAM+F,IAAIlN,MAAMmH,IAAN,GAAayE,IAAjB,EAAuB,CAAvB,CAD+E,EACpDxE,IAAIpH,MAAMmH,IAAN;AADgD,SAAR;AAE1E,OAF+B,CAAP;AAEpB,KApBI;AAqBbuzC,wBAAoB,4BAAU7mC,EAAV,EAAc;AAAE,aAAOqlC,oBAAoBrlC,EAApB,EAAwB,UAAU7T,KAAV,EAAiB;AAClF,YAAImsB,MAAMtY,GAAGmc,UAAH,CAAchwB,MAAMm0B,IAApB,EAA0B,KAA1B,EAAiChI,GAAjC,GAAuC,CAAjD;AACA,YAAIwuB,UAAU9mC,GAAG+c,UAAH,CAAc,EAAClX,MAAM,CAAP,EAAUyS,KAAKA,GAAf,EAAd,EAAmC,KAAnC,CAAd;AACA,eAAO,EAAChlB,MAAMwzC,OAAP,EAAgBvzC,IAAIpH,MAAMmH,IAAN,EAApB,EAAP;AACD,OAJ0C,CAAP;AAI/B,KAzBQ;AA0BbyzC,yBAAqB,6BAAU/mC,EAAV,EAAc;AAAE,aAAOqlC,oBAAoBrlC,EAApB,EAAwB,UAAU7T,KAAV,EAAiB;AACnF,YAAImsB,MAAMtY,GAAGmc,UAAH,CAAchwB,MAAMm0B,IAApB,EAA0B,KAA1B,EAAiChI,GAAjC,GAAuC,CAAjD;AACA,YAAI0uB,WAAWhnC,GAAG+c,UAAH,CAAc,EAAClX,MAAM7F,GAAGC,OAAH,CAAW9L,OAAX,CAAmBmR,WAAnB,GAAiC,GAAxC,EAA6CgT,KAAKA,GAAlD,EAAd,EAAsE,KAAtE,CAAf;AACA,eAAO,EAAChlB,MAAMnH,MAAMmH,IAAN,EAAP,EAAqBC,IAAIyzC,QAAzB,EAAP;AACD,OAJ2C,CAAP;AAIhC,KA9BQ;AA+BbpI,UAAM,cAAU5+B,EAAV,EAAc;AAAE,aAAOA,GAAG4+B,IAAH,EAAP;AAAmB,KA/B5B;AAgCbC,UAAM,cAAU7+B,EAAV,EAAc;AAAE,aAAOA,GAAG6+B,IAAH,EAAP;AAAmB,KAhC5B;AAiCbC,mBAAe,uBAAU9+B,EAAV,EAAc;AAAE,aAAOA,GAAG8+B,aAAH,EAAP;AAA4B,KAjC9C;AAkCbC,mBAAe,uBAAU/+B,EAAV,EAAc;AAAE,aAAOA,GAAG++B,aAAH,EAAP;AAA4B,KAlC9C;AAmCbkI,gBAAY,oBAAUjnC,EAAV,EAAc;AAAE,aAAOA,GAAG62B,eAAH,CAAmBx9B,IAAI2G,GAAG4yB,SAAH,EAAJ,EAAoB,CAApB,CAAnB,CAAP;AAAoD,KAnCnE;AAoCbsU,cAAU,kBAAUlnC,EAAV,EAAc;AAAE,aAAOA,GAAG62B,eAAH,CAAmBx9B,IAAI2G,GAAGT,QAAH,EAAJ,CAAnB,CAAP;AAAgD,KApC7D;AAqCb4nC,iBAAa,qBAAUnnC,EAAV,EAAc;AAAE,aAAOA,GAAGq+B,kBAAH,CAAsB,UAAUlyC,KAAV,EAAiB;AAAE,eAAOgd,UAAUnJ,EAAV,EAAc7T,MAAMm0B,IAAN,CAAWvoB,IAAzB,CAAP;AAAwC,OAAjF,EAClC,EAACtH,QAAQ,OAAT,EAAkBioB,MAAM,CAAxB,EADkC,CAAP;AAEzB,KAvCS;AAwCb0uB,sBAAkB,0BAAUpnC,EAAV,EAAc;AAAE,aAAOA,GAAGq+B,kBAAH,CAAsB,UAAUlyC,KAAV,EAAiB;AAAE,eAAOk7C,eAAernC,EAAf,EAAmB7T,MAAMm0B,IAAzB,CAAP;AAAwC,OAAjF,EACvC,EAAC7vB,QAAQ,OAAT,EAAkBioB,MAAM,CAAxB,EADuC,CAAP;AAE9B,KA1CS;AA2Cb4uB,eAAW,mBAAUtnC,EAAV,EAAc;AAAE,aAAOA,GAAGq+B,kBAAH,CAAsB,UAAUlyC,KAAV,EAAiB;AAAE,eAAOo7C,QAAQvnC,EAAR,EAAY7T,MAAMm0B,IAAN,CAAWvoB,IAAvB,CAAP;AAAsC,OAA/E,EAChC,EAACtH,QAAQ,OAAT,EAAkBioB,MAAM,CAAC,CAAzB,EADgC,CAAP;AAEvB,KA7CS;AA8Cb8uB,iBAAa,qBAAUxnC,EAAV,EAAc;AAAE,aAAOA,GAAGq+B,kBAAH,CAAsB,UAAUlyC,KAAV,EAAiB;AACzE,YAAImsB,MAAMtY,GAAGoc,YAAH,CAAgBjwB,MAAMm0B,IAAtB,EAA4B,KAA5B,EAAmChI,GAAnC,GAAyC,CAAnD;AACA,eAAOtY,GAAG+c,UAAH,CAAc,EAAClX,MAAM7F,GAAGC,OAAH,CAAW9L,OAAX,CAAmBmR,WAAnB,GAAiC,GAAxC,EAA6CgT,KAAKA,GAAlD,EAAd,EAAsE,KAAtE,CAAP;AACD,OAHmC,EAGjC5nB,QAHiC,CAAP;AAGd,KAjDF;AAkDb+2C,gBAAY,oBAAUznC,EAAV,EAAc;AAAE,aAAOA,GAAGq+B,kBAAH,CAAsB,UAAUlyC,KAAV,EAAiB;AACxE,YAAImsB,MAAMtY,GAAGoc,YAAH,CAAgBjwB,MAAMm0B,IAAtB,EAA4B,KAA5B,EAAmChI,GAAnC,GAAyC,CAAnD;AACA,eAAOtY,GAAG+c,UAAH,CAAc,EAAClX,MAAM,CAAP,EAAUyS,KAAKA,GAAf,EAAd,EAAmC,KAAnC,CAAP;AACD,OAHkC,EAGhC5nB,QAHgC,CAAP;AAGb,KArDF;AAsDbg3C,qBAAiB,yBAAU1nC,EAAV,EAAc;AAAE,aAAOA,GAAGq+B,kBAAH,CAAsB,UAAUlyC,KAAV,EAAiB;AAC7E,YAAImsB,MAAMtY,GAAGoc,YAAH,CAAgBjwB,MAAMm0B,IAAtB,EAA4B,KAA5B,EAAmChI,GAAnC,GAAyC,CAAnD;AACA,YAAIznB,MAAMmP,GAAG+c,UAAH,CAAc,EAAClX,MAAM,CAAP,EAAUyS,KAAKA,GAAf,EAAd,EAAmC,KAAnC,CAAV;AACA,YAAIznB,IAAIyB,EAAJ,GAAS0N,GAAGzI,OAAH,CAAW1G,IAAIkH,IAAf,EAAqBvI,MAArB,CAA4B,IAA5B,CAAb,EAAgD;AAAE,iBAAO63C,eAAernC,EAAf,EAAmB7T,MAAMm0B,IAAzB,CAAP;AAAuC;AACzF,eAAOzvB,GAAP;AACD,OALuC,EAKrCH,QALqC,CAAP;AAKlB,KA3DF;AA4Dbi3C,cAAU,kBAAU3nC,EAAV,EAAc;AAAE,aAAOA,GAAG4nC,KAAH,CAAS,CAAC,CAAV,EAAa,MAAb,CAAP;AAA8B,KA5D3C;AA6DbC,gBAAY,oBAAU7nC,EAAV,EAAc;AAAE,aAAOA,GAAG4nC,KAAH,CAAS,CAAT,EAAY,MAAZ,CAAP;AAA6B,KA7D5C;AA8DbE,cAAU,kBAAU9nC,EAAV,EAAc;AAAE,aAAOA,GAAG4nC,KAAH,CAAS,CAAC,CAAV,EAAa,MAAb,CAAP;AAA8B,KA9D3C;AA+DbG,gBAAY,oBAAU/nC,EAAV,EAAc;AAAE,aAAOA,GAAG4nC,KAAH,CAAS,CAAT,EAAY,MAAZ,CAAP;AAA6B,KA/D5C;AAgEbI,gBAAY,oBAAUhoC,EAAV,EAAc;AAAE,aAAOA,GAAGioC,KAAH,CAAS,CAAC,CAAV,EAAa,MAAb,CAAP;AAA8B,KAhE7C;AAiEbC,iBAAa,qBAAUloC,EAAV,EAAc;AAAE,aAAOA,GAAGioC,KAAH,CAAS,CAAT,EAAY,MAAZ,CAAP;AAA6B,KAjE7C;AAkEbE,kBAAc,sBAAUnoC,EAAV,EAAc;AAAE,aAAOA,GAAGioC,KAAH,CAAS,CAAC,CAAV,EAAa,QAAb,CAAP;AAAgC,KAlEjD;AAmEbG,mBAAe,uBAAUpoC,EAAV,EAAc;AAAE,aAAOA,GAAGioC,KAAH,CAAS,CAAT,EAAY,QAAZ,CAAP;AAA+B,KAnEjD;AAoEbI,gBAAY,oBAAUroC,EAAV,EAAc;AAAE,aAAOA,GAAGioC,KAAH,CAAS,CAAC,CAAV,EAAa,MAAb,CAAP;AAA8B,KApE7C;AAqEbK,kBAAc,sBAAUtoC,EAAV,EAAc;AAAE,aAAOA,GAAGioC,KAAH,CAAS,CAAT,EAAY,OAAZ,CAAP;AAA8B,KArE/C;AAsEbM,iBAAa,qBAAUvoC,EAAV,EAAc;AAAE,aAAOA,GAAGioC,KAAH,CAAS,CAAC,CAAV,EAAa,OAAb,CAAP;AAA+B,KAtE/C;AAuEbO,iBAAa,qBAAUxoC,EAAV,EAAc;AAAE,aAAOA,GAAGioC,KAAH,CAAS,CAAT,EAAY,MAAZ,CAAP;AAA6B,KAvE7C;AAwEbQ,mBAAe,uBAAUzoC,EAAV,EAAc;AAAE,aAAOA,GAAG0oC,OAAH,CAAW,CAAC,CAAZ,EAAe,MAAf,CAAP;AAAgC,KAxElD;AAyEbC,kBAAc,sBAAU3oC,EAAV,EAAc;AAAE,aAAOA,GAAG0oC,OAAH,CAAW,CAAX,EAAc,MAAd,CAAP;AAA+B,KAzEhD;AA0EbE,mBAAe,uBAAU5oC,EAAV,EAAc;AAAE,aAAOA,GAAG0oC,OAAH,CAAW,CAAC,CAAZ,EAAe,MAAf,CAAP;AAAgC,KA1ElD;AA2EbG,kBAAc,sBAAU7oC,EAAV,EAAc;AAAE,aAAOA,GAAG0oC,OAAH,CAAW,CAAX,EAAc,MAAd,CAAP;AAA+B,KA3EhD;AA4EbI,oBAAgB,wBAAU9oC,EAAV,EAAc;AAAE,aAAOA,GAAG0oC,OAAH,CAAW,CAAC,CAAZ,EAAe,OAAf,CAAP;AAAiC,KA5EpD;AA6EbK,mBAAe,uBAAU/oC,EAAV,EAAc;AAAE,aAAOA,GAAG0oC,OAAH,CAAW,CAAX,EAAc,OAAd,CAAP;AAAgC,KA7ElD;AA8EbM,gBAAY,oBAAUhpC,EAAV,EAAc;AAAE,aAAOA,GAAGipC,eAAH,CAAmB,OAAnB,CAAP;AAAqC,KA9EpD;AA+EbC,gBAAY,oBAAUlpC,EAAV,EAAc;AAAE,aAAOA,GAAGipC,eAAH,CAAmB,KAAnB,CAAP;AAAmC,KA/ElD;AAgFbE,gBAAY,oBAAUnpC,EAAV,EAAc;AAAE,aAAOA,GAAGipC,eAAH,CAAmB,UAAnB,CAAP;AAAwC,KAhFvD;AAiFbG,eAAW,mBAAUppC,EAAV,EAAc;AAAE,aAAOA,GAAGy+B,gBAAH,CAAoB,IAApB,CAAP;AAAmC,KAjFjD;AAkFb4K,mBAAe,uBAAUrpC,EAAV,EAAc;AAC3B,UAAIspC,SAAS,EAAb;AAAA,UAAiBrpB,SAASjgB,GAAGm+B,cAAH,EAA1B;AAAA,UAA+C9uC,UAAU2Q,GAAG/G,OAAH,CAAW5J,OAApE;AACA,WAAK,IAAIrD,IAAI,CAAb,EAAgBA,IAAIi0B,OAAOl1B,MAA3B,EAAmCiB,GAAnC,EAAwC;AACtC,YAAI6E,MAAMovB,OAAOj0B,CAAP,EAAUsH,IAAV,EAAV;AACA,YAAIxC,MAAM3B,YAAY6Q,GAAGzI,OAAH,CAAW1G,IAAIkH,IAAf,CAAZ,EAAkClH,IAAIyB,EAAtC,EAA0CjD,OAA1C,CAAV;AACAi6C,eAAOl4C,IAAP,CAAYD,SAAS9B,UAAUyB,MAAMzB,OAAzB,CAAZ;AACD;AACD2Q,SAAG2+B,iBAAH,CAAqB2K,MAArB;AACD,KA1FY;AA2FbC,gBAAY,oBAAUvpC,EAAV,EAAc;AACxB,UAAIA,GAAGsxB,iBAAH,EAAJ,EAA4B;AAAEtxB,WAAGipC,eAAH,CAAmB,KAAnB;AAA2B,OAAzD,MACK;AAAEjpC,WAAGwpC,WAAH,CAAe,WAAf;AAA6B;AACrC,KA9FY;AA+Fb;AACA;AACA;AACA;AACA;AACA;AACA;AACAC,oBAAgB,wBAAUzpC,EAAV,EAAc;AAAE,aAAO4rB,QAAQ5rB,EAAR,EAAY,YAAY;AAC7D,YAAIigB,SAASjgB,GAAGm+B,cAAH,EAAb;AAAA,YAAkClH,SAAS,EAA3C;AACA,aAAK,IAAIjrC,IAAI,CAAb,EAAgBA,IAAIi0B,OAAOl1B,MAA3B,EAAmCiB,GAAnC,EAAwC;AACtC,cAAI,CAACi0B,OAAOj0B,CAAP,EAAUm0B,KAAV,EAAL,EAAwB;AAAE;AAAU;AACpC,cAAI5nB,MAAM0nB,OAAOj0B,CAAP,EAAUs0B,IAApB;AAAA,cAA0BvoB,OAAOR,QAAQyI,GAAGlM,GAAX,EAAgByE,IAAIR,IAApB,EAA0BE,IAA3D;AACA,cAAIF,IAAJ,EAAU;AACR,gBAAIQ,IAAIjG,EAAJ,IAAUyF,KAAKhN,MAAnB,EAA2B;AAAEwN,oBAAM,IAAIc,GAAJ,CAAQd,IAAIR,IAAZ,EAAkBQ,IAAIjG,EAAJ,GAAS,CAA3B,CAAN;AAAqC;AAClE,gBAAIiG,IAAIjG,EAAJ,GAAS,CAAb,EAAgB;AACdiG,oBAAM,IAAIc,GAAJ,CAAQd,IAAIR,IAAZ,EAAkBQ,IAAIjG,EAAJ,GAAS,CAA3B,CAAN;AACA0N,iBAAG+5B,YAAH,CAAgBhiC,KAAK5E,MAAL,CAAYoF,IAAIjG,EAAJ,GAAS,CAArB,IAA0ByF,KAAK5E,MAAL,CAAYoF,IAAIjG,EAAJ,GAAS,CAArB,CAA1C,EACgB+G,IAAId,IAAIR,IAAR,EAAcQ,IAAIjG,EAAJ,GAAS,CAAvB,CADhB,EAC2CiG,GAD3C,EACgD,YADhD;AAED,aAJD,MAIO,IAAIA,IAAIR,IAAJ,GAAWiI,GAAGlM,GAAH,CAAOyB,KAAtB,EAA6B;AAClC,kBAAI+L,OAAO/J,QAAQyI,GAAGlM,GAAX,EAAgByE,IAAIR,IAAJ,GAAW,CAA3B,EAA8BE,IAAzC;AACA,kBAAIqJ,IAAJ,EAAU;AACR/I,sBAAM,IAAIc,GAAJ,CAAQd,IAAIR,IAAZ,EAAkB,CAAlB,CAAN;AACAiI,mBAAG+5B,YAAH,CAAgBhiC,KAAK5E,MAAL,CAAY,CAAZ,IAAiB6M,GAAGlM,GAAH,CAAO8pC,aAAP,EAAjB,GACAt8B,KAAKnO,MAAL,CAAYmO,KAAKvW,MAAL,GAAc,CAA1B,CADhB,EAEgBsO,IAAId,IAAIR,IAAJ,GAAW,CAAf,EAAkBuJ,KAAKvW,MAAL,GAAc,CAAhC,CAFhB,EAEoDwN,GAFpD,EAEyD,YAFzD;AAGD;AACF;AACF;AACD0+B,iBAAO7lC,IAAP,CAAY,IAAIigC,KAAJ,CAAU94B,GAAV,EAAeA,GAAf,CAAZ;AACD;AACDyH,WAAGs+B,aAAH,CAAiBrH,MAAjB;AACD,OAxBsC,CAAP;AAwB3B,KA9HQ;AA+HbyS,sBAAkB,0BAAU1pC,EAAV,EAAc;AAAE,aAAO4rB,QAAQ5rB,EAAR,EAAY,YAAY;AAC/D,YAAI2pC,OAAO3pC,GAAGm+B,cAAH,EAAX;AACA,aAAK,IAAInyC,IAAI29C,KAAK5+C,MAAL,GAAc,CAA3B,EAA8BiB,KAAK,CAAnC,EAAsCA,GAAtC,EACE;AAAEgU,aAAG+5B,YAAH,CAAgB/5B,GAAGlM,GAAH,CAAO8pC,aAAP,EAAhB,EAAwC+L,KAAK39C,CAAL,EAAQwyB,MAAhD,EAAwDmrB,KAAK39C,CAAL,EAAQs0B,IAAhE,EAAsE,QAAtE;AAAiF;AACrFqpB,eAAO3pC,GAAGm+B,cAAH,EAAP;AACA,aAAK,IAAIvlC,MAAM,CAAf,EAAkBA,MAAM+wC,KAAK5+C,MAA7B,EAAqC6N,KAArC,EACE;AAAEoH,aAAG4pC,UAAH,CAAcD,KAAK/wC,GAAL,EAAUtF,IAAV,GAAiByE,IAA/B,EAAqC,IAArC,EAA2C,IAA3C;AAAkD;AACtDquB,4BAAoBpmB,EAApB;AACD,OARwC,CAAP;AAQ7B,KAvIQ;AAwIb6pC,cAAU,kBAAU7pC,EAAV,EAAc;AAAE,aAAOA,GAAGy+B,gBAAH,CAAoB,IAApB,EAA0B,OAA1B,CAAP;AAA4C,KAxIzD;AAyIbqL,qBAAiB,yBAAU9pC,EAAV,EAAc;AAAE,aAAOA,GAAG8pC,eAAH,EAAP;AAA8B;AAzIlD,GAAf;;AA6IA,WAAS3gC,SAAT,CAAmBnJ,EAAnB,EAAuBZ,KAAvB,EAA8B;AAC5B,QAAIrH,OAAOR,QAAQyI,GAAGlM,GAAX,EAAgBsL,KAAhB,CAAX;AACA,QAAI68B,SAASl9B,WAAWhH,IAAX,CAAb;AACA,QAAIkkC,UAAUlkC,IAAd,EAAoB;AAAEqH,cAAQ9G,OAAO2jC,MAAP,CAAR;AAAwB;AAC9C,WAAO2J,UAAU,IAAV,EAAgB5lC,EAAhB,EAAoBi8B,MAApB,EAA4B78B,KAA5B,EAAmC,CAAnC,CAAP;AACD;AACD,WAASmoC,OAAT,CAAiBvnC,EAAjB,EAAqBZ,KAArB,EAA4B;AAC1B,QAAIrH,OAAOR,QAAQyI,GAAGlM,GAAX,EAAgBsL,KAAhB,CAAX;AACA,QAAI68B,SAASh9B,cAAclH,IAAd,CAAb;AACA,QAAIkkC,UAAUlkC,IAAd,EAAoB;AAAEqH,cAAQ9G,OAAO2jC,MAAP,CAAR;AAAwB;AAC9C,WAAO2J,UAAU,IAAV,EAAgB5lC,EAAhB,EAAoBjI,IAApB,EAA0BqH,KAA1B,EAAiC,CAAC,CAAlC,CAAP;AACD;AACD,WAASioC,cAAT,CAAwBrnC,EAAxB,EAA4BnP,GAA5B,EAAiC;AAC/B,QAAIxE,QAAQ8c,UAAUnJ,EAAV,EAAcnP,IAAIkH,IAAlB,CAAZ;AACA,QAAIA,OAAOR,QAAQyI,GAAGlM,GAAX,EAAgBzH,MAAM0L,IAAtB,CAAX;AACA,QAAIoI,QAAQwC,SAAS5K,IAAT,EAAeiI,GAAGlM,GAAH,CAAOqN,SAAtB,CAAZ;AACA,QAAI,CAAChB,KAAD,IAAUA,MAAM,CAAN,EAASE,KAAT,IAAkB,CAAhC,EAAmC;AACjC,UAAI0pC,aAAa/4C,KAAK8I,GAAL,CAAS,CAAT,EAAY/B,KAAKE,IAAL,CAAUzI,MAAV,CAAiB,IAAjB,CAAZ,CAAjB;AACA,UAAIw6C,OAAOn5C,IAAIkH,IAAJ,IAAY1L,MAAM0L,IAAlB,IAA0BlH,IAAIyB,EAAJ,IAAUy3C,UAApC,IAAkDl5C,IAAIyB,EAAjE;AACA,aAAO+G,IAAIhN,MAAM0L,IAAV,EAAgBiyC,OAAO,CAAP,GAAWD,UAA3B,EAAuC19C,MAAMiN,MAA7C,CAAP;AACD;AACD,WAAOjN,KAAP;AACD;;AAED;AACA,WAAS49C,eAAT,CAAyBjqC,EAAzB,EAA6BkqC,KAA7B,EAAoCC,SAApC,EAA+C;AAC7C,QAAI,OAAOD,KAAP,IAAgB,QAApB,EAA8B;AAC5BA,cAAQ1D,SAAS0D,KAAT,CAAR;AACA,UAAI,CAACA,KAAL,EAAY;AAAE,eAAO,KAAP;AAAc;AAC7B;AACD;AACA;AACAlqC,OAAGC,OAAH,CAAWlM,KAAX,CAAiBq2C,YAAjB;AACA,QAAIC,YAAYrqC,GAAGC,OAAH,CAAW9I,KAA3B;AAAA,QAAkC+8B,OAAO,KAAzC;AACA,QAAI;AACF,UAAIl0B,GAAGwhC,UAAH,EAAJ,EAAqB;AAAExhC,WAAGuI,KAAH,CAASqwB,aAAT,GAAyB,IAAzB;AAA+B;AACtD,UAAIuR,SAAJ,EAAe;AAAEnqC,WAAGC,OAAH,CAAW9I,KAAX,GAAmB,KAAnB;AAA0B;AAC3C+8B,aAAOgW,MAAMlqC,EAAN,KAAa5P,IAApB;AACD,KAJD,SAIU;AACR4P,SAAGC,OAAH,CAAW9I,KAAX,GAAmBkzC,SAAnB;AACArqC,SAAGuI,KAAH,CAASqwB,aAAT,GAAyB,KAAzB;AACD;AACD,WAAO1E,IAAP;AACD;;AAED,WAASoW,kBAAT,CAA4BtqC,EAA5B,EAAgCqH,IAAhC,EAAsCkzB,MAAtC,EAA8C;AAC5C,SAAK,IAAIvuC,IAAI,CAAb,EAAgBA,IAAIgU,GAAGuI,KAAH,CAASgiC,OAAT,CAAiBx/C,MAArC,EAA6CiB,GAA7C,EAAkD;AAChD,UAAIga,SAAS0+B,UAAUr9B,IAAV,EAAgBrH,GAAGuI,KAAH,CAASgiC,OAAT,CAAiBv+C,CAAjB,CAAhB,EAAqCuuC,MAArC,EAA6Cv6B,EAA7C,CAAb;AACA,UAAIgG,MAAJ,EAAY;AAAE,eAAOA,MAAP;AAAe;AAC9B;AACD,WAAQhG,GAAG/G,OAAH,CAAWuxC,SAAX,IAAwB9F,UAAUr9B,IAAV,EAAgBrH,GAAG/G,OAAH,CAAWuxC,SAA3B,EAAsCjQ,MAAtC,EAA8Cv6B,EAA9C,CAAzB,IACF0kC,UAAUr9B,IAAV,EAAgBrH,GAAG/G,OAAH,CAAW0qC,MAA3B,EAAmCpJ,MAAnC,EAA2Cv6B,EAA3C,CADL;AAED;;AAED;AACA;;AAEA,MAAIyqC,UAAU,IAAI76C,OAAJ,EAAd;;AAEA,WAAS86C,WAAT,CAAqB1qC,EAArB,EAAyBqH,IAAzB,EAA+Bpc,CAA/B,EAAkCsvC,MAAlC,EAA0C;AACxC,QAAIoQ,MAAM3qC,GAAGuI,KAAH,CAASqiC,MAAnB;AACA,QAAID,GAAJ,EAAS;AACP,UAAI/F,cAAcv9B,IAAd,CAAJ,EAAyB;AAAE,eAAO,SAAP;AAAkB;AAC7C,UAAI,MAAM5e,IAAN,CAAW4e,IAAX,CAAJ,EACE;AAAErH,WAAGuI,KAAH,CAASqiC,MAAT,GAAkB,IAAlB;AAAwB,OAD5B,MAGE;AAAEH,gBAAQ36C,GAAR,CAAY,EAAZ,EAAgB,YAAY;AAC5B,cAAIkQ,GAAGuI,KAAH,CAASqiC,MAAT,IAAmBD,GAAvB,EAA4B;AAC1B3qC,eAAGuI,KAAH,CAASqiC,MAAT,GAAkB,IAAlB;AACA5qC,eAAGC,OAAH,CAAWlM,KAAX,CAAiBwvB,KAAjB;AACD;AACF,SALC;AAKE;AACN,UAAIsnB,iBAAiB7qC,EAAjB,EAAqB2qC,MAAM,GAAN,GAAYtjC,IAAjC,EAAuCpc,CAAvC,EAA0CsvC,MAA1C,CAAJ,EAAuD;AAAE,eAAO,IAAP;AAAa;AACvE;AACD,WAAOsQ,iBAAiB7qC,EAAjB,EAAqBqH,IAArB,EAA2Bpc,CAA3B,EAA8BsvC,MAA9B,CAAP;AACD;;AAED,WAASsQ,gBAAT,CAA0B7qC,EAA1B,EAA8BqH,IAA9B,EAAoCpc,CAApC,EAAuCsvC,MAAvC,EAA+C;AAC7C,QAAIv0B,SAASskC,mBAAmBtqC,EAAnB,EAAuBqH,IAAvB,EAA6BkzB,MAA7B,CAAb;;AAEA,QAAIv0B,UAAU,OAAd,EACE;AAAEhG,SAAGuI,KAAH,CAASqiC,MAAT,GAAkBvjC,IAAlB;AAAwB;AAC5B,QAAIrB,UAAU,SAAd,EACE;AAAEsN,kBAAYtT,EAAZ,EAAgB,YAAhB,EAA8BA,EAA9B,EAAkCqH,IAAlC,EAAwCpc,CAAxC;AAA4C;;AAEhD,QAAI+a,UAAU,SAAV,IAAuBA,UAAU,OAArC,EAA8C;AAC5C3B,uBAAiBpZ,CAAjB;AACAy3B,mBAAa1iB,EAAb;AACD;;AAED,WAAO,CAAC,CAACgG,MAAT;AACD;;AAED;AACA,WAAS8kC,gBAAT,CAA0B9qC,EAA1B,EAA8B/U,CAA9B,EAAiC;AAC/B,QAAIoc,OAAO89B,QAAQl6C,CAAR,EAAW,IAAX,CAAX;AACA,QAAI,CAACoc,IAAL,EAAW;AAAE,aAAO,KAAP;AAAc;;AAE3B,QAAIpc,EAAEi6C,QAAF,IAAc,CAACllC,GAAGuI,KAAH,CAASqiC,MAA5B,EAAoC;AAClC;AACA;AACA;AACA,aAAOF,YAAY1qC,EAAZ,EAAgB,WAAWqH,IAA3B,EAAiCpc,CAAjC,EAAoC,UAAU2C,CAAV,EAAa;AAAE,eAAOq8C,gBAAgBjqC,EAAhB,EAAoBpS,CAApB,EAAuB,IAAvB,CAAP;AAAsC,OAAzF,KACA88C,YAAY1qC,EAAZ,EAAgBqH,IAAhB,EAAsBpc,CAAtB,EAAyB,UAAU2C,CAAV,EAAa;AACpC,YAAI,OAAOA,CAAP,IAAY,QAAZ,GAAuB,WAAWnF,IAAX,CAAgBmF,CAAhB,CAAvB,GAA4CA,EAAEm9C,MAAlD,EACE;AAAE,iBAAOd,gBAAgBjqC,EAAhB,EAAoBpS,CAApB,CAAP;AAA+B;AACpC,OAHD,CADP;AAKD,KATD,MASO;AACL,aAAO88C,YAAY1qC,EAAZ,EAAgBqH,IAAhB,EAAsBpc,CAAtB,EAAyB,UAAU2C,CAAV,EAAa;AAAE,eAAOq8C,gBAAgBjqC,EAAhB,EAAoBpS,CAApB,CAAP;AAAgC,OAAxE,CAAP;AACD;AACF;;AAED;AACA,WAASo9C,iBAAT,CAA2BhrC,EAA3B,EAA+B/U,CAA/B,EAAkCqH,EAAlC,EAAsC;AACpC,WAAOo4C,YAAY1qC,EAAZ,EAAgB,MAAM1N,EAAN,GAAW,GAA3B,EAAgCrH,CAAhC,EAAmC,UAAU2C,CAAV,EAAa;AAAE,aAAOq8C,gBAAgBjqC,EAAhB,EAAoBpS,CAApB,EAAuB,IAAvB,CAAP;AAAsC,KAAxF,CAAP;AACD;;AAED,MAAIq9C,iBAAiB,IAArB;AACA,WAASC,SAAT,CAAmBjgD,CAAnB,EAAsB;AACpB,QAAI+U,KAAK,IAAT;AACAA,OAAGgE,KAAH,CAASkf,KAAT,GAAiB51B,WAAjB;AACA,QAAIkW,eAAexD,EAAf,EAAmB/U,CAAnB,CAAJ,EAA2B;AAAE;AAAQ;AACrC;AACA,QAAInC,MAAMC,aAAa,EAAnB,IAAyBkC,EAAE45C,OAAF,IAAa,EAA1C,EAA8C;AAAE55C,QAAEqZ,WAAF,GAAgB,KAAhB;AAAuB;AACvE,QAAI1D,OAAO3V,EAAE45C,OAAb;AACA7kC,OAAGC,OAAH,CAAW9I,KAAX,GAAmByJ,QAAQ,EAAR,IAAc3V,EAAEi6C,QAAnC;AACA,QAAIiG,UAAUL,iBAAiB9qC,EAAjB,EAAqB/U,CAArB,CAAd;AACA,QAAI5B,MAAJ,EAAY;AACV4hD,uBAAiBE,UAAUvqC,IAAV,GAAiB,IAAlC;AACA;AACA,UAAI,CAACuqC,OAAD,IAAYvqC,QAAQ,EAApB,IAA0B,CAAC+F,YAA3B,KAA4C9c,MAAMoB,EAAEg6C,OAAR,GAAkBh6C,EAAE+Z,OAAhE,CAAJ,EACE;AAAEhF,WAAGy+B,gBAAH,CAAoB,EAApB,EAAwB,IAAxB,EAA8B,KAA9B;AAAsC;AAC3C;;AAED;AACA,QAAI79B,QAAQ,EAAR,IAAc,CAAC,2BAA2BnY,IAA3B,CAAgCuX,GAAGC,OAAH,CAAW9L,OAAX,CAAmBxJ,SAAnD,CAAnB,EACE;AAAEygD,oBAAcprC,EAAd;AAAmB;AACxB;;AAED,WAASorC,aAAT,CAAuBprC,EAAvB,EAA2B;AACzB,QAAI7L,UAAU6L,GAAGC,OAAH,CAAW9L,OAAzB;AACA1G,aAAS0G,OAAT,EAAkB,sBAAlB;;AAEA,aAASk3C,EAAT,CAAYpgD,CAAZ,EAAe;AACb,UAAIA,EAAE45C,OAAF,IAAa,EAAb,IAAmB,CAAC55C,EAAE+5C,MAA1B,EAAkC;AAChCx6C,gBAAQ2J,OAAR,EAAiB,sBAAjB;AACAgP,YAAIna,QAAJ,EAAc,OAAd,EAAuBqiD,EAAvB;AACAloC,YAAIna,QAAJ,EAAc,WAAd,EAA2BqiD,EAA3B;AACD;AACF;AACDxoC,OAAG7Z,QAAH,EAAa,OAAb,EAAsBqiD,EAAtB;AACAxoC,OAAG7Z,QAAH,EAAa,WAAb,EAA0BqiD,EAA1B;AACD;;AAED,WAASC,OAAT,CAAiBrgD,CAAjB,EAAoB;AAClB,QAAIA,EAAE45C,OAAF,IAAa,EAAjB,EAAqB;AAAE,WAAK/wC,GAAL,CAASksB,GAAT,CAAa7oB,KAAb,GAAqB,KAArB;AAA4B;AACnDqM,mBAAe,IAAf,EAAqBvY,CAArB;AACD;;AAED,WAASsgD,UAAT,CAAoBtgD,CAApB,EAAuB;AACrB,QAAI+U,KAAK,IAAT;AACA,QAAI8W,cAAc9W,GAAGC,OAAjB,EAA0BhV,CAA1B,KAAgCuY,eAAexD,EAAf,EAAmB/U,CAAnB,CAAhC,IAAyDA,EAAE+Z,OAAF,IAAa,CAAC/Z,EAAE+5C,MAAzE,IAAmFn7C,OAAOoB,EAAEg6C,OAAhG,EAAyG;AAAE;AAAQ;AACnH,QAAIJ,UAAU55C,EAAE45C,OAAhB;AAAA,QAAyB2G,WAAWvgD,EAAEugD,QAAtC;AACA,QAAIniD,UAAUw7C,WAAWoG,cAAzB,EAAyC;AAACA,uBAAiB,IAAjB,CAAuB5mC,iBAAiBpZ,CAAjB,EAAqB;AAAO;AAC7F,QAAK5B,WAAW,CAAC4B,EAAE6Z,KAAH,IAAY7Z,EAAE6Z,KAAF,GAAU,EAAjC,CAAD,IAA0CgmC,iBAAiB9qC,EAAjB,EAAqB/U,CAArB,CAA9C,EAAuE;AAAE;AAAQ;AACjF,QAAIqH,KAAK4G,OAAOwqC,YAAP,CAAoB8H,YAAY,IAAZ,GAAmB3G,OAAnB,GAA6B2G,QAAjD,CAAT;AACA;AACA,QAAIl5C,MAAM,MAAV,EAAkB;AAAE;AAAQ;AAC5B,QAAI04C,kBAAkBhrC,EAAlB,EAAsB/U,CAAtB,EAAyBqH,EAAzB,CAAJ,EAAkC;AAAE;AAAQ;AAC5C0N,OAAGC,OAAH,CAAWlM,KAAX,CAAiBw3C,UAAjB,CAA4BtgD,CAA5B;AACD;;AAED,MAAIwgD,oBAAoB,GAAxB;;AAEA,MAAIC,YAAY,SAAZA,SAAY,CAAS5e,IAAT,EAAej8B,GAAf,EAAoBkU,MAApB,EAA4B;AAC1C,SAAK+nB,IAAL,GAAYA,IAAZ;AACA,SAAKj8B,GAAL,GAAWA,GAAX;AACA,SAAKkU,MAAL,GAAcA,MAAd;AACD,GAJD;;AAMA2mC,YAAUj9C,SAAV,CAAoBk9C,OAApB,GAA8B,UAAU7e,IAAV,EAAgBj8B,GAAhB,EAAqBkU,MAArB,EAA6B;AACzD,WAAO,KAAK+nB,IAAL,GAAY2e,iBAAZ,GAAgC3e,IAAhC,IACLvzB,IAAI1I,GAAJ,EAAS,KAAKA,GAAd,KAAsB,CADjB,IACsBkU,UAAU,KAAKA,MAD5C;AAED,GAHD;;AAKA,MAAI6mC,SAAJ;AACA,MAAIC,eAAJ;AACA,WAASC,WAAT,CAAqBj7C,GAArB,EAA0BkU,MAA1B,EAAkC;AAChC,QAAIgnC,MAAM,CAAC,IAAI9e,IAAJ,EAAX;AACA,QAAI4e,mBAAmBA,gBAAgBF,OAAhB,CAAwBI,GAAxB,EAA6Bl7C,GAA7B,EAAkCkU,MAAlC,CAAvB,EAAkE;AAChE6mC,kBAAYC,kBAAkB,IAA9B;AACA,aAAO,QAAP;AACD,KAHD,MAGO,IAAID,aAAaA,UAAUD,OAAV,CAAkBI,GAAlB,EAAuBl7C,GAAvB,EAA4BkU,MAA5B,CAAjB,EAAsD;AAC3D8mC,wBAAkB,IAAIH,SAAJ,CAAcK,GAAd,EAAmBl7C,GAAnB,EAAwBkU,MAAxB,CAAlB;AACA6mC,kBAAY,IAAZ;AACA,aAAO,QAAP;AACD,KAJM,MAIA;AACLA,kBAAY,IAAIF,SAAJ,CAAcK,GAAd,EAAmBl7C,GAAnB,EAAwBkU,MAAxB,CAAZ;AACA8mC,wBAAkB,IAAlB;AACA,aAAO,QAAP;AACD;AACF;;AAED;AACA;AACA;AACA;AACA;AACA,WAASG,WAAT,CAAqB/gD,CAArB,EAAwB;AACtB,QAAI+U,KAAK,IAAT;AAAA,QAAeC,UAAUD,GAAGC,OAA5B;AACA,QAAIuD,eAAexD,EAAf,EAAmB/U,CAAnB,KAAyBgV,QAAQ5I,WAAR,IAAuB4I,QAAQlM,KAAR,CAAck4C,aAAd,EAApD,EAAmF;AAAE;AAAQ;AAC7FhsC,YAAQlM,KAAR,CAAcq2C,YAAd;AACAnqC,YAAQ9I,KAAR,GAAgBlM,EAAEi6C,QAAlB;;AAEA,QAAIpuB,cAAc7W,OAAd,EAAuBhV,CAAvB,CAAJ,EAA+B;AAC7B,UAAI,CAAC/B,MAAL,EAAa;AACX;AACA;AACA+W,gBAAQjL,QAAR,CAAiBI,SAAjB,GAA6B,KAA7B;AACAnF,mBAAW,YAAY;AAAE,iBAAOgQ,QAAQjL,QAAR,CAAiBI,SAAjB,GAA6B,IAApC;AAA2C,SAApE,EAAsE,GAAtE;AACD;AACD;AACD;AACD,QAAI82C,cAAclsC,EAAd,EAAkB/U,CAAlB,CAAJ,EAA0B;AAAE;AAAQ;AACpC,QAAI4F,MAAMouB,aAAajf,EAAb,EAAiB/U,CAAjB,CAAV;AAAA,QAA+B8Z,SAASF,SAAS5Z,CAAT,CAAxC;AAAA,QAAqDkhD,SAASt7C,MAAMi7C,YAAYj7C,GAAZ,EAAiBkU,MAAjB,CAAN,GAAiC,QAA/F;AACAqB,WAAO8c,KAAP;;AAEA;AACA,QAAIne,UAAU,CAAV,IAAe/E,GAAGuI,KAAH,CAAS6jC,aAA5B,EACE;AAAEpsC,SAAGuI,KAAH,CAAS6jC,aAAT,CAAuBnhD,CAAvB;AAA2B;;AAE/B,QAAI4F,OAAOw7C,mBAAmBrsC,EAAnB,EAAuB+E,MAAvB,EAA+BlU,GAA/B,EAAoCs7C,MAApC,EAA4ClhD,CAA5C,CAAX,EAA2D;AAAE;AAAQ;;AAErE,QAAI8Z,UAAU,CAAd,EAAiB;AACf,UAAIlU,GAAJ,EAAS;AAAEy7C,uBAAetsC,EAAf,EAAmBnP,GAAnB,EAAwBs7C,MAAxB,EAAgClhD,CAAhC;AAAoC,OAA/C,MACK,IAAI0Z,SAAS1Z,CAAT,KAAegV,QAAQjL,QAA3B,EAAqC;AAAEqP,yBAAiBpZ,CAAjB;AAAqB;AAClE,KAHD,MAGO,IAAI8Z,UAAU,CAAd,EAAiB;AACtB,UAAIlU,GAAJ,EAAS;AAAEgmC,wBAAgB72B,GAAGlM,GAAnB,EAAwBjD,GAAxB;AAA8B;AACzCZ,iBAAW,YAAY;AAAE,eAAOgQ,QAAQlM,KAAR,CAAcmvB,KAAd,EAAP;AAA+B,OAAxD,EAA0D,EAA1D;AACD,KAHM,MAGA,IAAIne,UAAU,CAAd,EAAiB;AACtB,UAAI3a,iBAAJ,EAAuB;AAAEmiD,sBAAcvsC,EAAd,EAAkB/U,CAAlB;AAAsB,OAA/C,MACK;AAAEm4B,uBAAepjB,EAAf;AAAoB;AAC5B;AACF;;AAED,WAASqsC,kBAAT,CAA4BrsC,EAA5B,EAAgC+E,MAAhC,EAAwClU,GAAxC,EAA6Cs7C,MAA7C,EAAqD1V,KAArD,EAA4D;AAC1D,QAAIpvB,OAAO,OAAX;AACA,QAAI8kC,UAAU,QAAd,EAAwB;AAAE9kC,aAAO,WAAWA,IAAlB;AAAwB,KAAlD,MACK,IAAI8kC,UAAU,QAAd,EAAwB;AAAE9kC,aAAO,WAAWA,IAAlB;AAAwB;AACvDA,WAAO,CAACtC,UAAU,CAAV,GAAc,MAAd,GAAuBA,UAAU,CAAV,GAAc,QAAd,GAAyB,OAAjD,IAA4DsC,IAAnE;;AAEA,WAAOqjC,YAAY1qC,EAAZ,EAAiB8kC,iBAAiBz9B,IAAjB,EAAuBovB,KAAvB,CAAjB,EAAgDA,KAAhD,EAAuD,UAAUyT,KAAV,EAAiB;AAC7E,UAAI,OAAOA,KAAP,IAAgB,QAApB,EAA8B;AAAEA,gBAAQ1D,SAAS0D,KAAT,CAAR;AAAyB;AACzD,UAAI,CAACA,KAAL,EAAY;AAAE,eAAO,KAAP;AAAc;AAC5B,UAAIhW,OAAO,KAAX;AACA,UAAI;AACF,YAAIl0B,GAAGwhC,UAAH,EAAJ,EAAqB;AAAExhC,aAAGuI,KAAH,CAASqwB,aAAT,GAAyB,IAAzB;AAA+B;AACtD1E,eAAOgW,MAAMlqC,EAAN,EAAUnP,GAAV,KAAkBT,IAAzB;AACD,OAHD,SAGU;AACR4P,WAAGuI,KAAH,CAASqwB,aAAT,GAAyB,KAAzB;AACD;AACD,aAAO1E,IAAP;AACD,KAXM,CAAP;AAYD;;AAED,WAASsY,cAAT,CAAwBxsC,EAAxB,EAA4BmsC,MAA5B,EAAoC1V,KAApC,EAA2C;AACzC,QAAIgW,SAASzsC,GAAG0P,SAAH,CAAa,gBAAb,CAAb;AACA,QAAIvhB,QAAQs+C,SAASA,OAAOzsC,EAAP,EAAWmsC,MAAX,EAAmB1V,KAAnB,CAAT,GAAqC,EAAjD;AACA,QAAItoC,MAAMu+C,IAAN,IAAc,IAAlB,EAAwB;AACtB,UAAI50B,OAAOhuB,WAAW2sC,MAAMyO,QAAN,IAAkBzO,MAAMwO,OAAnC,GAA6CxO,MAAMuO,MAA9D;AACA72C,YAAMu+C,IAAN,GAAa50B,OAAO,WAAP,GAAqBq0B,UAAU,QAAV,GAAqB,MAArB,GAA8BA,UAAU,QAAV,GAAqB,MAArB,GAA8B,MAA9F;AACD;AACD,QAAIh+C,MAAMmgC,MAAN,IAAgB,IAAhB,IAAwBtuB,GAAGlM,GAAH,CAAOw6B,MAAnC,EAA2C;AAAEngC,YAAMmgC,MAAN,GAAetuB,GAAGlM,GAAH,CAAOw6B,MAAP,IAAiBmI,MAAMyO,QAAtC;AAAgD;AAC7F,QAAI/2C,MAAMw+C,MAAN,IAAgB,IAApB,EAA0B;AAAEx+C,YAAMw+C,MAAN,GAAe9iD,MAAM4sC,MAAMwO,OAAZ,GAAsBxO,MAAMzxB,OAA3C;AAAoD;AAChF,QAAI7W,MAAMy+C,UAAN,IAAoB,IAAxB,EAA8B;AAAEz+C,YAAMy+C,UAAN,GAAmB,EAAE/iD,MAAM4sC,MAAMuO,MAAZ,GAAqBvO,MAAMzxB,OAA7B,CAAnB;AAA0D;AAC1F,WAAO7W,KAAP;AACD;;AAED,WAASm+C,cAAT,CAAwBtsC,EAAxB,EAA4BnP,GAA5B,EAAiCs7C,MAAjC,EAAyC1V,KAAzC,EAAgD;AAC9C,QAAI3tC,EAAJ,EAAQ;AAAEmH,iBAAW5B,KAAK40B,WAAL,EAAkBjjB,EAAlB,CAAX,EAAkC,CAAlC;AAAsC,KAAhD,MACK;AAAEA,SAAGgE,KAAH,CAASkf,KAAT,GAAiB51B,WAAjB;AAA8B;;AAErC,QAAIu/C,WAAWL,eAAexsC,EAAf,EAAmBmsC,MAAnB,EAA2B1V,KAA3B,CAAf;;AAEA,QAAIzW,MAAMhgB,GAAGlM,GAAH,CAAOksB,GAAjB;AAAA,QAAsB8sB,SAAtB;AACA,QAAI9sC,GAAG/G,OAAH,CAAW8zC,QAAX,IAAuB9nC,WAAvB,IAAsC,CAACjF,GAAGwhC,UAAH,EAAvC,IACA2K,UAAU,QADV,IACsB,CAACW,YAAY9sB,IAAI9yB,QAAJ,CAAa2D,GAAb,CAAb,IAAkC,CAAC,CADzD,KAEC0I,IAAI,CAACuzC,YAAY9sB,IAAIC,MAAJ,CAAW6sB,SAAX,CAAb,EAAoCx5C,IAApC,EAAJ,EAAgDzC,GAAhD,IAAuD,CAAvD,IAA4DA,IAAIisB,IAAJ,GAAW,CAFxE,MAGCvjB,IAAIuzC,UAAUv5C,EAAV,EAAJ,EAAoB1C,GAApB,IAA2B,CAA3B,IAAgCA,IAAIisB,IAAJ,GAAW,CAH5C,CAAJ,EAIE;AAAEkwB,0BAAoBhtC,EAApB,EAAwBy2B,KAAxB,EAA+B5lC,GAA/B,EAAoCg8C,QAApC;AAA+C,KAJnD,MAME;AAAEI,uBAAiBjtC,EAAjB,EAAqBy2B,KAArB,EAA4B5lC,GAA5B,EAAiCg8C,QAAjC;AAA4C;AACjD;;AAED;AACA;AACA,WAASG,mBAAT,CAA6BhtC,EAA7B,EAAiCy2B,KAAjC,EAAwC5lC,GAAxC,EAA6Cg8C,QAA7C,EAAuD;AACrD,QAAI5sC,UAAUD,GAAGC,OAAjB;AAAA,QAA0BitC,QAAQ,KAAlC;AACA,QAAIC,UAAUthB,UAAU7rB,EAAV,EAAc,UAAU/U,CAAV,EAAa;AACvC,UAAI/B,MAAJ,EAAY;AAAE+W,gBAAQjL,QAAR,CAAiBI,SAAjB,GAA6B,KAA7B;AAAoC;AAClD4K,SAAGuI,KAAH,CAAS25B,YAAT,GAAwB,KAAxB;AACA/+B,UAAIna,QAAJ,EAAc,SAAd,EAAyBmkD,OAAzB;AACAhqC,UAAIna,QAAJ,EAAc,WAAd,EAA2BokD,SAA3B;AACAjqC,UAAIlD,QAAQjL,QAAZ,EAAsB,WAAtB,EAAmCq4C,SAAnC;AACAlqC,UAAIlD,QAAQjL,QAAZ,EAAsB,MAAtB,EAA8Bm4C,OAA9B;AACA,UAAI,CAACD,KAAL,EAAY;AACV7oC,yBAAiBpZ,CAAjB;AACA,YAAI,CAAC4hD,SAASF,MAAd,EACE;AAAE9V,0BAAgB72B,GAAGlM,GAAnB,EAAwBjD,GAAxB,EAA6B,IAA7B,EAAmC,IAAnC,EAAyCg8C,SAASve,MAAlD;AAA2D;AAC/D;AACA,YAAIplC,UAAUJ,MAAMC,cAAc,CAAlC,EACE;AAAEkH,qBAAW,YAAY;AAACjH,qBAAS2D,IAAT,CAAcu2B,KAAd,GAAuBjjB,QAAQlM,KAAR,CAAcmvB,KAAd;AAAsB,WAArE,EAAuE,EAAvE;AAA4E,SADhF,MAGE;AAAEjjB,kBAAQlM,KAAR,CAAcmvB,KAAd;AAAuB;AAC5B;AACF,KAjBa,CAAd;AAkBA,QAAIkqB,YAAY,SAAZA,SAAY,CAASE,EAAT,EAAa;AAC3BJ,cAAQA,SAASl8C,KAAKiW,GAAL,CAASwvB,MAAMpX,OAAN,GAAgBiuB,GAAGjuB,OAA5B,IAAuCruB,KAAKiW,GAAL,CAASwvB,MAAMnX,OAAN,GAAgBguB,GAAGhuB,OAA5B,CAAvC,IAA+E,EAAhG;AACD,KAFD;AAGA,QAAI+tB,YAAY,SAAZA,SAAY,GAAY;AAAE,aAAOH,QAAQ,IAAf;AAAsB,KAApD;AACA;AACA,QAAIhkD,MAAJ,EAAY;AAAE+W,cAAQjL,QAAR,CAAiBI,SAAjB,GAA6B,IAA7B;AAAmC;AACjD4K,OAAGuI,KAAH,CAAS25B,YAAT,GAAwBiL,OAAxB;AACAA,YAAQ7hC,IAAR,GAAe,CAACuhC,SAASD,UAAzB;AACA;AACA,QAAI3sC,QAAQjL,QAAR,CAAiB+3C,QAArB,EAA+B;AAAE9sC,cAAQjL,QAAR,CAAiB+3C,QAAjB;AAA6B;AAC9DlqC,OAAG7Z,QAAH,EAAa,SAAb,EAAwBmkD,OAAxB;AACAtqC,OAAG7Z,QAAH,EAAa,WAAb,EAA0BokD,SAA1B;AACAvqC,OAAG5C,QAAQjL,QAAX,EAAqB,WAArB,EAAkCq4C,SAAlC;AACAxqC,OAAG5C,QAAQjL,QAAX,EAAqB,MAArB,EAA6Bm4C,OAA7B;;AAEA/pB,mBAAepjB,EAAf;AACA/P,eAAW,YAAY;AAAE,aAAOgQ,QAAQlM,KAAR,CAAcmvB,KAAd,EAAP;AAA+B,KAAxD,EAA0D,EAA1D;AACD;;AAED,WAASqqB,YAAT,CAAsBvtC,EAAtB,EAA0BnP,GAA1B,EAA+B67C,IAA/B,EAAqC;AACnC,QAAIA,QAAQ,MAAZ,EAAoB;AAAE,aAAO,IAAIrb,KAAJ,CAAUxgC,GAAV,EAAeA,GAAf,CAAP;AAA4B;AAClD,QAAI67C,QAAQ,MAAZ,EAAoB;AAAE,aAAO1sC,GAAGwtC,UAAH,CAAc38C,GAAd,CAAP;AAA2B;AACjD,QAAI67C,QAAQ,MAAZ,EAAoB;AAAE,aAAO,IAAIrb,KAAJ,CAAUh4B,IAAIxI,IAAIkH,IAAR,EAAc,CAAd,CAAV,EAA4BgC,SAAQiG,GAAGlM,GAAX,EAAgBuF,IAAIxI,IAAIkH,IAAJ,GAAW,CAAf,EAAkB,CAAlB,CAAhB,CAA5B,CAAP;AAA2E;AACjG,QAAIiO,SAAS0mC,KAAK1sC,EAAL,EAASnP,GAAT,CAAb;AACA,WAAO,IAAIwgC,KAAJ,CAAUrrB,OAAO1S,IAAjB,EAAuB0S,OAAOzS,EAA9B,CAAP;AACD;;AAED;AACA,WAAS05C,gBAAT,CAA0BjtC,EAA1B,EAA8By2B,KAA9B,EAAqCpqC,KAArC,EAA4CwgD,QAA5C,EAAsD;AACpD,QAAI5sC,UAAUD,GAAGC,OAAjB;AAAA,QAA0BnM,MAAMkM,GAAGlM,GAAnC;AACAuQ,qBAAiBoyB,KAAjB;;AAEA,QAAIgX,QAAJ;AAAA,QAAcC,QAAd;AAAA,QAAwBC,WAAW75C,IAAIksB,GAAvC;AAAA,QAA4CC,SAAS0tB,SAAS1tB,MAA9D;AACA,QAAI4sB,SAASF,MAAT,IAAmB,CAACE,SAASve,MAAjC,EAAyC;AACvCof,iBAAW55C,IAAIksB,GAAJ,CAAQ9yB,QAAR,CAAiBb,KAAjB,CAAX;AACA,UAAIqhD,WAAW,CAAC,CAAhB,EACE;AAAED,mBAAWxtB,OAAOytB,QAAP,CAAX;AAA6B,OADjC,MAGE;AAAED,mBAAW,IAAIpc,KAAJ,CAAUhlC,KAAV,EAAiBA,KAAjB,CAAX;AAAoC;AACzC,KAND,MAMO;AACLohD,iBAAW35C,IAAIksB,GAAJ,CAAQJ,OAAR,EAAX;AACA8tB,iBAAW55C,IAAIksB,GAAJ,CAAQE,SAAnB;AACD;;AAED,QAAI2sB,SAASH,IAAT,IAAiB,WAArB,EAAkC;AAChC,UAAI,CAACG,SAASF,MAAd,EAAsB;AAAEc,mBAAW,IAAIpc,KAAJ,CAAUhlC,KAAV,EAAiBA,KAAjB,CAAX;AAAoC;AAC5DA,cAAQ4yB,aAAajf,EAAb,EAAiBy2B,KAAjB,EAAwB,IAAxB,EAA8B,IAA9B,CAAR;AACAiX,iBAAW,CAAC,CAAZ;AACD,KAJD,MAIO;AACL,UAAIvhD,QAAQohD,aAAavtC,EAAb,EAAiB3T,KAAjB,EAAwBwgD,SAASH,IAAjC,CAAZ;AACA,UAAIG,SAASve,MAAb,EACE;AAAEmf,mBAAW9W,YAAY8W,QAAZ,EAAsBthD,MAAMqyB,MAA5B,EAAoCryB,MAAMm0B,IAA1C,EAAgDusB,SAASve,MAAzD,CAAX;AAA6E,OADjF,MAGE;AAAEmf,mBAAWthD,KAAX;AAAkB;AACvB;;AAED,QAAI,CAAC0gD,SAASF,MAAd,EAAsB;AACpBe,iBAAW,CAAX;AACA5W,mBAAahjC,GAAb,EAAkB,IAAIk9B,SAAJ,CAAc,CAACyc,QAAD,CAAd,EAA0B,CAA1B,CAAlB,EAAgDj9C,SAAhD;AACAm9C,iBAAW75C,IAAIksB,GAAf;AACD,KAJD,MAIO,IAAI0tB,YAAY,CAAC,CAAjB,EAAoB;AACzBA,iBAAWztB,OAAOl1B,MAAlB;AACA+rC,mBAAahjC,GAAb,EAAkBy9B,mBAAmBtR,OAAOjlB,MAAP,CAAc,CAACyyC,QAAD,CAAd,CAAnB,EAA8CC,QAA9C,CAAlB,EACa,EAACn9C,QAAQ,KAAT,EAAgBE,QAAQ,QAAxB,EADb;AAED,KAJM,MAIA,IAAIwvB,OAAOl1B,MAAP,GAAgB,CAAhB,IAAqBk1B,OAAOytB,QAAP,EAAiBvtB,KAAjB,EAArB,IAAiD0sB,SAASH,IAAT,IAAiB,MAAlE,IAA4E,CAACG,SAASve,MAA1F,EAAkG;AACvGwI,mBAAahjC,GAAb,EAAkBy9B,mBAAmBtR,OAAOp1B,KAAP,CAAa,CAAb,EAAgB6iD,QAAhB,EAA0B1yC,MAA1B,CAAiCilB,OAAOp1B,KAAP,CAAa6iD,WAAW,CAAxB,CAAjC,CAAnB,EAAiF,CAAjF,CAAlB,EACa,EAACn9C,QAAQ,KAAT,EAAgBE,QAAQ,QAAxB,EADb;AAEAk9C,iBAAW75C,IAAIksB,GAAf;AACD,KAJM,MAIA;AACLkX,0BAAoBpjC,GAApB,EAAyB45C,QAAzB,EAAmCD,QAAnC,EAA6Cj9C,SAA7C;AACD;;AAED,QAAIo9C,UAAUvhD,KAAd;AACA,aAASwhD,QAAT,CAAkBh9C,GAAlB,EAAuB;AACrB,UAAI0I,IAAIq0C,OAAJ,EAAa/8C,GAAb,KAAqB,CAAzB,EAA4B;AAAE;AAAQ;AACtC+8C,gBAAU/8C,GAAV;;AAEA,UAAIg8C,SAASH,IAAT,IAAiB,WAArB,EAAkC;AAChC,YAAIzsB,SAAS,EAAb;AAAA,YAAiB5wB,UAAU2Q,GAAG/G,OAAH,CAAW5J,OAAtC;AACA,YAAIy+C,WAAW3+C,YAAYoI,QAAQzD,GAAR,EAAazH,MAAM0L,IAAnB,EAAyBE,IAArC,EAA2C5L,MAAMiG,EAAjD,EAAqDjD,OAArD,CAAf;AACA,YAAI0+C,SAAS5+C,YAAYoI,QAAQzD,GAAR,EAAajD,IAAIkH,IAAjB,EAAuBE,IAAnC,EAAyCpH,IAAIyB,EAA7C,EAAiDjD,OAAjD,CAAb;AACA,YAAIwW,OAAO7U,KAAKC,GAAL,CAAS68C,QAAT,EAAmBC,MAAnB,CAAX;AAAA,YAAuCjoC,QAAQ9U,KAAK8I,GAAL,CAASg0C,QAAT,EAAmBC,MAAnB,CAA/C;AACA,aAAK,IAAIh2C,OAAO/G,KAAKC,GAAL,CAAS5E,MAAM0L,IAAf,EAAqBlH,IAAIkH,IAAzB,CAAX,EAA2CzL,MAAM0E,KAAKC,GAAL,CAAS+O,GAAGT,QAAH,EAAT,EAAwBvO,KAAK8I,GAAL,CAASzN,MAAM0L,IAAf,EAAqBlH,IAAIkH,IAAzB,CAAxB,CAAtD,EACKA,QAAQzL,GADb,EACkByL,MADlB,EAC0B;AACxB,cAAIE,OAAOV,QAAQzD,GAAR,EAAaiE,IAAb,EAAmBE,IAA9B;AAAA,cAAoC6uC,UAAUn2C,WAAWsH,IAAX,EAAiB4N,IAAjB,EAAuBxW,OAAvB,CAA9C;AACA,cAAIwW,QAAQC,KAAZ,EACE;AAAEma,mBAAO7uB,IAAP,CAAY,IAAIigC,KAAJ,CAAUh4B,IAAItB,IAAJ,EAAU+uC,OAAV,CAAV,EAA8BztC,IAAItB,IAAJ,EAAU+uC,OAAV,CAA9B,CAAZ;AAAgE,WADpE,MAEK,IAAI7uC,KAAKlN,MAAL,GAAc+7C,OAAlB,EACH;AAAE7mB,mBAAO7uB,IAAP,CAAY,IAAIigC,KAAJ,CAAUh4B,IAAItB,IAAJ,EAAU+uC,OAAV,CAAV,EAA8BztC,IAAItB,IAAJ,EAAUpH,WAAWsH,IAAX,EAAiB6N,KAAjB,EAAwBzW,OAAxB,CAAV,CAA9B,CAAZ;AAAyF;AAC9F;AACD,YAAI,CAAC4wB,OAAOl1B,MAAZ,EAAoB;AAAEk1B,iBAAO7uB,IAAP,CAAY,IAAIigC,KAAJ,CAAUhlC,KAAV,EAAiBA,KAAjB,CAAZ;AAAsC;AAC5DyqC,qBAAahjC,GAAb,EAAkBy9B,mBAAmBoc,SAAS1tB,MAAT,CAAgBp1B,KAAhB,CAAsB,CAAtB,EAAyB6iD,QAAzB,EAAmC1yC,MAAnC,CAA0CilB,MAA1C,CAAnB,EAAsEytB,QAAtE,CAAlB,EACa,EAACj9C,QAAQ,QAAT,EAAmBF,QAAQ,KAA3B,EADb;AAEAyP,WAAG6kB,cAAH,CAAkBh0B,GAAlB;AACD,OAjBD,MAiBO;AACL,YAAIm9C,WAAWP,QAAf;AACA,YAAIthD,QAAQohD,aAAavtC,EAAb,EAAiBnP,GAAjB,EAAsBg8C,SAASH,IAA/B,CAAZ;AACA,YAAIluB,SAASwvB,SAASxvB,MAAtB;AAAA,YAA8B8B,IAA9B;AACA,YAAI/mB,IAAIpN,MAAMqyB,MAAV,EAAkBA,MAAlB,IAA4B,CAAhC,EAAmC;AACjC8B,iBAAOn0B,MAAMm0B,IAAb;AACA9B,mBAAS5kB,OAAOo0C,SAAS16C,IAAT,EAAP,EAAwBnH,MAAMqyB,MAA9B,CAAT;AACD,SAHD,MAGO;AACL8B,iBAAOn0B,MAAMqyB,MAAb;AACAA,mBAAS7kB,OAAOq0C,SAASz6C,EAAT,EAAP,EAAsBpH,MAAMm0B,IAA5B,CAAT;AACD;AACD,YAAI2tB,WAAWN,SAAS1tB,MAAT,CAAgBp1B,KAAhB,CAAsB,CAAtB,CAAf;AACAojD,iBAASP,QAAT,IAAqBQ,aAAaluC,EAAb,EAAiB,IAAIqxB,KAAJ,CAAUt3B,SAAQjG,GAAR,EAAa0qB,MAAb,CAAV,EAAgC8B,IAAhC,CAAjB,CAArB;AACAwW,qBAAahjC,GAAb,EAAkBy9B,mBAAmB0c,QAAnB,EAA6BP,QAA7B,CAAlB,EAA0Dl9C,SAA1D;AACD;AACF;;AAED,QAAI29C,aAAaluC,QAAQhL,OAAR,CAAgB0Q,qBAAhB,EAAjB;AACA;AACA;AACA;AACA;AACA,QAAIyoC,UAAU,CAAd;;AAEA,aAAS9f,MAAT,CAAgBrjC,CAAhB,EAAmB;AACjB,UAAIojD,WAAW,EAAED,OAAjB;AACA,UAAI71C,MAAM0mB,aAAajf,EAAb,EAAiB/U,CAAjB,EAAoB,IAApB,EAA0B4hD,SAASH,IAAT,IAAiB,WAA3C,CAAV;AACA,UAAI,CAACn0C,GAAL,EAAU;AAAE;AAAQ;AACpB,UAAIgB,IAAIhB,GAAJ,EAASq1C,OAAT,KAAqB,CAAzB,EAA4B;AAC1B5tC,WAAGgE,KAAH,CAASkf,KAAT,GAAiB51B,WAAjB;AACAugD,iBAASt1C,GAAT;AACA,YAAIo1B,UAAU9J,aAAa5jB,OAAb,EAAsBnM,GAAtB,CAAd;AACA,YAAIyE,IAAIR,IAAJ,IAAY41B,QAAQp6B,EAApB,IAA0BgF,IAAIR,IAAJ,GAAW41B,QAAQr6B,IAAjD,EACE;AAAErD,qBAAW47B,UAAU7rB,EAAV,EAAc,YAAY;AAAC,gBAAIouC,WAAWC,QAAf,EAAyB;AAAE/f,qBAAOrjC,CAAP;AAAW;AAAC,WAAlE,CAAX,EAAgF,GAAhF;AAAsF;AAC3F,OAND,MAMO;AACL,YAAI4xB,UAAU5xB,EAAEq0B,OAAF,GAAY6uB,WAAW71B,GAAvB,GAA6B,CAAC,EAA9B,GAAmCrtB,EAAEq0B,OAAF,GAAY6uB,WAAW91B,MAAvB,GAAgC,EAAhC,GAAqC,CAAtF;AACA,YAAIwE,OAAJ,EAAa;AAAE5sB,qBAAW47B,UAAU7rB,EAAV,EAAc,YAAY;AAClD,gBAAIouC,WAAWC,QAAf,EAAyB;AAAE;AAAQ;AACnCpuC,oBAAQjL,QAAR,CAAiBwmB,SAAjB,IAA8BqB,OAA9B;AACAyR,mBAAOrjC,CAAP;AACD,WAJyB,CAAX,EAIX,EAJW;AAIN;AACV;AACF;;AAED,aAASipC,IAAT,CAAcjpC,CAAd,EAAiB;AACf+U,SAAGuI,KAAH,CAAS6jC,aAAT,GAAyB,KAAzB;AACAgC,gBAAUp8B,QAAV;AACA3N,uBAAiBpZ,CAAjB;AACAgV,cAAQlM,KAAR,CAAcmvB,KAAd;AACA/f,UAAIna,QAAJ,EAAc,WAAd,EAA2BslD,IAA3B;AACAnrC,UAAIna,QAAJ,EAAc,SAAd,EAAyBqiD,EAAzB;AACAv3C,UAAIyhC,OAAJ,CAAYb,aAAZ,GAA4B,IAA5B;AACD;;AAED,QAAI4Z,OAAOziB,UAAU7rB,EAAV,EAAc,UAAU/U,CAAV,EAAa;AACpC,UAAI,CAAC4Z,SAAS5Z,CAAT,CAAL,EAAkB;AAAEipC,aAAKjpC,CAAL;AAAS,OAA7B,MACK;AAAEqjC,eAAOrjC,CAAP;AAAW;AACnB,KAHU,CAAX;AAIA,QAAIogD,KAAKxf,UAAU7rB,EAAV,EAAck0B,IAAd,CAAT;AACAl0B,OAAGuI,KAAH,CAAS6jC,aAAT,GAAyBf,EAAzB;AACAxoC,OAAG7Z,QAAH,EAAa,WAAb,EAA0BslD,IAA1B;AACAzrC,OAAG7Z,QAAH,EAAa,SAAb,EAAwBqiD,EAAxB;AACD;;AAED;AACA;AACA,WAAS6C,YAAT,CAAsBluC,EAAtB,EAA0B7T,KAA1B,EAAiC;AAC/B,QAAIqyB,SAASryB,MAAMqyB,MAAnB;AACA,QAAI8B,OAAOn0B,MAAMm0B,IAAjB;AACA,QAAIiuB,aAAah3C,QAAQyI,GAAGlM,GAAX,EAAgB0qB,OAAOzmB,IAAvB,CAAjB;AACA,QAAIwB,IAAIilB,MAAJ,EAAY8B,IAAZ,KAAqB,CAArB,IAA0B9B,OAAOllB,MAAP,IAAiBgnB,KAAKhnB,MAApD,EAA4D;AAAE,aAAOnN,KAAP;AAAc;AAC5E,QAAIgU,QAAQwC,SAAS4rC,UAAT,CAAZ;AACA,QAAI,CAACpuC,KAAL,EAAY;AAAE,aAAOhU,KAAP;AAAc;AAC5B,QAAIrB,QAAQyV,cAAcJ,KAAd,EAAqBqe,OAAOlsB,EAA5B,EAAgCksB,OAAOllB,MAAvC,CAAZ;AAAA,QAA4D8G,OAAOD,MAAMrV,KAAN,CAAnE;AACA,QAAIsV,KAAK9M,IAAL,IAAakrB,OAAOlsB,EAApB,IAA0B8N,KAAK7M,EAAL,IAAWirB,OAAOlsB,EAAhD,EAAoD;AAAE,aAAOnG,KAAP;AAAc;AACpE,QAAIqiD,WAAW1jD,SAAUsV,KAAK9M,IAAL,IAAakrB,OAAOlsB,EAArB,KAA6B8N,KAAKC,KAAL,IAAc,CAA3C,IAAgD,CAAhD,GAAoD,CAA7D,CAAf;AACA,QAAImuC,YAAY,CAAZ,IAAiBA,YAAYruC,MAAMpV,MAAvC,EAA+C;AAAE,aAAOoB,KAAP;AAAc;;AAE/D;AACA;AACA,QAAI20B,QAAJ;AACA,QAAIR,KAAKvoB,IAAL,IAAaymB,OAAOzmB,IAAxB,EAA8B;AAC5B+oB,iBAAW,CAACR,KAAKvoB,IAAL,GAAYymB,OAAOzmB,IAApB,KAA6BiI,GAAGlM,GAAH,CAAOqN,SAAP,IAAoB,KAApB,GAA4B,CAA5B,GAAgC,CAAC,CAA9D,IAAmE,CAA9E;AACD,KAFD,MAEO;AACL,UAAIstC,YAAYluC,cAAcJ,KAAd,EAAqBmgB,KAAKhuB,EAA1B,EAA8BguB,KAAKhnB,MAAnC,CAAhB;AACA,UAAIpG,MAAMu7C,YAAY3jD,KAAZ,IAAqB,CAACw1B,KAAKhuB,EAAL,GAAUksB,OAAOlsB,EAAlB,KAAyB8N,KAAKC,KAAL,IAAc,CAAd,GAAkB,CAAC,CAAnB,GAAuB,CAAhD,CAA/B;AACA,UAAIouC,aAAaD,WAAW,CAAxB,IAA6BC,aAAaD,QAA9C,EACE;AAAE1tB,mBAAW5tB,MAAM,CAAjB;AAAoB,OADxB,MAGE;AAAE4tB,mBAAW5tB,MAAM,CAAjB;AAAoB;AACzB;;AAED,QAAIw7C,UAAUvuC,MAAMquC,YAAY1tB,WAAW,CAAC,CAAZ,GAAgB,CAA5B,CAAN,CAAd;AACA,QAAIxtB,OAAOwtB,aAAa4tB,QAAQruC,KAAR,IAAiB,CAA9B,CAAX;AACA,QAAI/N,KAAKgB,OAAOo7C,QAAQp7C,IAAf,GAAsBo7C,QAAQn7C,EAAvC;AAAA,QAA2C+F,SAAShG,OAAO,OAAP,GAAiB,QAArE;AACA,WAAOkrB,OAAOlsB,EAAP,IAAaA,EAAb,IAAmBksB,OAAOllB,MAAP,IAAiBA,MAApC,GAA6CnN,KAA7C,GAAqD,IAAIklC,KAAJ,CAAU,IAAIh4B,GAAJ,CAAQmlB,OAAOzmB,IAAf,EAAqBzF,EAArB,EAAyBgH,MAAzB,CAAV,EAA4CgnB,IAA5C,CAA5D;AACD;;AAGD;AACA;AACA,WAASquB,WAAT,CAAqB3uC,EAArB,EAAyB/U,CAAzB,EAA4BwQ,IAA5B,EAAkCmzC,OAAlC,EAA2C;AACzC,QAAIC,EAAJ,EAAQC,EAAR;AACA,QAAI7jD,EAAE8jD,OAAN,EAAe;AACbF,WAAK5jD,EAAE8jD,OAAF,CAAU,CAAV,EAAa1vB,OAAlB;AACAyvB,WAAK7jD,EAAE8jD,OAAF,CAAU,CAAV,EAAazvB,OAAlB;AACD,KAHD,MAGO;AACL,UAAI;AAAEuvB,aAAK5jD,EAAEo0B,OAAP,CAAgByvB,KAAK7jD,EAAEq0B,OAAP;AAAgB,OAAtC,CACA,OAAMr0B,CAAN,EAAS;AAAE,eAAO,KAAP;AAAc;AAC1B;AACD,QAAI4jD,MAAM79C,KAAK2C,KAAL,CAAWqM,GAAGC,OAAH,CAAWnL,OAAX,CAAmB6Q,qBAAnB,GAA2CG,KAAtD,CAAV,EAAwE;AAAE,aAAO,KAAP;AAAc;AACxF,QAAI8oC,OAAJ,EAAa;AAAEvqC,uBAAiBpZ,CAAjB;AAAqB;;AAEpC,QAAIgV,UAAUD,GAAGC,OAAjB;AACA,QAAI+uC,UAAU/uC,QAAQ9L,OAAR,CAAgBwR,qBAAhB,EAAd;;AAEA,QAAImpC,KAAKE,QAAQ32B,MAAb,IAAuB,CAACnU,WAAWlE,EAAX,EAAevE,IAAf,CAA5B,EAAkD;AAAE,aAAOmI,mBAAmB3Y,CAAnB,CAAP;AAA8B;AAClF6jD,UAAME,QAAQ12B,GAAR,GAAcrY,QAAQpK,UAA5B;;AAEA,SAAK,IAAI7J,IAAI,CAAb,EAAgBA,IAAIgU,GAAG/G,OAAH,CAAWnE,OAAX,CAAmB/J,MAAvC,EAA+C,EAAEiB,CAAjD,EAAoD;AAClD,UAAIijD,IAAIhvC,QAAQnL,OAAR,CAAgB3J,UAAhB,CAA2Ba,CAA3B,CAAR;AACA,UAAIijD,KAAKA,EAAEtpC,qBAAF,GAA0BG,KAA1B,IAAmC+oC,EAA5C,EAAgD;AAC9C,YAAI92C,OAAOU,cAAauH,GAAGlM,GAAhB,EAAqBg7C,EAArB,CAAX;AACA,YAAIn6B,SAAS3U,GAAG/G,OAAH,CAAWnE,OAAX,CAAmB9I,CAAnB,CAAb;AACAsX,eAAOtD,EAAP,EAAWvE,IAAX,EAAiBuE,EAAjB,EAAqBjI,IAArB,EAA2B4c,MAA3B,EAAmC1pB,CAAnC;AACA,eAAO2Y,mBAAmB3Y,CAAnB,CAAP;AACD;AACF;AACF;;AAED,WAASihD,aAAT,CAAuBlsC,EAAvB,EAA2B/U,CAA3B,EAA8B;AAC5B,WAAO0jD,YAAY3uC,EAAZ,EAAgB/U,CAAhB,EAAmB,aAAnB,EAAkC,IAAlC,CAAP;AACD;;AAED;;AAEA;AACA;AACA;AACA,WAASshD,aAAT,CAAuBvsC,EAAvB,EAA2B/U,CAA3B,EAA8B;AAC5B,QAAI6rB,cAAc9W,GAAGC,OAAjB,EAA0BhV,CAA1B,KAAgCikD,oBAAoBlvC,EAApB,EAAwB/U,CAAxB,CAApC,EAAgE;AAAE;AAAQ;AAC1E,QAAIuY,eAAexD,EAAf,EAAmB/U,CAAnB,EAAsB,aAAtB,CAAJ,EAA0C;AAAE;AAAQ;AACpD+U,OAAGC,OAAH,CAAWlM,KAAX,CAAiBw4C,aAAjB,CAA+BthD,CAA/B;AACD;;AAED,WAASikD,mBAAT,CAA6BlvC,EAA7B,EAAiC/U,CAAjC,EAAoC;AAClC,QAAI,CAACiZ,WAAWlE,EAAX,EAAe,mBAAf,CAAL,EAA0C;AAAE,aAAO,KAAP;AAAc;AAC1D,WAAO2uC,YAAY3uC,EAAZ,EAAgB/U,CAAhB,EAAmB,mBAAnB,EAAwC,KAAxC,CAAP;AACD;;AAED,WAASkkD,YAAT,CAAsBnvC,EAAtB,EAA0B;AACxBA,OAAGC,OAAH,CAAWhL,OAAX,CAAmBtK,SAAnB,GAA+BqV,GAAGC,OAAH,CAAWhL,OAAX,CAAmBtK,SAAnB,CAA6BiX,OAA7B,CAAqC,cAArC,EAAqD,EAArD,IAC7B5B,GAAG/G,OAAH,CAAWm2C,KAAX,CAAiBxtC,OAAjB,CAAyB,YAAzB,EAAuC,QAAvC,CADF;AAEAoZ,gBAAYhb,EAAZ;AACD;;AAED,MAAIqvC,OAAO,EAACh/C,UAAU,oBAAU;AAAC,aAAO,iBAAP;AAAyB,KAA/C,EAAX;;AAEA,MAAIi/C,WAAW,EAAf;AACA,MAAIC,iBAAiB,EAArB;;AAEA,WAASC,aAAT,CAAuBpnD,UAAvB,EAAmC;AACjC,QAAImnD,iBAAiBnnD,WAAWmnD,cAAhC;;AAEA,aAAS9C,MAAT,CAAgBplC,IAAhB,EAAsBooC,KAAtB,EAA6BlV,MAA7B,EAAqCmV,SAArC,EAAgD;AAC9CtnD,iBAAWknD,QAAX,CAAoBjoC,IAApB,IAA4BooC,KAA5B;AACA,UAAIlV,MAAJ,EAAY;AAAEgV,uBAAeloC,IAAf,IACZqoC,YAAY,UAAU1vC,EAAV,EAAcyI,GAAd,EAAmBtN,GAAnB,EAAwB;AAAC,cAAIA,OAAOk0C,IAAX,EAAiB;AAAE9U,mBAAOv6B,EAAP,EAAWyI,GAAX,EAAgBtN,GAAhB;AAAsB;AAAC,SAA/E,GAAkFo/B,MADtE;AAC8E;AAC7F;;AAEDnyC,eAAWunD,YAAX,GAA0BlD,MAA1B;;AAEA;AACArkD,eAAWinD,IAAX,GAAkBA,IAAlB;;AAEA;AACA;AACA5C,WAAO,OAAP,EAAgB,EAAhB,EAAoB,UAAUzsC,EAAV,EAAcyI,GAAd,EAAmB;AAAE,aAAOzI,GAAG69B,QAAH,CAAYp1B,GAAZ,CAAP;AAA0B,KAAnE,EAAqE,IAArE;AACAgkC,WAAO,MAAP,EAAe,IAAf,EAAqB,UAAUzsC,EAAV,EAAcyI,GAAd,EAAmB;AACtCzI,SAAGlM,GAAH,CAAOu+B,UAAP,GAAoB5pB,GAApB;AACA2pB,eAASpyB,EAAT;AACD,KAHD,EAGG,IAHH;;AAKAysC,WAAO,YAAP,EAAqB,CAArB,EAAwBra,QAAxB,EAAkC,IAAlC;AACAqa,WAAO,gBAAP,EAAyB,KAAzB;AACAA,WAAO,aAAP,EAAsB,IAAtB;AACAA,WAAO,SAAP,EAAkB,CAAlB,EAAqB,UAAUzsC,EAAV,EAAc;AACjCsyB,qBAAetyB,EAAf;AACAgb,kBAAYhb,EAAZ;AACAgsB,gBAAUhsB,EAAV;AACD,KAJD,EAIG,IAJH;AAKAysC,WAAO,eAAP,EAAwB,IAAxB,EAA8B,UAAUzsC,EAAV,EAAcyI,GAAd,EAAmB;AAC/CzI,SAAGlM,GAAH,CAAOypC,OAAP,GAAiB90B,GAAjB;AACA,UAAI,CAACA,GAAL,EAAU;AAAE;AAAQ;AACpB,UAAImnC,YAAY,EAAhB;AAAA,UAAoBt3C,SAAS0H,GAAGlM,GAAH,CAAOyB,KAApC;AACAyK,SAAGlM,GAAH,CAAOkE,IAAP,CAAY,UAAUD,IAAV,EAAgB;AAC1B,aAAK,IAAIlH,MAAM,CAAf,IAAoB;AAClB,cAAIyL,QAAQvE,KAAKE,IAAL,CAAUtI,OAAV,CAAkB8Y,GAAlB,EAAuB5X,GAAvB,CAAZ;AACA,cAAIyL,SAAS,CAAC,CAAd,EAAiB;AAAE;AAAO;AAC1BzL,gBAAMyL,QAAQmM,IAAI1d,MAAlB;AACA6kD,oBAAUx+C,IAAV,CAAeiI,IAAIf,MAAJ,EAAYgE,KAAZ,CAAf;AACD;AACDhE;AACD,OARD;AASA,WAAK,IAAItM,IAAI4jD,UAAU7kD,MAAV,GAAmB,CAAhC,EAAmCiB,KAAK,CAAxC,EAA2CA,GAA3C,EACE;AAAE+tC,sBAAa/5B,GAAGlM,GAAhB,EAAqB2U,GAArB,EAA0BmnC,UAAU5jD,CAAV,CAA1B,EAAwCqN,IAAIu2C,UAAU5jD,CAAV,EAAa+L,IAAjB,EAAuB63C,UAAU5jD,CAAV,EAAasG,EAAb,GAAkBmW,IAAI1d,MAA7C,CAAxC;AAA+F;AACpG,KAfD;AAgBA0hD,WAAO,cAAP,EAAuB,0EAAvB,EAAmG,UAAUzsC,EAAV,EAAcyI,GAAd,EAAmBtN,GAAnB,EAAwB;AACzH6E,SAAGuI,KAAH,CAASqI,YAAT,GAAwB,IAAIrmB,MAAJ,CAAWke,IAAI9V,MAAJ,IAAc8V,IAAIhgB,IAAJ,CAAS,IAAT,IAAiB,EAAjB,GAAsB,KAApC,CAAX,EAAuD,GAAvD,CAAxB;AACA,UAAI0S,OAAOk0C,IAAX,EAAiB;AAAErvC,WAAG6vC,OAAH;AAAc;AAClC,KAHD;AAIApD,WAAO,wBAAP,EAAiCp8B,6BAAjC,EAAgE,UAAUrQ,EAAV,EAAc;AAAE,aAAOA,GAAG6vC,OAAH,EAAP;AAAsB,KAAtG,EAAwG,IAAxG;AACApD,WAAO,eAAP,EAAwB,IAAxB;AACAA,WAAO,YAAP,EAAqB7iD,SAAS,iBAAT,GAA6B,UAAlD,EAA8D,YAAY;AACxE,YAAM,IAAI6N,KAAJ,CAAU,yDAAV,CAAN,CADwE,CACG;AAC5E,KAFD,EAEG,IAFH;AAGAg1C,WAAO,YAAP,EAAqB,KAArB,EAA4B,UAAUzsC,EAAV,EAAcyI,GAAd,EAAmB;AAAE,aAAOzI,GAAG8vC,aAAH,GAAmBC,UAAnB,GAAgCtnC,GAAvC;AAA6C,KAA9F,EAAgG,IAAhG;AACAgkC,WAAO,iBAAP,EAA0B,CAAC1iD,OAA3B;AACA0iD,WAAO,uBAAP,EAAgC,IAAhC;;AAEAA,WAAO,OAAP,EAAgB,SAAhB,EAA2B,UAAUzsC,EAAV,EAAc;AACvCmvC,mBAAanvC,EAAb;AACAgwC,qBAAehwC,EAAf;AACD,KAHD,EAGG,IAHH;AAIAysC,WAAO,QAAP,EAAiB,SAAjB,EAA4B,UAAUzsC,EAAV,EAAcyI,GAAd,EAAmBtN,GAAnB,EAAwB;AAClD,UAAIqO,OAAOm7B,UAAUl8B,GAAV,CAAX;AACA,UAAInH,OAAOnG,OAAOk0C,IAAP,IAAe1K,UAAUxpC,GAAV,CAA1B;AACA,UAAImG,QAAQA,KAAK2uC,MAAjB,EAAyB;AAAE3uC,aAAK2uC,MAAL,CAAYjwC,EAAZ,EAAgBwJ,IAAhB;AAAuB;AAClD,UAAIA,KAAK0mC,MAAT,EAAiB;AAAE1mC,aAAK0mC,MAAL,CAAYlwC,EAAZ,EAAgBsB,QAAQ,IAAxB;AAA+B;AACnD,KALD;AAMAmrC,WAAO,WAAP,EAAoB,IAApB;AACAA,WAAO,gBAAP,EAAyB,IAAzB;;AAEAA,WAAO,cAAP,EAAuB,KAAvB,EAA8B0D,eAA9B,EAA+C,IAA/C;AACA1D,WAAO,SAAP,EAAkB,EAAlB,EAAsB,UAAUzsC,EAAV,EAAc;AAClC2vB,+BAAyB3vB,GAAG/G,OAA5B;AACA+2C,qBAAehwC,EAAf;AACD,KAHD,EAGG,IAHH;AAIAysC,WAAO,aAAP,EAAsB,IAAtB,EAA4B,UAAUzsC,EAAV,EAAcyI,GAAd,EAAmB;AAC7CzI,SAAGC,OAAH,CAAWnL,OAAX,CAAmBlJ,KAAnB,CAAyBia,IAAzB,GAAgC4C,MAAMkW,qBAAqB3e,GAAGC,OAAxB,IAAmC,IAAzC,GAAgD,GAAhF;AACAD,SAAG6vC,OAAH;AACD,KAHD,EAGG,IAHH;AAIApD,WAAO,4BAAP,EAAqC,KAArC,EAA4C,UAAUzsC,EAAV,EAAc;AAAE,aAAOipB,iBAAiBjpB,EAAjB,CAAP;AAA8B,KAA1F,EAA4F,IAA5F;AACAysC,WAAO,gBAAP,EAAyB,QAAzB,EAAmC,UAAUzsC,EAAV,EAAc;AAC/C0pB,qBAAe1pB,EAAf;AACAipB,uBAAiBjpB,EAAjB;AACAA,SAAGC,OAAH,CAAWgnB,UAAX,CAAsBJ,YAAtB,CAAmC7mB,GAAGlM,GAAH,CAAO0nB,SAA1C;AACAxb,SAAGC,OAAH,CAAWgnB,UAAX,CAAsBzB,aAAtB,CAAoCxlB,GAAGlM,GAAH,CAAOsnB,UAA3C;AACD,KALD,EAKG,IALH;AAMAqxB,WAAO,aAAP,EAAsB,KAAtB,EAA6B,UAAUzsC,EAAV,EAAc;AACzC2vB,+BAAyB3vB,GAAG/G,OAA5B;AACA+2C,qBAAehwC,EAAf;AACD,KAHD,EAGG,IAHH;AAIAysC,WAAO,iBAAP,EAA0B,CAA1B,EAA6BuD,cAA7B,EAA6C,IAA7C;AACAvD,WAAO,qBAAP,EAA8B,UAAU2D,OAAV,EAAmB;AAAE,aAAOA,OAAP;AAAiB,KAApE,EAAsEJ,cAAtE,EAAsF,IAAtF;AACAvD,WAAO,yBAAP,EAAkC,KAAlC,EAAyChtB,eAAzC,EAA0D,IAA1D;;AAEAgtB,WAAO,6BAAP,EAAsC,IAAtC;AACAA,WAAO,iBAAP,EAA0B,IAA1B;AACAA,WAAO,wBAAP,EAAiC,IAAjC;;AAEAA,WAAO,UAAP,EAAmB,KAAnB,EAA0B,UAAUzsC,EAAV,EAAcyI,GAAd,EAAmB;AAC3C,UAAIA,OAAO,UAAX,EAAuB;AACrB6a,eAAOtjB,EAAP;AACAA,WAAGC,OAAH,CAAWlM,KAAX,CAAiBs8C,IAAjB;AACD;AACDrwC,SAAGC,OAAH,CAAWlM,KAAX,CAAiBu8C,eAAjB,CAAiC7nC,GAAjC;AACD,KAND;AAOAgkC,WAAO,cAAP,EAAuB,KAAvB,EAA8B,UAAUzsC,EAAV,EAAcyI,GAAd,EAAmB;AAAC,UAAI,CAACA,GAAL,EAAU;AAAEzI,WAAGC,OAAH,CAAWlM,KAAX,CAAiBwvB,KAAjB;AAA0B;AAAC,KAAzF,EAA2F,IAA3F;AACAkpB,WAAO,UAAP,EAAmB,IAAnB,EAAyB8D,eAAzB;AACA9D,WAAO,oBAAP,EAA6B,IAA7B;;AAEAA,WAAO,iBAAP,EAA0B,GAA1B;AACAA,WAAO,oBAAP,EAA6B,CAA7B;AACAA,WAAO,cAAP,EAAuB,CAAvB,EAA0BhtB,eAA1B,EAA2C,IAA3C;AACAgtB,WAAO,2BAAP,EAAoC,IAApC,EAA0ChtB,eAA1C,EAA2D,IAA3D;AACAgtB,WAAO,UAAP,EAAmB,GAAnB;AACAA,WAAO,WAAP,EAAoB,GAApB;AACAA,WAAO,cAAP,EAAuB,IAAvB,EAA6Bna,cAA7B,EAA6C,IAA7C;AACAma,WAAO,cAAP,EAAuB,KAAvB,EAA8Bna,cAA9B,EAA8C,IAA9C;AACAma,WAAO,cAAP,EAAuB,GAAvB;AACAA,WAAO,WAAP,EAAoB,GAApB,EAAyB,UAAUzsC,EAAV,EAAcyI,GAAd,EAAmB;AAAE,aAAOzI,GAAGlM,GAAH,CAAOyhC,OAAP,CAAenB,SAAf,GAA2B3rB,GAAlC;AAAwC,KAAtF;AACAgkC,WAAO,mBAAP,EAA4B,IAA5B;AACAA,WAAO,gBAAP,EAAyB,EAAzB,EAA6B,UAAUzsC,EAAV,EAAc;AAAE,aAAOA,GAAG6vC,OAAH,EAAP;AAAsB,KAAnE,EAAqE,IAArE;AACApD,WAAO,oBAAP,EAA6B,KAA7B,EAAoCna,cAApC,EAAoD,IAApD;AACAma,WAAO,qBAAP,EAA8B,IAA9B,EAAoC,UAAUzsC,EAAV,EAAcyI,GAAd,EAAmB;AACrD,UAAI,CAACA,GAAL,EAAU;AAAEzI,WAAGC,OAAH,CAAWlM,KAAX,CAAiBy8C,aAAjB;AAAkC;AAC/C,KAFD;;AAIA/D,WAAO,UAAP,EAAmB,IAAnB,EAAyB,UAAUzsC,EAAV,EAAcyI,GAAd,EAAmB;AAAE,aAAOzI,GAAGC,OAAH,CAAWlM,KAAX,CAAiB08C,QAAjB,GAA4BC,QAA5B,GAAuCjoC,OAAO,EAArD;AAA0D,KAAxG;AACAgkC,WAAO,WAAP,EAAoB,IAApB;AACAA,WAAO,WAAP,EAAoB,KAApB,EAA2B,UAAUzsC,EAAV,EAAcyI,GAAd,EAAmB;AAAE,aAAOzI,GAAGlM,GAAH,CAAOmtC,YAAP,CAAoBx4B,GAApB,CAAP;AAAkC,KAAlF,EAAoF,IAApF;AACD;;AAED,WAASunC,cAAT,CAAwBhwC,EAAxB,EAA4B;AAC1BwvB,kBAAcxvB,EAAd;AACAgsB,cAAUhsB,EAAV;AACAkkB,sBAAkBlkB,EAAlB;AACD;;AAED,WAASuwC,eAAT,CAAyBvwC,EAAzB,EAA6B7R,KAA7B,EAAoCgN,GAApC,EAAyC;AACvC,QAAIw1C,QAAQx1C,OAAOA,OAAOk0C,IAA1B;AACA,QAAI,CAAClhD,KAAD,IAAU,CAACwiD,KAAf,EAAsB;AACpB,UAAIC,QAAQ5wC,GAAGC,OAAH,CAAW4wC,aAAvB;AACA,UAAIC,SAAS3iD,QAAQ0U,EAAR,GAAaM,GAA1B;AACA2tC,aAAO9wC,GAAGC,OAAH,CAAWjL,QAAlB,EAA4B,WAA5B,EAAyC47C,MAAMvkD,KAA/C;AACAykD,aAAO9wC,GAAGC,OAAH,CAAWjL,QAAlB,EAA4B,WAA5B,EAAyC47C,MAAMG,KAA/C;AACAD,aAAO9wC,GAAGC,OAAH,CAAWjL,QAAlB,EAA4B,UAA5B,EAAwC47C,MAAMI,IAA9C;AACAF,aAAO9wC,GAAGC,OAAH,CAAWjL,QAAlB,EAA4B,WAA5B,EAAyC47C,MAAMK,KAA/C;AACAH,aAAO9wC,GAAGC,OAAH,CAAWjL,QAAlB,EAA4B,MAA5B,EAAoC47C,MAAMM,IAA1C;AACD;AACF;;AAED,WAASf,eAAT,CAAyBnwC,EAAzB,EAA6B;AAC3B,QAAIA,GAAG/G,OAAH,CAAW+e,YAAf,EAA6B;AAC3BvqB,eAASuS,GAAGC,OAAH,CAAWhL,OAApB,EAA6B,iBAA7B;AACA+K,SAAGC,OAAH,CAAWtL,KAAX,CAAiB/I,KAAjB,CAAuBm8B,QAAvB,GAAkC,EAAlC;AACA/nB,SAAGC,OAAH,CAAWrL,UAAX,GAAwB,IAAxB;AACD,KAJD,MAIO;AACLpK,cAAQwV,GAAGC,OAAH,CAAWhL,OAAnB,EAA4B,iBAA5B;AACA8K,kBAAYC,EAAZ;AACD;AACD+e,wBAAoB/e,EAApB;AACAgsB,cAAUhsB,EAAV;AACAgb,gBAAYhb,EAAZ;AACA/P,eAAW,YAAY;AAAE,aAAOg5B,iBAAiBjpB,EAAjB,CAAP;AAA8B,KAAvD,EAAyD,GAAzD;AACD;;AAED;AACA;;AAEA,WAAS5X,UAAT,CAAoByL,KAApB,EAA2BoF,OAA3B,EAAoC;AAClC,QAAI4Q,SAAS,IAAb;;AAEA,QAAI,EAAE,gBAAgBzhB,UAAlB,CAAJ,EAAmC;AAAE,aAAO,IAAIA,UAAJ,CAAeyL,KAAf,EAAsBoF,OAAtB,CAAP;AAAuC;;AAE5E,SAAKA,OAAL,GAAeA,UAAUA,UAAUpK,QAAQoK,OAAR,CAAV,GAA6B,EAAtD;AACA;AACApK,YAAQygD,QAAR,EAAkBr2C,OAAlB,EAA2B,KAA3B;AACA02B,6BAAyB12B,OAAzB;;AAEA,QAAInF,MAAMmF,QAAQ9K,KAAlB;AACA,QAAI,OAAO2F,GAAP,IAAc,QAAlB,EAA4B;AAAEA,YAAM,IAAIwpC,GAAJ,CAAQxpC,GAAR,EAAamF,QAAQqO,IAArB,EAA2B,IAA3B,EAAiCrO,QAAQ2kC,aAAzC,EAAwD3kC,QAAQkI,SAAhE,CAAN;AAAkF;AAChH,SAAKrN,GAAL,GAAWA,GAAX;;AAEA,QAAIC,QAAQ,IAAI3L,WAAW+oD,WAAX,CAAuBl4C,QAAQm4C,UAA/B,CAAJ,CAA+C,IAA/C,CAAZ;AACA,QAAInxC,UAAU,KAAKA,OAAL,GAAe,IAAIrM,OAAJ,CAAYC,KAAZ,EAAmBC,GAAnB,EAAwBC,KAAxB,CAA7B;AACAkM,YAAQhL,OAAR,CAAgB7M,UAAhB,GAA6B,IAA7B;AACAonC,kBAAc,IAAd;AACA2f,iBAAa,IAAb;AACA,QAAIl2C,QAAQ+e,YAAZ,EACE;AAAE,WAAK/X,OAAL,CAAahL,OAAb,CAAqBtK,SAArB,IAAkC,kBAAlC;AAAsD;AAC1D++B,mBAAe,IAAf;;AAEA,SAAKnhB,KAAL,GAAa;AACXgiC,eAAS,EADE,EACG;AACdt+B,gBAAU,EAFC,EAEG;AACdN,eAAS,CAHE,EAGG;AACd3c,iBAAW,KAJA;AAKXq0B,yBAAmB,KALR;AAMXV,eAAS,KANE;AAOXiW,qBAAe,KAPJ,EAOW;AACtByY,qBAAe,KARJ,EAQWC,aAAa,KARxB,EAQ+B;AAC1ClF,qBAAe,KATJ;AAUXlK,oBAAc,KAVH;AAWXnV,iBAAW,IAAIn9B,OAAJ,EAXA,EAWe;AAC1Bg7C,cAAQ,IAZG,EAYI;AACfh6B,oBAAc;AAbH,KAAb;;AAgBA,QAAI3X,QAAQs4C,SAAR,IAAqB,CAAC3nD,MAA1B,EAAkC;AAAEqW,cAAQlM,KAAR,CAAcmvB,KAAd;AAAuB;;AAE3D;AACA;AACA,QAAIp6B,MAAMC,aAAa,EAAvB,EAA2B;AAAEkH,iBAAW,YAAY;AAAE,eAAO4Z,OAAO5J,OAAP,CAAelM,KAAf,CAAqBwvB,KAArB,CAA2B,IAA3B,CAAP;AAA0C,OAAnE,EAAqE,EAArE;AAA0E;;AAEvGiuB,0BAAsB,IAAtB;AACApO;;AAEAtZ,oBAAe,IAAf;AACA,SAAK9lB,KAAL,CAAWgV,WAAX,GAAyB,IAAzB;AACA6a,cAAU,IAAV,EAAgB//B,GAAhB;;AAEA,QAAKmF,QAAQs4C,SAAR,IAAqB,CAAC3nD,MAAvB,IAAkC,KAAKukC,QAAL,EAAtC,EACE;AAAEl+B,iBAAW5B,KAAK80B,OAAL,EAAc,IAAd,CAAX,EAAgC,EAAhC;AAAqC,KADzC,MAGE;AAAEG,aAAO,IAAP;AAAc;;AAElB,SAAK,IAAIkY,GAAT,IAAgB+T,cAAhB,EAAgC;AAAE,UAAIA,eAAergD,cAAf,CAA8BssC,GAA9B,CAAJ,EAChC;AAAE+T,uBAAe/T,GAAf,EAAoB3xB,MAApB,EAA4B5Q,QAAQuiC,GAAR,CAA5B,EAA0C6T,IAA1C;AAAiD;AAAE;AACvD/qB,+BAA2B,IAA3B;AACA,QAAIrrB,QAAQw4C,UAAZ,EAAwB;AAAEx4C,cAAQw4C,UAAR,CAAmB,IAAnB;AAA0B;AACpD,SAAK,IAAIzlD,IAAI,CAAb,EAAgBA,IAAI0lD,UAAU3mD,MAA9B,EAAsC,EAAEiB,CAAxC,EAA2C;AAAE0lD,gBAAU1lD,CAAV,EAAa6d,MAAb;AAAsB;AACnEwgB,kBAAa,IAAb;AACA;AACA;AACA,QAAInhC,UAAU+P,QAAQ+e,YAAlB,IACAZ,iBAAiBnX,QAAQ9L,OAAzB,EAAkCw9C,aAAlC,IAAmD,oBADvD,EAEE;AAAE1xC,cAAQ9L,OAAR,CAAgBvI,KAAhB,CAAsB+lD,aAAtB,GAAsC,MAAtC;AAA8C;AACnD;;AAED;AACAvpD,aAAWknD,QAAX,GAAsBA,QAAtB;AACA;AACAlnD,aAAWmnD,cAAX,GAA4BA,cAA5B;;AAEA;AACA,WAASiC,qBAAT,CAA+BxxC,EAA/B,EAAmC;AACjC,QAAIhM,IAAIgM,GAAGC,OAAX;AACA4C,OAAG7O,EAAEgB,QAAL,EAAe,WAAf,EAA4B62B,UAAU7rB,EAAV,EAAcgsC,WAAd,CAA5B;AACA;AACA,QAAIljD,MAAMC,aAAa,EAAvB,EACE;AAAE8Z,SAAG7O,EAAEgB,QAAL,EAAe,UAAf,EAA2B62B,UAAU7rB,EAAV,EAAc,UAAU/U,CAAV,EAAa;AACtD,YAAIuY,eAAexD,EAAf,EAAmB/U,CAAnB,CAAJ,EAA2B;AAAE;AAAQ;AACrC,YAAI4F,MAAMouB,aAAajf,EAAb,EAAiB/U,CAAjB,CAAV;AACA,YAAI,CAAC4F,GAAD,IAAQq7C,cAAclsC,EAAd,EAAkB/U,CAAlB,CAAR,IAAgC6rB,cAAc9W,GAAGC,OAAjB,EAA0BhV,CAA1B,CAApC,EAAkE;AAAE;AAAQ;AAC5EoZ,yBAAiBpZ,CAAjB;AACA,YAAI2mD,OAAO5xC,GAAGwtC,UAAH,CAAc38C,GAAd,CAAX;AACAgmC,wBAAgB72B,GAAGlM,GAAnB,EAAwB89C,KAAKpzB,MAA7B,EAAqCozB,KAAKtxB,IAA1C;AACD,OAP4B,CAA3B;AAOG,KARP,MAUE;AAAEzd,SAAG7O,EAAEgB,QAAL,EAAe,UAAf,EAA2B,UAAU/J,CAAV,EAAa;AAAE,eAAOuY,eAAexD,EAAf,EAAmB/U,CAAnB,KAAyBoZ,iBAAiBpZ,CAAjB,CAAhC;AAAsD,OAAhG;AAAmG;AACvG;AACA;AACA;AACA,QAAI,CAACb,iBAAL,EAAwB;AAAEyY,SAAG7O,EAAEgB,QAAL,EAAe,aAAf,EAA8B,UAAU/J,CAAV,EAAa;AAAE,eAAOshD,cAAcvsC,EAAd,EAAkB/U,CAAlB,CAAP;AAA8B,OAA3E;AAA8E;;AAExG;AACA,QAAI4mD,aAAJ;AAAA,QAAmBC,YAAY,EAACxlD,KAAK,CAAN,EAA/B;AACA,aAASylD,WAAT,GAAuB;AACrB,UAAI/9C,EAAEqD,WAAN,EAAmB;AACjBw6C,wBAAgB5hD,WAAW,YAAY;AAAE,iBAAO+D,EAAEqD,WAAF,GAAgB,IAAvB;AAA8B,SAAvD,EAAyD,IAAzD,CAAhB;AACAy6C,oBAAY99C,EAAEqD,WAAd;AACAy6C,kBAAUxlD,GAAV,GAAgB,CAAC,IAAI2gC,IAAJ,EAAjB;AACD;AACF;AACD,aAAS+kB,qBAAT,CAA+B/mD,CAA/B,EAAkC;AAChC,UAAIA,EAAE8jD,OAAF,CAAUhkD,MAAV,IAAoB,CAAxB,EAA2B;AAAE,eAAO,KAAP;AAAc;AAC3C,UAAIknD,QAAQhnD,EAAE8jD,OAAF,CAAU,CAAV,CAAZ;AACA,aAAOkD,MAAMC,OAAN,IAAiB,CAAjB,IAAsBD,MAAME,OAAN,IAAiB,CAA9C;AACD;AACD,aAASC,OAAT,CAAiBH,KAAjB,EAAwBv1B,KAAxB,EAA+B;AAC7B,UAAIA,MAAM7W,IAAN,IAAc,IAAlB,EAAwB;AAAE,eAAO,IAAP;AAAa;AACvC,UAAIkqB,KAAKrT,MAAM7W,IAAN,GAAaosC,MAAMpsC,IAA5B;AAAA,UAAkCoqB,KAAKvT,MAAMpE,GAAN,GAAY25B,MAAM35B,GAAzD;AACA,aAAOyX,KAAKA,EAAL,GAAUE,KAAKA,EAAf,GAAoB,KAAK,EAAhC;AACD;AACDptB,OAAG7O,EAAEgB,QAAL,EAAe,YAAf,EAA6B,UAAU/J,CAAV,EAAa;AACxC,UAAI,CAACuY,eAAexD,EAAf,EAAmB/U,CAAnB,CAAD,IAA0B,CAAC+mD,sBAAsB/mD,CAAtB,CAA3B,IAAuD,CAACihD,cAAclsC,EAAd,EAAkB/U,CAAlB,CAA5D,EAAkF;AAChF+I,UAAED,KAAF,CAAQq2C,YAAR;AACAp6C,qBAAa6hD,aAAb;AACA,YAAI9F,MAAM,CAAC,IAAI9e,IAAJ,EAAX;AACAj5B,UAAEqD,WAAF,GAAgB,EAAChL,OAAO0/C,GAAR,EAAamB,OAAO,KAApB;AACC5rC,gBAAMyqC,MAAM+F,UAAUxlD,GAAhB,IAAuB,GAAvB,GAA6BwlD,SAA7B,GAAyC,IADhD,EAAhB;AAEA,YAAI7mD,EAAE8jD,OAAF,CAAUhkD,MAAV,IAAoB,CAAxB,EAA2B;AACzBiJ,YAAEqD,WAAF,CAAcwO,IAAd,GAAqB5a,EAAE8jD,OAAF,CAAU,CAAV,EAAasD,KAAlC;AACAr+C,YAAEqD,WAAF,CAAcihB,GAAd,GAAoBrtB,EAAE8jD,OAAF,CAAU,CAAV,EAAauD,KAAjC;AACD;AACF;AACF,KAZD;AAaAzvC,OAAG7O,EAAEgB,QAAL,EAAe,WAAf,EAA4B,YAAY;AACtC,UAAIhB,EAAEqD,WAAN,EAAmB;AAAErD,UAAEqD,WAAF,CAAc61C,KAAd,GAAsB,IAAtB;AAA4B;AAClD,KAFD;AAGArqC,OAAG7O,EAAEgB,QAAL,EAAe,UAAf,EAA2B,UAAU/J,CAAV,EAAa;AACtC,UAAIgnD,QAAQj+C,EAAEqD,WAAd;AACA,UAAI46C,SAAS,CAACn7B,cAAc9iB,CAAd,EAAiB/I,CAAjB,CAAV,IAAiCgnD,MAAMpsC,IAAN,IAAc,IAA/C,IACA,CAACosC,MAAM/E,KADP,IACgB,IAAIjgB,IAAJ,KAAWglB,MAAM5lD,KAAjB,GAAyB,GAD7C,EACkD;AAChD,YAAIwE,MAAMmP,GAAG+c,UAAH,CAAc/oB,EAAEqD,WAAhB,EAA6B,MAA7B,CAAV;AAAA,YAAgDlL,KAAhD;AACA,YAAI,CAAC8lD,MAAM3wC,IAAP,IAAe8wC,QAAQH,KAAR,EAAeA,MAAM3wC,IAArB,CAAnB,EAA+C;AAC7C;AAAEnV,oBAAQ,IAAIklC,KAAJ,CAAUxgC,GAAV,EAAeA,GAAf,CAAR;AAA6B,WADjC,MAEK,IAAI,CAACohD,MAAM3wC,IAAN,CAAWA,IAAZ,IAAoB8wC,QAAQH,KAAR,EAAeA,MAAM3wC,IAAN,CAAWA,IAA1B,CAAxB,EAAyD;AAC5D;AAAEnV,oBAAQ6T,GAAGwtC,UAAH,CAAc38C,GAAd,CAAR;AAA4B,WAD3B,MAEA;AACH;AAAE1E,oBAAQ,IAAIklC,KAAJ,CAAUh4B,IAAIxI,IAAIkH,IAAR,EAAc,CAAd,CAAV,EAA4BgC,SAAQiG,GAAGlM,GAAX,EAAgBuF,IAAIxI,IAAIkH,IAAJ,GAAW,CAAf,EAAkB,CAAlB,CAAhB,CAA5B,CAAR;AAA4E;AAChFiI,WAAG82B,YAAH,CAAgB3qC,MAAMqyB,MAAtB,EAA8BryB,MAAMm0B,IAApC;AACAtgB,WAAGkjB,KAAH;AACA7e,yBAAiBpZ,CAAjB;AACD;AACD8mD;AACD,KAhBD;AAiBAlvC,OAAG7O,EAAEgB,QAAL,EAAe,aAAf,EAA8B+8C,WAA9B;;AAEA;AACA;AACAlvC,OAAG7O,EAAEgB,QAAL,EAAe,QAAf,EAAyB,YAAY;AACnC,UAAIhB,EAAEgB,QAAF,CAAW4iB,YAAf,EAA6B;AAC3B2N,wBAAgBvlB,EAAhB,EAAoBhM,EAAEgB,QAAF,CAAWwmB,SAA/B;AACAgK,sBAAcxlB,EAAd,EAAkBhM,EAAEgB,QAAF,CAAWomB,UAA7B,EAAyC,IAAzC;AACA9X,eAAOtD,EAAP,EAAW,QAAX,EAAqBA,EAArB;AACD;AACF,KAND;;AAQA;AACA6C,OAAG7O,EAAEgB,QAAL,EAAe,YAAf,EAA6B,UAAU/J,CAAV,EAAa;AAAE,aAAOwlC,cAAczwB,EAAd,EAAkB/U,CAAlB,CAAP;AAA8B,KAA1E;AACA4X,OAAG7O,EAAEgB,QAAL,EAAe,gBAAf,EAAiC,UAAU/J,CAAV,EAAa;AAAE,aAAOwlC,cAAczwB,EAAd,EAAkB/U,CAAlB,CAAP;AAA8B,KAA9E;;AAEA;AACA4X,OAAG7O,EAAEiB,OAAL,EAAc,QAAd,EAAwB,YAAY;AAAE,aAAOjB,EAAEiB,OAAF,CAAUumB,SAAV,GAAsBxnB,EAAEiB,OAAF,CAAUmmB,UAAV,GAAuB,CAApD;AAAwD,KAA9F;;AAEApnB,MAAE68C,aAAF,GAAkB;AAChBE,aAAO,eAAU9lD,CAAV,EAAa;AAAC,YAAI,CAACuY,eAAexD,EAAf,EAAmB/U,CAAnB,CAAL,EAA4B;AAAEyZ,iBAAOzZ,CAAP;AAAW;AAAC,OAD/C;AAEhB+lD,YAAM,cAAU/lD,CAAV,EAAa;AAAC,YAAI,CAACuY,eAAexD,EAAf,EAAmB/U,CAAnB,CAAL,EAA4B;AAAE43C,qBAAW7iC,EAAX,EAAe/U,CAAf,EAAmByZ,OAAOzZ,CAAP;AAAW;AAAC,OAFjE;AAGhBoB,aAAO,eAAUpB,CAAV,EAAa;AAAE,eAAOq3C,YAAYtiC,EAAZ,EAAgB/U,CAAhB,CAAP;AAA4B,OAHlC;AAIhBimD,YAAMrlB,UAAU7rB,EAAV,EAAcohC,MAAd,CAJU;AAKhB6P,aAAO,eAAUhmD,CAAV,EAAa;AAAC,YAAI,CAACuY,eAAexD,EAAf,EAAmB/U,CAAnB,CAAL,EAA4B;AAAEo2C,0BAAgBrhC,EAAhB;AAAqB;AAAC;AALzD,KAAlB;;AAQA,QAAIuyC,MAAMv+C,EAAED,KAAF,CAAQ08C,QAAR,EAAV;AACA5tC,OAAG0vC,GAAH,EAAQ,OAAR,EAAiB,UAAUtnD,CAAV,EAAa;AAAE,aAAOqgD,QAAQ58C,IAAR,CAAasR,EAAb,EAAiB/U,CAAjB,CAAP;AAA6B,KAA7D;AACA4X,OAAG0vC,GAAH,EAAQ,SAAR,EAAmB1mB,UAAU7rB,EAAV,EAAckrC,SAAd,CAAnB;AACAroC,OAAG0vC,GAAH,EAAQ,UAAR,EAAoB1mB,UAAU7rB,EAAV,EAAcurC,UAAd,CAApB;AACA1oC,OAAG0vC,GAAH,EAAQ,OAAR,EAAiB,UAAUtnD,CAAV,EAAa;AAAE,aAAOk4B,QAAQnjB,EAAR,EAAY/U,CAAZ,CAAP;AAAwB,KAAxD;AACA4X,OAAG0vC,GAAH,EAAQ,MAAR,EAAgB,UAAUtnD,CAAV,EAAa;AAAE,aAAOq4B,OAAOtjB,EAAP,EAAW/U,CAAX,CAAP;AAAuB,KAAtD;AACD;;AAED,MAAIymD,YAAY,EAAhB;AACAtpD,aAAWoqD,cAAX,GAA4B,UAAUlkD,CAAV,EAAa;AAAE,WAAOojD,UAAUtgD,IAAV,CAAe9C,CAAf,CAAP;AAA2B,GAAtE;;AAEA;AACA;AACA;AACA;AACA;AACA,WAASs7C,UAAT,CAAoB5pC,EAApB,EAAwBvQ,CAAxB,EAA2BgjD,GAA3B,EAAgCC,UAAhC,EAA4C;AAC1C,QAAI5+C,MAAMkM,GAAGlM,GAAb;AAAA,QAAkByU,KAAlB;AACA,QAAIkqC,OAAO,IAAX,EAAiB;AAAEA,YAAM,KAAN;AAAa;AAChC,QAAIA,OAAO,OAAX,EAAoB;AAClB;AACA;AACA,UAAI,CAAC3+C,IAAIwT,IAAJ,CAASqrC,MAAd,EAAsB;AAAEF,cAAM,MAAN;AAAc,OAAtC,MACK;AAAElqC,gBAAQmE,iBAAiB1M,EAAjB,EAAqBvQ,CAArB,EAAwB8Y,KAAhC;AAAuC;AAC/C;;AAED,QAAIlZ,UAAU2Q,GAAG/G,OAAH,CAAW5J,OAAzB;AACA,QAAI0I,OAAOR,QAAQzD,GAAR,EAAarE,CAAb,CAAX;AAAA,QAA4BmjD,WAAWzjD,YAAY4I,KAAKE,IAAjB,EAAuB,IAAvB,EAA6B5I,OAA7B,CAAvC;AACA,QAAI0I,KAAK8U,UAAT,EAAqB;AAAE9U,WAAK8U,UAAL,GAAkB,IAAlB;AAAwB;AAC/C,QAAIgmC,iBAAiB96C,KAAKE,IAAL,CAAUhO,KAAV,CAAgB,MAAhB,EAAwB,CAAxB,CAArB;AAAA,QAAiDigB,WAAjD;AACA,QAAI,CAACwoC,UAAD,IAAe,CAAC,KAAKjqD,IAAL,CAAUsP,KAAKE,IAAf,CAApB,EAA0C;AACxCiS,oBAAc,CAAd;AACAuoC,YAAM,KAAN;AACD,KAHD,MAGO,IAAIA,OAAO,OAAX,EAAoB;AACzBvoC,oBAAcpW,IAAIwT,IAAJ,CAASqrC,MAAT,CAAgBpqC,KAAhB,EAAuBxQ,KAAKE,IAAL,CAAUpN,KAAV,CAAgBgoD,eAAe9nD,MAA/B,CAAvB,EAA+DgN,KAAKE,IAApE,CAAd;AACA,UAAIiS,eAAe9Z,IAAf,IAAuB8Z,cAAc,GAAzC,EAA8C;AAC5C,YAAI,CAACwoC,UAAL,EAAiB;AAAE;AAAQ;AAC3BD,cAAM,MAAN;AACD;AACF;AACD,QAAIA,OAAO,MAAX,EAAmB;AACjB,UAAIhjD,IAAIqE,IAAIyB,KAAZ,EAAmB;AAAE2U,sBAAc/a,YAAYoI,QAAQzD,GAAR,EAAarE,IAAE,CAAf,EAAkBwI,IAA9B,EAAoC,IAApC,EAA0C5I,OAA1C,CAAd;AAAkE,OAAvF,MACK;AAAE6a,sBAAc,CAAd;AAAiB;AACzB,KAHD,MAGO,IAAIuoC,OAAO,KAAX,EAAkB;AACvBvoC,oBAAc0oC,WAAW5yC,GAAG/G,OAAH,CAAW65C,UAApC;AACD,KAFM,MAEA,IAAIL,OAAO,UAAX,EAAuB;AAC5BvoC,oBAAc0oC,WAAW5yC,GAAG/G,OAAH,CAAW65C,UAApC;AACD,KAFM,MAEA,IAAI,OAAOL,GAAP,IAAc,QAAlB,EAA4B;AACjCvoC,oBAAc0oC,WAAWH,GAAzB;AACD;AACDvoC,kBAAclZ,KAAK8I,GAAL,CAAS,CAAT,EAAYoQ,WAAZ,CAAd;;AAEA,QAAI6oC,eAAe,EAAnB;AAAA,QAAuBliD,MAAM,CAA7B;AACA,QAAImP,GAAG/G,OAAH,CAAW+5C,cAAf,EACE;AAAE,WAAK,IAAIhnD,IAAIgF,KAAK2C,KAAL,CAAWuW,cAAc7a,OAAzB,CAAb,EAAgDrD,CAAhD,EAAmD,EAAEA,CAArD,EAAwD;AAAC6E,eAAOxB,OAAP,CAAgB0jD,gBAAgB,IAAhB;AAAqB;AAAE;AACpG,QAAIliD,MAAMqZ,WAAV,EAAuB;AAAE6oC,sBAAgB5hD,SAAS+Y,cAAcrZ,GAAvB,CAAhB;AAA6C;;AAEtE,QAAIkiD,gBAAgBF,cAApB,EAAoC;AAClC9Y,oBAAajmC,GAAb,EAAkBi/C,YAAlB,EAAgC15C,IAAI5J,CAAJ,EAAO,CAAP,CAAhC,EAA2C4J,IAAI5J,CAAJ,EAAOojD,eAAe9nD,MAAtB,CAA3C,EAA0E,QAA1E;AACAgN,WAAK8U,UAAL,GAAkB,IAAlB;AACA,aAAO,IAAP;AACD,KAJD,MAIO;AACL;AACA;AACA,WAAK,IAAIjU,MAAM,CAAf,EAAkBA,MAAM9E,IAAIksB,GAAJ,CAAQC,MAAR,CAAel1B,MAAvC,EAA+C6N,KAA/C,EAAsD;AACpD,YAAIzM,QAAQ2H,IAAIksB,GAAJ,CAAQC,MAAR,CAAernB,GAAf,CAAZ;AACA,YAAIzM,MAAMm0B,IAAN,CAAWvoB,IAAX,IAAmBtI,CAAnB,IAAwBtD,MAAMm0B,IAAN,CAAWhuB,EAAX,GAAgBugD,eAAe9nD,MAA3D,EAAmE;AACjE,cAAIkoD,QAAQ55C,IAAI5J,CAAJ,EAAOojD,eAAe9nD,MAAtB,CAAZ;AACAmsC,8BAAoBpjC,GAApB,EAAyB8E,GAAzB,EAA8B,IAAIy4B,KAAJ,CAAU4hB,KAAV,EAAiBA,KAAjB,CAA9B;AACA;AACD;AACF;AACF;AACF;;AAED;AACA;AACA;AACA,MAAIC,aAAa,IAAjB;;AAEA,WAASC,aAAT,CAAuBC,aAAvB,EAAsC;AACpCF,iBAAaE,aAAb;AACD;;AAED,WAASC,cAAT,CAAwBrzC,EAAxB,EAA4BszC,QAA5B,EAAsCC,OAAtC,EAA+CvzB,GAA/C,EAAoDvvB,MAApD,EAA4D;AAC1D,QAAIqD,MAAMkM,GAAGlM,GAAb;AACAkM,OAAGC,OAAH,CAAW9I,KAAX,GAAmB,KAAnB;AACA,QAAI,CAAC6oB,GAAL,EAAU;AAAEA,YAAMlsB,IAAIksB,GAAV;AAAe;;AAE3B,QAAIwzB,QAAQxzC,GAAGuI,KAAH,CAAS8oC,aAAT,IAA0B5gD,UAAU,OAAhD;AACA,QAAIgjD,YAAY1tC,eAAeutC,QAAf,CAAhB;AAAA,QAA0CI,aAAa,IAAvD;AACA;AACA,QAAIF,SAASxzB,IAAIC,MAAJ,CAAWl1B,MAAX,GAAoB,CAAjC,EAAoC;AAClC,UAAImoD,cAAcA,WAAWj7C,IAAX,CAAgB0lC,IAAhB,CAAqB,IAArB,KAA8B2V,QAAhD,EAA0D;AACxD,YAAItzB,IAAIC,MAAJ,CAAWl1B,MAAX,GAAoBmoD,WAAWj7C,IAAX,CAAgBlN,MAApC,IAA8C,CAAlD,EAAqD;AACnD2oD,uBAAa,EAAb;AACA,eAAK,IAAI1nD,IAAI,CAAb,EAAgBA,IAAIknD,WAAWj7C,IAAX,CAAgBlN,MAApC,EAA4CiB,GAA5C,EACE;AAAE0nD,uBAAWtiD,IAAX,CAAgB0C,IAAImmC,UAAJ,CAAeiZ,WAAWj7C,IAAX,CAAgBjM,CAAhB,CAAf,CAAhB;AAAqD;AAC1D;AACF,OAND,MAMO,IAAIynD,UAAU1oD,MAAV,IAAoBi1B,IAAIC,MAAJ,CAAWl1B,MAA/B,IAAyCiV,GAAG/G,OAAH,CAAW06C,sBAAxD,EAAgF;AACrFD,qBAAaniD,IAAIkiD,SAAJ,EAAe,UAAU16C,CAAV,EAAa;AAAE,iBAAO,CAACA,CAAD,CAAP;AAAa,SAA3C,CAAb;AACD;AACF;;AAED,QAAIixB,WAAJ;AACA;AACA,SAAK,IAAIpxB,MAAMonB,IAAIC,MAAJ,CAAWl1B,MAAX,GAAoB,CAAnC,EAAsC6N,OAAO,CAA7C,EAAgDA,KAAhD,EAAuD;AACrD,UAAIzM,QAAQ6zB,IAAIC,MAAJ,CAAWrnB,GAAX,CAAZ;AACA,UAAItF,OAAOnH,MAAMmH,IAAN,EAAX;AAAA,UAAyBC,KAAKpH,MAAMoH,EAAN,EAA9B;AACA,UAAIpH,MAAMg0B,KAAN,EAAJ,EAAmB;AACjB,YAAIozB,WAAWA,UAAU,CAAzB,EAA4B;AAC1B;AAAEjgD,mBAAO+F,IAAI/F,KAAKyE,IAAT,EAAezE,KAAKhB,EAAL,GAAUihD,OAAzB,CAAP;AAA0C,WAD9C,MAEK,IAAIvzC,GAAGuI,KAAH,CAASvZ,SAAT,IAAsB,CAACwkD,KAA3B,EAAkC;AACrC;AAAEjgD,iBAAK8F,IAAI9F,GAAGwE,IAAP,EAAa/G,KAAKC,GAAL,CAASsG,QAAQzD,GAAR,EAAaP,GAAGwE,IAAhB,EAAsBE,IAAtB,CAA2BlN,MAApC,EAA4CwI,GAAGjB,EAAH,GAAQjB,IAAIoiD,SAAJ,EAAe1oD,MAAnE,CAAb,CAAL;AAA+F,WAD9F,MAEA,IAAImoD,cAAcA,WAAWU,QAAzB,IAAqCV,WAAWj7C,IAAX,CAAgB0lC,IAAhB,CAAqB,IAArB,KAA8B2V,QAAvE,EACH;AAAEhgD,iBAAOC,KAAK8F,IAAI/F,KAAKyE,IAAT,EAAe,CAAf,CAAZ;AAA+B;AACpC;AACDiyB,oBAAchqB,GAAGgE,KAAH,CAASgmB,WAAvB;AACA,UAAI6pB,cAAc,EAACvgD,MAAMA,IAAP,EAAaC,IAAIA,EAAjB,EAAqB0E,MAAMy7C,aAAaA,WAAW96C,MAAM86C,WAAW3oD,MAA5B,CAAb,GAAmD0oD,SAA9E;AACChjD,gBAAQA,WAAW+iD,QAAQ,OAAR,GAAkBxzC,GAAGuI,KAAH,CAAS+oC,WAAT,GAAuB,KAAvB,GAA+B,QAA5D,CADT,EAAlB;AAEA5Y,iBAAW14B,GAAGlM,GAAd,EAAmB+/C,WAAnB;AACAvgC,kBAAYtT,EAAZ,EAAgB,WAAhB,EAA6BA,EAA7B,EAAiC6zC,WAAjC;AACD;AACD,QAAIP,YAAY,CAACE,KAAjB,EACE;AAAEM,sBAAgB9zC,EAAhB,EAAoBszC,QAApB;AAA+B;;AAEnCltB,wBAAoBpmB,EAApB;AACAA,OAAGgE,KAAH,CAASgmB,WAAT,GAAuBA,WAAvB;AACAhqB,OAAGgE,KAAH,CAASimB,MAAT,GAAkB,IAAlB;AACAjqB,OAAGuI,KAAH,CAAS8oC,aAAT,GAAyBrxC,GAAGuI,KAAH,CAAS+oC,WAAT,GAAuB,KAAhD;AACD;;AAED,WAASyC,WAAT,CAAqB9oD,CAArB,EAAwB+U,EAAxB,EAA4B;AAC1B,QAAIg0C,SAAS/oD,EAAEgpD,aAAF,IAAmBhpD,EAAEgpD,aAAF,CAAgB7R,OAAhB,CAAwB,MAAxB,CAAhC;AACA,QAAI4R,MAAJ,EAAY;AACV/oD,QAAEyY,cAAF;AACA,UAAI,CAAC1D,GAAGwhC,UAAH,EAAD,IAAoB,CAACxhC,GAAG/G,OAAH,CAAWi7C,YAApC,EACE;AAAEtoB,gBAAQ5rB,EAAR,EAAY,YAAY;AAAE,iBAAOqzC,eAAerzC,EAAf,EAAmBg0C,MAAnB,EAA2B,CAA3B,EAA8B,IAA9B,EAAoC,OAApC,CAAP;AAAsD,SAAhF;AAAmF;AACvF,aAAO,IAAP;AACD;AACF;;AAED,WAASF,eAAT,CAAyB9zC,EAAzB,EAA6BszC,QAA7B,EAAuC;AACrC;AACA,QAAI,CAACtzC,GAAG/G,OAAH,CAAWk7C,aAAZ,IAA6B,CAACn0C,GAAG/G,OAAH,CAAWm7C,WAA7C,EAA0D;AAAE;AAAQ;AACpE,QAAIp0B,MAAMhgB,GAAGlM,GAAH,CAAOksB,GAAjB;;AAEA,SAAK,IAAIh0B,IAAIg0B,IAAIC,MAAJ,CAAWl1B,MAAX,GAAoB,CAAjC,EAAoCiB,KAAK,CAAzC,EAA4CA,GAA5C,EAAiD;AAC/C,UAAIG,QAAQ6zB,IAAIC,MAAJ,CAAWj0B,CAAX,CAAZ;AACA,UAAIG,MAAMm0B,IAAN,CAAWhuB,EAAX,GAAgB,GAAhB,IAAwBtG,KAAKg0B,IAAIC,MAAJ,CAAWj0B,IAAI,CAAf,EAAkBs0B,IAAlB,CAAuBvoB,IAAvB,IAA+B5L,MAAMm0B,IAAN,CAAWvoB,IAA3E,EAAkF;AAAE;AAAU;AAC9F,UAAIuP,OAAOtH,GAAGq0C,SAAH,CAAaloD,MAAMm0B,IAAnB,CAAX;AACA,UAAI7R,WAAW,KAAf;AACA,UAAInH,KAAK6sC,aAAT,EAAwB;AACtB,aAAK,IAAI32C,IAAI,CAAb,EAAgBA,IAAI8J,KAAK6sC,aAAL,CAAmBppD,MAAvC,EAA+CyS,GAA/C,EACE;AAAE,cAAI81C,SAAS3jD,OAAT,CAAiB2X,KAAK6sC,aAAL,CAAmBhhD,MAAnB,CAA0BqK,CAA1B,CAAjB,IAAiD,CAAC,CAAtD,EAAyD;AACzDiR,uBAAWm7B,WAAW5pC,EAAX,EAAe7T,MAAMm0B,IAAN,CAAWvoB,IAA1B,EAAgC,OAAhC,CAAX;AACA;AACD;AAAE;AACN,OAND,MAMO,IAAIuP,KAAKgtC,aAAT,EAAwB;AAC7B,YAAIhtC,KAAKgtC,aAAL,CAAmB7rD,IAAnB,CAAwB8O,QAAQyI,GAAGlM,GAAX,EAAgB3H,MAAMm0B,IAAN,CAAWvoB,IAA3B,EAAiCE,IAAjC,CAAsCpN,KAAtC,CAA4C,CAA5C,EAA+CsB,MAAMm0B,IAAN,CAAWhuB,EAA1D,CAAxB,CAAJ,EACE;AAAEmc,qBAAWm7B,WAAW5pC,EAAX,EAAe7T,MAAMm0B,IAAN,CAAWvoB,IAA1B,EAAgC,OAAhC,CAAX;AAAqD;AAC1D;AACD,UAAI0W,QAAJ,EAAc;AAAE6E,oBAAYtT,EAAZ,EAAgB,eAAhB,EAAiCA,EAAjC,EAAqC7T,MAAMm0B,IAAN,CAAWvoB,IAAhD;AAAuD;AACxE;AACF;;AAED,WAASw8C,cAAT,CAAwBv0C,EAAxB,EAA4B;AAC1B,QAAI/H,OAAO,EAAX;AAAA,QAAegoB,SAAS,EAAxB;AACA,SAAK,IAAIj0B,IAAI,CAAb,EAAgBA,IAAIgU,GAAGlM,GAAH,CAAOksB,GAAP,CAAWC,MAAX,CAAkBl1B,MAAtC,EAA8CiB,GAA9C,EAAmD;AACjD,UAAI+L,OAAOiI,GAAGlM,GAAH,CAAOksB,GAAP,CAAWC,MAAX,CAAkBj0B,CAAlB,EAAqBs0B,IAArB,CAA0BvoB,IAArC;AACA,UAAIy8C,YAAY,EAACh2B,QAAQnlB,IAAItB,IAAJ,EAAU,CAAV,CAAT,EAAuBuoB,MAAMjnB,IAAItB,OAAO,CAAX,EAAc,CAAd,CAA7B,EAAhB;AACAkoB,aAAO7uB,IAAP,CAAYojD,SAAZ;AACAv8C,WAAK7G,IAAL,CAAU4O,GAAG89B,QAAH,CAAY0W,UAAUh2B,MAAtB,EAA8Bg2B,UAAUl0B,IAAxC,CAAV;AACD;AACD,WAAO,EAACroB,MAAMA,IAAP,EAAagoB,QAAQA,MAArB,EAAP;AACD;;AAED,WAASw0B,mBAAT,CAA6BC,KAA7B,EAAoC3E,UAApC,EAAgD;AAC9C2E,UAAMxoD,YAAN,CAAmB,aAAnB,EAAkC,KAAlC;AACAwoD,UAAMxoD,YAAN,CAAmB,gBAAnB,EAAqC,KAArC;AACAwoD,UAAMxoD,YAAN,CAAmB,YAAnB,EAAiC,CAAC,CAAC6jD,UAAnC;AACD;;AAED,WAAS4E,cAAT,GAA0B;AACxB,QAAIruC,KAAK7a,IAAI,UAAJ,EAAgB,IAAhB,EAAsB,IAAtB,EAA4B,sFAA5B,CAAT;AACA,QAAIyZ,MAAMzZ,IAAI,KAAJ,EAAW,CAAC6a,EAAD,CAAX,EAAiB,IAAjB,EAAuB,gEAAvB,CAAV;AACA;AACA;AACA;AACA;AACA,QAAIpd,MAAJ,EAAY;AAAEod,SAAG1a,KAAH,CAASyqB,KAAT,GAAiB,QAAjB;AAA2B,KAAzC,MACK;AAAE/P,SAAGpa,YAAH,CAAgB,MAAhB,EAAwB,KAAxB;AAAgC;AACvC;AACA,QAAIxC,GAAJ,EAAS;AAAE4c,SAAG1a,KAAH,CAASgpD,MAAT,GAAkB,iBAAlB;AAAqC;AAChDH,wBAAoBnuC,EAApB;AACA,WAAOpB,GAAP;AACD;;AAED;AACA;;AAEA;AACA;AACA;AACA;;AAEA,WAAS2vC,gBAAT,CAA0BzsD,UAA1B,EAAsC;AACpC,QAAImnD,iBAAiBnnD,WAAWmnD,cAAhC;;AAEA,QAAIuF,UAAU1sD,WAAW0sD,OAAX,GAAqB,EAAnC;;AAEA1sD,eAAWqG,SAAX,GAAuB;AACrBgvC,mBAAar1C,UADQ;AAErB86B,aAAO,iBAAU;AAAC9c,eAAO8c,KAAP,GAAgB,KAAKjjB,OAAL,CAAalM,KAAb,CAAmBmvB,KAAnB;AAA2B,OAFxC;;AAIrB6xB,iBAAW,mBAAStI,MAAT,EAAiBt+C,KAAjB,EAAwB;AACjC,YAAI8K,UAAU,KAAKA,OAAnB;AAAA,YAA4BkC,MAAMlC,QAAQwzC,MAAR,CAAlC;AACA,YAAIxzC,QAAQwzC,MAAR,KAAmBt+C,KAAnB,IAA4Bs+C,UAAU,MAA1C,EAAkD;AAAE;AAAQ;AAC5DxzC,gBAAQwzC,MAAR,IAAkBt+C,KAAlB;AACA,YAAIohD,eAAergD,cAAf,CAA8Bu9C,MAA9B,CAAJ,EACE;AAAE5gB,oBAAU,IAAV,EAAgB0jB,eAAe9C,MAAf,CAAhB,EAAwC,IAAxC,EAA8Ct+C,KAA9C,EAAqDgN,GAArD;AAA2D;AAC/DmI,eAAO,IAAP,EAAa,cAAb,EAA6B,IAA7B,EAAmCmpC,MAAnC;AACD,OAXoB;;AAarB/8B,iBAAW,mBAAS+8B,MAAT,EAAiB;AAAC,eAAO,KAAKxzC,OAAL,CAAawzC,MAAb,CAAP;AAA4B,OAbpC;AAcrBuI,cAAQ,kBAAW;AAAC,eAAO,KAAKlhD,GAAZ;AAAgB,OAdf;;AAgBrBmhD,iBAAW,mBAAS1jD,GAAT,EAAc8mB,MAAd,EAAsB;AAC/B,aAAK9P,KAAL,CAAWgiC,OAAX,CAAmBlyB,SAAS,MAAT,GAAkB,SAArC,EAAgDssB,UAAUpzC,GAAV,CAAhD;AACD,OAlBoB;AAmBrB2jD,oBAAc,sBAAS3jD,GAAT,EAAc;AAC1B,YAAI0e,OAAO,KAAK1H,KAAL,CAAWgiC,OAAtB;AACA,aAAK,IAAIv+C,IAAI,CAAb,EAAgBA,IAAIikB,KAAKllB,MAAzB,EAAiC,EAAEiB,CAAnC,EACE;AAAE,cAAIikB,KAAKjkB,CAAL,KAAWuF,GAAX,IAAkB0e,KAAKjkB,CAAL,EAAQqb,IAAR,IAAgB9V,GAAtC,EAA2C;AAC3C0e,iBAAKre,MAAL,CAAY5F,CAAZ,EAAe,CAAf;AACA,mBAAO,IAAP;AACD;AAAE;AACN,OA1BoB;;AA4BrBmpD,kBAAYrpB,SAAS,UAASpkB,IAAT,EAAezO,OAAf,EAAwB;AAC3C,YAAIqO,OAAOI,KAAK+F,KAAL,GAAa/F,IAAb,GAAoBtf,WAAWwf,OAAX,CAAmB,KAAK3O,OAAxB,EAAiCyO,IAAjC,CAA/B;AACA,YAAIJ,KAAKsB,UAAT,EAAqB;AAAE,gBAAM,IAAInR,KAAJ,CAAU,+BAAV,CAAN;AAAkD;AACzEhG,qBAAa,KAAK8W,KAAL,CAAW0D,QAAxB,EACa,EAAC3E,MAAMA,IAAP,EAAa8tC,UAAU1tC,IAAvB,EAA6ByE,QAAQlT,WAAWA,QAAQkT,MAAxD;AACCxa,oBAAWsH,WAAWA,QAAQtH,QAApB,IAAiC,CAD5C,EADb,EAGa,UAAUqa,OAAV,EAAmB;AAAE,iBAAOA,QAAQra,QAAf;AAA0B,SAH5D;AAIA,aAAK4W,KAAL,CAAWoD,OAAX;AACAqgB,kBAAU,IAAV;AACD,OATW,CA5BS;AAsCrBqpB,qBAAevpB,SAAS,UAASpkB,IAAT,EAAe;AACrC,YAAImC,SAAS,IAAb;;AAEA,YAAIoC,WAAW,KAAK1D,KAAL,CAAW0D,QAA1B;AACA,aAAK,IAAIjgB,IAAI,CAAb,EAAgBA,IAAIigB,SAASlhB,MAA7B,EAAqC,EAAEiB,CAAvC,EAA0C;AACxC,cAAIuM,MAAM0T,SAASjgB,CAAT,EAAYopD,QAAtB;AACA,cAAI78C,OAAOmP,IAAP,IAAe,OAAOA,IAAP,IAAe,QAAf,IAA2BnP,IAAI8O,IAAJ,IAAYK,IAA1D,EAAgE;AAC9DuE,qBAASra,MAAT,CAAgB5F,CAAhB,EAAmB,CAAnB;AACA6d,mBAAOtB,KAAP,CAAaoD,OAAb;AACAqgB,sBAAUniB,MAAV;AACA;AACD;AACF;AACF,OAbc,CAtCM;;AAqDrB+/B,kBAAY9d,SAAS,UAASr8B,CAAT,EAAYyD,GAAZ,EAAiBw/C,UAAjB,EAA6B;AAChD,YAAI,OAAOx/C,GAAP,IAAc,QAAd,IAA0B,OAAOA,GAAP,IAAc,QAA5C,EAAsD;AACpD,cAAIA,OAAO,IAAX,EAAiB;AAAEA,kBAAM,KAAK+F,OAAL,CAAam7C,WAAb,GAA2B,OAA3B,GAAqC,MAA3C;AAAmD,WAAtE,MACK;AAAElhD,kBAAMA,MAAM,KAAN,GAAc,UAApB;AAAgC;AACxC;AACD,YAAI4F,OAAO,KAAKhF,GAAZ,EAAiBrE,CAAjB,CAAJ,EAAyB;AAAEm6C,qBAAW,IAAX,EAAiBn6C,CAAjB,EAAoByD,GAApB,EAAyBw/C,UAAzB;AAAsC;AAClE,OANW,CArDS;AA4DrBzJ,uBAAiBnd,SAAS,UAAS2mB,GAAT,EAAc;AACtC,YAAI5oC,SAAS,IAAb;;AAEA,YAAIoW,SAAS,KAAKnsB,GAAL,CAASksB,GAAT,CAAaC,MAA1B;AAAA,YAAkC3zB,MAAM,CAAC,CAAzC;AACA,aAAK,IAAIN,IAAI,CAAb,EAAgBA,IAAIi0B,OAAOl1B,MAA3B,EAAmCiB,GAAnC,EAAwC;AACtC,cAAIG,QAAQ8zB,OAAOj0B,CAAP,CAAZ;AACA,cAAI,CAACG,MAAMg0B,KAAN,EAAL,EAAoB;AAClB,gBAAI7sB,OAAOnH,MAAMmH,IAAN,EAAX;AAAA,gBAAyBC,KAAKpH,MAAMoH,EAAN,EAA9B;AACA,gBAAIlH,QAAQ2E,KAAK8I,GAAL,CAASxN,GAAT,EAAcgH,KAAKyE,IAAnB,CAAZ;AACAzL,kBAAM0E,KAAKC,GAAL,CAAS4Y,OAAOtK,QAAP,EAAT,EAA4BhM,GAAGwE,IAAH,IAAWxE,GAAGjB,EAAH,GAAQ,CAAR,GAAY,CAAvB,CAA5B,IAAyD,CAA/D;AACA,iBAAK,IAAIkL,IAAInR,KAAb,EAAoBmR,IAAIlR,GAAxB,EAA6B,EAAEkR,CAA/B,EACE;AAAEosC,yBAAW//B,MAAX,EAAmBrM,CAAnB,EAAsBi1C,GAAtB;AAA4B;AAChC,gBAAI6C,YAAYzrC,OAAO/V,GAAP,CAAWksB,GAAX,CAAeC,MAA/B;AACA,gBAAI3sB,KAAKhB,EAAL,IAAW,CAAX,IAAgB2tB,OAAOl1B,MAAP,IAAiBuqD,UAAUvqD,MAA3C,IAAqDuqD,UAAUtpD,CAAV,EAAasH,IAAb,GAAoBhB,EAApB,GAAyB,CAAlF,EACE;AAAE4kC,kCAAoBrtB,OAAO/V,GAA3B,EAAgC9H,CAAhC,EAAmC,IAAIqlC,KAAJ,CAAU/9B,IAAV,EAAgBgiD,UAAUtpD,CAAV,EAAauH,EAAb,EAAhB,CAAnC,EAAuEjD,cAAvE;AAAwF;AAC7F,WATD,MASO,IAAInE,MAAMm0B,IAAN,CAAWvoB,IAAX,GAAkBzL,GAAtB,EAA2B;AAChCs9C,uBAAW//B,MAAX,EAAmB1d,MAAMm0B,IAAN,CAAWvoB,IAA9B,EAAoC06C,GAApC,EAAyC,IAAzC;AACAnmD,kBAAMH,MAAMm0B,IAAN,CAAWvoB,IAAjB;AACA,gBAAI/L,KAAK6d,OAAO/V,GAAP,CAAWksB,GAAX,CAAeE,SAAxB,EAAmC;AAAEkG,kCAAoBvc,MAApB;AAA6B;AACnE;AACF;AACF,OArBgB,CA5DI;;AAmFrB;AACA;AACA0rC,kBAAY,oBAAS1kD,GAAT,EAAcoc,OAAd,EAAuB;AACjC,eAAOU,UAAU,IAAV,EAAgB9c,GAAhB,EAAqBoc,OAArB,CAAP;AACD,OAvFoB;;AAyFrBuoC,qBAAe,uBAASz9C,IAAT,EAAekV,OAAf,EAAwB;AACrC,eAAOU,UAAU,IAAV,EAAgBtU,IAAItB,IAAJ,CAAhB,EAA2BkV,OAA3B,EAAoC,IAApC,CAAP;AACD,OA3FoB;;AA6FrBwoC,sBAAgB,wBAAS5kD,GAAT,EAAc;AAC5BA,cAAMkJ,SAAQ,KAAKjG,GAAb,EAAkBjD,GAAlB,CAAN;AACA,YAAIub,SAASI,cAAc,IAAd,EAAoBjV,QAAQ,KAAKzD,GAAb,EAAkBjD,IAAIkH,IAAtB,CAApB,CAAb;AACA,YAAImK,SAAS,CAAb;AAAA,YAAgBtX,QAAQ,CAACwhB,OAAOrhB,MAAP,GAAgB,CAAjB,IAAsB,CAA9C;AAAA,YAAiDuH,KAAKzB,IAAIyB,EAA1D;AACA,YAAImJ,IAAJ;AACA,YAAInJ,MAAM,CAAV,EAAa;AAAEmJ,iBAAO2Q,OAAO,CAAP,CAAP;AAAkB,SAAjC,MACK;AAAE,mBAAS;AACd,gBAAI3Y,MAAOyO,SAAStX,KAAV,IAAoB,CAA9B;AACA,gBAAI,CAAC6I,MAAM2Y,OAAO3Y,MAAM,CAAN,GAAU,CAAjB,CAAN,GAA4B,CAA7B,KAAmCnB,EAAvC,EAA2C;AAAE1H,sBAAQ6I,GAAR;AAAa,aAA1D,MACK,IAAI2Y,OAAO3Y,MAAM,CAAN,GAAU,CAAjB,IAAsBnB,EAA1B,EAA8B;AAAE4P,uBAASzO,MAAM,CAAf;AAAkB,aAAlD,MACA;AAAEgI,qBAAO2Q,OAAO3Y,MAAM,CAAN,GAAU,CAAjB,CAAP,CAA4B;AAAO;AAC3C;AAAE;AACH,YAAI04B,MAAM1wB,OAAOA,KAAK9L,OAAL,CAAa,UAAb,CAAP,GAAkC,CAAC,CAA7C;AACA,eAAOw8B,MAAM,CAAN,GAAU1wB,IAAV,GAAiB0wB,OAAO,CAAP,GAAW,IAAX,GAAkB1wB,KAAK5Q,KAAL,CAAW,CAAX,EAAcshC,MAAM,CAApB,CAA1C;AACD,OA3GoB;;AA6GrBkoB,iBAAW,mBAASxjD,GAAT,EAAc;AACvB,YAAIyW,OAAO,KAAKxT,GAAL,CAASwT,IAApB;AACA,YAAI,CAACA,KAAKoB,SAAV,EAAqB;AAAE,iBAAOpB,IAAP;AAAa;AACpC,eAAOlf,WAAWsgB,SAAX,CAAqBpB,IAArB,EAA2B,KAAKiuC,UAAL,CAAgB1kD,GAAhB,EAAqB0X,KAAhD,EAAuDjB,IAA9D;AACD,OAjHoB;;AAmHrBouC,iBAAW,mBAAS7kD,GAAT,EAAc4K,IAAd,EAAoB;AAC7B,eAAO,KAAKk6C,UAAL,CAAgB9kD,GAAhB,EAAqB4K,IAArB,EAA2B,CAA3B,CAAP;AACD,OArHoB;;AAuHrBk6C,kBAAY,oBAAS9kD,GAAT,EAAc4K,IAAd,EAAoB;AAC9B,YAAIoO,SAAS,IAAb;;AAEA,YAAIvN,QAAQ,EAAZ;AACA,YAAI,CAACw4C,QAAQ5lD,cAAR,CAAuBuM,IAAvB,CAAL,EAAmC;AAAE,iBAAOa,KAAP;AAAc;AACnD,YAAIs5C,OAAOd,QAAQr5C,IAAR,CAAX;AAAA,YAA0B6L,OAAO,KAAK+sC,SAAL,CAAexjD,GAAf,CAAjC;AACA,YAAI,OAAOyW,KAAK7L,IAAL,CAAP,IAAqB,QAAzB,EAAmC;AACjC,cAAIm6C,KAAKtuC,KAAK7L,IAAL,CAAL,CAAJ,EAAsB;AAAEa,kBAAMlL,IAAN,CAAWwkD,KAAKtuC,KAAK7L,IAAL,CAAL,CAAX;AAA8B;AACvD,SAFD,MAEO,IAAI6L,KAAK7L,IAAL,CAAJ,EAAgB;AACrB,eAAK,IAAIzP,IAAI,CAAb,EAAgBA,IAAIsb,KAAK7L,IAAL,EAAW1Q,MAA/B,EAAuCiB,GAAvC,EAA4C;AAC1C,gBAAIyc,MAAMmtC,KAAKtuC,KAAK7L,IAAL,EAAWzP,CAAX,CAAL,CAAV;AACA,gBAAIyc,GAAJ,EAAS;AAAEnM,oBAAMlL,IAAN,CAAWqX,GAAX;AAAiB;AAC7B;AACF,SALM,MAKA,IAAInB,KAAKW,UAAL,IAAmB2tC,KAAKtuC,KAAKW,UAAV,CAAvB,EAA8C;AACnD3L,gBAAMlL,IAAN,CAAWwkD,KAAKtuC,KAAKW,UAAV,CAAX;AACD,SAFM,MAEA,IAAI2tC,KAAKtuC,KAAKD,IAAV,CAAJ,EAAqB;AAC1B/K,gBAAMlL,IAAN,CAAWwkD,KAAKtuC,KAAKD,IAAV,CAAX;AACD;AACD,aAAK,IAAIzO,MAAM,CAAf,EAAkBA,MAAMg9C,KAAKC,OAAL,CAAa9qD,MAArC,EAA6C6N,KAA7C,EAAoD;AAClD,cAAIL,MAAMq9C,KAAKC,OAAL,CAAaj9C,GAAb,CAAV;AACA,cAAIL,IAAIlF,IAAJ,CAASiU,IAAT,EAAeuC,MAAf,KAA0Bla,QAAQ2M,KAAR,EAAe/D,IAAIkQ,GAAnB,KAA2B,CAAC,CAA1D,EACE;AAAEnM,kBAAMlL,IAAN,CAAWmH,IAAIkQ,GAAf;AAAqB;AAC1B;AACD,eAAOnM,KAAP;AACD,OA/IoB;;AAiJrBw5C,qBAAe,uBAAS/9C,IAAT,EAAekV,OAAf,EAAwB;AACrC,YAAInZ,MAAM,KAAKA,GAAf;AACAiE,eAAO8B,SAAS/F,GAAT,EAAciE,QAAQ,IAAR,GAAejE,IAAIyB,KAAJ,GAAYzB,IAAI0D,IAAhB,GAAuB,CAAtC,GAAyCO,IAAvD,CAAP;AACA,eAAO2U,iBAAiB,IAAjB,EAAuB3U,OAAO,CAA9B,EAAiCkV,OAAjC,EAA0C1E,KAAjD;AACD,OArJoB;;AAuJrB6T,oBAAc,sBAAS/vB,KAAT,EAAgBib,IAAhB,EAAsB;AAClC,YAAIzW,GAAJ;AAAA,YAAS1E,QAAQ,KAAK2H,GAAL,CAASksB,GAAT,CAAaJ,OAAb,EAAjB;AACA,YAAIvzB,SAAS,IAAb,EAAmB;AAAEwE,gBAAM1E,MAAMm0B,IAAZ;AAAkB,SAAvC,MACK,IAAI,QAAOj0B,KAAP,yCAAOA,KAAP,MAAgB,QAApB,EAA8B;AAAEwE,gBAAMkJ,SAAQ,KAAKjG,GAAb,EAAkBzH,KAAlB,CAAN;AAAgC,SAAhE,MACA;AAAEwE,gBAAMxE,QAAQF,MAAMmH,IAAN,EAAR,GAAuBnH,MAAMoH,EAAN,EAA7B;AAAyC;AAChD,eAAO6oB,cAAa,IAAb,EAAmBvrB,GAAnB,EAAwByW,QAAQ,MAAhC,CAAP;AACD,OA7JoB;;AA+JrB6U,kBAAY,oBAAStrB,GAAT,EAAcyW,IAAd,EAAoB;AAC9B,eAAO6U,YAAW,IAAX,EAAiBpiB,SAAQ,KAAKjG,GAAb,EAAkBjD,GAAlB,CAAjB,EAAyCyW,QAAQ,MAAjD,CAAP;AACD,OAjKoB;;AAmKrByV,kBAAY,oBAASf,MAAT,EAAiB1U,IAAjB,EAAuB;AACjC0U,iBAASD,gBAAgB,IAAhB,EAAsBC,MAAtB,EAA8B1U,QAAQ,MAAtC,CAAT;AACA,eAAOyV,YAAW,IAAX,EAAiBf,OAAOnW,IAAxB,EAA8BmW,OAAO1D,GAArC,CAAP;AACD,OAtKoB;;AAwKrB7f,oBAAc,sBAASL,MAAT,EAAiBkP,IAAjB,EAAuB;AACnClP,iBAAS2jB,gBAAgB,IAAhB,EAAsB,EAACzD,KAAKlgB,MAAN,EAAcyN,MAAM,CAApB,EAAtB,EAA8CyB,QAAQ,MAAtD,EAA8DgR,GAAvE;AACA,eAAO7f,cAAa,KAAK3E,GAAlB,EAAuBsE,SAAS,KAAK6H,OAAL,CAAapK,UAA7C,CAAP;AACD,OA3KoB;AA4KrB8J,oBAAc,sBAAS5H,IAAT,EAAeuP,IAAf,EAAqBqU,cAArB,EAAqC;AACjD,YAAIrvB,MAAM,KAAV;AAAA,YAAiBsT,OAAjB;AACA,YAAI,OAAO7H,IAAP,IAAe,QAAnB,EAA6B;AAC3B,cAAIiC,OAAO,KAAKlG,GAAL,CAASyB,KAAT,GAAiB,KAAKzB,GAAL,CAAS0D,IAA1B,GAAiC,CAA5C;AACA,cAAIO,OAAO,KAAKjE,GAAL,CAASyB,KAApB,EAA2B;AAAEwC,mBAAO,KAAKjE,GAAL,CAASyB,KAAhB;AAAuB,WAApD,MACK,IAAIwC,OAAOiC,IAAX,EAAiB;AAAEjC,mBAAOiC,IAAP,CAAa1N,MAAM,IAAN;AAAY;AACjDsT,oBAAUrI,QAAQ,KAAKzD,GAAb,EAAkBiE,IAAlB,CAAV;AACD,SALD,MAKO;AACL6H,oBAAU7H,IAAV;AACD;AACD,eAAO2jB,gBAAgB,IAAhB,EAAsB9b,OAAtB,EAA+B,EAAC0Y,KAAK,CAAN,EAASzS,MAAM,CAAf,EAA/B,EAAkDyB,QAAQ,MAA1D,EAAkEqU,kBAAkBrvB,GAApF,EAAyFgsB,GAAzF,IACJhsB,MAAM,KAAKwH,GAAL,CAASsE,MAAT,GAAkBuH,cAAaC,OAAb,CAAxB,GAAgD,CAD5C,CAAP;AAED,OAxLoB;;AA0LrBm2C,yBAAmB,6BAAW;AAAE,eAAOx3B,WAAW,KAAKte,OAAhB,CAAP;AAAiC,OA1L5C;AA2LrB+1C,wBAAkB,4BAAW;AAAE,eAAO97B,UAAU,KAAKja,OAAf,CAAP;AAAgC,OA3L1C;;AA6LrBg2C,mBAAa,uBAAW;AAAE,eAAO,EAAC3iD,MAAM,KAAK2M,OAAL,CAAa5K,QAApB,EAA8B9B,IAAI,KAAK0M,OAAL,CAAa3K,MAA/C,EAAP;AAA8D,OA7LnE;;AA+LrB4gD,iBAAW,mBAASrlD,GAAT,EAAcpG,IAAd,EAAoB8F,MAApB,EAA4Bo3B,IAA5B,EAAkCC,KAAlC,EAAyC;AAClD,YAAI3nB,UAAU,KAAKA,OAAnB;AACApP,cAAMurB,cAAa,IAAb,EAAmBriB,SAAQ,KAAKjG,GAAb,EAAkBjD,GAAlB,CAAnB,CAAN;AACA,YAAIynB,MAAMznB,IAAIwnB,MAAd;AAAA,YAAsBxS,OAAOhV,IAAIgV,IAAjC;AACApb,aAAKmB,KAAL,CAAW6qB,QAAX,GAAsB,UAAtB;AACAhsB,aAAKyB,YAAL,CAAkB,kBAAlB,EAAsC,MAAtC;AACA,aAAK+T,OAAL,CAAalM,KAAb,CAAmB2d,aAAnB,CAAiCjnB,IAAjC;AACAwV,gBAAQtL,KAAR,CAAcnJ,WAAd,CAA0Bf,IAA1B;AACA,YAAIk9B,QAAQ,MAAZ,EAAoB;AAClBrP,gBAAMznB,IAAIynB,GAAV;AACD,SAFD,MAEO,IAAIqP,QAAQ,OAAR,IAAmBA,QAAQ,MAA/B,EAAuC;AAC5C,cAAIwuB,SAASnlD,KAAK8I,GAAL,CAASmG,QAAQhL,OAAR,CAAgB2iB,YAAzB,EAAuC,KAAK9jB,GAAL,CAASsE,MAAhD,CAAb;AAAA,cACAg+C,SAASplD,KAAK8I,GAAL,CAASmG,QAAQtL,KAAR,CAAckiB,WAAvB,EAAoC5W,QAAQzL,SAAR,CAAkBqiB,WAAtD,CADT;AAEA;AACA,cAAI,CAAC8Q,QAAQ,OAAR,IAAmB92B,IAAIwnB,MAAJ,GAAa5tB,KAAK4a,YAAlB,GAAiC8wC,MAArD,KAAgEtlD,IAAIynB,GAAJ,GAAU7tB,KAAK4a,YAAnF,EACE;AAAEiT,kBAAMznB,IAAIynB,GAAJ,GAAU7tB,KAAK4a,YAArB;AAAmC,WADvC,MAEK,IAAIxU,IAAIwnB,MAAJ,GAAa5tB,KAAK4a,YAAlB,IAAkC8wC,MAAtC,EACH;AAAE79B,kBAAMznB,IAAIwnB,MAAV;AAAkB;AACtB,cAAIxS,OAAOpb,KAAK6a,WAAZ,GAA0B8wC,MAA9B,EACE;AAAEvwC,mBAAOuwC,SAAS3rD,KAAK6a,WAArB;AAAkC;AACvC;AACD7a,aAAKmB,KAAL,CAAW0sB,GAAX,GAAiBA,MAAM,IAAvB;AACA7tB,aAAKmB,KAAL,CAAWia,IAAX,GAAkBpb,KAAKmB,KAAL,CAAWka,KAAX,GAAmB,EAArC;AACA,YAAI8hB,SAAS,OAAb,EAAsB;AACpB/hB,iBAAO5F,QAAQtL,KAAR,CAAckiB,WAAd,GAA4BpsB,KAAK6a,WAAxC;AACA7a,eAAKmB,KAAL,CAAWka,KAAX,GAAmB,KAAnB;AACD,SAHD,MAGO;AACL,cAAI8hB,SAAS,MAAb,EAAqB;AAAE/hB,mBAAO,CAAP;AAAU,WAAjC,MACK,IAAI+hB,SAAS,QAAb,EAAuB;AAAE/hB,mBAAO,CAAC5F,QAAQtL,KAAR,CAAckiB,WAAd,GAA4BpsB,KAAK6a,WAAlC,IAAiD,CAAxD;AAA2D;AACzF7a,eAAKmB,KAAL,CAAWia,IAAX,GAAkBA,OAAO,IAAzB;AACD;AACD,YAAItV,MAAJ,EACE;AAAEs0B,yBAAe,IAAf,EAAqB,EAAChf,MAAMA,IAAP,EAAayS,KAAKA,GAAlB,EAAuBxS,OAAOD,OAAOpb,KAAK6a,WAA1C,EAAuD+S,QAAQC,MAAM7tB,KAAK4a,YAA1E,EAArB;AAA+G;AACpH,OAhOoB;;AAkOrBgxC,wBAAkBvqB,SAASof,SAAT,CAlOG;AAmOrBoL,yBAAmBxqB,SAASyf,UAAT,CAnOE;AAoOrBgL,sBAAgBjL,OApOK;AAqOrBkL,0BAAoB1qB,SAASkgB,WAAT,CArOC;;AAuOrBxC,mBAAa,qBAASpF,GAAT,EAAc;AACzB,YAAIoC,SAASt3C,cAAT,CAAwBk1C,GAAxB,CAAJ,EACE;AAAE,iBAAOoC,SAASpC,GAAT,EAAc11C,IAAd,CAAmB,IAAnB,EAAyB,IAAzB,CAAP;AAAuC;AAC5C,OA1OoB;;AA4OrBolD,uBAAiBhoB,SAAS,UAAS7zB,IAAT,EAAe;AAAE67C,wBAAgB,IAAhB,EAAsB77C,IAAtB;AAA6B,OAAvD,CA5OI;;AA8OrBw+C,gBAAU,kBAASnjD,IAAT,EAAeojD,MAAf,EAAuBhK,IAAvB,EAA6B7G,QAA7B,EAAuC;AAC/C,YAAIh8B,SAAS,IAAb;;AAEA,YAAI3W,MAAM,CAAV;AACA,YAAIwjD,SAAS,CAAb,EAAgB;AAAExjD,gBAAM,CAAC,CAAP,CAAUwjD,SAAS,CAACA,MAAV;AAAkB;AAC9C,YAAIn+C,MAAMwB,SAAQ,KAAKjG,GAAb,EAAkBR,IAAlB,CAAV;AACA,aAAK,IAAItH,IAAI,CAAb,EAAgBA,IAAI0qD,MAApB,EAA4B,EAAE1qD,CAA9B,EAAiC;AAC/BuM,gBAAMk+C,UAAS5sC,OAAO/V,GAAhB,EAAqByE,GAArB,EAA0BrF,GAA1B,EAA+Bw5C,IAA/B,EAAqC7G,QAArC,CAAN;AACA,cAAIttC,IAAIo+C,OAAR,EAAiB;AAAE;AAAO;AAC3B;AACD,eAAOp+C,GAAP;AACD,OAzPoB;;AA2PrB0vC,aAAOnc,SAAS,UAAS54B,GAAT,EAAcw5C,IAAd,EAAoB;AAClC,YAAI7iC,SAAS,IAAb;;AAEA,aAAKw0B,kBAAL,CAAwB,UAAUlyC,KAAV,EAAiB;AACvC,cAAI0d,OAAO5J,OAAP,CAAe9I,KAAf,IAAwB0S,OAAO/V,GAAP,CAAWw6B,MAAnC,IAA6CniC,MAAMg0B,KAAN,EAAjD,EACE;AAAE,mBAAOs2B,UAAS5sC,OAAO/V,GAAhB,EAAqB3H,MAAMm0B,IAA3B,EAAiCptB,GAAjC,EAAsCw5C,IAAtC,EAA4C7iC,OAAO5Q,OAAP,CAAe29C,eAA3D,CAAP;AAAoF,WADxF,MAGE;AAAE,mBAAO1jD,MAAM,CAAN,GAAU/G,MAAMmH,IAAN,EAAV,GAAyBnH,MAAMoH,EAAN,EAAhC;AAA4C;AACjD,SALD,EAKG7C,QALH;AAMD,OATM,CA3Pc;;AAsQrBg4C,eAAS5c,SAAS,UAAS54B,GAAT,EAAcw5C,IAAd,EAAoB;AACpC,YAAI1sB,MAAM,KAAKlsB,GAAL,CAASksB,GAAnB;AAAA,YAAwBlsB,MAAM,KAAKA,GAAnC;AACA,YAAIksB,IAAIsR,iBAAJ,EAAJ,EACE;AAAEx9B,cAAI2qC,gBAAJ,CAAqB,EAArB,EAAyB,IAAzB,EAA+B,SAA/B;AAA2C,SAD/C,MAGE;AAAE4G,8BAAoB,IAApB,EAA0B,UAAUl5C,KAAV,EAAiB;AAC3C,gBAAIuwB,QAAQ+5B,UAAS3iD,GAAT,EAAc3H,MAAMm0B,IAApB,EAA0BptB,GAA1B,EAA+Bw5C,IAA/B,EAAqC,KAArC,CAAZ;AACA,mBAAOx5C,MAAM,CAAN,GAAU,EAACI,MAAMopB,KAAP,EAAcnpB,IAAIpH,MAAMm0B,IAAxB,EAAV,GAA0C,EAAChtB,MAAMnH,MAAMm0B,IAAb,EAAmB/sB,IAAImpB,KAAvB,EAAjD;AACD,WAHC;AAGE;AACP,OATQ,CAtQY;;AAiRrBm6B,gBAAU,kBAASvjD,IAAT,EAAeojD,MAAf,EAAuBhK,IAAvB,EAA6BoK,UAA7B,EAAyC;AACjD,YAAIjtC,SAAS,IAAb;;AAEA,YAAI3W,MAAM,CAAV;AAAA,YAAawG,IAAIo9C,UAAjB;AACA,YAAIJ,SAAS,CAAb,EAAgB;AAAExjD,gBAAM,CAAC,CAAP,CAAUwjD,SAAS,CAACA,MAAV;AAAkB;AAC9C,YAAIn+C,MAAMwB,SAAQ,KAAKjG,GAAb,EAAkBR,IAAlB,CAAV;AACA,aAAK,IAAItH,IAAI,CAAb,EAAgBA,IAAI0qD,MAApB,EAA4B,EAAE1qD,CAA9B,EAAiC;AAC/B,cAAIgwB,SAASI,cAAavS,MAAb,EAAqBtR,GAArB,EAA0B,KAA1B,CAAb;AACA,cAAImB,KAAK,IAAT,EAAe;AAAEA,gBAAIsiB,OAAOnW,IAAX;AAAiB,WAAlC,MACK;AAAEmW,mBAAOnW,IAAP,GAAcnM,CAAd;AAAiB;AACxBnB,gBAAMs+C,UAAShtC,MAAT,EAAiBmS,MAAjB,EAAyB9oB,GAAzB,EAA8Bw5C,IAA9B,CAAN;AACA,cAAIn0C,IAAIo+C,OAAR,EAAiB;AAAE;AAAO;AAC3B;AACD,eAAOp+C,GAAP;AACD,OA/RoB;;AAiSrBqvC,aAAO9b,SAAS,UAAS54B,GAAT,EAAcw5C,IAAd,EAAoB;AAClC,YAAI7iC,SAAS,IAAb;;AAEA,YAAI/V,MAAM,KAAKA,GAAf;AAAA,YAAoBijD,QAAQ,EAA5B;AACA,YAAIhqD,WAAW,CAAC,KAAKkT,OAAL,CAAa9I,KAAd,IAAuB,CAACrD,IAAIw6B,MAA5B,IAAsCx6B,IAAIksB,GAAJ,CAAQsR,iBAAR,EAArD;AACAx9B,YAAIuqC,kBAAJ,CAAuB,UAAUlyC,KAAV,EAAiB;AACtC,cAAIY,QAAJ,EACE;AAAE,mBAAOmG,MAAM,CAAN,GAAU/G,MAAMmH,IAAN,EAAV,GAAyBnH,MAAMoH,EAAN,EAAhC;AAA4C;AAChD,cAAIyjD,UAAU56B,cAAavS,MAAb,EAAqB1d,MAAMm0B,IAA3B,EAAiC,KAAjC,CAAd;AACA,cAAIn0B,MAAM2qD,UAAN,IAAoB,IAAxB,EAA8B;AAAEE,oBAAQnxC,IAAR,GAAe1Z,MAAM2qD,UAArB;AAAiC;AACjEC,gBAAM3lD,IAAN,CAAW4lD,QAAQnxC,IAAnB;AACA,cAAIhV,MAAMgmD,UAAShtC,MAAT,EAAiBmtC,OAAjB,EAA0B9jD,GAA1B,EAA+Bw5C,IAA/B,CAAV;AACA,cAAIA,QAAQ,MAAR,IAAkBvgD,SAAS2H,IAAIksB,GAAJ,CAAQJ,OAAR,EAA/B,EACE;AAAEsG,2BAAerc,MAAf,EAAuBsS,YAAWtS,MAAX,EAAmBhZ,GAAnB,EAAwB,KAAxB,EAA+BynB,GAA/B,GAAqC0+B,QAAQ1+B,GAApE;AAA0E;AAC9E,iBAAOznB,GAAP;AACD,SAVD,EAUGH,QAVH;AAWA,YAAIqmD,MAAMhsD,MAAV,EAAkB;AAAE,eAAK,IAAIiB,IAAI,CAAb,EAAgBA,IAAI8H,IAAIksB,GAAJ,CAAQC,MAAR,CAAel1B,MAAnC,EAA2CiB,GAA3C,EAClB;AAAE8H,gBAAIksB,GAAJ,CAAQC,MAAR,CAAej0B,CAAf,EAAkB8qD,UAAlB,GAA+BC,MAAM/qD,CAAN,CAA/B;AAAyC;AAAE;AAChD,OAlBM,CAjSc;;AAqTrB;AACAwhD,kBAAY,oBAAS38C,GAAT,EAAc;AACxB,YAAIiD,MAAM,KAAKA,GAAf;AAAA,YAAoBiE,OAAOR,QAAQzD,GAAR,EAAajD,IAAIkH,IAAjB,EAAuBE,IAAlD;AACA,YAAI5L,QAAQwE,IAAIyB,EAAhB;AAAA,YAAoBhG,MAAMuE,IAAIyB,EAA9B;AACA,YAAIyF,IAAJ,EAAU;AACR,cAAIrF,SAAS,KAAKgjD,SAAL,CAAe7kD,GAAf,EAAoB,WAApB,CAAb;AACA,cAAI,CAACA,IAAIyI,MAAJ,IAAc,QAAd,IAA0BhN,OAAOyL,KAAKhN,MAAvC,KAAkDsB,KAAtD,EAA6D;AAAE,cAAEA,KAAF;AAAU,WAAzE,MAA+E;AAAE,cAAEC,GAAF;AAAO;AACxF,cAAI2qD,YAAYl/C,KAAK5E,MAAL,CAAY9G,KAAZ,CAAhB;AACA,cAAI6qD,QAAQzkD,WAAWwkD,SAAX,EAAsBvkD,MAAtB,IACR,UAAUJ,EAAV,EAAc;AAAE,mBAAOG,WAAWH,EAAX,EAAeI,MAAf,CAAP;AAAgC,WADxC,GAER,KAAKjK,IAAL,CAAUwuD,SAAV,IAAuB,UAAU3kD,EAAV,EAAc;AAAE,mBAAO,MAAK7J,IAAL,CAAU6J,EAAV;AAAP;AAAuB,WAA9D,GACA,UAAUA,EAAV,EAAc;AAAE,mBAAQ,CAAC,KAAK7J,IAAL,CAAU6J,EAAV,CAAD,IAAkB,CAACG,WAAWH,EAAX,CAA3B;AAA6C,WAHjE;AAIA,iBAAOjG,QAAQ,CAAR,IAAa6qD,MAAMn/C,KAAK5E,MAAL,CAAY9G,QAAQ,CAApB,CAAN,CAApB,EAAmD;AAAE,cAAEA,KAAF;AAAS;AAC9D,iBAAOC,MAAMyL,KAAKhN,MAAX,IAAqBmsD,MAAMn/C,KAAK5E,MAAL,CAAY7G,GAAZ,CAAN,CAA5B,EAAqD;AAAE,cAAEA,GAAF;AAAO;AAC/D;AACD,eAAO,IAAI+kC,KAAJ,CAAUh4B,IAAIxI,IAAIkH,IAAR,EAAc1L,KAAd,CAAV,EAAgCgN,IAAIxI,IAAIkH,IAAR,EAAczL,GAAd,CAAhC,CAAP;AACD,OArUoB;;AAuUrBw9C,uBAAiB,yBAAS37C,KAAT,EAAgB;AAC/B,YAAIA,SAAS,IAAT,IAAiBA,SAAS,KAAKoa,KAAL,CAAWvZ,SAAzC,EAAoD;AAAE;AAAQ;AAC9D,YAAI,KAAKuZ,KAAL,CAAWvZ,SAAX,GAAuB,CAAC,KAAKuZ,KAAL,CAAWvZ,SAAvC,EACE;AAAEvB,mBAAS,KAAKwS,OAAL,CAAa5L,SAAtB,EAAiC,sBAAjC;AAA0D,SAD9D,MAGE;AAAE7J,kBAAQ,KAAKyV,OAAL,CAAa5L,SAArB,EAAgC,sBAAhC;AAAyD;;AAE7DiP,eAAO,IAAP,EAAa,iBAAb,EAAgC,IAAhC,EAAsC,KAAKiF,KAAL,CAAWvZ,SAAjD;AACD,OA/UoB;AAgVrBm/B,gBAAU,oBAAW;AAAE,eAAO,KAAKluB,OAAL,CAAalM,KAAb,CAAmB08C,QAAnB,MAAiCnjD,WAAxC;AAAqD,OAhVvD;AAiVrBk0C,kBAAY,sBAAW;AAAE,eAAO,CAAC,EAAE,KAAKvoC,OAAL,CAAakE,QAAb,IAAyB,KAAKrJ,GAAL,CAASukC,QAApC,CAAR;AAAuD,OAjV3D;;AAmVrB8e,gBAAUrrB,SAAS,UAAUpyB,CAAV,EAAasjB,CAAb,EAAgB;AAAEwJ,uBAAe,IAAf,EAAqB9sB,CAArB,EAAwBsjB,CAAxB;AAA4B,OAAvD,CAnVW;AAoVrBo6B,qBAAe,yBAAW;AACxB,YAAIpiD,WAAW,KAAKiL,OAAL,CAAajL,QAA5B;AACA,eAAO,EAAC6Q,MAAM7Q,SAASomB,UAAhB,EAA4B9C,KAAKtjB,SAASwmB,SAA1C;AACCpjB,kBAAQpD,SAASgyB,YAAT,GAAwBvP,UAAU,IAAV,CAAxB,GAA0C,KAAKxX,OAAL,CAAa/J,SADhE;AAECmgB,iBAAOrhB,SAASmyB,WAAT,GAAuB1P,UAAU,IAAV,CAAvB,GAAyC,KAAKxX,OAAL,CAAa9J,QAF9D;AAGCyhB,wBAAcD,cAAc,IAAd,CAHf,EAGoCd,aAAaa,aAAa,IAAb,CAHjD,EAAP;AAID,OA1VoB;;AA4VrBmN,sBAAgBiH,SAAS,UAAS3/B,KAAT,EAAgB44B,MAAhB,EAAwB;AAC/C,YAAI54B,SAAS,IAAb,EAAmB;AACjBA,kBAAQ,EAACmH,MAAM,KAAKQ,GAAL,CAASksB,GAAT,CAAaJ,OAAb,GAAuBU,IAA9B,EAAoC/sB,IAAI,IAAxC,EAAR;AACA,cAAIwxB,UAAU,IAAd,EAAoB;AAAEA,qBAAS,KAAK9rB,OAAL,CAAastB,kBAAtB;AAA0C;AACjE,SAHD,MAGO,IAAI,OAAOp6B,KAAP,IAAgB,QAApB,EAA8B;AACnCA,kBAAQ,EAACmH,MAAM+F,IAAIlN,KAAJ,EAAW,CAAX,CAAP,EAAsBoH,IAAI,IAA1B,EAAR;AACD,SAFM,MAEA,IAAIpH,MAAMmH,IAAN,IAAc,IAAlB,EAAwB;AAC7BnH,kBAAQ,EAACmH,MAAMnH,KAAP,EAAcoH,IAAI,IAAlB,EAAR;AACD;AACD,YAAI,CAACpH,MAAMoH,EAAX,EAAe;AAAEpH,gBAAMoH,EAAN,GAAWpH,MAAMmH,IAAjB;AAAuB;AACxCnH,cAAM44B,MAAN,GAAeA,UAAU,CAAzB;;AAEA,YAAI54B,MAAMmH,IAAN,CAAWyE,IAAX,IAAmB,IAAvB,EAA6B;AAC3B0uB,wBAAc,IAAd,EAAoBt6B,KAApB;AACD,SAFD,MAEO;AACLu6B,8BAAoB,IAApB,EAA0Bv6B,MAAMmH,IAAhC,EAAsCnH,MAAMoH,EAA5C,EAAgDpH,MAAM44B,MAAtD;AACD;AACF,OAjBe,CA5VK;;AA+WrBye,eAAS1X,SAAS,UAASzV,KAAT,EAAgBje,MAAhB,EAAwB;AACxC,YAAIyR,SAAS,IAAb;;AAEA,YAAIwtC,YAAY,SAAZA,SAAY,CAAU5uC,GAAV,EAAe;AAAE,iBAAO,OAAOA,GAAP,IAAc,QAAd,IAA0B,QAAQhgB,IAAR,CAAayQ,OAAOuP,GAAP,CAAb,CAA1B,GAAsDA,MAAM,IAA5D,GAAmEA,GAA1E;AAAgF,SAAjH;AACA,YAAI4N,SAAS,IAAb,EAAmB;AAAE,eAAKpW,OAAL,CAAahL,OAAb,CAAqBrJ,KAArB,CAA2ByqB,KAA3B,GAAmCghC,UAAUhhC,KAAV,CAAnC;AAAqD;AAC1E,YAAIje,UAAU,IAAd,EAAoB;AAAE,eAAK6H,OAAL,CAAahL,OAAb,CAAqBrJ,KAArB,CAA2BwM,MAA3B,GAAoCi/C,UAAUj/C,MAAV,CAApC;AAAuD;AAC7E,YAAI,KAAKa,OAAL,CAAa+e,YAAjB,EAA+B;AAAE8C,oCAA0B,IAA1B;AAAiC;AAClE,YAAIxiB,SAAS,KAAK2H,OAAL,CAAa5K,QAA1B;AACA,aAAKvB,GAAL,CAASkE,IAAT,CAAcM,MAAd,EAAsB,KAAK2H,OAAL,CAAa3K,MAAnC,EAA2C,UAAUyC,IAAV,EAAgB;AACzD,cAAIA,KAAKge,OAAT,EAAkB;AAAE,iBAAK,IAAI/pB,IAAI,CAAb,EAAgBA,IAAI+L,KAAKge,OAAL,CAAahrB,MAAjC,EAAyCiB,GAAzC,EAClB;AAAE,kBAAI+L,KAAKge,OAAL,CAAa/pB,CAAb,EAAgBoqB,SAApB,EAA+B;AAAEoW,8BAAc3iB,MAAd,EAAsBvR,MAAtB,EAA8B,QAA9B,EAAyC;AAAO;AAAE;AAAE;AACzF,YAAEA,MAAF;AACD,SAJD;AAKA,aAAK0L,KAAL,CAAWgV,WAAX,GAAyB,IAAzB;AACA1V,eAAO,IAAP,EAAa,SAAb,EAAwB,IAAxB;AACD,OAfQ,CA/WY;;AAgYrBuoB,iBAAW,mBAASv9B,CAAT,EAAW;AAAC,eAAOs9B,QAAQ,IAAR,EAAct9B,CAAd,CAAP;AAAwB,OAhY1B;AAiYrBw7B,sBAAgB,0BAAU;AAAC,eAAOA,gBAAe,IAAf,CAAP;AAA4B,OAjYlC;AAkYrBO,oBAAc,wBAAU;AAAC,eAAOA,cAAa,IAAb,CAAP;AAA0B,OAlY9B;;AAoYrBwlB,eAAS/jB,SAAS,YAAW;AAC3B,YAAIgP,YAAY,KAAK76B,OAAL,CAAavJ,gBAA7B;AACAs1B,kBAAU,IAAV;AACA,aAAKhoB,KAAL,CAAWgV,WAAX,GAAyB,IAAzB;AACAgC,oBAAY,IAAZ;AACAwL,uBAAe,IAAf,EAAqB,KAAK1yB,GAAL,CAASsnB,UAA9B,EAA0C,KAAKtnB,GAAL,CAAS0nB,SAAnD;AACAgJ,0BAAkB,IAAlB;AACA,YAAIsW,aAAa,IAAb,IAAqB9pC,KAAKiW,GAAL,CAAS6zB,YAAYvc,WAAW,KAAKte,OAAhB,CAArB,IAAiD,EAA1E,EACE;AAAE8e,8BAAoB,IAApB;AAA2B;AAC/Bzb,eAAO,IAAP,EAAa,SAAb,EAAwB,IAAxB;AACD,OAVQ,CApYY;;AAgZrBg0C,eAASxrB,SAAS,UAASh4B,GAAT,EAAc;AAC9B,YAAIqH,MAAM,KAAKrH,GAAf;AACAqH,YAAI6E,EAAJ,GAAS,IAAT;AACA6zB,kBAAU,IAAV,EAAgB//B,GAAhB;AACAknB,oBAAY,IAAZ;AACA,aAAK/a,OAAL,CAAalM,KAAb,CAAmBwvB,KAAnB;AACAiD,uBAAe,IAAf,EAAqB1yB,IAAIsnB,UAAzB,EAAqCtnB,IAAI0nB,SAAzC;AACA,aAAKxX,KAAL,CAAW+iB,WAAX,GAAyB,IAAzB;AACAzT,oBAAY,IAAZ,EAAkB,SAAlB,EAA6B,IAA7B,EAAmCnY,GAAnC;AACA,eAAOA,GAAP;AACD,OAVQ,CAhZY;;AA4ZrB20C,qBAAe,yBAAU;AAAC,eAAO,KAAK7vC,OAAL,CAAalM,KAAb,CAAmB08C,QAAnB,EAAP;AAAqC,OA5Z1C;AA6ZrB8G,yBAAmB,6BAAU;AAAC,eAAO,KAAKt3C,OAAL,CAAahL,OAApB;AAA4B,OA7ZrC;AA8ZrBuiD,0BAAoB,8BAAU;AAAC,eAAO,KAAKv3C,OAAL,CAAajL,QAApB;AAA6B,OA9ZvC;AA+ZrByiD,wBAAkB,4BAAU;AAAC,eAAO,KAAKx3C,OAAL,CAAanL,OAApB;AAA4B;AA/ZpC,KAAvB;AAiaAqP,eAAW/b,UAAX;;AAEAA,eAAWsvD,cAAX,GAA4B,UAASj8C,IAAT,EAAe4L,IAAf,EAAqBlZ,KAArB,EAA4B;AACtD,UAAI,CAAC2mD,QAAQ5lD,cAAR,CAAuBuM,IAAvB,CAAL,EAAmC;AAAEq5C,gBAAQr5C,IAAR,IAAgBrT,WAAWqT,IAAX,IAAmB,EAACo6C,SAAS,EAAV,EAAnC;AAAkD;AACvFf,cAAQr5C,IAAR,EAAc4L,IAAd,IAAsBlZ,KAAtB;AACD,KAHD;AAIA/F,eAAWuvD,oBAAX,GAAkC,UAASl8C,IAAT,EAAe4L,IAAf,EAAqBuwC,SAArB,EAAgCzpD,KAAhC,EAAuC;AACvE/F,iBAAWsvD,cAAX,CAA0Bj8C,IAA1B,EAAgC4L,IAAhC,EAAsClZ,KAAtC;AACA2mD,cAAQr5C,IAAR,EAAco6C,OAAd,CAAsBzkD,IAAtB,CAA2B,EAACiC,MAAMukD,SAAP,EAAkBnvC,KAAKta,KAAvB,EAA3B;AACD,KAHD;AAID;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAASsoD,SAAT,CAAkB3iD,GAAlB,EAAuBjD,GAAvB,EAA4BqC,GAA5B,EAAiCw5C,IAAjC,EAAuC7G,QAAvC,EAAiD;AAC/C,QAAI7N,SAASnnC,GAAb;AACA,QAAIgnD,UAAU3kD,GAAd;AACA,QAAI0M,UAAUrI,QAAQzD,GAAR,EAAajD,IAAIkH,IAAjB,CAAd;AACA,aAAS+/C,YAAT,GAAwB;AACtB,UAAI/+C,IAAIlI,IAAIkH,IAAJ,GAAW7E,GAAnB;AACA,UAAI6F,IAAIjF,IAAIyB,KAAR,IAAiBwD,KAAKjF,IAAIyB,KAAJ,GAAYzB,IAAI0D,IAA1C,EAAgD;AAAE,eAAO,KAAP;AAAc;AAChE3G,YAAM,IAAIwI,GAAJ,CAAQN,CAAR,EAAWlI,IAAIyB,EAAf,EAAmBzB,IAAIyI,MAAvB,CAAN;AACA,aAAOsG,UAAUrI,QAAQzD,GAAR,EAAaiF,CAAb,CAAjB;AACD;AACD,aAASg/C,QAAT,CAAkBC,WAAlB,EAA+B;AAC7B,UAAIxuC,IAAJ;AACA,UAAIq8B,QAAJ,EAAc;AACZr8B,eAAOw8B,aAAalyC,IAAIkM,EAAjB,EAAqBJ,OAArB,EAA8B/O,GAA9B,EAAmCqC,GAAnC,CAAP;AACD,OAFD,MAEO;AACLsW,eAAOm8B,cAAc/lC,OAAd,EAAuB/O,GAAvB,EAA4BqC,GAA5B,CAAP;AACD;AACD,UAAIsW,QAAQ,IAAZ,EAAkB;AAChB,YAAI,CAACwuC,WAAD,IAAgBF,cAApB,EACE;AAAEjnD,gBAAM+0C,UAAUC,QAAV,EAAoB/xC,IAAIkM,EAAxB,EAA4BJ,OAA5B,EAAqC/O,IAAIkH,IAAzC,EAA+C7E,GAA/C,CAAN;AAA2D,SAD/D,MAGE;AAAE,iBAAO,KAAP;AAAc;AACnB,OALD,MAKO;AACLrC,cAAM2Y,IAAN;AACD;AACD,aAAO,IAAP;AACD;;AAED,QAAIkjC,QAAQ,MAAZ,EAAoB;AAClBqL;AACD,KAFD,MAEO,IAAIrL,QAAQ,QAAZ,EAAsB;AAC3BqL,eAAS,IAAT;AACD,KAFM,MAEA,IAAIrL,QAAQ,MAAR,IAAkBA,QAAQ,OAA9B,EAAuC;AAC5C,UAAIuL,UAAU,IAAd;AAAA,UAAoBjlC,QAAQ05B,QAAQ,OAApC;AACA,UAAIh6C,SAASoB,IAAIkM,EAAJ,IAAUlM,IAAIkM,EAAJ,CAAO01C,SAAP,CAAiB7kD,GAAjB,EAAsB,WAAtB,CAAvB;AACA,WAAK,IAAI0E,QAAQ,IAAjB,GAAwBA,QAAQ,KAAhC,EAAuC;AACrC,YAAIrC,MAAM,CAAN,IAAW,CAAC6kD,SAAS,CAACxiD,KAAV,CAAhB,EAAkC;AAAE;AAAO;AAC3C,YAAIgD,MAAMqH,QAAQ3H,IAAR,CAAa9E,MAAb,CAAoBtC,IAAIyB,EAAxB,KAA+B,IAAzC;AACA,YAAImJ,OAAOhJ,WAAW8F,GAAX,EAAgB7F,MAAhB,IAA0B,GAA1B,GACPsgB,SAASza,OAAO,IAAhB,GAAuB,GAAvB,GACA,CAACya,KAAD,IAAU,KAAKvqB,IAAL,CAAU8P,GAAV,CAAV,GAA2B,IAA3B,GACA,GAHJ;AAIA,YAAIya,SAAS,CAACzd,KAAV,IAAmB,CAACkG,IAAxB,EAA8B;AAAEA,iBAAO,GAAP;AAAY;AAC5C,YAAIw8C,WAAWA,WAAWx8C,IAA1B,EAAgC;AAC9B,cAAIvI,MAAM,CAAV,EAAa;AAACA,kBAAM,CAAN,CAAS6kD,WAAYlnD,IAAIyI,MAAJ,GAAa,OAAb;AAAqB;AACxD;AACD;;AAED,YAAImC,IAAJ,EAAU;AAAEw8C,oBAAUx8C,IAAV;AAAgB;AAC5B,YAAIvI,MAAM,CAAN,IAAW,CAAC6kD,SAAS,CAACxiD,KAAV,CAAhB,EAAkC;AAAE;AAAO;AAC5C;AACF;AACD,QAAIyQ,SAAS6xB,WAAW/jC,GAAX,EAAgBjD,GAAhB,EAAqBmnC,MAArB,EAA6B6f,OAA7B,EAAsC,IAAtC,CAAb;AACA,QAAIr+C,eAAew+B,MAAf,EAAuBhyB,MAAvB,CAAJ,EAAoC;AAAEA,aAAO2wC,OAAP,GAAiB,IAAjB;AAAuB;AAC7D,WAAO3wC,MAAP;AACD;;AAED;AACA;AACA;AACA,WAAS6wC,SAAT,CAAkB72C,EAAlB,EAAsBnP,GAAtB,EAA2BqC,GAA3B,EAAgCw5C,IAAhC,EAAsC;AACpC,QAAI54C,MAAMkM,GAAGlM,GAAb;AAAA,QAAkB4F,IAAI7I,IAAIgV,IAA1B;AAAA,QAAgCmX,CAAhC;AACA,QAAI0vB,QAAQ,MAAZ,EAAoB;AAClB,UAAIwL,WAAWlnD,KAAKC,GAAL,CAAS+O,GAAGC,OAAH,CAAWhL,OAAX,CAAmB2iB,YAA5B,EAA0CxR,OAAOue,WAAP,IAAsB37B,SAASmyB,eAAT,CAAyBvD,YAAzF,CAAf;AACA,UAAIugC,aAAannD,KAAK8I,GAAL,CAASo+C,WAAW,KAAK35B,WAAWve,GAAGC,OAAd,CAAzB,EAAiD,CAAjD,CAAjB;AACA+c,UAAI,CAAC9pB,MAAM,CAAN,GAAUrC,IAAIwnB,MAAd,GAAuBxnB,IAAIynB,GAA5B,IAAmCplB,MAAMilD,UAA7C;AAED,KALD,MAKO,IAAIzL,QAAQ,MAAZ,EAAoB;AACzB1vB,UAAI9pB,MAAM,CAAN,GAAUrC,IAAIwnB,MAAJ,GAAa,CAAvB,GAA2BxnB,IAAIynB,GAAJ,GAAU,CAAzC;AACD;AACD,QAAIvpB,MAAJ;AACA,aAAS;AACPA,eAASguB,YAAW/c,EAAX,EAAetG,CAAf,EAAkBsjB,CAAlB,CAAT;AACA,UAAI,CAACjuB,OAAO8tB,OAAZ,EAAqB;AAAE;AAAO;AAC9B,UAAI3pB,MAAM,CAAN,GAAU8pB,KAAK,CAAf,GAAmBA,KAAKlpB,IAAIsE,MAAhC,EAAwC;AAAErJ,eAAO4nD,OAAP,GAAiB,IAAjB,CAAuB;AAAO;AACxE35B,WAAK9pB,MAAM,CAAX;AACD;AACD,WAAOnE,MAAP;AACD;;AAED;;AAEA,MAAIqpD,uBAAuB,SAAvBA,oBAAuB,CAASp4C,EAAT,EAAa;AACtC,SAAKA,EAAL,GAAUA,EAAV;AACA,SAAKq4C,cAAL,GAAsB,KAAKC,gBAAL,GAAwB,KAAKC,aAAL,GAAqB,KAAKC,eAAL,GAAuB,IAA1F;AACA,SAAKC,OAAL,GAAe,IAAI7oD,OAAJ,EAAf;AACA,SAAK8oD,SAAL,GAAiB,IAAjB;AACA,SAAKC,WAAL,GAAmB,KAAnB;AACA,SAAKC,cAAL,GAAsB,IAAtB;AACD,GAPD;;AASAR,uBAAqB3pD,SAArB,CAA+B6I,IAA/B,GAAsC,UAAU2I,OAAV,EAAmB;AACrD,QAAI4J,SAAS,IAAb;;AAEF,QAAI9V,QAAQ,IAAZ;AAAA,QAAkBiM,KAAKjM,MAAMiM,EAA7B;AACA,QAAIkF,MAAMnR,MAAMmR,GAAN,GAAYjF,QAAQ9L,OAA9B;AACAsgD,wBAAoBvvC,GAApB,EAAyBlF,GAAG/G,OAAH,CAAW82C,UAApC;;AAEAltC,OAAGqC,GAAH,EAAQ,OAAR,EAAiB,UAAUja,CAAV,EAAa;AAC5B,UAAIuY,eAAexD,EAAf,EAAmB/U,CAAnB,KAAyB8oD,YAAY9oD,CAAZ,EAAe+U,EAAf,CAA7B,EAAiD;AAAE;AAAQ;AAC3D;AACA,UAAIjX,cAAc,EAAlB,EAAsB;AAAEkH,mBAAW47B,UAAU7rB,EAAV,EAAc,YAAY;AAAE,iBAAO6J,OAAOgvC,aAAP,EAAP;AAAgC,SAA5D,CAAX,EAA0E,EAA1E;AAA+E;AACxG,KAJD;;AAMAh2C,OAAGqC,GAAH,EAAQ,kBAAR,EAA4B,UAAUja,CAAV,EAAa;AACvC4e,aAAO6uC,SAAP,GAAmB,EAACphC,MAAMrsB,EAAEqsB,IAAT,EAAe4c,MAAM,KAArB,EAAnB;AACD,KAFD;AAGArxB,OAAGqC,GAAH,EAAQ,mBAAR,EAA6B,UAAUja,CAAV,EAAa;AACxC,UAAI,CAAC4e,OAAO6uC,SAAZ,EAAuB;AAAE7uC,eAAO6uC,SAAP,GAAmB,EAACphC,MAAMrsB,EAAEqsB,IAAT,EAAe4c,MAAM,KAArB,EAAnB;AAAgD;AAC1E,KAFD;AAGArxB,OAAGqC,GAAH,EAAQ,gBAAR,EAA0B,UAAUja,CAAV,EAAa;AACrC,UAAI4e,OAAO6uC,SAAX,EAAsB;AACpB,YAAIztD,EAAEqsB,IAAF,IAAUzN,OAAO6uC,SAAP,CAAiBphC,IAA/B,EAAqC;AAAEzN,iBAAOivC,eAAP;AAA0B;AACjEjvC,eAAO6uC,SAAP,CAAiBxkB,IAAjB,GAAwB,IAAxB;AACD;AACF,KALD;;AAOArxB,OAAGqC,GAAH,EAAQ,YAAR,EAAsB,YAAY;AAAE,aAAOnR,MAAMglD,mBAAN,EAAP;AAAqC,KAAzE;;AAEAl2C,OAAGqC,GAAH,EAAQ,OAAR,EAAiB,YAAY;AAC3B,UAAI,CAAC2E,OAAO6uC,SAAZ,EAAuB;AAAE7uC,eAAOivC,eAAP;AAA0B;AACpD,KAFD;;AAIA,aAASE,SAAT,CAAmB/tD,CAAnB,EAAsB;AACpB,UAAIuY,eAAexD,EAAf,EAAmB/U,CAAnB,CAAJ,EAA2B;AAAE;AAAQ;AACrC,UAAI+U,GAAGsxB,iBAAH,EAAJ,EAA4B;AAC1B6hB,sBAAc,EAACS,UAAU,KAAX,EAAkB37C,MAAM+H,GAAGw+B,aAAH,EAAxB,EAAd;AACA,YAAIvzC,EAAEwQ,IAAF,IAAU,KAAd,EAAqB;AAAEuE,aAAGy+B,gBAAH,CAAoB,EAApB,EAAwB,IAAxB,EAA8B,KAA9B;AAAsC;AAC9D,OAHD,MAGO,IAAI,CAACz+B,GAAG/G,OAAH,CAAWggD,eAAhB,EAAiC;AACtC;AACD,OAFM,MAEA;AACL,YAAIh5B,SAASs0B,eAAev0C,EAAf,CAAb;AACAmzC,sBAAc,EAACS,UAAU,IAAX,EAAiB37C,MAAMgoB,OAAOhoB,IAA9B,EAAd;AACA,YAAIhN,EAAEwQ,IAAF,IAAU,KAAd,EAAqB;AACnBuE,aAAG6rB,SAAH,CAAa,YAAY;AACvB7rB,eAAGs+B,aAAH,CAAiBre,OAAOA,MAAxB,EAAgC,CAAhC,EAAmC3vB,cAAnC;AACA0P,eAAGy+B,gBAAH,CAAoB,EAApB,EAAwB,IAAxB,EAA8B,KAA9B;AACD,WAHD;AAID;AACF;AACD,UAAIxzC,EAAEgpD,aAAN,EAAqB;AACnBhpD,UAAEgpD,aAAF,CAAgBiF,SAAhB;AACA,YAAIvtD,UAAUunD,WAAWj7C,IAAX,CAAgB0lC,IAAhB,CAAqB,IAArB,CAAd;AACA;AACA1yC,UAAEgpD,aAAF,CAAgB1R,OAAhB,CAAwB,MAAxB,EAAgC52C,OAAhC;AACA,YAAIV,EAAEgpD,aAAF,CAAgB7R,OAAhB,CAAwB,MAAxB,KAAmCz2C,OAAvC,EAAgD;AAC9CV,YAAEyY,cAAF;AACA;AACD;AACF;AACD;AACA,UAAIy1C,SAASxE,gBAAb;AAAA,UAA+BruC,KAAK6yC,OAAO9tD,UAA3C;AACA2U,SAAGC,OAAH,CAAWzL,SAAX,CAAqB8f,YAArB,CAAkC6kC,MAAlC,EAA0Cn5C,GAAGC,OAAH,CAAWzL,SAAX,CAAqBnJ,UAA/D;AACAib,SAAGnY,KAAH,GAAW+kD,WAAWj7C,IAAX,CAAgB0lC,IAAhB,CAAqB,IAArB,CAAX;AACA,UAAIyb,WAAWpwD,SAASuE,aAAxB;AACAQ,kBAAYuY,EAAZ;AACArW,iBAAW,YAAY;AACrB+P,WAAGC,OAAH,CAAWzL,SAAX,CAAqBpJ,WAArB,CAAiC+tD,MAAjC;AACAC,iBAASl2B,KAAT;AACA,YAAIk2B,YAAYl0C,GAAhB,EAAqB;AAAEnR,gBAAMslD,oBAAN;AAA8B;AACtD,OAJD,EAIG,EAJH;AAKD;AACDx2C,OAAGqC,GAAH,EAAQ,MAAR,EAAgB8zC,SAAhB;AACAn2C,OAAGqC,GAAH,EAAQ,KAAR,EAAe8zC,SAAf;AACD,GAzED;;AA2EAZ,uBAAqB3pD,SAArB,CAA+BkxB,gBAA/B,GAAkD,YAAY;AAC5D,QAAI3Z,SAAS2Z,iBAAiB,KAAK3f,EAAtB,EAA0B,KAA1B,CAAb;AACAgG,WAAOkd,KAAP,GAAe,KAAKljB,EAAL,CAAQuI,KAAR,CAAcoa,OAA7B;AACA,WAAO3c,MAAP;AACD,GAJD;;AAMAoyC,uBAAqB3pD,SAArB,CAA+BixB,aAA/B,GAA+C,UAAU/W,IAAV,EAAgB0iB,SAAhB,EAA2B;AACxE,QAAI,CAAC1iB,IAAD,IAAS,CAAC,KAAK3I,EAAL,CAAQC,OAAR,CAAgBvK,IAAhB,CAAqB3K,MAAnC,EAA2C;AAAE;AAAQ;AACrD,QAAI4d,KAAKua,KAAL,IAAcmI,SAAlB,EAA6B;AAAE,WAAKguB,oBAAL;AAA6B;AAC5D,SAAKC,sBAAL,CAA4B3wC,IAA5B;AACD,GAJD;;AAMAyvC,uBAAqB3pD,SAArB,CAA+B4qD,oBAA/B,GAAsD,YAAY;AAChE,QAAIr5B,MAAM5Z,OAAOC,YAAP,EAAV;AAAA,QAAiCrG,KAAK,KAAKA,EAA3C;AAAA,QAA+CwxB,OAAOxxB,GAAGlM,GAAH,CAAOksB,GAAP,CAAWJ,OAAX,EAAtD;AACA,QAAItsB,OAAOk+B,KAAKl+B,IAAL,EAAX;AAAA,QAAwBC,KAAKi+B,KAAKj+B,EAAL,EAA7B;;AAEA,QAAIyM,GAAGC,OAAH,CAAW3K,MAAX,IAAqB0K,GAAGC,OAAH,CAAW5K,QAAhC,IAA4C/B,KAAKyE,IAAL,IAAaiI,GAAGC,OAAH,CAAW3K,MAApE,IAA8E/B,GAAGwE,IAAH,GAAUiI,GAAGC,OAAH,CAAW5K,QAAvG,EAAiH;AAC/G2qB,UAAI4O,eAAJ;AACA;AACD;;AAED,QAAI2qB,YAAYC,SAASx5C,EAAT,EAAaggB,IAAIqO,UAAjB,EAA6BrO,IAAIuO,YAAjC,CAAhB;AACA,QAAIkrB,WAAWD,SAASx5C,EAAT,EAAaggB,IAAIwO,SAAjB,EAA4BxO,IAAIyO,WAAhC,CAAf;AACA,QAAI8qB,aAAa,CAACA,UAAUG,GAAxB,IAA+BD,QAA/B,IAA2C,CAACA,SAASC,GAArD,IACAngD,IAAIK,OAAO2/C,SAAP,EAAkBE,QAAlB,CAAJ,EAAiCnmD,IAAjC,KAA0C,CAD1C,IAEAiG,IAAII,OAAO4/C,SAAP,EAAkBE,QAAlB,CAAJ,EAAiClmD,EAAjC,KAAwC,CAF5C,EAGE;AAAE;AAAQ;;AAEZ,QAAImC,OAAOsK,GAAGC,OAAH,CAAWvK,IAAtB;AACA,QAAIrJ,QAASiH,KAAKyE,IAAL,IAAaiI,GAAGC,OAAH,CAAW5K,QAAxB,IAAoCskD,SAAS35C,EAAT,EAAa1M,IAAb,CAArC,IACR,EAAC7I,MAAMiL,KAAK,CAAL,EAAQpB,OAAR,CAAgB/C,GAAhB,CAAoB,CAApB,CAAP,EAA+B8K,QAAQ,CAAvC,EADJ;AAEA,QAAI/P,MAAMiH,GAAGwE,IAAH,GAAUiI,GAAGC,OAAH,CAAW3K,MAArB,IAA+BqkD,SAAS35C,EAAT,EAAazM,EAAb,CAAzC;AACA,QAAI,CAACjH,GAAL,EAAU;AACR,UAAIgI,UAAUoB,KAAKA,KAAK3K,MAAL,GAAc,CAAnB,EAAsBuJ,OAApC;AACA,UAAI/C,MAAM+C,QAAQ2b,IAAR,GAAe3b,QAAQ2b,IAAR,CAAa3b,QAAQ2b,IAAR,CAAallB,MAAb,GAAsB,CAAnC,CAAf,GAAuDuJ,QAAQ/C,GAAzE;AACAjF,YAAM,EAAC7B,MAAM8G,IAAIA,IAAIxG,MAAJ,GAAa,CAAjB,CAAP,EAA4BsR,QAAQ9K,IAAIA,IAAIxG,MAAJ,GAAa,CAAjB,IAAsBwG,IAAIA,IAAIxG,MAAJ,GAAa,CAAjB,CAA1D,EAAN;AACD;;AAED,QAAI,CAACsB,KAAD,IAAU,CAACC,GAAf,EAAoB;AAClB0zB,UAAI4O,eAAJ;AACA;AACD;;AAED,QAAIzzB,MAAM6kB,IAAI45B,UAAJ,IAAkB55B,IAAI65B,UAAJ,CAAe,CAAf,CAA5B;AAAA,QAA+CC,GAA/C;AACA,QAAI;AAAEA,YAAM3tD,MAAME,MAAM5B,IAAZ,EAAkB4B,MAAMgQ,MAAxB,EAAgC/P,IAAI+P,MAApC,EAA4C/P,IAAI7B,IAAhD,CAAN;AAA6D,KAAnE,CACA,OAAMQ,CAAN,EAAS,CAAE,CAjCqD,CAiCpD;AACZ,QAAI6uD,GAAJ,EAAS;AACP,UAAI,CAACtxD,KAAD,IAAUwX,GAAGuI,KAAH,CAASoa,OAAvB,EAAgC;AAC9B3C,YAAIjzB,QAAJ,CAAaV,MAAM5B,IAAnB,EAAyB4B,MAAMgQ,MAA/B;AACA,YAAI,CAACy9C,IAAIn7C,SAAT,EAAoB;AAClBqhB,cAAI4O,eAAJ;AACA5O,cAAI6O,QAAJ,CAAairB,GAAb;AACD;AACF,OAND,MAMO;AACL95B,YAAI4O,eAAJ;AACA5O,YAAI6O,QAAJ,CAAairB,GAAb;AACD;AACD,UAAI3+C,OAAO6kB,IAAIqO,UAAJ,IAAkB,IAA7B,EAAmC;AAAErO,YAAI6O,QAAJ,CAAa1zB,GAAb;AAAmB,OAAxD,MACK,IAAI3S,KAAJ,EAAW;AAAE,aAAKuxD,gBAAL;AAAyB;AAC5C;AACD,SAAKC,iBAAL;AACD,GAjDD;;AAmDA5B,uBAAqB3pD,SAArB,CAA+BsrD,gBAA/B,GAAkD,YAAY;AAC1D,QAAIlwC,SAAS,IAAb;;AAEF7Z,iBAAa,KAAK2oD,WAAlB;AACA,SAAKA,WAAL,GAAmB1oD,WAAW,YAAY;AACxC4Z,aAAO8uC,WAAP,GAAqB,KAArB;AACA,UAAI9uC,OAAOsgB,gBAAP,EAAJ,EACE;AAAEtgB,eAAO7J,EAAP,CAAU6rB,SAAV,CAAoB,YAAY;AAAE,iBAAOhiB,OAAO7J,EAAP,CAAUgE,KAAV,CAAgBmmB,gBAAhB,GAAmC,IAA1C;AAAiD,SAAnF;AAAsF;AAC3F,KAJkB,EAIhB,EAJgB,CAAnB;AAKD,GATD;;AAWAiuB,uBAAqB3pD,SAArB,CAA+B6qD,sBAA/B,GAAwD,UAAU3wC,IAAV,EAAgB;AACtErd,yBAAqB,KAAK0U,EAAL,CAAQC,OAAR,CAAgB5L,SAArC,EAAgDsU,KAAKmX,OAArD;AACAx0B,yBAAqB,KAAK0U,EAAL,CAAQC,OAAR,CAAgB7L,YAArC,EAAmDuU,KAAKnC,SAAxD;AACD,GAHD;;AAKA4xC,uBAAqB3pD,SAArB,CAA+BurD,iBAA/B,GAAmD,YAAY;AAC7D,QAAIh6B,MAAM5Z,OAAOC,YAAP,EAAV;AACA,SAAKgyC,cAAL,GAAsBr4B,IAAIqO,UAA1B,CAAsC,KAAKiqB,gBAAL,GAAwBt4B,IAAIuO,YAA5B;AACtC,SAAKgqB,aAAL,GAAqBv4B,IAAIwO,SAAzB,CAAoC,KAAKgqB,eAAL,GAAuBx4B,IAAIyO,WAA3B;AACrC,GAJD;;AAMA2pB,uBAAqB3pD,SAArB,CAA+BwrD,iBAA/B,GAAmD,YAAY;AAC7D,QAAIj6B,MAAM5Z,OAAOC,YAAP,EAAV;AACA,QAAI,CAAC2Z,IAAI45B,UAAT,EAAqB;AAAE,aAAO,KAAP;AAAc;AACrC,QAAInvD,OAAOu1B,IAAI65B,UAAJ,CAAe,CAAf,EAAkBK,uBAA7B;AACA,WAAOhtD,SAAS,KAAKgY,GAAd,EAAmBza,IAAnB,CAAP;AACD,GALD;;AAOA2tD,uBAAqB3pD,SAArB,CAA+By0B,KAA/B,GAAuC,YAAY;AACjD,QAAI,KAAKljB,EAAL,CAAQ/G,OAAR,CAAgBkE,QAAhB,IAA4B,UAAhC,EAA4C;AAC1C,UAAI,CAAC,KAAK88C,iBAAL,EAAL,EACE;AAAE,aAAKv6B,aAAL,CAAmB,KAAKC,gBAAL,EAAnB,EAA4C,IAA5C;AAAmD;AACvD,WAAKza,GAAL,CAASge,KAAT;AACD;AACF,GAND;AAOAk1B,uBAAqB3pD,SAArB,CAA+B4hD,IAA/B,GAAsC,YAAY;AAAE,SAAKnrC,GAAL,CAASmrC,IAAT;AAAiB,GAArE;AACA+H,uBAAqB3pD,SAArB,CAA+BgiD,QAA/B,GAA0C,YAAY;AAAE,WAAO,KAAKvrC,GAAZ;AAAiB,GAAzE;;AAEAkzC,uBAAqB3pD,SAArB,CAA+Bw9C,aAA/B,GAA+C,YAAY;AAAE,WAAO,IAAP;AAAa,GAA1E;;AAEAmM,uBAAqB3pD,SAArB,CAA+B+0B,aAA/B,GAA+C,YAAY;AACzD,QAAIzvB,QAAQ,IAAZ;AACA,QAAI,KAAKkmD,iBAAL,EAAJ,EACE;AAAE,WAAKE,aAAL;AAAsB,KAD1B,MAGE;AAAEvuB,cAAQ,KAAK5rB,EAAb,EAAiB,YAAY;AAAE,eAAOjM,MAAMiM,EAAN,CAASgE,KAAT,CAAemmB,gBAAf,GAAkC,IAAzC;AAAgD,OAA/E;AAAkF;;AAEtF,aAASiwB,IAAT,GAAgB;AACd,UAAIrmD,MAAMiM,EAAN,CAASuI,KAAT,CAAeoa,OAAnB,EAA4B;AAC1B5uB,cAAMomD,aAAN;AACApmD,cAAM0kD,OAAN,CAAc3oD,GAAd,CAAkBiE,MAAMiM,EAAN,CAAS/G,OAAT,CAAiBohD,YAAnC,EAAiDD,IAAjD;AACD;AACF;AACD,SAAK3B,OAAL,CAAa3oD,GAAb,CAAiB,KAAKkQ,EAAL,CAAQ/G,OAAR,CAAgBohD,YAAjC,EAA+CD,IAA/C;AACD,GAdD;;AAgBAhC,uBAAqB3pD,SAArB,CAA+B07B,gBAA/B,GAAkD,YAAY;AAC5D,QAAInK,MAAM5Z,OAAOC,YAAP,EAAV;AACA,WAAO2Z,IAAIqO,UAAJ,IAAkB,KAAKgqB,cAAvB,IAAyCr4B,IAAIuO,YAAJ,IAAoB,KAAK+pB,gBAAlE,IACLt4B,IAAIwO,SAAJ,IAAiB,KAAK+pB,aADjB,IACkCv4B,IAAIyO,WAAJ,IAAmB,KAAK+pB,eADjE;AAED,GAJD;;AAMAJ,uBAAqB3pD,SAArB,CAA+B0rD,aAA/B,GAA+C,YAAY;AACzD,QAAI,KAAKvB,cAAL,IAAuB,IAAvB,IAA+B,KAAKD,WAApC,IAAmD,CAAC,KAAKxuB,gBAAL,EAAxD,EAAiF;AAAE;AAAQ;AAC3F,QAAInK,MAAM5Z,OAAOC,YAAP,EAAV;AAAA,QAAiCrG,KAAK,KAAKA,EAA3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAIrW,WAAWP,MAAX,IAAqB,KAAK4W,EAAL,CAAQ/G,OAAR,CAAgBnE,OAAhB,CAAwB/J,MAA7C,IAAuDuvD,WAAWt6B,IAAIqO,UAAf,CAA3D,EAAuF;AACrF,WAAKruB,EAAL,CAAQq2C,gBAAR,CAAyB,EAAC56C,MAAM,SAAP,EAAkBopC,SAAS,CAA3B,EAA8BnhC,gBAAgB1S,KAAKiW,GAAnD,EAAzB;AACA,WAAKopC,IAAL;AACA,WAAKntB,KAAL;AACA;AACD;AACD,QAAI,KAAKw1B,SAAT,EAAoB;AAAE;AAAQ;AAC9B,SAAKsB,iBAAL;AACA,QAAIx7B,SAASg7B,SAASx5C,EAAT,EAAaggB,IAAIqO,UAAjB,EAA6BrO,IAAIuO,YAAjC,CAAb;AACA,QAAIjO,OAAOk5B,SAASx5C,EAAT,EAAaggB,IAAIwO,SAAjB,EAA4BxO,IAAIyO,WAAhC,CAAX;AACA,QAAIjQ,UAAU8B,IAAd,EAAoB;AAAEsL,cAAQ5rB,EAAR,EAAY,YAAY;AAC5C82B,qBAAa92B,GAAGlM,GAAhB,EAAqB69B,gBAAgBnT,MAAhB,EAAwB8B,IAAxB,CAArB,EAAoDhwB,cAApD;AACA,YAAIkuB,OAAOk7B,GAAP,IAAcp5B,KAAKo5B,GAAvB,EAA4B;AAAE15C,aAAGgE,KAAH,CAASmmB,gBAAT,GAA4B,IAA5B;AAAkC;AACjE,OAHqB;AAGlB;AACL,GAvBD;;AAyBAiuB,uBAAqB3pD,SAArB,CAA+B8rD,WAA/B,GAA6C,YAAY;AACvD,QAAI,KAAK3B,cAAL,IAAuB,IAA3B,EAAiC;AAC/B5oD,mBAAa,KAAK4oD,cAAlB;AACA,WAAKA,cAAL,GAAsB,IAAtB;AACD;;AAED,QAAI54C,KAAK,KAAKA,EAAd;AAAA,QAAkBC,UAAUD,GAAGC,OAA/B;AAAA,QAAwC+f,MAAMhgB,GAAGlM,GAAH,CAAOksB,GAAP,CAAWJ,OAAX,EAA9C;AACA,QAAItsB,OAAO0sB,IAAI1sB,IAAJ,EAAX;AAAA,QAAuBC,KAAKysB,IAAIzsB,EAAJ,EAA5B;AACA,QAAID,KAAKhB,EAAL,IAAW,CAAX,IAAgBgB,KAAKyE,IAAL,GAAYiI,GAAG4yB,SAAH,EAAhC,EACE;AAAEt/B,aAAO+F,IAAI/F,KAAKyE,IAAL,GAAY,CAAhB,EAAmBR,QAAQyI,GAAGlM,GAAX,EAAgBR,KAAKyE,IAAL,GAAY,CAA5B,EAA+BhN,MAAlD,CAAP;AAAkE;AACtE,QAAIwI,GAAGjB,EAAH,IAASiF,QAAQyI,GAAGlM,GAAX,EAAgBP,GAAGwE,IAAnB,EAAyBE,IAAzB,CAA8BlN,MAAvC,IAAiDwI,GAAGwE,IAAH,GAAUiI,GAAGT,QAAH,EAA/D,EACE;AAAEhM,WAAK8F,IAAI9F,GAAGwE,IAAH,GAAU,CAAd,EAAiB,CAAjB,CAAL;AAA0B;AAC9B,QAAIzE,KAAKyE,IAAL,GAAYkI,QAAQ5K,QAApB,IAAgC9B,GAAGwE,IAAH,GAAUkI,QAAQ3K,MAAR,GAAiB,CAA/D,EAAkE;AAAE,aAAO,KAAP;AAAc;;AAElF,QAAIklD,SAAJ,EAAen4B,QAAf,EAAyBo4B,QAAzB;AACA,QAAInnD,KAAKyE,IAAL,IAAakI,QAAQ5K,QAArB,IAAiC,CAACmlD,YAAY1hC,cAAc9Y,EAAd,EAAkB1M,KAAKyE,IAAvB,CAAb,KAA8C,CAAnF,EAAsF;AACpFsqB,iBAAW/pB,OAAO2H,QAAQvK,IAAR,CAAa,CAAb,EAAgBqC,IAAvB,CAAX;AACA0iD,iBAAWx6C,QAAQvK,IAAR,CAAa,CAAb,EAAgBjL,IAA3B;AACD,KAHD,MAGO;AACL43B,iBAAW/pB,OAAO2H,QAAQvK,IAAR,CAAa8kD,SAAb,EAAwBziD,IAA/B,CAAX;AACA0iD,iBAAWx6C,QAAQvK,IAAR,CAAa8kD,YAAY,CAAzB,EAA4B/vD,IAA5B,CAAiCirB,WAA5C;AACD;AACD,QAAIglC,UAAU5hC,cAAc9Y,EAAd,EAAkBzM,GAAGwE,IAArB,CAAd;AACA,QAAIuqB,MAAJ,EAAYq4B,MAAZ;AACA,QAAID,WAAWz6C,QAAQvK,IAAR,CAAa3K,MAAb,GAAsB,CAArC,EAAwC;AACtCu3B,eAASriB,QAAQ3K,MAAR,GAAiB,CAA1B;AACAqlD,eAAS16C,QAAQ9L,OAAR,CAAgBgc,SAAzB;AACD,KAHD,MAGO;AACLmS,eAAShqB,OAAO2H,QAAQvK,IAAR,CAAaglD,UAAU,CAAvB,EAA0B3iD,IAAjC,IAAyC,CAAlD;AACA4iD,eAAS16C,QAAQvK,IAAR,CAAaglD,UAAU,CAAvB,EAA0BjwD,IAA1B,CAA+BmwD,eAAxC;AACD;;AAED,QAAI,CAACH,QAAL,EAAe;AAAE,aAAO,KAAP;AAAc;AAC/B,QAAII,UAAU76C,GAAGlM,GAAH,CAAOmmC,UAAP,CAAkB6gB,eAAe96C,EAAf,EAAmBy6C,QAAnB,EAA6BE,MAA7B,EAAqCt4B,QAArC,EAA+CC,MAA/C,CAAlB,CAAd;AACA,QAAIy4B,UAAUjjD,WAAWkI,GAAGlM,GAAd,EAAmBuF,IAAIgpB,QAAJ,EAAc,CAAd,CAAnB,EAAqChpB,IAAIipB,MAAJ,EAAY/qB,QAAQyI,GAAGlM,GAAX,EAAgBwuB,MAAhB,EAAwBrqB,IAAxB,CAA6BlN,MAAzC,CAArC,CAAd;AACA,WAAO8vD,QAAQ9vD,MAAR,GAAiB,CAAjB,IAAsBgwD,QAAQhwD,MAAR,GAAiB,CAA9C,EAAiD;AAC/C,UAAIsG,IAAIwpD,OAAJ,KAAgBxpD,IAAI0pD,OAAJ,CAApB,EAAkC;AAAEF,gBAAQ5lB,GAAR,GAAe8lB,QAAQ9lB,GAAR,GAAe3S;AAAU,OAA5E,MACK,IAAIu4B,QAAQ,CAAR,KAAcE,QAAQ,CAAR,CAAlB,EAA8B;AAAEF,gBAAQ1jD,KAAR,GAAiB4jD,QAAQ5jD,KAAR,GAAiBkrB;AAAY,OAA9E,MACA;AAAE;AAAO;AACf;;AAED,QAAI24B,WAAW,CAAf;AAAA,QAAkBC,SAAS,CAA3B;AACA,QAAIn1B,SAAS+0B,QAAQ,CAAR,CAAb;AAAA,QAAyBK,SAASH,QAAQ,CAAR,CAAlC;AAAA,QAA8CI,cAAcnqD,KAAKC,GAAL,CAAS60B,OAAO/6B,MAAhB,EAAwBmwD,OAAOnwD,MAA/B,CAA5D;AACA,WAAOiwD,WAAWG,WAAX,IAA0Br1B,OAAO/yB,UAAP,CAAkBioD,QAAlB,KAA+BE,OAAOnoD,UAAP,CAAkBioD,QAAlB,CAAhE,EACE;AAAE,QAAEA,QAAF;AAAY;AAChB,QAAII,SAAS/pD,IAAIwpD,OAAJ,CAAb;AAAA,QAA2BQ,SAAShqD,IAAI0pD,OAAJ,CAApC;AACA,QAAIO,YAAYtqD,KAAKC,GAAL,CAASmqD,OAAOrwD,MAAP,IAAiB8vD,QAAQ9vD,MAAR,IAAkB,CAAlB,GAAsBiwD,QAAtB,GAAiC,CAAlD,CAAT,EACSK,OAAOtwD,MAAP,IAAiBgwD,QAAQhwD,MAAR,IAAkB,CAAlB,GAAsBiwD,QAAtB,GAAiC,CAAlD,CADT,CAAhB;AAEA,WAAOC,SAASK,SAAT,IACAF,OAAOroD,UAAP,CAAkBqoD,OAAOrwD,MAAP,GAAgBkwD,MAAhB,GAAyB,CAA3C,KAAiDI,OAAOtoD,UAAP,CAAkBsoD,OAAOtwD,MAAP,GAAgBkwD,MAAhB,GAAyB,CAA3C,CADxD,EAEE;AAAE,QAAEA,MAAF;AAAU;AACd;AACA,QAAIJ,QAAQ9vD,MAAR,IAAkB,CAAlB,IAAuBgwD,QAAQhwD,MAAR,IAAkB,CAAzC,IAA8Cs3B,YAAY/uB,KAAKyE,IAAnE,EAAyE;AACvE,aAAOijD,YAAYA,WAAW1nD,KAAKhB,EAA5B,IACA8oD,OAAOroD,UAAP,CAAkBqoD,OAAOrwD,MAAP,GAAgBkwD,MAAhB,GAAyB,CAA3C,KAAiDI,OAAOtoD,UAAP,CAAkBsoD,OAAOtwD,MAAP,GAAgBkwD,MAAhB,GAAyB,CAA3C,CADxD,EACuG;AACrGD;AACAC;AACD;AACF;;AAEDJ,YAAQA,QAAQ9vD,MAAR,GAAiB,CAAzB,IAA8BqwD,OAAOvwD,KAAP,CAAa,CAAb,EAAgBuwD,OAAOrwD,MAAP,GAAgBkwD,MAAhC,EAAwCr5C,OAAxC,CAAgD,UAAhD,EAA4D,EAA5D,CAA9B;AACAi5C,YAAQ,CAAR,IAAaA,QAAQ,CAAR,EAAWhwD,KAAX,CAAiBmwD,QAAjB,EAA2Bp5C,OAA3B,CAAmC,UAAnC,EAA+C,EAA/C,CAAb;;AAEA,QAAI25C,SAASliD,IAAIgpB,QAAJ,EAAc24B,QAAd,CAAb;AACA,QAAIQ,OAAOniD,IAAIipB,MAAJ,EAAYy4B,QAAQhwD,MAAR,GAAiBsG,IAAI0pD,OAAJ,EAAahwD,MAAb,GAAsBkwD,MAAvC,GAAgD,CAA5D,CAAX;AACA,QAAIJ,QAAQ9vD,MAAR,GAAiB,CAAjB,IAAsB8vD,QAAQ,CAAR,CAAtB,IAAoCthD,IAAIgiD,MAAJ,EAAYC,IAAZ,CAAxC,EAA2D;AACzDzhB,oBAAa/5B,GAAGlM,GAAhB,EAAqB+mD,OAArB,EAA8BU,MAA9B,EAAsCC,IAAtC,EAA4C,QAA5C;AACA,aAAO,IAAP;AACD;AACF,GArED;;AAuEApD,uBAAqB3pD,SAArB,CAA+B27C,YAA/B,GAA8C,YAAY;AACxD,SAAK2O,mBAAL;AACD,GAFD;AAGAX,uBAAqB3pD,SAArB,CAA+B80B,KAA/B,GAAuC,YAAY;AACjD,SAAKw1B,mBAAL;AACD,GAFD;AAGAX,uBAAqB3pD,SAArB,CAA+BsqD,mBAA/B,GAAqD,YAAY;AAC/D,QAAI,CAAC,KAAKL,SAAV,EAAqB;AAAE;AAAQ;AAC/B1oD,iBAAa,KAAK4oD,cAAlB;AACA,SAAKF,SAAL,GAAiB,IAAjB;AACA,SAAKG,aAAL;AACA,SAAK3zC,GAAL,CAASmrC,IAAT;AACA,SAAKnrC,GAAL,CAASge,KAAT;AACD,GAPD;AAQAk1B,uBAAqB3pD,SAArB,CAA+BqqD,eAA/B,GAAiD,YAAY;AACzD,QAAIjvC,SAAS,IAAb;;AAEF,QAAI,KAAK+uC,cAAL,IAAuB,IAA3B,EAAiC;AAAE;AAAQ;AAC3C,SAAKA,cAAL,GAAsB3oD,WAAW,YAAY;AAC3C4Z,aAAO+uC,cAAP,GAAwB,IAAxB;AACA,UAAI/uC,OAAO6uC,SAAX,EAAsB;AACpB,YAAI7uC,OAAO6uC,SAAP,CAAiBxkB,IAArB,EAA2B;AAAErqB,iBAAO6uC,SAAP,GAAmB,IAAnB;AAAyB,SAAtD,MACK;AAAE;AAAQ;AAChB;AACD7uC,aAAOgvC,aAAP;AACD,KAPqB,EAOnB,EAPmB,CAAtB;AAQD,GAZD;;AAcAT,uBAAqB3pD,SAArB,CAA+BoqD,aAA/B,GAA+C,YAAY;AACvD,QAAIhvC,SAAS,IAAb;;AAEF,QAAI,KAAK7J,EAAL,CAAQwhC,UAAR,MAAwB,CAAC,KAAK+Y,WAAL,EAA7B,EACE;AAAE3uB,cAAQ,KAAK5rB,EAAb,EAAiB,YAAY;AAAE,eAAOgsB,UAAUniB,OAAO7J,EAAjB,CAAP;AAA8B,OAA7D;AAAgE;AACrE,GALD;;AAOAo4C,uBAAqB3pD,SAArB,CAA+BijB,aAA/B,GAA+C,UAAUjnB,IAAV,EAAgB;AAC7DA,SAAKgxD,eAAL,GAAuB,OAAvB;AACD,GAFD;;AAIArD,uBAAqB3pD,SAArB,CAA+B88C,UAA/B,GAA4C,UAAUtgD,CAAV,EAAa;AACvD,QAAIA,EAAEugD,QAAF,IAAc,CAAlB,EAAqB;AAAE;AAAQ;AAC/BvgD,MAAEyY,cAAF;AACA,QAAI,CAAC,KAAK1D,EAAL,CAAQwhC,UAAR,EAAL,EACE;AAAE3V,gBAAU,KAAK7rB,EAAf,EAAmBqzC,cAAnB,EAAmC,KAAKrzC,EAAxC,EAA4C9G,OAAOwqC,YAAP,CAAoBz4C,EAAEugD,QAAF,IAAc,IAAd,GAAqBvgD,EAAE45C,OAAvB,GAAiC55C,EAAEugD,QAAvD,CAA5C,EAA8G,CAA9G;AAAkH;AACvH,GALD;;AAOA4M,uBAAqB3pD,SAArB,CAA+B6hD,eAA/B,GAAiD,UAAU7nC,GAAV,EAAe;AAC9D,SAAKvD,GAAL,CAASu2C,eAAT,GAA2BviD,OAAOuP,OAAO,UAAd,CAA3B;AACD,GAFD;;AAIA2vC,uBAAqB3pD,SAArB,CAA+B89C,aAA/B,GAA+C,YAAY,CAAE,CAA7D;AACA6L,uBAAqB3pD,SAArB,CAA+B+hD,aAA/B,GAA+C,YAAY,CAAE,CAA7D;;AAEA4H,uBAAqB3pD,SAArB,CAA+BgjB,qBAA/B,GAAuD,IAAvD;;AAEA,WAASkoC,QAAT,CAAkB35C,EAAlB,EAAsBnP,GAAtB,EAA2B;AACzB,QAAI6E,OAAOmjB,gBAAgB7Y,EAAhB,EAAoBnP,IAAIkH,IAAxB,CAAX;AACA,QAAI,CAACrC,IAAD,IAASA,KAAK4c,MAAlB,EAA0B;AAAE,aAAO,IAAP;AAAa;AACzC,QAAIva,OAAOR,QAAQyI,GAAGlM,GAAX,EAAgBjD,IAAIkH,IAApB,CAAX;AACA,QAAI4Q,OAAO4P,gBAAgB7iB,IAAhB,EAAsBqC,IAAtB,EAA4BlH,IAAIkH,IAAhC,CAAX;;AAEA,QAAIoI,QAAQwC,SAAS5K,IAAT,EAAeiI,GAAGlM,GAAH,CAAOqN,SAAtB,CAAZ;AAAA,QAA8CogB,OAAO,MAArD;AACA,QAAIphB,KAAJ,EAAW;AACT,UAAIqc,UAAUjc,cAAcJ,KAAd,EAAqBtP,IAAIyB,EAAzB,CAAd;AACAivB,aAAO/E,UAAU,CAAV,GAAc,OAAd,GAAwB,MAA/B;AACD;AACD,QAAIxW,SAAS0T,uBAAuB/Q,KAAKpX,GAA5B,EAAiCV,IAAIyB,EAArC,EAAyCivB,IAAzC,CAAb;AACAvb,WAAO3J,MAAP,GAAgB2J,OAAOjZ,QAAP,IAAmB,OAAnB,GAA6BiZ,OAAO1Z,GAApC,GAA0C0Z,OAAO3Z,KAAjE;AACA,WAAO2Z,MAAP;AACD;;AAED,WAASs0C,UAAT,CAAoB7vD,IAApB,EAA0B;AACxB,SAAK,IAAIixD,OAAOjxD,IAAhB,EAAsBixD,IAAtB,EAA4BA,OAAOA,KAAK5uD,UAAxC,EACE;AAAE,UAAI,4BAA4BrE,IAA5B,CAAiCizD,KAAK/wD,SAAtC,CAAJ,EAAsD;AAAE,eAAO,IAAP;AAAa;AAAE;AAC3E,WAAO,KAAP;AACD;;AAED,WAASgxD,MAAT,CAAgB9qD,GAAhB,EAAqB6oD,GAArB,EAA0B;AAAE,QAAIA,GAAJ,EAAS;AAAE7oD,UAAI6oD,GAAJ,GAAU,IAAV;AAAiB,KAAC,OAAO7oD,GAAP;AAAY;;AAErE,WAASiqD,cAAT,CAAwB96C,EAAxB,EAA4B1M,IAA5B,EAAkCC,EAAlC,EAAsC8uB,QAAtC,EAAgDC,MAAhD,EAAwD;AACtD,QAAIrqB,OAAO,EAAX;AAAA,QAAe2jD,UAAU,KAAzB;AAAA,QAAgCre,UAAUv9B,GAAGlM,GAAH,CAAO8pC,aAAP,EAA1C;AACA,aAASie,eAAT,CAAyBhsD,EAAzB,EAA6B;AAAE,aAAO,UAAU4K,MAAV,EAAkB;AAAE,eAAOA,OAAO5K,EAAP,IAAaA,EAApB;AAAyB,OAApD;AAAsD;AACrF,aAASisD,KAAT,GAAiB;AACf,UAAIF,OAAJ,EAAa;AACX3jD,gBAAQslC,OAAR;AACAqe,kBAAU,KAAV;AACD;AACF;AACD,aAASG,OAAT,CAAiB9oD,GAAjB,EAAsB;AACpB,UAAIA,GAAJ,EAAS;AACP6oD;AACA7jD,gBAAQhF,GAAR;AACD;AACF;AACD,aAAS+oD,IAAT,CAAcvxD,IAAd,EAAoB;AAClB,UAAIA,KAAK2C,QAAL,IAAiB,CAArB,EAAwB;AACtB,YAAI6uD,SAASxxD,KAAKssB,YAAL,CAAkB,SAAlB,CAAb;AACA,YAAIklC,UAAU,IAAd,EAAoB;AAClBF,kBAAQE,UAAUxxD,KAAKyxD,WAAL,CAAiBt6C,OAAjB,CAAyB,SAAzB,EAAoC,EAApC,CAAlB;AACA;AACD;AACD,YAAIu6C,WAAW1xD,KAAKssB,YAAL,CAAkB,WAAlB,CAAf;AAAA,YAA+C5qB,KAA/C;AACA,YAAIgwD,QAAJ,EAAc;AACZ,cAAI7/C,QAAQ0D,GAAG88B,SAAH,CAAazjC,IAAIgpB,QAAJ,EAAc,CAAd,CAAb,EAA+BhpB,IAAIipB,SAAS,CAAb,EAAgB,CAAhB,CAA/B,EAAmDu5B,gBAAgB,CAACM,QAAjB,CAAnD,CAAZ;AACA,cAAI7/C,MAAMvR,MAAN,KAAiBoB,QAAQmQ,MAAM,CAAN,EAASiB,IAAT,CAAc,CAAd,CAAzB,CAAJ,EACE;AAAEw+C,oBAAQjkD,WAAWkI,GAAGlM,GAAd,EAAmB3H,MAAMmH,IAAzB,EAA+BnH,MAAMoH,EAArC,EAAyCoqC,IAAzC,CAA8CJ,OAA9C,CAAR;AAAiE;AACrE;AACD;AACD,YAAI9yC,KAAKssB,YAAL,CAAkB,iBAAlB,KAAwC,OAA5C,EAAqD;AAAE;AAAQ;AAC/D,YAAIqlC,UAAU,iBAAiB3zD,IAAjB,CAAsBgC,KAAK4xD,QAA3B,CAAd;AACA,YAAID,OAAJ,EAAa;AAAEN;AAAS;AACxB,aAAK,IAAI9vD,IAAI,CAAb,EAAgBA,IAAIvB,KAAKU,UAAL,CAAgBJ,MAApC,EAA4CiB,GAA5C,EACE;AAAEgwD,eAAKvxD,KAAKU,UAAL,CAAgBa,CAAhB,CAAL;AAA0B;AAC9B,YAAIowD,OAAJ,EAAa;AAAER,oBAAU,IAAV;AAAgB;AAChC,OAnBD,MAmBO,IAAInxD,KAAK2C,QAAL,IAAiB,CAArB,EAAwB;AAC7B2uD,gBAAQtxD,KAAK6xD,SAAb;AACD;AACF;AACD,aAAS;AACPN,WAAK1oD,IAAL;AACA,UAAIA,QAAQC,EAAZ,EAAgB;AAAE;AAAO;AACzBD,aAAOA,KAAKoiB,WAAZ;AACD;AACD,WAAOzd,IAAP;AACD;;AAED,WAASuhD,QAAT,CAAkBx5C,EAAlB,EAAsBvV,IAAtB,EAA4B4R,MAA5B,EAAoC;AAClC,QAAIkgD,QAAJ;AACA,QAAI9xD,QAAQuV,GAAGC,OAAH,CAAW9L,OAAvB,EAAgC;AAC9BooD,iBAAWv8C,GAAGC,OAAH,CAAW9L,OAAX,CAAmBhJ,UAAnB,CAA8BkR,MAA9B,CAAX;AACA,UAAI,CAACkgD,QAAL,EAAe;AAAE,eAAOZ,OAAO37C,GAAGjG,OAAH,CAAWV,IAAI2G,GAAGC,OAAH,CAAW3K,MAAX,GAAoB,CAAxB,CAAX,CAAP,EAA+C,IAA/C,CAAP;AAA6D;AAC9E7K,aAAO,IAAP,CAAa4R,SAAS,CAAT;AACd,KAJD,MAIO;AACL,WAAKkgD,WAAW9xD,IAAhB,GAAuB8xD,WAAWA,SAASzvD,UAA3C,EAAuD;AACrD,YAAI,CAACyvD,QAAD,IAAaA,YAAYv8C,GAAGC,OAAH,CAAW9L,OAAxC,EAAiD;AAAE,iBAAO,IAAP;AAAa;AAChE,YAAIooD,SAASzvD,UAAT,IAAuByvD,SAASzvD,UAAT,IAAuBkT,GAAGC,OAAH,CAAW9L,OAA7D,EAAsE;AAAE;AAAO;AAChF;AACF;AACD,SAAK,IAAInI,IAAI,CAAb,EAAgBA,IAAIgU,GAAGC,OAAH,CAAWvK,IAAX,CAAgB3K,MAApC,EAA4CiB,GAA5C,EAAiD;AAC/C,UAAIqjB,WAAWrP,GAAGC,OAAH,CAAWvK,IAAX,CAAgB1J,CAAhB,CAAf;AACA,UAAIqjB,SAAS5kB,IAAT,IAAiB8xD,QAArB,EACE;AAAE,eAAOC,qBAAqBntC,QAArB,EAA+B5kB,IAA/B,EAAqC4R,MAArC,CAAP;AAAqD;AAC1D;AACF;;AAED,WAASmgD,oBAAT,CAA8BntC,QAA9B,EAAwC5kB,IAAxC,EAA8C4R,MAA9C,EAAsD;AACpD,QAAIpH,UAAUoa,SAASpX,IAAT,CAAc5M,UAA5B;AAAA,QAAwCquD,MAAM,KAA9C;AACA,QAAI,CAACjvD,IAAD,IAAS,CAACyC,SAAS+H,OAAT,EAAkBxK,IAAlB,CAAd,EAAuC;AAAE,aAAOkxD,OAAOtiD,IAAIf,OAAO+W,SAAStX,IAAhB,CAAJ,EAA2B,CAA3B,CAAP,EAAsC,IAAtC,CAAP;AAAoD;AAC7F,QAAItN,QAAQwK,OAAZ,EAAqB;AACnBykD,YAAM,IAAN;AACAjvD,aAAOwK,QAAQ9J,UAAR,CAAmBkR,MAAnB,CAAP;AACAA,eAAS,CAAT;AACA,UAAI,CAAC5R,IAAL,EAAW;AACT,YAAIsN,OAAOsX,SAASM,IAAT,GAAgBte,IAAIge,SAASM,IAAb,CAAhB,GAAqCN,SAAStX,IAAzD;AACA,eAAO4jD,OAAOtiD,IAAIf,OAAOP,IAAP,CAAJ,EAAkBA,KAAKE,IAAL,CAAUlN,MAA5B,CAAP,EAA4C2uD,GAA5C,CAAP;AACD;AACF;;AAED,QAAI+C,WAAWhyD,KAAK2C,QAAL,IAAiB,CAAjB,GAAqB3C,IAArB,GAA4B,IAA3C;AAAA,QAAiDiyD,UAAUjyD,IAA3D;AACA,QAAI,CAACgyD,QAAD,IAAahyD,KAAKU,UAAL,CAAgBJ,MAAhB,IAA0B,CAAvC,IAA4CN,KAAKY,UAAL,CAAgB+B,QAAhB,IAA4B,CAA5E,EAA+E;AAC7EqvD,iBAAWhyD,KAAKY,UAAhB;AACA,UAAIgR,MAAJ,EAAY;AAAEA,iBAASogD,SAASH,SAAT,CAAmBvxD,MAA5B;AAAoC;AACnD;AACD,WAAO2xD,QAAQ5vD,UAAR,IAAsBmI,OAA7B,EAAsC;AAAEynD,gBAAUA,QAAQ5vD,UAAlB;AAA8B;AACtE,QAAIwH,UAAU+a,SAAS/a,OAAvB;AAAA,QAAgC2b,OAAO3b,QAAQ2b,IAA/C;;AAEA,aAAS1S,IAAT,CAAck/C,QAAd,EAAwBC,OAAxB,EAAiCrgD,MAAjC,EAAyC;AACvC,WAAK,IAAIrQ,IAAI,CAAC,CAAd,EAAiBA,KAAKikB,OAAOA,KAAKllB,MAAZ,GAAqB,CAA1B,CAAjB,EAA+CiB,GAA/C,EAAoD;AAClD,YAAIuF,MAAMvF,IAAI,CAAJ,GAAQsI,QAAQ/C,GAAhB,GAAsB0e,KAAKjkB,CAAL,CAAhC;AACA,aAAK,IAAIwR,IAAI,CAAb,EAAgBA,IAAIjM,IAAIxG,MAAxB,EAAgCyS,KAAK,CAArC,EAAwC;AACtC,cAAIm/C,UAAUprD,IAAIiM,IAAI,CAAR,CAAd;AACA,cAAIm/C,WAAWF,QAAX,IAAuBE,WAAWD,OAAtC,EAA+C;AAC7C,gBAAI3kD,OAAOO,OAAOtM,IAAI,CAAJ,GAAQqjB,SAAStX,IAAjB,GAAwBsX,SAASM,IAAT,CAAc3jB,CAAd,CAA/B,CAAX;AACA,gBAAIsG,KAAKf,IAAIiM,CAAJ,IAASnB,MAAlB;AACA,gBAAIA,SAAS,CAAT,IAAcsgD,WAAWF,QAA7B,EAAuC;AAAEnqD,mBAAKf,IAAIiM,KAAKnB,SAAS,CAAT,GAAa,CAAlB,CAAJ,CAAL;AAAgC;AACzE,mBAAOhD,IAAItB,IAAJ,EAAUzF,EAAV,CAAP;AACD;AACF;AACF;AACF;AACD,QAAIgK,QAAQiB,KAAKk/C,QAAL,EAAeC,OAAf,EAAwBrgD,MAAxB,CAAZ;AACA,QAAIC,KAAJ,EAAW;AAAE,aAAOq/C,OAAOr/C,KAAP,EAAco9C,GAAd,CAAP;AAA2B;;AAExC;AACA,SAAK,IAAI9uD,QAAQ8xD,QAAQhnC,WAApB,EAAiC2I,OAAOo+B,WAAWA,SAASH,SAAT,CAAmBvxD,MAAnB,GAA4BsR,MAAvC,GAAgD,CAA7F,EAAgGzR,KAAhG,EAAuGA,QAAQA,MAAM8qB,WAArH,EAAkI;AAChIpZ,cAAQiB,KAAK3S,KAAL,EAAYA,MAAMS,UAAlB,EAA8B,CAA9B,CAAR;AACA,UAAIiR,KAAJ,EACE;AAAE,eAAOq/C,OAAOtiD,IAAIiD,MAAMvE,IAAV,EAAgBuE,MAAMhK,EAAN,GAAW+rB,IAA3B,CAAP,EAAyCq7B,GAAzC,CAAP;AAAsD,OAD1D,MAGE;AAAEr7B,gBAAQzzB,MAAMsxD,WAAN,CAAkBnxD,MAA1B;AAAkC;AACvC;AACD,SAAK,IAAImX,SAASw6C,QAAQ9B,eAArB,EAAsCgC,SAASvgD,MAApD,EAA4D6F,MAA5D,EAAoEA,SAASA,OAAO04C,eAApF,EAAqG;AACnGt+C,cAAQiB,KAAK2E,MAAL,EAAaA,OAAO7W,UAApB,EAAgC,CAAC,CAAjC,CAAR;AACA,UAAIiR,KAAJ,EACE;AAAE,eAAOq/C,OAAOtiD,IAAIiD,MAAMvE,IAAV,EAAgBuE,MAAMhK,EAAN,GAAWsqD,MAA3B,CAAP,EAA2ClD,GAA3C,CAAP;AAAwD,OAD5D,MAGE;AAAEkD,kBAAU16C,OAAOg6C,WAAP,CAAmBnxD,MAA7B;AAAqC;AAC1C;AACF;;AAED;;AAEA,MAAI8xD,gBAAgB,SAAhBA,aAAgB,CAAS78C,EAAT,EAAa;AAC/B,SAAKA,EAAL,GAAUA,EAAV;AACA;AACA,SAAK88C,SAAL,GAAiB,EAAjB;;AAEA;AACA;AACA;AACA,SAAKC,WAAL,GAAmB,KAAnB;AACA;AACA,SAAKtE,OAAL,GAAe,IAAI7oD,OAAJ,EAAf;AACA;AACA,SAAKuW,YAAL,GAAoB,KAApB;AACA,SAAKuyC,SAAL,GAAiB,IAAjB;AACD,GAdD;;AAgBAmE,gBAAcpuD,SAAd,CAAwB6I,IAAxB,GAA+B,UAAU2I,OAAV,EAAmB;AAC9C,QAAI4J,SAAS,IAAb;;AAEF,QAAI9V,QAAQ,IAAZ;AAAA,QAAkBiM,KAAK,KAAKA,EAA5B;;AAEA;AACA,QAAIkF,MAAM,KAAKjQ,OAAL,GAAe0/C,gBAAzB;AACA;AACA;AACA,QAAIruC,KAAK,KAAK02C,QAAL,GAAgB93C,IAAI7Z,UAA7B;AACA4U,YAAQhL,OAAR,CAAgBqf,YAAhB,CAA6BpP,GAA7B,EAAkCjF,QAAQhL,OAAR,CAAgB5J,UAAlD;;AAEA;AACA,QAAI3B,GAAJ,EAAS;AAAE4c,SAAG1a,KAAH,CAASyqB,KAAT,GAAiB,KAAjB;AAAwB;;AAEnCxT,OAAGyD,EAAH,EAAO,OAAP,EAAgB,YAAY;AAC1B,UAAIxd,MAAMC,cAAc,CAApB,IAAyB8gB,OAAO1D,YAApC,EAAkD;AAAE0D,eAAO1D,YAAP,GAAsB,IAAtB;AAA4B;AAChFpS,YAAMqmD,IAAN;AACD,KAHD;;AAKAv3C,OAAGyD,EAAH,EAAO,OAAP,EAAgB,UAAUrb,CAAV,EAAa;AAC3B,UAAIuY,eAAexD,EAAf,EAAmB/U,CAAnB,KAAyB8oD,YAAY9oD,CAAZ,EAAe+U,EAAf,CAA7B,EAAiD;AAAE;AAAQ;;AAE3DA,SAAGuI,KAAH,CAAS8oC,aAAT,GAAyB,IAAzB;AACAt9C,YAAMkpD,QAAN;AACD,KALD;;AAOA,aAASC,cAAT,CAAwBjyD,CAAxB,EAA2B;AACzB,UAAIuY,eAAexD,EAAf,EAAmB/U,CAAnB,CAAJ,EAA2B;AAAE;AAAQ;AACrC,UAAI+U,GAAGsxB,iBAAH,EAAJ,EAA4B;AAC1B6hB,sBAAc,EAACS,UAAU,KAAX,EAAkB37C,MAAM+H,GAAGw+B,aAAH,EAAxB,EAAd;AACD,OAFD,MAEO,IAAI,CAACx+B,GAAG/G,OAAH,CAAWggD,eAAhB,EAAiC;AACtC;AACD,OAFM,MAEA;AACL,YAAIh5B,SAASs0B,eAAev0C,EAAf,CAAb;AACAmzC,sBAAc,EAACS,UAAU,IAAX,EAAiB37C,MAAMgoB,OAAOhoB,IAA9B,EAAd;AACA,YAAIhN,EAAEwQ,IAAF,IAAU,KAAd,EAAqB;AACnBuE,aAAGs+B,aAAH,CAAiBre,OAAOA,MAAxB,EAAgC,IAAhC,EAAsC3vB,cAAtC;AACD,SAFD,MAEO;AACLyD,gBAAM+oD,SAAN,GAAkB,EAAlB;AACAx2C,aAAGnY,KAAH,GAAW8xB,OAAOhoB,IAAP,CAAY0lC,IAAZ,CAAiB,IAAjB,CAAX;AACA5vC,sBAAYuY,EAAZ;AACD;AACF;AACD,UAAIrb,EAAEwQ,IAAF,IAAU,KAAd,EAAqB;AAAEuE,WAAGuI,KAAH,CAAS+oC,WAAT,GAAuB,IAAvB;AAA6B;AACrD;AACDzuC,OAAGyD,EAAH,EAAO,KAAP,EAAc42C,cAAd;AACAr6C,OAAGyD,EAAH,EAAO,MAAP,EAAe42C,cAAf;;AAEAr6C,OAAG5C,QAAQjL,QAAX,EAAqB,OAArB,EAA8B,UAAU/J,CAAV,EAAa;AACzC,UAAI6rB,cAAc7W,OAAd,EAAuBhV,CAAvB,KAA6BuY,eAAexD,EAAf,EAAmB/U,CAAnB,CAAjC,EAAwD;AAAE;AAAQ;AAClE+U,SAAGuI,KAAH,CAAS8oC,aAAT,GAAyB,IAAzB;AACAt9C,YAAMmvB,KAAN;AACD,KAJD;;AAMA;AACArgB,OAAG5C,QAAQzL,SAAX,EAAsB,aAAtB,EAAqC,UAAUvJ,CAAV,EAAa;AAChD,UAAI,CAAC6rB,cAAc7W,OAAd,EAAuBhV,CAAvB,CAAL,EAAgC;AAAEoZ,yBAAiBpZ,CAAjB;AAAqB;AACxD,KAFD;;AAIA4X,OAAGyD,EAAH,EAAO,kBAAP,EAA2B,YAAY;AACrC,UAAIja,QAAQ2T,GAAGqmB,SAAH,CAAa,MAAb,CAAZ;AACA,UAAItyB,MAAM2kD,SAAV,EAAqB;AAAE3kD,cAAM2kD,SAAN,CAAgBvsD,KAAhB,CAAsB48B,KAAtB;AAA+B;AACtDh1B,YAAM2kD,SAAN,GAAkB;AAChBrsD,eAAOA,KADS;AAEhBF,eAAO6T,GAAGm8B,QAAH,CAAY9vC,KAAZ,EAAmB2T,GAAGqmB,SAAH,CAAa,IAAb,CAAnB,EAAuC,EAAC17B,WAAW,sBAAZ,EAAvC;AAFS,OAAlB;AAID,KAPD;AAQAkY,OAAGyD,EAAH,EAAO,gBAAP,EAAyB,YAAY;AACnC,UAAIvS,MAAM2kD,SAAV,EAAqB;AACnB3kD,cAAMqmD,IAAN;AACArmD,cAAM2kD,SAAN,CAAgBvsD,KAAhB,CAAsB48B,KAAtB;AACAh1B,cAAM2kD,SAAN,GAAkB,IAAlB;AACD;AACF,KAND;AAOD,GA3ED;;AA6EAmE,gBAAcpuD,SAAd,CAAwBkxB,gBAAxB,GAA2C,YAAY;AACrD;AACA,QAAI3f,KAAK,KAAKA,EAAd;AAAA,QAAkBC,UAAUD,GAAGC,OAA/B;AAAA,QAAwCnM,MAAMkM,GAAGlM,GAAjD;AACA,QAAIkS,SAAS2Z,iBAAiB3f,EAAjB,CAAb;;AAEA;AACA,QAAIA,GAAG/G,OAAH,CAAWkkD,mBAAf,EAAoC;AAClC,UAAInG,UAAU56B,cAAapc,EAAb,EAAiBlM,IAAIksB,GAAJ,CAAQJ,OAAR,GAAkBU,IAAnC,EAAyC,KAAzC,CAAd;AACA,UAAI88B,UAAUn9C,QAAQhL,OAAR,CAAgB0Q,qBAAhB,EAAd;AAAA,UAAuD03C,UAAUp9C,QAAQ9L,OAAR,CAAgBwR,qBAAhB,EAAjE;AACAK,aAAOs3C,KAAP,GAAetsD,KAAK8I,GAAL,CAAS,CAAT,EAAY9I,KAAKC,GAAL,CAASgP,QAAQhL,OAAR,CAAgB2iB,YAAhB,GAA+B,EAAxC,EACSo/B,QAAQ1+B,GAAR,GAAc+kC,QAAQ/kC,GAAtB,GAA4B8kC,QAAQ9kC,GAD7C,CAAZ,CAAf;AAEAtS,aAAOu3C,MAAP,GAAgBvsD,KAAK8I,GAAL,CAAS,CAAT,EAAY9I,KAAKC,GAAL,CAASgP,QAAQhL,OAAR,CAAgB4hB,WAAhB,GAA8B,EAAvC,EACSmgC,QAAQnxC,IAAR,GAAew3C,QAAQx3C,IAAvB,GAA8Bu3C,QAAQv3C,IAD/C,CAAZ,CAAhB;AAED;;AAED,WAAOG,MAAP;AACD,GAhBD;;AAkBA62C,gBAAcpuD,SAAd,CAAwBixB,aAAxB,GAAwC,UAAU89B,KAAV,EAAiB;AACvD,QAAIx9C,KAAK,KAAKA,EAAd;AAAA,QAAkBC,UAAUD,GAAGC,OAA/B;AACA3U,yBAAqB2U,QAAQ5L,SAA7B,EAAwCmpD,MAAM19B,OAA9C;AACAx0B,yBAAqB2U,QAAQ7L,YAA7B,EAA2CopD,MAAMh3C,SAAjD;AACA,QAAIg3C,MAAMF,KAAN,IAAe,IAAnB,EAAyB;AACvB,WAAKroD,OAAL,CAAarJ,KAAb,CAAmB0sB,GAAnB,GAAyBklC,MAAMF,KAAN,GAAc,IAAvC;AACA,WAAKroD,OAAL,CAAarJ,KAAb,CAAmBia,IAAnB,GAA0B23C,MAAMD,MAAN,GAAe,IAAzC;AACD;AACF,GARD;;AAUA;AACA;AACAV,gBAAcpuD,SAAd,CAAwB80B,KAAxB,GAAgC,UAAU0G,MAAV,EAAkB;AAChD,QAAI,KAAKwzB,kBAAL,IAA2B,KAAK/E,SAApC,EAA+C;AAAE;AAAQ;AACzD,QAAI14C,KAAK,KAAKA,EAAd;AACA,QAAIA,GAAGsxB,iBAAH,EAAJ,EAA4B;AAC1B,WAAKwrB,SAAL,GAAiB,EAAjB;AACA,UAAInxD,UAAUqU,GAAGqG,YAAH,EAAd;AACA,WAAK22C,QAAL,CAAc7uD,KAAd,GAAsBxC,OAAtB;AACA,UAAIqU,GAAGuI,KAAH,CAASoa,OAAb,EAAsB;AAAE50B,oBAAY,KAAKivD,QAAjB;AAA4B;AACpD,UAAIl0D,MAAMC,cAAc,CAAxB,EAA2B;AAAE,aAAKod,YAAL,GAAoBxa,OAApB;AAA6B;AAC3D,KAND,MAMO,IAAI,CAACs+B,MAAL,EAAa;AAClB,WAAK6yB,SAAL,GAAiB,KAAKE,QAAL,CAAc7uD,KAAd,GAAsB,EAAvC;AACA,UAAIrF,MAAMC,cAAc,CAAxB,EAA2B;AAAE,aAAKod,YAAL,GAAoB,IAApB;AAA0B;AACxD;AACF,GAbD;;AAeA02C,gBAAcpuD,SAAd,CAAwBgiD,QAAxB,GAAmC,YAAY;AAAE,WAAO,KAAKuM,QAAZ;AAAsB,GAAvE;;AAEAH,gBAAcpuD,SAAd,CAAwBw9C,aAAxB,GAAwC,YAAY;AAAE,WAAO,KAAP;AAAc,GAApE;;AAEA4Q,gBAAcpuD,SAAd,CAAwBy0B,KAAxB,GAAgC,YAAY;AAC1C,QAAI,KAAKljB,EAAL,CAAQ/G,OAAR,CAAgBkE,QAAhB,IAA4B,UAA5B,KAA2C,CAACvT,MAAD,IAAW0D,eAAe,KAAK0vD,QAA1E,CAAJ,EAAyF;AACvF,UAAI;AAAE,aAAKA,QAAL,CAAc95B,KAAd;AAAuB,OAA7B,CACA,OAAOj4B,CAAP,EAAU,CAAE,CAF2E,CAE1E;AACd;AACF,GALD;;AAOA4xD,gBAAcpuD,SAAd,CAAwB4hD,IAAxB,GAA+B,YAAY;AAAE,SAAK2M,QAAL,CAAc3M,IAAd;AAAsB,GAAnE;;AAEAwM,gBAAcpuD,SAAd,CAAwB+hD,aAAxB,GAAwC,YAAY;AAClD,SAAKv7C,OAAL,CAAarJ,KAAb,CAAmB0sB,GAAnB,GAAyB,KAAKrjB,OAAL,CAAarJ,KAAb,CAAmBia,IAAnB,GAA0B,CAAnD;AACD,GAFD;;AAIAg3C,gBAAcpuD,SAAd,CAAwB+0B,aAAxB,GAAwC,YAAY;AAAE,SAAKk6B,QAAL;AAAiB,GAAvE;;AAEA;AACA;AACAb,gBAAcpuD,SAAd,CAAwBivD,QAAxB,GAAmC,YAAY;AAC3C,QAAI7zC,SAAS,IAAb;;AAEF,QAAI,KAAKkzC,WAAT,EAAsB;AAAE;AAAQ;AAChC,SAAKtE,OAAL,CAAa3oD,GAAb,CAAiB,KAAKkQ,EAAL,CAAQ/G,OAAR,CAAgBohD,YAAjC,EAA+C,YAAY;AACzDxwC,aAAOuwC,IAAP;AACA,UAAIvwC,OAAO7J,EAAP,CAAUuI,KAAV,CAAgBoa,OAApB,EAA6B;AAAE9Y,eAAO6zC,QAAP;AAAmB;AACnD,KAHD;AAID,GARD;;AAUA;AACA;AACA;AACAb,gBAAcpuD,SAAd,CAAwBwuD,QAAxB,GAAmC,YAAY;AAC7C,QAAIU,SAAS,KAAb;AAAA,QAAoB5pD,QAAQ,IAA5B;AACAA,UAAMgpD,WAAN,GAAoB,IAApB;AACA,aAASt/C,CAAT,GAAa;AACX,UAAIwnB,UAAUlxB,MAAMqmD,IAAN,EAAd;AACA,UAAI,CAACn1B,OAAD,IAAY,CAAC04B,MAAjB,EAAyB;AAACA,iBAAS,IAAT,CAAe5pD,MAAM0kD,OAAN,CAAc3oD,GAAd,CAAkB,EAAlB,EAAsB2N,CAAtB;AAAyB,OAAlE,MACK;AAAC1J,cAAMgpD,WAAN,GAAoB,KAApB,CAA2BhpD,MAAM2pD,QAAN;AAAiB;AACnD;AACD3pD,UAAM0kD,OAAN,CAAc3oD,GAAd,CAAkB,EAAlB,EAAsB2N,CAAtB;AACD,GATD;;AAWA;AACA;AACA;AACA;AACA;AACA;AACAo/C,gBAAcpuD,SAAd,CAAwB2rD,IAAxB,GAA+B,YAAY;AACvC,QAAIvwC,SAAS,IAAb;;AAEF,QAAI7J,KAAK,KAAKA,EAAd;AAAA,QAAkBjM,QAAQ,KAAKipD,QAA/B;AAAA,QAAyCF,YAAY,KAAKA,SAA1D;AACA;AACA;AACA;AACA;AACA,QAAI,KAAKW,kBAAL,IAA2B,CAACz9C,GAAGuI,KAAH,CAASoa,OAArC,IACCxc,aAAapS,KAAb,KAAuB,CAAC+oD,SAAxB,IAAqC,CAAC,KAAKpE,SAD5C,IAEA14C,GAAGwhC,UAAH,EAFA,IAEmBxhC,GAAG/G,OAAH,CAAWi7C,YAF9B,IAE8Cl0C,GAAGuI,KAAH,CAASqiC,MAF3D,EAGE;AAAE,aAAO,KAAP;AAAc;;AAElB,QAAI3yC,OAAOlE,MAAM5F,KAAjB;AACA;AACA,QAAI8J,QAAQ6kD,SAAR,IAAqB,CAAC98C,GAAGsxB,iBAAH,EAA1B,EAAkD;AAAE,aAAO,KAAP;AAAc;AAClE;AACA;AACA;AACA,QAAIxoC,MAAMC,cAAc,CAApB,IAAyB,KAAKod,YAAL,KAAsBlO,IAA/C,IACApO,OAAO,kBAAkBpB,IAAlB,CAAuBwP,IAAvB,CADX,EACyC;AACvC+H,SAAGC,OAAH,CAAWlM,KAAX,CAAiBwvB,KAAjB;AACA,aAAO,KAAP;AACD;;AAED,QAAIvjB,GAAGlM,GAAH,CAAOksB,GAAP,IAAchgB,GAAGC,OAAH,CAAW7I,iBAA7B,EAAgD;AAC9C,UAAI7B,QAAQ0C,KAAKlF,UAAL,CAAgB,CAAhB,CAAZ;AACA,UAAIwC,SAAS,MAAT,IAAmB,CAACunD,SAAxB,EAAmC;AAAEA,oBAAY,QAAZ;AAAsB;AAC3D,UAAIvnD,SAAS,MAAb,EAAqB;AAAE,aAAKguB,KAAL,GAAc,OAAO,KAAKvjB,EAAL,CAAQwpC,WAAR,CAAoB,MAApB,CAAP;AAAoC;AAC1E;AACD;AACA,QAAIoU,OAAO,CAAX;AAAA,QAAc7kD,IAAI/H,KAAKC,GAAL,CAAS6rD,UAAU/xD,MAAnB,EAA2BkN,KAAKlN,MAAhC,CAAlB;AACA,WAAO6yD,OAAO7kD,CAAP,IAAY+jD,UAAU/pD,UAAV,CAAqB6qD,IAArB,KAA8B3lD,KAAKlF,UAAL,CAAgB6qD,IAAhB,CAAjD,EAAwE;AAAE,QAAEA,IAAF;AAAQ;;AAElFhyB,YAAQ5rB,EAAR,EAAY,YAAY;AACtBqzC,qBAAerzC,EAAf,EAAmB/H,KAAKpN,KAAL,CAAW+yD,IAAX,CAAnB,EAAqCd,UAAU/xD,MAAV,GAAmB6yD,IAAxD,EACe,IADf,EACqB/zC,OAAO6uC,SAAP,GAAmB,UAAnB,GAAgC,IADrD;;AAGA;AACA,UAAIzgD,KAAKlN,MAAL,GAAc,IAAd,IAAsBkN,KAAKtI,OAAL,CAAa,IAAb,IAAqB,CAAC,CAAhD,EAAmD;AAAEoE,cAAM5F,KAAN,GAAc0b,OAAOizC,SAAP,GAAmB,EAAjC;AAAqC,OAA1F,MACK;AAAEjzC,eAAOizC,SAAP,GAAmB7kD,IAAnB;AAAyB;;AAEhC,UAAI4R,OAAO6uC,SAAX,EAAsB;AACpB7uC,eAAO6uC,SAAP,CAAiBvsD,KAAjB,CAAuB48B,KAAvB;AACAlf,eAAO6uC,SAAP,CAAiBvsD,KAAjB,GAAyB6T,GAAGm8B,QAAH,CAAYtyB,OAAO6uC,SAAP,CAAiBrsD,KAA7B,EAAoC2T,GAAGqmB,SAAH,CAAa,IAAb,CAApC,EACU,EAAC17B,WAAW,sBAAZ,EADV,CAAzB;AAED;AACF,KAbD;AAcA,WAAO,IAAP;AACD,GAjDD;;AAmDAkyD,gBAAcpuD,SAAd,CAAwB27C,YAAxB,GAAuC,YAAY;AACjD,QAAI,KAAK2S,WAAL,IAAoB,KAAK3C,IAAL,EAAxB,EAAqC;AAAE,WAAK2C,WAAL,GAAmB,KAAnB;AAA0B;AAClE,GAFD;;AAIAF,gBAAcpuD,SAAd,CAAwB88C,UAAxB,GAAqC,YAAY;AAC/C,QAAIziD,MAAMC,cAAc,CAAxB,EAA2B;AAAE,WAAKod,YAAL,GAAoB,IAApB;AAA0B;AACvD,SAAK82C,QAAL;AACD,GAHD;;AAKAJ,gBAAcpuD,SAAd,CAAwB89C,aAAxB,GAAwC,UAAUthD,CAAV,EAAa;AACnD,QAAI8I,QAAQ,IAAZ;AAAA,QAAkBiM,KAAKjM,MAAMiM,EAA7B;AAAA,QAAiCC,UAAUD,GAAGC,OAA9C;AAAA,QAAuDqG,KAAKvS,MAAMipD,QAAlE;AACA,QAAInsD,MAAMouB,aAAajf,EAAb,EAAiB/U,CAAjB,CAAV;AAAA,QAA+Bk6B,YAAYllB,QAAQjL,QAAR,CAAiBwmB,SAA5D;AACA,QAAI,CAAC3qB,GAAD,IAAQxH,MAAZ,EAAoB;AAAE;AAAQ,KAHqB,CAGpB;;AAE/B;AACA;AACA,QAAIk6B,QAAQvjB,GAAG/G,OAAH,CAAW4kD,2BAAvB;AACA,QAAIt6B,SAASvjB,GAAGlM,GAAH,CAAOksB,GAAP,CAAW9yB,QAAX,CAAoB2D,GAApB,KAA4B,CAAC,CAA1C,EACE;AAAEg7B,gBAAU7rB,EAAV,EAAc82B,YAAd,EAA4B92B,GAAGlM,GAA/B,EAAoC69B,gBAAgB9gC,GAAhB,CAApC,EAA0DP,cAA1D;AAA2E;;AAE/E,QAAIwtD,SAASx3C,GAAG1a,KAAH,CAASE,OAAtB;AAAA,QAA+BiyD,gBAAgBhqD,MAAMkB,OAAN,CAAcrJ,KAAd,CAAoBE,OAAnE;AACAiI,UAAMkB,OAAN,CAAcrJ,KAAd,CAAoBE,OAApB,GAA8B,oBAA9B;AACA,QAAIkyD,aAAajqD,MAAMkB,OAAN,CAAc0Q,qBAAd,EAAjB;AACAW,OAAG1a,KAAH,CAASE,OAAT,GAAmB,iEAAiEb,EAAEq0B,OAAF,GAAY0+B,WAAW1lC,GAAvB,GAA6B,CAA9F,IAAmG,YAAnG,IAAmHrtB,EAAEo0B,OAAF,GAAY2+B,WAAWn4C,IAAvB,GAA8B,CAAjJ,IAAsJ,wCAAtJ,IAAkM/c,KAAK,0BAAL,GAAkC,aAApO,IAAqP,mHAAxQ;AACA,QAAIm1D,UAAJ;AACA,QAAI/0D,MAAJ,EAAY;AAAE+0D,mBAAa73C,OAAO83C,OAApB;AAA6B,KAhBQ,CAgBP;AAC5Cj+C,YAAQlM,KAAR,CAAcmvB,KAAd;AACA,QAAIh6B,MAAJ,EAAY;AAAEkd,aAAO+wC,QAAP,CAAgB,IAAhB,EAAsB8G,UAAtB;AAAmC;AACjDh+C,YAAQlM,KAAR,CAAcwvB,KAAd;AACA;AACA,QAAI,CAACvjB,GAAGsxB,iBAAH,EAAL,EAA6B;AAAEhrB,SAAGnY,KAAH,GAAW4F,MAAM+oD,SAAN,GAAkB,GAA7B;AAAkC;AACjE/oD,UAAM0pD,kBAAN,GAA2B,IAA3B;AACAx9C,YAAQ7I,iBAAR,GAA4B4I,GAAGlM,GAAH,CAAOksB,GAAnC;AACAhwB,iBAAaiQ,QAAQk+C,kBAArB;;AAEA;AACA;AACA;AACA,aAASC,oBAAT,GAAgC;AAC9B,UAAI93C,GAAGrY,cAAH,IAAqB,IAAzB,EAA+B;AAC7B,YAAIo0C,WAAWriC,GAAGsxB,iBAAH,EAAf;AACA,YAAI+sB,SAAS,YAAYhc,WAAW/7B,GAAGnY,KAAd,GAAsB,EAAlC,CAAb;AACAmY,WAAGnY,KAAH,GAAW,QAAX,CAH6B,CAGT;AACpBmY,WAAGnY,KAAH,GAAWkwD,MAAX;AACAtqD,cAAM+oD,SAAN,GAAkBza,WAAW,EAAX,GAAgB,QAAlC;AACA/7B,WAAGrY,cAAH,GAAoB,CAApB,CAAuBqY,GAAGpY,YAAH,GAAkBmwD,OAAOtzD,MAAzB;AACvB;AACA;AACAkV,gBAAQ7I,iBAAR,GAA4B4I,GAAGlM,GAAH,CAAOksB,GAAnC;AACD;AACF;AACD,aAASs+B,MAAT,GAAkB;AAChBvqD,YAAM0pD,kBAAN,GAA2B,KAA3B;AACA1pD,YAAMkB,OAAN,CAAcrJ,KAAd,CAAoBE,OAApB,GAA8BiyD,aAA9B;AACAz3C,SAAG1a,KAAH,CAASE,OAAT,GAAmBgyD,MAAnB;AACA,UAAIh1D,MAAMC,aAAa,CAAvB,EAA0B;AAAEkX,gBAAQgnB,UAAR,CAAmBJ,YAAnB,CAAgC5mB,QAAQjL,QAAR,CAAiBwmB,SAAjB,GAA6B2J,SAA7D;AAAyE;;AAErG;AACA,UAAI7e,GAAGrY,cAAH,IAAqB,IAAzB,EAA+B;AAC7B,YAAI,CAACnF,EAAD,IAAQA,MAAMC,aAAa,CAA/B,EAAmC;AAAEq1D;AAAwB;AAC7D,YAAIpyD,IAAI,CAAR;AAAA,YAAWouD,OAAO,SAAPA,IAAO,GAAY;AAC5B,cAAIn6C,QAAQ7I,iBAAR,IAA6B4I,GAAGlM,GAAH,CAAOksB,GAApC,IAA2C1Z,GAAGrY,cAAH,IAAqB,CAAhE,IACAqY,GAAGpY,YAAH,GAAkB,CADlB,IACuB6F,MAAM+oD,SAAN,IAAmB,QAD9C,EACwD;AACtDjxB,sBAAU7rB,EAAV,EAAcs4B,SAAd,EAAyBt4B,EAAzB;AACD,WAHD,MAGO,IAAIhU,MAAM,EAAV,EAAc;AACnBiU,oBAAQk+C,kBAAR,GAA6BluD,WAAWmqD,IAAX,EAAiB,GAAjB,CAA7B;AACD,WAFM,MAEA;AACLn6C,oBAAQ7I,iBAAR,GAA4B,IAA5B;AACA6I,oBAAQlM,KAAR,CAAcwvB,KAAd;AACD;AACF,SAVD;AAWAtjB,gBAAQk+C,kBAAR,GAA6BluD,WAAWmqD,IAAX,EAAiB,GAAjB,CAA7B;AACD;AACF;;AAED,QAAItxD,MAAMC,cAAc,CAAxB,EAA2B;AAAEq1D;AAAwB;AACrD,QAAIh0D,iBAAJ,EAAuB;AACrBsa,aAAOzZ,CAAP;AACA,UAAIszD,UAAU,SAAVA,OAAU,GAAY;AACxBp7C,YAAIiD,MAAJ,EAAY,SAAZ,EAAuBm4C,OAAvB;AACAtuD,mBAAWquD,MAAX,EAAmB,EAAnB;AACD,OAHD;AAIAz7C,SAAGuD,MAAH,EAAW,SAAX,EAAsBm4C,OAAtB;AACD,KAPD,MAOO;AACLtuD,iBAAWquD,MAAX,EAAmB,EAAnB;AACD;AACF,GA7ED;;AA+EAzB,gBAAcpuD,SAAd,CAAwB6hD,eAAxB,GAA0C,UAAU7nC,GAAV,EAAe;AACvD,QAAI,CAACA,GAAL,EAAU;AAAE,WAAK8a,KAAL;AAAc;AAC1B,SAAKy5B,QAAL,CAAcwB,QAAd,GAAyB/1C,OAAO,UAAhC;AACD,GAHD;;AAKAo0C,gBAAcpuD,SAAd,CAAwBijB,aAAxB,GAAwC,YAAY,CAAE,CAAtD;;AAEAmrC,gBAAcpuD,SAAd,CAAwBgjB,qBAAxB,GAAgD,KAAhD;;AAEA,WAASgtC,YAAT,CAAsBzB,QAAtB,EAAgC/jD,OAAhC,EAAyC;AACvCA,cAAUA,UAAUpK,QAAQoK,OAAR,CAAV,GAA6B,EAAvC;AACAA,YAAQ9K,KAAR,GAAgB6uD,SAAS7uD,KAAzB;AACA,QAAI,CAAC8K,QAAQylD,QAAT,IAAqB1B,SAAStM,QAAlC,EACE;AAAEz3C,cAAQylD,QAAR,GAAmB1B,SAAStM,QAA5B;AAAsC;AAC1C,QAAI,CAACz3C,QAAQ0lD,WAAT,IAAwB3B,SAAS2B,WAArC,EACE;AAAE1lD,cAAQ0lD,WAAR,GAAsB3B,SAAS2B,WAA/B;AAA4C;AAChD;AACA;AACA,QAAI1lD,QAAQs4C,SAAR,IAAqB,IAAzB,EAA+B;AAC7B,UAAIpjB,WAAW7gC,WAAf;AACA2L,cAAQs4C,SAAR,GAAoBpjB,YAAY6uB,QAAZ,IAClBA,SAASjmC,YAAT,CAAsB,WAAtB,KAAsC,IAAtC,IAA8CoX,YAAYnlC,SAAS2D,IADrE;AAED;;AAED,aAAS0e,IAAT,GAAgB;AAAC2xC,eAAS7uD,KAAT,GAAiB6R,GAAG09B,QAAH,EAAjB;AAA+B;;AAEhD,QAAIkhB,UAAJ;AACA,QAAI5B,SAAS6B,IAAb,EAAmB;AACjBh8C,SAAGm6C,SAAS6B,IAAZ,EAAkB,QAAlB,EAA4BxzC,IAA5B;AACA;AACA,UAAI,CAACpS,QAAQ6lD,sBAAb,EAAqC;AACnC,YAAID,OAAO7B,SAAS6B,IAApB;AACAD,qBAAaC,KAAKE,MAAlB;AACA,YAAI;AACF,cAAIC,gBAAgBH,KAAKE,MAAL,GAAc,YAAY;AAC5C1zC;AACAwzC,iBAAKE,MAAL,GAAcH,UAAd;AACAC,iBAAKE,MAAL;AACAF,iBAAKE,MAAL,GAAcC,aAAd;AACD,WALD;AAMD,SAPD,CAOE,OAAM/zD,CAAN,EAAS,CAAE;AACd;AACF;;AAEDgO,YAAQw4C,UAAR,GAAqB,UAAUzxC,EAAV,EAAc;AACjCA,SAAGqL,IAAH,GAAUA,IAAV;AACArL,SAAGi/C,WAAH,GAAiB,YAAY;AAAE,eAAOjC,QAAP;AAAkB,OAAjD;AACAh9C,SAAGk/C,UAAH,GAAgB,YAAY;AAC1Bl/C,WAAGk/C,UAAH,GAAgB1nC,KAAhB,CAD0B,CACJ;AACtBnM;AACA2xC,iBAASlwD,UAAT,CAAoB1B,WAApB,CAAgC4U,GAAGu3C,iBAAH,EAAhC;AACAyF,iBAASpxD,KAAT,CAAeqU,OAAf,GAAyB,EAAzB;AACA,YAAI+8C,SAAS6B,IAAb,EAAmB;AACjB17C,cAAI65C,SAAS6B,IAAb,EAAmB,QAAnB,EAA6BxzC,IAA7B;AACA,cAAI,OAAO2xC,SAAS6B,IAAT,CAAcE,MAArB,IAA+B,UAAnC,EACE;AAAE/B,qBAAS6B,IAAT,CAAcE,MAAd,GAAuBH,UAAvB;AAAmC;AACxC;AACF,OAVD;AAWD,KAdD;;AAgBA5B,aAASpxD,KAAT,CAAeqU,OAAf,GAAyB,MAAzB;AACA,QAAID,KAAK5X,WAAW,UAAUqC,IAAV,EAAgB;AAAE,aAAOuyD,SAASlwD,UAAT,CAAoBwnB,YAApB,CAAiC7pB,IAAjC,EAAuCuyD,SAAStnC,WAAhD,CAAP;AAAsE,KAAnG,EACPzc,OADO,CAAT;AAEA,WAAO+G,EAAP;AACD;;AAED,WAASm/C,cAAT,CAAwB/2D,UAAxB,EAAoC;AAClCA,eAAW+a,GAAX,GAAiBA,GAAjB;AACA/a,eAAWya,EAAX,GAAgBA,EAAhB;AACAza,eAAWmoC,gBAAX,GAA8BA,gBAA9B;AACAnoC,eAAWk1C,GAAX,GAAiBA,GAAjB;AACAl1C,eAAW6xC,UAAX,GAAwBl0B,cAAxB;AACA3d,eAAW+G,WAAX,GAAyBA,WAAzB;AACA/G,eAAWuI,UAAX,GAAwBA,UAAxB;AACAvI,eAAWqK,UAAX,GAAwBJ,eAAxB;AACAjK,eAAWgI,IAAX,GAAkBA,IAAlB;AACAhI,eAAWkb,MAAX,GAAoBA,MAApB;AACAlb,eAAWumB,IAAX,GAAkBA,IAAlB;AACAvmB,eAAWwpC,SAAX,GAAuBA,SAAvB;AACAxpC,eAAWqhC,cAAX,GAA4BA,cAA5B;AACArhC,eAAWiR,GAAX,GAAiBA,GAAjB;AACAjR,eAAWg3D,MAAX,GAAoB7lD,GAApB;AACAnR,eAAW8e,KAAX,GAAmBA,KAAnB;AACA9e,eAAW+e,SAAX,GAAuBA,SAAvB;AACA/e,eAAWuf,WAAX,GAAyBA,WAAzB;AACAvf,eAAWwf,OAAX,GAAqBA,OAArB;AACAxf,eAAW2f,cAAX,GAA4BA,cAA5B;AACA3f,eAAWggB,UAAX,GAAwBA,UAAxB;AACAhgB,eAAWkgB,SAAX,GAAuBA,SAAvB;AACAlgB,eAAWwgB,UAAX,GAAwBA,UAAxB;AACAxgB,eAAWsgB,SAAX,GAAuBA,SAAvB;AACAtgB,eAAWo+C,QAAX,GAAsBA,QAAtB;AACAp+C,eAAWu7C,MAAX,GAAoBA,MAApB;AACAv7C,eAAW+8C,OAAX,GAAqBA,OAArB;AACA/8C,eAAWw8C,aAAX,GAA2BA,aAA3B;AACAx8C,eAAWs8C,SAAX,GAAuBA,SAAvB;AACAt8C,eAAWk8C,eAAX,GAA6BA,eAA7B;AACAl8C,eAAW2gB,YAAX,GAA0BA,YAA1B;AACA3gB,eAAWs0C,gBAAX,GAA8BA,gBAA9B;AACAt0C,eAAW2zC,UAAX,GAAwBA,UAAxB;AACA3zC,eAAWmzC,UAAX,GAAwBA,UAAxB;AACAnzC,eAAWic,gBAAX,GAA8BA,gBAA9B;AACAjc,eAAWmc,iBAAX,GAA+BA,iBAA/B;AACAnc,eAAWsc,MAAX,GAAoBA,MAApB;AACAtc,eAAWqF,QAAX,GAAsBA,QAAtB;AACArF,eAAW8E,QAAX,GAAsBA,QAAtB;AACA9E,eAAWoC,OAAX,GAAqBA,OAArB;AACApC,eAAWq7C,QAAX,GAAsBA,QAAtB;AACD;;AAED;;AAEA+L,gBAAcpnD,UAAd;;AAEAysD,mBAAiBzsD,UAAjB;;AAEA;AACA,MAAIi3D,eAAe,gDAAgDvxD,KAAhD,CAAsD,GAAtD,CAAnB;AACA,OAAK,IAAImB,IAAT,IAAiBquC,IAAI7uC,SAArB,EAAgC;AAAE,QAAI6uC,IAAI7uC,SAAJ,CAAcS,cAAd,CAA6BD,IAA7B,KAAsCU,QAAQ0vD,YAAR,EAAsBpwD,IAAtB,IAA8B,CAAxE,EAChC;AAAE7G,iBAAWqG,SAAX,CAAqBQ,IAArB,IAA8B,UAASqwD,MAAT,EAAiB;AAC/C,eAAO,YAAW;AAAC,iBAAOA,OAAO1wD,KAAP,CAAa,KAAKkF,GAAlB,EAAuBnF,SAAvB,CAAP;AAAyC,SAA5D;AACD,OAF8B,CAE5B2uC,IAAI7uC,SAAJ,CAAcQ,IAAd,CAF4B,CAA7B;AAEuB;AAAE;;AAE7BkV,aAAWm5B,GAAX;;AAEA;;AAEAl1C,aAAW+oD,WAAX,GAAyB,EAAC,YAAY0L,aAAb,EAA4B,mBAAmBzE;;AAExE;;AAEA;AACA;AACA;AANyB,GAAzB,CAOAhwD,WAAWgf,UAAX,GAAwB,UAASC,IAAT,CAAa,aAAb,EAA4B;AAClD,QAAI,CAACjf,WAAWknD,QAAX,CAAoBhoC,IAArB,IAA6BD,QAAQ,MAAzC,EAAiD;AAAEjf,iBAAWknD,QAAX,CAAoBhoC,IAApB,GAA2BD,IAA3B;AAAiC;AACpFD,eAAWxY,KAAX,CAAiB,IAAjB,EAAuBD,SAAvB;AACD,GAHD;;AAKAvG,aAAWof,UAAX,GAAwBA,UAAxB;;AAEA;AACApf,aAAWgf,UAAX,CAAsB,MAAtB,EAA8B,YAAY;AAAE,WAAQ,EAACqG,OAAO,eAAUJ,MAAV,EAAkB;AAAE,eAAOA,OAAOvD,SAAP,EAAP;AAA4B,OAAxD,EAAR;AAAqE,GAAjH;AACA1hB,aAAWof,UAAX,CAAsB,YAAtB,EAAoC,MAApC;;AAEA;;AAEApf,aAAWm3D,eAAX,GAA6B,UAAUl4C,IAAV,EAAgBm4C,IAAhB,EAAsB;AACjDp3D,eAAWqG,SAAX,CAAqB4Y,IAArB,IAA6Bm4C,IAA7B;AACD,GAFD;AAGAp3D,aAAWq3D,kBAAX,GAAgC,UAAUp4C,IAAV,EAAgBm4C,IAAhB,EAAsB;AACpDliB,QAAI7uC,SAAJ,CAAc4Y,IAAd,IAAsBm4C,IAAtB;AACD,GAFD;;AAIAp3D,aAAWq2D,YAAX,GAA0BA,YAA1B;;AAEAU,iBAAe/2D,UAAf;;AAEAA,aAAWs3D,OAAX,GAAqB,QAArB;;AAEA,SAAOt3D,UAAP;AAEC,CA36SA,CAAD,C;;;;;;ACTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;;;;;;;;;ACrBA;;;;AACA;;;;AACA;;AACA;;AACA;;AACA;;;;AAEA,sBAAE,YAAM;AACJ,QAAIu3D,SAAS,kBAAW,EAAExwC,OAAO,UAAT,EAAX,CAAb;AAAA,QACIywC,cAAc,sBAAE,kBAAF,CADlB;AAAA,QAEIC,WAAW,sBAAE,kBAAF,CAFf;AAAA,QAGIC,SAAS,sBAAE,eAAF,CAHb;AAAA,QAIIC,QAAQ,sBAAE,cAAF,CAJZ;AAAA,QAKIC,WAAU,sBAAE,iBAAF,CALd;AAAA,QAMIC,gBAAgB,IANpB;AAAA,QAOIC,eAAe,IAPnB;AAAA,QAQIC,aAAaC,SAASC,IAAT,CAAcx1D,KAAd,CAAoB,CAApB,CARjB;AAAA,QAUIy1D,gBAAgB,SAAhBA,aAAgB,CAACC,IAAD,EAAU;AACtB,YAAMC,SAAS,sBAAE,UAAF,EAAc;AACzB,qBAAS,eADgB;AAEzB,mBAAO;AAFkB,SAAd,CAAf;;AAKAX,iBAASU,IAAT,CAAcC,MAAd;;AAEAA,eAAOC,QAAP,GACKljD,IADL,CACU,MADV,EAEKmjD,MAFL,CAEY,sBAAE,wCAAwCH,IAAxC,GAA+C,YAAjD,CAFZ;;AAIAR,cAAMQ,IAAN,CAAWA,IAAX;;AAEA,YAAIL,YAAJ,EAAkB;AACd,kCAAEA,aAAa3I,iBAAb,EAAF,EAAoCtkB,MAApC;AACH;;AAEDitB,uBAAe,qBAAWzB,YAAX,CAAwBsB,MAAM,CAAN,CAAxB,EAAkC;AAC7Cz4C,kBAAM,YADuC;AAE7C8nC,mBAAO,iBAFsC;AAG7Cl6B,yBAAa,IAHgC;AAI7CyrC,6BAAiB,IAJ4B;AAK7CC,2BAAe,IAL8B;AAM7C9xB,4BAAgB9c,QAN6B;AAO7CgG,0BAAc;AAP+B,SAAlC,CAAf;AASH,KArCL;AAAA,QAuCI6oC,cAAc,SAAdA,WAAc,CAACC,OAAD,EAAa;AACvB,YAAIb,kBAAkBa,OAAtB,EAA+B;AAC3B;AACH;;AAEDb,wBAAgBa,OAAhB;AACAX,qBAAaW,QAAQC,IAArB;AACA36C,eAAOg6C,QAAP,CAAgBC,IAAhB,GAAuBF,UAAvB;AACAn3D,iBAASsnB,KAAT,GAAoBwwC,QAAQxwC,KAA5B;AACAwvC,eAAOS,IAAP,oBAA6BO,QAAQxwC,KAArC;;AAEAqvC,eAAO52B,KAAP;AACA42B,eAAOqB,QAAP,CAAgB;AACZvlD,kBAAM,MADM;AAEZ4L,kBAAM84C,UAFM;AAGZY,uCAAyBZ;AAHb,SAAhB,EAIGc,IAJH,CAIQX,aAJR;AAKH,KAxDL;AAAA,QA0DIY,mBAAmB,SAAnBA,gBAAmB,CAACC,OAAD,EAAa;AAAA;AAAA;AAAA;;AAAA;AAC5B,iCAAoBA,OAApB,8HAA6B;AAAA,oBAAlBC,KAAkB;;AACzBxB,4BAAYc,MAAZ,CAAmB,sBAAE,OAAF,EAAW;AAC1B,6BAAS,uBADiB;AAE1B,4BAAQU,MAAM9wC;AAFY,iBAAX,CAAnB;;AADyB,2CAMdwwC,OANc;AAOrBlB,gCAAYc,MAAZ,CAAmB,sBAAE,OAAF,EAAW;AAC1B,iCAAS,iBADiB;AAE1B,gCAAQI,QAAQxwC;AAFU,qBAAX,EAGhBzN,EAHgB,CAGb,OAHa,EAGJ;AAAA,+BAAMg+C,YAAYC,OAAZ,CAAN;AAAA,qBAHI,CAAnB;;AAKA,wBAAI,CAACX,UAAD,IAAeA,eAAeW,QAAQC,IAA1C,EAAgD;AAC5CF,oCAAYC,OAAZ;AACH;AAdoB;;AAAA;AAAA;AAAA;;AAAA;AAMzB,0CAAsBM,MAAMC,QAA5B,mIAAsC;AAAA,4BAA3BP,OAA2B;;AAAA,8BAA3BA,OAA2B;AASrC;AAfwB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAgB5B;AAjB2B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAkB/B,KA5EL;;AA8EAnB,WAAOqB,QAAP,CAAgB;AACZvlD,cAAM,MADM;AAEZ4L,cAAM,UAFM;AAGZ05C,cAAM;AAHM,KAAhB,EAIGE,IAJH,CAIQC,gBAJR;;AAMAlB,aAASn9C,EAAT,CAAY,OAAZ,EAAqB,YAAM;AACvB,YAAIq9C,YAAJ,EAAkB;AACdI,0BAAcJ,aAAaxiB,QAAb,EAAd;AACH;AACJ,KAJD;AAKH,CA1FD,E;;;;;;;;;;;ACPA;;;;;;;;;;;;;AAaA,CAAE,UAAU11C,MAAV,EAAkBC,OAAlB,EAA4B;;AAE7B;;AAEA,KAAK,gCAAOE,MAAP,OAAkB,QAAlB,IAA8B,QAAOA,OAAOD,OAAd,MAA0B,QAA7D,EAAwE;;AAEvE;AACA;AACA;AACA;AACA;AACA;AACA;AACAC,SAAOD,OAAP,GAAiBF,OAAOgB,QAAP,GAChBf,QAASD,MAAT,EAAiB,IAAjB,CADgB,GAEhB,UAAU47B,CAAV,EAAc;AACb,OAAK,CAACA,EAAE56B,QAAR,EAAmB;AAClB,UAAM,IAAIyO,KAAJ,CAAW,0CAAX,CAAN;AACA;AACD,UAAOxP,QAAS27B,CAAT,CAAP;AACA,GAPF;AAQA,EAjBD,MAiBO;AACN37B,UAASD,MAAT;AACA;;AAEF;AACC,CA1BD,EA0BK,OAAOoe,MAAP,KAAkB,WAAlB,GAAgCA,MAAhC,YA1BL,EA0BoD,UAAUA,MAAV,EAAkBk7C,QAAlB,EAA6B;;AAEjF;AACA;AACA;AACA;AACA;;AAEA,KAAIhwD,MAAM,EAAV;;AAEA,KAAItI,WAAWod,OAAOpd,QAAtB;;AAEA,KAAIu4D,WAAWrvD,OAAOsvD,cAAtB;;AAEA,KAAI32D,SAAQyG,IAAIzG,KAAhB;;AAEA,KAAImQ,SAAS1J,IAAI0J,MAAjB;;AAEA,KAAI5J,OAAOE,IAAIF,IAAf;;AAEA,KAAIzB,UAAU2B,IAAI3B,OAAlB;;AAEA,KAAI8xD,aAAa,EAAjB;;AAEA,KAAIpxD,WAAWoxD,WAAWpxD,QAA1B;;AAEA,KAAIqxD,SAASD,WAAWvyD,cAAxB;;AAEA,KAAIyyD,aAAaD,OAAOrxD,QAAxB;;AAEA,KAAIuxD,uBAAuBD,WAAWjzD,IAAX,CAAiBwD,MAAjB,CAA3B;;AAEA,KAAI2vD,UAAU,EAAd;;AAIC,UAASC,OAAT,CAAkBlhD,IAAlB,EAAwB9M,GAAxB,EAA8B;AAC7BA,QAAMA,OAAO9K,QAAb;;AAEA,MAAI+4D,SAASjuD,IAAIjI,aAAJ,CAAmB,QAAnB,CAAb;;AAEAk2D,SAAO9pD,IAAP,GAAc2I,IAAd;AACA9M,MAAIwsB,IAAJ,CAAS90B,WAAT,CAAsBu2D,MAAtB,EAA+Bj1D,UAA/B,CAA0C1B,WAA1C,CAAuD22D,MAAvD;AACA;AACF;AACA;AACA;;;AAIA,KACCrC,UAAU,OADX;;;AAGC;AACAsC,UAAS,SAATA,MAAS,CAAUC,QAAV,EAAoBz2C,OAApB,EAA8B;;AAEtC;AACA;AACA,SAAO,IAAIw2C,OAAOE,EAAP,CAAU5qD,IAAd,CAAoB2qD,QAApB,EAA8Bz2C,OAA9B,CAAP;AACA,EATF;;;AAWC;AACA;AACA22C,SAAQ,oCAbT;;;AAeC;AACAC,aAAY,OAhBb;AAAA,KAiBCC,aAAa,WAjBd;;;AAmBC;AACAC,cAAa,SAAbA,UAAa,CAAUC,GAAV,EAAeC,MAAf,EAAwB;AACpC,SAAOA,OAAOjwD,WAAP,EAAP;AACA,EAtBF;;AAwBAyvD,QAAOE,EAAP,GAAYF,OAAOvzD,SAAP,GAAmB;;AAE9B;AACAg0D,UAAQ/C,OAHsB;;AAK9BjiB,eAAaukB,MALiB;;AAO9B;AACAj3D,UAAQ,CARsB;;AAU9B23D,WAAS,mBAAW;AACnB,UAAO73D,OAAM6D,IAAN,CAAY,IAAZ,CAAP;AACA,GAZ6B;;AAc9B;AACA;AACA4tB,OAAK,aAAUqmC,GAAV,EAAgB;;AAEpB;AACA,OAAKA,OAAO,IAAZ,EAAmB;AAClB,WAAO93D,OAAM6D,IAAN,CAAY,IAAZ,CAAP;AACA;;AAED;AACA,UAAOi0D,MAAM,CAAN,GAAU,KAAMA,MAAM,KAAK53D,MAAjB,CAAV,GAAsC,KAAM43D,GAAN,CAA7C;AACA,GAzB6B;;AA2B9B;AACA;AACAC,aAAW,mBAAUC,KAAV,EAAkB;;AAE5B;AACA,OAAIC,MAAMd,OAAOe,KAAP,CAAc,KAAKtlB,WAAL,EAAd,EAAkColB,KAAlC,CAAV;;AAEA;AACAC,OAAIE,UAAJ,GAAiB,IAAjB;;AAEA;AACA,UAAOF,GAAP;AACA,GAvC6B;;AAyC9B;AACAG,QAAM,cAAUC,QAAV,EAAqB;AAC1B,UAAOlB,OAAOiB,IAAP,CAAa,IAAb,EAAmBC,QAAnB,CAAP;AACA,GA5C6B;;AA8C9B3xD,OAAK,aAAU2xD,QAAV,EAAqB;AACzB,UAAO,KAAKN,SAAL,CAAgBZ,OAAOzwD,GAAP,CAAY,IAAZ,EAAkB,UAAU4xD,IAAV,EAAgBn3D,CAAhB,EAAoB;AAC5D,WAAOk3D,SAASx0D,IAAT,CAAey0D,IAAf,EAAqBn3D,CAArB,EAAwBm3D,IAAxB,CAAP;AACA,IAFsB,CAAhB,CAAP;AAGA,GAlD6B;;AAoD9Bt4D,SAAO,iBAAW;AACjB,UAAO,KAAK+3D,SAAL,CAAgB/3D,OAAM+D,KAAN,CAAa,IAAb,EAAmBD,SAAnB,CAAhB,CAAP;AACA,GAtD6B;;AAwD9B4G,SAAO,iBAAW;AACjB,UAAO,KAAK6tD,EAAL,CAAS,CAAT,CAAP;AACA,GA1D6B;;AA4D9BppD,QAAM,gBAAW;AAChB,UAAO,KAAKopD,EAAL,CAAS,CAAC,CAAV,CAAP;AACA,GA9D6B;;AAgE9BA,MAAI,YAAUp3D,CAAV,EAAc;AACjB,OAAI8T,MAAM,KAAK/U,MAAf;AAAA,OACCyS,IAAI,CAACxR,CAAD,IAAOA,IAAI,CAAJ,GAAQ8T,GAAR,GAAc,CAArB,CADL;AAEA,UAAO,KAAK8iD,SAAL,CAAgBplD,KAAK,CAAL,IAAUA,IAAIsC,GAAd,GAAoB,CAAE,KAAMtC,CAAN,CAAF,CAApB,GAAoC,EAApD,CAAP;AACA,GApE6B;;AAsE9BlR,OAAK,eAAW;AACf,UAAO,KAAK02D,UAAL,IAAmB,KAAKvlB,WAAL,EAA1B;AACA,GAxE6B;;AA0E9B;AACA;AACArsC,QAAMA,IA5EwB;AA6E9BqgC,QAAMngC,IAAImgC,IA7EoB;AA8E9B7/B,UAAQN,IAAIM;AA9EkB,EAA/B;;AAiFAowD,QAAO1zB,MAAP,GAAgB0zB,OAAOE,EAAP,CAAU5zB,MAAV,GAAmB,YAAW;AAC7C,MAAIr1B,OAAJ;AAAA,MAAaoO,IAAb;AAAA,MAAmBs7B,GAAnB;AAAA,MAAwBr3B,IAAxB;AAAA,MAA8B+3C,WAA9B;AAAA,MAA2CC,KAA3C;AAAA,MACCv0D,SAASJ,UAAW,CAAX,KAAkB,EAD5B;AAAA,MAEC3C,IAAI,CAFL;AAAA,MAGCjB,SAAS4D,UAAU5D,MAHpB;AAAA,MAICw4D,OAAO,KAJR;;AAMA;AACA,MAAK,OAAOx0D,MAAP,KAAkB,SAAvB,EAAmC;AAClCw0D,UAAOx0D,MAAP;;AAEA;AACAA,YAASJ,UAAW3C,CAAX,KAAkB,EAA3B;AACAA;AACA;;AAED;AACA,MAAK,QAAO+C,MAAP,yCAAOA,MAAP,OAAkB,QAAlB,IAA8B,CAACizD,OAAOwB,UAAP,CAAmBz0D,MAAnB,CAApC,EAAkE;AACjEA,YAAS,EAAT;AACA;;AAED;AACA,MAAK/C,MAAMjB,MAAX,EAAoB;AACnBgE,YAAS,IAAT;AACA/C;AACA;;AAED,SAAQA,IAAIjB,MAAZ,EAAoBiB,GAApB,EAA0B;;AAEzB;AACA,OAAK,CAAEiN,UAAUtK,UAAW3C,CAAX,CAAZ,KAAgC,IAArC,EAA4C;;AAE3C;AACA,SAAMqb,IAAN,IAAcpO,OAAd,EAAwB;AACvB0pC,WAAM5zC,OAAQsY,IAAR,CAAN;AACAiE,YAAOrS,QAASoO,IAAT,CAAP;;AAEA;AACA,SAAKtY,WAAWuc,IAAhB,EAAuB;AACtB;AACA;;AAED;AACA,SAAKi4C,QAAQj4C,IAAR,KAAkB02C,OAAOyB,aAAP,CAAsBn4C,IAAtB,MACpB+3C,cAAc70D,MAAMk1D,OAAN,CAAep4C,IAAf,CADM,CAAlB,CAAL,EAC6C;;AAE5C,UAAK+3C,WAAL,EAAmB;AAClBA,qBAAc,KAAd;AACAC,eAAQ3gB,OAAOn0C,MAAMk1D,OAAN,CAAe/gB,GAAf,CAAP,GAA8BA,GAA9B,GAAoC,EAA5C;AAEA,OAJD,MAIO;AACN2gB,eAAQ3gB,OAAOqf,OAAOyB,aAAP,CAAsB9gB,GAAtB,CAAP,GAAqCA,GAArC,GAA2C,EAAnD;AACA;;AAED;AACA5zC,aAAQsY,IAAR,IAAiB26C,OAAO1zB,MAAP,CAAei1B,IAAf,EAAqBD,KAArB,EAA4Bh4C,IAA5B,CAAjB;;AAED;AACC,MAfD,MAeO,IAAKA,SAAS/B,SAAd,EAA0B;AAChCxa,aAAQsY,IAAR,IAAiBiE,IAAjB;AACA;AACD;AACD;AACD;;AAED;AACA,SAAOvc,MAAP;AACA,EAnED;;AAqEAizD,QAAO1zB,MAAP,CAAe;;AAEd;AACAq1B,WAAS,WAAW,CAAEjE,UAAU1uD,KAAK4yD,MAAL,EAAZ,EAA4BhiD,OAA5B,CAAqC,KAArC,EAA4C,EAA5C,CAHN;;AAKd;AACAiiD,WAAS,IANK;;AAQdC,SAAO,eAAUC,GAAV,EAAgB;AACtB,SAAM,IAAItsD,KAAJ,CAAWssD,GAAX,CAAN;AACA,GAVa;;AAYdC,QAAM,gBAAW,CAAE,CAZL;;AAcdR,cAAY,oBAAU10D,GAAV,EAAgB;AAC3B,UAAOkzD,OAAOvmD,IAAP,CAAa3M,GAAb,MAAuB,UAA9B;AACA,GAhBa;;AAkBdm1D,YAAU,kBAAUn1D,GAAV,EAAgB;AACzB,UAAOA,OAAO,IAAP,IAAeA,QAAQA,IAAIsX,MAAlC;AACA,GApBa;;AAsBd89C,aAAW,mBAAUp1D,GAAV,EAAgB;;AAE1B;AACA;AACA;AACA,OAAI2M,OAAOumD,OAAOvmD,IAAP,CAAa3M,GAAb,CAAX;AACA,UAAO,CAAE2M,SAAS,QAAT,IAAqBA,SAAS,QAAhC;;AAEN;AACA;AACA;AACA,IAAC+b,MAAO1oB,MAAMq1D,WAAYr1D,GAAZ,CAAb,CALF;AAMA,GAlCa;;AAoCd20D,iBAAe,uBAAU30D,GAAV,EAAgB;AAC9B,OAAIs1D,KAAJ,EAAWC,IAAX;;AAEA;AACA;AACA,OAAK,CAACv1D,GAAD,IAAQuB,SAAS3B,IAAT,CAAeI,GAAf,MAAyB,iBAAtC,EAA0D;AACzD,WAAO,KAAP;AACA;;AAEDs1D,WAAQ7C,SAAUzyD,GAAV,CAAR;;AAEA;AACA,OAAK,CAACs1D,KAAN,EAAc;AACb,WAAO,IAAP;AACA;;AAED;AACAC,UAAO3C,OAAOhzD,IAAP,CAAa01D,KAAb,EAAoB,aAApB,KAAuCA,MAAM3mB,WAApD;AACA,UAAO,OAAO4mB,IAAP,KAAgB,UAAhB,IAA8B1C,WAAWjzD,IAAX,CAAiB21D,IAAjB,MAA4BzC,oBAAjE;AACA,GAvDa;;AAyDd0C,iBAAe,uBAAUx1D,GAAV,EAAgB;;AAE9B;AACA;AACA,OAAIuY,IAAJ;;AAEA,QAAMA,IAAN,IAAcvY,GAAd,EAAoB;AACnB,WAAO,KAAP;AACA;AACD,UAAO,IAAP;AACA,GAnEa;;AAqEd2M,QAAM,cAAU3M,GAAV,EAAgB;AACrB,OAAKA,OAAO,IAAZ,EAAmB;AAClB,WAAOA,MAAM,EAAb;AACA;;AAED;AACA,UAAO,QAAOA,GAAP,yCAAOA,GAAP,OAAe,QAAf,IAA2B,OAAOA,GAAP,KAAe,UAA1C,GACN2yD,WAAYpxD,SAAS3B,IAAT,CAAeI,GAAf,CAAZ,KAAsC,QADhC,UAECA,GAFD,yCAECA,GAFD,CAAP;AAGA,GA9Ea;;AAgFd;AACAy1D,cAAY,oBAAU3jD,IAAV,EAAiB;AAC5BkhD,WAASlhD,IAAT;AACA,GAnFa;;AAqFd;AACA;AACA;AACA4jD,aAAW,mBAAUp1D,MAAV,EAAmB;AAC7B,UAAOA,OAAOwS,OAAP,CAAgBwgD,SAAhB,EAA2B,KAA3B,EAAmCxgD,OAAnC,CAA4CygD,UAA5C,EAAwDC,UAAxD,CAAP;AACA,GA1Fa;;AA4FdW,QAAM,cAAUn0D,GAAV,EAAeo0D,QAAf,EAA0B;AAC/B,OAAIn4D,MAAJ;AAAA,OAAYiB,IAAI,CAAhB;;AAEA,OAAKy4D,YAAa31D,GAAb,CAAL,EAA0B;AACzB/D,aAAS+D,IAAI/D,MAAb;AACA,WAAQiB,IAAIjB,MAAZ,EAAoBiB,GAApB,EAA0B;AACzB,SAAKk3D,SAASx0D,IAAT,CAAeI,IAAK9C,CAAL,CAAf,EAAyBA,CAAzB,EAA4B8C,IAAK9C,CAAL,CAA5B,MAA2C,KAAhD,EAAwD;AACvD;AACA;AACD;AACD,IAPD,MAOO;AACN,SAAMA,CAAN,IAAW8C,GAAX,EAAiB;AAChB,SAAKo0D,SAASx0D,IAAT,CAAeI,IAAK9C,CAAL,CAAf,EAAyBA,CAAzB,EAA4B8C,IAAK9C,CAAL,CAA5B,MAA2C,KAAhD,EAAwD;AACvD;AACA;AACD;AACD;;AAED,UAAO8C,GAAP;AACA,GA/Ga;;AAiHd;AACA41D,QAAM,cAAUzsD,IAAV,EAAiB;AACtB,UAAOA,QAAQ,IAAR,GACN,EADM,GAEN,CAAEA,OAAO,EAAT,EAAc2J,OAAd,CAAuBugD,KAAvB,EAA8B,EAA9B,CAFD;AAGA,GAtHa;;AAwHd;AACAwC,aAAW,mBAAUrzD,GAAV,EAAeszD,OAAf,EAAyB;AACnC,OAAI9B,MAAM8B,WAAW,EAArB;;AAEA,OAAKtzD,OAAO,IAAZ,EAAmB;AAClB,QAAKmzD,YAAavyD,OAAQZ,GAAR,CAAb,CAAL,EAAoC;AACnC0wD,YAAOe,KAAP,CAAcD,GAAd,EACC,OAAOxxD,GAAP,KAAe,QAAf,GACA,CAAEA,GAAF,CADA,GACUA,GAFX;AAIA,KALD,MAKO;AACNF,UAAK1C,IAAL,CAAWo0D,GAAX,EAAgBxxD,GAAhB;AACA;AACD;;AAED,UAAOwxD,GAAP;AACA,GAxIa;;AA0Id+B,WAAS,iBAAU1B,IAAV,EAAgB7xD,GAAhB,EAAqBtF,CAArB,EAAyB;AACjC,UAAOsF,OAAO,IAAP,GAAc,CAAC,CAAf,GAAmB3B,QAAQjB,IAAR,CAAc4C,GAAd,EAAmB6xD,IAAnB,EAAyBn3D,CAAzB,CAA1B;AACA,GA5Ia;;AA8Id;AACA;AACA+2D,SAAO,eAAUxtD,KAAV,EAAiBuvD,MAAjB,EAA0B;AAChC,OAAIhlD,MAAM,CAACglD,OAAO/5D,MAAlB;AAAA,OACCyS,IAAI,CADL;AAAA,OAECxR,IAAIuJ,MAAMxK,MAFX;;AAIA,UAAQyS,IAAIsC,GAAZ,EAAiBtC,GAAjB,EAAuB;AACtBjI,UAAOvJ,GAAP,IAAe84D,OAAQtnD,CAAR,CAAf;AACA;;AAEDjI,SAAMxK,MAAN,GAAeiB,CAAf;;AAEA,UAAOuJ,KAAP;AACA,GA5Ja;;AA8JdwvD,QAAM,cAAUlC,KAAV,EAAiBK,QAAjB,EAA2BzmC,MAA3B,EAAoC;AACzC,OAAIuoC,eAAJ;AAAA,OACCC,UAAU,EADX;AAAA,OAECj5D,IAAI,CAFL;AAAA,OAGCjB,SAAS83D,MAAM93D,MAHhB;AAAA,OAICm6D,iBAAiB,CAACzoC,MAJnB;;AAMA;AACA;AACA,UAAQzwB,IAAIjB,MAAZ,EAAoBiB,GAApB,EAA0B;AACzBg5D,sBAAkB,CAAC9B,SAAUL,MAAO72D,CAAP,CAAV,EAAsBA,CAAtB,CAAnB;AACA,QAAKg5D,oBAAoBE,cAAzB,EAA0C;AACzCD,aAAQ7zD,IAAR,CAAcyxD,MAAO72D,CAAP,CAAd;AACA;AACD;;AAED,UAAOi5D,OAAP;AACA,GA/Ka;;AAiLd;AACA1zD,OAAK,aAAUsxD,KAAV,EAAiBK,QAAjB,EAA2BiC,GAA3B,EAAiC;AACrC,OAAIp6D,MAAJ;AAAA,OAAYoD,KAAZ;AAAA,OACCnC,IAAI,CADL;AAAA,OAEC82D,MAAM,EAFP;;AAIA;AACA,OAAK2B,YAAa5B,KAAb,CAAL,EAA4B;AAC3B93D,aAAS83D,MAAM93D,MAAf;AACA,WAAQiB,IAAIjB,MAAZ,EAAoBiB,GAApB,EAA0B;AACzBmC,aAAQ+0D,SAAUL,MAAO72D,CAAP,CAAV,EAAsBA,CAAtB,EAAyBm5D,GAAzB,CAAR;;AAEA,SAAKh3D,SAAS,IAAd,EAAqB;AACpB20D,UAAI1xD,IAAJ,CAAUjD,KAAV;AACA;AACD;;AAEF;AACC,IAXD,MAWO;AACN,SAAMnC,CAAN,IAAW62D,KAAX,EAAmB;AAClB10D,aAAQ+0D,SAAUL,MAAO72D,CAAP,CAAV,EAAsBA,CAAtB,EAAyBm5D,GAAzB,CAAR;;AAEA,SAAKh3D,SAAS,IAAd,EAAqB;AACpB20D,UAAI1xD,IAAJ,CAAUjD,KAAV;AACA;AACD;AACD;;AAED;AACA,UAAO6M,OAAOpM,KAAP,CAAc,EAAd,EAAkBk0D,GAAlB,CAAP;AACA,GA/Ma;;AAiNd;AACAsC,QAAM,CAlNQ;;AAoNd;AACA;AACAC,SAAO,eAAUnD,EAAV,EAAc12C,OAAd,EAAwB;AAC9B,OAAI85C,GAAJ,EAAS/2D,IAAT,EAAe82D,KAAf;;AAEA,OAAK,OAAO75C,OAAP,KAAmB,QAAxB,EAAmC;AAClC85C,UAAMpD,GAAI12C,OAAJ,CAAN;AACAA,cAAU02C,EAAV;AACAA,SAAKoD,GAAL;AACA;;AAED;AACA;AACA,OAAK,CAACtD,OAAOwB,UAAP,CAAmBtB,EAAnB,CAAN,EAAgC;AAC/B,WAAO34C,SAAP;AACA;;AAED;AACAhb,UAAO1D,OAAM6D,IAAN,CAAYC,SAAZ,EAAuB,CAAvB,CAAP;AACA02D,WAAQ,iBAAW;AAClB,WAAOnD,GAAGtzD,KAAH,CAAU4c,WAAW,IAArB,EAA2Bjd,KAAKyM,MAAL,CAAanQ,OAAM6D,IAAN,CAAYC,SAAZ,CAAb,CAA3B,CAAP;AACA,IAFD;;AAIA;AACA02D,SAAMD,IAAN,GAAalD,GAAGkD,IAAH,GAAUlD,GAAGkD,IAAH,IAAWpD,OAAOoD,IAAP,EAAlC;;AAEA,UAAOC,KAAP;AACA,GA/Oa;;AAiPdtZ,OAAK9e,KAAK8e,GAjPI;;AAmPd;AACA;AACA8V,WAASA;AArPK,EAAf;;AAwPA,KAAK,OAAO0D,MAAP,KAAkB,UAAvB,EAAoC;AACnCvD,SAAOE,EAAP,CAAWqD,OAAOC,QAAlB,IAA+Bl0D,IAAKi0D,OAAOC,QAAZ,CAA/B;AACA;;AAED;AACAxD,QAAOiB,IAAP,CAAa,uEAAuEn1D,KAAvE,CAA8E,GAA9E,CAAb,EACA,UAAU9B,CAAV,EAAaqb,IAAb,EAAoB;AACnBo6C,aAAY,aAAap6C,IAAb,GAAoB,GAAhC,IAAwCA,KAAK7U,WAAL,EAAxC;AACA,EAHD;;AAKA,UAASiyD,WAAT,CAAsB31D,GAAtB,EAA4B;;AAE3B;AACA;AACA;AACA;AACA,MAAI/D,SAAS,CAAC,CAAC+D,GAAF,IAAS,YAAYA,GAArB,IAA4BA,IAAI/D,MAA7C;AAAA,MACC0Q,OAAOumD,OAAOvmD,IAAP,CAAa3M,GAAb,CADR;;AAGA,MAAK2M,SAAS,UAAT,IAAuBumD,OAAOiC,QAAP,CAAiBn1D,GAAjB,CAA5B,EAAqD;AACpD,UAAO,KAAP;AACA;;AAED,SAAO2M,SAAS,OAAT,IAAoB1Q,WAAW,CAA/B,IACN,OAAOA,MAAP,KAAkB,QAAlB,IAA8BA,SAAS,CAAvC,IAA8CA,SAAS,CAAX,IAAkB+D,GAD/D;AAEA;AACD,KAAI22D;AACJ;;;;;;;;;;AAUC,WAAUr/C,MAAV,EAAmB;;AAEpB,MAAIpa,CAAJ;AAAA,MACC61D,OADD;AAAA,MAEC6D,IAFD;AAAA,MAGCC,OAHD;AAAA,MAICC,KAJD;AAAA,MAKCC,QALD;AAAA,MAMCC,OAND;AAAA,MAOC93D,MAPD;AAAA,MAQC+3D,gBARD;AAAA,MASCC,SATD;AAAA,MAUCC,YAVD;;;AAYC;AACAC,aAbD;AAAA,MAcCl9D,QAdD;AAAA,MAeCm9D,OAfD;AAAA,MAgBCC,cAhBD;AAAA,MAiBCC,SAjBD;AAAA,MAkBCC,aAlBD;AAAA,MAmBCrB,OAnBD;AAAA,MAoBC/3D,QApBD;;;AAsBC;AACAy2D,YAAU,WAAW,IAAI,IAAI12B,IAAJ,EAvB1B;AAAA,MAwBCs5B,eAAengD,OAAOpd,QAxBvB;AAAA,MAyBCw9D,UAAU,CAzBX;AAAA,MA0BCtyB,OAAO,CA1BR;AAAA,MA2BCuyB,aAAaC,aA3Bd;AAAA,MA4BCC,aAAaD,aA5Bd;AAAA,MA6BCE,gBAAgBF,aA7BjB;AAAA,MA8BCG,YAAY,mBAAUl5D,CAAV,EAAaC,CAAb,EAAiB;AAC5B,OAAKD,MAAMC,CAAX,EAAe;AACdq4D,mBAAe,IAAf;AACA;AACD,UAAO,CAAP;AACA,GAnCF;;;AAqCC;AACAvE,WAAU,EAAD,CAAKxyD,cAtCf;AAAA,MAuCCoC,MAAM,EAvCP;AAAA,MAwCC2jC,MAAM3jC,IAAI2jC,GAxCX;AAAA,MAyCC6xB,cAAcx1D,IAAIF,IAzCnB;AAAA,MA0CCA,OAAOE,IAAIF,IA1CZ;AAAA,MA2CCvG,QAAQyG,IAAIzG,KA3Cb;;AA4CC;AACA;AACA8E,YAAU,SAAVA,OAAU,CAAU4jB,IAAV,EAAgB4vC,IAAhB,EAAuB;AAChC,OAAIn3D,IAAI,CAAR;AAAA,OACC8T,MAAMyT,KAAKxoB,MADZ;AAEA,UAAQiB,IAAI8T,GAAZ,EAAiB9T,GAAjB,EAAuB;AACtB,QAAKunB,KAAKvnB,CAAL,MAAYm3D,IAAjB,EAAwB;AACvB,YAAOn3D,CAAP;AACA;AACD;AACD,UAAO,CAAC,CAAR;AACA,GAvDF;AAAA,MAyDC+6D,WAAW,4HAzDZ;;;AA2DC;;AAEA;AACAC,eAAa,qBA9Dd;;;AAgEC;AACAC,eAAa,+BAjEd;;;AAmEC;AACAC,eAAa,QAAQF,UAAR,GAAqB,IAArB,GAA4BC,UAA5B,GAAyC,MAAzC,GAAkDD,UAAlD;AACZ;AACA,iBAFY,GAEMA,UAFN;AAGZ;AACA,4DAJY,GAIiDC,UAJjD,GAI8D,MAJ9D,GAIuED,UAJvE,GAKZ,MAzEF;AAAA,MA2ECG,UAAU,OAAOF,UAAP,GAAoB,UAApB;AACT;AACA;AACA,yDAHS;AAIT;AACA,4BALS,GAKoBC,UALpB,GAKiC,MALjC;AAMT;AACA,MAPS,GAQT,QAnFF;;;AAqFC;AACAE,gBAAc,IAAI78D,MAAJ,CAAYy8D,aAAa,GAAzB,EAA8B,GAA9B,CAtFf;AAAA,MAuFC7E,QAAQ,IAAI53D,MAAJ,CAAY,MAAMy8D,UAAN,GAAmB,6BAAnB,GAAmDA,UAAnD,GAAgE,IAA5E,EAAkF,GAAlF,CAvFT;AAAA,MAyFCK,SAAS,IAAI98D,MAAJ,CAAY,MAAMy8D,UAAN,GAAmB,IAAnB,GAA0BA,UAA1B,GAAuC,GAAnD,CAzFV;AAAA,MA0FCM,eAAe,IAAI/8D,MAAJ,CAAY,MAAMy8D,UAAN,GAAmB,UAAnB,GAAgCA,UAAhC,GAA6C,GAA7C,GAAmDA,UAAnD,GAAgE,GAA5E,CA1FhB;AAAA,MA4FCO,mBAAmB,IAAIh9D,MAAJ,CAAY,MAAMy8D,UAAN,GAAmB,gBAAnB,GAAsCA,UAAtC,GAAmD,MAA/D,EAAuE,GAAvE,CA5FpB;AAAA,MA8FCQ,UAAU,IAAIj9D,MAAJ,CAAY48D,OAAZ,CA9FX;AAAA,MA+FCM,cAAc,IAAIl9D,MAAJ,CAAY,MAAM08D,UAAN,GAAmB,GAA/B,CA/Ff;AAAA,MAiGCS,YAAY;AACX,SAAM,IAAIn9D,MAAJ,CAAY,QAAQ08D,UAAR,GAAqB,GAAjC,CADK;AAEX,YAAS,IAAI18D,MAAJ,CAAY,UAAU08D,UAAV,GAAuB,GAAnC,CAFE;AAGX,UAAO,IAAI18D,MAAJ,CAAY,OAAO08D,UAAP,GAAoB,OAAhC,CAHI;AAIX,WAAQ,IAAI18D,MAAJ,CAAY,MAAM28D,UAAlB,CAJG;AAKX,aAAU,IAAI38D,MAAJ,CAAY,MAAM48D,OAAlB,CALC;AAMX,YAAS,IAAI58D,MAAJ,CAAY,2DAA2Dy8D,UAA3D,GACpB,8BADoB,GACaA,UADb,GAC0B,aAD1B,GAC0CA,UAD1C,GAEpB,YAFoB,GAELA,UAFK,GAEQ,QAFpB,EAE8B,GAF9B,CANE;AASX,WAAQ,IAAIz8D,MAAJ,CAAY,SAASw8D,QAAT,GAAoB,IAAhC,EAAsC,GAAtC,CATG;AAUX;AACA;AACA,mBAAgB,IAAIx8D,MAAJ,CAAY,MAAMy8D,UAAN,GAAmB,kDAAnB,GAC3BA,UAD2B,GACd,kBADc,GACOA,UADP,GACoB,kBADhC,EACoD,GADpD;AAZL,GAjGb;AAAA,MAiHCW,UAAU,qCAjHX;AAAA,MAkHCC,UAAU,QAlHX;AAAA,MAoHCC,UAAU,wBApHX;;;AAsHC;AACAC,eAAa,kCAvHd;AAAA,MAyHCC,WAAW,MAzHZ;;;AA2HC;AACA;AACAC,cAAY,IAAIz9D,MAAJ,CAAY,uBAAuBy8D,UAAvB,GAAoC,KAApC,GAA4CA,UAA5C,GAAyD,MAArE,EAA6E,IAA7E,CA7Hb;AAAA,MA8HCiB,YAAY,SAAZA,SAAY,CAAUC,CAAV,EAAaC,OAAb,EAAsBC,iBAAtB,EAA0C;AACrD,OAAIC,OAAO,OAAOF,OAAP,GAAiB,OAA5B;AACA;AACA;AACA;AACA,UAAOE,SAASA,IAAT,IAAiBD,iBAAjB,GACND,OADM,GAENE,OAAO,CAAP;AACC;AACAnvD,UAAOwqC,YAAP,CAAqB2kB,OAAO,OAA5B,CAFD;AAGC;AACAnvD,UAAOwqC,YAAP,CAAqB2kB,QAAQ,EAAR,GAAa,MAAlC,EAA0CA,OAAO,KAAP,GAAe,MAAzD,CANF;AAOA,GA1IF;;;AA4IC;AACA;AACAC,eAAa,qDA9Id;AAAA,MA+ICC,aAAa,SAAbA,UAAa,CAAUj2D,EAAV,EAAck2D,WAAd,EAA4B;AACxC,OAAKA,WAAL,EAAmB;;AAElB;AACA,QAAKl2D,OAAO,IAAZ,EAAmB;AAClB,YAAO,QAAP;AACA;;AAED;AACA,WAAOA,GAAGzH,KAAH,CAAU,CAAV,EAAa,CAAC,CAAd,IAAoB,IAApB,GAA2ByH,GAAGS,UAAH,CAAeT,GAAGvH,MAAH,GAAY,CAA3B,EAA+BsF,QAA/B,CAAyC,EAAzC,CAA3B,GAA2E,GAAlF;AACA;;AAED;AACA,UAAO,OAAOiC,EAAd;AACA,GA7JF;;;AA+JC;AACA;AACA;AACA;AACAm2D,kBAAgB,SAAhBA,aAAgB,GAAW;AAC1BvC;AACA,GArKF;AAAA,MAuKCwC,mBAAmBC,cAClB,UAAUxF,IAAV,EAAiB;AAChB,UAAOA,KAAK3E,QAAL,KAAkB,IAAlB,KAA2B,UAAU2E,IAAV,IAAkB,WAAWA,IAAxD,CAAP;AACA,GAHiB,EAIlB,EAAEjwD,KAAK,YAAP,EAAqBsW,MAAM,QAA3B,EAJkB,CAvKpB;;AA8KA;AACA,MAAI;AACHpY,QAAKxC,KAAL,CACE0C,MAAMzG,MAAM6D,IAAN,CAAY63D,aAAap7D,UAAzB,CADR,EAECo7D,aAAap7D,UAFd;AAIA;AACA;AACAmG,OAAKi1D,aAAap7D,UAAb,CAAwBJ,MAA7B,EAAsCqC,QAAtC;AACA,GARD,CAQE,OAAQnC,CAAR,EAAY;AACbmG,UAAO,EAAExC,OAAO0C,IAAIvG,MAAJ;;AAEf;AACA,cAAUgE,MAAV,EAAkB65D,GAAlB,EAAwB;AACvB9B,iBAAYl4D,KAAZ,CAAmBG,MAAnB,EAA2BlE,MAAM6D,IAAN,CAAWk6D,GAAX,CAA3B;AACA,KALc;;AAOf;AACA;AACA,cAAU75D,MAAV,EAAkB65D,GAAlB,EAAwB;AACvB,SAAIprD,IAAIzO,OAAOhE,MAAf;AAAA,SACCiB,IAAI,CADL;AAEA;AACA,YAAS+C,OAAOyO,GAAP,IAAcorD,IAAI58D,GAAJ,CAAvB,EAAmC,CAAE;AACrC+C,YAAOhE,MAAP,GAAgByS,IAAI,CAApB;AACA;AAfK,IAAP;AAiBA;;AAED,WAASioD,MAAT,CAAiBxD,QAAjB,EAA2Bz2C,OAA3B,EAAoCo5C,OAApC,EAA6CiE,IAA7C,EAAoD;AACnD,OAAIvrD,CAAJ;AAAA,OAAOtR,CAAP;AAAA,OAAUm3D,IAAV;AAAA,OAAgB2F,GAAhB;AAAA,OAAqB7+D,KAArB;AAAA,OAA4B8+D,MAA5B;AAAA,OAAoCC,WAApC;AAAA,OACCC,aAAaz9C,WAAWA,QAAQjF,aADjC;;;AAGC;AACAnZ,cAAWoe,UAAUA,QAAQpe,QAAlB,GAA6B,CAJzC;;AAMAw3D,aAAUA,WAAW,EAArB;;AAEA;AACA,OAAK,OAAO3C,QAAP,KAAoB,QAApB,IAAgC,CAACA,QAAjC,IACJ70D,aAAa,CAAb,IAAkBA,aAAa,CAA/B,IAAoCA,aAAa,EADlD,EACuD;;AAEtD,WAAOw3D,OAAP;AACA;;AAED;AACA,OAAK,CAACiE,IAAN,EAAa;;AAEZ,QAAK,CAAEr9C,UAAUA,QAAQjF,aAAR,IAAyBiF,OAAnC,GAA6C+6C,YAA/C,MAAkEv9D,QAAvE,EAAkF;AACjFk9D,iBAAa16C,OAAb;AACA;AACDA,cAAUA,WAAWxiB,QAArB;;AAEA,QAAKo9D,cAAL,EAAsB;;AAErB;AACA;AACA,SAAKh5D,aAAa,EAAb,KAAoBnD,QAAQ69D,WAAWl/D,IAAX,CAAiBq5D,QAAjB,CAA5B,CAAL,EAAgE;;AAE/D;AACA,UAAM3kD,IAAIrT,MAAM,CAAN,CAAV,EAAsB;;AAErB;AACA,WAAKmD,aAAa,CAAlB,EAAsB;AACrB,YAAM+1D,OAAO33C,QAAQ09C,cAAR,CAAwB5rD,CAAxB,CAAb,EAA4C;;AAE3C;AACA;AACA;AACA,aAAK6lD,KAAKtzD,EAAL,KAAYyN,CAAjB,EAAqB;AACpBsnD,kBAAQxzD,IAAR,CAAc+xD,IAAd;AACA,iBAAOyB,OAAP;AACA;AACD,SATD,MASO;AACN,gBAAOA,OAAP;AACA;;AAEF;AACC,QAfD,MAeO;;AAEN;AACA;AACA;AACA,YAAKqE,eAAe9F,OAAO8F,WAAWC,cAAX,CAA2B5rD,CAA3B,CAAtB,KACJpQ,SAAUse,OAAV,EAAmB23C,IAAnB,CADI,IAEJA,KAAKtzD,EAAL,KAAYyN,CAFb,EAEiB;;AAEhBsnD,iBAAQxzD,IAAR,CAAc+xD,IAAd;AACA,gBAAOyB,OAAP;AACA;AACD;;AAEF;AACC,OAjCD,MAiCO,IAAK36D,MAAM,CAAN,CAAL,EAAgB;AACtBmH,YAAKxC,KAAL,CAAYg2D,OAAZ,EAAqBp5C,QAAQ29C,oBAAR,CAA8BlH,QAA9B,CAArB;AACA,cAAO2C,OAAP;;AAED;AACC,OALM,MAKA,IAAK,CAACtnD,IAAIrT,MAAM,CAAN,CAAL,KAAkB43D,QAAQ5e,sBAA1B,IACXz3B,QAAQy3B,sBADF,EAC2B;;AAEjC7xC,YAAKxC,KAAL,CAAYg2D,OAAZ,EAAqBp5C,QAAQy3B,sBAAR,CAAgC3lC,CAAhC,CAArB;AACA,cAAOsnD,OAAP;AACA;AACD;;AAED;AACA,SAAK/C,QAAQuH,GAAR,IACJ,CAACxC,cAAe3E,WAAW,GAA1B,CADG,KAEH,CAACoE,SAAD,IAAc,CAACA,UAAU59D,IAAV,CAAgBw5D,QAAhB,CAFZ,CAAL,EAE+C;;AAE9C,UAAK70D,aAAa,CAAlB,EAAsB;AACrB67D,oBAAaz9C,OAAb;AACAw9C,qBAAc/G,QAAd;;AAED;AACA;AACA;AACA;AACC,OARD,MAQO,IAAKz2C,QAAQ6wC,QAAR,CAAiB7pD,WAAjB,OAAmC,QAAxC,EAAmD;;AAEzD;AACA,WAAMs2D,MAAMt9C,QAAQuL,YAAR,CAAsB,IAAtB,CAAZ,EAA4C;AAC3C+xC,cAAMA,IAAIlnD,OAAJ,CAAa0mD,UAAb,EAAyBC,UAAzB,CAAN;AACA,QAFD,MAEO;AACN/8C,gBAAQtf,YAAR,CAAsB,IAAtB,EAA6B48D,MAAMnF,OAAnC;AACA;;AAED;AACAoF,gBAASlD,SAAU5D,QAAV,CAAT;AACAj2D,WAAI+8D,OAAOh+D,MAAX;AACA,cAAQiB,GAAR,EAAc;AACb+8D,eAAO/8D,CAAP,IAAY,MAAM88D,GAAN,GAAY,GAAZ,GAAkBO,WAAYN,OAAO/8D,CAAP,CAAZ,CAA9B;AACA;AACDg9D,qBAAcD,OAAOprB,IAAP,CAAa,GAAb,CAAd;;AAEA;AACAsrB,oBAAalB,SAASt/D,IAAT,CAAew5D,QAAf,KAA6BqH,YAAa99C,QAAQ1e,UAArB,CAA7B,IACZ0e,OADD;AAEA;;AAED,UAAKw9C,WAAL,EAAmB;AAClB,WAAI;AACH53D,aAAKxC,KAAL,CAAYg2D,OAAZ,EACCqE,WAAWM,gBAAX,CAA6BP,WAA7B,CADD;AAGA,eAAOpE,OAAP;AACA,QALD,CAKE,OAAQ4E,QAAR,EAAmB,CACpB,CAND,SAMU;AACT,YAAKV,QAAQnF,OAAb,EAAuB;AACtBn4C,iBAAQi+C,eAAR,CAAyB,IAAzB;AACA;AACD;AACD;AACD;AACD;AACD;;AAED;AACA,UAAOz7D,OAAQi0D,SAASrgD,OAAT,CAAkBugD,KAAlB,EAAyB,IAAzB,CAAR,EAAyC32C,OAAzC,EAAkDo5C,OAAlD,EAA2DiE,IAA3D,CAAP;AACA;;AAED;;;;;;AAMA,WAASnC,WAAT,GAAuB;AACtB,OAAIjiB,OAAO,EAAX;;AAEA,YAASt1B,KAAT,CAAgBiK,GAAhB,EAAqBjrB,KAArB,EAA6B;AAC5B;AACA,QAAKs2C,KAAKrzC,IAAL,CAAWgoB,MAAM,GAAjB,IAAyBssC,KAAKgE,WAAnC,EAAiD;AAChD;AACA,YAAOv6C,MAAOs1B,KAAKttC,KAAL,EAAP,CAAP;AACA;AACD,WAAQgY,MAAOiK,MAAM,GAAb,IAAqBjrB,KAA7B;AACA;AACD,UAAOghB,KAAP;AACA;;AAED;;;;AAIA,WAASw6C,YAAT,CAAuBzH,EAAvB,EAA4B;AAC3BA,MAAIyB,OAAJ,IAAgB,IAAhB;AACA,UAAOzB,EAAP;AACA;;AAED;;;;AAIA,WAAS0H,MAAT,CAAiB1H,EAAjB,EAAsB;AACrB,OAAI2H,KAAK7gE,SAAS6C,aAAT,CAAuB,UAAvB,CAAT;;AAEA,OAAI;AACH,WAAO,CAAC,CAACq2D,GAAI2H,EAAJ,CAAT;AACA,IAFD,CAEE,OAAO5+D,CAAP,EAAU;AACX,WAAO,KAAP;AACA,IAJD,SAIU;AACT;AACA,QAAK4+D,GAAG/8D,UAAR,EAAqB;AACpB+8D,QAAG/8D,UAAH,CAAc1B,WAAd,CAA2By+D,EAA3B;AACA;AACD;AACAA,SAAK,IAAL;AACA;AACD;;AAED;;;;;AAKA,WAASC,SAAT,CAAoBC,KAApB,EAA2BC,OAA3B,EAAqC;AACpC,OAAI14D,MAAMy4D,MAAMj8D,KAAN,CAAY,GAAZ,CAAV;AAAA,OACC9B,IAAIsF,IAAIvG,MADT;;AAGA,UAAQiB,GAAR,EAAc;AACb05D,SAAKuE,UAAL,CAAiB34D,IAAItF,CAAJ,CAAjB,IAA4Bg+D,OAA5B;AACA;AACD;;AAED;;;;;;AAMA,WAASE,YAAT,CAAuBv8D,CAAvB,EAA0BC,CAA1B,EAA8B;AAC7B,OAAI2K,MAAM3K,KAAKD,CAAf;AAAA,OACC0K,OAAOE,OAAO5K,EAAEP,QAAF,KAAe,CAAtB,IAA2BQ,EAAER,QAAF,KAAe,CAA1C,IACNO,EAAEw8D,WAAF,GAAgBv8D,EAAEu8D,WAFpB;;AAIA;AACA,OAAK9xD,IAAL,EAAY;AACX,WAAOA,IAAP;AACA;;AAED;AACA,OAAKE,GAAL,EAAW;AACV,WAASA,MAAMA,IAAImd,WAAnB,EAAkC;AACjC,SAAKnd,QAAQ3K,CAAb,EAAiB;AAChB,aAAO,CAAC,CAAR;AACA;AACD;AACD;;AAED,UAAOD,IAAI,CAAJ,GAAQ,CAAC,CAAhB;AACA;;AAED;;;;AAIA,WAASy8D,iBAAT,CAA4B3uD,IAA5B,EAAmC;AAClC,UAAO,UAAU0nD,IAAV,EAAiB;AACvB,QAAI97C,OAAO87C,KAAK9G,QAAL,CAAc7pD,WAAd,EAAX;AACA,WAAO6U,SAAS,OAAT,IAAoB87C,KAAK1nD,IAAL,KAAcA,IAAzC;AACA,IAHD;AAIA;;AAED;;;;AAIA,WAAS4uD,kBAAT,CAA6B5uD,IAA7B,EAAoC;AACnC,UAAO,UAAU0nD,IAAV,EAAiB;AACvB,QAAI97C,OAAO87C,KAAK9G,QAAL,CAAc7pD,WAAd,EAAX;AACA,WAAO,CAAC6U,SAAS,OAAT,IAAoBA,SAAS,QAA9B,KAA2C87C,KAAK1nD,IAAL,KAAcA,IAAhE;AACA,IAHD;AAIA;;AAED;;;;AAIA,WAAS6uD,oBAAT,CAA+B9L,QAA/B,EAA0C;;AAEzC;AACA,UAAO,UAAU2E,IAAV,EAAiB;;AAEvB;AACA;AACA;AACA,QAAK,UAAUA,IAAf,EAAsB;;AAErB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAKA,KAAKr2D,UAAL,IAAmBq2D,KAAK3E,QAAL,KAAkB,KAA1C,EAAkD;;AAEjD;AACA,UAAK,WAAW2E,IAAhB,EAAuB;AACtB,WAAK,WAAWA,KAAKr2D,UAArB,EAAkC;AACjC,eAAOq2D,KAAKr2D,UAAL,CAAgB0xD,QAAhB,KAA6BA,QAApC;AACA,QAFD,MAEO;AACN,eAAO2E,KAAK3E,QAAL,KAAkBA,QAAzB;AACA;AACD;;AAED;AACA;AACA,aAAO2E,KAAKoH,UAAL,KAAoB/L,QAApB;;AAEN;AACA;AACA2E,WAAKoH,UAAL,KAAoB,CAAC/L,QAArB,IACCkK,iBAAkBvF,IAAlB,MAA6B3E,QAL/B;AAMA;;AAED,YAAO2E,KAAK3E,QAAL,KAAkBA,QAAzB;;AAED;AACA;AACA;AACC,KAnCD,MAmCO,IAAK,WAAW2E,IAAhB,EAAuB;AAC7B,YAAOA,KAAK3E,QAAL,KAAkBA,QAAzB;AACA;;AAED;AACA,WAAO,KAAP;AACA,IA9CD;AA+CA;;AAED;;;;AAIA,WAASgM,sBAAT,CAAiCtI,EAAjC,EAAsC;AACrC,UAAOyH,aAAa,UAAUc,QAAV,EAAqB;AACxCA,eAAW,CAACA,QAAZ;AACA,WAAOd,aAAa,UAAUd,IAAV,EAAgB5D,OAAhB,EAA0B;AAC7C,SAAIznD,CAAJ;AAAA,SACCktD,eAAexI,GAAI,EAAJ,EAAQ2G,KAAK99D,MAAb,EAAqB0/D,QAArB,CADhB;AAAA,SAECz+D,IAAI0+D,aAAa3/D,MAFlB;;AAIA;AACA,YAAQiB,GAAR,EAAc;AACb,UAAK68D,KAAOrrD,IAAIktD,aAAa1+D,CAAb,CAAX,CAAL,EAAqC;AACpC68D,YAAKrrD,CAAL,IAAU,EAAEynD,QAAQznD,CAAR,IAAaqrD,KAAKrrD,CAAL,CAAf,CAAV;AACA;AACD;AACD,KAXM,CAAP;AAYA,IAdM,CAAP;AAeA;;AAED;;;;;AAKA,WAAS8rD,WAAT,CAAsB99C,OAAtB,EAAgC;AAC/B,UAAOA,WAAW,OAAOA,QAAQ29C,oBAAf,KAAwC,WAAnD,IAAkE39C,OAAzE;AACA;;AAED;AACAq2C,YAAU4D,OAAO5D,OAAP,GAAiB,EAA3B;;AAEA;;;;;AAKA+D,UAAQH,OAAOG,KAAP,GAAe,UAAUzC,IAAV,EAAiB;AACvC;AACA;AACA,OAAIhoC,kBAAkBgoC,QAAQ,CAACA,KAAK58C,aAAL,IAAsB48C,IAAvB,EAA6BhoC,eAA3D;AACA,UAAOA,kBAAkBA,gBAAgBkhC,QAAhB,KAA6B,MAA/C,GAAwD,KAA/D;AACA,GALD;;AAOA;;;;;AAKA6J,gBAAcT,OAAOS,WAAP,GAAqB,UAAUz7D,IAAV,EAAiB;AACnD,OAAIkgE,UAAJ;AAAA,OAAgBC,SAAhB;AAAA,OACC92D,MAAMrJ,OAAOA,KAAK8b,aAAL,IAAsB9b,IAA7B,GAAoC87D,YAD3C;;AAGA;AACA,OAAKzyD,QAAQ9K,QAAR,IAAoB8K,IAAI1G,QAAJ,KAAiB,CAArC,IAA0C,CAAC0G,IAAIqnB,eAApD,EAAsE;AACrE,WAAOnyB,QAAP;AACA;;AAED;AACAA,cAAW8K,GAAX;AACAqyD,aAAUn9D,SAASmyB,eAAnB;AACAirC,oBAAiB,CAACR,MAAO58D,QAAP,CAAlB;;AAEA;AACA;AACA,OAAKu9D,iBAAiBv9D,QAAjB,KACH4hE,YAAY5hE,SAAS6hE,WADlB,KACkCD,UAAUtyC,GAAV,KAAkBsyC,SADzD,EACqE;;AAEpE;AACA,QAAKA,UAAU7nD,gBAAf,EAAkC;AACjC6nD,eAAU7nD,gBAAV,CAA4B,QAA5B,EAAsC0lD,aAAtC,EAAqD,KAArD;;AAED;AACC,KAJD,MAIO,IAAKmC,UAAU5nD,WAAf,EAA6B;AACnC4nD,eAAU5nD,WAAV,CAAuB,UAAvB,EAAmCylD,aAAnC;AACA;AACD;;AAED;;;AAGA;AACA;AACA;AACA5G,WAAQqF,UAAR,GAAqB0C,OAAO,UAAUC,EAAV,EAAe;AAC1CA,OAAGl/D,SAAH,GAAe,GAAf;AACA,WAAO,CAACk/D,GAAG9yC,YAAH,CAAgB,WAAhB,CAAR;AACA,IAHoB,CAArB;;AAKA;;;AAGA;AACA8qC,WAAQsH,oBAAR,GAA+BS,OAAO,UAAUC,EAAV,EAAe;AACpDA,OAAGr+D,WAAH,CAAgBxC,SAAS8hE,aAAT,CAAuB,EAAvB,CAAhB;AACA,WAAO,CAACjB,GAAGV,oBAAH,CAAwB,GAAxB,EAA6Bp+D,MAArC;AACA,IAH8B,CAA/B;;AAKA;AACA82D,WAAQ5e,sBAAR,GAAiC4kB,QAAQp/D,IAAR,CAAcO,SAASi6C,sBAAvB,CAAjC;;AAEA;AACA;AACA;AACA;AACA4e,WAAQkJ,OAAR,GAAkBnB,OAAO,UAAUC,EAAV,EAAe;AACvC1D,YAAQ36D,WAAR,CAAqBq+D,EAArB,EAA0Bh6D,EAA1B,GAA+B8zD,OAA/B;AACA,WAAO,CAAC36D,SAASgiE,iBAAV,IAA+B,CAAChiE,SAASgiE,iBAAT,CAA4BrH,OAA5B,EAAsC54D,MAA7E;AACA,IAHiB,CAAlB;;AAKA;AACA,OAAK82D,QAAQkJ,OAAb,EAAuB;AACtBrF,SAAKtsB,MAAL,CAAY,IAAZ,IAAoB,UAAUvpC,EAAV,EAAe;AAClC,SAAIo7D,SAASp7D,GAAG+R,OAAH,CAAYomD,SAAZ,EAAuBC,SAAvB,CAAb;AACA,YAAO,UAAU9E,IAAV,EAAiB;AACvB,aAAOA,KAAKpsC,YAAL,CAAkB,IAAlB,MAA4Bk0C,MAAnC;AACA,MAFD;AAGA,KALD;AAMAvF,SAAKnoD,IAAL,CAAU,IAAV,IAAkB,UAAU1N,EAAV,EAAc2b,OAAd,EAAwB;AACzC,SAAK,OAAOA,QAAQ09C,cAAf,KAAkC,WAAlC,IAAiD9C,cAAtD,EAAuE;AACtE,UAAIjD,OAAO33C,QAAQ09C,cAAR,CAAwBr5D,EAAxB,CAAX;AACA,aAAOszD,OAAO,CAAEA,IAAF,CAAP,GAAkB,EAAzB;AACA;AACD,KALD;AAMA,IAbD,MAaO;AACNuC,SAAKtsB,MAAL,CAAY,IAAZ,IAAqB,UAAUvpC,EAAV,EAAe;AACnC,SAAIo7D,SAASp7D,GAAG+R,OAAH,CAAYomD,SAAZ,EAAuBC,SAAvB,CAAb;AACA,YAAO,UAAU9E,IAAV,EAAiB;AACvB,UAAI14D,OAAO,OAAO04D,KAAK+H,gBAAZ,KAAiC,WAAjC,IACV/H,KAAK+H,gBAAL,CAAsB,IAAtB,CADD;AAEA,aAAOzgE,QAAQA,KAAK0D,KAAL,KAAe88D,MAA9B;AACA,MAJD;AAKA,KAPD;;AASA;AACA;AACAvF,SAAKnoD,IAAL,CAAU,IAAV,IAAkB,UAAU1N,EAAV,EAAc2b,OAAd,EAAwB;AACzC,SAAK,OAAOA,QAAQ09C,cAAf,KAAkC,WAAlC,IAAiD9C,cAAtD,EAAuE;AACtE,UAAI37D,IAAJ;AAAA,UAAUuB,CAAV;AAAA,UAAa62D,KAAb;AAAA,UACCM,OAAO33C,QAAQ09C,cAAR,CAAwBr5D,EAAxB,CADR;;AAGA,UAAKszD,IAAL,EAAY;;AAEX;AACA14D,cAAO04D,KAAK+H,gBAAL,CAAsB,IAAtB,CAAP;AACA,WAAKzgE,QAAQA,KAAK0D,KAAL,KAAe0B,EAA5B,EAAiC;AAChC,eAAO,CAAEszD,IAAF,CAAP;AACA;;AAED;AACAN,eAAQr3C,QAAQw/C,iBAAR,CAA2Bn7D,EAA3B,CAAR;AACA7D,WAAI,CAAJ;AACA,cAASm3D,OAAON,MAAM72D,GAAN,CAAhB,EAA8B;AAC7BvB,eAAO04D,KAAK+H,gBAAL,CAAsB,IAAtB,CAAP;AACA,YAAKzgE,QAAQA,KAAK0D,KAAL,KAAe0B,EAA5B,EAAiC;AAChC,gBAAO,CAAEszD,IAAF,CAAP;AACA;AACD;AACD;;AAED,aAAO,EAAP;AACA;AACD,KA1BD;AA2BA;;AAED;AACAuC,QAAKnoD,IAAL,CAAU,KAAV,IAAmBskD,QAAQsH,oBAAR,GAClB,UAAUz9D,GAAV,EAAe8f,OAAf,EAAyB;AACxB,QAAK,OAAOA,QAAQ29C,oBAAf,KAAwC,WAA7C,EAA2D;AAC1D,YAAO39C,QAAQ29C,oBAAR,CAA8Bz9D,GAA9B,CAAP;;AAED;AACC,KAJD,MAIO,IAAKm2D,QAAQuH,GAAb,EAAmB;AACzB,YAAO59C,QAAQ+9C,gBAAR,CAA0B79D,GAA1B,CAAP;AACA;AACD,IATiB,GAWlB,UAAUA,GAAV,EAAe8f,OAAf,EAAyB;AACxB,QAAI23C,IAAJ;AAAA,QACCmC,MAAM,EADP;AAAA,QAECt5D,IAAI,CAFL;;AAGC;AACA44D,cAAUp5C,QAAQ29C,oBAAR,CAA8Bz9D,GAA9B,CAJX;;AAMA;AACA,QAAKA,QAAQ,GAAb,EAAmB;AAClB,YAASy3D,OAAOyB,QAAQ54D,GAAR,CAAhB,EAAgC;AAC/B,UAAKm3D,KAAK/1D,QAAL,KAAkB,CAAvB,EAA2B;AAC1Bk4D,WAAIl0D,IAAJ,CAAU+xD,IAAV;AACA;AACD;;AAED,YAAOmC,GAAP;AACA;AACD,WAAOV,OAAP;AACA,IA7BF;;AA+BA;AACAc,QAAKnoD,IAAL,CAAU,OAAV,IAAqBskD,QAAQ5e,sBAAR,IAAkC,UAAUt4C,SAAV,EAAqB6gB,OAArB,EAA+B;AACrF,QAAK,OAAOA,QAAQy3B,sBAAf,KAA0C,WAA1C,IAAyDmjB,cAA9D,EAA+E;AAC9E,YAAO56C,QAAQy3B,sBAAR,CAAgCt4C,SAAhC,CAAP;AACA;AACD,IAJD;;AAMA;;;AAGA;;AAEA;AACA27D,mBAAgB,EAAhB;;AAEA;AACA;AACA;AACA;AACA;AACAD,eAAY,EAAZ;;AAEA,OAAMxE,QAAQuH,GAAR,GAAcvB,QAAQp/D,IAAR,CAAcO,SAASugE,gBAAvB,CAApB,EAAiE;AAChE;AACA;AACAK,WAAO,UAAUC,EAAV,EAAe;AACrB;AACA;AACA;AACA;AACA;AACA1D,aAAQ36D,WAAR,CAAqBq+D,EAArB,EAA0BsB,SAA1B,GAAsC,YAAYxH,OAAZ,GAAsB,QAAtB,GACrC,cADqC,GACpBA,OADoB,GACV,2BADU,GAErC,wCAFD;;AAIA;AACA;AACA;AACA;AACA,SAAKkG,GAAGN,gBAAH,CAAoB,sBAApB,EAA4Cx+D,MAAjD,EAA0D;AACzDs7D,gBAAUj1D,IAAV,CAAgB,WAAW41D,UAAX,GAAwB,cAAxC;AACA;;AAED;AACA;AACA,SAAK,CAAC6C,GAAGN,gBAAH,CAAoB,YAApB,EAAkCx+D,MAAxC,EAAiD;AAChDs7D,gBAAUj1D,IAAV,CAAgB,QAAQ41D,UAAR,GAAqB,YAArB,GAAoCD,QAApC,GAA+C,GAA/D;AACA;;AAED;AACA,SAAK,CAAC8C,GAAGN,gBAAH,CAAqB,UAAU5F,OAAV,GAAoB,IAAzC,EAAgD54D,MAAtD,EAA+D;AAC9Ds7D,gBAAUj1D,IAAV,CAAe,IAAf;AACA;;AAED;AACA;AACA;AACA,SAAK,CAACy4D,GAAGN,gBAAH,CAAoB,UAApB,EAAgCx+D,MAAtC,EAA+C;AAC9Cs7D,gBAAUj1D,IAAV,CAAe,UAAf;AACA;;AAED;AACA;AACA;AACA,SAAK,CAACy4D,GAAGN,gBAAH,CAAqB,OAAO5F,OAAP,GAAiB,IAAtC,EAA6C54D,MAAnD,EAA4D;AAC3Ds7D,gBAAUj1D,IAAV,CAAe,UAAf;AACA;AACD,KA1CD;;AA4CAw4D,WAAO,UAAUC,EAAV,EAAe;AACrBA,QAAGsB,SAAH,GAAe,wCACd,gDADD;;AAGA;AACA;AACA,SAAIp3D,QAAQ/K,SAAS6C,aAAT,CAAuB,OAAvB,CAAZ;AACAkI,WAAM7H,YAAN,CAAoB,MAApB,EAA4B,QAA5B;AACA29D,QAAGr+D,WAAH,CAAgBuI,KAAhB,EAAwB7H,YAAxB,CAAsC,MAAtC,EAA8C,GAA9C;;AAEA;AACA;AACA,SAAK29D,GAAGN,gBAAH,CAAoB,UAApB,EAAgCx+D,MAArC,EAA8C;AAC7Cs7D,gBAAUj1D,IAAV,CAAgB,SAAS41D,UAAT,GAAsB,aAAtC;AACA;;AAED;AACA;AACA,SAAK6C,GAAGN,gBAAH,CAAoB,UAApB,EAAgCx+D,MAAhC,KAA2C,CAAhD,EAAoD;AACnDs7D,gBAAUj1D,IAAV,CAAgB,UAAhB,EAA4B,WAA5B;AACA;;AAED;AACA;AACA+0D,aAAQ36D,WAAR,CAAqBq+D,EAArB,EAA0BrL,QAA1B,GAAqC,IAArC;AACA,SAAKqL,GAAGN,gBAAH,CAAoB,WAApB,EAAiCx+D,MAAjC,KAA4C,CAAjD,EAAqD;AACpDs7D,gBAAUj1D,IAAV,CAAgB,UAAhB,EAA4B,WAA5B;AACA;;AAED;AACAy4D,QAAGN,gBAAH,CAAoB,MAApB;AACAlD,eAAUj1D,IAAV,CAAe,MAAf;AACA,KAhCD;AAiCA;;AAED,OAAMywD,QAAQuJ,eAAR,GAA0BvD,QAAQp/D,IAAR,CAAew8D,UAAUkB,QAAQlB,OAAR,IACxDkB,QAAQkF,qBADgD,IAExDlF,QAAQmF,kBAFgD,IAGxDnF,QAAQoF,gBAHgD,IAIxDpF,QAAQqF,iBAJuB,CAAhC,EAIiC;;AAEhC5B,WAAO,UAAUC,EAAV,EAAe;AACrB;AACA;AACAhI,aAAQ4J,iBAAR,GAA4BxG,QAAQv2D,IAAR,CAAcm7D,EAAd,EAAkB,GAAlB,CAA5B;;AAEA;AACA;AACA5E,aAAQv2D,IAAR,CAAcm7D,EAAd,EAAkB,WAAlB;AACAvD,mBAAcl1D,IAAd,CAAoB,IAApB,EAA0B+1D,OAA1B;AACA,KATD;AAUA;;AAEDd,eAAYA,UAAUt7D,MAAV,IAAoB,IAAIR,MAAJ,CAAY87D,UAAU1oB,IAAV,CAAe,GAAf,CAAZ,CAAhC;AACA2oB,mBAAgBA,cAAcv7D,MAAd,IAAwB,IAAIR,MAAJ,CAAY+7D,cAAc3oB,IAAd,CAAmB,GAAnB,CAAZ,CAAxC;;AAEA;;AAEAgtB,gBAAa9C,QAAQp/D,IAAR,CAAc09D,QAAQuF,uBAAtB,CAAb;;AAEA;AACA;AACA;AACAx+D,cAAWy9D,cAAc9C,QAAQp/D,IAAR,CAAc09D,QAAQj5D,QAAtB,CAAd,GACV,UAAUS,CAAV,EAAaC,CAAb,EAAiB;AAChB,QAAI+9D,QAAQh+D,EAAEP,QAAF,KAAe,CAAf,GAAmBO,EAAEwtB,eAArB,GAAuCxtB,CAAnD;AAAA,QACCi+D,MAAMh+D,KAAKA,EAAEd,UADd;AAEA,WAAOa,MAAMi+D,GAAN,IAAa,CAAC,EAAGA,OAAOA,IAAIx+D,QAAJ,KAAiB,CAAxB,KACvBu+D,MAAMz+D,QAAN,GACCy+D,MAAMz+D,QAAN,CAAgB0+D,GAAhB,CADD,GAECj+D,EAAE+9D,uBAAF,IAA6B/9D,EAAE+9D,uBAAF,CAA2BE,GAA3B,IAAmC,EAH1C,CAAH,CAArB;AAKA,IATS,GAUV,UAAUj+D,CAAV,EAAaC,CAAb,EAAiB;AAChB,QAAKA,CAAL,EAAS;AACR,YAASA,IAAIA,EAAEd,UAAf,EAA6B;AAC5B,UAAKc,MAAMD,CAAX,EAAe;AACd,cAAO,IAAP;AACA;AACD;AACD;AACD,WAAO,KAAP;AACA,IAnBF;;AAqBA;;;AAGA;AACAk5D,eAAY8D,aACZ,UAAUh9D,CAAV,EAAaC,CAAb,EAAiB;;AAEhB;AACA,QAAKD,MAAMC,CAAX,EAAe;AACdq4D,oBAAe,IAAf;AACA,YAAO,CAAP;AACA;;AAED;AACA,QAAIta,UAAU,CAACh+C,EAAE+9D,uBAAH,GAA6B,CAAC99D,EAAE89D,uBAA9C;AACA,QAAK/f,OAAL,EAAe;AACd,YAAOA,OAAP;AACA;;AAED;AACAA,cAAU,CAAEh+C,EAAE4Y,aAAF,IAAmB5Y,CAArB,OAA+BC,EAAE2Y,aAAF,IAAmB3Y,CAAlD,IACTD,EAAE+9D,uBAAF,CAA2B99D,CAA3B,CADS;;AAGT;AACA,KAJD;;AAMA;AACA,QAAK+9C,UAAU,CAAV,IACH,CAACkW,QAAQgK,YAAT,IAAyBj+D,EAAE89D,uBAAF,CAA2B/9D,CAA3B,MAAmCg+C,OAD9D,EACyE;;AAExE;AACA,SAAKh+C,MAAM3E,QAAN,IAAkB2E,EAAE4Y,aAAF,KAAoBggD,YAApB,IAAoCr5D,SAASq5D,YAAT,EAAuB54D,CAAvB,CAA3D,EAAuF;AACtF,aAAO,CAAC,CAAR;AACA;AACD,SAAKC,MAAM5E,QAAN,IAAkB4E,EAAE2Y,aAAF,KAAoBggD,YAApB,IAAoCr5D,SAASq5D,YAAT,EAAuB34D,CAAvB,CAA3D,EAAuF;AACtF,aAAO,CAAP;AACA;;AAED;AACA,YAAOo4D,YACJr2D,QAASq2D,SAAT,EAAoBr4D,CAApB,IAA0BgC,QAASq2D,SAAT,EAAoBp4D,CAApB,CADtB,GAEN,CAFD;AAGA;;AAED,WAAO+9C,UAAU,CAAV,GAAc,CAAC,CAAf,GAAmB,CAA1B;AACA,IAzCW,GA0CZ,UAAUh+C,CAAV,EAAaC,CAAb,EAAiB;AAChB;AACA,QAAKD,MAAMC,CAAX,EAAe;AACdq4D,oBAAe,IAAf;AACA,YAAO,CAAP;AACA;;AAED,QAAI1tD,GAAJ;AAAA,QACCvM,IAAI,CADL;AAAA,QAEC8/D,MAAMn+D,EAAEb,UAFT;AAAA,QAGC8+D,MAAMh+D,EAAEd,UAHT;AAAA,QAICi/D,KAAK,CAAEp+D,CAAF,CAJN;AAAA,QAKCq+D,KAAK,CAAEp+D,CAAF,CALN;;AAOA;AACA,QAAK,CAACk+D,GAAD,IAAQ,CAACF,GAAd,EAAoB;AACnB,YAAOj+D,MAAM3E,QAAN,GAAiB,CAAC,CAAlB,GACN4E,MAAM5E,QAAN,GAAiB,CAAjB,GACA8iE,MAAM,CAAC,CAAP,GACAF,MAAM,CAAN,GACA5F,YACEr2D,QAASq2D,SAAT,EAAoBr4D,CAApB,IAA0BgC,QAASq2D,SAAT,EAAoBp4D,CAApB,CAD5B,GAEA,CAND;;AAQD;AACC,KAVD,MAUO,IAAKk+D,QAAQF,GAAb,EAAmB;AACzB,YAAO1B,aAAcv8D,CAAd,EAAiBC,CAAjB,CAAP;AACA;;AAED;AACA2K,UAAM5K,CAAN;AACA,WAAS4K,MAAMA,IAAIzL,UAAnB,EAAiC;AAChCi/D,QAAGtpD,OAAH,CAAYlK,GAAZ;AACA;AACDA,UAAM3K,CAAN;AACA,WAAS2K,MAAMA,IAAIzL,UAAnB,EAAiC;AAChCk/D,QAAGvpD,OAAH,CAAYlK,GAAZ;AACA;;AAED;AACA,WAAQwzD,GAAG//D,CAAH,MAAUggE,GAAGhgE,CAAH,CAAlB,EAA0B;AACzBA;AACA;;AAED,WAAOA;AACN;AACAk+D,iBAAc6B,GAAG//D,CAAH,CAAd,EAAqBggE,GAAGhgE,CAAH,CAArB,CAFM;;AAIN;AACA+/D,OAAG//D,CAAH,MAAUu6D,YAAV,GAAyB,CAAC,CAA1B,GACAyF,GAAGhgE,CAAH,MAAUu6D,YAAV,GAAyB,CAAzB,GACA,CAPD;AAQA,IA9FD;;AAgGA,UAAOv9D,QAAP;AACA,GAlZD;;AAoZAy8D,SAAOR,OAAP,GAAiB,UAAUgH,IAAV,EAAgBC,QAAhB,EAA2B;AAC3C,UAAOzG,OAAQwG,IAAR,EAAc,IAAd,EAAoB,IAApB,EAA0BC,QAA1B,CAAP;AACA,GAFD;;AAIAzG,SAAO2F,eAAP,GAAyB,UAAUjI,IAAV,EAAgB8I,IAAhB,EAAuB;AAC/C;AACA,OAAK,CAAE9I,KAAK58C,aAAL,IAAsB48C,IAAxB,MAAmCn6D,QAAxC,EAAmD;AAClDk9D,gBAAa/C,IAAb;AACA;;AAED;AACA8I,UAAOA,KAAKrqD,OAAL,CAAc2lD,gBAAd,EAAgC,QAAhC,CAAP;;AAEA,OAAK1F,QAAQuJ,eAAR,IAA2BhF,cAA3B,IACJ,CAACQ,cAAeqF,OAAO,GAAtB,CADG,KAEF,CAAC3F,aAAD,IAAkB,CAACA,cAAc79D,IAAd,CAAoBwjE,IAApB,CAFjB,MAGF,CAAC5F,SAAD,IAAkB,CAACA,UAAU59D,IAAV,CAAgBwjE,IAAhB,CAHjB,CAAL,EAGiD;;AAEhD,QAAI;AACH,SAAInJ,MAAMmC,QAAQv2D,IAAR,CAAcy0D,IAAd,EAAoB8I,IAApB,CAAV;;AAEA;AACA,SAAKnJ,OAAOjB,QAAQ4J,iBAAf;AACH;AACA;AACAtI,UAAKn6D,QAAL,IAAiBm6D,KAAKn6D,QAAL,CAAcoE,QAAd,KAA2B,EAH9C,EAGmD;AAClD,aAAO01D,GAAP;AACA;AACD,KAVD,CAUE,OAAO73D,CAAP,EAAU,CAAE;AACd;;AAED,UAAOw6D,OAAQwG,IAAR,EAAcjjE,QAAd,EAAwB,IAAxB,EAA8B,CAAEm6D,IAAF,CAA9B,EAAyCp4D,MAAzC,GAAkD,CAAzD;AACA,GA5BD;;AA8BA06D,SAAOv4D,QAAP,GAAkB,UAAUse,OAAV,EAAmB23C,IAAnB,EAA0B;AAC3C;AACA,OAAK,CAAE33C,QAAQjF,aAAR,IAAyBiF,OAA3B,MAAyCxiB,QAA9C,EAAyD;AACxDk9D,gBAAa16C,OAAb;AACA;AACD,UAAOte,SAAUse,OAAV,EAAmB23C,IAAnB,CAAP;AACA,GAND;;AAQAsC,SAAO0G,IAAP,GAAc,UAAUhJ,IAAV,EAAgB97C,IAAhB,EAAuB;AACpC;AACA,OAAK,CAAE87C,KAAK58C,aAAL,IAAsB48C,IAAxB,MAAmCn6D,QAAxC,EAAmD;AAClDk9D,gBAAa/C,IAAb;AACA;;AAED,OAAIjB,KAAKwD,KAAKuE,UAAL,CAAiB5iD,KAAK7U,WAAL,EAAjB,CAAT;;AACC;AACAiW,SAAMy5C,MAAMR,OAAOhzD,IAAP,CAAag3D,KAAKuE,UAAlB,EAA8B5iD,KAAK7U,WAAL,EAA9B,CAAN,GACL0vD,GAAIiB,IAAJ,EAAU97C,IAAV,EAAgB,CAAC++C,cAAjB,CADK,GAEL78C,SAJF;;AAMA,UAAOd,QAAQc,SAAR,GACNd,GADM,GAENo5C,QAAQqF,UAAR,IAAsB,CAACd,cAAvB,GACCjD,KAAKpsC,YAAL,CAAmB1P,IAAnB,CADD,GAEC,CAACoB,MAAM06C,KAAK+H,gBAAL,CAAsB7jD,IAAtB,CAAP,KAAuCoB,IAAI2jD,SAA3C,GACC3jD,IAAIta,KADL,GAEC,IANH;AAOA,GAnBD;;AAqBAs3D,SAAO4G,MAAP,GAAgB,UAAUrsC,GAAV,EAAgB;AAC/B,UAAO,CAACA,MAAM,EAAP,EAAWpe,OAAX,CAAoB0mD,UAApB,EAAgCC,UAAhC,CAAP;AACA,GAFD;;AAIA9C,SAAO3B,KAAP,GAAe,UAAUC,GAAV,EAAgB;AAC9B,SAAM,IAAItsD,KAAJ,CAAW,4CAA4CssD,GAAvD,CAAN;AACA,GAFD;;AAIA;;;;AAIA0B,SAAO6G,UAAP,GAAoB,UAAU1H,OAAV,EAAoB;AACvC,OAAIzB,IAAJ;AAAA,OACCoJ,aAAa,EADd;AAAA,OAEC/uD,IAAI,CAFL;AAAA,OAGCxR,IAAI,CAHL;;AAKA;AACAi6D,kBAAe,CAACpE,QAAQ2K,gBAAxB;AACAxG,eAAY,CAACnE,QAAQ4K,UAAT,IAAuB7H,QAAQ/5D,KAAR,CAAe,CAAf,CAAnC;AACA+5D,WAAQnzB,IAAR,CAAco1B,SAAd;;AAEA,OAAKZ,YAAL,EAAoB;AACnB,WAAS9C,OAAOyB,QAAQ54D,GAAR,CAAhB,EAAgC;AAC/B,SAAKm3D,SAASyB,QAAS54D,CAAT,CAAd,EAA6B;AAC5BwR,UAAI+uD,WAAWn7D,IAAX,CAAiBpF,CAAjB,CAAJ;AACA;AACD;AACD,WAAQwR,GAAR,EAAc;AACbonD,aAAQhzD,MAAR,CAAgB26D,WAAY/uD,CAAZ,CAAhB,EAAiC,CAAjC;AACA;AACD;;AAED;AACA;AACAwoD,eAAY,IAAZ;;AAEA,UAAOpB,OAAP;AACA,GA3BD;;AA6BA;;;;AAIAe,YAAUF,OAAOE,OAAP,GAAiB,UAAUxC,IAAV,EAAiB;AAC3C,OAAI14D,IAAJ;AAAA,OACCq4D,MAAM,EADP;AAAA,OAEC92D,IAAI,CAFL;AAAA,OAGCoB,WAAW+1D,KAAK/1D,QAHjB;;AAKA,OAAK,CAACA,QAAN,EAAiB;AAChB;AACA,WAAS3C,OAAO04D,KAAKn3D,GAAL,CAAhB,EAA6B;AAC5B;AACA82D,YAAO6C,QAASl7D,IAAT,CAAP;AACA;AACD,IAND,MAMO,IAAK2C,aAAa,CAAb,IAAkBA,aAAa,CAA/B,IAAoCA,aAAa,EAAtD,EAA2D;AACjE;AACA;AACA,QAAK,OAAO+1D,KAAKjH,WAAZ,KAA4B,QAAjC,EAA4C;AAC3C,YAAOiH,KAAKjH,WAAZ;AACA,KAFD,MAEO;AACN;AACA,UAAMiH,OAAOA,KAAK93D,UAAlB,EAA8B83D,IAA9B,EAAoCA,OAAOA,KAAKztC,WAAhD,EAA8D;AAC7DotC,aAAO6C,QAASxC,IAAT,CAAP;AACA;AACD;AACD,IAXM,MAWA,IAAK/1D,aAAa,CAAb,IAAkBA,aAAa,CAApC,EAAwC;AAC9C,WAAO+1D,KAAK7G,SAAZ;AACA;AACD;;AAEA,UAAOwG,GAAP;AACA,GA7BD;;AA+BA4C,SAAOD,OAAOiH,SAAP,GAAmB;;AAEzB;AACAhD,gBAAa,EAHY;;AAKzBiD,iBAAchD,YALW;;AAOzB1/D,UAAOy9D,SAPkB;;AASzBuC,eAAY,EATa;;AAWzB1sD,SAAM,EAXmB;;AAazBqvD,aAAU;AACT,SAAK,EAAE15D,KAAK,YAAP,EAAqBqC,OAAO,IAA5B,EADI;AAET,SAAK,EAAErC,KAAK,YAAP,EAFI;AAGT,SAAK,EAAEA,KAAK,iBAAP,EAA0BqC,OAAO,IAAjC,EAHI;AAIT,SAAK,EAAErC,KAAK,iBAAP;AAJI,IAbe;;AAoBzB25D,cAAW;AACV,YAAQ,cAAU5iE,KAAV,EAAkB;AACzBA,WAAM,CAAN,IAAWA,MAAM,CAAN,EAAS2X,OAAT,CAAkBomD,SAAlB,EAA6BC,SAA7B,CAAX;;AAEA;AACAh+D,WAAM,CAAN,IAAW,CAAEA,MAAM,CAAN,KAAYA,MAAM,CAAN,CAAZ,IAAwBA,MAAM,CAAN,CAAxB,IAAoC,EAAtC,EAA2C2X,OAA3C,CAAoDomD,SAApD,EAA+DC,SAA/D,CAAX;;AAEA,SAAKh+D,MAAM,CAAN,MAAa,IAAlB,EAAyB;AACxBA,YAAM,CAAN,IAAW,MAAMA,MAAM,CAAN,CAAN,GAAiB,GAA5B;AACA;;AAED,YAAOA,MAAMY,KAAN,CAAa,CAAb,EAAgB,CAAhB,CAAP;AACA,KAZS;;AAcV,aAAS,eAAUZ,KAAV,EAAkB;AAC1B;;;;;;;;;;AAUAA,WAAM,CAAN,IAAWA,MAAM,CAAN,EAASuI,WAAT,EAAX;;AAEA,SAAKvI,MAAM,CAAN,EAASY,KAAT,CAAgB,CAAhB,EAAmB,CAAnB,MAA2B,KAAhC,EAAwC;AACvC;AACA,UAAK,CAACZ,MAAM,CAAN,CAAN,EAAiB;AAChBw7D,cAAO3B,KAAP,CAAc75D,MAAM,CAAN,CAAd;AACA;;AAED;AACA;AACAA,YAAM,CAAN,IAAW,EAAGA,MAAM,CAAN,IAAWA,MAAM,CAAN,KAAYA,MAAM,CAAN,KAAY,CAAxB,CAAX,GAAwC,KAAMA,MAAM,CAAN,MAAa,MAAb,IAAuBA,MAAM,CAAN,MAAa,KAA1C,CAA3C,CAAX;AACAA,YAAM,CAAN,IAAW,EAAKA,MAAM,CAAN,IAAWA,MAAM,CAAN,CAAb,IAA2BA,MAAM,CAAN,MAAa,KAA3C,CAAX;;AAED;AACC,MAZD,MAYO,IAAKA,MAAM,CAAN,CAAL,EAAgB;AACtBw7D,aAAO3B,KAAP,CAAc75D,MAAM,CAAN,CAAd;AACA;;AAED,YAAOA,KAAP;AACA,KA5CS;;AA8CV,cAAU,gBAAUA,KAAV,EAAkB;AAC3B,SAAI6iE,MAAJ;AAAA,SACCC,WAAW,CAAC9iE,MAAM,CAAN,CAAD,IAAaA,MAAM,CAAN,CADzB;;AAGA,SAAKy9D,UAAU,OAAV,EAAmBj/D,IAAnB,CAAyBwB,MAAM,CAAN,CAAzB,CAAL,EAA2C;AAC1C,aAAO,IAAP;AACA;;AAED;AACA,SAAKA,MAAM,CAAN,CAAL,EAAgB;AACfA,YAAM,CAAN,IAAWA,MAAM,CAAN,KAAYA,MAAM,CAAN,CAAZ,IAAwB,EAAnC;;AAED;AACC,MAJD,MAIO,IAAK8iE,YAAYvF,QAAQ/+D,IAAR,CAAcskE,QAAd,CAAZ;AACX;AACCD,cAASjH,SAAUkH,QAAV,EAAoB,IAApB,CAFC;AAGX;AACCD,cAASC,SAASp9D,OAAT,CAAkB,GAAlB,EAAuBo9D,SAAShiE,MAAT,GAAkB+hE,MAAzC,IAAoDC,SAAShiE,MAJ5D,CAAL,EAI2E;;AAEjF;AACAd,YAAM,CAAN,IAAWA,MAAM,CAAN,EAASY,KAAT,CAAgB,CAAhB,EAAmBiiE,MAAnB,CAAX;AACA7iE,YAAM,CAAN,IAAW8iE,SAASliE,KAAT,CAAgB,CAAhB,EAAmBiiE,MAAnB,CAAX;AACA;;AAED;AACA,YAAO7iE,MAAMY,KAAN,CAAa,CAAb,EAAgB,CAAhB,CAAP;AACA;AAxES,IApBc;;AA+FzBuuC,WAAQ;;AAEP,WAAO,aAAU4zB,gBAAV,EAA6B;AACnC,SAAI3Q,WAAW2Q,iBAAiBprD,OAAjB,CAA0BomD,SAA1B,EAAqCC,SAArC,EAAiDz1D,WAAjD,EAAf;AACA,YAAOw6D,qBAAqB,GAArB,GACN,YAAW;AAAE,aAAO,IAAP;AAAc,MADrB,GAEN,UAAU7J,IAAV,EAAiB;AAChB,aAAOA,KAAK9G,QAAL,IAAiB8G,KAAK9G,QAAL,CAAc7pD,WAAd,OAAgC6pD,QAAxD;AACA,MAJF;AAKA,KATM;;AAWP,aAAS,eAAU1xD,SAAV,EAAsB;AAC9B,SAAIwf,UAAUs8C,WAAY97D,YAAY,GAAxB,CAAd;;AAEA,YAAOwf,WACN,CAACA,UAAU,IAAI5f,MAAJ,CAAY,QAAQy8D,UAAR,GAAqB,GAArB,GAA2Br8D,SAA3B,GAAuC,GAAvC,GAA6Cq8D,UAA7C,GAA0D,KAAtE,CAAX,KACAP,WAAY97D,SAAZ,EAAuB,UAAUw4D,IAAV,EAAiB;AACvC,aAAOh5C,QAAQ1hB,IAAR,CAAc,OAAO06D,KAAKx4D,SAAZ,KAA0B,QAA1B,IAAsCw4D,KAAKx4D,SAA3C,IAAwD,OAAOw4D,KAAKpsC,YAAZ,KAA6B,WAA7B,IAA4CosC,KAAKpsC,YAAL,CAAkB,OAAlB,CAApG,IAAkI,EAAhJ,CAAP;AACA,MAFD,CAFD;AAKA,KAnBM;;AAqBP,YAAQ,cAAU1P,IAAV,EAAgB4lD,QAAhB,EAA0B/V,KAA1B,EAAkC;AACzC,YAAO,UAAUiM,IAAV,EAAiB;AACvB,UAAIn9C,SAASy/C,OAAO0G,IAAP,CAAahJ,IAAb,EAAmB97C,IAAnB,CAAb;;AAEA,UAAKrB,UAAU,IAAf,EAAsB;AACrB,cAAOinD,aAAa,IAApB;AACA;AACD,UAAK,CAACA,QAAN,EAAiB;AAChB,cAAO,IAAP;AACA;;AAEDjnD,gBAAU,EAAV;;AAEA,aAAOinD,aAAa,GAAb,GAAmBjnD,WAAWkxC,KAA9B,GACN+V,aAAa,IAAb,GAAoBjnD,WAAWkxC,KAA/B,GACA+V,aAAa,IAAb,GAAoB/V,SAASlxC,OAAOrW,OAAP,CAAgBunD,KAAhB,MAA4B,CAAzD,GACA+V,aAAa,IAAb,GAAoB/V,SAASlxC,OAAOrW,OAAP,CAAgBunD,KAAhB,IAA0B,CAAC,CAAxD,GACA+V,aAAa,IAAb,GAAoB/V,SAASlxC,OAAOnb,KAAP,CAAc,CAACqsD,MAAMnsD,MAArB,MAAkCmsD,KAA/D,GACA+V,aAAa,IAAb,GAAoB,CAAE,MAAMjnD,OAAOpE,OAAP,CAAgBwlD,WAAhB,EAA6B,GAA7B,CAAN,GAA2C,GAA7C,EAAmDz3D,OAAnD,CAA4DunD,KAA5D,IAAsE,CAAC,CAA3F,GACA+V,aAAa,IAAb,GAAoBjnD,WAAWkxC,KAAX,IAAoBlxC,OAAOnb,KAAP,CAAc,CAAd,EAAiBqsD,MAAMnsD,MAAN,GAAe,CAAhC,MAAwCmsD,QAAQ,GAAxF,GACA,KAPD;AAQA,MApBD;AAqBA,KA3CM;;AA6CP,aAAS,eAAUz7C,IAAV,EAAgByxD,IAAhB,EAAsBzC,QAAtB,EAAgCl1D,KAAhC,EAAuCyE,IAAvC,EAA8C;AACtD,SAAImzD,SAAS1xD,KAAK5Q,KAAL,CAAY,CAAZ,EAAe,CAAf,MAAuB,KAApC;AAAA,SACCuiE,UAAU3xD,KAAK5Q,KAAL,CAAY,CAAC,CAAb,MAAqB,MADhC;AAAA,SAECwiE,SAASH,SAAS,SAFnB;;AAIA,YAAO33D,UAAU,CAAV,IAAeyE,SAAS,CAAxB;;AAEN;AACA,eAAUmpD,IAAV,EAAiB;AAChB,aAAO,CAAC,CAACA,KAAKr2D,UAAd;AACA,MALK,GAON,UAAUq2D,IAAV,EAAgB33C,OAAhB,EAAyB8hD,GAAzB,EAA+B;AAC9B,UAAIn+C,KAAJ;AAAA,UAAWo+C,WAAX;AAAA,UAAwBC,UAAxB;AAAA,UAAoC/iE,IAApC;AAAA,UAA0CgjE,SAA1C;AAAA,UAAqDphE,KAArD;AAAA,UACC6G,MAAMi6D,WAAWC,OAAX,GAAqB,aAArB,GAAqC,iBAD5C;AAAA,UAEC7hE,SAAS43D,KAAKr2D,UAFf;AAAA,UAGCua,OAAOgmD,UAAUlK,KAAK9G,QAAL,CAAc7pD,WAAd,EAHlB;AAAA,UAICk7D,WAAW,CAACJ,GAAD,IAAQ,CAACD,MAJrB;AAAA,UAKCh1D,OAAO,KALR;;AAOA,UAAK9M,MAAL,EAAc;;AAEb;AACA,WAAK4hE,MAAL,EAAc;AACb,eAAQj6D,GAAR,EAAc;AACbzI,gBAAO04D,IAAP;AACA,gBAAS14D,OAAOA,KAAMyI,GAAN,CAAhB,EAA+B;AAC9B,cAAKm6D,SACJ5iE,KAAK4xD,QAAL,CAAc7pD,WAAd,OAAgC6U,IAD5B,GAEJ5c,KAAK2C,QAAL,KAAkB,CAFnB,EAEuB;;AAEtB,kBAAO,KAAP;AACA;AACD;AACD;AACAf,iBAAQ6G,MAAMuI,SAAS,MAAT,IAAmB,CAACpP,KAApB,IAA6B,aAA3C;AACA;AACD,eAAO,IAAP;AACA;;AAEDA,eAAQ,CAAE+gE,UAAU7hE,OAAOF,UAAjB,GAA8BE,OAAO4kB,SAAvC,CAAR;;AAEA;AACA,WAAKi9C,WAAWM,QAAhB,EAA2B;;AAE1B;;AAEA;AACAjjE,eAAOc,MAAP;AACAiiE,qBAAa/iE,KAAMk5D,OAAN,MAAoBl5D,KAAMk5D,OAAN,IAAkB,EAAtC,CAAb;;AAEA;AACA;AACA4J,sBAAcC,WAAY/iE,KAAKkjE,QAAjB,MACZH,WAAY/iE,KAAKkjE,QAAjB,IAA8B,EADlB,CAAd;;AAGAx+C,gBAAQo+C,YAAa9xD,IAAb,KAAuB,EAA/B;AACAgyD,oBAAYt+C,MAAO,CAAP,MAAeq3C,OAAf,IAA0Br3C,MAAO,CAAP,CAAtC;AACA9W,eAAOo1D,aAAat+C,MAAO,CAAP,CAApB;AACA1kB,eAAOgjE,aAAaliE,OAAOJ,UAAP,CAAmBsiE,SAAnB,CAApB;;AAEA,eAAShjE,OAAO,EAAEgjE,SAAF,IAAehjE,IAAf,IAAuBA,KAAMyI,GAAN,CAAvB;;AAEf;AACCmF,eAAOo1D,YAAY,CAHL,KAGWphE,MAAM4oC,GAAN,EAH3B,EAG0C;;AAEzC;AACA,aAAKxqC,KAAK2C,QAAL,KAAkB,CAAlB,IAAuB,EAAEiL,IAAzB,IAAiC5N,SAAS04D,IAA/C,EAAsD;AACrDoK,sBAAa9xD,IAAb,IAAsB,CAAE+qD,OAAF,EAAWiH,SAAX,EAAsBp1D,IAAtB,CAAtB;AACA;AACA;AACD;AAED,QA9BD,MA8BO;AACN;AACA,YAAKq1D,QAAL,EAAgB;AACf;AACAjjE,gBAAO04D,IAAP;AACAqK,sBAAa/iE,KAAMk5D,OAAN,MAAoBl5D,KAAMk5D,OAAN,IAAkB,EAAtC,CAAb;;AAEA;AACA;AACA4J,uBAAcC,WAAY/iE,KAAKkjE,QAAjB,MACZH,WAAY/iE,KAAKkjE,QAAjB,IAA8B,EADlB,CAAd;;AAGAx+C,iBAAQo+C,YAAa9xD,IAAb,KAAuB,EAA/B;AACAgyD,qBAAYt+C,MAAO,CAAP,MAAeq3C,OAAf,IAA0Br3C,MAAO,CAAP,CAAtC;AACA9W,gBAAOo1D,SAAP;AACA;;AAED;AACA;AACA,YAAKp1D,SAAS,KAAd,EAAsB;AACrB;AACA,gBAAS5N,OAAO,EAAEgjE,SAAF,IAAehjE,IAAf,IAAuBA,KAAMyI,GAAN,CAAvB,KACdmF,OAAOo1D,YAAY,CADL,KACWphE,MAAM4oC,GAAN,EAD3B,EAC0C;;AAEzC,cAAK,CAAEo4B,SACN5iE,KAAK4xD,QAAL,CAAc7pD,WAAd,OAAgC6U,IAD1B,GAEN5c,KAAK2C,QAAL,KAAkB,CAFd,KAGJ,EAAEiL,IAHH,EAGU;;AAET;AACA,eAAKq1D,QAAL,EAAgB;AACfF,yBAAa/iE,KAAMk5D,OAAN,MAAoBl5D,KAAMk5D,OAAN,IAAkB,EAAtC,CAAb;;AAEA;AACA;AACA4J,0BAAcC,WAAY/iE,KAAKkjE,QAAjB,MACZH,WAAY/iE,KAAKkjE,QAAjB,IAA8B,EADlB,CAAd;;AAGAJ,wBAAa9xD,IAAb,IAAsB,CAAE+qD,OAAF,EAAWnuD,IAAX,CAAtB;AACA;;AAED,eAAK5N,SAAS04D,IAAd,EAAqB;AACpB;AACA;AACD;AACD;AACD;AACD;;AAED;AACA9qD,eAAQ2B,IAAR;AACA,cAAO3B,SAAS9C,KAAT,IAAoB8C,OAAO9C,KAAP,KAAiB,CAAjB,IAAsB8C,OAAO9C,KAAP,IAAgB,CAAjE;AACA;AACD,MAzHF;AA0HA,KA5KM;;AA8KP,cAAU,gBAAUq4D,MAAV,EAAkBnD,QAAlB,EAA6B;AACtC;AACA;AACA;AACA;AACA,SAAIl8D,IAAJ;AAAA,SACC2zD,KAAKwD,KAAKyB,OAAL,CAAcyG,MAAd,KAA0BlI,KAAKmI,UAAL,CAAiBD,OAAOp7D,WAAP,EAAjB,CAA1B,IACJizD,OAAO3B,KAAP,CAAc,yBAAyB8J,MAAvC,CAFF;;AAIA;AACA;AACA;AACA,SAAK1L,GAAIyB,OAAJ,CAAL,EAAqB;AACpB,aAAOzB,GAAIuI,QAAJ,CAAP;AACA;;AAED;AACA,SAAKvI,GAAGn3D,MAAH,GAAY,CAAjB,EAAqB;AACpBwD,aAAO,CAAEq/D,MAAF,EAAUA,MAAV,EAAkB,EAAlB,EAAsBnD,QAAtB,CAAP;AACA,aAAO/E,KAAKmI,UAAL,CAAgB3+D,cAAhB,CAAgC0+D,OAAOp7D,WAAP,EAAhC,IACNm3D,aAAa,UAAUd,IAAV,EAAgB5D,OAAhB,EAA0B;AACtC,WAAI6I,GAAJ;AAAA,WACCC,UAAU7L,GAAI2G,IAAJ,EAAU4B,QAAV,CADX;AAAA,WAECz+D,IAAI+hE,QAAQhjE,MAFb;AAGA,cAAQiB,GAAR,EAAc;AACb8hE,cAAMn+D,QAASk5D,IAAT,EAAekF,QAAQ/hE,CAAR,CAAf,CAAN;AACA68D,aAAMiF,GAAN,IAAc,EAAG7I,QAAS6I,GAAT,IAAiBC,QAAQ/hE,CAAR,CAApB,CAAd;AACA;AACD,OARD,CADM,GAUN,UAAUm3D,IAAV,EAAiB;AAChB,cAAOjB,GAAIiB,IAAJ,EAAU,CAAV,EAAa50D,IAAb,CAAP;AACA,OAZF;AAaA;;AAED,YAAO2zD,EAAP;AACA;AAjNM,IA/FiB;;AAmTzBiF,YAAS;AACR;AACA,WAAOwC,aAAa,UAAU1H,QAAV,EAAqB;AACxC;AACA;AACA;AACA,SAAIluD,QAAQ,EAAZ;AAAA,SACC6wD,UAAU,EADX;AAAA,SAECoJ,UAAUlI,QAAS7D,SAASrgD,OAAT,CAAkBugD,KAAlB,EAAyB,IAAzB,CAAT,CAFX;;AAIA,YAAO6L,QAASrK,OAAT,IACNgG,aAAa,UAAUd,IAAV,EAAgB5D,OAAhB,EAAyBz5C,OAAzB,EAAkC8hD,GAAlC,EAAwC;AACpD,UAAInK,IAAJ;AAAA,UACC8K,YAAYD,QAASnF,IAAT,EAAe,IAAf,EAAqByE,GAArB,EAA0B,EAA1B,CADb;AAAA,UAECthE,IAAI68D,KAAK99D,MAFV;;AAIA;AACA,aAAQiB,GAAR,EAAc;AACb,WAAMm3D,OAAO8K,UAAUjiE,CAAV,CAAb,EAA6B;AAC5B68D,aAAK78D,CAAL,IAAU,EAAEi5D,QAAQj5D,CAAR,IAAam3D,IAAf,CAAV;AACA;AACD;AACD,MAXD,CADM,GAaN,UAAUA,IAAV,EAAgB33C,OAAhB,EAAyB8hD,GAAzB,EAA+B;AAC9Bv5D,YAAM,CAAN,IAAWovD,IAAX;AACA6K,cAASj6D,KAAT,EAAgB,IAAhB,EAAsBu5D,GAAtB,EAA2B1I,OAA3B;AACA;AACA7wD,YAAM,CAAN,IAAW,IAAX;AACA,aAAO,CAAC6wD,QAAQ3vB,GAAR,EAAR;AACA,MAnBF;AAoBA,KA5BM,CAFC;;AAgCR,WAAO00B,aAAa,UAAU1H,QAAV,EAAqB;AACxC,YAAO,UAAUkB,IAAV,EAAiB;AACvB,aAAOsC,OAAQxD,QAAR,EAAkBkB,IAAlB,EAAyBp4D,MAAzB,GAAkC,CAAzC;AACA,MAFD;AAGA,KAJM,CAhCC;;AAsCR,gBAAY4+D,aAAa,UAAU1xD,IAAV,EAAiB;AACzCA,YAAOA,KAAK2J,OAAL,CAAcomD,SAAd,EAAyBC,SAAzB,CAAP;AACA,YAAO,UAAU9E,IAAV,EAAiB;AACvB,aAAO,CAAEA,KAAKjH,WAAL,IAAoBiH,KAAK+K,SAAzB,IAAsCvI,QAASxC,IAAT,CAAxC,EAA0DxzD,OAA1D,CAAmEsI,IAAnE,IAA4E,CAAC,CAApF;AACA,MAFD;AAGA,KALW,CAtCJ;;AA6CR;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAQ0xD,aAAc,UAAUwE,IAAV,EAAiB;AACtC;AACA,SAAK,CAAC1G,YAAYh/D,IAAZ,CAAiB0lE,QAAQ,EAAzB,CAAN,EAAqC;AACpC1I,aAAO3B,KAAP,CAAc,uBAAuBqK,IAArC;AACA;AACDA,YAAOA,KAAKvsD,OAAL,CAAcomD,SAAd,EAAyBC,SAAzB,EAAqCz1D,WAArC,EAAP;AACA,YAAO,UAAU2wD,IAAV,EAAiB;AACvB,UAAIiL,QAAJ;AACA,SAAG;AACF,WAAMA,WAAWhI,iBAChBjD,KAAKgL,IADW,GAEhBhL,KAAKpsC,YAAL,CAAkB,UAAlB,KAAiCosC,KAAKpsC,YAAL,CAAkB,MAAlB,CAFlC,EAE+D;;AAE9Dq3C,mBAAWA,SAAS57D,WAAT,EAAX;AACA,eAAO47D,aAAaD,IAAb,IAAqBC,SAASz+D,OAAT,CAAkBw+D,OAAO,GAAzB,MAAmC,CAA/D;AACA;AACD,OARD,QAQU,CAAChL,OAAOA,KAAKr2D,UAAb,KAA4Bq2D,KAAK/1D,QAAL,KAAkB,CARxD;AASA,aAAO,KAAP;AACA,MAZD;AAaA,KAnBO,CApDA;;AAyER;AACA,cAAU,gBAAU+1D,IAAV,EAAiB;AAC1B,SAAI9C,OAAOj6C,OAAOg6C,QAAP,IAAmBh6C,OAAOg6C,QAAP,CAAgBC,IAA9C;AACA,YAAOA,QAAQA,KAAKx1D,KAAL,CAAY,CAAZ,MAAoBs4D,KAAKtzD,EAAxC;AACA,KA7EO;;AA+ER,YAAQ,cAAUszD,IAAV,EAAiB;AACxB,YAAOA,SAASgD,OAAhB;AACA,KAjFO;;AAmFR,aAAS,eAAUhD,IAAV,EAAiB;AACzB,YAAOA,SAASn6D,SAASuE,aAAlB,KAAoC,CAACvE,SAASmlC,QAAV,IAAsBnlC,SAASmlC,QAAT,EAA1D,KAAkF,CAAC,EAAEg1B,KAAK1nD,IAAL,IAAa0nD,KAAKkL,IAAlB,IAA0B,CAAClL,KAAKzS,QAAlC,CAA1F;AACA,KArFO;;AAuFR;AACA,eAAW4Z,qBAAsB,KAAtB,CAxFH;AAyFR,gBAAYA,qBAAsB,IAAtB,CAzFJ;;AA2FR,eAAW,iBAAUnH,IAAV,EAAiB;AAC3B;AACA;AACA,SAAI9G,WAAW8G,KAAK9G,QAAL,CAAc7pD,WAAd,EAAf;AACA,YAAQ6pD,aAAa,OAAb,IAAwB,CAAC,CAAC8G,KAAKmL,OAAhC,IAA6CjS,aAAa,QAAb,IAAyB,CAAC,CAAC8G,KAAK9gB,QAApF;AACA,KAhGO;;AAkGR,gBAAY,kBAAU8gB,IAAV,EAAiB;AAC5B;AACA;AACA,SAAKA,KAAKr2D,UAAV,EAAuB;AACtBq2D,WAAKr2D,UAAL,CAAgByhE,aAAhB;AACA;;AAED,YAAOpL,KAAK9gB,QAAL,KAAkB,IAAzB;AACA,KA1GO;;AA4GR;AACA,aAAS,eAAU8gB,IAAV,EAAiB;AACzB;AACA;AACA;AACA;AACA,UAAMA,OAAOA,KAAK93D,UAAlB,EAA8B83D,IAA9B,EAAoCA,OAAOA,KAAKztC,WAAhD,EAA8D;AAC7D,UAAKytC,KAAK/1D,QAAL,GAAgB,CAArB,EAAyB;AACxB,cAAO,KAAP;AACA;AACD;AACD,YAAO,IAAP;AACA,KAxHO;;AA0HR,cAAU,gBAAU+1D,IAAV,EAAiB;AAC1B,YAAO,CAACuC,KAAKyB,OAAL,CAAa,OAAb,EAAuBhE,IAAvB,CAAR;AACA,KA5HO;;AA8HR;AACA,cAAU,gBAAUA,IAAV,EAAiB;AAC1B,YAAOyE,QAAQn/D,IAAR,CAAc06D,KAAK9G,QAAnB,CAAP;AACA,KAjIO;;AAmIR,aAAS,eAAU8G,IAAV,EAAiB;AACzB,YAAOwE,QAAQl/D,IAAR,CAAc06D,KAAK9G,QAAnB,CAAP;AACA,KArIO;;AAuIR,cAAU,gBAAU8G,IAAV,EAAiB;AAC1B,SAAI97C,OAAO87C,KAAK9G,QAAL,CAAc7pD,WAAd,EAAX;AACA,YAAO6U,SAAS,OAAT,IAAoB87C,KAAK1nD,IAAL,KAAc,QAAlC,IAA8C4L,SAAS,QAA9D;AACA,KA1IO;;AA4IR,YAAQ,cAAU87C,IAAV,EAAiB;AACxB,SAAIgJ,IAAJ;AACA,YAAOhJ,KAAK9G,QAAL,CAAc7pD,WAAd,OAAgC,OAAhC,IACN2wD,KAAK1nD,IAAL,KAAc,MADR;;AAGN;AACA;AACE,MAAC0wD,OAAOhJ,KAAKpsC,YAAL,CAAkB,MAAlB,CAAR,KAAsC,IAAtC,IAA8Co1C,KAAK35D,WAAL,OAAuB,MALjE,CAAP;AAMA,KApJO;;AAsJR;AACA,aAASg4D,uBAAuB,YAAW;AAC1C,YAAO,CAAE,CAAF,CAAP;AACA,KAFQ,CAvJD;;AA2JR,YAAQA,uBAAuB,UAAUE,YAAV,EAAwB3/D,MAAxB,EAAiC;AAC/D,YAAO,CAAEA,SAAS,CAAX,CAAP;AACA,KAFO,CA3JA;;AA+JR,UAAMy/D,uBAAuB,UAAUE,YAAV,EAAwB3/D,MAAxB,EAAgC0/D,QAAhC,EAA2C;AACvE,YAAO,CAAEA,WAAW,CAAX,GAAeA,WAAW1/D,MAA1B,GAAmC0/D,QAArC,CAAP;AACA,KAFK,CA/JE;;AAmKR,YAAQD,uBAAuB,UAAUE,YAAV,EAAwB3/D,MAAxB,EAAiC;AAC/D,SAAIiB,IAAI,CAAR;AACA,YAAQA,IAAIjB,MAAZ,EAAoBiB,KAAK,CAAzB,EAA6B;AAC5B0+D,mBAAat5D,IAAb,CAAmBpF,CAAnB;AACA;AACD,YAAO0+D,YAAP;AACA,KANO,CAnKA;;AA2KR,WAAOF,uBAAuB,UAAUE,YAAV,EAAwB3/D,MAAxB,EAAiC;AAC9D,SAAIiB,IAAI,CAAR;AACA,YAAQA,IAAIjB,MAAZ,EAAoBiB,KAAK,CAAzB,EAA6B;AAC5B0+D,mBAAat5D,IAAb,CAAmBpF,CAAnB;AACA;AACD,YAAO0+D,YAAP;AACA,KANM,CA3KC;;AAmLR,UAAMF,uBAAuB,UAAUE,YAAV,EAAwB3/D,MAAxB,EAAgC0/D,QAAhC,EAA2C;AACvE,SAAIz+D,IAAIy+D,WAAW,CAAX,GAAeA,WAAW1/D,MAA1B,GAAmC0/D,QAA3C;AACA,YAAQ,EAAEz+D,CAAF,IAAO,CAAf,GAAoB;AACnB0+D,mBAAat5D,IAAb,CAAmBpF,CAAnB;AACA;AACD,YAAO0+D,YAAP;AACA,KANK,CAnLE;;AA2LR,UAAMF,uBAAuB,UAAUE,YAAV,EAAwB3/D,MAAxB,EAAgC0/D,QAAhC,EAA2C;AACvE,SAAIz+D,IAAIy+D,WAAW,CAAX,GAAeA,WAAW1/D,MAA1B,GAAmC0/D,QAA3C;AACA,YAAQ,EAAEz+D,CAAF,GAAMjB,MAAd,GAAwB;AACvB2/D,mBAAat5D,IAAb,CAAmBpF,CAAnB;AACA;AACD,YAAO0+D,YAAP;AACA,KANK;AA3LE;AAnTgB,GAA1B;;AAwfAhF,OAAKyB,OAAL,CAAa,KAAb,IAAsBzB,KAAKyB,OAAL,CAAa,IAAb,CAAtB;;AAEA;AACA,OAAMn7D,CAAN,IAAW,EAAEwiE,OAAO,IAAT,EAAeC,UAAU,IAAzB,EAA+B5sB,MAAM,IAArC,EAA2C6sB,UAAU,IAArD,EAA2DC,OAAO,IAAlE,EAAX,EAAsF;AACrFjJ,QAAKyB,OAAL,CAAcn7D,CAAd,IAAoBo+D,kBAAmBp+D,CAAnB,CAApB;AACA;AACD,OAAMA,CAAN,IAAW,EAAE+yD,QAAQ,IAAV,EAAgBx7B,OAAO,IAAvB,EAAX,EAA2C;AAC1CmiC,QAAKyB,OAAL,CAAcn7D,CAAd,IAAoBq+D,mBAAoBr+D,CAApB,CAApB;AACA;;AAED;AACA,WAAS6hE,UAAT,GAAsB,CAAE;AACxBA,aAAWp/D,SAAX,GAAuBi3D,KAAKkJ,OAAL,GAAelJ,KAAKyB,OAA3C;AACAzB,OAAKmI,UAAL,GAAkB,IAAIA,UAAJ,EAAlB;;AAEAhI,aAAWJ,OAAOI,QAAP,GAAkB,UAAU5D,QAAV,EAAoB4M,SAApB,EAAgC;AAC5D,OAAId,OAAJ;AAAA,OAAa9jE,KAAb;AAAA,OAAoB4jB,MAApB;AAAA,OAA4BpS,IAA5B;AAAA,OACCqzD,KADD;AAAA,OACQ/F,MADR;AAAA,OACgBgG,UADhB;AAAA,OAECC,SAASrI,WAAY1E,WAAW,GAAvB,CAFV;;AAIA,OAAK+M,MAAL,EAAc;AACb,WAAOH,YAAY,CAAZ,GAAgBG,OAAOnkE,KAAP,CAAc,CAAd,CAAvB;AACA;;AAEDikE,WAAQ7M,QAAR;AACA8G,YAAS,EAAT;AACAgG,gBAAarJ,KAAKmH,SAAlB;;AAEA,UAAQiC,KAAR,EAAgB;;AAEf;AACA,QAAK,CAACf,OAAD,KAAa9jE,QAAQo9D,OAAOz+D,IAAP,CAAakmE,KAAb,CAArB,CAAL,EAAkD;AACjD,SAAK7kE,KAAL,EAAa;AACZ;AACA6kE,cAAQA,MAAMjkE,KAAN,CAAaZ,MAAM,CAAN,EAASc,MAAtB,KAAkC+jE,KAA1C;AACA;AACD/F,YAAO33D,IAAP,CAAcyc,SAAS,EAAvB;AACA;;AAEDkgD,cAAU,KAAV;;AAEA;AACA,QAAM9jE,QAAQq9D,aAAa1+D,IAAb,CAAmBkmE,KAAnB,CAAd,EAA4C;AAC3Cf,eAAU9jE,MAAMkN,KAAN,EAAV;AACA0W,YAAOzc,IAAP,CAAY;AACXjD,aAAO4/D,OADI;AAEX;AACAtyD,YAAMxR,MAAM,CAAN,EAAS2X,OAAT,CAAkBugD,KAAlB,EAAyB,GAAzB;AAHK,MAAZ;AAKA2M,aAAQA,MAAMjkE,KAAN,CAAakjE,QAAQhjE,MAArB,CAAR;AACA;;AAED;AACA,SAAM0Q,IAAN,IAAciqD,KAAKtsB,MAAnB,EAA4B;AAC3B,SAAK,CAACnvC,QAAQy9D,UAAWjsD,IAAX,EAAkB7S,IAAlB,CAAwBkmE,KAAxB,CAAT,MAA8C,CAACC,WAAYtzD,IAAZ,CAAD,KACjDxR,QAAQ8kE,WAAYtzD,IAAZ,EAAoBxR,KAApB,CADyC,CAA9C,CAAL,EAC0C;AACzC8jE,gBAAU9jE,MAAMkN,KAAN,EAAV;AACA0W,aAAOzc,IAAP,CAAY;AACXjD,cAAO4/D,OADI;AAEXtyD,aAAMA,IAFK;AAGXwpD,gBAASh7D;AAHE,OAAZ;AAKA6kE,cAAQA,MAAMjkE,KAAN,CAAakjE,QAAQhjE,MAArB,CAAR;AACA;AACD;;AAED,QAAK,CAACgjE,OAAN,EAAgB;AACf;AACA;AACD;;AAED;AACA;AACA;AACA,UAAOc,YACNC,MAAM/jE,MADA,GAEN+jE,QACCrJ,OAAO3B,KAAP,CAAc7B,QAAd,CADD;AAEC;AACA0E,cAAY1E,QAAZ,EAAsB8G,MAAtB,EAA+Bl+D,KAA/B,CAAsC,CAAtC,CALF;AAMA,GAjED;;AAmEA,WAASw+D,UAAT,CAAqBx7C,MAArB,EAA8B;AAC7B,OAAI7hB,IAAI,CAAR;AAAA,OACC8T,MAAM+N,OAAO9iB,MADd;AAAA,OAECk3D,WAAW,EAFZ;AAGA,UAAQj2D,IAAI8T,GAAZ,EAAiB9T,GAAjB,EAAuB;AACtBi2D,gBAAYp0C,OAAO7hB,CAAP,EAAUmC,KAAtB;AACA;AACD,UAAO8zD,QAAP;AACA;;AAED,WAAS0G,aAAT,CAAwBqF,OAAxB,EAAiCiB,UAAjC,EAA6Cl9D,IAA7C,EAAoD;AACnD,OAAImB,MAAM+7D,WAAW/7D,GAArB;AAAA,OACCsgC,OAAOy7B,WAAWzlD,IADnB;AAAA,OAEC4P,MAAMoa,QAAQtgC,GAFf;AAAA,OAGCg8D,mBAAmBn9D,QAAQqnB,QAAQ,YAHpC;AAAA,OAIC+1C,WAAWj7B,MAJZ;;AAMA,UAAO+6B,WAAW15D,KAAX;AACN;AACA,aAAU4tD,IAAV,EAAgB33C,OAAhB,EAAyB8hD,GAAzB,EAA+B;AAC9B,WAASnK,OAAOA,KAAMjwD,GAAN,CAAhB,EAA+B;AAC9B,SAAKiwD,KAAK/1D,QAAL,KAAkB,CAAlB,IAAuB8hE,gBAA5B,EAA+C;AAC9C,aAAOlB,QAAS7K,IAAT,EAAe33C,OAAf,EAAwB8hD,GAAxB,CAAP;AACA;AACD;AACD,WAAO,KAAP;AACA,IATK;;AAWN;AACA,aAAUnK,IAAV,EAAgB33C,OAAhB,EAAyB8hD,GAAzB,EAA+B;AAC9B,QAAI8B,QAAJ;AAAA,QAAc7B,WAAd;AAAA,QAA2BC,UAA3B;AAAA,QACC6B,WAAW,CAAE7I,OAAF,EAAW2I,QAAX,CADZ;;AAGA;AACA,QAAK7B,GAAL,EAAW;AACV,YAASnK,OAAOA,KAAMjwD,GAAN,CAAhB,EAA+B;AAC9B,UAAKiwD,KAAK/1D,QAAL,KAAkB,CAAlB,IAAuB8hE,gBAA5B,EAA+C;AAC9C,WAAKlB,QAAS7K,IAAT,EAAe33C,OAAf,EAAwB8hD,GAAxB,CAAL,EAAqC;AACpC,eAAO,IAAP;AACA;AACD;AACD;AACD,KARD,MAQO;AACN,YAASnK,OAAOA,KAAMjwD,GAAN,CAAhB,EAA+B;AAC9B,UAAKiwD,KAAK/1D,QAAL,KAAkB,CAAlB,IAAuB8hE,gBAA5B,EAA+C;AAC9C1B,oBAAarK,KAAMQ,OAAN,MAAoBR,KAAMQ,OAAN,IAAkB,EAAtC,CAAb;;AAEA;AACA;AACA4J,qBAAcC,WAAYrK,KAAKwK,QAAjB,MAAgCH,WAAYrK,KAAKwK,QAAjB,IAA8B,EAA9D,CAAd;;AAEA,WAAKn6B,QAAQA,SAAS2vB,KAAK9G,QAAL,CAAc7pD,WAAd,EAAtB,EAAoD;AACnD2wD,eAAOA,KAAMjwD,GAAN,KAAeiwD,IAAtB;AACA,QAFD,MAEO,IAAK,CAACiM,WAAW7B,YAAan0C,GAAb,CAAZ,KACXg2C,SAAU,CAAV,MAAkB5I,OADP,IACkB4I,SAAU,CAAV,MAAkBD,QADzC,EACoD;;AAE1D;AACA,eAAQE,SAAU,CAAV,IAAgBD,SAAU,CAAV,CAAxB;AACA,QALM,MAKA;AACN;AACA7B,oBAAan0C,GAAb,IAAqBi2C,QAArB;;AAEA;AACA,YAAMA,SAAU,CAAV,IAAgBrB,QAAS7K,IAAT,EAAe33C,OAAf,EAAwB8hD,GAAxB,CAAtB,EAAuD;AACtD,gBAAO,IAAP;AACA;AACD;AACD;AACD;AACD;AACD,WAAO,KAAP;AACA,IAtDF;AAuDA;;AAED,WAASgC,cAAT,CAAyBC,QAAzB,EAAoC;AACnC,UAAOA,SAASxkE,MAAT,GAAkB,CAAlB,GACN,UAAUo4D,IAAV,EAAgB33C,OAAhB,EAAyB8hD,GAAzB,EAA+B;AAC9B,QAAIthE,IAAIujE,SAASxkE,MAAjB;AACA,WAAQiB,GAAR,EAAc;AACb,SAAK,CAACujE,SAASvjE,CAAT,EAAam3D,IAAb,EAAmB33C,OAAnB,EAA4B8hD,GAA5B,CAAN,EAA0C;AACzC,aAAO,KAAP;AACA;AACD;AACD,WAAO,IAAP;AACA,IATK,GAUNiC,SAAS,CAAT,CAVD;AAWA;;AAED,WAASC,gBAAT,CAA2BvN,QAA3B,EAAqCwN,QAArC,EAA+C7K,OAA/C,EAAyD;AACxD,OAAI54D,IAAI,CAAR;AAAA,OACC8T,MAAM2vD,SAAS1kE,MADhB;AAEA,UAAQiB,IAAI8T,GAAZ,EAAiB9T,GAAjB,EAAuB;AACtBy5D,WAAQxD,QAAR,EAAkBwN,SAASzjE,CAAT,CAAlB,EAA+B44D,OAA/B;AACA;AACD,UAAOA,OAAP;AACA;;AAED,WAAS8K,QAAT,CAAmBzB,SAAnB,EAA8B18D,GAA9B,EAAmC6nC,MAAnC,EAA2C5tB,OAA3C,EAAoD8hD,GAApD,EAA0D;AACzD,OAAInK,IAAJ;AAAA,OACCwM,eAAe,EADhB;AAAA,OAEC3jE,IAAI,CAFL;AAAA,OAGC8T,MAAMmuD,UAAUljE,MAHjB;AAAA,OAIC6kE,SAASr+D,OAAO,IAJjB;;AAMA,UAAQvF,IAAI8T,GAAZ,EAAiB9T,GAAjB,EAAuB;AACtB,QAAMm3D,OAAO8K,UAAUjiE,CAAV,CAAb,EAA6B;AAC5B,SAAK,CAACotC,MAAD,IAAWA,OAAQ+pB,IAAR,EAAc33C,OAAd,EAAuB8hD,GAAvB,CAAhB,EAA+C;AAC9CqC,mBAAav+D,IAAb,CAAmB+xD,IAAnB;AACA,UAAKyM,MAAL,EAAc;AACbr+D,WAAIH,IAAJ,CAAUpF,CAAV;AACA;AACD;AACD;AACD;;AAED,UAAO2jE,YAAP;AACA;;AAED,WAASE,UAAT,CAAqBhD,SAArB,EAAgC5K,QAAhC,EAA0C+L,OAA1C,EAAmD8B,UAAnD,EAA+DC,UAA/D,EAA2EC,YAA3E,EAA0F;AACzF,OAAKF,cAAc,CAACA,WAAYnM,OAAZ,CAApB,EAA4C;AAC3CmM,iBAAaD,WAAYC,UAAZ,CAAb;AACA;AACD,OAAKC,cAAc,CAACA,WAAYpM,OAAZ,CAApB,EAA4C;AAC3CoM,iBAAaF,WAAYE,UAAZ,EAAwBC,YAAxB,CAAb;AACA;AACD,UAAOrG,aAAa,UAAUd,IAAV,EAAgBjE,OAAhB,EAAyBp5C,OAAzB,EAAkC8hD,GAAlC,EAAwC;AAC3D,QAAI2C,IAAJ;AAAA,QAAUjkE,CAAV;AAAA,QAAam3D,IAAb;AAAA,QACC+M,SAAS,EADV;AAAA,QAECC,UAAU,EAFX;AAAA,QAGCC,cAAcxL,QAAQ75D,MAHvB;;;AAKC;AACA83D,YAAQgG,QAAQ2G,iBAAkBvN,YAAY,GAA9B,EAAmCz2C,QAAQpe,QAAR,GAAmB,CAAEoe,OAAF,CAAnB,GAAiCA,OAApE,EAA6E,EAA7E,CANjB;;;AAQC;AACA6kD,gBAAYxD,cAAehE,QAAQ,CAAC5G,QAAxB,IACXyN,SAAU7M,KAAV,EAAiBqN,MAAjB,EAAyBrD,SAAzB,EAAoCrhD,OAApC,EAA6C8hD,GAA7C,CADW,GAEXzK,KAXF;AAAA,QAaCyN,aAAatC;AACZ;AACA+B,mBAAgBlH,OAAOgE,SAAP,GAAmBuD,eAAeN,UAAlD;;AAEC;AACA,MAHD;;AAKC;AACAlL,WARW,GASZyL,SAtBF;;AAwBA;AACA,QAAKrC,OAAL,EAAe;AACdA,aAASqC,SAAT,EAAoBC,UAApB,EAAgC9kD,OAAhC,EAAyC8hD,GAAzC;AACA;;AAED;AACA,QAAKwC,UAAL,EAAkB;AACjBG,YAAOP,SAAUY,UAAV,EAAsBH,OAAtB,CAAP;AACAL,gBAAYG,IAAZ,EAAkB,EAAlB,EAAsBzkD,OAAtB,EAA+B8hD,GAA/B;;AAEA;AACAthE,SAAIikE,KAAKllE,MAAT;AACA,YAAQiB,GAAR,EAAc;AACb,UAAMm3D,OAAO8M,KAAKjkE,CAAL,CAAb,EAAwB;AACvBskE,kBAAYH,QAAQnkE,CAAR,CAAZ,IAA2B,EAAEqkE,UAAWF,QAAQnkE,CAAR,CAAX,IAA0Bm3D,IAA5B,CAA3B;AACA;AACD;AACD;;AAED,QAAK0F,IAAL,EAAY;AACX,SAAKkH,cAAclD,SAAnB,EAA+B;AAC9B,UAAKkD,UAAL,EAAkB;AACjB;AACAE,cAAO,EAAP;AACAjkE,WAAIskE,WAAWvlE,MAAf;AACA,cAAQiB,GAAR,EAAc;AACb,YAAMm3D,OAAOmN,WAAWtkE,CAAX,CAAb,EAA8B;AAC7B;AACAikE,cAAK7+D,IAAL,CAAYi/D,UAAUrkE,CAAV,IAAem3D,IAA3B;AACA;AACD;AACD4M,kBAAY,IAAZ,EAAmBO,aAAa,EAAhC,EAAqCL,IAArC,EAA2C3C,GAA3C;AACA;;AAED;AACAthE,UAAIskE,WAAWvlE,MAAf;AACA,aAAQiB,GAAR,EAAc;AACb,WAAK,CAACm3D,OAAOmN,WAAWtkE,CAAX,CAAR,KACJ,CAACikE,OAAOF,aAAapgE,QAASk5D,IAAT,EAAe1F,IAAf,CAAb,GAAqC+M,OAAOlkE,CAAP,CAA7C,IAA0D,CAAC,CAD5D,EACgE;;AAE/D68D,aAAKoH,IAAL,IAAa,EAAErL,QAAQqL,IAAR,IAAgB9M,IAAlB,CAAb;AACA;AACD;AACD;;AAEF;AACC,KA3BD,MA2BO;AACNmN,kBAAaZ,SACZY,eAAe1L,OAAf,GACC0L,WAAW1+D,MAAX,CAAmBw+D,WAAnB,EAAgCE,WAAWvlE,MAA3C,CADD,GAECulE,UAHW,CAAb;AAKA,SAAKP,UAAL,EAAkB;AACjBA,iBAAY,IAAZ,EAAkBnL,OAAlB,EAA2B0L,UAA3B,EAAuChD,GAAvC;AACA,MAFD,MAEO;AACNl8D,WAAKxC,KAAL,CAAYg2D,OAAZ,EAAqB0L,UAArB;AACA;AACD;AACD,IAnFM,CAAP;AAoFA;;AAED,WAASC,iBAAT,CAA4B1iD,MAA5B,EAAqC;AACpC,OAAI2iD,YAAJ;AAAA,OAAkBxC,OAAlB;AAAA,OAA2BxwD,CAA3B;AAAA,OACCsC,MAAM+N,OAAO9iB,MADd;AAAA,OAEC0lE,kBAAkB/K,KAAKkH,QAAL,CAAe/+C,OAAO,CAAP,EAAUpS,IAAzB,CAFnB;AAAA,OAGCi1D,mBAAmBD,mBAAmB/K,KAAKkH,QAAL,CAAc,GAAd,CAHvC;AAAA,OAIC5gE,IAAIykE,kBAAkB,CAAlB,GAAsB,CAJ3B;;;AAMC;AACAE,kBAAehI,cAAe,UAAUxF,IAAV,EAAiB;AAC9C,WAAOA,SAASqN,YAAhB;AACA,IAFc,EAEZE,gBAFY,EAEM,IAFN,CAPhB;AAAA,OAUCE,kBAAkBjI,cAAe,UAAUxF,IAAV,EAAiB;AACjD,WAAOxzD,QAAS6gE,YAAT,EAAuBrN,IAAvB,IAAgC,CAAC,CAAxC;AACA,IAFiB,EAEfuN,gBAFe,EAEG,IAFH,CAVnB;AAAA,OAaCnB,WAAW,CAAE,UAAUpM,IAAV,EAAgB33C,OAAhB,EAAyB8hD,GAAzB,EAA+B;AAC3C,QAAIxK,MAAQ,CAAC2N,eAAD,KAAsBnD,OAAO9hD,YAAYu6C,gBAAzC,CAAF,KACT,CAACyK,eAAehlD,OAAhB,EAAyBpe,QAAzB,GACCujE,aAAcxN,IAAd,EAAoB33C,OAApB,EAA6B8hD,GAA7B,CADD,GAECsD,gBAAiBzN,IAAjB,EAAuB33C,OAAvB,EAAgC8hD,GAAhC,CAHQ,CAAV;AAIA;AACAkD,mBAAe,IAAf;AACA,WAAO1N,GAAP;AACA,IARU,CAbZ;;AAuBA,UAAQ92D,IAAI8T,GAAZ,EAAiB9T,GAAjB,EAAuB;AACtB,QAAMgiE,UAAUtI,KAAKkH,QAAL,CAAe/+C,OAAO7hB,CAAP,EAAUyP,IAAzB,CAAhB,EAAmD;AAClD8zD,gBAAW,CAAE5G,cAAc2G,eAAgBC,QAAhB,CAAd,EAA0CvB,OAA1C,CAAF,CAAX;AACA,KAFD,MAEO;AACNA,eAAUtI,KAAKtsB,MAAL,CAAavrB,OAAO7hB,CAAP,EAAUyP,IAAvB,EAA8B7M,KAA9B,CAAqC,IAArC,EAA2Cif,OAAO7hB,CAAP,EAAUi5D,OAArD,CAAV;;AAEA;AACA,SAAK+I,QAASrK,OAAT,CAAL,EAA0B;AACzB;AACAnmD,UAAI,EAAExR,CAAN;AACA,aAAQwR,IAAIsC,GAAZ,EAAiBtC,GAAjB,EAAuB;AACtB,WAAKkoD,KAAKkH,QAAL,CAAe/+C,OAAOrQ,CAAP,EAAU/B,IAAzB,CAAL,EAAuC;AACtC;AACA;AACD;AACD,aAAOo0D,WACN7jE,IAAI,CAAJ,IAASsjE,eAAgBC,QAAhB,CADH,EAENvjE,IAAI,CAAJ,IAASq9D;AACR;AACAx7C,aAAOhjB,KAAP,CAAc,CAAd,EAAiBmB,IAAI,CAArB,EAAyBgP,MAAzB,CAAgC,EAAE7M,OAAO0f,OAAQ7hB,IAAI,CAAZ,EAAgByP,IAAhB,KAAyB,GAAzB,GAA+B,GAA/B,GAAqC,EAA9C,EAAhC,CAFQ,EAGPmG,OAHO,CAGEugD,KAHF,EAGS,IAHT,CAFH,EAMN6L,OANM,EAONhiE,IAAIwR,CAAJ,IAAS+yD,kBAAmB1iD,OAAOhjB,KAAP,CAAcmB,CAAd,EAAiBwR,CAAjB,CAAnB,CAPH,EAQNA,IAAIsC,GAAJ,IAAWywD,kBAAoB1iD,SAASA,OAAOhjB,KAAP,CAAc2S,CAAd,CAA7B,CARL,EASNA,IAAIsC,GAAJ,IAAWupD,WAAYx7C,MAAZ,CATL,CAAP;AAWA;AACD0hD,cAASn+D,IAAT,CAAe48D,OAAf;AACA;AACD;;AAED,UAAOsB,eAAgBC,QAAhB,CAAP;AACA;;AAED,WAASsB,wBAAT,CAAmCC,eAAnC,EAAoDC,WAApD,EAAkE;AACjE,OAAIC,QAAQD,YAAYhmE,MAAZ,GAAqB,CAAjC;AAAA,OACCkmE,YAAYH,gBAAgB/lE,MAAhB,GAAyB,CADtC;AAAA,OAECmmE,eAAe,SAAfA,YAAe,CAAUrI,IAAV,EAAgBr9C,OAAhB,EAAyB8hD,GAAzB,EAA8B1I,OAA9B,EAAuCuM,SAAvC,EAAmD;AACjE,QAAIhO,IAAJ;AAAA,QAAU3lD,CAAV;AAAA,QAAawwD,OAAb;AAAA,QACCoD,eAAe,CADhB;AAAA,QAECplE,IAAI,GAFL;AAAA,QAGCiiE,YAAYpF,QAAQ,EAHrB;AAAA,QAICwI,aAAa,EAJd;AAAA,QAKCC,gBAAgBvL,gBALjB;;AAMC;AACAlD,YAAQgG,QAAQoI,aAAavL,KAAKnoD,IAAL,CAAU,KAAV,EAAkB,GAAlB,EAAuB4zD,SAAvB,CAP9B;;AAQC;AACAI,oBAAiB/K,WAAW8K,iBAAiB,IAAjB,GAAwB,CAAxB,GAA4BtgE,KAAK4yD,MAAL,MAAiB,GAT1E;AAAA,QAUC9jD,MAAM+iD,MAAM93D,MAVb;;AAYA,QAAKomE,SAAL,EAAiB;AAChBpL,wBAAmBv6C,YAAYxiB,QAAZ,IAAwBwiB,OAAxB,IAAmC2lD,SAAtD;AACA;;AAED;AACA;AACA;AACA,WAAQnlE,MAAM8T,GAAN,IAAa,CAACqjD,OAAON,MAAM72D,CAAN,CAAR,KAAqB,IAA1C,EAAgDA,GAAhD,EAAsD;AACrD,SAAKilE,aAAa9N,IAAlB,EAAyB;AACxB3lD,UAAI,CAAJ;AACA,UAAK,CAACgO,OAAD,IAAY23C,KAAK58C,aAAL,KAAuBvd,QAAxC,EAAmD;AAClDk9D,mBAAa/C,IAAb;AACAmK,aAAM,CAAClH,cAAP;AACA;AACD,aAAS4H,UAAU8C,gBAAgBtzD,GAAhB,CAAnB,EAA2C;AAC1C,WAAKwwD,QAAS7K,IAAT,EAAe33C,WAAWxiB,QAA1B,EAAoCskE,GAApC,CAAL,EAAgD;AAC/C1I,gBAAQxzD,IAAR,CAAc+xD,IAAd;AACA;AACA;AACD;AACD,UAAKgO,SAAL,EAAiB;AAChB3K,iBAAU+K,aAAV;AACA;AACD;;AAED;AACA,SAAKP,KAAL,EAAa;AACZ;AACA,UAAM7N,OAAO,CAAC6K,OAAD,IAAY7K,IAAzB,EAAiC;AAChCiO;AACA;;AAED;AACA,UAAKvI,IAAL,EAAY;AACXoF,iBAAU78D,IAAV,CAAgB+xD,IAAhB;AACA;AACD;AACD;;AAED;AACA;AACAiO,oBAAgBplE,CAAhB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAKglE,SAAShlE,MAAMolE,YAApB,EAAmC;AAClC5zD,SAAI,CAAJ;AACA,YAASwwD,UAAU+C,YAAYvzD,GAAZ,CAAnB,EAAuC;AACtCwwD,cAASC,SAAT,EAAoBoD,UAApB,EAAgC7lD,OAAhC,EAAyC8hD,GAAzC;AACA;;AAED,SAAKzE,IAAL,EAAY;AACX;AACA,UAAKuI,eAAe,CAApB,EAAwB;AACvB,cAAQplE,GAAR,EAAc;AACb,YAAK,EAAEiiE,UAAUjiE,CAAV,KAAgBqlE,WAAWrlE,CAAX,CAAlB,CAAL,EAAwC;AACvCqlE,oBAAWrlE,CAAX,IAAgBipC,IAAIvmC,IAAJ,CAAUk2D,OAAV,CAAhB;AACA;AACD;AACD;;AAED;AACAyM,mBAAa3B,SAAU2B,UAAV,CAAb;AACA;;AAED;AACAjgE,UAAKxC,KAAL,CAAYg2D,OAAZ,EAAqByM,UAArB;;AAEA;AACA,SAAKF,aAAa,CAACtI,IAAd,IAAsBwI,WAAWtmE,MAAX,GAAoB,CAA1C,IACFqmE,eAAeL,YAAYhmE,MAA7B,GAAwC,CADzC,EAC6C;;AAE5C06D,aAAO6G,UAAP,CAAmB1H,OAAnB;AACA;AACD;;AAED;AACA,QAAKuM,SAAL,EAAiB;AAChB3K,eAAU+K,aAAV;AACAxL,wBAAmBuL,aAAnB;AACA;;AAED,WAAOrD,SAAP;AACA,IAvGF;;AAyGA,UAAO+C,QACNrH,aAAcuH,YAAd,CADM,GAENA,YAFD;AAGA;;AAEDpL,YAAUL,OAAOK,OAAP,GAAiB,UAAU7D,QAAV,EAAoBh4D,KAApB,CAA0B,uBAA1B,EAAoD;AAC9E,OAAI+B,CAAJ;AAAA,OACC+kE,cAAc,EADf;AAAA,OAECD,kBAAkB,EAFnB;AAAA,OAGC9B,SAASpI,cAAe3E,WAAW,GAA1B,CAHV;;AAKA,OAAK,CAAC+M,MAAN,EAAe;AACd;AACA,QAAK,CAAC/kE,KAAN,EAAc;AACbA,aAAQ47D,SAAU5D,QAAV,CAAR;AACA;AACDj2D,QAAI/B,MAAMc,MAAV;AACA,WAAQiB,GAAR,EAAc;AACbgjE,cAASuB,kBAAmBtmE,MAAM+B,CAAN,CAAnB,CAAT;AACA,SAAKgjE,OAAQrL,OAAR,CAAL,EAAyB;AACxBoN,kBAAY3/D,IAAZ,CAAkB49D,MAAlB;AACA,MAFD,MAEO;AACN8B,sBAAgB1/D,IAAhB,CAAsB49D,MAAtB;AACA;AACD;;AAED;AACAA,aAASpI,cAAe3E,QAAf,EAAyB4O,yBAA0BC,eAA1B,EAA2CC,WAA3C,CAAzB,CAAT;;AAEA;AACA/B,WAAO/M,QAAP,GAAkBA,QAAlB;AACA;AACD,UAAO+M,MAAP;AACA,GA5BD;;AA8BA;;;;;;;;;AASAhhE,WAASy3D,OAAOz3D,MAAP,GAAgB,UAAUi0D,QAAV,EAAoBz2C,OAApB,EAA6Bo5C,OAA7B,EAAsCiE,IAAtC,EAA6C;AACrE,OAAI78D,CAAJ;AAAA,OAAO6hB,MAAP;AAAA,OAAeJ,KAAf;AAAA,OAAsBhS,IAAtB;AAAA,OAA4B8B,IAA5B;AAAA,OACCi0D,WAAW,OAAOvP,QAAP,KAAoB,UAApB,IAAkCA,QAD9C;AAAA,OAECh4D,QAAQ,CAAC4+D,IAAD,IAAShD,SAAW5D,WAAWuP,SAASvP,QAAT,IAAqBA,QAA3C,CAFlB;;AAIA2C,aAAUA,WAAW,EAArB;;AAEA;AACA;AACA,OAAK36D,MAAMc,MAAN,KAAiB,CAAtB,EAA0B;;AAEzB;AACA8iB,aAAS5jB,MAAM,CAAN,IAAWA,MAAM,CAAN,EAASY,KAAT,CAAgB,CAAhB,CAApB;AACA,QAAKgjB,OAAO9iB,MAAP,GAAgB,CAAhB,IAAqB,CAAC0iB,QAAQI,OAAO,CAAP,CAAT,EAAoBpS,IAApB,KAA6B,IAAlD,IACH+P,QAAQpe,QAAR,KAAqB,CADlB,IACuBg5D,cADvB,IACyCV,KAAKkH,QAAL,CAAe/+C,OAAO,CAAP,EAAUpS,IAAzB,CAD9C,EACgF;;AAE/E+P,eAAU,CAAEk6C,KAAKnoD,IAAL,CAAU,IAAV,EAAiBkQ,MAAMw3C,OAAN,CAAc,CAAd,EAAiBrjD,OAAjB,CAAyBomD,SAAzB,EAAoCC,SAApC,CAAjB,EAAiEz8C,OAAjE,KAA8E,EAAhF,EAAqF,CAArF,CAAV;AACA,SAAK,CAACA,OAAN,EAAgB;AACf,aAAOo5C,OAAP;;AAED;AACC,MAJD,MAIO,IAAK4M,QAAL,EAAgB;AACtBhmD,gBAAUA,QAAQ1e,UAAlB;AACA;;AAEDm1D,gBAAWA,SAASp3D,KAAT,CAAgBgjB,OAAO1W,KAAP,GAAehJ,KAAf,CAAqBpD,MAArC,CAAX;AACA;;AAED;AACAiB,QAAI07D,UAAU,cAAV,EAA0Bj/D,IAA1B,CAAgCw5D,QAAhC,IAA6C,CAA7C,GAAiDp0C,OAAO9iB,MAA5D;AACA,WAAQiB,GAAR,EAAc;AACbyhB,aAAQI,OAAO7hB,CAAP,CAAR;;AAEA;AACA,SAAK05D,KAAKkH,QAAL,CAAgBnxD,OAAOgS,MAAMhS,IAA7B,CAAL,EAA4C;AAC3C;AACA;AACD,SAAM8B,OAAOmoD,KAAKnoD,IAAL,CAAW9B,IAAX,CAAb,EAAkC;AACjC;AACA,UAAMotD,OAAOtrD,KACZkQ,MAAMw3C,OAAN,CAAc,CAAd,EAAiBrjD,OAAjB,CAA0BomD,SAA1B,EAAqCC,SAArC,CADY,EAEZF,SAASt/D,IAAT,CAAeolB,OAAO,CAAP,EAAUpS,IAAzB,KAAmC6tD,YAAa99C,QAAQ1e,UAArB,CAAnC,IAAwE0e,OAF5D,CAAb,EAGK;;AAEJ;AACAqC,cAAOjc,MAAP,CAAe5F,CAAf,EAAkB,CAAlB;AACAi2D,kBAAW4G,KAAK99D,MAAL,IAAes+D,WAAYx7C,MAAZ,CAA1B;AACA,WAAK,CAACo0C,QAAN,EAAiB;AAChB7wD,aAAKxC,KAAL,CAAYg2D,OAAZ,EAAqBiE,IAArB;AACA,eAAOjE,OAAP;AACA;;AAED;AACA;AACD;AACD;AACD;;AAED;AACA;AACA,IAAE4M,YAAY1L,QAAS7D,QAAT,EAAmBh4D,KAAnB,CAAd,EACC4+D,IADD,EAECr9C,OAFD,EAGC,CAAC46C,cAHF,EAICxB,OAJD,EAKC,CAACp5C,OAAD,IAAYu8C,SAASt/D,IAAT,CAAew5D,QAAf,KAA6BqH,YAAa99C,QAAQ1e,UAArB,CAAzC,IAA8E0e,OAL/E;AAOA,UAAOo5C,OAAP;AACA,GApED;;AAsEA;;AAEA;AACA/C,UAAQ4K,UAAR,GAAqB9I,QAAQ71D,KAAR,CAAc,EAAd,EAAkB2jC,IAAlB,CAAwBo1B,SAAxB,EAAoClpB,IAApC,CAAyC,EAAzC,MAAiDgmB,OAAtE;;AAEA;AACA;AACA9B,UAAQ2K,gBAAR,GAA2B,CAAC,CAACvG,YAA7B;;AAEA;AACAC;;AAEA;AACA;AACArE,UAAQgK,YAAR,GAAuBjC,OAAO,UAAUC,EAAV,EAAe;AAC5C;AACA,UAAOA,GAAG6B,uBAAH,CAA4B1iE,SAAS6C,aAAT,CAAuB,UAAvB,CAA5B,IAAmE,CAA1E;AACA,GAHsB,CAAvB;;AAKA;AACA;AACA;AACA,MAAK,CAAC+9D,OAAO,UAAUC,EAAV,EAAe;AAC3BA,MAAGsB,SAAH,GAAe,kBAAf;AACA,UAAOtB,GAAGx+D,UAAH,CAAc0rB,YAAd,CAA2B,MAA3B,MAAuC,GAA9C;AACA,GAHK,CAAN,EAGK;AACJ+yC,aAAW,wBAAX,EAAqC,UAAU3G,IAAV,EAAgB97C,IAAhB,EAAsBu+C,KAAtB,EAA8B;AAClE,QAAK,CAACA,KAAN,EAAc;AACb,YAAOzC,KAAKpsC,YAAL,CAAmB1P,IAAnB,EAAyBA,KAAK7U,WAAL,OAAuB,MAAvB,GAAgC,CAAhC,GAAoC,CAA7D,CAAP;AACA;AACD,IAJD;AAKA;;AAED;AACA;AACA,MAAK,CAACqvD,QAAQqF,UAAT,IAAuB,CAAC0C,OAAO,UAAUC,EAAV,EAAe;AAClDA,MAAGsB,SAAH,GAAe,UAAf;AACAtB,MAAGx+D,UAAH,CAAca,YAAd,CAA4B,OAA5B,EAAqC,EAArC;AACA,UAAO29D,GAAGx+D,UAAH,CAAc0rB,YAAd,CAA4B,OAA5B,MAA0C,EAAjD;AACA,GAJ4B,CAA7B,EAIK;AACJ+yC,aAAW,OAAX,EAAoB,UAAU3G,IAAV,EAAgB97C,IAAhB,EAAsBu+C,KAAtB,EAA8B;AACjD,QAAK,CAACA,KAAD,IAAUzC,KAAK9G,QAAL,CAAc7pD,WAAd,OAAgC,OAA/C,EAAyD;AACxD,YAAO2wD,KAAKsO,YAAZ;AACA;AACD,IAJD;AAKA;;AAED;AACA;AACA,MAAK,CAAC7H,OAAO,UAAUC,EAAV,EAAe;AAC3B,UAAOA,GAAG9yC,YAAH,CAAgB,UAAhB,KAA+B,IAAtC;AACA,GAFK,CAAN,EAEK;AACJ+yC,aAAW/C,QAAX,EAAqB,UAAU5D,IAAV,EAAgB97C,IAAhB,EAAsBu+C,KAAtB,EAA8B;AAClD,QAAIn9C,GAAJ;AACA,QAAK,CAACm9C,KAAN,EAAc;AACb,YAAOzC,KAAM97C,IAAN,MAAiB,IAAjB,GAAwBA,KAAK7U,WAAL,EAAxB,GACL,CAACiW,MAAM06C,KAAK+H,gBAAL,CAAuB7jD,IAAvB,CAAP,KAAyCoB,IAAI2jD,SAA7C,GACA3jD,IAAIta,KADJ,GAED,IAHD;AAIA;AACD,IARD;AASA;;AAED,SAAOs3D,MAAP;AAEC,EAlsED,CAksEIr/C,MAlsEJ,CAXA;;AAitEA47C,QAAOzkD,IAAP,GAAckoD,MAAd;AACAzD,QAAOiK,IAAP,GAAcxG,OAAOiH,SAArB;;AAEA;AACA1K,QAAOiK,IAAP,CAAa,GAAb,IAAqBjK,OAAOiK,IAAP,CAAY9E,OAAjC;AACAnF,QAAOsK,UAAP,GAAoBtK,OAAO0P,MAAP,GAAgBjM,OAAO6G,UAA3C;AACAtK,QAAO/pD,IAAP,GAAcwtD,OAAOE,OAArB;AACA3D,QAAO2P,QAAP,GAAkBlM,OAAOG,KAAzB;AACA5D,QAAO90D,QAAP,GAAkBu4D,OAAOv4D,QAAzB;AACA80D,QAAO4P,cAAP,GAAwBnM,OAAO4G,MAA/B;;AAKA,KAAIn5D,MAAM,aAAUiwD,IAAV,EAAgBjwD,IAAhB,EAAqB2+D,KAArB,EAA6B;AACtC,MAAI9D,UAAU,EAAd;AAAA,MACC+D,WAAWD,UAAUtoD,SADtB;;AAGA,SAAQ,CAAE45C,OAAOA,KAAMjwD,IAAN,CAAT,KAA0BiwD,KAAK/1D,QAAL,KAAkB,CAApD,EAAwD;AACvD,OAAK+1D,KAAK/1D,QAAL,KAAkB,CAAvB,EAA2B;AAC1B,QAAK0kE,YAAY9P,OAAQmB,IAAR,EAAe4O,EAAf,CAAmBF,KAAnB,CAAjB,EAA8C;AAC7C;AACA;AACD9D,YAAQ38D,IAAR,CAAc+xD,IAAd;AACA;AACD;AACD,SAAO4K,OAAP;AACA,EAbD;;AAgBA,KAAIiE,YAAW,SAAXA,SAAW,CAAUviE,CAAV,EAAa0zD,IAAb,EAAoB;AAClC,MAAI4K,UAAU,EAAd;;AAEA,SAAQt+D,CAAR,EAAWA,IAAIA,EAAEimB,WAAjB,EAA+B;AAC9B,OAAKjmB,EAAErC,QAAF,KAAe,CAAf,IAAoBqC,MAAM0zD,IAA/B,EAAsC;AACrC4K,YAAQ38D,IAAR,CAAc3B,CAAd;AACA;AACD;;AAED,SAAOs+D,OAAP;AACA,EAVD;;AAaA,KAAIkE,gBAAgBjQ,OAAOiK,IAAP,CAAYhiE,KAAZ,CAAkBioE,YAAtC;;AAIA,UAAS7V,QAAT,CAAmB8G,IAAnB,EAAyB97C,IAAzB,EAAgC;;AAE9B,SAAO87C,KAAK9G,QAAL,IAAiB8G,KAAK9G,QAAL,CAAc7pD,WAAd,OAAgC6U,KAAK7U,WAAL,EAAxD;AAED;AACD,KAAI2/D,aAAe,iEAAnB;;AAIA,KAAIC,YAAY,gBAAhB;;AAEA;AACA,UAASC,MAAT,CAAiBnG,QAAjB,EAA2BoG,SAA3B,EAAsCC,GAAtC,EAA4C;AAC3C,MAAKvQ,OAAOwB,UAAP,CAAmB8O,SAAnB,CAAL,EAAsC;AACrC,UAAOtQ,OAAO+C,IAAP,CAAamH,QAAb,EAAuB,UAAU/I,IAAV,EAAgBn3D,CAAhB,EAAoB;AACjD,WAAO,CAAC,CAACsmE,UAAU5jE,IAAV,CAAgBy0D,IAAhB,EAAsBn3D,CAAtB,EAAyBm3D,IAAzB,CAAF,KAAsCoP,GAA7C;AACA,IAFM,CAAP;AAGA;;AAED;AACA,MAAKD,UAAUllE,QAAf,EAA0B;AACzB,UAAO40D,OAAO+C,IAAP,CAAamH,QAAb,EAAuB,UAAU/I,IAAV,EAAiB;AAC9C,WAASA,SAASmP,SAAX,KAA2BC,GAAlC;AACA,IAFM,CAAP;AAGA;;AAED;AACA,MAAK,OAAOD,SAAP,KAAqB,QAA1B,EAAqC;AACpC,UAAOtQ,OAAO+C,IAAP,CAAamH,QAAb,EAAuB,UAAU/I,IAAV,EAAiB;AAC9C,WAASxzD,QAAQjB,IAAR,CAAc4jE,SAAd,EAAyBnP,IAAzB,IAAkC,CAAC,CAArC,KAA6CoP,GAApD;AACA,IAFM,CAAP;AAGA;;AAED;AACA,MAAKH,UAAU3pE,IAAV,CAAgB6pE,SAAhB,CAAL,EAAmC;AAClC,UAAOtQ,OAAO5oB,MAAP,CAAek5B,SAAf,EAA0BpG,QAA1B,EAAoCqG,GAApC,CAAP;AACA;;AAED;AACAD,cAAYtQ,OAAO5oB,MAAP,CAAek5B,SAAf,EAA0BpG,QAA1B,CAAZ;AACA,SAAOlK,OAAO+C,IAAP,CAAamH,QAAb,EAAuB,UAAU/I,IAAV,EAAiB;AAC9C,UAASxzD,QAAQjB,IAAR,CAAc4jE,SAAd,EAAyBnP,IAAzB,IAAkC,CAAC,CAArC,KAA6CoP,GAA7C,IAAoDpP,KAAK/1D,QAAL,KAAkB,CAA7E;AACA,GAFM,CAAP;AAGA;;AAED40D,QAAO5oB,MAAP,GAAgB,UAAU6yB,IAAV,EAAgBpJ,KAAhB,EAAuB0P,GAAvB,EAA6B;AAC5C,MAAIpP,OAAON,MAAO,CAAP,CAAX;;AAEA,MAAK0P,GAAL,EAAW;AACVtG,UAAO,UAAUA,IAAV,GAAiB,GAAxB;AACA;;AAED,MAAKpJ,MAAM93D,MAAN,KAAiB,CAAjB,IAAsBo4D,KAAK/1D,QAAL,KAAkB,CAA7C,EAAiD;AAChD,UAAO40D,OAAOzkD,IAAP,CAAY6tD,eAAZ,CAA6BjI,IAA7B,EAAmC8I,IAAnC,IAA4C,CAAE9I,IAAF,CAA5C,GAAuD,EAA9D;AACA;;AAED,SAAOnB,OAAOzkD,IAAP,CAAY0nD,OAAZ,CAAqBgH,IAArB,EAA2BjK,OAAO+C,IAAP,CAAalC,KAAb,EAAoB,UAAUM,IAAV,EAAiB;AACtE,UAAOA,KAAK/1D,QAAL,KAAkB,CAAzB;AACA,GAFiC,CAA3B,CAAP;AAGA,EAdD;;AAgBA40D,QAAOE,EAAP,CAAU5zB,MAAV,CAAkB;AACjB/wB,QAAM,cAAU0kD,QAAV,EAAqB;AAC1B,OAAIj2D,CAAJ;AAAA,OAAO82D,GAAP;AAAA,OACChjD,MAAM,KAAK/U,MADZ;AAAA,OAECynE,OAAO,IAFR;;AAIA,OAAK,OAAOvQ,QAAP,KAAoB,QAAzB,EAAoC;AACnC,WAAO,KAAKW,SAAL,CAAgBZ,OAAQC,QAAR,EAAmB7oB,MAAnB,CAA2B,YAAW;AAC5D,UAAMptC,IAAI,CAAV,EAAaA,IAAI8T,GAAjB,EAAsB9T,GAAtB,EAA4B;AAC3B,UAAKg2D,OAAO90D,QAAP,CAAiBslE,KAAMxmE,CAAN,CAAjB,EAA4B,IAA5B,CAAL,EAA0C;AACzC,cAAO,IAAP;AACA;AACD;AACD,KANsB,CAAhB,CAAP;AAOA;;AAED82D,SAAM,KAAKF,SAAL,CAAgB,EAAhB,CAAN;;AAEA,QAAM52D,IAAI,CAAV,EAAaA,IAAI8T,GAAjB,EAAsB9T,GAAtB,EAA4B;AAC3Bg2D,WAAOzkD,IAAP,CAAa0kD,QAAb,EAAuBuQ,KAAMxmE,CAAN,CAAvB,EAAkC82D,GAAlC;AACA;;AAED,UAAOhjD,MAAM,CAAN,GAAUkiD,OAAOsK,UAAP,CAAmBxJ,GAAnB,CAAV,GAAqCA,GAA5C;AACA,GAvBgB;AAwBjB1pB,UAAQ,gBAAU6oB,QAAV,EAAqB;AAC5B,UAAO,KAAKW,SAAL,CAAgByP,OAAQ,IAAR,EAAcpQ,YAAY,EAA1B,EAA8B,KAA9B,CAAhB,CAAP;AACA,GA1BgB;AA2BjBsQ,OAAK,aAAUtQ,QAAV,EAAqB;AACzB,UAAO,KAAKW,SAAL,CAAgByP,OAAQ,IAAR,EAAcpQ,YAAY,EAA1B,EAA8B,IAA9B,CAAhB,CAAP;AACA,GA7BgB;AA8BjB8P,MAAI,YAAU9P,QAAV,EAAqB;AACxB,UAAO,CAAC,CAACoQ,OACR,IADQ;;AAGR;AACA;AACA,UAAOpQ,QAAP,KAAoB,QAApB,IAAgCgQ,cAAcxpE,IAAd,CAAoBw5D,QAApB,CAAhC,GACCD,OAAQC,QAAR,CADD,GAECA,YAAY,EAPL,EAQR,KARQ,EASPl3D,MATF;AAUA;AAzCgB,EAAlB;;AA6CA;;;AAGA;AACA,KAAI0nE,UAAJ;;;AAEC;AACA;AACA;AACA;AACA3K,cAAa,qCANd;AAAA,KAQCxwD,OAAO0qD,OAAOE,EAAP,CAAU5qD,IAAV,GAAiB,UAAU2qD,QAAV,EAAoBz2C,OAApB,EAA6BknD,IAA7B,EAAoC;AAC3D,MAAIzoE,KAAJ,EAAWk5D,IAAX;;AAEA;AACA,MAAK,CAAClB,QAAN,EAAiB;AAChB,UAAO,IAAP;AACA;;AAED;AACA;AACAyQ,SAAOA,QAAQD,UAAf;;AAEA;AACA,MAAK,OAAOxQ,QAAP,KAAoB,QAAzB,EAAoC;AACnC,OAAKA,SAAU,CAAV,MAAkB,GAAlB,IACJA,SAAUA,SAASl3D,MAAT,GAAkB,CAA5B,MAAoC,GADhC,IAEJk3D,SAASl3D,MAAT,IAAmB,CAFpB,EAEwB;;AAEvB;AACAd,YAAQ,CAAE,IAAF,EAAQg4D,QAAR,EAAkB,IAAlB,CAAR;AAEA,IAPD,MAOO;AACNh4D,YAAQ69D,WAAWl/D,IAAX,CAAiBq5D,QAAjB,CAAR;AACA;;AAED;AACA,OAAKh4D,UAAWA,MAAO,CAAP,KAAc,CAACuhB,OAA1B,CAAL,EAA2C;;AAE1C;AACA,QAAKvhB,MAAO,CAAP,CAAL,EAAkB;AACjBuhB,eAAUA,mBAAmBw2C,MAAnB,GAA4Bx2C,QAAS,CAAT,CAA5B,GAA2CA,OAArD;;AAEA;AACA;AACAw2C,YAAOe,KAAP,CAAc,IAAd,EAAoBf,OAAO2Q,SAAP,CACnB1oE,MAAO,CAAP,CADmB,EAEnBuhB,WAAWA,QAAQpe,QAAnB,GAA8Boe,QAAQjF,aAAR,IAAyBiF,OAAvD,GAAiExiB,QAF9C,EAGnB,IAHmB,CAApB;;AAMA;AACA,SAAKmpE,WAAW1pE,IAAX,CAAiBwB,MAAO,CAAP,CAAjB,KAAiC+3D,OAAOyB,aAAP,CAAsBj4C,OAAtB,CAAtC,EAAwE;AACvE,WAAMvhB,KAAN,IAAeuhB,OAAf,EAAyB;;AAExB;AACA,WAAKw2C,OAAOwB,UAAP,CAAmB,KAAMv5D,KAAN,CAAnB,CAAL,EAA0C;AACzC,aAAMA,KAAN,EAAeuhB,QAASvhB,KAAT,CAAf;;AAED;AACC,QAJD,MAIO;AACN,aAAKkiE,IAAL,CAAWliE,KAAX,EAAkBuhB,QAASvhB,KAAT,CAAlB;AACA;AACD;AACD;;AAED,YAAO,IAAP;;AAED;AACC,KA7BD,MA6BO;AACNk5D,YAAOn6D,SAASkgE,cAAT,CAAyBj/D,MAAO,CAAP,CAAzB,CAAP;;AAEA,SAAKk5D,IAAL,EAAY;;AAEX;AACA,WAAM,CAAN,IAAYA,IAAZ;AACA,WAAKp4D,MAAL,GAAc,CAAd;AACA;AACD,YAAO,IAAP;AACA;;AAEF;AACC,IA7CD,MA6CO,IAAK,CAACygB,OAAD,IAAYA,QAAQi3C,MAAzB,EAAkC;AACxC,WAAO,CAAEj3C,WAAWknD,IAAb,EAAoBn1D,IAApB,CAA0B0kD,QAA1B,CAAP;;AAED;AACA;AACC,IALM,MAKA;AACN,WAAO,KAAKxkB,WAAL,CAAkBjyB,OAAlB,EAA4BjO,IAA5B,CAAkC0kD,QAAlC,CAAP;AACA;;AAEF;AACC,GApED,MAoEO,IAAKA,SAAS70D,QAAd,EAAyB;AAC/B,QAAM,CAAN,IAAY60D,QAAZ;AACA,QAAKl3D,MAAL,GAAc,CAAd;AACA,UAAO,IAAP;;AAED;AACA;AACC,GAPM,MAOA,IAAKi3D,OAAOwB,UAAP,CAAmBvB,QAAnB,CAAL,EAAqC;AAC3C,UAAOyQ,KAAKE,KAAL,KAAerpD,SAAf,GACNmpD,KAAKE,KAAL,CAAY3Q,QAAZ,CADM;;AAGN;AACAA,YAAUD,MAAV,CAJD;AAKA;;AAED,SAAOA,OAAO2C,SAAP,CAAkB1C,QAAlB,EAA4B,IAA5B,CAAP;AACA,EAzGF;;AA2GA;AACA3qD,MAAK7I,SAAL,GAAiBuzD,OAAOE,EAAxB;;AAEA;AACAuQ,cAAazQ,OAAQh5D,QAAR,CAAb;;AAGA,KAAI6pE,eAAe,gCAAnB;;;AAEC;AACAC,oBAAmB;AAClBn7D,YAAU,IADQ;AAElB8oD,YAAU,IAFQ;AAGlBj3C,QAAM,IAHY;AAIlBlI,QAAM;AAJY,EAHpB;;AAUA0gD,QAAOE,EAAP,CAAU5zB,MAAV,CAAkB;AACjBykC,OAAK,aAAUhkE,MAAV,EAAmB;AACvB,OAAIikE,UAAUhR,OAAQjzD,MAAR,EAAgB,IAAhB,CAAd;AAAA,OACCgK,IAAIi6D,QAAQjoE,MADb;;AAGA,UAAO,KAAKquC,MAAL,CAAa,YAAW;AAC9B,QAAIptC,IAAI,CAAR;AACA,WAAQA,IAAI+M,CAAZ,EAAe/M,GAAf,EAAqB;AACpB,SAAKg2D,OAAO90D,QAAP,CAAiB,IAAjB,EAAuB8lE,QAAShnE,CAAT,CAAvB,CAAL,EAA6C;AAC5C,aAAO,IAAP;AACA;AACD;AACD,IAPM,CAAP;AAQA,GAbgB;;AAejBinE,WAAS,iBAAUvG,SAAV,EAAqBlhD,OAArB,EAA+B;AACvC,OAAIjT,GAAJ;AAAA,OACCvM,IAAI,CADL;AAAA,OAEC+M,IAAI,KAAKhO,MAFV;AAAA,OAGCgjE,UAAU,EAHX;AAAA,OAICiF,UAAU,OAAOtG,SAAP,KAAqB,QAArB,IAAiC1K,OAAQ0K,SAAR,CAJ5C;;AAMA;AACA,OAAK,CAACuF,cAAcxpE,IAAd,CAAoBikE,SAApB,CAAN,EAAwC;AACvC,WAAQ1gE,IAAI+M,CAAZ,EAAe/M,GAAf,EAAqB;AACpB,UAAMuM,MAAM,KAAMvM,CAAN,CAAZ,EAAuBuM,OAAOA,QAAQiT,OAAtC,EAA+CjT,MAAMA,IAAIzL,UAAzD,EAAsE;;AAErE;AACA,UAAKyL,IAAInL,QAAJ,GAAe,EAAf,KAAuB4lE,UAC3BA,QAAQloE,KAAR,CAAeyN,GAAf,IAAuB,CAAC,CADG;;AAG3B;AACAA,UAAInL,QAAJ,KAAiB,CAAjB,IACC40D,OAAOzkD,IAAP,CAAY6tD,eAAZ,CAA6B7yD,GAA7B,EAAkCm0D,SAAlC,CALG,CAAL,EAKoD;;AAEnDqB,eAAQ38D,IAAR,CAAcmH,GAAd;AACA;AACA;AACD;AACD;AACD;;AAED,UAAO,KAAKqqD,SAAL,CAAgBmL,QAAQhjE,MAAR,GAAiB,CAAjB,GAAqBi3D,OAAOsK,UAAP,CAAmByB,OAAnB,CAArB,GAAoDA,OAApE,CAAP;AACA,GA3CgB;;AA6CjB;AACAjjE,SAAO,eAAUq4D,IAAV,EAAiB;;AAEvB;AACA,OAAK,CAACA,IAAN,EAAa;AACZ,WAAS,KAAM,CAAN,KAAa,KAAM,CAAN,EAAUr2D,UAAzB,GAAwC,KAAKyI,KAAL,GAAa29D,OAAb,GAAuBnoE,MAA/D,GAAwE,CAAC,CAAhF;AACA;;AAED;AACA,OAAK,OAAOo4D,IAAP,KAAgB,QAArB,EAAgC;AAC/B,WAAOxzD,QAAQjB,IAAR,CAAcszD,OAAQmB,IAAR,CAAd,EAA8B,KAAM,CAAN,CAA9B,CAAP;AACA;;AAED;AACA,UAAOxzD,QAAQjB,IAAR,CAAc,IAAd;;AAEN;AACAy0D,QAAKV,MAAL,GAAcU,KAAM,CAAN,CAAd,GAA0BA,IAHpB,CAAP;AAKA,GAhEgB;;AAkEjBliC,OAAK,aAAUghC,QAAV,EAAoBz2C,OAApB,EAA8B;AAClC,UAAO,KAAKo3C,SAAL,CACNZ,OAAOsK,UAAP,CACCtK,OAAOe,KAAP,CAAc,KAAKzmC,GAAL,EAAd,EAA0B0lC,OAAQC,QAAR,EAAkBz2C,OAAlB,CAA1B,CADD,CADM,CAAP;AAKA,GAxEgB;;AA0EjB2nD,WAAS,iBAAUlR,QAAV,EAAqB;AAC7B,UAAO,KAAKhhC,GAAL,CAAUghC,YAAY,IAAZ,GAChB,KAAKe,UADW,GACE,KAAKA,UAAL,CAAgB5pB,MAAhB,CAAwB6oB,QAAxB,CADZ,CAAP;AAGA;AA9EgB,EAAlB;;AAiFA,UAAS7mB,OAAT,CAAkB7iC,GAAlB,EAAuBrF,GAAvB,EAA6B;AAC5B,SAAQ,CAAEqF,MAAMA,IAAKrF,GAAL,CAAR,KAAwBqF,IAAInL,QAAJ,KAAiB,CAAjD,EAAqD,CAAE;AACvD,SAAOmL,GAAP;AACA;;AAEDypD,QAAOiB,IAAP,CAAa;AACZ13D,UAAQ,gBAAU43D,IAAV,EAAiB;AACxB,OAAI53D,SAAS43D,KAAKr2D,UAAlB;AACA,UAAOvB,UAAUA,OAAO6B,QAAP,KAAoB,EAA9B,GAAmC7B,MAAnC,GAA4C,IAAnD;AACA,GAJW;AAKZ6nE,WAAS,iBAAUjQ,IAAV,EAAiB;AACzB,UAAOjwD,IAAKiwD,IAAL,EAAW,YAAX,CAAP;AACA,GAPW;AAQZkQ,gBAAc,sBAAUlQ,IAAV,EAAgBn3D,CAAhB,EAAmB6lE,KAAnB,EAA2B;AACxC,UAAO3+D,IAAKiwD,IAAL,EAAW,YAAX,EAAyB0O,KAAzB,CAAP;AACA,GAVW;AAWZroD,QAAM,cAAU25C,IAAV,EAAiB;AACtB,UAAO/nB,QAAS+nB,IAAT,EAAe,aAAf,CAAP;AACA,GAbW;AAcZ7hD,QAAM,cAAU6hD,IAAV,EAAiB;AACtB,UAAO/nB,QAAS+nB,IAAT,EAAe,iBAAf,CAAP;AACA,GAhBW;AAiBZmQ,WAAS,iBAAUnQ,IAAV,EAAiB;AACzB,UAAOjwD,IAAKiwD,IAAL,EAAW,aAAX,CAAP;AACA,GAnBW;AAoBZ+P,WAAS,iBAAU/P,IAAV,EAAiB;AACzB,UAAOjwD,IAAKiwD,IAAL,EAAW,iBAAX,CAAP;AACA,GAtBW;AAuBZoQ,aAAW,mBAAUpQ,IAAV,EAAgBn3D,CAAhB,EAAmB6lE,KAAnB,EAA2B;AACrC,UAAO3+D,IAAKiwD,IAAL,EAAW,aAAX,EAA0B0O,KAA1B,CAAP;AACA,GAzBW;AA0BZ2B,aAAW,mBAAUrQ,IAAV,EAAgBn3D,CAAhB,EAAmB6lE,KAAnB,EAA2B;AACrC,UAAO3+D,IAAKiwD,IAAL,EAAW,iBAAX,EAA8B0O,KAA9B,CAAP;AACA,GA5BW;AA6BZG,YAAU,kBAAU7O,IAAV,EAAiB;AAC1B,UAAO6O,UAAU,CAAE7O,KAAKr2D,UAAL,IAAmB,EAArB,EAA0BzB,UAApC,EAAgD83D,IAAhD,CAAP;AACA,GA/BW;AAgCZxrD,YAAU,kBAAUwrD,IAAV,EAAiB;AAC1B,UAAO6O,UAAU7O,KAAK93D,UAAf,CAAP;AACA,GAlCW;AAmCZo1D,YAAU,kBAAU0C,IAAV,EAAiB;AACpB,OAAK9G,SAAU8G,IAAV,EAAgB,QAAhB,CAAL,EAAkC;AAC9B,WAAOA,KAAKsQ,eAAZ;AACH;;AAED;AACA;AACA;AACA,OAAKpX,SAAU8G,IAAV,EAAgB,UAAhB,CAAL,EAAoC;AAChCA,WAAOA,KAAKx3D,OAAL,IAAgBw3D,IAAvB;AACH;;AAED,UAAOnB,OAAOe,KAAP,CAAc,EAAd,EAAkBI,KAAKh4D,UAAvB,CAAP;AACN;AAhDW,EAAb,EAiDG,UAAUkc,IAAV,EAAgB66C,EAAhB,EAAqB;AACvBF,SAAOE,EAAP,CAAW76C,IAAX,IAAoB,UAAUwqD,KAAV,EAAiB5P,QAAjB,EAA4B;AAC/C,OAAI8L,UAAU/L,OAAOzwD,GAAP,CAAY,IAAZ,EAAkB2wD,EAAlB,EAAsB2P,KAAtB,CAAd;;AAEA,OAAKxqD,KAAKxc,KAAL,CAAY,CAAC,CAAb,MAAqB,OAA1B,EAAoC;AACnCo3D,eAAW4P,KAAX;AACA;;AAED,OAAK5P,YAAY,OAAOA,QAAP,KAAoB,QAArC,EAAgD;AAC/C8L,cAAU/L,OAAO5oB,MAAP,CAAe6oB,QAAf,EAAyB8L,OAAzB,CAAV;AACA;;AAED,OAAK,KAAKhjE,MAAL,GAAc,CAAnB,EAAuB;;AAEtB;AACA,QAAK,CAAC+nE,iBAAkBzrD,IAAlB,CAAN,EAAiC;AAChC26C,YAAOsK,UAAP,CAAmByB,OAAnB;AACA;;AAED;AACA,QAAK8E,aAAapqE,IAAb,CAAmB4e,IAAnB,CAAL,EAAiC;AAChC0mD,aAAQrrD,OAAR;AACA;AACD;;AAED,UAAO,KAAKkgD,SAAL,CAAgBmL,OAAhB,CAAP;AACA,GAzBD;AA0BA,EA5ED;AA6EA,KAAI2F,gBAAkB,mBAAtB;;AAIA;AACA,UAASC,aAAT,CAAwB16D,OAAxB,EAAkC;AACjC,MAAI26D,SAAS,EAAb;AACA5R,SAAOiB,IAAP,CAAahqD,QAAQhP,KAAR,CAAeypE,aAAf,KAAkC,EAA/C,EAAmD,UAAUxL,CAAV,EAAa2L,IAAb,EAAoB;AACtED,UAAQC,IAAR,IAAiB,IAAjB;AACA,GAFD;AAGA,SAAOD,MAAP;AACA;;AAED;;;;;;;;;;;;;;;;;;;;;;AAsBA5R,QAAO8R,SAAP,GAAmB,UAAU76D,OAAV,EAAoB;;AAEtC;AACA;AACAA,YAAU,OAAOA,OAAP,KAAmB,QAAnB,GACT06D,cAAe16D,OAAf,CADS,GAET+oD,OAAO1zB,MAAP,CAAe,EAAf,EAAmBr1B,OAAnB,CAFD;;AAIA,MAAI;AACH86D,QADD;;;AAGC;AACAC,QAJD;;;AAMC;AACAC,QAPD;;;AASC;AACAC,SAVD;;;AAYC;AACA3gD,SAAO,EAbR;;;AAeC;AACA4gD,UAAQ,EAhBT;;;AAkBC;AACAC,gBAAc,CAAC,CAnBhB;;;AAqBC;AACAC,SAAO,SAAPA,IAAO,GAAW;;AAEjB;AACAH,aAASA,WAAUj7D,QAAQq7D,IAA3B;;AAEA;AACA;AACAL,YAAQF,SAAS,IAAjB;AACA,UAAQI,MAAMppE,MAAd,EAAsBqpE,cAAc,CAAC,CAArC,EAAyC;AACxCJ,aAASG,MAAMh9D,KAAN,EAAT;AACA,WAAQ,EAAEi9D,WAAF,GAAgB7gD,KAAKxoB,MAA7B,EAAsC;;AAErC;AACA,SAAKwoB,KAAM6gD,WAAN,EAAoBxlE,KAApB,CAA2BolE,OAAQ,CAAR,CAA3B,EAAwCA,OAAQ,CAAR,CAAxC,MAA0D,KAA1D,IACJ/6D,QAAQs7D,WADT,EACuB;;AAEtB;AACAH,oBAAc7gD,KAAKxoB,MAAnB;AACAipE,eAAS,KAAT;AACA;AACD;AACD;;AAED;AACA,OAAK,CAAC/6D,QAAQ+6D,MAAd,EAAuB;AACtBA,aAAS,KAAT;AACA;;AAEDD,YAAS,KAAT;;AAEA;AACA,OAAKG,OAAL,EAAc;;AAEb;AACA,QAAKF,MAAL,EAAc;AACbzgD,YAAO,EAAP;;AAED;AACC,KAJD,MAIO;AACNA,YAAO,EAAP;AACA;AACD;AACD,GAhEF;;;AAkEC;AACAi/C,SAAO;;AAEN;AACAvxC,QAAK,eAAW;AACf,QAAK1N,IAAL,EAAY;;AAEX;AACA,SAAKygD,UAAU,CAACD,MAAhB,EAAyB;AACxBK,oBAAc7gD,KAAKxoB,MAAL,GAAc,CAA5B;AACAopE,YAAM/iE,IAAN,CAAY4iE,MAAZ;AACA;;AAED,MAAE,SAAS/yC,GAAT,CAAc1yB,IAAd,EAAqB;AACtByzD,aAAOiB,IAAP,CAAa10D,IAAb,EAAmB,UAAU25D,CAAV,EAAa/C,GAAb,EAAmB;AACrC,WAAKnD,OAAOwB,UAAP,CAAmB2B,GAAnB,CAAL,EAAgC;AAC/B,YAAK,CAAClsD,QAAQy4D,MAAT,IAAmB,CAACc,KAAKO,GAAL,CAAU5N,GAAV,CAAzB,EAA2C;AAC1C5xC,cAAKniB,IAAL,CAAW+zD,GAAX;AACA;AACD,QAJD,MAIO,IAAKA,OAAOA,IAAIp6D,MAAX,IAAqBi3D,OAAOvmD,IAAP,CAAa0pD,GAAb,MAAuB,QAAjD,EAA4D;;AAElE;AACAlkC,YAAKkkC,GAAL;AACA;AACD,OAVD;AAWA,MAZD,EAYKx2D,SAZL;;AAcA,SAAKqlE,UAAU,CAACD,MAAhB,EAAyB;AACxBM;AACA;AACD;AACD,WAAO,IAAP;AACA,IA/BK;;AAiCN;AACAphC,WAAQ,kBAAW;AAClB+uB,WAAOiB,IAAP,CAAat0D,SAAb,EAAwB,UAAUu5D,CAAV,EAAa/C,GAAb,EAAmB;AAC1C,SAAIr6D,KAAJ;AACA,YAAQ,CAAEA,QAAQk3D,OAAO6C,OAAP,CAAgBM,GAAhB,EAAqB5xC,IAArB,EAA2BzoB,KAA3B,CAAV,IAAiD,CAAC,CAA1D,EAA8D;AAC7DyoB,WAAK3hB,MAAL,CAAa9G,KAAb,EAAoB,CAApB;;AAEA;AACA,UAAKA,SAASspE,WAAd,EAA4B;AAC3BA;AACA;AACD;AACD,KAVD;AAWA,WAAO,IAAP;AACA,IA/CK;;AAiDN;AACA;AACArB,QAAK,aAAU7Q,EAAV,EAAe;AACnB,WAAOA,KACNF,OAAO6C,OAAP,CAAgB3C,EAAhB,EAAoB3uC,IAApB,IAA6B,CAAC,CADxB,GAENA,KAAKxoB,MAAL,GAAc,CAFf;AAGA,IAvDK;;AAyDN;AACAo1B,UAAO,iBAAW;AACjB,QAAK5M,IAAL,EAAY;AACXA,YAAO,EAAP;AACA;AACD,WAAO,IAAP;AACA,IA/DK;;AAiEN;AACA;AACA;AACAihD,YAAS,mBAAW;AACnBN,cAASC,QAAQ,EAAjB;AACA5gD,WAAOygD,SAAS,EAAhB;AACA,WAAO,IAAP;AACA,IAxEK;AAyENxV,aAAU,oBAAW;AACpB,WAAO,CAACjrC,IAAR;AACA,IA3EK;;AA6EN;AACA;AACA;AACAkhD,SAAM,gBAAW;AAChBP,cAASC,QAAQ,EAAjB;AACA,QAAK,CAACH,MAAD,IAAW,CAACD,MAAjB,EAA0B;AACzBxgD,YAAOygD,SAAS,EAAhB;AACA;AACD,WAAO,IAAP;AACA,IAtFK;AAuFNE,WAAQ,kBAAW;AAClB,WAAO,CAAC,CAACA,OAAT;AACA,IAzFK;;AA2FN;AACAQ,aAAU,kBAAUlpD,OAAV,EAAmBjd,IAAnB,EAA0B;AACnC,QAAK,CAAC2lE,OAAN,EAAe;AACd3lE,YAAOA,QAAQ,EAAf;AACAA,YAAO,CAAEid,OAAF,EAAWjd,KAAK1D,KAAL,GAAa0D,KAAK1D,KAAL,EAAb,GAA4B0D,IAAvC,CAAP;AACA4lE,WAAM/iE,IAAN,CAAY7C,IAAZ;AACA,SAAK,CAACwlE,MAAN,EAAe;AACdM;AACA;AACD;AACD,WAAO,IAAP;AACA,IAtGK;;AAwGN;AACAA,SAAM,gBAAW;AAChB7B,SAAKkC,QAAL,CAAe,IAAf,EAAqB/lE,SAArB;AACA,WAAO,IAAP;AACA,IA5GK;;AA8GN;AACAslE,UAAO,iBAAW;AACjB,WAAO,CAAC,CAACA,MAAT;AACA;AAjHK,GAnER;;AAuLA,SAAOzB,IAAP;AACA,EAhMD;;AAmMA,UAASmC,QAAT,CAAmBr7B,CAAnB,EAAuB;AACtB,SAAOA,CAAP;AACA;AACD,UAASs7B,OAAT,CAAkBC,EAAlB,EAAuB;AACtB,QAAMA,EAAN;AACA;;AAED,UAASC,UAAT,CAAqB3mE,KAArB,EAA4B4mE,OAA5B,EAAqCC,MAArC,EAA6CC,OAA7C,EAAuD;AACtD,MAAI3V,MAAJ;;AAEA,MAAI;;AAEH;AACA,OAAKnxD,SAAS6zD,OAAOwB,UAAP,CAAqBlE,SAASnxD,MAAM+mE,OAApC,CAAd,EAAgE;AAC/D5V,WAAO5wD,IAAP,CAAaP,KAAb,EAAqB+lC,IAArB,CAA2B6gC,OAA3B,EAAqCI,IAArC,CAA2CH,MAA3C;;AAED;AACC,IAJD,MAIO,IAAK7mE,SAAS6zD,OAAOwB,UAAP,CAAqBlE,SAASnxD,MAAM8yD,IAApC,CAAd,EAA6D;AACnE3B,WAAO5wD,IAAP,CAAaP,KAAb,EAAoB4mE,OAApB,EAA6BC,MAA7B;;AAED;AACC,IAJM,MAIA;;AAEN;AACA;AACA;AACAD,YAAQnmE,KAAR,CAAe2a,SAAf,EAA0B,CAAEpb,KAAF,EAAUtD,KAAV,CAAiBoqE,OAAjB,CAA1B;AACA;;AAEF;AACA;AACA;AACC,GAtBD,CAsBE,OAAQ9mE,KAAR,EAAgB;;AAEjB;AACA;AACA6mE,UAAOpmE,KAAP,CAAc2a,SAAd,EAAyB,CAAEpb,KAAF,CAAzB;AACA;AACD;;AAED6zD,QAAO1zB,MAAP,CAAe;;AAEd8mC,YAAU,kBAAU5V,IAAV,EAAiB;AAC1B,OAAI6V,SAAS;;AAEX;AACA;AACA,IAAE,QAAF,EAAY,UAAZ,EAAwBrT,OAAO8R,SAAP,CAAkB,QAAlB,CAAxB,EACC9R,OAAO8R,SAAP,CAAkB,QAAlB,CADD,EAC+B,CAD/B,CAJW,EAMX,CAAE,SAAF,EAAa,MAAb,EAAqB9R,OAAO8R,SAAP,CAAkB,aAAlB,CAArB,EACC9R,OAAO8R,SAAP,CAAkB,aAAlB,CADD,EACoC,CADpC,EACuC,UADvC,CANW,EAQX,CAAE,QAAF,EAAY,MAAZ,EAAoB9R,OAAO8R,SAAP,CAAkB,aAAlB,CAApB,EACC9R,OAAO8R,SAAP,CAAkB,aAAlB,CADD,EACoC,CADpC,EACuC,UADvC,CARW,CAAb;AAAA,OAWCvrD,SAAQ,SAXT;AAAA,OAYC2sD,WAAU;AACT3sD,WAAO,iBAAW;AACjB,YAAOA,MAAP;AACA,KAHQ;AAIT+sD,YAAQ,kBAAW;AAClBC,cAASrhC,IAAT,CAAevlC,SAAf,EAA2BwmE,IAA3B,CAAiCxmE,SAAjC;AACA,YAAO,IAAP;AACA,KAPQ;AAQT,aAAS,gBAAUuzD,EAAV,EAAe;AACvB,YAAOgT,SAAQjU,IAAR,CAAc,IAAd,EAAoBiB,EAApB,CAAP;AACA,KAVQ;;AAYT;AACAsT,UAAM,gBAAU,gCAAmC;AAClD,SAAIC,MAAM9mE,SAAV;;AAEA,YAAOqzD,OAAOoT,QAAP,CAAiB,UAAUM,QAAV,EAAqB;AAC5C1T,aAAOiB,IAAP,CAAaoS,MAAb,EAAqB,UAAUrpE,CAAV,EAAa2pE,KAAb,EAAqB;;AAEzC;AACA,WAAIzT,KAAKF,OAAOwB,UAAP,CAAmBiS,IAAKE,MAAO,CAAP,CAAL,CAAnB,KAA0CF,IAAKE,MAAO,CAAP,CAAL,CAAnD;;AAEA;AACA;AACA;AACAJ,gBAAUI,MAAO,CAAP,CAAV,EAAwB,YAAW;AAClC,YAAIt8B,WAAW6oB,MAAMA,GAAGtzD,KAAH,CAAU,IAAV,EAAgBD,SAAhB,CAArB;AACA,YAAK0qC,YAAY2oB,OAAOwB,UAAP,CAAmBnqB,SAAS67B,OAA5B,CAAjB,EAAyD;AACxD77B,kBAAS67B,OAAT,GACEU,QADF,CACYF,SAASG,MADrB,EAEE3hC,IAFF,CAEQwhC,SAASX,OAFjB,EAGEI,IAHF,CAGQO,SAASV,MAHjB;AAIA,SALD,MAKO;AACNU,kBAAUC,MAAO,CAAP,IAAa,MAAvB,EACC,IADD,EAECzT,KAAK,CAAE7oB,QAAF,CAAL,GAAoB1qC,SAFrB;AAIA;AACD,QAbD;AAcA,OAtBD;AAuBA8mE,YAAM,IAAN;AACA,MAzBM,EAyBHP,OAzBG,EAAP;AA0BA,KA1CQ;AA2CTjU,UAAM,cAAU6U,WAAV,EAAuBC,UAAvB,EAAmCC,UAAnC,EAAgD;AACrD,SAAIC,WAAW,CAAf;AACA,cAASlB,OAAT,CAAkBmB,KAAlB,EAAyBX,QAAzB,EAAmCvL,OAAnC,EAA4Cr5C,OAA5C,EAAsD;AACrD,aAAO,YAAW;AACjB,WAAIwlD,OAAO,IAAX;AAAA,WACC5nE,OAAOI,SADR;AAAA,WAECynE,aAAa,SAAbA,UAAa,GAAW;AACvB,YAAI/8B,QAAJ,EAAc4nB,IAAd;;AAEA;AACA;AACA;AACA,YAAKiV,QAAQD,QAAb,EAAwB;AACvB;AACA;;AAED58B,mBAAW2wB,QAAQp7D,KAAR,CAAeunE,IAAf,EAAqB5nE,IAArB,CAAX;;AAEA;AACA;AACA,YAAK8qC,aAAak8B,SAASL,OAAT,EAAlB,EAAuC;AACtC,eAAM,IAAImB,SAAJ,CAAe,0BAAf,CAAN;AACA;;AAED;AACA;AACA;AACA;AACApV,eAAO5nB;;AAEN;AACA;AACA;AACE,gBAAOA,QAAP,yCAAOA,QAAP,OAAoB,QAApB,IACD,OAAOA,QAAP,KAAoB,UANf,KAONA,SAAS4nB,IAPV;;AASA;AACA,YAAKe,OAAOwB,UAAP,CAAmBvC,IAAnB,CAAL,EAAiC;;AAEhC;AACA,aAAKtwC,OAAL,EAAe;AACdswC,eAAKvyD,IAAL,CACC2qC,QADD,EAEC07B,QAASkB,QAAT,EAAmBV,QAAnB,EAA6BZ,QAA7B,EAAuChkD,OAAvC,CAFD,EAGCokD,QAASkB,QAAT,EAAmBV,QAAnB,EAA6BX,OAA7B,EAAsCjkD,OAAtC,CAHD;;AAMD;AACC,UARD,MAQO;;AAEN;AACAslD;;AAEAhV,eAAKvyD,IAAL,CACC2qC,QADD,EAEC07B,QAASkB,QAAT,EAAmBV,QAAnB,EAA6BZ,QAA7B,EAAuChkD,OAAvC,CAFD,EAGCokD,QAASkB,QAAT,EAAmBV,QAAnB,EAA6BX,OAA7B,EAAsCjkD,OAAtC,CAHD,EAICokD,QAASkB,QAAT,EAAmBV,QAAnB,EAA6BZ,QAA7B,EACCY,SAASe,UADV,CAJD;AAOA;;AAEF;AACC,SA1BD,MA0BO;;AAEN;AACA;AACA,aAAKtM,YAAY2K,QAAjB,EAA4B;AAC3BwB,iBAAO5sD,SAAP;AACAhb,iBAAO,CAAE8qC,QAAF,CAAP;AACA;;AAED;AACA;AACA,UAAE1oB,WAAW4kD,SAASgB,WAAtB,EAAqCJ,IAArC,EAA2C5nE,IAA3C;AACA;AACD,QAzEF;;;AA2EC;AACAioE,iBAAU7lD,UACTylD,UADS,GAET,YAAW;AACV,YAAI;AACHA;AACA,SAFD,CAEE,OAAQnrE,CAAR,EAAY;;AAEb,aAAK+2D,OAAOoT,QAAP,CAAgBqB,aAArB,EAAqC;AACpCzU,iBAAOoT,QAAP,CAAgBqB,aAAhB,CAA+BxrE,CAA/B,EACCurE,QAAQE,UADT;AAEA;;AAED;AACA;AACA;AACA,aAAKR,QAAQ,CAAR,IAAaD,QAAlB,EAA6B;;AAE5B;AACA;AACA,cAAKjM,YAAY4K,OAAjB,EAA2B;AAC1BuB,kBAAO5sD,SAAP;AACAhb,kBAAO,CAAEtD,CAAF,CAAP;AACA;;AAEDsqE,mBAASoB,UAAT,CAAqBR,IAArB,EAA2B5nE,IAA3B;AACA;AACD;AACD,QAvGH;;AAyGA;AACA;AACA;AACA;AACA,WAAK2nE,KAAL,EAAa;AACZM;AACA,QAFD,MAEO;;AAEN;AACA;AACA,YAAKxU,OAAOoT,QAAP,CAAgBwB,YAArB,EAAoC;AACnCJ,iBAAQE,UAAR,GAAqB1U,OAAOoT,QAAP,CAAgBwB,YAAhB,EAArB;AACA;AACDxwD,eAAOnW,UAAP,CAAmBumE,OAAnB;AACA;AACD,OAzHD;AA0HA;;AAED,YAAOxU,OAAOoT,QAAP,CAAiB,UAAUM,QAAV,EAAqB;;AAE5C;AACAL,aAAQ,CAAR,EAAa,CAAb,EAAiBp0C,GAAjB,CACC8zC,QACC,CADD,EAECW,QAFD,EAGC1T,OAAOwB,UAAP,CAAmBwS,UAAnB,IACCA,UADD,GAECrB,QALF,EAMCe,SAASY,UANV,CADD;;AAWA;AACAjB,aAAQ,CAAR,EAAa,CAAb,EAAiBp0C,GAAjB,CACC8zC,QACC,CADD,EAECW,QAFD,EAGC1T,OAAOwB,UAAP,CAAmBsS,WAAnB,IACCA,WADD,GAECnB,QALF,CADD;;AAUA;AACAU,aAAQ,CAAR,EAAa,CAAb,EAAiBp0C,GAAjB,CACC8zC,QACC,CADD,EAECW,QAFD,EAGC1T,OAAOwB,UAAP,CAAmBuS,UAAnB,IACCA,UADD,GAECnB,OALF,CADD;AASA,MAnCM,EAmCHM,OAnCG,EAAP;AAoCA,KA9MQ;;AAgNT;AACA;AACAA,aAAS,iBAAUpmE,GAAV,EAAgB;AACxB,YAAOA,OAAO,IAAP,GAAckzD,OAAO1zB,MAAP,CAAex/B,GAAf,EAAoBomE,QAApB,CAAd,GAA8CA,QAArD;AACA;AApNQ,IAZX;AAAA,OAkOCK,WAAW,EAlOZ;;AAoOA;AACAvT,UAAOiB,IAAP,CAAaoS,MAAb,EAAqB,UAAUrpE,CAAV,EAAa2pE,KAAb,EAAqB;AACzC,QAAIpiD,OAAOoiD,MAAO,CAAP,CAAX;AAAA,QACCkB,cAAclB,MAAO,CAAP,CADf;;AAGA;AACA;AACA;AACAT,aAASS,MAAO,CAAP,CAAT,IAAwBpiD,KAAK0N,GAA7B;;AAEA;AACA,QAAK41C,WAAL,EAAmB;AAClBtjD,UAAK0N,GAAL,CACC,YAAW;;AAEV;AACA;AACA1Y,eAAQsuD,WAAR;AACA,MANF;;AAQC;AACA;AACAxB,YAAQ,IAAIrpE,CAAZ,EAAiB,CAAjB,EAAqBwoE,OAVtB;;AAYC;AACAa,YAAQ,CAAR,EAAa,CAAb,EAAiBZ,IAblB;AAeA;;AAED;AACA;AACA;AACAlhD,SAAK0N,GAAL,CAAU00C,MAAO,CAAP,EAAWtB,IAArB;;AAEA;AACA;AACA;AACAkB,aAAUI,MAAO,CAAP,CAAV,IAAyB,YAAW;AACnCJ,cAAUI,MAAO,CAAP,IAAa,MAAvB,EAAiC,SAASJ,QAAT,GAAoBhsD,SAApB,GAAgC,IAAjE,EAAuE5a,SAAvE;AACA,YAAO,IAAP;AACA,KAHD;;AAKA;AACA;AACA;AACA4mE,aAAUI,MAAO,CAAP,IAAa,MAAvB,IAAkCpiD,KAAKmhD,QAAvC;AACA,IA7CD;;AA+CA;AACAQ,YAAQA,OAAR,CAAiBK,QAAjB;;AAEA;AACA,OAAK/V,IAAL,EAAY;AACXA,SAAK9wD,IAAL,CAAW6mE,QAAX,EAAqBA,QAArB;AACA;;AAED;AACA,UAAOA,QAAP;AACA,GAjSa;;AAmSd;AACAuB,QAAM,cAAUC,WAAV,EAAwB;AAC7B;;AAEC;AACAh8B,eAAYpsC,UAAU5D,MAHvB;;;AAKC;AACAiB,OAAI+uC,SANL;;;AAQC;AACAi8B,qBAAkBxoE,MAAOxC,CAAP,CATnB;AAAA,OAUCirE,gBAAgBpsE,OAAM6D,IAAN,CAAYC,SAAZ,CAVjB;;;AAYC;AACAuoE,YAASlV,OAAOoT,QAAP,EAbV;;;AAeC;AACA+B,gBAAa,SAAbA,UAAa,CAAUnrE,CAAV,EAAc;AAC1B,WAAO,UAAUmC,KAAV,EAAkB;AACxB6oE,qBAAiBhrE,CAAjB,IAAuB,IAAvB;AACAirE,mBAAejrE,CAAf,IAAqB2C,UAAU5D,MAAV,GAAmB,CAAnB,GAAuBF,OAAM6D,IAAN,CAAYC,SAAZ,CAAvB,GAAiDR,KAAtE;AACA,SAAK,CAAG,GAAE4sC,SAAV,EAAwB;AACvBm8B,aAAOX,WAAP,CAAoBS,eAApB,EAAqCC,aAArC;AACA;AACD,KAND;AAOA,IAxBF;;AA0BA;AACA,OAAKl8B,aAAa,CAAlB,EAAsB;AACrB+5B,eAAYiC,WAAZ,EAAyBG,OAAOhjC,IAAP,CAAaijC,WAAYnrE,CAAZ,CAAb,EAA+B+oE,OAAxD,EAAiEmC,OAAOlC,MAAxE,EACC,CAACj6B,SADF;;AAGA;AACA,QAAKm8B,OAAO3uD,KAAP,OAAmB,SAAnB,IACJy5C,OAAOwB,UAAP,CAAmByT,cAAejrE,CAAf,KAAsBirE,cAAejrE,CAAf,EAAmBi1D,IAA5D,CADD,EACsE;;AAErE,YAAOiW,OAAOjW,IAAP,EAAP;AACA;AACD;;AAED;AACA,UAAQj1D,GAAR,EAAc;AACb8oE,eAAYmC,cAAejrE,CAAf,CAAZ,EAAgCmrE,WAAYnrE,CAAZ,CAAhC,EAAiDkrE,OAAOlC,MAAxD;AACA;;AAED,UAAOkC,OAAOhC,OAAP,EAAP;AACA;AAlVa,EAAf;;AAsVA;AACA;AACA,KAAIkC,cAAc,wDAAlB;;AAEApV,QAAOoT,QAAP,CAAgBqB,aAAhB,GAAgC,UAAU3S,KAAV,EAAiBuT,KAAjB,EAAyB;;AAExD;AACA;AACA,MAAKjxD,OAAOkxD,OAAP,IAAkBlxD,OAAOkxD,OAAP,CAAeC,IAAjC,IAAyCzT,KAAzC,IAAkDsT,YAAY3uE,IAAZ,CAAkBq7D,MAAMz8C,IAAxB,CAAvD,EAAwF;AACvFjB,UAAOkxD,OAAP,CAAeC,IAAf,CAAqB,gCAAgCzT,MAAM0T,OAA3D,EAAoE1T,MAAMuT,KAA1E,EAAiFA,KAAjF;AACA;AACD,EAPD;;AAYArV,QAAOyV,cAAP,GAAwB,UAAU3T,KAAV,EAAkB;AACzC19C,SAAOnW,UAAP,CAAmB,YAAW;AAC7B,SAAM6zD,KAAN;AACA,GAFD;AAGA,EAJD;;AASA;AACA,KAAI4T,YAAY1V,OAAOoT,QAAP,EAAhB;;AAEApT,QAAOE,EAAP,CAAU0Q,KAAV,GAAkB,UAAU1Q,EAAV,EAAe;;AAEhCwV,YACEzW,IADF,CACQiB,EADR;;AAGC;AACA;AACA;AALD,GAMEyV,KANF,CAMS,UAAU7T,KAAV,EAAkB;AACzB9B,UAAOyV,cAAP,CAAuB3T,KAAvB;AACA,GARF;;AAUA,SAAO,IAAP;AACA,EAbD;;AAeA9B,QAAO1zB,MAAP,CAAe;;AAEd;AACAu1B,WAAS,KAHK;;AAKd;AACA;AACA+T,aAAW,CAPG;;AASd;AACAhF,SAAO,eAAUiF,IAAV,EAAiB;;AAEvB;AACA,OAAKA,SAAS,IAAT,GAAgB,EAAE7V,OAAO4V,SAAzB,GAAqC5V,OAAO6B,OAAjD,EAA2D;AAC1D;AACA;;AAED;AACA7B,UAAO6B,OAAP,GAAiB,IAAjB;;AAEA;AACA,OAAKgU,SAAS,IAAT,IAAiB,EAAE7V,OAAO4V,SAAT,GAAqB,CAA3C,EAA+C;AAC9C;AACA;;AAED;AACAF,aAAUnB,WAAV,CAAuBvtE,QAAvB,EAAiC,CAAEg5D,MAAF,CAAjC;AACA;AA3Ba,EAAf;;AA8BAA,QAAO4Q,KAAP,CAAa3R,IAAb,GAAoByW,UAAUzW,IAA9B;;AAEA;AACA,UAAS6W,SAAT,GAAqB;AACpB9uE,WAASoa,mBAAT,CAA8B,kBAA9B,EAAkD00D,SAAlD;AACA1xD,SAAOhD,mBAAP,CAA4B,MAA5B,EAAoC00D,SAApC;AACA9V,SAAO4Q,KAAP;AACA;;AAED;AACA;AACA;AACA;AACA,KAAK5pE,SAAS+uE,UAAT,KAAwB,UAAxB,IACF/uE,SAAS+uE,UAAT,KAAwB,SAAxB,IAAqC,CAAC/uE,SAASmyB,eAAT,CAAyBuJ,QADlE,EAC+E;;AAE9E;AACAte,SAAOnW,UAAP,CAAmB+xD,OAAO4Q,KAA1B;AAEA,EAND,MAMO;;AAEN;AACA5pE,WAAS+Z,gBAAT,CAA2B,kBAA3B,EAA+C+0D,SAA/C;;AAEA;AACA1xD,SAAOrD,gBAAP,CAAyB,MAAzB,EAAiC+0D,SAAjC;AACA;;AAKD;AACA;AACA,KAAIE,SAAS,SAATA,MAAS,CAAUnV,KAAV,EAAiBX,EAAjB,EAAqB9oC,GAArB,EAA0BjrB,KAA1B,EAAiC8pE,SAAjC,EAA4CC,QAA5C,EAAsDC,GAAtD,EAA4D;AACxE,MAAInsE,IAAI,CAAR;AAAA,MACC8T,MAAM+iD,MAAM93D,MADb;AAAA,MAECqtE,OAAOh/C,OAAO,IAFf;;AAIA;AACA,MAAK4oC,OAAOvmD,IAAP,CAAa2d,GAAb,MAAuB,QAA5B,EAAuC;AACtC6+C,eAAY,IAAZ;AACA,QAAMjsE,CAAN,IAAWotB,GAAX,EAAiB;AAChB4+C,WAAQnV,KAAR,EAAeX,EAAf,EAAmBl2D,CAAnB,EAAsBotB,IAAKptB,CAAL,CAAtB,EAAgC,IAAhC,EAAsCksE,QAAtC,EAAgDC,GAAhD;AACA;;AAEF;AACC,GAPD,MAOO,IAAKhqE,UAAUob,SAAf,EAA2B;AACjC0uD,eAAY,IAAZ;;AAEA,OAAK,CAACjW,OAAOwB,UAAP,CAAmBr1D,KAAnB,CAAN,EAAmC;AAClCgqE,UAAM,IAAN;AACA;;AAED,OAAKC,IAAL,EAAY;;AAEX;AACA,QAAKD,GAAL,EAAW;AACVjW,QAAGxzD,IAAH,CAASm0D,KAAT,EAAgB10D,KAAhB;AACA+zD,UAAK,IAAL;;AAED;AACC,KALD,MAKO;AACNkW,YAAOlW,EAAP;AACAA,UAAK,YAAUiB,IAAV,EAAgB/pC,GAAhB,EAAqBjrB,KAArB,EAA6B;AACjC,aAAOiqE,KAAK1pE,IAAL,CAAWszD,OAAQmB,IAAR,CAAX,EAA2Bh1D,KAA3B,CAAP;AACA,MAFD;AAGA;AACD;;AAED,OAAK+zD,EAAL,EAAU;AACT,WAAQl2D,IAAI8T,GAAZ,EAAiB9T,GAAjB,EAAuB;AACtBk2D,QACCW,MAAO72D,CAAP,CADD,EACaotB,GADb,EACkB++C,MACjBhqE,KADiB,GAEjBA,MAAMO,IAAN,CAAYm0D,MAAO72D,CAAP,CAAZ,EAAwBA,CAAxB,EAA2Bk2D,GAAIW,MAAO72D,CAAP,CAAJ,EAAgBotB,GAAhB,CAA3B,CAHD;AAKA;AACD;AACD;;AAED,MAAK6+C,SAAL,EAAiB;AAChB,UAAOpV,KAAP;AACA;;AAED;AACA,MAAKuV,IAAL,EAAY;AACX,UAAOlW,GAAGxzD,IAAH,CAASm0D,KAAT,CAAP;AACA;;AAED,SAAO/iD,MAAMoiD,GAAIW,MAAO,CAAP,CAAJ,EAAgBzpC,GAAhB,CAAN,GAA8B8+C,QAArC;AACA,EAzDD;AA0DA,KAAIG,aAAa,SAAbA,UAAa,CAAUC,KAAV,EAAkB;;AAElC;AACA;AACA;AACA;AACA;AACA;AACA,SAAOA,MAAMlrE,QAAN,KAAmB,CAAnB,IAAwBkrE,MAAMlrE,QAAN,KAAmB,CAA3C,IAAgD,CAAG,CAACkrE,MAAMlrE,QAAjE;AACA,EATD;;AAcA,UAASmrE,IAAT,GAAgB;AACf,OAAK5U,OAAL,GAAe3B,OAAO2B,OAAP,GAAiB4U,KAAKC,GAAL,EAAhC;AACA;;AAEDD,MAAKC,GAAL,GAAW,CAAX;;AAEAD,MAAK9pE,SAAL,GAAiB;;AAEhB0gB,SAAO,eAAUmpD,KAAV,EAAkB;;AAExB;AACA,OAAInqE,QAAQmqE,MAAO,KAAK3U,OAAZ,CAAZ;;AAEA;AACA,OAAK,CAACx1D,KAAN,EAAc;AACbA,YAAQ,EAAR;;AAEA;AACA;AACA;AACA,QAAKkqE,WAAYC,KAAZ,CAAL,EAA2B;;AAE1B;AACA;AACA,SAAKA,MAAMlrE,QAAX,EAAsB;AACrBkrE,YAAO,KAAK3U,OAAZ,IAAwBx1D,KAAxB;;AAED;AACA;AACA;AACC,MAND,MAMO;AACN+D,aAAOumE,cAAP,CAAuBH,KAAvB,EAA8B,KAAK3U,OAAnC,EAA4C;AAC3Cx1D,cAAOA,KADoC;AAE3CuqE,qBAAc;AAF6B,OAA5C;AAIA;AACD;AACD;;AAED,UAAOvqE,KAAP;AACA,GAlCe;AAmChB2B,OAAK,aAAUwoE,KAAV,EAAiBhhD,IAAjB,EAAuBnpB,KAAvB,EAA+B;AACnC,OAAIc,IAAJ;AAAA,OACCkgB,QAAQ,KAAKA,KAAL,CAAYmpD,KAAZ,CADT;;AAGA;AACA;AACA,OAAK,OAAOhhD,IAAP,KAAgB,QAArB,EAAgC;AAC/BnI,UAAO6yC,OAAOwC,SAAP,CAAkBltC,IAAlB,CAAP,IAAoCnpB,KAApC;;AAED;AACC,IAJD,MAIO;;AAEN;AACA,SAAMc,IAAN,IAAcqoB,IAAd,EAAqB;AACpBnI,WAAO6yC,OAAOwC,SAAP,CAAkBv1D,IAAlB,CAAP,IAAoCqoB,KAAMroB,IAAN,CAApC;AACA;AACD;AACD,UAAOkgB,KAAP;AACA,GArDe;AAsDhBmN,OAAK,aAAUg8C,KAAV,EAAiBl/C,GAAjB,EAAuB;AAC3B,UAAOA,QAAQ7P,SAAR,GACN,KAAK4F,KAAL,CAAYmpD,KAAZ,CADM;;AAGN;AACAA,SAAO,KAAK3U,OAAZ,KAAyB2U,MAAO,KAAK3U,OAAZ,EAAuB3B,OAAOwC,SAAP,CAAkBprC,GAAlB,CAAvB,CAJ1B;AAKA,GA5De;AA6DhB4+C,UAAQ,gBAAUM,KAAV,EAAiBl/C,GAAjB,EAAsBjrB,KAAtB,EAA8B;;AAErC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAKirB,QAAQ7P,SAAR,IACC6P,OAAO,OAAOA,GAAP,KAAe,QAAxB,IAAsCjrB,UAAUob,SADpD,EACkE;;AAEjE,WAAO,KAAK+S,GAAL,CAAUg8C,KAAV,EAAiBl/C,GAAjB,CAAP;AACA;;AAED;AACA;AACA;AACA;AACA;AACA;AACA,QAAKtpB,GAAL,CAAUwoE,KAAV,EAAiBl/C,GAAjB,EAAsBjrB,KAAtB;;AAEA;AACA;AACA,UAAOA,UAAUob,SAAV,GAAsBpb,KAAtB,GAA8BirB,GAArC;AACA,GA3Fe;AA4FhB6Z,UAAQ,gBAAUqlC,KAAV,EAAiBl/C,GAAjB,EAAuB;AAC9B,OAAIptB,CAAJ;AAAA,OACCmjB,QAAQmpD,MAAO,KAAK3U,OAAZ,CADT;;AAGA,OAAKx0C,UAAU5F,SAAf,EAA2B;AAC1B;AACA;;AAED,OAAK6P,QAAQ7P,SAAb,EAAyB;;AAExB;AACA,QAAK/a,MAAMk1D,OAAN,CAAetqC,GAAf,CAAL,EAA4B;;AAE3B;AACA;AACAA,WAAMA,IAAI7nB,GAAJ,CAASywD,OAAOwC,SAAhB,CAAN;AACA,KALD,MAKO;AACNprC,WAAM4oC,OAAOwC,SAAP,CAAkBprC,GAAlB,CAAN;;AAEA;AACA;AACAA,WAAMA,OAAOjK,KAAP,GACL,CAAEiK,GAAF,CADK,GAEHA,IAAInvB,KAAJ,CAAWypE,aAAX,KAA8B,EAFjC;AAGA;;AAED1nE,QAAIotB,IAAIruB,MAAR;;AAEA,WAAQiB,GAAR,EAAc;AACb,YAAOmjB,MAAOiK,IAAKptB,CAAL,CAAP,CAAP;AACA;AACD;;AAED;AACA,OAAKotB,QAAQ7P,SAAR,IAAqBy4C,OAAOsC,aAAP,CAAsBn1C,KAAtB,CAA1B,EAA0D;;AAEzD;AACA;AACA;AACA;AACA,QAAKmpD,MAAMlrE,QAAX,EAAsB;AACrBkrE,WAAO,KAAK3U,OAAZ,IAAwBp6C,SAAxB;AACA,KAFD,MAEO;AACN,YAAO+uD,MAAO,KAAK3U,OAAZ,CAAP;AACA;AACD;AACD,GA1Ie;AA2IhBgV,WAAS,iBAAUL,KAAV,EAAkB;AAC1B,OAAInpD,QAAQmpD,MAAO,KAAK3U,OAAZ,CAAZ;AACA,UAAOx0C,UAAU5F,SAAV,IAAuB,CAACy4C,OAAOsC,aAAP,CAAsBn1C,KAAtB,CAA/B;AACA;AA9Ie,EAAjB;AAgJA,KAAIypD,WAAW,IAAIL,IAAJ,EAAf;;AAEA,KAAIM,WAAW,IAAIN,IAAJ,EAAf;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,KAAIO,SAAS,+BAAb;AAAA,KACCC,aAAa,QADd;;AAGA,UAAS32B,OAAT,CAAkB9qB,IAAlB,EAAyB;AACxB,MAAKA,SAAS,MAAd,EAAuB;AACtB,UAAO,IAAP;AACA;;AAED,MAAKA,SAAS,OAAd,EAAwB;AACvB,UAAO,KAAP;AACA;;AAED,MAAKA,SAAS,MAAd,EAAuB;AACtB,UAAO,IAAP;AACA;;AAED;AACA,MAAKA,SAAS,CAACA,IAAD,GAAQ,EAAtB,EAA2B;AAC1B,UAAO,CAACA,IAAR;AACA;;AAED,MAAKwhD,OAAOrwE,IAAP,CAAa6uB,IAAb,CAAL,EAA2B;AAC1B,UAAO0hD,KAAKC,KAAL,CAAY3hD,IAAZ,CAAP;AACA;;AAED,SAAOA,IAAP;AACA;;AAED,UAAS4hD,QAAT,CAAmB/V,IAAnB,EAAyB/pC,GAAzB,EAA8B9B,IAA9B,EAAqC;AACpC,MAAIjQ,IAAJ;;AAEA;AACA;AACA,MAAKiQ,SAAS/N,SAAT,IAAsB45C,KAAK/1D,QAAL,KAAkB,CAA7C,EAAiD;AAChDia,UAAO,UAAU+R,IAAIxX,OAAJ,CAAam3D,UAAb,EAAyB,KAAzB,EAAiCvmE,WAAjC,EAAjB;AACA8kB,UAAO6rC,KAAKpsC,YAAL,CAAmB1P,IAAnB,CAAP;;AAEA,OAAK,OAAOiQ,IAAP,KAAgB,QAArB,EAAgC;AAC/B,QAAI;AACHA,YAAO8qB,QAAS9qB,IAAT,CAAP;AACA,KAFD,CAEE,OAAQrsB,CAAR,EAAY,CAAE;;AAEhB;AACA4tE,aAAS/oE,GAAT,CAAcqzD,IAAd,EAAoB/pC,GAApB,EAAyB9B,IAAzB;AACA,IAPD,MAOO;AACNA,WAAO/N,SAAP;AACA;AACD;AACD,SAAO+N,IAAP;AACA;;AAED0qC,QAAO1zB,MAAP,CAAe;AACdqqC,WAAS,iBAAUxV,IAAV,EAAiB;AACzB,UAAO0V,SAASF,OAAT,CAAkBxV,IAAlB,KAA4ByV,SAASD,OAAT,CAAkBxV,IAAlB,CAAnC;AACA,GAHa;;AAKd7rC,QAAM,cAAU6rC,IAAV,EAAgB97C,IAAhB,EAAsBiQ,KAAtB,EAA6B;AAClC,UAAOuhD,SAASb,MAAT,CAAiB7U,IAAjB,EAAuB97C,IAAvB,EAA6BiQ,KAA7B,CAAP;AACA,GAPa;;AASd6hD,cAAY,oBAAUhW,IAAV,EAAgB97C,IAAhB,EAAuB;AAClCwxD,YAAS5lC,MAAT,CAAiBkwB,IAAjB,EAAuB97C,IAAvB;AACA,GAXa;;AAad;AACA;AACA+xD,SAAO,eAAUjW,IAAV,EAAgB97C,IAAhB,EAAsBiQ,IAAtB,EAA6B;AACnC,UAAOshD,SAASZ,MAAT,CAAiB7U,IAAjB,EAAuB97C,IAAvB,EAA6BiQ,IAA7B,CAAP;AACA,GAjBa;;AAmBd+hD,eAAa,qBAAUlW,IAAV,EAAgB97C,IAAhB,EAAuB;AACnCuxD,YAAS3lC,MAAT,CAAiBkwB,IAAjB,EAAuB97C,IAAvB;AACA;AArBa,EAAf;;AAwBA26C,QAAOE,EAAP,CAAU5zB,MAAV,CAAkB;AACjBhX,QAAM,cAAU8B,GAAV,EAAejrB,KAAf,EAAuB;AAC5B,OAAInC,CAAJ;AAAA,OAAOqb,IAAP;AAAA,OAAaiQ,IAAb;AAAA,OACC6rC,OAAO,KAAM,CAAN,CADR;AAAA,OAEC4G,QAAQ5G,QAAQA,KAAK+D,UAFtB;;AAIA;AACA,OAAK9tC,QAAQ7P,SAAb,EAAyB;AACxB,QAAK,KAAKxe,MAAV,EAAmB;AAClBusB,YAAOuhD,SAASv8C,GAAT,CAAc6mC,IAAd,CAAP;;AAEA,SAAKA,KAAK/1D,QAAL,KAAkB,CAAlB,IAAuB,CAACwrE,SAASt8C,GAAT,CAAc6mC,IAAd,EAAoB,cAApB,CAA7B,EAAoE;AACnEn3D,UAAI+9D,MAAMh/D,MAAV;AACA,aAAQiB,GAAR,EAAc;;AAEb;AACA;AACA,WAAK+9D,MAAO/9D,CAAP,CAAL,EAAkB;AACjBqb,eAAO0iD,MAAO/9D,CAAP,EAAWqb,IAAlB;AACA,YAAKA,KAAK1X,OAAL,CAAc,OAAd,MAA4B,CAAjC,EAAqC;AACpC0X,gBAAO26C,OAAOwC,SAAP,CAAkBn9C,KAAKxc,KAAL,CAAY,CAAZ,CAAlB,CAAP;AACAquE,kBAAU/V,IAAV,EAAgB97C,IAAhB,EAAsBiQ,KAAMjQ,IAAN,CAAtB;AACA;AACD;AACD;AACDuxD,eAAS9oE,GAAT,CAAcqzD,IAAd,EAAoB,cAApB,EAAoC,IAApC;AACA;AACD;;AAED,WAAO7rC,IAAP;AACA;;AAED;AACA,OAAK,QAAO8B,GAAP,yCAAOA,GAAP,OAAe,QAApB,EAA+B;AAC9B,WAAO,KAAK6pC,IAAL,CAAW,YAAW;AAC5B4V,cAAS/oE,GAAT,CAAc,IAAd,EAAoBspB,GAApB;AACA,KAFM,CAAP;AAGA;;AAED,UAAO4+C,OAAQ,IAAR,EAAc,UAAU7pE,KAAV,EAAkB;AACtC,QAAImpB,IAAJ;;AAEA;AACA;AACA;AACA;AACA;AACA,QAAK6rC,QAAQh1D,UAAUob,SAAvB,EAAmC;;AAElC;AACA;AACA+N,YAAOuhD,SAASv8C,GAAT,CAAc6mC,IAAd,EAAoB/pC,GAApB,CAAP;AACA,SAAK9B,SAAS/N,SAAd,EAA0B;AACzB,aAAO+N,IAAP;AACA;;AAED;AACA;AACAA,YAAO4hD,SAAU/V,IAAV,EAAgB/pC,GAAhB,CAAP;AACA,SAAK9B,SAAS/N,SAAd,EAA0B;AACzB,aAAO+N,IAAP;AACA;;AAED;AACA;AACA;;AAED;AACA,SAAK2rC,IAAL,CAAW,YAAW;;AAErB;AACA4V,cAAS/oE,GAAT,CAAc,IAAd,EAAoBspB,GAApB,EAAyBjrB,KAAzB;AACA,KAJD;AAKA,IAlCM,EAkCJ,IAlCI,EAkCEA,KAlCF,EAkCSQ,UAAU5D,MAAV,GAAmB,CAlC5B,EAkC+B,IAlC/B,EAkCqC,IAlCrC,CAAP;AAmCA,GA1EgB;;AA4EjBouE,cAAY,oBAAU//C,GAAV,EAAgB;AAC3B,UAAO,KAAK6pC,IAAL,CAAW,YAAW;AAC5B4V,aAAS5lC,MAAT,CAAiB,IAAjB,EAAuB7Z,GAAvB;AACA,IAFM,CAAP;AAGA;AAhFgB,EAAlB;;AAoFA4oC,QAAO1zB,MAAP,CAAe;AACd6lC,SAAO,eAAUhR,IAAV,EAAgB1nD,IAAhB,EAAsB6b,IAAtB,EAA6B;AACnC,OAAI68C,KAAJ;;AAEA,OAAKhR,IAAL,EAAY;AACX1nD,WAAO,CAAEA,QAAQ,IAAV,IAAmB,OAA1B;AACA04D,YAAQyE,SAASt8C,GAAT,CAAc6mC,IAAd,EAAoB1nD,IAApB,CAAR;;AAEA;AACA,QAAK6b,IAAL,EAAY;AACX,SAAK,CAAC68C,KAAD,IAAU3lE,MAAMk1D,OAAN,CAAepsC,IAAf,CAAf,EAAuC;AACtC68C,cAAQyE,SAASZ,MAAT,CAAiB7U,IAAjB,EAAuB1nD,IAAvB,EAA6BumD,OAAO2C,SAAP,CAAkBrtC,IAAlB,CAA7B,CAAR;AACA,MAFD,MAEO;AACN68C,YAAM/iE,IAAN,CAAYkmB,IAAZ;AACA;AACD;AACD,WAAO68C,SAAS,EAAhB;AACA;AACD,GAlBa;;AAoBdmF,WAAS,iBAAUnW,IAAV,EAAgB1nD,IAAhB,EAAuB;AAC/BA,UAAOA,QAAQ,IAAf;;AAEA,OAAI04D,QAAQnS,OAAOmS,KAAP,CAAchR,IAAd,EAAoB1nD,IAApB,CAAZ;AAAA,OACC89D,cAAcpF,MAAMppE,MADrB;AAAA,OAECm3D,KAAKiS,MAAMh9D,KAAN,EAFN;AAAA,OAGCqiE,QAAQxX,OAAOyX,WAAP,CAAoBtW,IAApB,EAA0B1nD,IAA1B,CAHT;AAAA,OAIC+N,OAAO,SAAPA,IAAO,GAAW;AACjBw4C,WAAOsX,OAAP,CAAgBnW,IAAhB,EAAsB1nD,IAAtB;AACA,IANF;;AAQA;AACA,OAAKymD,OAAO,YAAZ,EAA2B;AAC1BA,SAAKiS,MAAMh9D,KAAN,EAAL;AACAoiE;AACA;;AAED,OAAKrX,EAAL,EAAU;;AAET;AACA;AACA,QAAKzmD,SAAS,IAAd,EAAqB;AACpB04D,WAAM1xD,OAAN,CAAe,YAAf;AACA;;AAED;AACA,WAAO+2D,MAAME,IAAb;AACAxX,OAAGxzD,IAAH,CAASy0D,IAAT,EAAe35C,IAAf,EAAqBgwD,KAArB;AACA;;AAED,OAAK,CAACD,WAAD,IAAgBC,KAArB,EAA6B;AAC5BA,UAAMr5C,KAAN,CAAYk0C,IAAZ;AACA;AACD,GArDa;;AAuDd;AACAoF,eAAa,qBAAUtW,IAAV,EAAgB1nD,IAAhB,EAAuB;AACnC,OAAI2d,MAAM3d,OAAO,YAAjB;AACA,UAAOm9D,SAASt8C,GAAT,CAAc6mC,IAAd,EAAoB/pC,GAApB,KAA6Bw/C,SAASZ,MAAT,CAAiB7U,IAAjB,EAAuB/pC,GAAvB,EAA4B;AAC/D+G,WAAO6hC,OAAO8R,SAAP,CAAkB,aAAlB,EAAkC7yC,GAAlC,CAAuC,YAAW;AACxD23C,cAAS3lC,MAAT,CAAiBkwB,IAAjB,EAAuB,CAAE1nD,OAAO,OAAT,EAAkB2d,GAAlB,CAAvB;AACA,KAFM;AADwD,IAA5B,CAApC;AAKA;AA/Da,EAAf;;AAkEA4oC,QAAOE,EAAP,CAAU5zB,MAAV,CAAkB;AACjB6lC,SAAO,eAAU14D,IAAV,EAAgB6b,IAAhB,EAAuB;AAC7B,OAAIqiD,SAAS,CAAb;;AAEA,OAAK,OAAOl+D,IAAP,KAAgB,QAArB,EAAgC;AAC/B6b,WAAO7b,IAAP;AACAA,WAAO,IAAP;AACAk+D;AACA;;AAED,OAAKhrE,UAAU5D,MAAV,GAAmB4uE,MAAxB,EAAiC;AAChC,WAAO3X,OAAOmS,KAAP,CAAc,KAAM,CAAN,CAAd,EAAyB14D,IAAzB,CAAP;AACA;;AAED,UAAO6b,SAAS/N,SAAT,GACN,IADM,GAEN,KAAK05C,IAAL,CAAW,YAAW;AACrB,QAAIkR,QAAQnS,OAAOmS,KAAP,CAAc,IAAd,EAAoB14D,IAApB,EAA0B6b,IAA1B,CAAZ;;AAEA;AACA0qC,WAAOyX,WAAP,CAAoB,IAApB,EAA0Bh+D,IAA1B;;AAEA,QAAKA,SAAS,IAAT,IAAiB04D,MAAO,CAAP,MAAe,YAArC,EAAoD;AACnDnS,YAAOsX,OAAP,CAAgB,IAAhB,EAAsB79D,IAAtB;AACA;AACD,IATD,CAFD;AAYA,GA1BgB;AA2BjB69D,WAAS,iBAAU79D,IAAV,EAAiB;AACzB,UAAO,KAAKwnD,IAAL,CAAW,YAAW;AAC5BjB,WAAOsX,OAAP,CAAgB,IAAhB,EAAsB79D,IAAtB;AACA,IAFM,CAAP;AAGA,GA/BgB;AAgCjBm+D,cAAY,oBAAUn+D,IAAV,EAAiB;AAC5B,UAAO,KAAK04D,KAAL,CAAY14D,QAAQ,IAApB,EAA0B,EAA1B,CAAP;AACA,GAlCgB;;AAoCjB;AACA;AACAy5D,WAAS,iBAAUz5D,IAAV,EAAgB3M,GAAhB,EAAsB;AAC9B,OAAIw2D,GAAJ;AAAA,OACCp6D,QAAQ,CADT;AAAA,OAEC2uE,QAAQ7X,OAAOoT,QAAP,EAFT;AAAA,OAGClJ,WAAW,IAHZ;AAAA,OAIClgE,IAAI,KAAKjB,MAJV;AAAA,OAKCgqE,UAAU,SAAVA,OAAU,GAAW;AACpB,QAAK,CAAG,GAAE7pE,KAAV,EAAoB;AACnB2uE,WAAMtD,WAAN,CAAmBrK,QAAnB,EAA6B,CAAEA,QAAF,CAA7B;AACA;AACD,IATF;;AAWA,OAAK,OAAOzwD,IAAP,KAAgB,QAArB,EAAgC;AAC/B3M,UAAM2M,IAAN;AACAA,WAAO8N,SAAP;AACA;AACD9N,UAAOA,QAAQ,IAAf;;AAEA,UAAQzP,GAAR,EAAc;AACbs5D,UAAMsT,SAASt8C,GAAT,CAAc4vC,SAAUlgE,CAAV,CAAd,EAA6ByP,OAAO,YAApC,CAAN;AACA,QAAK6pD,OAAOA,IAAInlC,KAAhB,EAAwB;AACvBj1B;AACAo6D,SAAInlC,KAAJ,CAAUc,GAAV,CAAe8zC,OAAf;AACA;AACD;AACDA;AACA,UAAO8E,MAAM3E,OAAN,CAAepmE,GAAf,CAAP;AACA;AAjEgB,EAAlB;AAmEA,KAAIgrE,OAAS,qCAAF,CAA0CnnE,MAArD;;AAEA,KAAIonE,UAAU,IAAIxvE,MAAJ,CAAY,mBAAmBuvE,IAAnB,GAA0B,aAAtC,EAAqD,GAArD,CAAd;;AAGA,KAAIE,YAAY,CAAE,KAAF,EAAS,OAAT,EAAkB,QAAlB,EAA4B,MAA5B,CAAhB;;AAEA,KAAIC,qBAAqB,SAArBA,kBAAqB,CAAU9W,IAAV,EAAgB0G,EAAhB,EAAqB;;AAE5C;AACA;AACA1G,SAAO0G,MAAM1G,IAAb;;AAEA;AACA,SAAOA,KAAKv3D,KAAL,CAAWqU,OAAX,KAAuB,MAAvB,IACNkjD,KAAKv3D,KAAL,CAAWqU,OAAX,KAAuB,EAAvB;;AAEA;AACA;AACA;AACA;AACA+hD,SAAO90D,QAAP,CAAiBi2D,KAAK58C,aAAtB,EAAqC48C,IAArC,CANA,IAQAnB,OAAOvxC,GAAP,CAAY0yC,IAAZ,EAAkB,SAAlB,MAAkC,MATnC;AAUA,EAjBF;;AAmBA,KAAI+W,OAAO,SAAPA,IAAO,CAAU/W,IAAV,EAAgBlqD,OAAhB,EAAyBiqD,QAAzB,EAAmC30D,IAAnC,EAA0C;AACpD,MAAIu0D,GAAJ;AAAA,MAASz7C,IAAT;AAAA,MACClM,MAAM,EADP;;AAGA;AACA,OAAMkM,IAAN,IAAcpO,OAAd,EAAwB;AACvBkC,OAAKkM,IAAL,IAAc87C,KAAKv3D,KAAL,CAAYyb,IAAZ,CAAd;AACA87C,QAAKv3D,KAAL,CAAYyb,IAAZ,IAAqBpO,QAASoO,IAAT,CAArB;AACA;;AAEDy7C,QAAMI,SAASt0D,KAAT,CAAgBu0D,IAAhB,EAAsB50D,QAAQ,EAA9B,CAAN;;AAEA;AACA,OAAM8Y,IAAN,IAAcpO,OAAd,EAAwB;AACvBkqD,QAAKv3D,KAAL,CAAYyb,IAAZ,IAAqBlM,IAAKkM,IAAL,CAArB;AACA;;AAED,SAAOy7C,GAAP;AACA,EAlBD;;AAuBA,UAASqX,SAAT,CAAoBhX,IAApB,EAA0Bl0D,IAA1B,EAAgCmrE,UAAhC,EAA4CC,KAA5C,EAAoD;AACnD,MAAIC,QAAJ;AAAA,MACCC,QAAQ,CADT;AAAA,MAECC,gBAAgB,EAFjB;AAAA,MAGCC,eAAeJ,QACd,YAAW;AACV,UAAOA,MAAM9hE,GAAN,EAAP;AACA,GAHa,GAId,YAAW;AACV,UAAOypD,OAAOvxC,GAAP,CAAY0yC,IAAZ,EAAkBl0D,IAAlB,EAAwB,EAAxB,CAAP;AACA,GATH;AAAA,MAUCyrE,UAAUD,cAVX;AAAA,MAWC/tB,OAAO0tB,cAAcA,WAAY,CAAZ,CAAd,KAAmCpY,OAAO2Y,SAAP,CAAkB1rE,IAAlB,IAA2B,EAA3B,GAAgC,IAAnE,CAXR;;;AAaC;AACA2rE,kBAAgB,CAAE5Y,OAAO2Y,SAAP,CAAkB1rE,IAAlB,KAA4By9C,SAAS,IAAT,IAAiB,CAACguB,OAAhD,KACfX,QAAQnxE,IAAR,CAAco5D,OAAOvxC,GAAP,CAAY0yC,IAAZ,EAAkBl0D,IAAlB,CAAd,CAfF;;AAiBA,MAAK2rE,iBAAiBA,cAAe,CAAf,MAAuBluB,IAA7C,EAAoD;;AAEnD;AACAA,UAAOA,QAAQkuB,cAAe,CAAf,CAAf;;AAEA;AACAR,gBAAaA,cAAc,EAA3B;;AAEA;AACAQ,mBAAgB,CAACF,OAAD,IAAY,CAA5B;;AAEA,MAAG;;AAEF;AACA;AACAH,YAAQA,SAAS,IAAjB;;AAEA;AACAK,oBAAgBA,gBAAgBL,KAAhC;AACAvY,WAAOp2D,KAAP,CAAcu3D,IAAd,EAAoBl0D,IAApB,EAA0B2rE,gBAAgBluB,IAA1C;;AAED;AACA;AACC,IAZD,QAaC6tB,WAAYA,QAAQE,iBAAiBC,OAArC,KAAkDH,UAAU,CAA5D,IAAiE,EAAEC,aAbpE;AAeA;;AAED,MAAKJ,UAAL,EAAkB;AACjBQ,mBAAgB,CAACA,aAAD,IAAkB,CAACF,OAAnB,IAA8B,CAA9C;;AAEA;AACAJ,cAAWF,WAAY,CAAZ,IACVQ,gBAAgB,CAAER,WAAY,CAAZ,IAAkB,CAApB,IAA0BA,WAAY,CAAZ,CADhC,GAEV,CAACA,WAAY,CAAZ,CAFF;AAGA,OAAKC,KAAL,EAAa;AACZA,UAAM3tB,IAAN,GAAaA,IAAb;AACA2tB,UAAMhuE,KAAN,GAAcuuE,aAAd;AACAP,UAAM/tE,GAAN,GAAYguE,QAAZ;AACA;AACD;AACD,SAAOA,QAAP;AACA;;AAGD,KAAIO,oBAAoB,EAAxB;;AAEA,UAASC,iBAAT,CAA4B3X,IAA5B,EAAmC;AAClC,MAAI8M,IAAJ;AAAA,MACCn8D,MAAMqvD,KAAK58C,aADZ;AAAA,MAEC81C,WAAW8G,KAAK9G,QAFjB;AAAA,MAGCp8C,UAAU46D,kBAAmBxe,QAAnB,CAHX;;AAKA,MAAKp8C,OAAL,EAAe;AACd,UAAOA,OAAP;AACA;;AAEDgwD,SAAOn8D,IAAInH,IAAJ,CAASnB,WAAT,CAAsBsI,IAAIjI,aAAJ,CAAmBwwD,QAAnB,CAAtB,CAAP;AACAp8C,YAAU+hD,OAAOvxC,GAAP,CAAYw/C,IAAZ,EAAkB,SAAlB,CAAV;;AAEAA,OAAKnjE,UAAL,CAAgB1B,WAAhB,CAA6B6kE,IAA7B;;AAEA,MAAKhwD,YAAY,MAAjB,EAA0B;AACzBA,aAAU,OAAV;AACA;AACD46D,oBAAmBxe,QAAnB,IAAgCp8C,OAAhC;;AAEA,SAAOA,OAAP;AACA;;AAED,UAAS86D,QAAT,CAAmB7O,QAAnB,EAA6B8O,IAA7B,EAAoC;AACnC,MAAI/6D,OAAJ;AAAA,MAAakjD,IAAb;AAAA,MACC8X,SAAS,EADV;AAAA,MAECnwE,QAAQ,CAFT;AAAA,MAGCC,SAASmhE,SAASnhE,MAHnB;;AAKA;AACA,SAAQD,QAAQC,MAAhB,EAAwBD,OAAxB,EAAkC;AACjCq4D,UAAO+I,SAAUphE,KAAV,CAAP;AACA,OAAK,CAACq4D,KAAKv3D,KAAX,EAAmB;AAClB;AACA;;AAEDqU,aAAUkjD,KAAKv3D,KAAL,CAAWqU,OAArB;AACA,OAAK+6D,IAAL,EAAY;;AAEX;AACA;AACA;AACA,QAAK/6D,YAAY,MAAjB,EAA0B;AACzBg7D,YAAQnwE,KAAR,IAAkB8tE,SAASt8C,GAAT,CAAc6mC,IAAd,EAAoB,SAApB,KAAmC,IAArD;AACA,SAAK,CAAC8X,OAAQnwE,KAAR,CAAN,EAAwB;AACvBq4D,WAAKv3D,KAAL,CAAWqU,OAAX,GAAqB,EAArB;AACA;AACD;AACD,QAAKkjD,KAAKv3D,KAAL,CAAWqU,OAAX,KAAuB,EAAvB,IAA6Bg6D,mBAAoB9W,IAApB,CAAlC,EAA+D;AAC9D8X,YAAQnwE,KAAR,IAAkBgwE,kBAAmB3X,IAAnB,CAAlB;AACA;AACD,IAdD,MAcO;AACN,QAAKljD,YAAY,MAAjB,EAA0B;AACzBg7D,YAAQnwE,KAAR,IAAkB,MAAlB;;AAEA;AACA8tE,cAAS9oE,GAAT,CAAcqzD,IAAd,EAAoB,SAApB,EAA+BljD,OAA/B;AACA;AACD;AACD;;AAED;AACA,OAAMnV,QAAQ,CAAd,EAAiBA,QAAQC,MAAzB,EAAiCD,OAAjC,EAA2C;AAC1C,OAAKmwE,OAAQnwE,KAAR,KAAmB,IAAxB,EAA+B;AAC9BohE,aAAUphE,KAAV,EAAkBc,KAAlB,CAAwBqU,OAAxB,GAAkCg7D,OAAQnwE,KAAR,CAAlC;AACA;AACD;;AAED,SAAOohE,QAAP;AACA;;AAEDlK,QAAOE,EAAP,CAAU5zB,MAAV,CAAkB;AACjB0sC,QAAM,gBAAW;AAChB,UAAOD,SAAU,IAAV,EAAgB,IAAhB,CAAP;AACA,GAHgB;AAIjBG,QAAM,gBAAW;AAChB,UAAOH,SAAU,IAAV,CAAP;AACA,GANgB;AAOjBjqB,UAAQ,gBAAUvoC,KAAV,EAAkB;AACzB,OAAK,OAAOA,KAAP,KAAiB,SAAtB,EAAkC;AACjC,WAAOA,QAAQ,KAAKyyD,IAAL,EAAR,GAAsB,KAAKE,IAAL,EAA7B;AACA;;AAED,UAAO,KAAKjY,IAAL,CAAW,YAAW;AAC5B,QAAKgX,mBAAoB,IAApB,CAAL,EAAkC;AACjCjY,YAAQ,IAAR,EAAegZ,IAAf;AACA,KAFD,MAEO;AACNhZ,YAAQ,IAAR,EAAekZ,IAAf;AACA;AACD,IANM,CAAP;AAOA;AAnBgB,EAAlB;AAqBA,KAAIC,iBAAmB,uBAAvB;;AAEA,KAAIC,WAAa,gCAAjB;;AAEA,KAAIC,cAAgB,2BAApB;;AAIA;AACA,KAAIC,UAAU;;AAEb;AACA7uB,UAAQ,CAAE,CAAF,EAAK,8BAAL,EAAqC,WAArC,CAHK;;AAKb;AACA;AACA;AACA8uB,SAAO,CAAE,CAAF,EAAK,SAAL,EAAgB,UAAhB,CARM;AASbzqE,OAAK,CAAE,CAAF,EAAK,mBAAL,EAA0B,qBAA1B,CATQ;AAUb0qE,MAAI,CAAE,CAAF,EAAK,gBAAL,EAAuB,kBAAvB,CAVS;AAWbC,MAAI,CAAE,CAAF,EAAK,oBAAL,EAA2B,uBAA3B,CAXS;;AAabC,YAAU,CAAE,CAAF,EAAK,EAAL,EAAS,EAAT;AAbG,EAAd;;AAgBA;AACAJ,SAAQK,QAAR,GAAmBL,QAAQ7uB,MAA3B;;AAEA6uB,SAAQM,KAAR,GAAgBN,QAAQO,KAAR,GAAgBP,QAAQQ,QAAR,GAAmBR,QAAQS,OAAR,GAAkBT,QAAQC,KAA7E;AACAD,SAAQ18C,EAAR,GAAa08C,QAAQG,EAArB;;AAGA,UAASO,MAAT,CAAiBxwD,OAAjB,EAA0B9f,GAA1B,EAAgC;;AAE/B;AACA;AACA,MAAIo3D,GAAJ;;AAEA,MAAK,OAAOt3C,QAAQ29C,oBAAf,KAAwC,WAA7C,EAA2D;AAC1DrG,SAAMt3C,QAAQ29C,oBAAR,CAA8Bz9D,OAAO,GAArC,CAAN;AAEA,GAHD,MAGO,IAAK,OAAO8f,QAAQ+9C,gBAAf,KAAoC,WAAzC,EAAuD;AAC7DzG,SAAMt3C,QAAQ+9C,gBAAR,CAA0B79D,OAAO,GAAjC,CAAN;AAEA,GAHM,MAGA;AACNo3D,SAAM,EAAN;AACA;;AAED,MAAKp3D,QAAQ6d,SAAR,IAAqB7d,OAAO2wD,SAAU7wC,OAAV,EAAmB9f,GAAnB,CAAjC,EAA4D;AAC3D,UAAOs2D,OAAOe,KAAP,CAAc,CAAEv3C,OAAF,CAAd,EAA2Bs3C,GAA3B,CAAP;AACA;;AAED,SAAOA,GAAP;AACA;;AAGD;AACA,UAASmZ,aAAT,CAAwBpZ,KAAxB,EAA+BqZ,WAA/B,EAA6C;AAC5C,MAAIlwE,IAAI,CAAR;AAAA,MACC+M,IAAI8pD,MAAM93D,MADX;;AAGA,SAAQiB,IAAI+M,CAAZ,EAAe/M,GAAf,EAAqB;AACpB4sE,YAAS9oE,GAAT,CACC+yD,MAAO72D,CAAP,CADD,EAEC,YAFD,EAGC,CAACkwE,WAAD,IAAgBtD,SAASt8C,GAAT,CAAc4/C,YAAalwE,CAAb,CAAd,EAAgC,YAAhC,CAHjB;AAKA;AACD;;AAGD,KAAImwE,QAAQ,WAAZ;;AAEA,UAASC,aAAT,CAAwBvZ,KAAxB,EAA+Br3C,OAA/B,EAAwC6wD,OAAxC,EAAiD71D,SAAjD,EAA4D81D,OAA5D,EAAsE;AACrE,MAAInZ,IAAJ;AAAA,MAAUmC,GAAV;AAAA,MAAe55D,GAAf;AAAA,MAAoB2oB,IAApB;AAAA,MAA0BnnB,QAA1B;AAAA,MAAoCsQ,CAApC;AAAA,MACCojB,WAAWpV,QAAQsF,sBAAR,EADZ;AAAA,MAECyrD,QAAQ,EAFT;AAAA,MAGCvwE,IAAI,CAHL;AAAA,MAIC+M,IAAI8pD,MAAM93D,MAJX;;AAMA,SAAQiB,IAAI+M,CAAZ,EAAe/M,GAAf,EAAqB;AACpBm3D,UAAON,MAAO72D,CAAP,CAAP;;AAEA,OAAKm3D,QAAQA,SAAS,CAAtB,EAA0B;;AAEzB;AACA,QAAKnB,OAAOvmD,IAAP,CAAa0nD,IAAb,MAAwB,QAA7B,EAAwC;;AAEvC;AACA;AACAnB,YAAOe,KAAP,CAAcwZ,KAAd,EAAqBpZ,KAAK/1D,QAAL,GAAgB,CAAE+1D,IAAF,CAAhB,GAA2BA,IAAhD;;AAED;AACC,KAPD,MAOO,IAAK,CAACgZ,MAAM1zE,IAAN,CAAY06D,IAAZ,CAAN,EAA2B;AACjCoZ,WAAMnrE,IAAN,CAAYoa,QAAQzf,cAAR,CAAwBo3D,IAAxB,CAAZ;;AAED;AACC,KAJM,MAIA;AACNmC,WAAMA,OAAO1kC,SAASp1B,WAAT,CAAsBggB,QAAQ3f,aAAR,CAAuB,KAAvB,CAAtB,CAAb;;AAEA;AACAH,WAAM,CAAE0vE,SAASxyE,IAAT,CAAeu6D,IAAf,KAAyB,CAAE,EAAF,EAAM,EAAN,CAA3B,EAAyC,CAAzC,EAA6C3wD,WAA7C,EAAN;AACA6hB,YAAOinD,QAAS5vE,GAAT,KAAkB4vE,QAAQI,QAAjC;AACApW,SAAI6F,SAAJ,GAAgB92C,KAAM,CAAN,IAAY2tC,OAAOwa,aAAP,CAAsBrZ,IAAtB,CAAZ,GAA2C9uC,KAAM,CAAN,CAA3D;;AAEA;AACA7W,SAAI6W,KAAM,CAAN,CAAJ;AACA,YAAQ7W,GAAR,EAAc;AACb8nD,YAAMA,IAAIn1C,SAAV;AACA;;AAED;AACA;AACA6xC,YAAOe,KAAP,CAAcwZ,KAAd,EAAqBjX,IAAIn6D,UAAzB;;AAEA;AACAm6D,WAAM1kC,SAASv1B,UAAf;;AAEA;AACAi6D,SAAIpJ,WAAJ,GAAkB,EAAlB;AACA;AACD;AACD;;AAED;AACAt7B,WAASs7B,WAAT,GAAuB,EAAvB;;AAEAlwD,MAAI,CAAJ;AACA,SAAUm3D,OAAOoZ,MAAOvwE,GAAP,CAAjB,EAAkC;;AAEjC;AACA,OAAKwa,aAAaw7C,OAAO6C,OAAP,CAAgB1B,IAAhB,EAAsB38C,SAAtB,IAAoC,CAAC,CAAvD,EAA2D;AAC1D,QAAK81D,OAAL,EAAe;AACdA,aAAQlrE,IAAR,CAAc+xD,IAAd;AACA;AACD;AACA;;AAEDj2D,cAAW80D,OAAO90D,QAAP,CAAiBi2D,KAAK58C,aAAtB,EAAqC48C,IAArC,CAAX;;AAEA;AACAmC,SAAM0W,OAAQp7C,SAASp1B,WAAT,CAAsB23D,IAAtB,CAAR,EAAsC,QAAtC,CAAN;;AAEA;AACA,OAAKj2D,QAAL,EAAgB;AACf+uE,kBAAe3W,GAAf;AACA;;AAED;AACA,OAAK+W,OAAL,EAAe;AACd7+D,QAAI,CAAJ;AACA,WAAU2lD,OAAOmC,IAAK9nD,GAAL,CAAjB,EAAgC;AAC/B,SAAK69D,YAAY5yE,IAAZ,CAAkB06D,KAAK1nD,IAAL,IAAa,EAA/B,CAAL,EAA2C;AAC1C4gE,cAAQjrE,IAAR,CAAc+xD,IAAd;AACA;AACD;AACD;AACD;;AAED,SAAOviC,QAAP;AACA;;AAGD,EAAE,YAAW;AACZ,MAAIA,WAAW53B,SAAS8nB,sBAAT,EAAf;AAAA,MACC5L,MAAM0b,SAASp1B,WAAT,CAAsBxC,SAAS6C,aAAT,CAAwB,KAAxB,CAAtB,CADP;AAAA,MAECkI,QAAQ/K,SAAS6C,aAAT,CAAwB,OAAxB,CAFT;;AAIA;AACA;AACA;AACA;AACAkI,QAAM7H,YAAN,CAAoB,MAApB,EAA4B,OAA5B;AACA6H,QAAM7H,YAAN,CAAoB,SAApB,EAA+B,SAA/B;AACA6H,QAAM7H,YAAN,CAAoB,MAApB,EAA4B,GAA5B;;AAEAgZ,MAAI1Z,WAAJ,CAAiBuI,KAAjB;;AAEA;AACA;AACA8tD,UAAQ4a,UAAR,GAAqBv3D,IAAIy3B,SAAJ,CAAe,IAAf,EAAsBA,SAAtB,CAAiC,IAAjC,EAAwCxsB,SAAxC,CAAkDm+C,OAAvE;;AAEA;AACA;AACAppD,MAAIimD,SAAJ,GAAgB,wBAAhB;AACAtJ,UAAQ6a,cAAR,GAAyB,CAAC,CAACx3D,IAAIy3B,SAAJ,CAAe,IAAf,EAAsBxsB,SAAtB,CAAgCshD,YAA3D;AACA,EAvBD;AAwBA,KAAIt2C,kBAAkBnyB,SAASmyB,eAA/B;;AAIA,KACCwhD,YAAY,MADb;AAAA,KAECC,cAAc,gDAFf;AAAA,KAGCC,iBAAiB,qBAHlB;;AAKA,UAASC,UAAT,GAAsB;AACrB,SAAO,IAAP;AACA;;AAED,UAASC,WAAT,GAAuB;AACtB,SAAO,KAAP;AACA;;AAED;AACA;AACA,UAASC,iBAAT,GAA6B;AAC5B,MAAI;AACH,UAAOh0E,SAASuE,aAAhB;AACA,GAFD,CAEE,OAAQ0vE,GAAR,EAAc,CAAG;AACnB;;AAED,UAASp6D,GAAT,CAAasgD,IAAb,EAAmB9hD,KAAnB,EAA0B4gD,QAA1B,EAAoC3qC,IAApC,EAA0C4qC,EAA1C,EAA8Cgb,GAA9C,EAAoD;AACnD,MAAIC,MAAJ,EAAY1hE,IAAZ;;AAEA;AACA,MAAK,QAAO4F,KAAP,yCAAOA,KAAP,OAAiB,QAAtB,EAAiC;;AAEhC;AACA,OAAK,OAAO4gD,QAAP,KAAoB,QAAzB,EAAoC;;AAEnC;AACA3qC,WAAOA,QAAQ2qC,QAAf;AACAA,eAAW14C,SAAX;AACA;AACD,QAAM9N,IAAN,IAAc4F,KAAd,EAAsB;AACrBwB,QAAIsgD,IAAJ,EAAU1nD,IAAV,EAAgBwmD,QAAhB,EAA0B3qC,IAA1B,EAAgCjW,MAAO5F,IAAP,CAAhC,EAA+CyhE,GAA/C;AACA;AACD,UAAO/Z,IAAP;AACA;;AAED,MAAK7rC,QAAQ,IAAR,IAAgB4qC,MAAM,IAA3B,EAAkC;;AAEjC;AACAA,QAAKD,QAAL;AACA3qC,UAAO2qC,WAAW14C,SAAlB;AACA,GALD,MAKO,IAAK24C,MAAM,IAAX,EAAkB;AACxB,OAAK,OAAOD,QAAP,KAAoB,QAAzB,EAAoC;;AAEnC;AACAC,SAAK5qC,IAAL;AACAA,WAAO/N,SAAP;AACA,IALD,MAKO;;AAEN;AACA24C,SAAK5qC,IAAL;AACAA,WAAO2qC,QAAP;AACAA,eAAW14C,SAAX;AACA;AACD;AACD,MAAK24C,OAAO,KAAZ,EAAoB;AACnBA,QAAK6a,WAAL;AACA,GAFD,MAEO,IAAK,CAAC7a,EAAN,EAAW;AACjB,UAAOiB,IAAP;AACA;;AAED,MAAK+Z,QAAQ,CAAb,EAAiB;AAChBC,YAASjb,EAAT;AACAA,QAAK,YAAUzrB,KAAV,EAAkB;;AAEtB;AACAurB,aAAS7+C,GAAT,CAAcszB,KAAd;AACA,WAAO0mC,OAAOvuE,KAAP,CAAc,IAAd,EAAoBD,SAApB,CAAP;AACA,IALD;;AAOA;AACAuzD,MAAGkD,IAAH,GAAU+X,OAAO/X,IAAP,KAAiB+X,OAAO/X,IAAP,GAAcpD,OAAOoD,IAAP,EAA/B,CAAV;AACA;AACD,SAAOjC,KAAKF,IAAL,CAAW,YAAW;AAC5BjB,UAAOvrB,KAAP,CAAaxV,GAAb,CAAkB,IAAlB,EAAwB5f,KAAxB,EAA+B6gD,EAA/B,EAAmC5qC,IAAnC,EAAyC2qC,QAAzC;AACA,GAFM,CAAP;AAGA;;AAED;;;;AAIAD,QAAOvrB,KAAP,GAAe;;AAEdzuC,UAAQ,EAFM;;AAIdi5B,OAAK,aAAUkiC,IAAV,EAAgB9hD,KAAhB,EAAuB2oD,OAAvB,EAAgC1yC,IAAhC,EAAsC2qC,QAAtC,EAAiD;;AAErD,OAAImb,WAAJ;AAAA,OAAiBC,WAAjB;AAAA,OAA8B/X,GAA9B;AAAA,OACCv3B,MADD;AAAA,OACSuvC,CADT;AAAA,OACYC,SADZ;AAAA,OAEC5sD,OAFD;AAAA,OAEUpN,QAFV;AAAA,OAEoB9H,IAFpB;AAAA,OAE0B+hE,UAF1B;AAAA,OAEsCC,QAFtC;AAAA,OAGCC,WAAW9E,SAASt8C,GAAT,CAAc6mC,IAAd,CAHZ;;AAKA;AACA,OAAK,CAACua,QAAN,EAAiB;AAChB;AACA;;AAED;AACA,OAAK1T,QAAQA,OAAb,EAAuB;AACtBoT,kBAAcpT,OAAd;AACAA,cAAUoT,YAAYpT,OAAtB;AACA/H,eAAWmb,YAAYnb,QAAvB;AACA;;AAED;AACA;AACA,OAAKA,QAAL,EAAgB;AACfD,WAAOzkD,IAAP,CAAY6tD,eAAZ,CAA6BjwC,eAA7B,EAA8C8mC,QAA9C;AACA;;AAED;AACA,OAAK,CAAC+H,QAAQ5E,IAAd,EAAqB;AACpB4E,YAAQ5E,IAAR,GAAepD,OAAOoD,IAAP,EAAf;AACA;;AAED;AACA,OAAK,EAAGr3B,SAAS2vC,SAAS3vC,MAArB,CAAL,EAAqC;AACpCA,aAAS2vC,SAAS3vC,MAAT,GAAkB,EAA3B;AACA;AACD,OAAK,EAAGsvC,cAAcK,SAASnjC,MAA1B,CAAL,EAA0C;AACzC8iC,kBAAcK,SAASnjC,MAAT,GAAkB,UAAUtvC,CAAV,EAAc;;AAE7C;AACA;AACA,YAAO,OAAO+2D,MAAP,KAAkB,WAAlB,IAAiCA,OAAOvrB,KAAP,CAAaknC,SAAb,KAA2B1yE,EAAEwQ,IAA9D,GACNumD,OAAOvrB,KAAP,CAAamnC,QAAb,CAAsBhvE,KAAtB,CAA6Bu0D,IAA7B,EAAmCx0D,SAAnC,CADM,GAC2C4a,SADlD;AAEA,KAND;AAOA;;AAED;AACAlI,WAAQ,CAAEA,SAAS,EAAX,EAAgBpX,KAAhB,CAAuBypE,aAAvB,KAA0C,CAAE,EAAF,CAAlD;AACA4J,OAAIj8D,MAAMtW,MAAV;AACA,UAAQuyE,GAAR,EAAc;AACbhY,UAAMuX,eAAej0E,IAAf,CAAqByY,MAAOi8D,CAAP,CAArB,KAAqC,EAA3C;AACA7hE,WAAOgiE,WAAWnY,IAAK,CAAL,CAAlB;AACAkY,iBAAa,CAAElY,IAAK,CAAL,KAAY,EAAd,EAAmBx3D,KAAnB,CAA0B,GAA1B,EAAgC2jC,IAAhC,EAAb;;AAEA;AACA,QAAK,CAACh2B,IAAN,EAAa;AACZ;AACA;;AAED;AACAkV,cAAUqxC,OAAOvrB,KAAP,CAAa9lB,OAAb,CAAsBlV,IAAtB,KAAgC,EAA1C;;AAEA;AACAA,WAAO,CAAEwmD,WAAWtxC,QAAQktD,YAAnB,GAAkCltD,QAAQmtD,QAA5C,KAA0DriE,IAAjE;;AAEA;AACAkV,cAAUqxC,OAAOvrB,KAAP,CAAa9lB,OAAb,CAAsBlV,IAAtB,KAAgC,EAA1C;;AAEA;AACA8hE,gBAAYvb,OAAO1zB,MAAP,CAAe;AAC1B7yB,WAAMA,IADoB;AAE1BgiE,eAAUA,QAFgB;AAG1BnmD,WAAMA,IAHoB;AAI1B0yC,cAASA,OAJiB;AAK1B5E,WAAM4E,QAAQ5E,IALY;AAM1BnD,eAAUA,QANgB;AAO1BiQ,mBAAcjQ,YAAYD,OAAOiK,IAAP,CAAYhiE,KAAZ,CAAkBioE,YAAlB,CAA+BzpE,IAA/B,CAAqCw5D,QAArC,CAPA;AAQ1B8b,gBAAWP,WAAW7/B,IAAX,CAAiB,GAAjB;AARe,KAAf,EASTy/B,WATS,CAAZ;;AAWA;AACA,QAAK,EAAG75D,WAAWwqB,OAAQtyB,IAAR,CAAd,CAAL,EAAsC;AACrC8H,gBAAWwqB,OAAQtyB,IAAR,IAAiB,EAA5B;AACA8H,cAASy6D,aAAT,GAAyB,CAAzB;;AAEA;AACA,SAAK,CAACrtD,QAAQstD,KAAT,IACJttD,QAAQstD,KAAR,CAAcvvE,IAAd,CAAoBy0D,IAApB,EAA0B7rC,IAA1B,EAAgCkmD,UAAhC,EAA4CH,WAA5C,MAA8D,KAD/D,EACuE;;AAEtE,UAAKla,KAAKpgD,gBAAV,EAA6B;AAC5BogD,YAAKpgD,gBAAL,CAAuBtH,IAAvB,EAA6B4hE,WAA7B;AACA;AACD;AACD;;AAED,QAAK1sD,QAAQsQ,GAAb,EAAmB;AAClBtQ,aAAQsQ,GAAR,CAAYvyB,IAAZ,CAAkBy0D,IAAlB,EAAwBoa,SAAxB;;AAEA,SAAK,CAACA,UAAUvT,OAAV,CAAkB5E,IAAxB,EAA+B;AAC9BmY,gBAAUvT,OAAV,CAAkB5E,IAAlB,GAAyB4E,QAAQ5E,IAAjC;AACA;AACD;;AAED;AACA,QAAKnD,QAAL,EAAgB;AACf1+C,cAAS3R,MAAT,CAAiB2R,SAASy6D,aAAT,EAAjB,EAA2C,CAA3C,EAA8CT,SAA9C;AACA,KAFD,MAEO;AACNh6D,cAASnS,IAAT,CAAemsE,SAAf;AACA;;AAED;AACAvb,WAAOvrB,KAAP,CAAazuC,MAAb,CAAqByT,IAArB,IAA8B,IAA9B;AACA;AAED,GApHa;;AAsHd;AACAw3B,UAAQ,gBAAUkwB,IAAV,EAAgB9hD,KAAhB,EAAuB2oD,OAAvB,EAAgC/H,QAAhC,EAA0Cic,WAA1C,EAAwD;;AAE/D,OAAI1gE,CAAJ;AAAA,OAAO2gE,SAAP;AAAA,OAAkB7Y,GAAlB;AAAA,OACCv3B,MADD;AAAA,OACSuvC,CADT;AAAA,OACYC,SADZ;AAAA,OAEC5sD,OAFD;AAAA,OAEUpN,QAFV;AAAA,OAEoB9H,IAFpB;AAAA,OAE0B+hE,UAF1B;AAAA,OAEsCC,QAFtC;AAAA,OAGCC,WAAW9E,SAASD,OAAT,CAAkBxV,IAAlB,KAA4ByV,SAASt8C,GAAT,CAAc6mC,IAAd,CAHxC;;AAKA,OAAK,CAACua,QAAD,IAAa,EAAG3vC,SAAS2vC,SAAS3vC,MAArB,CAAlB,EAAkD;AACjD;AACA;;AAED;AACA1sB,WAAQ,CAAEA,SAAS,EAAX,EAAgBpX,KAAhB,CAAuBypE,aAAvB,KAA0C,CAAE,EAAF,CAAlD;AACA4J,OAAIj8D,MAAMtW,MAAV;AACA,UAAQuyE,GAAR,EAAc;AACbhY,UAAMuX,eAAej0E,IAAf,CAAqByY,MAAOi8D,CAAP,CAArB,KAAqC,EAA3C;AACA7hE,WAAOgiE,WAAWnY,IAAK,CAAL,CAAlB;AACAkY,iBAAa,CAAElY,IAAK,CAAL,KAAY,EAAd,EAAmBx3D,KAAnB,CAA0B,GAA1B,EAAgC2jC,IAAhC,EAAb;;AAEA;AACA,QAAK,CAACh2B,IAAN,EAAa;AACZ,UAAMA,IAAN,IAAcsyB,MAAd,EAAuB;AACtBi0B,aAAOvrB,KAAP,CAAaxD,MAAb,CAAqBkwB,IAArB,EAA2B1nD,OAAO4F,MAAOi8D,CAAP,CAAlC,EAA8CtT,OAA9C,EAAuD/H,QAAvD,EAAiE,IAAjE;AACA;AACD;AACA;;AAEDtxC,cAAUqxC,OAAOvrB,KAAP,CAAa9lB,OAAb,CAAsBlV,IAAtB,KAAgC,EAA1C;AACAA,WAAO,CAAEwmD,WAAWtxC,QAAQktD,YAAnB,GAAkCltD,QAAQmtD,QAA5C,KAA0DriE,IAAjE;AACA8H,eAAWwqB,OAAQtyB,IAAR,KAAkB,EAA7B;AACA6pD,UAAMA,IAAK,CAAL,KACL,IAAI/6D,MAAJ,CAAY,YAAYizE,WAAW7/B,IAAX,CAAiB,eAAjB,CAAZ,GAAiD,SAA7D,CADD;;AAGA;AACAwgC,gBAAY3gE,IAAI+F,SAASxY,MAAzB;AACA,WAAQyS,GAAR,EAAc;AACb+/D,iBAAYh6D,SAAU/F,CAAV,CAAZ;;AAEA,SAAK,CAAE0gE,eAAeT,aAAaF,UAAUE,QAAxC,MACF,CAACzT,OAAD,IAAYA,QAAQ5E,IAAR,KAAiBmY,UAAUnY,IADrC,MAEF,CAACE,GAAD,IAAQA,IAAI78D,IAAJ,CAAU80E,UAAUQ,SAApB,CAFN,MAGF,CAAC9b,QAAD,IAAaA,aAAasb,UAAUtb,QAApC,IACDA,aAAa,IAAb,IAAqBsb,UAAUtb,QAJ5B,CAAL,EAI8C;AAC7C1+C,eAAS3R,MAAT,CAAiB4L,CAAjB,EAAoB,CAApB;;AAEA,UAAK+/D,UAAUtb,QAAf,EAA0B;AACzB1+C,gBAASy6D,aAAT;AACA;AACD,UAAKrtD,QAAQsiB,MAAb,EAAsB;AACrBtiB,eAAQsiB,MAAR,CAAevkC,IAAf,CAAqBy0D,IAArB,EAA2Boa,SAA3B;AACA;AACD;AACD;;AAED;AACA;AACA,QAAKY,aAAa,CAAC56D,SAASxY,MAA5B,EAAqC;AACpC,SAAK,CAAC4lB,QAAQytD,QAAT,IACJztD,QAAQytD,QAAR,CAAiB1vE,IAAjB,CAAuBy0D,IAAvB,EAA6Bqa,UAA7B,EAAyCE,SAASnjC,MAAlD,MAA+D,KADhE,EACwE;;AAEvEynB,aAAOqc,WAAP,CAAoBlb,IAApB,EAA0B1nD,IAA1B,EAAgCiiE,SAASnjC,MAAzC;AACA;;AAED,YAAOxM,OAAQtyB,IAAR,CAAP;AACA;AACD;;AAED;AACA,OAAKumD,OAAOsC,aAAP,CAAsBv2B,MAAtB,CAAL,EAAsC;AACrC6qC,aAAS3lC,MAAT,CAAiBkwB,IAAjB,EAAuB,eAAvB;AACA;AACD,GA9La;;AAgMdya,YAAU,kBAAUU,WAAV,EAAwB;;AAEjC;AACA,OAAI7nC,QAAQurB,OAAOvrB,KAAP,CAAa8nC,GAAb,CAAkBD,WAAlB,CAAZ;;AAEA,OAAItyE,CAAJ;AAAA,OAAOwR,CAAP;AAAA,OAAUslD,GAAV;AAAA,OAAeiL,OAAf;AAAA,OAAwBwP,SAAxB;AAAA,OAAmCiB,YAAnC;AAAA,OACCjwE,OAAO,IAAIC,KAAJ,CAAWG,UAAU5D,MAArB,CADR;AAAA,OAECwY,WAAW,CAAEq1D,SAASt8C,GAAT,CAAc,IAAd,EAAoB,QAApB,KAAkC,EAApC,EAA0Cma,MAAMh7B,IAAhD,KAA0D,EAFtE;AAAA,OAGCkV,UAAUqxC,OAAOvrB,KAAP,CAAa9lB,OAAb,CAAsB8lB,MAAMh7B,IAA5B,KAAsC,EAHjD;;AAKA;AACAlN,QAAM,CAAN,IAAYkoC,KAAZ;;AAEA,QAAMzqC,IAAI,CAAV,EAAaA,IAAI2C,UAAU5D,MAA3B,EAAmCiB,GAAnC,EAAyC;AACxCuC,SAAMvC,CAAN,IAAY2C,UAAW3C,CAAX,CAAZ;AACA;;AAEDyqC,SAAMgoC,cAAN,GAAuB,IAAvB;;AAEA;AACA,OAAK9tD,QAAQ+tD,WAAR,IAAuB/tD,QAAQ+tD,WAAR,CAAoBhwE,IAApB,CAA0B,IAA1B,EAAgC+nC,KAAhC,MAA4C,KAAxE,EAAgF;AAC/E;AACA;;AAED;AACA+nC,kBAAexc,OAAOvrB,KAAP,CAAalzB,QAAb,CAAsB7U,IAAtB,CAA4B,IAA5B,EAAkC+nC,KAAlC,EAAyClzB,QAAzC,CAAf;;AAEA;AACAvX,OAAI,CAAJ;AACA,UAAQ,CAAE+hE,UAAUyQ,aAAcxyE,GAAd,CAAZ,KAAqC,CAACyqC,MAAMkoC,oBAAN,EAA9C,EAA6E;AAC5EloC,UAAMmoC,aAAN,GAAsB7Q,QAAQ5K,IAA9B;;AAEA3lD,QAAI,CAAJ;AACA,WAAQ,CAAE+/D,YAAYxP,QAAQxqD,QAAR,CAAkB/F,GAAlB,CAAd,KACP,CAACi5B,MAAMooC,6BAAN,EADF,EAC0C;;AAEzC;AACA;AACA,SAAK,CAACpoC,MAAMqoC,UAAP,IAAqBroC,MAAMqoC,UAAN,CAAiBr2E,IAAjB,CAAuB80E,UAAUQ,SAAjC,CAA1B,EAAyE;;AAExEtnC,YAAM8mC,SAAN,GAAkBA,SAAlB;AACA9mC,YAAMnf,IAAN,GAAaimD,UAAUjmD,IAAvB;;AAEAwrC,YAAM,CAAE,CAAEd,OAAOvrB,KAAP,CAAa9lB,OAAb,CAAsB4sD,UAAUE,QAAhC,KAA8C,EAAhD,EAAqDljC,MAArD,IACPgjC,UAAUvT,OADL,EACep7D,KADf,CACsBm/D,QAAQ5K,IAD9B,EACoC50D,IADpC,CAAN;;AAGA,UAAKu0D,QAAQv5C,SAAb,EAAyB;AACxB,WAAK,CAAEktB,MAAMzwB,MAAN,GAAe88C,GAAjB,MAA2B,KAAhC,EAAwC;AACvCrsB,cAAM/yB,cAAN;AACA+yB,cAAMjyB,eAAN;AACA;AACD;AACD;AACD;AACD;;AAED;AACA,OAAKmM,QAAQouD,YAAb,EAA4B;AAC3BpuD,YAAQouD,YAAR,CAAqBrwE,IAArB,CAA2B,IAA3B,EAAiC+nC,KAAjC;AACA;;AAED,UAAOA,MAAMzwB,MAAb;AACA,GA9Pa;;AAgQdzC,YAAU,kBAAUkzB,KAAV,EAAiBlzB,SAAjB,EAA4B;AACrC,OAAIvX,CAAJ;AAAA,OAAOuxE,SAAP;AAAA,OAAkBv9C,GAAlB;AAAA,OAAuBg/C,eAAvB;AAAA,OAAwCC,gBAAxC;AAAA,OACCT,eAAe,EADhB;AAAA,OAECR,gBAAgBz6D,UAASy6D,aAF1B;AAAA,OAGCzlE,MAAMk+B,MAAM1nC,MAHb;;AAKA;AACA,OAAKivE;;AAEJ;AACA;AACAzlE,OAAInL,QAJA;;AAMJ;AACA;AACA;AACA;AACA;AACA,KAAGqpC,MAAMh7B,IAAN,KAAe,OAAf,IAA0Bg7B,MAAM1xB,MAAN,IAAgB,CAA7C,CAXD,EAWoD;;AAEnD,WAAQxM,QAAQ,IAAhB,EAAsBA,MAAMA,IAAIzL,UAAJ,IAAkB,IAA9C,EAAqD;;AAEpD;AACA;AACA,SAAKyL,IAAInL,QAAJ,KAAiB,CAAjB,IAAsB,EAAGqpC,MAAMh7B,IAAN,KAAe,OAAf,IAA0BlD,IAAIimD,QAAJ,KAAiB,IAA9C,CAA3B,EAAkF;AACjFwgB,wBAAkB,EAAlB;AACAC,yBAAmB,EAAnB;AACA,WAAMjzE,IAAI,CAAV,EAAaA,IAAIgyE,aAAjB,EAAgChyE,GAAhC,EAAsC;AACrCuxE,mBAAYh6D,UAAUvX,CAAV,CAAZ;;AAEA;AACAg0B,aAAMu9C,UAAUtb,QAAV,GAAqB,GAA3B;;AAEA,WAAKgd,iBAAkBj/C,GAAlB,MAA4BzW,SAAjC,EAA6C;AAC5C01D,yBAAkBj/C,GAAlB,IAA0Bu9C,UAAUrL,YAAV,GACzBlQ,OAAQhiC,GAAR,EAAa,IAAb,EAAoBl1B,KAApB,CAA2ByN,GAA3B,IAAmC,CAAC,CADX,GAEzBypD,OAAOzkD,IAAP,CAAayiB,GAAb,EAAkB,IAAlB,EAAwB,IAAxB,EAA8B,CAAEznB,GAAF,CAA9B,EAAwCxN,MAFzC;AAGA;AACD,WAAKk0E,iBAAkBj/C,GAAlB,CAAL,EAA+B;AAC9Bg/C,wBAAgB5tE,IAAhB,CAAsBmsE,SAAtB;AACA;AACD;AACD,UAAKyB,gBAAgBj0E,MAArB,EAA8B;AAC7ByzE,oBAAaptE,IAAb,CAAmB,EAAE+xD,MAAM5qD,GAAR,EAAagL,UAAUy7D,eAAvB,EAAnB;AACA;AACD;AACD;AACD;;AAED;AACAzmE,SAAM,IAAN;AACA,OAAKylE,gBAAgBz6D,UAASxY,MAA9B,EAAuC;AACtCyzE,iBAAaptE,IAAb,CAAmB,EAAE+xD,MAAM5qD,GAAR,EAAagL,UAAUA,UAAS1Y,KAAT,CAAgBmzE,aAAhB,CAAvB,EAAnB;AACA;;AAED,UAAOQ,YAAP;AACA,GAxTa;;AA0TdU,WAAS,iBAAU73D,IAAV,EAAgB83D,IAAhB,EAAuB;AAC/BjtE,UAAOumE,cAAP,CAAuBzW,OAAOod,KAAP,CAAa3wE,SAApC,EAA+C4Y,IAA/C,EAAqD;AACpDg4D,gBAAY,IADwC;AAEpD3G,kBAAc,IAFsC;;AAIpDp8C,SAAK0lC,OAAOwB,UAAP,CAAmB2b,IAAnB,IACJ,YAAW;AACV,SAAK,KAAKG,aAAV,EAA0B;AACxB,aAAOH,KAAM,KAAKG,aAAX,CAAP;AACD;AACD,KALG,GAMJ,YAAW;AACV,SAAK,KAAKA,aAAV,EAA0B;AACxB,aAAO,KAAKA,aAAL,CAAoBj4D,IAApB,CAAP;AACD;AACD,KAdkD;;AAgBpDvX,SAAK,aAAU3B,KAAV,EAAkB;AACtB+D,YAAOumE,cAAP,CAAuB,IAAvB,EAA6BpxD,IAA7B,EAAmC;AAClCg4D,kBAAY,IADsB;AAElC3G,oBAAc,IAFoB;AAGlC6G,gBAAU,IAHwB;AAIlCpxE,aAAOA;AAJ2B,MAAnC;AAMA;AAvBmD,IAArD;AAyBA,GApVa;;AAsVdowE,OAAK,aAAUe,aAAV,EAA0B;AAC9B,UAAOA,cAAetd,OAAO2B,OAAtB,IACN2b,aADM,GAEN,IAAItd,OAAOod,KAAX,CAAkBE,aAAlB,CAFD;AAGA,GA1Va;;AA4Vd3uD,WAAS;AACR6uD,SAAM;;AAEL;AACAC,cAAU;AAHL,IADE;AAMRv8C,UAAO;;AAEN;AACAw8C,aAAS,mBAAW;AACnB,SAAK,SAAS1C,mBAAT,IAAgC,KAAK95C,KAA1C,EAAkD;AACjD,WAAKA,KAAL;AACA,aAAO,KAAP;AACA;AACD,KARK;AASN26C,kBAAc;AATR,IANC;AAiBRxtB,SAAM;AACLqvB,aAAS,mBAAW;AACnB,SAAK,SAAS1C,mBAAT,IAAgC,KAAK3sB,IAA1C,EAAiD;AAChD,WAAKA,IAAL;AACA,aAAO,KAAP;AACA;AACD,KANI;AAOLwtB,kBAAc;AAPT,IAjBE;AA0BR8B,UAAO;;AAEN;AACAD,aAAS,mBAAW;AACnB,SAAK,KAAKjkE,IAAL,KAAc,UAAd,IAA4B,KAAKkkE,KAAjC,IAA0CtjB,SAAU,IAAV,EAAgB,OAAhB,CAA/C,EAA2E;AAC1E,WAAKsjB,KAAL;AACA,aAAO,KAAP;AACA;AACD,KARK;;AAUN;AACAjE,cAAU,kBAAUjlC,KAAV,EAAkB;AAC3B,YAAO4lB,SAAU5lB,MAAM1nC,MAAhB,EAAwB,GAAxB,CAAP;AACA;AAbK,IA1BC;;AA0CR6wE,iBAAc;AACbb,kBAAc,sBAAUtoC,KAAV,EAAkB;;AAE/B;AACA;AACA,SAAKA,MAAMzwB,MAAN,KAAiBuD,SAAjB,IAA8BktB,MAAM6oC,aAAzC,EAAyD;AACxD7oC,YAAM6oC,aAAN,CAAoBh7D,WAApB,GAAkCmyB,MAAMzwB,MAAxC;AACA;AACD;AARY;AA1CN;AA5VK,EAAf;;AAmZAg8C,QAAOqc,WAAP,GAAqB,UAAUlb,IAAV,EAAgB1nD,IAAhB,EAAsB8+B,MAAtB,EAA+B;;AAEnD;AACA,MAAK4oB,KAAK//C,mBAAV,EAAgC;AAC/B+/C,QAAK//C,mBAAL,CAA0B3H,IAA1B,EAAgC8+B,MAAhC;AACA;AACD,EAND;;AAQAynB,QAAOod,KAAP,GAAe,UAAUz8B,GAAV,EAAe3wC,KAAf,EAAuB;;AAErC;AACA,MAAK,EAAG,gBAAgBgwD,OAAOod,KAA1B,CAAL,EAAyC;AACxC,UAAO,IAAIpd,OAAOod,KAAX,CAAkBz8B,GAAlB,EAAuB3wC,KAAvB,CAAP;AACA;;AAED;AACA,MAAK2wC,OAAOA,IAAIlnC,IAAhB,EAAuB;AACtB,QAAK6jE,aAAL,GAAqB38B,GAArB;AACA,QAAKlnC,IAAL,GAAYknC,IAAIlnC,IAAhB;;AAEA;AACA;AACA,QAAKokE,kBAAL,GAA0Bl9B,IAAIh/B,gBAAJ,IACxBg/B,IAAIh/B,gBAAJ,KAAyB4F,SAAzB;;AAEA;AACAo5B,OAAIr+B,WAAJ,KAAoB,KAJI,GAKzBw4D,UALyB,GAMzBC,WAND;;AAQA;AACA;AACA;AACA,QAAKhuE,MAAL,GAAgB4zC,IAAI5zC,MAAJ,IAAc4zC,IAAI5zC,MAAJ,CAAW3B,QAAX,KAAwB,CAAxC,GACbu1C,IAAI5zC,MAAJ,CAAWjC,UADE,GAEb61C,IAAI5zC,MAFL;;AAIA,QAAK6vE,aAAL,GAAqBj8B,IAAIi8B,aAAzB;AACA,QAAKkB,aAAL,GAAqBn9B,IAAIm9B,aAAzB;;AAED;AACC,GAzBD,MAyBO;AACN,QAAKrkE,IAAL,GAAYknC,GAAZ;AACA;;AAED;AACA,MAAK3wC,KAAL,EAAa;AACZgwD,UAAO1zB,MAAP,CAAe,IAAf,EAAqBt8B,KAArB;AACA;;AAED;AACA,OAAK+tE,SAAL,GAAiBp9B,OAAOA,IAAIo9B,SAAX,IAAwB/d,OAAOjW,GAAP,EAAzC;;AAEA;AACA,OAAMiW,OAAO2B,OAAb,IAAyB,IAAzB;AACA,EA/CD;;AAiDA;AACA;AACA3B,QAAOod,KAAP,CAAa3wE,SAAb,GAAyB;AACxBgvC,eAAaukB,OAAOod,KADI;AAExBS,sBAAoB9C,WAFI;AAGxB4B,wBAAsB5B,WAHE;AAIxB8B,iCAA+B9B,WAJP;AAKxBiD,eAAa,KALW;;AAOxBt8D,kBAAgB,0BAAW;AAC1B,OAAIzY,IAAI,KAAKq0E,aAAb;;AAEA,QAAKO,kBAAL,GAA0B/C,UAA1B;;AAEA,OAAK7xE,KAAK,CAAC,KAAK+0E,WAAhB,EAA8B;AAC7B/0E,MAAEyY,cAAF;AACA;AACD,GAfuB;AAgBxBc,mBAAiB,2BAAW;AAC3B,OAAIvZ,IAAI,KAAKq0E,aAAb;;AAEA,QAAKX,oBAAL,GAA4B7B,UAA5B;;AAEA,OAAK7xE,KAAK,CAAC,KAAK+0E,WAAhB,EAA8B;AAC7B/0E,MAAEuZ,eAAF;AACA;AACD,GAxBuB;AAyBxBy7D,4BAA0B,oCAAW;AACpC,OAAIh1E,IAAI,KAAKq0E,aAAb;;AAEA,QAAKT,6BAAL,GAAqC/B,UAArC;;AAEA,OAAK7xE,KAAK,CAAC,KAAK+0E,WAAhB,EAA8B;AAC7B/0E,MAAEg1E,wBAAF;AACA;;AAED,QAAKz7D,eAAL;AACA;AAnCuB,EAAzB;;AAsCA;AACAw9C,QAAOiB,IAAP,CAAa;AACZje,UAAQ,IADI;AAEZk7B,WAAS,IAFG;AAGZC,cAAY,IAHA;AAIZC,kBAAgB,IAJJ;AAKZp7D,WAAS,IALG;AAMZmrB,UAAQ,IANI;AAOZkwC,cAAY,IAPA;AAQZp7B,WAAS,IARG;AASZoN,SAAO,IATK;AAUZC,SAAO,IAVK;AAWZpN,YAAU,IAXE;AAYZxvC,QAAM,IAZM;AAaZ,UAAQ,IAbI;AAcZ81C,YAAU,IAdE;AAeZpyB,OAAK,IAfO;AAgBZyrB,WAAS,IAhBG;AAiBZ9/B,UAAQ,IAjBI;AAkBZu7D,WAAS,IAlBG;AAmBZjhD,WAAS,IAnBG;AAoBZC,WAAS,IApBG;AAqBZihD,WAAS,IArBG;AAsBZC,WAAS,IAtBG;AAuBZC,aAAW,IAvBC;AAwBZC,eAAa,IAxBD;AAyBZC,WAAS,IAzBG;AA0BZC,WAAS,IA1BG;AA2BZC,iBAAe,IA3BH;AA4BZC,aAAW,IA5BC;AA6BZ/xB,WAAS,IA7BG;;AA+BZjqC,SAAO,eAAU2xB,KAAV,EAAkB;AACxB,OAAI1xB,SAAS0xB,MAAM1xB,MAAnB;;AAEA;AACA,OAAK0xB,MAAM3xB,KAAN,IAAe,IAAf,IAAuB63D,UAAUl0E,IAAV,CAAgBguC,MAAMh7B,IAAtB,CAA5B,EAA2D;AAC1D,WAAOg7B,MAAM+U,QAAN,IAAkB,IAAlB,GAAyB/U,MAAM+U,QAA/B,GAA0C/U,MAAMoO,OAAvD;AACA;;AAED;AACA,OAAK,CAACpO,MAAM3xB,KAAP,IAAgBC,WAAWwE,SAA3B,IAAwCqzD,YAAYn0E,IAAZ,CAAkBguC,MAAMh7B,IAAxB,CAA7C,EAA8E;AAC7E,QAAKsJ,SAAS,CAAd,EAAkB;AACjB,YAAO,CAAP;AACA;;AAED,QAAKA,SAAS,CAAd,EAAkB;AACjB,YAAO,CAAP;AACA;;AAED,QAAKA,SAAS,CAAd,EAAkB;AACjB,YAAO,CAAP;AACA;;AAED,WAAO,CAAP;AACA;;AAED,UAAO0xB,MAAM3xB,KAAb;AACA;AAzDW,EAAb,EA0DGk9C,OAAOvrB,KAAP,CAAayoC,OA1DhB;;AA4DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAld,QAAOiB,IAAP,CAAa;AACZ8d,cAAY,WADA;AAEZC,cAAY,UAFA;AAGZC,gBAAc,aAHF;AAIZC,gBAAc;AAJF,EAAb,EAKG,UAAUC,IAAV,EAAgB5C,GAAhB,EAAsB;AACxBvc,SAAOvrB,KAAP,CAAa9lB,OAAb,CAAsBwwD,IAAtB,IAA+B;AAC9BtD,iBAAcU,GADgB;AAE9BT,aAAUS,GAFoB;;AAI9BhkC,WAAQ,gBAAU9D,KAAV,EAAkB;AACzB,QAAIqsB,GAAJ;AAAA,QACC/zD,SAAS,IADV;AAAA,QAECqyE,UAAU3qC,MAAMqpC,aAFjB;AAAA,QAGCvC,YAAY9mC,MAAM8mC,SAHnB;;AAKA;AACA;AACA,QAAK,CAAC6D,OAAD,IAAcA,YAAYryE,MAAZ,IAAsB,CAACizD,OAAO90D,QAAP,CAAiB6B,MAAjB,EAAyBqyE,OAAzB,CAA1C,EAAiF;AAChF3qC,WAAMh7B,IAAN,GAAa8hE,UAAUE,QAAvB;AACA3a,WAAMya,UAAUvT,OAAV,CAAkBp7D,KAAlB,CAAyB,IAAzB,EAA+BD,SAA/B,CAAN;AACA8nC,WAAMh7B,IAAN,GAAa8iE,GAAb;AACA;AACD,WAAOzb,GAAP;AACA;AAlB6B,GAA/B;AAoBA,EA1BD;;AA4BAd,QAAOE,EAAP,CAAU5zB,MAAV,CAAkB;;AAEjBzrB,MAAI,YAAUxB,KAAV,EAAiB4gD,QAAjB,EAA2B3qC,IAA3B,EAAiC4qC,EAAjC,EAAsC;AACzC,UAAOr/C,IAAI,IAAJ,EAAUxB,KAAV,EAAiB4gD,QAAjB,EAA2B3qC,IAA3B,EAAiC4qC,EAAjC,CAAP;AACA,GAJgB;AAKjBgb,OAAK,aAAU77D,KAAV,EAAiB4gD,QAAjB,EAA2B3qC,IAA3B,EAAiC4qC,EAAjC,EAAsC;AAC1C,UAAOr/C,IAAI,IAAJ,EAAUxB,KAAV,EAAiB4gD,QAAjB,EAA2B3qC,IAA3B,EAAiC4qC,EAAjC,EAAqC,CAArC,CAAP;AACA,GAPgB;AAQjB/+C,OAAK,aAAU9B,KAAV,EAAiB4gD,QAAjB,EAA2BC,EAA3B,EAAgC;AACpC,OAAIqb,SAAJ,EAAe9hE,IAAf;AACA,OAAK4F,SAASA,MAAMqC,cAAf,IAAiCrC,MAAMk8D,SAA5C,EAAwD;;AAEvD;AACAA,gBAAYl8D,MAAMk8D,SAAlB;AACAvb,WAAQ3gD,MAAMo9D,cAAd,EAA+Bt7D,GAA/B,CACCo6D,UAAUQ,SAAV,GACCR,UAAUE,QAAV,GAAqB,GAArB,GAA2BF,UAAUQ,SADtC,GAECR,UAAUE,QAHZ,EAICF,UAAUtb,QAJX,EAKCsb,UAAUvT,OALX;AAOA,WAAO,IAAP;AACA;AACD,OAAK,QAAO3oD,KAAP,yCAAOA,KAAP,OAAiB,QAAtB,EAAiC;;AAEhC;AACA,SAAM5F,IAAN,IAAc4F,KAAd,EAAsB;AACrB,UAAK8B,GAAL,CAAU1H,IAAV,EAAgBwmD,QAAhB,EAA0B5gD,MAAO5F,IAAP,CAA1B;AACA;AACD,WAAO,IAAP;AACA;AACD,OAAKwmD,aAAa,KAAb,IAAsB,OAAOA,QAAP,KAAoB,UAA/C,EAA4D;;AAE3D;AACAC,SAAKD,QAAL;AACAA,eAAW14C,SAAX;AACA;AACD,OAAK24C,OAAO,KAAZ,EAAoB;AACnBA,SAAK6a,WAAL;AACA;AACD,UAAO,KAAK9Z,IAAL,CAAW,YAAW;AAC5BjB,WAAOvrB,KAAP,CAAaxD,MAAb,CAAqB,IAArB,EAA2B5xB,KAA3B,EAAkC6gD,EAAlC,EAAsCD,QAAtC;AACA,IAFM,CAAP;AAGA;AA3CgB,EAAlB;;AA+CA;;AAEC;;AAEA;AACAof,aAAY,6FALb;;;AAOC;;AAEA;AACA;AACA;AACAC,gBAAe,uBAZhB;;;AAcC;AACAC,YAAW,mCAfZ;AAAA,KAgBCC,oBAAoB,aAhBrB;AAAA,KAiBCC,eAAe,0CAjBhB;;AAmBA;AACA,UAASC,kBAAT,CAA6Bve,IAA7B,EAAmCx3D,OAAnC,EAA6C;AAC5C,MAAK0wD,SAAU8G,IAAV,EAAgB,OAAhB,KACJ9G,SAAU1wD,QAAQyB,QAAR,KAAqB,EAArB,GAA0BzB,OAA1B,GAAoCA,QAAQN,UAAtD,EAAkE,IAAlE,CADD,EAC4E;;AAE3E,UAAO22D,OAAQ,QAAR,EAAkBmB,IAAlB,EAA0B,CAA1B,KAAiCA,IAAxC;AACA;;AAED,SAAOA,IAAP;AACA;;AAED;AACA,UAASwe,aAAT,CAAwBxe,IAAxB,EAA+B;AAC9BA,OAAK1nD,IAAL,GAAY,CAAE0nD,KAAKpsC,YAAL,CAAmB,MAAnB,MAAgC,IAAlC,IAA2C,GAA3C,GAAiDosC,KAAK1nD,IAAlE;AACA,SAAO0nD,IAAP;AACA;AACD,UAASye,aAAT,CAAwBze,IAAxB,EAA+B;AAC9B,MAAIl5D,QAAQu3E,kBAAkB54E,IAAlB,CAAwBu6D,KAAK1nD,IAA7B,CAAZ;;AAEA,MAAKxR,KAAL,EAAa;AACZk5D,QAAK1nD,IAAL,GAAYxR,MAAO,CAAP,CAAZ;AACA,GAFD,MAEO;AACNk5D,QAAKsG,eAAL,CAAsB,MAAtB;AACA;;AAED,SAAOtG,IAAP;AACA;;AAED,UAAS0e,cAAT,CAAyBl/B,GAAzB,EAA8B9M,IAA9B,EAAqC;AACpC,MAAI7pC,CAAJ,EAAO+M,CAAP,EAAU0C,IAAV,EAAgBqmE,QAAhB,EAA0BC,QAA1B,EAAoCC,QAApC,EAA8CC,QAA9C,EAAwDl0C,MAAxD;;AAEA,MAAK8H,KAAKzoC,QAAL,KAAkB,CAAvB,EAA2B;AAC1B;AACA;;AAED;AACA,MAAKwrE,SAASD,OAAT,CAAkBh2B,GAAlB,CAAL,EAA+B;AAC9Bm/B,cAAWlJ,SAASZ,MAAT,CAAiBr1B,GAAjB,CAAX;AACAo/B,cAAWnJ,SAAS9oE,GAAT,CAAc+lC,IAAd,EAAoBisC,QAApB,CAAX;AACA/zC,YAAS+zC,SAAS/zC,MAAlB;;AAEA,OAAKA,MAAL,EAAc;AACb,WAAOg0C,SAASxnC,MAAhB;AACAwnC,aAASh0C,MAAT,GAAkB,EAAlB;;AAEA,SAAMtyB,IAAN,IAAcsyB,MAAd,EAAuB;AACtB,UAAM/hC,IAAI,CAAJ,EAAO+M,IAAIg1B,OAAQtyB,IAAR,EAAe1Q,MAAhC,EAAwCiB,IAAI+M,CAA5C,EAA+C/M,GAA/C,EAAqD;AACpDg2D,aAAOvrB,KAAP,CAAaxV,GAAb,CAAkB4U,IAAlB,EAAwBp6B,IAAxB,EAA8BsyB,OAAQtyB,IAAR,EAAgBzP,CAAhB,CAA9B;AACA;AACD;AACD;AACD;;AAED;AACA,MAAK6sE,SAASF,OAAT,CAAkBh2B,GAAlB,CAAL,EAA+B;AAC9Bq/B,cAAWnJ,SAASb,MAAT,CAAiBr1B,GAAjB,CAAX;AACAs/B,cAAWjgB,OAAO1zB,MAAP,CAAe,EAAf,EAAmB0zC,QAAnB,CAAX;;AAEAnJ,YAAS/oE,GAAT,CAAc+lC,IAAd,EAAoBosC,QAApB;AACA;AACD;;AAED;AACA,UAASC,QAAT,CAAmBv/B,GAAnB,EAAwB9M,IAAxB,EAA+B;AAC9B,MAAIwmB,WAAWxmB,KAAKwmB,QAAL,CAAc7pD,WAAd,EAAf;;AAEA;AACA,MAAK6pD,aAAa,OAAb,IAAwB8e,eAAe1yE,IAAf,CAAqBk6C,IAAIlnC,IAAzB,CAA7B,EAA+D;AAC9Do6B,QAAKy4B,OAAL,GAAe3rB,IAAI2rB,OAAnB;;AAED;AACC,GAJD,MAIO,IAAKjS,aAAa,OAAb,IAAwBA,aAAa,UAA1C,EAAuD;AAC7DxmB,QAAK47B,YAAL,GAAoB9uB,IAAI8uB,YAAxB;AACA;AACD;;AAED,UAAS0Q,QAAT,CAAmBC,UAAnB,EAA+B7zE,IAA/B,EAAqC20D,QAArC,EAA+CoZ,OAA/C,EAAyD;;AAExD;AACA/tE,SAAOyM,OAAOpM,KAAP,CAAc,EAAd,EAAkBL,IAAlB,CAAP;;AAEA,MAAIqyB,QAAJ;AAAA,MAAcrrB,KAAd;AAAA,MAAqB8mE,OAArB;AAAA,MAA8BgG,UAA9B;AAAA,MAA0C53E,IAA1C;AAAA,MAAgDqJ,GAAhD;AAAA,MACC9H,IAAI,CADL;AAAA,MAEC+M,IAAIqpE,WAAWr3E,MAFhB;AAAA,MAGCu3E,WAAWvpE,IAAI,CAHhB;AAAA,MAIC5K,QAAQI,KAAM,CAAN,CAJT;AAAA,MAKCi1D,aAAaxB,OAAOwB,UAAP,CAAmBr1D,KAAnB,CALd;;AAOA;AACA,MAAKq1D,cACDzqD,IAAI,CAAJ,IAAS,OAAO5K,KAAP,KAAiB,QAA1B,IACD,CAAC0zD,QAAQ4a,UADR,IACsB8E,SAAS94E,IAAT,CAAe0F,KAAf,CAF1B,EAEqD;AACpD,UAAOi0E,WAAWnf,IAAX,CAAiB,UAAUn4D,KAAV,EAAkB;AACzC,QAAI0nE,OAAO4P,WAAWhf,EAAX,CAAet4D,KAAf,CAAX;AACA,QAAK04D,UAAL,EAAkB;AACjBj1D,UAAM,CAAN,IAAYJ,MAAMO,IAAN,CAAY,IAAZ,EAAkB5D,KAAlB,EAAyB0nE,KAAKjS,IAAL,EAAzB,CAAZ;AACA;AACD4hB,aAAU3P,IAAV,EAAgBjkE,IAAhB,EAAsB20D,QAAtB,EAAgCoZ,OAAhC;AACA,IANM,CAAP;AAOA;;AAED,MAAKvjE,CAAL,EAAS;AACR6nB,cAAWw7C,cAAe7tE,IAAf,EAAqB6zE,WAAY,CAAZ,EAAgB77D,aAArC,EAAoD,KAApD,EAA2D67D,UAA3D,EAAuE9F,OAAvE,CAAX;AACA/mE,WAAQqrB,SAASv1B,UAAjB;;AAEA,OAAKu1B,SAASz1B,UAAT,CAAoBJ,MAApB,KAA+B,CAApC,EAAwC;AACvC61B,eAAWrrB,KAAX;AACA;;AAED;AACA,OAAKA,SAAS+mE,OAAd,EAAwB;AACvBD,cAAUra,OAAOzwD,GAAP,CAAYyqE,OAAQp7C,QAAR,EAAkB,QAAlB,CAAZ,EAA0C+gD,aAA1C,CAAV;AACAU,iBAAahG,QAAQtxE,MAArB;;AAEA;AACA;AACA;AACA,WAAQiB,IAAI+M,CAAZ,EAAe/M,GAAf,EAAqB;AACpBvB,YAAOm2B,QAAP;;AAEA,SAAK50B,MAAMs2E,QAAX,EAAsB;AACrB73E,aAAOu3D,OAAOsB,KAAP,CAAc74D,IAAd,EAAoB,IAApB,EAA0B,IAA1B,CAAP;;AAEA;AACA,UAAK43E,UAAL,EAAkB;;AAEjB;AACA;AACArgB,cAAOe,KAAP,CAAcsZ,OAAd,EAAuBL,OAAQvxE,IAAR,EAAc,QAAd,CAAvB;AACA;AACD;;AAEDy4D,cAASx0D,IAAT,CAAe0zE,WAAYp2E,CAAZ,CAAf,EAAgCvB,IAAhC,EAAsCuB,CAAtC;AACA;;AAED,QAAKq2E,UAAL,EAAkB;AACjBvuE,WAAMuoE,QAASA,QAAQtxE,MAAR,GAAiB,CAA1B,EAA8Bwb,aAApC;;AAEA;AACAy7C,YAAOzwD,GAAP,CAAY8qE,OAAZ,EAAqBuF,aAArB;;AAEA;AACA,UAAM51E,IAAI,CAAV,EAAaA,IAAIq2E,UAAjB,EAA6Br2E,GAA7B,EAAmC;AAClCvB,aAAO4xE,QAASrwE,CAAT,CAAP;AACA,UAAKqvE,YAAY5yE,IAAZ,CAAkBgC,KAAKgR,IAAL,IAAa,EAA/B,KACJ,CAACm9D,SAASZ,MAAT,CAAiBvtE,IAAjB,EAAuB,YAAvB,CADG,IAEJu3D,OAAO90D,QAAP,CAAiB4G,GAAjB,EAAsBrJ,IAAtB,CAFD,EAEgC;;AAE/B,WAAKA,KAAKk4C,GAAV,EAAgB;;AAEf;AACA,YAAKqf,OAAOugB,QAAZ,EAAuB;AACtBvgB,gBAAOugB,QAAP,CAAiB93E,KAAKk4C,GAAtB;AACA;AACD,QAND,MAMO;AACNmf,gBAASr3D,KAAKyxD,WAAL,CAAiBt6C,OAAjB,CAA0B6/D,YAA1B,EAAwC,EAAxC,CAAT,EAAuD3tE,GAAvD;AACA;AACD;AACD;AACD;AACD;AACD;;AAED,SAAOsuE,UAAP;AACA;;AAED,UAASnvC,OAAT,CAAiBkwB,IAAjB,EAAuBlB,QAAvB,EAAiCugB,QAAjC,EAA4C;AAC3C,MAAI/3E,IAAJ;AAAA,MACC8xE,QAAQta,WAAWD,OAAO5oB,MAAP,CAAe6oB,QAAf,EAAyBkB,IAAzB,CAAX,GAA6CA,IADtD;AAAA,MAECn3D,IAAI,CAFL;;AAIA,SAAQ,CAAEvB,OAAO8xE,MAAOvwE,CAAP,CAAT,KAAyB,IAAjC,EAAuCA,GAAvC,EAA6C;AAC5C,OAAK,CAACw2E,QAAD,IAAa/3E,KAAK2C,QAAL,KAAkB,CAApC,EAAwC;AACvC40D,WAAOygB,SAAP,CAAkBzG,OAAQvxE,IAAR,CAAlB;AACA;;AAED,OAAKA,KAAKqC,UAAV,EAAuB;AACtB,QAAK01E,YAAYxgB,OAAO90D,QAAP,CAAiBzC,KAAK8b,aAAtB,EAAqC9b,IAArC,CAAjB,EAA+D;AAC9DwxE,mBAAeD,OAAQvxE,IAAR,EAAc,QAAd,CAAf;AACA;AACDA,SAAKqC,UAAL,CAAgB1B,WAAhB,CAA6BX,IAA7B;AACA;AACD;;AAED,SAAO04D,IAAP;AACA;;AAEDnB,QAAO1zB,MAAP,CAAe;AACdkuC,iBAAe,uBAAUjc,IAAV,EAAiB;AAC/B,UAAOA,KAAK3+C,OAAL,CAAcy/D,SAAd,EAAyB,WAAzB,CAAP;AACA,GAHa;;AAKd/d,SAAO,eAAUH,IAAV,EAAgBuf,aAAhB,EAA+BC,iBAA/B,EAAmD;AACzD,OAAI32E,CAAJ;AAAA,OAAO+M,CAAP;AAAA,OAAU6pE,WAAV;AAAA,OAAuBC,YAAvB;AAAA,OACCvf,QAAQH,KAAKxmB,SAAL,CAAgB,IAAhB,CADT;AAAA,OAECmmC,SAAS9gB,OAAO90D,QAAP,CAAiBi2D,KAAK58C,aAAtB,EAAqC48C,IAArC,CAFV;;AAIA;AACA,OAAK,CAACtB,QAAQ6a,cAAT,KAA6BvZ,KAAK/1D,QAAL,KAAkB,CAAlB,IAAuB+1D,KAAK/1D,QAAL,KAAkB,EAAtE,KACH,CAAC40D,OAAO2P,QAAP,CAAiBxO,IAAjB,CADH,EAC6B;;AAE5B;AACA0f,mBAAe7G,OAAQ1Y,KAAR,CAAf;AACAsf,kBAAc5G,OAAQ7Y,IAAR,CAAd;;AAEA,SAAMn3D,IAAI,CAAJ,EAAO+M,IAAI6pE,YAAY73E,MAA7B,EAAqCiB,IAAI+M,CAAzC,EAA4C/M,GAA5C,EAAkD;AACjDk2E,cAAUU,YAAa52E,CAAb,CAAV,EAA4B62E,aAAc72E,CAAd,CAA5B;AACA;AACD;;AAED;AACA,OAAK02E,aAAL,EAAqB;AACpB,QAAKC,iBAAL,EAAyB;AACxBC,mBAAcA,eAAe5G,OAAQ7Y,IAAR,CAA7B;AACA0f,oBAAeA,gBAAgB7G,OAAQ1Y,KAAR,CAA/B;;AAEA,UAAMt3D,IAAI,CAAJ,EAAO+M,IAAI6pE,YAAY73E,MAA7B,EAAqCiB,IAAI+M,CAAzC,EAA4C/M,GAA5C,EAAkD;AACjD61E,qBAAgBe,YAAa52E,CAAb,CAAhB,EAAkC62E,aAAc72E,CAAd,CAAlC;AACA;AACD,KAPD,MAOO;AACN61E,oBAAgB1e,IAAhB,EAAsBG,KAAtB;AACA;AACD;;AAED;AACAuf,kBAAe7G,OAAQ1Y,KAAR,EAAe,QAAf,CAAf;AACA,OAAKuf,aAAa93E,MAAb,GAAsB,CAA3B,EAA+B;AAC9BkxE,kBAAe4G,YAAf,EAA6B,CAACC,MAAD,IAAW9G,OAAQ7Y,IAAR,EAAc,QAAd,CAAxC;AACA;;AAED;AACA,UAAOG,KAAP;AACA,GA7Ca;;AA+Cdmf,aAAW,mBAAU5f,KAAV,EAAkB;AAC5B,OAAIvrC,IAAJ;AAAA,OAAU6rC,IAAV;AAAA,OAAgB1nD,IAAhB;AAAA,OACCkV,UAAUqxC,OAAOvrB,KAAP,CAAa9lB,OADxB;AAAA,OAEC3kB,IAAI,CAFL;;AAIA,UAAQ,CAAEm3D,OAAON,MAAO72D,CAAP,CAAT,MAA0Bud,SAAlC,EAA6Cvd,GAA7C,EAAmD;AAClD,QAAKqsE,WAAYlV,IAAZ,CAAL,EAA0B;AACzB,SAAO7rC,OAAO6rC,KAAMyV,SAASjV,OAAf,CAAd,EAA2C;AAC1C,UAAKrsC,KAAKyW,MAAV,EAAmB;AAClB,YAAMtyB,IAAN,IAAc6b,KAAKyW,MAAnB,EAA4B;AAC3B,YAAKpd,QAASlV,IAAT,CAAL,EAAuB;AACtBumD,gBAAOvrB,KAAP,CAAaxD,MAAb,CAAqBkwB,IAArB,EAA2B1nD,IAA3B;;AAED;AACC,SAJD,MAIO;AACNumD,gBAAOqc,WAAP,CAAoBlb,IAApB,EAA0B1nD,IAA1B,EAAgC6b,KAAKijB,MAArC;AACA;AACD;AACD;;AAED;AACA;AACA4oB,WAAMyV,SAASjV,OAAf,IAA2Bp6C,SAA3B;AACA;AACD,SAAK45C,KAAM0V,SAASlV,OAAf,CAAL,EAAgC;;AAE/B;AACA;AACAR,WAAM0V,SAASlV,OAAf,IAA2Bp6C,SAA3B;AACA;AACD;AACD;AACD;AA/Ea,EAAf;;AAkFAy4C,QAAOE,EAAP,CAAU5zB,MAAV,CAAkB;AACjB2hB,UAAQ,gBAAUgS,QAAV,EAAqB;AAC5B,UAAOhvB,QAAQ,IAAR,EAAcgvB,QAAd,EAAwB,IAAxB,CAAP;AACA,GAHgB;;AAKjBhvB,UAAQ,gBAAUgvB,QAAV,EAAqB;AAC5B,UAAOhvB,QAAQ,IAAR,EAAcgvB,QAAd,CAAP;AACA,GAPgB;;AASjBhqD,QAAM,cAAU9J,KAAV,EAAkB;AACvB,UAAO6pE,OAAQ,IAAR,EAAc,UAAU7pE,KAAV,EAAkB;AACtC,WAAOA,UAAUob,SAAV,GACNy4C,OAAO/pD,IAAP,CAAa,IAAb,CADM,GAEN,KAAKkoB,KAAL,GAAa8iC,IAAb,CAAmB,YAAW;AAC7B,SAAK,KAAK71D,QAAL,KAAkB,CAAlB,IAAuB,KAAKA,QAAL,KAAkB,EAAzC,IAA+C,KAAKA,QAAL,KAAkB,CAAtE,EAA0E;AACzE,WAAK8uD,WAAL,GAAmB/tD,KAAnB;AACA;AACD,KAJD,CAFD;AAOA,IARM,EAQJ,IARI,EAQEA,KARF,EAQSQ,UAAU5D,MARnB,CAAP;AASA,GAnBgB;;AAqBjB21D,UAAQ,kBAAW;AAClB,UAAOyhB,SAAU,IAAV,EAAgBxzE,SAAhB,EAA2B,UAAUw0D,IAAV,EAAiB;AAClD,QAAK,KAAK/1D,QAAL,KAAkB,CAAlB,IAAuB,KAAKA,QAAL,KAAkB,EAAzC,IAA+C,KAAKA,QAAL,KAAkB,CAAtE,EAA0E;AACzE,SAAI2B,SAAS2yE,mBAAoB,IAApB,EAA0Bve,IAA1B,CAAb;AACAp0D,YAAOvD,WAAP,CAAoB23D,IAApB;AACA;AACD,IALM,CAAP;AAMA,GA5BgB;;AA8BjB4f,WAAS,mBAAW;AACnB,UAAOZ,SAAU,IAAV,EAAgBxzE,SAAhB,EAA2B,UAAUw0D,IAAV,EAAiB;AAClD,QAAK,KAAK/1D,QAAL,KAAkB,CAAlB,IAAuB,KAAKA,QAAL,KAAkB,EAAzC,IAA+C,KAAKA,QAAL,KAAkB,CAAtE,EAA0E;AACzE,SAAI2B,SAAS2yE,mBAAoB,IAApB,EAA0Bve,IAA1B,CAAb;AACAp0D,YAAOulB,YAAP,CAAqB6uC,IAArB,EAA2Bp0D,OAAO1D,UAAlC;AACA;AACD,IALM,CAAP;AAMA,GArCgB;;AAuCjB6W,UAAQ,kBAAW;AAClB,UAAOigE,SAAU,IAAV,EAAgBxzE,SAAhB,EAA2B,UAAUw0D,IAAV,EAAiB;AAClD,QAAK,KAAKr2D,UAAV,EAAuB;AACtB,UAAKA,UAAL,CAAgBwnB,YAAhB,CAA8B6uC,IAA9B,EAAoC,IAApC;AACA;AACD,IAJM,CAAP;AAKA,GA7CgB;;AA+CjBv4D,SAAO,iBAAW;AACjB,UAAOu3E,SAAU,IAAV,EAAgBxzE,SAAhB,EAA2B,UAAUw0D,IAAV,EAAiB;AAClD,QAAK,KAAKr2D,UAAV,EAAuB;AACtB,UAAKA,UAAL,CAAgBwnB,YAAhB,CAA8B6uC,IAA9B,EAAoC,KAAKztC,WAAzC;AACA;AACD,IAJM,CAAP;AAKA,GArDgB;;AAuDjByK,SAAO,iBAAW;AACjB,OAAIgjC,IAAJ;AAAA,OACCn3D,IAAI,CADL;;AAGA,UAAQ,CAAEm3D,OAAO,KAAMn3D,CAAN,CAAT,KAAwB,IAAhC,EAAsCA,GAAtC,EAA4C;AAC3C,QAAKm3D,KAAK/1D,QAAL,KAAkB,CAAvB,EAA2B;;AAE1B;AACA40D,YAAOygB,SAAP,CAAkBzG,OAAQ7Y,IAAR,EAAc,KAAd,CAAlB;;AAEA;AACAA,UAAKjH,WAAL,GAAmB,EAAnB;AACA;AACD;;AAED,UAAO,IAAP;AACA,GAvEgB;;AAyEjBoH,SAAO,eAAUof,aAAV,EAAyBC,iBAAzB,EAA6C;AACnDD,mBAAgBA,iBAAiB,IAAjB,GAAwB,KAAxB,GAAgCA,aAAhD;AACAC,uBAAoBA,qBAAqB,IAArB,GAA4BD,aAA5B,GAA4CC,iBAAhE;;AAEA,UAAO,KAAKpxE,GAAL,CAAU,YAAW;AAC3B,WAAOywD,OAAOsB,KAAP,CAAc,IAAd,EAAoBof,aAApB,EAAmCC,iBAAnC,CAAP;AACA,IAFM,CAAP;AAGA,GAhFgB;;AAkFjBpiB,QAAM,cAAUpyD,KAAV,EAAkB;AACvB,UAAO6pE,OAAQ,IAAR,EAAc,UAAU7pE,KAAV,EAAkB;AACtC,QAAIg1D,OAAO,KAAM,CAAN,KAAa,EAAxB;AAAA,QACCn3D,IAAI,CADL;AAAA,QAEC+M,IAAI,KAAKhO,MAFV;;AAIA,QAAKoD,UAAUob,SAAV,IAAuB45C,KAAK/1D,QAAL,KAAkB,CAA9C,EAAkD;AACjD,YAAO+1D,KAAKgI,SAAZ;AACA;;AAED;AACA,QAAK,OAAOh9D,KAAP,KAAiB,QAAjB,IAA6B,CAACmzE,aAAa74E,IAAb,CAAmB0F,KAAnB,CAA9B,IACJ,CAACmtE,QAAS,CAAEF,SAASxyE,IAAT,CAAeuF,KAAf,KAA0B,CAAE,EAAF,EAAM,EAAN,CAA5B,EAA0C,CAA1C,EAA8CqE,WAA9C,EAAT,CADF,EAC2E;;AAE1ErE,aAAQ6zD,OAAOwa,aAAP,CAAsBruE,KAAtB,CAAR;;AAEA,SAAI;AACH,aAAQnC,IAAI+M,CAAZ,EAAe/M,GAAf,EAAqB;AACpBm3D,cAAO,KAAMn3D,CAAN,KAAa,EAApB;;AAEA;AACA,WAAKm3D,KAAK/1D,QAAL,KAAkB,CAAvB,EAA2B;AAC1B40D,eAAOygB,SAAP,CAAkBzG,OAAQ7Y,IAAR,EAAc,KAAd,CAAlB;AACAA,aAAKgI,SAAL,GAAiBh9D,KAAjB;AACA;AACD;;AAEDg1D,aAAO,CAAP;;AAED;AACC,MAdD,CAcE,OAAQl4D,CAAR,EAAY,CAAE;AAChB;;AAED,QAAKk4D,IAAL,EAAY;AACX,UAAKhjC,KAAL,GAAaugC,MAAb,CAAqBvyD,KAArB;AACA;AACD,IAnCM,EAmCJ,IAnCI,EAmCEA,KAnCF,EAmCSQ,UAAU5D,MAnCnB,CAAP;AAoCA,GAvHgB;;AAyHjBi4E,eAAa,uBAAW;AACvB,OAAI1G,UAAU,EAAd;;AAEA;AACA,UAAO6F,SAAU,IAAV,EAAgBxzE,SAAhB,EAA2B,UAAUw0D,IAAV,EAAiB;AAClD,QAAI53D,SAAS,KAAKuB,UAAlB;;AAEA,QAAKk1D,OAAO6C,OAAP,CAAgB,IAAhB,EAAsByX,OAAtB,IAAkC,CAAvC,EAA2C;AAC1Cta,YAAOygB,SAAP,CAAkBzG,OAAQ,IAAR,CAAlB;AACA,SAAKzwE,MAAL,EAAc;AACbA,aAAO2oB,YAAP,CAAqBivC,IAArB,EAA2B,IAA3B;AACA;AACD;;AAEF;AACC,IAXM,EAWJmZ,OAXI,CAAP;AAYA;AAzIgB,EAAlB;;AA4IAta,QAAOiB,IAAP,CAAa;AACZggB,YAAU,QADE;AAEZC,aAAW,SAFC;AAGZ5uD,gBAAc,QAHF;AAIZ6uD,eAAa,OAJD;AAKZC,cAAY;AALA,EAAb,EAMG,UAAU/7D,IAAV,EAAgBg8D,QAAhB,EAA2B;AAC7BrhB,SAAOE,EAAP,CAAW76C,IAAX,IAAoB,UAAU46C,QAAV,EAAqB;AACxC,OAAIY,KAAJ;AAAA,OACCC,MAAM,EADP;AAAA,OAEC9vB,SAASgvB,OAAQC,QAAR,CAFV;AAAA,OAGCjoD,OAAOg5B,OAAOjoC,MAAP,GAAgB,CAHxB;AAAA,OAICiB,IAAI,CAJL;;AAMA,UAAQA,KAAKgO,IAAb,EAAmBhO,GAAnB,EAAyB;AACxB62D,YAAQ72D,MAAMgO,IAAN,GAAa,IAAb,GAAoB,KAAKspD,KAAL,CAAY,IAAZ,CAA5B;AACAtB,WAAQhvB,OAAQhnC,CAAR,CAAR,EAAuBq3E,QAAvB,EAAmCxgB,KAAnC;;AAEA;AACA;AACAzxD,SAAKxC,KAAL,CAAYk0D,GAAZ,EAAiBD,MAAMvmC,GAAN,EAAjB;AACA;;AAED,UAAO,KAAKsmC,SAAL,CAAgBE,GAAhB,CAAP;AACA,GAjBD;AAkBA,EAzBD;AA0BA,KAAIwgB,UAAY,SAAhB;;AAEA,KAAIC,YAAY,IAAIh5E,MAAJ,CAAY,OAAOuvE,IAAP,GAAc,iBAA1B,EAA6C,GAA7C,CAAhB;;AAEA,KAAI0J,YAAY,SAAZA,SAAY,CAAUrgB,IAAV,EAAiB;;AAE/B;AACA;AACA;AACA,MAAIztD,OAAOytD,KAAK58C,aAAL,CAAmBskD,WAA9B;;AAEA,MAAK,CAACn1D,IAAD,IAAS,CAACA,KAAK+tE,MAApB,EAA6B;AAC5B/tE,UAAO0Q,MAAP;AACA;;AAED,SAAO1Q,KAAK0hB,gBAAL,CAAuB+rC,IAAvB,CAAP;AACA,EAZF;;AAgBA,EAAE,YAAW;;AAEZ;AACA;AACA,WAASugB,iBAAT,GAA6B;;AAE5B;AACA,OAAK,CAACx+D,GAAN,EAAY;AACX;AACA;;AAEDA,OAAItZ,KAAJ,CAAUE,OAAV,GACC,2BACA,kCADA,GAEA,qCAFA,GAGA,kBAJD;AAKAoZ,OAAIimD,SAAJ,GAAgB,EAAhB;AACAhwC,mBAAgB3vB,WAAhB,CAA6B4jC,SAA7B;;AAEA,OAAIu0C,WAAWv9D,OAAOgR,gBAAP,CAAyBlS,GAAzB,CAAf;AACA0+D,sBAAmBD,SAASrrD,GAAT,KAAiB,IAApC;;AAEA;AACAurD,2BAAwBF,SAASjtD,UAAT,KAAwB,KAAhD;AACAotD,0BAAuBH,SAASttD,KAAT,KAAmB,KAA1C;;AAEA;AACA;AACAnR,OAAItZ,KAAJ,CAAUm4E,WAAV,GAAwB,KAAxB;AACAC,yBAAsBL,SAASI,WAAT,KAAyB,KAA/C;;AAEA5oD,mBAAgB/vB,WAAhB,CAA6BgkC,SAA7B;;AAEA;AACA;AACAlqB,SAAM,IAAN;AACA;;AAED,MAAI0+D,gBAAJ;AAAA,MAAsBE,oBAAtB;AAAA,MAA4CE,mBAA5C;AAAA,MAAiEH,qBAAjE;AAAA,MACCz0C,YAAYpmC,SAAS6C,aAAT,CAAwB,KAAxB,CADb;AAAA,MAECqZ,MAAMlc,SAAS6C,aAAT,CAAwB,KAAxB,CAFP;;AAIA;AACA,MAAK,CAACqZ,IAAItZ,KAAV,EAAkB;AACjB;AACA;;AAED;AACA;AACAsZ,MAAItZ,KAAJ,CAAUq4E,cAAV,GAA2B,aAA3B;AACA/+D,MAAIy3B,SAAJ,CAAe,IAAf,EAAsB/wC,KAAtB,CAA4Bq4E,cAA5B,GAA6C,EAA7C;AACApiB,UAAQqiB,eAAR,GAA0Bh/D,IAAItZ,KAAJ,CAAUq4E,cAAV,KAA6B,aAAvD;;AAEA70C,YAAUxjC,KAAV,CAAgBE,OAAhB,GAA0B,oDACzB,4CADD;AAEAsjC,YAAU5jC,WAAV,CAAuB0Z,GAAvB;;AAEA88C,SAAO1zB,MAAP,CAAeuzB,OAAf,EAAwB;AACvBsiB,kBAAe,yBAAW;AACzBT;AACA,WAAOE,gBAAP;AACA,IAJsB;AAKvBQ,sBAAmB,6BAAW;AAC7BV;AACA,WAAOI,oBAAP;AACA,IARsB;AASvBO,qBAAkB,4BAAW;AAC5BX;AACA,WAAOM,mBAAP;AACA,IAZsB;AAavBM,uBAAoB,8BAAW;AAC9BZ;AACA,WAAOG,qBAAP;AACA;AAhBsB,GAAxB;AAkBA,EA3ED;;AA8EA,UAASU,MAAT,CAAiBphB,IAAjB,EAAuB97C,IAAvB,EAA6Bm9D,QAA7B,EAAwC;AACvC,MAAInuD,KAAJ;AAAA,MAAW0R,QAAX;AAAA,MAAqB08C,QAArB;AAAA,MAA+B3hB,GAA/B;;;AAEC;AACA;AACA;AACA;AACAl3D,UAAQu3D,KAAKv3D,KANd;;AAQA44E,aAAWA,YAAYhB,UAAWrgB,IAAX,CAAvB;;AAEA;AACA;AACA;AACA,MAAKqhB,QAAL,EAAgB;AACf1hB,SAAM0hB,SAASE,gBAAT,CAA2Br9D,IAA3B,KAAqCm9D,SAAUn9D,IAAV,CAA3C;;AAEA,OAAKy7C,QAAQ,EAAR,IAAc,CAACd,OAAO90D,QAAP,CAAiBi2D,KAAK58C,aAAtB,EAAqC48C,IAArC,CAApB,EAAkE;AACjEL,UAAMd,OAAOp2D,KAAP,CAAcu3D,IAAd,EAAoB97C,IAApB,CAAN;AACA;;AAED;AACA;AACA;AACA;AACA;AACA,OAAK,CAACw6C,QAAQwiB,gBAAR,EAAD,IAA+Bd,UAAU96E,IAAV,CAAgBq6D,GAAhB,CAA/B,IAAwDwgB,QAAQ76E,IAAR,CAAc4e,IAAd,CAA7D,EAAoF;;AAEnF;AACAgP,YAAQzqB,MAAMyqB,KAAd;AACA0R,eAAWn8B,MAAMm8B,QAAjB;AACA08C,eAAW74E,MAAM64E,QAAjB;;AAEA;AACA74E,UAAMm8B,QAAN,GAAiBn8B,MAAM64E,QAAN,GAAiB74E,MAAMyqB,KAAN,GAAcysC,GAAhD;AACAA,UAAM0hB,SAASnuD,KAAf;;AAEA;AACAzqB,UAAMyqB,KAAN,GAAcA,KAAd;AACAzqB,UAAMm8B,QAAN,GAAiBA,QAAjB;AACAn8B,UAAM64E,QAAN,GAAiBA,QAAjB;AACA;AACD;;AAED,SAAO3hB,QAAQv5C,SAAR;;AAEN;AACA;AACAu5C,QAAM,EAJA,GAKNA,GALD;AAMA;;AAGD,UAAS6hB,YAAT,CAAuBC,WAAvB,EAAoCC,MAApC,EAA6C;;AAE5C;AACA,SAAO;AACNvoD,QAAK,eAAW;AACf,QAAKsoD,aAAL,EAAqB;;AAEpB;AACA;AACA,YAAO,KAAKtoD,GAAZ;AACA;AACA;;AAED;AACA,WAAO,CAAE,KAAKA,GAAL,GAAWuoD,MAAb,EAAsBj2E,KAAtB,CAA6B,IAA7B,EAAmCD,SAAnC,CAAP;AACA;AAZK,GAAP;AAcA;;AAGD;;AAEC;AACA;AACA;AACAm2E,gBAAe,2BALhB;AAAA,KAMCC,cAAc,KANf;AAAA,KAOCC,UAAU,EAAEvuD,UAAU,UAAZ,EAAwBqM,YAAY,QAApC,EAA8C7iB,SAAS,OAAvD,EAPX;AAAA,KAQCglE,qBAAqB;AACpBC,iBAAe,GADK;AAEpBC,cAAY;AAFQ,EARtB;AAAA,KAaCC,cAAc,CAAE,QAAF,EAAY,KAAZ,EAAmB,IAAnB,CAbf;AAAA,KAcCC,aAAar8E,SAAS6C,aAAT,CAAwB,KAAxB,EAAgCD,KAd9C;;AAgBA;AACA,UAAS05E,cAAT,CAAyBj+D,IAAzB,EAAgC;;AAE/B;AACA,MAAKA,QAAQg+D,UAAb,EAA0B;AACzB,UAAOh+D,IAAP;AACA;;AAED;AACA,MAAIk+D,UAAUl+D,KAAM,CAAN,EAAU9U,WAAV,KAA0B8U,KAAKxc,KAAL,CAAY,CAAZ,CAAxC;AAAA,MACCmB,IAAIo5E,YAAYr6E,MADjB;;AAGA,SAAQiB,GAAR,EAAc;AACbqb,UAAO+9D,YAAap5E,CAAb,IAAmBu5E,OAA1B;AACA,OAAKl+D,QAAQg+D,UAAb,EAA0B;AACzB,WAAOh+D,IAAP;AACA;AACD;AACD;;AAED;AACA;AACA,UAASm+D,aAAT,CAAwBn+D,IAAxB,EAA+B;AAC9B,MAAIy7C,MAAMd,OAAOyjB,QAAP,CAAiBp+D,IAAjB,CAAV;AACA,MAAK,CAACy7C,GAAN,EAAY;AACXA,SAAMd,OAAOyjB,QAAP,CAAiBp+D,IAAjB,IAA0Bi+D,eAAgBj+D,IAAhB,KAA0BA,IAA1D;AACA;AACD,SAAOy7C,GAAP;AACA;;AAED,UAAS4iB,iBAAT,CAA4BviB,IAA5B,EAAkCh1D,KAAlC,EAAyCw3E,QAAzC,EAAoD;;AAEnD;AACA;AACA,MAAI1gB,UAAU8U,QAAQnxE,IAAR,CAAcuF,KAAd,CAAd;AACA,SAAO82D;;AAEN;AACAj0D,OAAK8I,GAAL,CAAU,CAAV,EAAamrD,QAAS,CAAT,KAAiB0gB,YAAY,CAA7B,CAAb,KAAoD1gB,QAAS,CAAT,KAAgB,IAApE,CAHM,GAIN92D,KAJD;AAKA;;AAED,UAASy3E,oBAAT,CAA+BziB,IAA/B,EAAqC97C,IAArC,EAA2Cw+D,KAA3C,EAAkDC,WAAlD,EAA+D15D,MAA/D,EAAwE;AACvE,MAAIpgB,CAAJ;AAAA,MACCyc,MAAM,CADP;;AAGA;AACA,MAAKo9D,WAAYC,cAAc,QAAd,GAAyB,SAArC,CAAL,EAAwD;AACvD95E,OAAI,CAAJ;;AAED;AACC,GAJD,MAIO;AACNA,OAAIqb,SAAS,OAAT,GAAmB,CAAnB,GAAuB,CAA3B;AACA;;AAED,SAAQrb,IAAI,CAAZ,EAAeA,KAAK,CAApB,EAAwB;;AAEvB;AACA,OAAK65E,UAAU,QAAf,EAA0B;AACzBp9D,WAAOu5C,OAAOvxC,GAAP,CAAY0yC,IAAZ,EAAkB0iB,QAAQ7L,UAAWhuE,CAAX,CAA1B,EAA0C,IAA1C,EAAgDogB,MAAhD,CAAP;AACA;;AAED,OAAK05D,WAAL,EAAmB;;AAElB;AACA,QAAKD,UAAU,SAAf,EAA2B;AAC1Bp9D,YAAOu5C,OAAOvxC,GAAP,CAAY0yC,IAAZ,EAAkB,YAAY6W,UAAWhuE,CAAX,CAA9B,EAA8C,IAA9C,EAAoDogB,MAApD,CAAP;AACA;;AAED;AACA,QAAKy5D,UAAU,QAAf,EAA0B;AACzBp9D,YAAOu5C,OAAOvxC,GAAP,CAAY0yC,IAAZ,EAAkB,WAAW6W,UAAWhuE,CAAX,CAAX,GAA4B,OAA9C,EAAuD,IAAvD,EAA6DogB,MAA7D,CAAP;AACA;AACD,IAXD,MAWO;;AAEN;AACA3D,WAAOu5C,OAAOvxC,GAAP,CAAY0yC,IAAZ,EAAkB,YAAY6W,UAAWhuE,CAAX,CAA9B,EAA8C,IAA9C,EAAoDogB,MAApD,CAAP;;AAEA;AACA,QAAKy5D,UAAU,SAAf,EAA2B;AAC1Bp9D,YAAOu5C,OAAOvxC,GAAP,CAAY0yC,IAAZ,EAAkB,WAAW6W,UAAWhuE,CAAX,CAAX,GAA4B,OAA9C,EAAuD,IAAvD,EAA6DogB,MAA7D,CAAP;AACA;AACD;AACD;;AAED,SAAO3D,GAAP;AACA;;AAED,UAASs9D,gBAAT,CAA2B5iB,IAA3B,EAAiC97C,IAAjC,EAAuCw+D,KAAvC,EAA+C;;AAE9C;AACA,MAAIG,gBAAJ;AAAA,MACC55D,SAASo3D,UAAWrgB,IAAX,CADV;AAAA,MAEC16C,MAAM87D,OAAQphB,IAAR,EAAc97C,IAAd,EAAoB+E,MAApB,CAFP;AAAA,MAGC05D,cAAc9jB,OAAOvxC,GAAP,CAAY0yC,IAAZ,EAAkB,WAAlB,EAA+B,KAA/B,EAAsC/2C,MAAtC,MAAmD,YAHlE;;AAKA;AACA,MAAKm3D,UAAU96E,IAAV,CAAgBggB,GAAhB,CAAL,EAA6B;AAC5B,UAAOA,GAAP;AACA;;AAED;AACA;AACAu9D,qBAAmBF,gBAChBjkB,QAAQuiB,iBAAR,MAA+B37D,QAAQ06C,KAAKv3D,KAAL,CAAYyb,IAAZ,CADvB,CAAnB;;AAGA;AACA;AACA,MAAKoB,QAAQ,MAAb,EAAsB;AACrBA,SAAM06C,KAAM,WAAW97C,KAAM,CAAN,EAAU9U,WAAV,EAAX,GAAqC8U,KAAKxc,KAAL,CAAY,CAAZ,CAA3C,CAAN;AACA;;AAED;AACA4d,QAAM07C,WAAY17C,GAAZ,KAAqB,CAA3B;;AAEA;AACA,SAASA,MACRm9D,qBACCziB,IADD,EAEC97C,IAFD,EAGCw+D,UAAWC,cAAc,QAAd,GAAyB,SAApC,CAHD,EAICE,gBAJD,EAKC55D,MALD,CADM,GAQH,IARJ;AASA;;AAED41C,QAAO1zB,MAAP,CAAe;;AAEd;AACA;AACA23C,YAAU;AACTC,YAAS;AACR5pD,SAAK,aAAU6mC,IAAV,EAAgBqhB,QAAhB,EAA2B;AAC/B,SAAKA,QAAL,EAAgB;;AAEf;AACA,UAAI1hB,MAAMyhB,OAAQphB,IAAR,EAAc,SAAd,CAAV;AACA,aAAOL,QAAQ,EAAR,GAAa,GAAb,GAAmBA,GAA1B;AACA;AACD;AARO;AADA,GAJI;;AAiBd;AACA6X,aAAW;AACV,8BAA2B,IADjB;AAEV,kBAAe,IAFL;AAGV,kBAAe,IAHL;AAIV,eAAY,IAJF;AAKV,iBAAc,IALJ;AAMV,iBAAc,IANJ;AAOV,iBAAc,IAPJ;AAQV,cAAW,IARD;AASV,YAAS,IATC;AAUV,cAAW,IAVD;AAWV,aAAU,IAXA;AAYV,aAAU,IAZA;AAaV,WAAQ;AAbE,GAlBG;;AAkCd;AACA;AACA8K,YAAU;AACT,YAAS;AADA,GApCI;;AAwCd;AACA75E,SAAO,eAAUu3D,IAAV,EAAgB97C,IAAhB,EAAsBlZ,KAAtB,EAA6B03E,KAA7B,EAAqC;;AAE3C;AACA,OAAK,CAAC1iB,IAAD,IAASA,KAAK/1D,QAAL,KAAkB,CAA3B,IAAgC+1D,KAAK/1D,QAAL,KAAkB,CAAlD,IAAuD,CAAC+1D,KAAKv3D,KAAlE,EAA0E;AACzE;AACA;;AAED;AACA,OAAIk3D,GAAJ;AAAA,OAASrnD,IAAT;AAAA,OAAe+9D,KAAf;AAAA,OACC2M,WAAWnkB,OAAOwC,SAAP,CAAkBn9C,IAAlB,CADZ;AAAA,OAEC++D,eAAerB,YAAYt8E,IAAZ,CAAkB4e,IAAlB,CAFhB;AAAA,OAGCzb,QAAQu3D,KAAKv3D,KAHd;;AAKA;AACA;AACA;AACA,OAAK,CAACw6E,YAAN,EAAqB;AACpB/+D,WAAOm+D,cAAeW,QAAf,CAAP;AACA;;AAED;AACA3M,WAAQxX,OAAOikB,QAAP,CAAiB5+D,IAAjB,KAA2B26C,OAAOikB,QAAP,CAAiBE,QAAjB,CAAnC;;AAEA;AACA,OAAKh4E,UAAUob,SAAf,EAA2B;AAC1B9N,kBAActN,KAAd,yCAAcA,KAAd;;AAEA;AACA,QAAKsN,SAAS,QAAT,KAAuBqnD,MAAMiX,QAAQnxE,IAAR,CAAcuF,KAAd,CAA7B,KAAwD20D,IAAK,CAAL,CAA7D,EAAwE;AACvE30D,aAAQgsE,UAAWhX,IAAX,EAAiB97C,IAAjB,EAAuBy7C,GAAvB,CAAR;;AAEA;AACArnD,YAAO,QAAP;AACA;;AAED;AACA,QAAKtN,SAAS,IAAT,IAAiBA,UAAUA,KAAhC,EAAwC;AACvC;AACA;;AAED;AACA,QAAKsN,SAAS,QAAd,EAAyB;AACxBtN,cAAS20D,OAAOA,IAAK,CAAL,CAAP,KAAqBd,OAAO2Y,SAAP,CAAkBwL,QAAlB,IAA+B,EAA/B,GAAoC,IAAzD,CAAT;AACA;;AAED;AACA,QAAK,CAACtkB,QAAQqiB,eAAT,IAA4B/1E,UAAU,EAAtC,IAA4CkZ,KAAK1X,OAAL,CAAc,YAAd,MAAiC,CAAlF,EAAsF;AACrF/D,WAAOyb,IAAP,IAAgB,SAAhB;AACA;;AAED;AACA,QAAK,CAACmyD,KAAD,IAAU,EAAG,SAASA,KAAZ,CAAV,IACJ,CAAErrE,QAAQqrE,MAAM1pE,GAAN,CAAWqzD,IAAX,EAAiBh1D,KAAjB,EAAwB03E,KAAxB,CAAV,MAAgDt8D,SADjD,EAC6D;;AAE5D,SAAK68D,YAAL,EAAoB;AACnBx6E,YAAMy6E,WAAN,CAAmBh/D,IAAnB,EAAyBlZ,KAAzB;AACA,MAFD,MAEO;AACNvC,YAAOyb,IAAP,IAAgBlZ,KAAhB;AACA;AACD;AAED,IArCD,MAqCO;;AAEN;AACA,QAAKqrE,SAAS,SAASA,KAAlB,IACJ,CAAE1W,MAAM0W,MAAMl9C,GAAN,CAAW6mC,IAAX,EAAiB,KAAjB,EAAwB0iB,KAAxB,CAAR,MAA8Ct8D,SAD/C,EAC2D;;AAE1D,YAAOu5C,GAAP;AACA;;AAED;AACA,WAAOl3D,MAAOyb,IAAP,CAAP;AACA;AACD,GAlHa;;AAoHdoJ,OAAK,aAAU0yC,IAAV,EAAgB97C,IAAhB,EAAsBw+D,KAAtB,EAA6Bz5D,MAA7B,EAAsC;AAC1C,OAAI3D,GAAJ;AAAA,OAASk6C,GAAT;AAAA,OAAc6W,KAAd;AAAA,OACC2M,WAAWnkB,OAAOwC,SAAP,CAAkBn9C,IAAlB,CADZ;AAAA,OAEC++D,eAAerB,YAAYt8E,IAAZ,CAAkB4e,IAAlB,CAFhB;;AAIA;AACA;AACA;AACA,OAAK,CAAC++D,YAAN,EAAqB;AACpB/+D,WAAOm+D,cAAeW,QAAf,CAAP;AACA;;AAED;AACA3M,WAAQxX,OAAOikB,QAAP,CAAiB5+D,IAAjB,KAA2B26C,OAAOikB,QAAP,CAAiBE,QAAjB,CAAnC;;AAEA;AACA,OAAK3M,SAAS,SAASA,KAAvB,EAA+B;AAC9B/wD,UAAM+wD,MAAMl9C,GAAN,CAAW6mC,IAAX,EAAiB,IAAjB,EAAuB0iB,KAAvB,CAAN;AACA;;AAED;AACA,OAAKp9D,QAAQc,SAAb,EAAyB;AACxBd,UAAM87D,OAAQphB,IAAR,EAAc97C,IAAd,EAAoB+E,MAApB,CAAN;AACA;;AAED;AACA,OAAK3D,QAAQ,QAAR,IAAoBpB,QAAQ49D,kBAAjC,EAAsD;AACrDx8D,UAAMw8D,mBAAoB59D,IAApB,CAAN;AACA;;AAED;AACA,OAAKw+D,UAAU,EAAV,IAAgBA,KAArB,EAA6B;AAC5BljB,UAAMwB,WAAY17C,GAAZ,CAAN;AACA,WAAOo9D,UAAU,IAAV,IAAkBS,SAAU3jB,GAAV,CAAlB,GAAoCA,OAAO,CAA3C,GAA+Cl6C,GAAtD;AACA;;AAED,UAAOA,GAAP;AACA;AAzJa,EAAf;;AA4JAu5C,QAAOiB,IAAP,CAAa,CAAE,QAAF,EAAY,OAAZ,CAAb,EAAoC,UAAUj3D,CAAV,EAAaqb,IAAb,EAAoB;AACvD26C,SAAOikB,QAAP,CAAiB5+D,IAAjB,IAA0B;AACzBiV,QAAK,aAAU6mC,IAAV,EAAgBqhB,QAAhB,EAA0BqB,KAA1B,EAAkC;AACtC,QAAKrB,QAAL,EAAgB;;AAEf;AACA;AACA,YAAOM,aAAar8E,IAAb,CAAmBu5D,OAAOvxC,GAAP,CAAY0yC,IAAZ,EAAkB,SAAlB,CAAnB;;AAEN;AACA;AACA;AACA;AACA;AACA;AACE,MAACA,KAAK/qC,cAAL,GAAsBrtB,MAAvB,IAAiC,CAACo4D,KAAKx9C,qBAAL,GAA6B0Q,KAR3D,IASL6jD,KAAM/W,IAAN,EAAY6hB,OAAZ,EAAqB,YAAW;AAC/B,aAAOe,iBAAkB5iB,IAAlB,EAAwB97C,IAAxB,EAA8Bw+D,KAA9B,CAAP;AACA,MAFD,CATK,GAYLE,iBAAkB5iB,IAAlB,EAAwB97C,IAAxB,EAA8Bw+D,KAA9B,CAZF;AAaA;AACD,IApBwB;;AAsBzB/1E,QAAK,aAAUqzD,IAAV,EAAgBh1D,KAAhB,EAAuB03E,KAAvB,EAA+B;AACnC,QAAI5gB,OAAJ;AAAA,QACC74C,SAASy5D,SAASrC,UAAWrgB,IAAX,CADnB;AAAA,QAECwiB,WAAWE,SAASD,qBACnBziB,IADmB,EAEnB97C,IAFmB,EAGnBw+D,KAHmB,EAInB7jB,OAAOvxC,GAAP,CAAY0yC,IAAZ,EAAkB,WAAlB,EAA+B,KAA/B,EAAsC/2C,MAAtC,MAAmD,YAJhC,EAKnBA,MALmB,CAFrB;;AAUA;AACA,QAAKu5D,aAAc1gB,UAAU8U,QAAQnxE,IAAR,CAAcuF,KAAd,CAAxB,KACJ,CAAE82D,QAAS,CAAT,KAAgB,IAAlB,MAA6B,IAD9B,EACqC;;AAEpC9B,UAAKv3D,KAAL,CAAYyb,IAAZ,IAAqBlZ,KAArB;AACAA,aAAQ6zD,OAAOvxC,GAAP,CAAY0yC,IAAZ,EAAkB97C,IAAlB,CAAR;AACA;;AAED,WAAOq+D,kBAAmBviB,IAAnB,EAAyBh1D,KAAzB,EAAgCw3E,QAAhC,CAAP;AACA;AA1CwB,GAA1B;AA4CA,EA7CD;;AA+CA3jB,QAAOikB,QAAP,CAAgBvvD,UAAhB,GAA6BiuD,aAAc9iB,QAAQyiB,kBAAtB,EAC5B,UAAUnhB,IAAV,EAAgBqhB,QAAhB,EAA2B;AAC1B,MAAKA,QAAL,EAAgB;AACf,UAAO,CAAErgB,WAAYogB,OAAQphB,IAAR,EAAc,YAAd,CAAZ,KACRA,KAAKx9C,qBAAL,GAA6BE,IAA7B,GACCq0D,KAAM/W,IAAN,EAAY,EAAEzsC,YAAY,CAAd,EAAZ,EAA+B,YAAW;AACzC,WAAOysC,KAAKx9C,qBAAL,GAA6BE,IAApC;AACA,IAFD,CAFK,IAKF,IALL;AAMA;AACD,EAV2B,CAA7B;;AAaA;AACAm8C,QAAOiB,IAAP,CAAa;AACZl+B,UAAQ,EADI;AAEZlE,WAAS,EAFG;AAGZ+zB,UAAQ;AAHI,EAAb,EAIG,UAAU2xB,MAAV,EAAkBC,MAAlB,EAA2B;AAC7BxkB,SAAOikB,QAAP,CAAiBM,SAASC,MAA1B,IAAqC;AACpCC,WAAQ,gBAAUt4E,KAAV,EAAkB;AACzB,QAAInC,IAAI,CAAR;AAAA,QACC06E,WAAW,EADZ;;;AAGC;AACAtpE,YAAQ,OAAOjP,KAAP,KAAiB,QAAjB,GAA4BA,MAAML,KAAN,CAAa,GAAb,CAA5B,GAAiD,CAAEK,KAAF,CAJ1D;;AAMA,WAAQnC,IAAI,CAAZ,EAAeA,GAAf,EAAqB;AACpB06E,cAAUH,SAASvM,UAAWhuE,CAAX,CAAT,GAA0Bw6E,MAApC,IACCppE,MAAOpR,CAAP,KAAcoR,MAAOpR,IAAI,CAAX,CAAd,IAAgCoR,MAAO,CAAP,CADjC;AAEA;;AAED,WAAOspE,QAAP;AACA;AAdmC,GAArC;;AAiBA,MAAK,CAACpD,QAAQ76E,IAAR,CAAc89E,MAAd,CAAN,EAA+B;AAC9BvkB,UAAOikB,QAAP,CAAiBM,SAASC,MAA1B,EAAmC12E,GAAnC,GAAyC41E,iBAAzC;AACA;AACD,EAzBD;;AA2BA1jB,QAAOE,EAAP,CAAU5zB,MAAV,CAAkB;AACjB7d,OAAK,aAAUpJ,IAAV,EAAgBlZ,KAAhB,EAAwB;AAC5B,UAAO6pE,OAAQ,IAAR,EAAc,UAAU7U,IAAV,EAAgB97C,IAAhB,EAAsBlZ,KAAtB,EAA8B;AAClD,QAAIie,MAAJ;AAAA,QAAYtM,GAAZ;AAAA,QACCvO,MAAM,EADP;AAAA,QAECvF,IAAI,CAFL;;AAIA,QAAKwC,MAAMk1D,OAAN,CAAer8C,IAAf,CAAL,EAA6B;AAC5B+E,cAASo3D,UAAWrgB,IAAX,CAAT;AACArjD,WAAMuH,KAAKtc,MAAX;;AAEA,YAAQiB,IAAI8T,GAAZ,EAAiB9T,GAAjB,EAAuB;AACtBuF,UAAK8V,KAAMrb,CAAN,CAAL,IAAmBg2D,OAAOvxC,GAAP,CAAY0yC,IAAZ,EAAkB97C,KAAMrb,CAAN,CAAlB,EAA6B,KAA7B,EAAoCogB,MAApC,CAAnB;AACA;;AAED,YAAO7a,GAAP;AACA;;AAED,WAAOpD,UAAUob,SAAV,GACNy4C,OAAOp2D,KAAP,CAAcu3D,IAAd,EAAoB97C,IAApB,EAA0BlZ,KAA1B,CADM,GAEN6zD,OAAOvxC,GAAP,CAAY0yC,IAAZ,EAAkB97C,IAAlB,CAFD;AAGA,IAnBM,EAmBJA,IAnBI,EAmBElZ,KAnBF,EAmBSQ,UAAU5D,MAAV,GAAmB,CAnB5B,CAAP;AAoBA;AAtBgB,EAAlB;;AA0BA,UAAS47E,KAAT,CAAgBxjB,IAAhB,EAAsBlqD,OAAtB,EAA+BhK,IAA/B,EAAqC3C,GAArC,EAA0Cs6E,MAA1C,EAAmD;AAClD,SAAO,IAAID,MAAMl4E,SAAN,CAAgB6I,IAApB,CAA0B6rD,IAA1B,EAAgClqD,OAAhC,EAAyChK,IAAzC,EAA+C3C,GAA/C,EAAoDs6E,MAApD,CAAP;AACA;AACD5kB,QAAO2kB,KAAP,GAAeA,KAAf;;AAEAA,OAAMl4E,SAAN,GAAkB;AACjBgvC,eAAakpC,KADI;AAEjBrvE,QAAM,cAAU6rD,IAAV,EAAgBlqD,OAAhB,EAAyBhK,IAAzB,EAA+B3C,GAA/B,EAAoCs6E,MAApC,EAA4Cl6B,IAA5C,EAAmD;AACxD,QAAKyW,IAAL,GAAYA,IAAZ;AACA,QAAKl0D,IAAL,GAAYA,IAAZ;AACA,QAAK23E,MAAL,GAAcA,UAAU5kB,OAAO4kB,MAAP,CAAclL,QAAtC;AACA,QAAKziE,OAAL,GAAeA,OAAf;AACA,QAAK5M,KAAL,GAAa,KAAK0/C,GAAL,GAAW,KAAKxzC,GAAL,EAAxB;AACA,QAAKjM,GAAL,GAAWA,GAAX;AACA,QAAKogD,IAAL,GAAYA,SAAUsV,OAAO2Y,SAAP,CAAkB1rE,IAAlB,IAA2B,EAA3B,GAAgC,IAA1C,CAAZ;AACA,GAVgB;AAWjBsJ,OAAK,eAAW;AACf,OAAIihE,QAAQmN,MAAME,SAAN,CAAiB,KAAK53E,IAAtB,CAAZ;;AAEA,UAAOuqE,SAASA,MAAMl9C,GAAf,GACNk9C,MAAMl9C,GAAN,CAAW,IAAX,CADM,GAENqqD,MAAME,SAAN,CAAgBnL,QAAhB,CAAyBp/C,GAAzB,CAA8B,IAA9B,CAFD;AAGA,GAjBgB;AAkBjBwqD,OAAK,aAAUC,OAAV,EAAoB;AACxB,OAAIC,KAAJ;AAAA,OACCxN,QAAQmN,MAAME,SAAN,CAAiB,KAAK53E,IAAtB,CADT;;AAGA,OAAK,KAAKgK,OAAL,CAAaguE,QAAlB,EAA6B;AAC5B,SAAKp2E,GAAL,GAAWm2E,QAAQhlB,OAAO4kB,MAAP,CAAe,KAAKA,MAApB,EAClBG,OADkB,EACT,KAAK9tE,OAAL,CAAaguE,QAAb,GAAwBF,OADf,EACwB,CADxB,EAC2B,CAD3B,EAC8B,KAAK9tE,OAAL,CAAaguE,QAD3C,CAAnB;AAGA,IAJD,MAIO;AACN,SAAKp2E,GAAL,GAAWm2E,QAAQD,OAAnB;AACA;AACD,QAAKh7B,GAAL,GAAW,CAAE,KAAKz/C,GAAL,GAAW,KAAKD,KAAlB,IAA4B26E,KAA5B,GAAoC,KAAK36E,KAApD;;AAEA,OAAK,KAAK4M,OAAL,CAAaiuE,IAAlB,EAAyB;AACxB,SAAKjuE,OAAL,CAAaiuE,IAAb,CAAkBx4E,IAAlB,CAAwB,KAAKy0D,IAA7B,EAAmC,KAAKpX,GAAxC,EAA6C,IAA7C;AACA;;AAED,OAAKytB,SAASA,MAAM1pE,GAApB,EAA0B;AACzB0pE,UAAM1pE,GAAN,CAAW,IAAX;AACA,IAFD,MAEO;AACN62E,UAAME,SAAN,CAAgBnL,QAAhB,CAAyB5rE,GAAzB,CAA8B,IAA9B;AACA;AACD,UAAO,IAAP;AACA;AAzCgB,EAAlB;;AA4CA62E,OAAMl4E,SAAN,CAAgB6I,IAAhB,CAAqB7I,SAArB,GAAiCk4E,MAAMl4E,SAAvC;;AAEAk4E,OAAME,SAAN,GAAkB;AACjBnL,YAAU;AACTp/C,QAAK,aAAU+9C,KAAV,EAAkB;AACtB,QAAIr0D,MAAJ;;AAEA;AACA;AACA,QAAKq0D,MAAMlX,IAAN,CAAW/1D,QAAX,KAAwB,CAAxB,IACJitE,MAAMlX,IAAN,CAAYkX,MAAMprE,IAAlB,KAA4B,IAA5B,IAAoCorE,MAAMlX,IAAN,CAAWv3D,KAAX,CAAkByuE,MAAMprE,IAAxB,KAAkC,IADvE,EAC8E;AAC7E,YAAOorE,MAAMlX,IAAN,CAAYkX,MAAMprE,IAAlB,CAAP;AACA;;AAED;AACA;AACA;AACA;AACA+W,aAASg8C,OAAOvxC,GAAP,CAAY4pD,MAAMlX,IAAlB,EAAwBkX,MAAMprE,IAA9B,EAAoC,EAApC,CAAT;;AAEA;AACA,WAAO,CAAC+W,MAAD,IAAWA,WAAW,MAAtB,GAA+B,CAA/B,GAAmCA,MAA1C;AACA,IAnBQ;AAoBTlW,QAAK,aAAUuqE,KAAV,EAAkB;;AAEtB;AACA;AACA;AACA,QAAKrY,OAAOmlB,EAAP,CAAUD,IAAV,CAAgB7M,MAAMprE,IAAtB,CAAL,EAAoC;AACnC+yD,YAAOmlB,EAAP,CAAUD,IAAV,CAAgB7M,MAAMprE,IAAtB,EAA8BorE,KAA9B;AACA,KAFD,MAEO,IAAKA,MAAMlX,IAAN,CAAW/1D,QAAX,KAAwB,CAAxB,KACTitE,MAAMlX,IAAN,CAAWv3D,KAAX,CAAkBo2D,OAAOyjB,QAAP,CAAiBpL,MAAMprE,IAAvB,CAAlB,KAAqD,IAArD,IACD+yD,OAAOikB,QAAP,CAAiB5L,MAAMprE,IAAvB,CAFU,CAAL,EAE6B;AACnC+yD,YAAOp2D,KAAP,CAAcyuE,MAAMlX,IAApB,EAA0BkX,MAAMprE,IAAhC,EAAsCorE,MAAMtuB,GAAN,GAAYsuB,MAAM3tB,IAAxD;AACA,KAJM,MAIA;AACN2tB,WAAMlX,IAAN,CAAYkX,MAAMprE,IAAlB,IAA2BorE,MAAMtuB,GAAjC;AACA;AACD;AAlCQ;AADO,EAAlB;;AAuCA;AACA;AACA46B,OAAME,SAAN,CAAgBrrD,SAAhB,GAA4BmrD,MAAME,SAAN,CAAgBzrD,UAAhB,GAA6B;AACxDtrB,OAAK,aAAUuqE,KAAV,EAAkB;AACtB,OAAKA,MAAMlX,IAAN,CAAW/1D,QAAX,IAAuBitE,MAAMlX,IAAN,CAAWr2D,UAAvC,EAAoD;AACnDutE,UAAMlX,IAAN,CAAYkX,MAAMprE,IAAlB,IAA2BorE,MAAMtuB,GAAjC;AACA;AACD;AALuD,EAAzD;;AAQAiW,QAAO4kB,MAAP,GAAgB;AACfQ,UAAQ,gBAAU3pE,CAAV,EAAc;AACrB,UAAOA,CAAP;AACA,GAHc;AAIf4pE,SAAO,eAAU5pE,CAAV,EAAc;AACpB,UAAO,MAAMzM,KAAKs2E,GAAL,CAAU7pE,IAAIzM,KAAKu2E,EAAnB,IAA0B,CAAvC;AACA,GANc;AAOf7L,YAAU;AAPK,EAAhB;;AAUA1Z,QAAOmlB,EAAP,GAAYR,MAAMl4E,SAAN,CAAgB6I,IAA5B;;AAEA;AACA0qD,QAAOmlB,EAAP,CAAUD,IAAV,GAAiB,EAAjB;;AAKA,KACCM,KADD;AAAA,KACQC,UADR;AAAA,KAECC,WAAW,wBAFZ;AAAA,KAGCC,OAAO,aAHR;;AAKA,UAASC,QAAT,GAAoB;AACnB,MAAKH,UAAL,EAAkB;AACjB,OAAKz+E,SAASspB,MAAT,KAAoB,KAApB,IAA6BlM,OAAOyhE,qBAAzC,EAAiE;AAChEzhE,WAAOyhE,qBAAP,CAA8BD,QAA9B;AACA,IAFD,MAEO;AACNxhE,WAAOnW,UAAP,CAAmB23E,QAAnB,EAA6B5lB,OAAOmlB,EAAP,CAAUW,QAAvC;AACA;;AAED9lB,UAAOmlB,EAAP,CAAUY,IAAV;AACA;AACD;;AAED;AACA,UAASC,WAAT,GAAuB;AACtB5hE,SAAOnW,UAAP,CAAmB,YAAW;AAC7Bu3E,WAAQj+D,SAAR;AACA,GAFD;AAGA,SAASi+D,QAAQxlB,OAAOjW,GAAP,EAAjB;AACA;;AAED;AACA,UAASk8B,KAAT,CAAgBxsE,IAAhB,EAAsBysE,YAAtB,EAAqC;AACpC,MAAIpjE,KAAJ;AAAA,MACC9Y,IAAI,CADL;AAAA,MAEC+9D,QAAQ,EAAE3xD,QAAQqD,IAAV,EAFT;;AAIA;AACA;AACAysE,iBAAeA,eAAe,CAAf,GAAmB,CAAlC;AACA,SAAQl8E,IAAI,CAAZ,EAAeA,KAAK,IAAIk8E,YAAxB,EAAuC;AACtCpjE,WAAQk1D,UAAWhuE,CAAX,CAAR;AACA+9D,SAAO,WAAWjlD,KAAlB,IAA4BilD,MAAO,YAAYjlD,KAAnB,IAA6BrJ,IAAzD;AACA;;AAED,MAAKysE,YAAL,EAAoB;AACnBne,SAAMmc,OAAN,GAAgBnc,MAAM1zC,KAAN,GAAc5a,IAA9B;AACA;;AAED,SAAOsuD,KAAP;AACA;;AAED,UAASoe,WAAT,CAAsBh6E,KAAtB,EAA6Bc,IAA7B,EAAmCm5E,SAAnC,EAA+C;AAC9C,MAAI/N,KAAJ;AAAA,MACC+H,aAAa,CAAEiG,UAAUC,QAAV,CAAoBr5E,IAApB,KAA8B,EAAhC,EAAqC+L,MAArC,CAA6CqtE,UAAUC,QAAV,CAAoB,GAApB,CAA7C,CADd;AAAA,MAECx9E,QAAQ,CAFT;AAAA,MAGCC,SAASq3E,WAAWr3E,MAHrB;AAIA,SAAQD,QAAQC,MAAhB,EAAwBD,OAAxB,EAAkC;AACjC,OAAOuvE,QAAQ+H,WAAYt3E,KAAZ,EAAoB4D,IAApB,CAA0B05E,SAA1B,EAAqCn5E,IAArC,EAA2Cd,KAA3C,CAAf,EAAsE;;AAErE;AACA,WAAOksE,KAAP;AACA;AACD;AACD;;AAED,UAASkO,gBAAT,CAA2BplB,IAA3B,EAAiCnxD,KAAjC,EAAwCw2E,IAAxC,EAA+C;AAC9C,MAAIv5E,IAAJ;AAAA,MAAUd,KAAV;AAAA,MAAiB2iD,MAAjB;AAAA,MAAyB0oB,KAAzB;AAAA,MAAgCiP,OAAhC;AAAA,MAAyCC,SAAzC;AAAA,MAAoDC,cAApD;AAAA,MAAoE1oE,OAApE;AAAA,MACC2oE,QAAQ,WAAW52E,KAAX,IAAoB,YAAYA,KADzC;AAAA,MAEC62E,OAAO,IAFR;AAAA,MAGC1H,OAAO,EAHR;AAAA,MAICv1E,QAAQu3D,KAAKv3D,KAJd;AAAA,MAKC0mB,SAAS6wC,KAAK/1D,QAAL,IAAiB6sE,mBAAoB9W,IAApB,CAL3B;AAAA,MAMC2lB,WAAWlQ,SAASt8C,GAAT,CAAc6mC,IAAd,EAAoB,QAApB,CANZ;;AAQA;AACA,MAAK,CAACqlB,KAAKrU,KAAX,EAAmB;AAClBqF,WAAQxX,OAAOyX,WAAP,CAAoBtW,IAApB,EAA0B,IAA1B,CAAR;AACA,OAAKqW,MAAMuP,QAAN,IAAkB,IAAvB,EAA8B;AAC7BvP,UAAMuP,QAAN,GAAiB,CAAjB;AACAN,cAAUjP,MAAMr5C,KAAN,CAAYk0C,IAAtB;AACAmF,UAAMr5C,KAAN,CAAYk0C,IAAZ,GAAmB,YAAW;AAC7B,SAAK,CAACmF,MAAMuP,QAAZ,EAAuB;AACtBN;AACA;AACD,KAJD;AAKA;AACDjP,SAAMuP,QAAN;;AAEAF,QAAKvT,MAAL,CAAa,YAAW;;AAEvB;AACAuT,SAAKvT,MAAL,CAAa,YAAW;AACvBkE,WAAMuP,QAAN;AACA,SAAK,CAAC/mB,OAAOmS,KAAP,CAAchR,IAAd,EAAoB,IAApB,EAA2Bp4D,MAAjC,EAA0C;AACzCyuE,YAAMr5C,KAAN,CAAYk0C,IAAZ;AACA;AACD,KALD;AAMA,IATD;AAUA;;AAED;AACA,OAAMplE,IAAN,IAAc+C,KAAd,EAAsB;AACrB7D,WAAQ6D,MAAO/C,IAAP,CAAR;AACA,OAAKy4E,SAASj/E,IAAT,CAAe0F,KAAf,CAAL,EAA8B;AAC7B,WAAO6D,MAAO/C,IAAP,CAAP;AACA6hD,aAASA,UAAU3iD,UAAU,QAA7B;AACA,QAAKA,WAAYmkB,SAAS,MAAT,GAAkB,MAA9B,CAAL,EAA8C;;AAE7C;AACA;AACA,SAAKnkB,UAAU,MAAV,IAAoB26E,QAApB,IAAgCA,SAAU75E,IAAV,MAAqBsa,SAA1D,EAAsE;AACrE+I,eAAS,IAAT;;AAED;AACC,MAJD,MAIO;AACN;AACA;AACD;AACD6uD,SAAMlyE,IAAN,IAAe65E,YAAYA,SAAU75E,IAAV,CAAZ,IAAgC+yD,OAAOp2D,KAAP,CAAcu3D,IAAd,EAAoBl0D,IAApB,CAA/C;AACA;AACD;;AAED;AACAy5E,cAAY,CAAC1mB,OAAOsC,aAAP,CAAsBtyD,KAAtB,CAAb;AACA,MAAK,CAAC02E,SAAD,IAAc1mB,OAAOsC,aAAP,CAAsB6c,IAAtB,CAAnB,EAAkD;AACjD;AACA;;AAED;AACA,MAAKyH,SAASzlB,KAAK/1D,QAAL,KAAkB,CAAhC,EAAoC;;AAEnC;AACA;AACA;AACAo7E,QAAKQ,QAAL,GAAgB,CAAEp9E,MAAMo9E,QAAR,EAAkBp9E,MAAMq9E,SAAxB,EAAmCr9E,MAAMs9E,SAAzC,CAAhB;;AAEA;AACAP,oBAAiBG,YAAYA,SAAS7oE,OAAtC;AACA,OAAK0oE,kBAAkB,IAAvB,EAA8B;AAC7BA,qBAAiB/P,SAASt8C,GAAT,CAAc6mC,IAAd,EAAoB,SAApB,CAAjB;AACA;AACDljD,aAAU+hD,OAAOvxC,GAAP,CAAY0yC,IAAZ,EAAkB,SAAlB,CAAV;AACA,OAAKljD,YAAY,MAAjB,EAA0B;AACzB,QAAK0oE,cAAL,EAAsB;AACrB1oE,eAAU0oE,cAAV;AACA,KAFD,MAEO;;AAEN;AACA5N,cAAU,CAAE5X,IAAF,CAAV,EAAoB,IAApB;AACAwlB,sBAAiBxlB,KAAKv3D,KAAL,CAAWqU,OAAX,IAAsB0oE,cAAvC;AACA1oE,eAAU+hD,OAAOvxC,GAAP,CAAY0yC,IAAZ,EAAkB,SAAlB,CAAV;AACA4X,cAAU,CAAE5X,IAAF,CAAV;AACA;AACD;;AAED;AACA,OAAKljD,YAAY,QAAZ,IAAwBA,YAAY,cAAZ,IAA8B0oE,kBAAkB,IAA7E,EAAoF;AACnF,QAAK3mB,OAAOvxC,GAAP,CAAY0yC,IAAZ,EAAkB,OAAlB,MAAgC,MAArC,EAA8C;;AAE7C;AACA,SAAK,CAACulB,SAAN,EAAkB;AACjBG,WAAK30C,IAAL,CAAW,YAAW;AACrBtoC,aAAMqU,OAAN,GAAgB0oE,cAAhB;AACA,OAFD;AAGA,UAAKA,kBAAkB,IAAvB,EAA8B;AAC7B1oE,iBAAUrU,MAAMqU,OAAhB;AACA0oE,wBAAiB1oE,YAAY,MAAZ,GAAqB,EAArB,GAA0BA,OAA3C;AACA;AACD;AACDrU,WAAMqU,OAAN,GAAgB,cAAhB;AACA;AACD;AACD;;AAED,MAAKuoE,KAAKQ,QAAV,EAAqB;AACpBp9E,SAAMo9E,QAAN,GAAiB,QAAjB;AACAH,QAAKvT,MAAL,CAAa,YAAW;AACvB1pE,UAAMo9E,QAAN,GAAiBR,KAAKQ,QAAL,CAAe,CAAf,CAAjB;AACAp9E,UAAMq9E,SAAN,GAAkBT,KAAKQ,QAAL,CAAe,CAAf,CAAlB;AACAp9E,UAAMs9E,SAAN,GAAkBV,KAAKQ,QAAL,CAAe,CAAf,CAAlB;AACA,IAJD;AAKA;;AAED;AACAN,cAAY,KAAZ;AACA,OAAMz5E,IAAN,IAAckyE,IAAd,EAAqB;;AAEpB;AACA,OAAK,CAACuH,SAAN,EAAkB;AACjB,QAAKI,QAAL,EAAgB;AACf,SAAK,YAAYA,QAAjB,EAA4B;AAC3Bx2D,eAASw2D,SAASx2D,MAAlB;AACA;AACD,KAJD,MAIO;AACNw2D,gBAAWlQ,SAASZ,MAAT,CAAiB7U,IAAjB,EAAuB,QAAvB,EAAiC,EAAEljD,SAAS0oE,cAAX,EAAjC,CAAX;AACA;;AAED;AACA,QAAK73B,MAAL,EAAc;AACbg4B,cAASx2D,MAAT,GAAkB,CAACA,MAAnB;AACA;;AAED;AACA,QAAKA,MAAL,EAAc;AACbyoD,cAAU,CAAE5X,IAAF,CAAV,EAAoB,IAApB;AACA;;AAED;;AAEA0lB,SAAK30C,IAAL,CAAW,YAAW;;AAEtB;;AAEC;AACA,SAAK,CAAC5hB,MAAN,EAAe;AACdyoD,eAAU,CAAE5X,IAAF,CAAV;AACA;AACDyV,cAAS3lC,MAAT,CAAiBkwB,IAAjB,EAAuB,QAAvB;AACA,UAAMl0D,IAAN,IAAckyE,IAAd,EAAqB;AACpBnf,aAAOp2D,KAAP,CAAcu3D,IAAd,EAAoBl0D,IAApB,EAA0BkyE,KAAMlyE,IAAN,CAA1B;AACA;AACD,KAZD;AAaA;;AAED;AACAy5E,eAAYP,YAAa71D,SAASw2D,SAAU75E,IAAV,CAAT,GAA4B,CAAzC,EAA4CA,IAA5C,EAAkD45E,IAAlD,CAAZ;AACA,OAAK,EAAG55E,QAAQ65E,QAAX,CAAL,EAA6B;AAC5BA,aAAU75E,IAAV,IAAmBy5E,UAAUr8E,KAA7B;AACA,QAAKimB,MAAL,EAAc;AACbo2D,eAAUp8E,GAAV,GAAgBo8E,UAAUr8E,KAA1B;AACAq8E,eAAUr8E,KAAV,GAAkB,CAAlB;AACA;AACD;AACD;AACD;;AAED,UAAS88E,UAAT,CAAqBn3E,KAArB,EAA4Bo3E,aAA5B,EAA4C;AAC3C,MAAIt+E,KAAJ,EAAWuc,IAAX,EAAiBu/D,MAAjB,EAAyBz4E,KAAzB,EAAgCqrE,KAAhC;;AAEA;AACA,OAAM1uE,KAAN,IAAekH,KAAf,EAAuB;AACtBqV,UAAO26C,OAAOwC,SAAP,CAAkB15D,KAAlB,CAAP;AACA87E,YAASwC,cAAe/hE,IAAf,CAAT;AACAlZ,WAAQ6D,MAAOlH,KAAP,CAAR;AACA,OAAK0D,MAAMk1D,OAAN,CAAev1D,KAAf,CAAL,EAA8B;AAC7By4E,aAASz4E,MAAO,CAAP,CAAT;AACAA,YAAQ6D,MAAOlH,KAAP,IAAiBqD,MAAO,CAAP,CAAzB;AACA;;AAED,OAAKrD,UAAUuc,IAAf,EAAsB;AACrBrV,UAAOqV,IAAP,IAAgBlZ,KAAhB;AACA,WAAO6D,MAAOlH,KAAP,CAAP;AACA;;AAED0uE,WAAQxX,OAAOikB,QAAP,CAAiB5+D,IAAjB,CAAR;AACA,OAAKmyD,SAAS,YAAYA,KAA1B,EAAkC;AACjCrrE,YAAQqrE,MAAMiN,MAAN,CAAct4E,KAAd,CAAR;AACA,WAAO6D,MAAOqV,IAAP,CAAP;;AAEA;AACA;AACA,SAAMvc,KAAN,IAAeqD,KAAf,EAAuB;AACtB,SAAK,EAAGrD,SAASkH,KAAZ,CAAL,EAA2B;AAC1BA,YAAOlH,KAAP,IAAiBqD,MAAOrD,KAAP,CAAjB;AACAs+E,oBAAet+E,KAAf,IAAyB87E,MAAzB;AACA;AACD;AACD,IAZD,MAYO;AACNwC,kBAAe/hE,IAAf,IAAwBu/D,MAAxB;AACA;AACD;AACD;;AAED,UAASyB,SAAT,CAAoBllB,IAApB,EAA0B96C,UAA1B,EAAsCpP,OAAtC,EAAgD;AAC/C,MAAI+M,MAAJ;AAAA,MACCqjE,OADD;AAAA,MAECv+E,QAAQ,CAFT;AAAA,MAGCC,SAASs9E,UAAUiB,UAAV,CAAqBv+E,MAH/B;AAAA,MAICwqE,WAAWvT,OAAOoT,QAAP,GAAkBE,MAAlB,CAA0B,YAAW;;AAE/C;AACA,UAAOyS,KAAK5kB,IAAZ;AACA,GAJU,CAJZ;AAAA,MASC4kB,OAAO,SAAPA,IAAO,GAAW;AACjB,OAAKsB,OAAL,EAAe;AACd,WAAO,KAAP;AACA;AACD,OAAIE,cAAc/B,SAASQ,aAA3B;AAAA,OACCjtC,YAAY/pC,KAAK8I,GAAL,CAAU,CAAV,EAAasuE,UAAUoB,SAAV,GAAsBpB,UAAUnB,QAAhC,GAA2CsC,WAAxD,CADb;;;AAGC;AACA;AACAtZ,UAAOl1B,YAAYqtC,UAAUnB,QAAtB,IAAkC,CAL1C;AAAA,OAMCF,UAAU,IAAI9W,IANf;AAAA,OAOCnlE,QAAQ,CAPT;AAAA,OAQCC,SAASq9E,UAAUqB,MAAV,CAAiB1+E,MAR3B;;AAUA,UAAQD,QAAQC,MAAhB,EAAwBD,OAAxB,EAAkC;AACjCs9E,cAAUqB,MAAV,CAAkB3+E,KAAlB,EAA0Bg8E,GAA1B,CAA+BC,OAA/B;AACA;;AAEDxR,YAASe,UAAT,CAAqBnT,IAArB,EAA2B,CAAEilB,SAAF,EAAarB,OAAb,EAAsBhsC,SAAtB,CAA3B;;AAEA;AACA,OAAKgsC,UAAU,CAAV,IAAeh8E,MAApB,EAA6B;AAC5B,WAAOgwC,SAAP;AACA;;AAED;AACA,OAAK,CAAChwC,MAAN,EAAe;AACdwqE,aAASe,UAAT,CAAqBnT,IAArB,EAA2B,CAAEilB,SAAF,EAAa,CAAb,EAAgB,CAAhB,CAA3B;AACA;;AAED;AACA7S,YAASgB,WAAT,CAAsBpT,IAAtB,EAA4B,CAAEilB,SAAF,CAA5B;AACA,UAAO,KAAP;AACA,GA1CF;AAAA,MA2CCA,YAAY7S,SAASL,OAAT,CAAkB;AAC7B/R,SAAMA,IADuB;AAE7BnxD,UAAOgwD,OAAO1zB,MAAP,CAAe,EAAf,EAAmBjmB,UAAnB,CAFsB;AAG7BmgE,SAAMxmB,OAAO1zB,MAAP,CAAe,IAAf,EAAqB;AAC1B86C,mBAAe,EADW;AAE1BxC,YAAQ5kB,OAAO4kB,MAAP,CAAclL;AAFI,IAArB,EAGHziE,OAHG,CAHuB;AAO7BywE,uBAAoBrhE,UAPS;AAQ7BshE,oBAAiB1wE,OARY;AAS7BuwE,cAAWhC,SAASQ,aATS;AAU7Bf,aAAUhuE,QAAQguE,QAVW;AAW7BwC,WAAQ,EAXqB;AAY7BtB,gBAAa,qBAAUl5E,IAAV,EAAgB3C,GAAhB,EAAsB;AAClC,QAAI+tE,QAAQrY,OAAO2kB,KAAP,CAAcxjB,IAAd,EAAoBilB,UAAUI,IAA9B,EAAoCv5E,IAApC,EAA0C3C,GAA1C,EACV87E,UAAUI,IAAV,CAAeY,aAAf,CAA8Bn6E,IAA9B,KAAwCm5E,UAAUI,IAAV,CAAe5B,MAD7C,CAAZ;AAEAwB,cAAUqB,MAAV,CAAiBr4E,IAAjB,CAAuBipE,KAAvB;AACA,WAAOA,KAAP;AACA,IAjB4B;AAkB7BX,SAAM,cAAUkQ,OAAV,EAAoB;AACzB,QAAI9+E,QAAQ,CAAZ;;;AAEC;AACA;AACAC,aAAS6+E,UAAUxB,UAAUqB,MAAV,CAAiB1+E,MAA3B,GAAoC,CAJ9C;AAKA,QAAKs+E,OAAL,EAAe;AACd,YAAO,IAAP;AACA;AACDA,cAAU,IAAV;AACA,WAAQv+E,QAAQC,MAAhB,EAAwBD,OAAxB,EAAkC;AACjCs9E,eAAUqB,MAAV,CAAkB3+E,KAAlB,EAA0Bg8E,GAA1B,CAA+B,CAA/B;AACA;;AAED;AACA,QAAK8C,OAAL,EAAe;AACdrU,cAASe,UAAT,CAAqBnT,IAArB,EAA2B,CAAEilB,SAAF,EAAa,CAAb,EAAgB,CAAhB,CAA3B;AACA7S,cAASgB,WAAT,CAAsBpT,IAAtB,EAA4B,CAAEilB,SAAF,EAAawB,OAAb,CAA5B;AACA,KAHD,MAGO;AACNrU,cAASoB,UAAT,CAAqBxT,IAArB,EAA2B,CAAEilB,SAAF,EAAawB,OAAb,CAA3B;AACA;AACD,WAAO,IAAP;AACA;AAxC4B,GAAlB,CA3Cb;AAAA,MAqFC53E,QAAQo2E,UAAUp2E,KArFnB;;AAuFAm3E,aAAYn3E,KAAZ,EAAmBo2E,UAAUI,IAAV,CAAeY,aAAlC;;AAEA,SAAQt+E,QAAQC,MAAhB,EAAwBD,OAAxB,EAAkC;AACjCkb,YAASqiE,UAAUiB,UAAV,CAAsBx+E,KAAtB,EAA8B4D,IAA9B,CAAoC05E,SAApC,EAA+CjlB,IAA/C,EAAqDnxD,KAArD,EAA4Do2E,UAAUI,IAAtE,CAAT;AACA,OAAKxiE,MAAL,EAAc;AACb,QAAKg8C,OAAOwB,UAAP,CAAmBx9C,OAAO0zD,IAA1B,CAAL,EAAwC;AACvC1X,YAAOyX,WAAP,CAAoB2O,UAAUjlB,IAA9B,EAAoCilB,UAAUI,IAAV,CAAerU,KAAnD,EAA2DuF,IAA3D,GACC1X,OAAOqD,KAAP,CAAcr/C,OAAO0zD,IAArB,EAA2B1zD,MAA3B,CADD;AAEA;AACD,WAAOA,MAAP;AACA;AACD;;AAEDg8C,SAAOzwD,GAAP,CAAYS,KAAZ,EAAmBm2E,WAAnB,EAAgCC,SAAhC;;AAEA,MAAKpmB,OAAOwB,UAAP,CAAmB4kB,UAAUI,IAAV,CAAen8E,KAAlC,CAAL,EAAiD;AAChD+7E,aAAUI,IAAV,CAAen8E,KAAf,CAAqBqC,IAArB,CAA2By0D,IAA3B,EAAiCilB,SAAjC;AACA;;AAED;AACAA,YACExS,QADF,CACYwS,UAAUI,IAAV,CAAe5S,QAD3B,EAEE1hC,IAFF,CAEQk0C,UAAUI,IAAV,CAAet0C,IAFvB,EAE6Bk0C,UAAUI,IAAV,CAAeqB,QAF5C,EAGE1U,IAHF,CAGQiT,UAAUI,IAAV,CAAerT,IAHvB,EAIEG,MAJF,CAIU8S,UAAUI,IAAV,CAAelT,MAJzB;;AAMAtT,SAAOmlB,EAAP,CAAU2C,KAAV,CACC9nB,OAAO1zB,MAAP,CAAey5C,IAAf,EAAqB;AACpB5kB,SAAMA,IADc;AAEpB0lB,SAAMT,SAFc;AAGpBjU,UAAOiU,UAAUI,IAAV,CAAerU;AAHF,GAArB,CADD;;AAQA,SAAOiU,SAAP;AACA;;AAEDpmB,QAAOqmB,SAAP,GAAmBrmB,OAAO1zB,MAAP,CAAe+5C,SAAf,EAA0B;;AAE5CC,YAAU;AACT,QAAK,CAAE,UAAUr5E,IAAV,EAAgBd,KAAhB,EAAwB;AAC9B,QAAIksE,QAAQ,KAAK8N,WAAL,CAAkBl5E,IAAlB,EAAwBd,KAAxB,CAAZ;AACAgsE,cAAWE,MAAMlX,IAAjB,EAAuBl0D,IAAvB,EAA6B8qE,QAAQnxE,IAAR,CAAcuF,KAAd,CAA7B,EAAoDksE,KAApD;AACA,WAAOA,KAAP;AACA,IAJI;AADI,GAFkC;;AAU5C0P,WAAS,iBAAU/3E,KAAV,EAAiBkxD,QAAjB,EAA4B;AACpC,OAAKlB,OAAOwB,UAAP,CAAmBxxD,KAAnB,CAAL,EAAkC;AACjCkxD,eAAWlxD,KAAX;AACAA,YAAQ,CAAE,GAAF,CAAR;AACA,IAHD,MAGO;AACNA,YAAQA,MAAM/H,KAAN,CAAaypE,aAAb,CAAR;AACA;;AAED,OAAIzkE,IAAJ;AAAA,OACCnE,QAAQ,CADT;AAAA,OAECC,SAASiH,MAAMjH,MAFhB;;AAIA,UAAQD,QAAQC,MAAhB,EAAwBD,OAAxB,EAAkC;AACjCmE,WAAO+C,MAAOlH,KAAP,CAAP;AACAu9E,cAAUC,QAAV,CAAoBr5E,IAApB,IAA6Bo5E,UAAUC,QAAV,CAAoBr5E,IAApB,KAA8B,EAA3D;AACAo5E,cAAUC,QAAV,CAAoBr5E,IAApB,EAA2BwT,OAA3B,CAAoCygD,QAApC;AACA;AACD,GA3B2C;;AA6B5ComB,cAAY,CAAEf,gBAAF,CA7BgC;;AA+B5CyB,aAAW,mBAAU9mB,QAAV,EAAoB6f,OAApB,EAA8B;AACxC,OAAKA,OAAL,EAAe;AACdsF,cAAUiB,UAAV,CAAqB7mE,OAArB,CAA8BygD,QAA9B;AACA,IAFD,MAEO;AACNmlB,cAAUiB,UAAV,CAAqBl4E,IAArB,CAA2B8xD,QAA3B;AACA;AACD;AArC2C,EAA1B,CAAnB;;AAwCAlB,QAAOioB,KAAP,GAAe,UAAUA,KAAV,EAAiBrD,MAAjB,EAAyB1kB,EAAzB,EAA8B;AAC5C,MAAI1mB,MAAMyuC,SAAS,QAAOA,KAAP,yCAAOA,KAAP,OAAiB,QAA1B,GAAqCjoB,OAAO1zB,MAAP,CAAe,EAAf,EAAmB27C,KAAnB,CAArC,GAAkE;AAC3EJ,aAAU3nB,MAAM,CAACA,EAAD,IAAO0kB,MAAb,IACT5kB,OAAOwB,UAAP,CAAmBymB,KAAnB,KAA8BA,KAF4C;AAG3EhD,aAAUgD,KAHiE;AAI3ErD,WAAQ1kB,MAAM0kB,MAAN,IAAgBA,UAAU,CAAC5kB,OAAOwB,UAAP,CAAmBojB,MAAnB,CAAX,IAA0CA;AAJS,GAA5E;;AAOA;AACA,MAAK5kB,OAAOmlB,EAAP,CAAUhkE,GAAf,EAAqB;AACpBq4B,OAAIyrC,QAAJ,GAAe,CAAf;AAEA,GAHD,MAGO;AACN,OAAK,OAAOzrC,IAAIyrC,QAAX,KAAwB,QAA7B,EAAwC;AACvC,QAAKzrC,IAAIyrC,QAAJ,IAAgBjlB,OAAOmlB,EAAP,CAAU+C,MAA/B,EAAwC;AACvC1uC,SAAIyrC,QAAJ,GAAejlB,OAAOmlB,EAAP,CAAU+C,MAAV,CAAkB1uC,IAAIyrC,QAAtB,CAAf;AAEA,KAHD,MAGO;AACNzrC,SAAIyrC,QAAJ,GAAejlB,OAAOmlB,EAAP,CAAU+C,MAAV,CAAiBxO,QAAhC;AACA;AACD;AACD;;AAED;AACA,MAAKlgC,IAAI24B,KAAJ,IAAa,IAAb,IAAqB34B,IAAI24B,KAAJ,KAAc,IAAxC,EAA+C;AAC9C34B,OAAI24B,KAAJ,GAAY,IAAZ;AACA;;AAED;AACA34B,MAAIrgC,GAAJ,GAAUqgC,IAAIquC,QAAd;;AAEAruC,MAAIquC,QAAJ,GAAe,YAAW;AACzB,OAAK7nB,OAAOwB,UAAP,CAAmBhoB,IAAIrgC,GAAvB,CAAL,EAAoC;AACnCqgC,QAAIrgC,GAAJ,CAAQzM,IAAR,CAAc,IAAd;AACA;;AAED,OAAK8sC,IAAI24B,KAAT,EAAiB;AAChBnS,WAAOsX,OAAP,CAAgB,IAAhB,EAAsB99B,IAAI24B,KAA1B;AACA;AACD,GARD;;AAUA,SAAO34B,GAAP;AACA,EA1CD;;AA4CAwmB,QAAOE,EAAP,CAAU5zB,MAAV,CAAkB;AACjB67C,UAAQ,gBAAUF,KAAV,EAAiB12E,EAAjB,EAAqBqzE,MAArB,EAA6B1jB,QAA7B,EAAwC;;AAE/C;AACA,UAAO,KAAK9pB,MAAL,CAAa6gC,kBAAb,EAAkCxpD,GAAlC,CAAuC,SAAvC,EAAkD,CAAlD,EAAsDuqD,IAAtD;;AAEN;AAFM,IAGL1uE,GAHK,GAGC89E,OAHD,CAGU,EAAElE,SAAS3yE,EAAX,EAHV,EAG2B02E,KAH3B,EAGkCrD,MAHlC,EAG0C1jB,QAH1C,CAAP;AAIA,GARgB;AASjBknB,WAAS,iBAAUn7E,IAAV,EAAgBg7E,KAAhB,EAAuBrD,MAAvB,EAA+B1jB,QAA/B,EAA0C;AAClD,OAAI/iC,QAAQ6hC,OAAOsC,aAAP,CAAsBr1D,IAAtB,CAAZ;AAAA,OACCo7E,SAASroB,OAAOioB,KAAP,CAAcA,KAAd,EAAqBrD,MAArB,EAA6B1jB,QAA7B,CADV;AAAA,OAEConB,cAAc,SAAdA,WAAc,GAAW;;AAExB;AACA,QAAIzB,OAAOR,UAAW,IAAX,EAAiBrmB,OAAO1zB,MAAP,CAAe,EAAf,EAAmBr/B,IAAnB,CAAjB,EAA4Co7E,MAA5C,CAAX;;AAEA;AACA,QAAKlqD,SAASy4C,SAASt8C,GAAT,CAAc,IAAd,EAAoB,QAApB,CAAd,EAA+C;AAC9CusD,UAAKnP,IAAL,CAAW,IAAX;AACA;AACD,IAXF;AAYC4Q,eAAY3+C,MAAZ,GAAqB2+C,WAArB;;AAED,UAAOnqD,SAASkqD,OAAOlW,KAAP,KAAiB,KAA1B,GACN,KAAKlR,IAAL,CAAWqnB,WAAX,CADM,GAEN,KAAKnW,KAAL,CAAYkW,OAAOlW,KAAnB,EAA0BmW,WAA1B,CAFD;AAGA,GA3BgB;AA4BjB5Q,QAAM,cAAUj+D,IAAV,EAAgBm+D,UAAhB,EAA4BgQ,OAA5B,EAAsC;AAC3C,OAAIW,YAAY,SAAZA,SAAY,CAAU/Q,KAAV,EAAkB;AACjC,QAAIE,OAAOF,MAAME,IAAjB;AACA,WAAOF,MAAME,IAAb;AACAA,SAAMkQ,OAAN;AACA,IAJD;;AAMA,OAAK,OAAOnuE,IAAP,KAAgB,QAArB,EAAgC;AAC/BmuE,cAAUhQ,UAAV;AACAA,iBAAan+D,IAAb;AACAA,WAAO8N,SAAP;AACA;AACD,OAAKqwD,cAAcn+D,SAAS,KAA5B,EAAoC;AACnC,SAAK04D,KAAL,CAAY14D,QAAQ,IAApB,EAA0B,EAA1B;AACA;;AAED,UAAO,KAAKwnD,IAAL,CAAW,YAAW;AAC5B,QAAIqW,UAAU,IAAd;AAAA,QACCxuE,QAAQ2Q,QAAQ,IAAR,IAAgBA,OAAO,YADhC;AAAA,QAEC+uE,SAASxoB,OAAOwoB,MAFjB;AAAA,QAGClzD,OAAOshD,SAASt8C,GAAT,CAAc,IAAd,CAHR;;AAKA,QAAKxxB,KAAL,EAAa;AACZ,SAAKwsB,KAAMxsB,KAAN,KAAiBwsB,KAAMxsB,KAAN,EAAc4uE,IAApC,EAA2C;AAC1C6Q,gBAAWjzD,KAAMxsB,KAAN,CAAX;AACA;AACD,KAJD,MAIO;AACN,UAAMA,KAAN,IAAewsB,IAAf,EAAsB;AACrB,UAAKA,KAAMxsB,KAAN,KAAiBwsB,KAAMxsB,KAAN,EAAc4uE,IAA/B,IAAuCiO,KAAKl/E,IAAL,CAAWqC,KAAX,CAA5C,EAAiE;AAChEy/E,iBAAWjzD,KAAMxsB,KAAN,CAAX;AACA;AACD;AACD;;AAED,SAAMA,QAAQ0/E,OAAOz/E,MAArB,EAA6BD,OAA7B,GAAwC;AACvC,SAAK0/E,OAAQ1/E,KAAR,EAAgBq4D,IAAhB,KAAyB,IAAzB,KACF1nD,QAAQ,IAAR,IAAgB+uE,OAAQ1/E,KAAR,EAAgBqpE,KAAhB,KAA0B14D,IADxC,CAAL,EACsD;;AAErD+uE,aAAQ1/E,KAAR,EAAgB+9E,IAAhB,CAAqBnP,IAArB,CAA2BkQ,OAA3B;AACAtQ,gBAAU,KAAV;AACAkR,aAAO54E,MAAP,CAAe9G,KAAf,EAAsB,CAAtB;AACA;AACD;;AAED;AACA;AACA;AACA,QAAKwuE,WAAW,CAACsQ,OAAjB,EAA2B;AAC1B5nB,YAAOsX,OAAP,CAAgB,IAAhB,EAAsB79D,IAAtB;AACA;AACD,IAlCM,CAAP;AAmCA,GA/EgB;AAgFjBkwB,UAAQ,gBAAUlwB,IAAV,EAAiB;AACxB,OAAKA,SAAS,KAAd,EAAsB;AACrBA,WAAOA,QAAQ,IAAf;AACA;AACD,UAAO,KAAKwnD,IAAL,CAAW,YAAW;AAC5B,QAAIn4D,KAAJ;AAAA,QACCwsB,OAAOshD,SAASt8C,GAAT,CAAc,IAAd,CADR;AAAA,QAEC63C,QAAQ78C,KAAM7b,OAAO,OAAb,CAFT;AAAA,QAGC+9D,QAAQliD,KAAM7b,OAAO,YAAb,CAHT;AAAA,QAIC+uE,SAASxoB,OAAOwoB,MAJjB;AAAA,QAKCz/E,SAASopE,QAAQA,MAAMppE,MAAd,GAAuB,CALjC;;AAOA;AACAusB,SAAKqU,MAAL,GAAc,IAAd;;AAEA;AACAq2B,WAAOmS,KAAP,CAAc,IAAd,EAAoB14D,IAApB,EAA0B,EAA1B;;AAEA,QAAK+9D,SAASA,MAAME,IAApB,EAA2B;AAC1BF,WAAME,IAAN,CAAWhrE,IAAX,CAAiB,IAAjB,EAAuB,IAAvB;AACA;;AAED;AACA,SAAM5D,QAAQ0/E,OAAOz/E,MAArB,EAA6BD,OAA7B,GAAwC;AACvC,SAAK0/E,OAAQ1/E,KAAR,EAAgBq4D,IAAhB,KAAyB,IAAzB,IAAiCqnB,OAAQ1/E,KAAR,EAAgBqpE,KAAhB,KAA0B14D,IAAhE,EAAuE;AACtE+uE,aAAQ1/E,KAAR,EAAgB+9E,IAAhB,CAAqBnP,IAArB,CAA2B,IAA3B;AACA8Q,aAAO54E,MAAP,CAAe9G,KAAf,EAAsB,CAAtB;AACA;AACD;;AAED;AACA,SAAMA,QAAQ,CAAd,EAAiBA,QAAQC,MAAzB,EAAiCD,OAAjC,EAA2C;AAC1C,SAAKqpE,MAAOrpE,KAAP,KAAkBqpE,MAAOrpE,KAAP,EAAe6gC,MAAtC,EAA+C;AAC9CwoC,YAAOrpE,KAAP,EAAe6gC,MAAf,CAAsBj9B,IAAtB,CAA4B,IAA5B;AACA;AACD;;AAED;AACA,WAAO4oB,KAAKqU,MAAZ;AACA,IAnCM,CAAP;AAoCA;AAxHgB,EAAlB;;AA2HAq2B,QAAOiB,IAAP,CAAa,CAAE,QAAF,EAAY,MAAZ,EAAoB,MAApB,CAAb,EAA2C,UAAUj3D,CAAV,EAAaqb,IAAb,EAAoB;AAC9D,MAAIojE,QAAQzoB,OAAOE,EAAP,CAAW76C,IAAX,CAAZ;AACA26C,SAAOE,EAAP,CAAW76C,IAAX,IAAoB,UAAU4iE,KAAV,EAAiBrD,MAAjB,EAAyB1jB,QAAzB,EAAoC;AACvD,UAAO+mB,SAAS,IAAT,IAAiB,OAAOA,KAAP,KAAiB,SAAlC,GACNQ,MAAM77E,KAAN,CAAa,IAAb,EAAmBD,SAAnB,CADM,GAEN,KAAKy7E,OAAL,CAAcnC,MAAO5gE,IAAP,EAAa,IAAb,CAAd,EAAmC4iE,KAAnC,EAA0CrD,MAA1C,EAAkD1jB,QAAlD,CAFD;AAGA,GAJD;AAKA,EAPD;;AASA;AACAlB,QAAOiB,IAAP,CAAa;AACZynB,aAAWzC,MAAO,MAAP,CADC;AAEZ0C,WAAS1C,MAAO,MAAP,CAFG;AAGZ2C,eAAa3C,MAAO,QAAP,CAHD;AAIZ4C,UAAQ,EAAE3E,SAAS,MAAX,EAJI;AAKZ4E,WAAS,EAAE5E,SAAS,MAAX,EALG;AAMZ6E,cAAY,EAAE7E,SAAS,QAAX;AANA,EAAb,EAOG,UAAU7+D,IAAV,EAAgBrV,KAAhB,EAAwB;AAC1BgwD,SAAOE,EAAP,CAAW76C,IAAX,IAAoB,UAAU4iE,KAAV,EAAiBrD,MAAjB,EAAyB1jB,QAAzB,EAAoC;AACvD,UAAO,KAAKknB,OAAL,CAAcp4E,KAAd,EAAqBi4E,KAArB,EAA4BrD,MAA5B,EAAoC1jB,QAApC,CAAP;AACA,GAFD;AAGA,EAXD;;AAaAlB,QAAOwoB,MAAP,GAAgB,EAAhB;AACAxoB,QAAOmlB,EAAP,CAAUY,IAAV,GAAiB,YAAW;AAC3B,MAAI+B,KAAJ;AAAA,MACC99E,IAAI,CADL;AAAA,MAECw+E,SAASxoB,OAAOwoB,MAFjB;;AAIAhD,UAAQxlB,OAAOjW,GAAP,EAAR;;AAEA,SAAQ//C,IAAIw+E,OAAOz/E,MAAnB,EAA2BiB,GAA3B,EAAiC;AAChC89E,WAAQU,OAAQx+E,CAAR,CAAR;;AAEA;AACA,OAAK,CAAC89E,OAAD,IAAYU,OAAQx+E,CAAR,MAAgB89E,KAAjC,EAAyC;AACxCU,WAAO54E,MAAP,CAAe5F,GAAf,EAAoB,CAApB;AACA;AACD;;AAED,MAAK,CAACw+E,OAAOz/E,MAAb,EAAsB;AACrBi3D,UAAOmlB,EAAP,CAAUzN,IAAV;AACA;AACD8N,UAAQj+D,SAAR;AACA,EApBD;;AAsBAy4C,QAAOmlB,EAAP,CAAU2C,KAAV,GAAkB,UAAUA,KAAV,EAAkB;AACnC9nB,SAAOwoB,MAAP,CAAcp5E,IAAd,CAAoB04E,KAApB;AACA9nB,SAAOmlB,EAAP,CAAU96E,KAAV;AACA,EAHD;;AAKA21D,QAAOmlB,EAAP,CAAUW,QAAV,GAAqB,EAArB;AACA9lB,QAAOmlB,EAAP,CAAU96E,KAAV,GAAkB,YAAW;AAC5B,MAAKo7E,UAAL,EAAkB;AACjB;AACA;;AAEDA,eAAa,IAAb;AACAG;AACA,EAPD;;AASA5lB,QAAOmlB,EAAP,CAAUzN,IAAV,GAAiB,YAAW;AAC3B+N,eAAa,IAAb;AACA,EAFD;;AAIAzlB,QAAOmlB,EAAP,CAAU+C,MAAV,GAAmB;AAClBc,QAAM,GADY;AAElBC,QAAM,GAFY;;AAIlB;AACAvP,YAAU;AALQ,EAAnB;;AASA;AACA;AACA1Z,QAAOE,EAAP,CAAUt5B,KAAV,GAAkB,UAAUkE,IAAV,EAAgBrxB,IAAhB,EAAuB;AACxCqxB,SAAOk1B,OAAOmlB,EAAP,GAAYnlB,OAAOmlB,EAAP,CAAU+C,MAAV,CAAkBp9C,IAAlB,KAA4BA,IAAxC,GAA+CA,IAAtD;AACArxB,SAAOA,QAAQ,IAAf;;AAEA,SAAO,KAAK04D,KAAL,CAAY14D,IAAZ,EAAkB,UAAU+N,IAAV,EAAgBgwD,KAAhB,EAAwB;AAChD,OAAI0R,UAAU9kE,OAAOnW,UAAP,CAAmBuZ,IAAnB,EAAyBsjB,IAAzB,CAAd;AACA0sC,SAAME,IAAN,GAAa,YAAW;AACvBtzD,WAAOpW,YAAP,CAAqBk7E,OAArB;AACA,IAFD;AAGA,GALM,CAAP;AAMA,EAVD;;AAaA,EAAE,YAAW;AACZ,MAAIn3E,QAAQ/K,SAAS6C,aAAT,CAAwB,OAAxB,CAAZ;AAAA,MACCmC,SAAShF,SAAS6C,aAAT,CAAwB,QAAxB,CADV;AAAA,MAEC2vC,MAAMxtC,OAAOxC,WAAP,CAAoBxC,SAAS6C,aAAT,CAAwB,QAAxB,CAApB,CAFP;;AAIAkI,QAAM0H,IAAN,GAAa,UAAb;;AAEA;AACA;AACAomD,UAAQspB,OAAR,GAAkBp3E,MAAM5F,KAAN,KAAgB,EAAlC;;AAEA;AACA;AACA0zD,UAAQupB,WAAR,GAAsB5vC,IAAI6G,QAA1B;;AAEA;AACA;AACAtuC,UAAQ/K,SAAS6C,aAAT,CAAwB,OAAxB,CAAR;AACAkI,QAAM5F,KAAN,GAAc,GAAd;AACA4F,QAAM0H,IAAN,GAAa,OAAb;AACAomD,UAAQwpB,UAAR,GAAqBt3E,MAAM5F,KAAN,KAAgB,GAArC;AACA,EArBD;;AAwBA,KAAIm9E,QAAJ;AAAA,KACCrhB,aAAajI,OAAOiK,IAAP,CAAYhC,UAD1B;;AAGAjI,QAAOE,EAAP,CAAU5zB,MAAV,CAAkB;AACjB69B,QAAM,cAAU9kD,IAAV,EAAgBlZ,KAAhB,EAAwB;AAC7B,UAAO6pE,OAAQ,IAAR,EAAchW,OAAOmK,IAArB,EAA2B9kD,IAA3B,EAAiClZ,KAAjC,EAAwCQ,UAAU5D,MAAV,GAAmB,CAA3D,CAAP;AACA,GAHgB;;AAKjBwgF,cAAY,oBAAUlkE,IAAV,EAAiB;AAC5B,UAAO,KAAK47C,IAAL,CAAW,YAAW;AAC5BjB,WAAOupB,UAAP,CAAmB,IAAnB,EAAyBlkE,IAAzB;AACA,IAFM,CAAP;AAGA;AATgB,EAAlB;;AAYA26C,QAAO1zB,MAAP,CAAe;AACd69B,QAAM,cAAUhJ,IAAV,EAAgB97C,IAAhB,EAAsBlZ,KAAtB,EAA8B;AACnC,OAAI20D,GAAJ;AAAA,OAAS0W,KAAT;AAAA,OACCgS,QAAQroB,KAAK/1D,QADd;;AAGA;AACA,OAAKo+E,UAAU,CAAV,IAAeA,UAAU,CAAzB,IAA8BA,UAAU,CAA7C,EAAiD;AAChD;AACA;;AAED;AACA,OAAK,OAAOroB,KAAKpsC,YAAZ,KAA6B,WAAlC,EAAgD;AAC/C,WAAOirC,OAAO/yD,IAAP,CAAak0D,IAAb,EAAmB97C,IAAnB,EAAyBlZ,KAAzB,CAAP;AACA;;AAED;AACA;AACA,OAAKq9E,UAAU,CAAV,IAAe,CAACxpB,OAAO2P,QAAP,CAAiBxO,IAAjB,CAArB,EAA+C;AAC9CqW,YAAQxX,OAAOypB,SAAP,CAAkBpkE,KAAK7U,WAAL,EAAlB,MACLwvD,OAAOiK,IAAP,CAAYhiE,KAAZ,CAAkByhF,IAAlB,CAAuBjjF,IAAvB,CAA6B4e,IAA7B,IAAsCikE,QAAtC,GAAiD/hE,SAD5C,CAAR;AAEA;;AAED,OAAKpb,UAAUob,SAAf,EAA2B;AAC1B,QAAKpb,UAAU,IAAf,EAAsB;AACrB6zD,YAAOupB,UAAP,CAAmBpoB,IAAnB,EAAyB97C,IAAzB;AACA;AACA;;AAED,QAAKmyD,SAAS,SAASA,KAAlB,IACJ,CAAE1W,MAAM0W,MAAM1pE,GAAN,CAAWqzD,IAAX,EAAiBh1D,KAAjB,EAAwBkZ,IAAxB,CAAR,MAA6CkC,SAD9C,EAC0D;AACzD,YAAOu5C,GAAP;AACA;;AAEDK,SAAKj3D,YAAL,CAAmBmb,IAAnB,EAAyBlZ,QAAQ,EAAjC;AACA,WAAOA,KAAP;AACA;;AAED,OAAKqrE,SAAS,SAASA,KAAlB,IAA2B,CAAE1W,MAAM0W,MAAMl9C,GAAN,CAAW6mC,IAAX,EAAiB97C,IAAjB,CAAR,MAAsC,IAAtE,EAA6E;AAC5E,WAAOy7C,GAAP;AACA;;AAEDA,SAAMd,OAAOzkD,IAAP,CAAY4uD,IAAZ,CAAkBhJ,IAAlB,EAAwB97C,IAAxB,CAAN;;AAEA;AACA,UAAOy7C,OAAO,IAAP,GAAcv5C,SAAd,GAA0Bu5C,GAAjC;AACA,GA7Ca;;AA+Cd2oB,aAAW;AACVhwE,SAAM;AACL3L,SAAK,aAAUqzD,IAAV,EAAgBh1D,KAAhB,EAAwB;AAC5B,SAAK,CAAC0zD,QAAQwpB,UAAT,IAAuBl9E,UAAU,OAAjC,IACJkuD,SAAU8G,IAAV,EAAgB,OAAhB,CADD,EAC6B;AAC5B,UAAI16C,MAAM06C,KAAKh1D,KAAf;AACAg1D,WAAKj3D,YAAL,CAAmB,MAAnB,EAA2BiC,KAA3B;AACA,UAAKsa,GAAL,EAAW;AACV06C,YAAKh1D,KAAL,GAAasa,GAAb;AACA;AACD,aAAOta,KAAP;AACA;AACD;AAXI;AADI,GA/CG;;AA+Ddo9E,cAAY,oBAAUpoB,IAAV,EAAgBh1D,KAAhB,EAAwB;AACnC,OAAIkZ,IAAJ;AAAA,OACCrb,IAAI,CADL;;;AAGC;AACA;AACA2/E,eAAYx9E,SAASA,MAAMlE,KAAN,CAAaypE,aAAb,CALtB;;AAOA,OAAKiY,aAAaxoB,KAAK/1D,QAAL,KAAkB,CAApC,EAAwC;AACvC,WAAUia,OAAOskE,UAAW3/E,GAAX,CAAjB,EAAsC;AACrCm3D,UAAKsG,eAAL,CAAsBpiD,IAAtB;AACA;AACD;AACD;AA5Ea,EAAf;;AA+EA;AACAikE,YAAW;AACVx7E,OAAK,aAAUqzD,IAAV,EAAgBh1D,KAAhB,EAAuBkZ,IAAvB,EAA8B;AAClC,OAAKlZ,UAAU,KAAf,EAAuB;;AAEtB;AACA6zD,WAAOupB,UAAP,CAAmBpoB,IAAnB,EAAyB97C,IAAzB;AACA,IAJD,MAIO;AACN87C,SAAKj3D,YAAL,CAAmBmb,IAAnB,EAAyBA,IAAzB;AACA;AACD,UAAOA,IAAP;AACA;AAVS,EAAX;;AAaA26C,QAAOiB,IAAP,CAAajB,OAAOiK,IAAP,CAAYhiE,KAAZ,CAAkByhF,IAAlB,CAAuB/4E,MAAvB,CAA8B1I,KAA9B,CAAqC,MAArC,CAAb,EAA4D,UAAU+B,CAAV,EAAaqb,IAAb,EAAoB;AAC/E,MAAIukE,SAAS3hB,WAAY5iD,IAAZ,KAAsB26C,OAAOzkD,IAAP,CAAY4uD,IAA/C;;AAEAlC,aAAY5iD,IAAZ,IAAqB,UAAU87C,IAAV,EAAgB97C,IAAhB,EAAsBu+C,KAAtB,EAA8B;AAClD,OAAI9C,GAAJ;AAAA,OAASvoB,MAAT;AAAA,OACCsxC,gBAAgBxkE,KAAK7U,WAAL,EADjB;;AAGA,OAAK,CAACozD,KAAN,EAAc;;AAEb;AACArrB,aAAS0vB,WAAY4hB,aAAZ,CAAT;AACA5hB,eAAY4hB,aAAZ,IAA8B/oB,GAA9B;AACAA,UAAM8oB,OAAQzoB,IAAR,EAAc97C,IAAd,EAAoBu+C,KAApB,KAA+B,IAA/B,GACLimB,aADK,GAEL,IAFD;AAGA5hB,eAAY4hB,aAAZ,IAA8BtxC,MAA9B;AACA;AACD,UAAOuoB,GAAP;AACA,GAfD;AAgBA,EAnBD;;AAwBA,KAAIgpB,aAAa,qCAAjB;AAAA,KACCC,aAAa,eADd;;AAGA/pB,QAAOE,EAAP,CAAU5zB,MAAV,CAAkB;AACjBr/B,QAAM,cAAUoY,IAAV,EAAgBlZ,KAAhB,EAAwB;AAC7B,UAAO6pE,OAAQ,IAAR,EAAchW,OAAO/yD,IAArB,EAA2BoY,IAA3B,EAAiClZ,KAAjC,EAAwCQ,UAAU5D,MAAV,GAAmB,CAA3D,CAAP;AACA,GAHgB;;AAKjBihF,cAAY,oBAAU3kE,IAAV,EAAiB;AAC5B,UAAO,KAAK47C,IAAL,CAAW,YAAW;AAC5B,WAAO,KAAMjB,OAAOiqB,OAAP,CAAgB5kE,IAAhB,KAA0BA,IAAhC,CAAP;AACA,IAFM,CAAP;AAGA;AATgB,EAAlB;;AAYA26C,QAAO1zB,MAAP,CAAe;AACdr/B,QAAM,cAAUk0D,IAAV,EAAgB97C,IAAhB,EAAsBlZ,KAAtB,EAA8B;AACnC,OAAI20D,GAAJ;AAAA,OAAS0W,KAAT;AAAA,OACCgS,QAAQroB,KAAK/1D,QADd;;AAGA;AACA,OAAKo+E,UAAU,CAAV,IAAeA,UAAU,CAAzB,IAA8BA,UAAU,CAA7C,EAAiD;AAChD;AACA;;AAED,OAAKA,UAAU,CAAV,IAAe,CAACxpB,OAAO2P,QAAP,CAAiBxO,IAAjB,CAArB,EAA+C;;AAE9C;AACA97C,WAAO26C,OAAOiqB,OAAP,CAAgB5kE,IAAhB,KAA0BA,IAAjC;AACAmyD,YAAQxX,OAAO6kB,SAAP,CAAkBx/D,IAAlB,CAAR;AACA;;AAED,OAAKlZ,UAAUob,SAAf,EAA2B;AAC1B,QAAKiwD,SAAS,SAASA,KAAlB,IACJ,CAAE1W,MAAM0W,MAAM1pE,GAAN,CAAWqzD,IAAX,EAAiBh1D,KAAjB,EAAwBkZ,IAAxB,CAAR,MAA6CkC,SAD9C,EAC0D;AACzD,YAAOu5C,GAAP;AACA;;AAED,WAASK,KAAM97C,IAAN,IAAelZ,KAAxB;AACA;;AAED,OAAKqrE,SAAS,SAASA,KAAlB,IAA2B,CAAE1W,MAAM0W,MAAMl9C,GAAN,CAAW6mC,IAAX,EAAiB97C,IAAjB,CAAR,MAAsC,IAAtE,EAA6E;AAC5E,WAAOy7C,GAAP;AACA;;AAED,UAAOK,KAAM97C,IAAN,CAAP;AACA,GA/Ba;;AAiCdw/D,aAAW;AACVn2B,aAAU;AACTp0B,SAAK,aAAU6mC,IAAV,EAAiB;;AAErB;AACA;AACA;AACA;AACA;AACA,SAAIzE,WAAWsD,OAAOzkD,IAAP,CAAY4uD,IAAZ,CAAkBhJ,IAAlB,EAAwB,UAAxB,CAAf;;AAEA,SAAKzE,QAAL,EAAgB;AACf,aAAOnnC,SAAUmnC,QAAV,EAAoB,EAApB,CAAP;AACA;;AAED,SACCotB,WAAWrjF,IAAX,CAAiB06D,KAAK9G,QAAtB,KACA0vB,WAAWtjF,IAAX,CAAiB06D,KAAK9G,QAAtB,KACA8G,KAAKkL,IAHN,EAIE;AACD,aAAO,CAAP;AACA;;AAED,YAAO,CAAC,CAAR;AACA;AAvBQ;AADA,GAjCG;;AA6Dd4d,WAAS;AACR,UAAO,SADC;AAER,YAAS;AAFD;AA7DK,EAAf;;AAmEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK,CAACpqB,QAAQupB,WAAd,EAA4B;AAC3BppB,SAAO6kB,SAAP,CAAiBxkC,QAAjB,GAA4B;AAC3B/lB,QAAK,aAAU6mC,IAAV,EAAiB;;AAErB;;AAEA,QAAI53D,SAAS43D,KAAKr2D,UAAlB;AACA,QAAKvB,UAAUA,OAAOuB,UAAtB,EAAmC;AAClCvB,YAAOuB,UAAP,CAAkByhE,aAAlB;AACA;AACD,WAAO,IAAP;AACA,IAV0B;AAW3Bz+D,QAAK,aAAUqzD,IAAV,EAAiB;;AAErB;;AAEA,QAAI53D,SAAS43D,KAAKr2D,UAAlB;AACA,QAAKvB,MAAL,EAAc;AACbA,YAAOgjE,aAAP;;AAEA,SAAKhjE,OAAOuB,UAAZ,EAAyB;AACxBvB,aAAOuB,UAAP,CAAkByhE,aAAlB;AACA;AACD;AACD;AAvB0B,GAA5B;AAyBA;;AAEDvM,QAAOiB,IAAP,CAAa,CACZ,UADY,EAEZ,UAFY,EAGZ,WAHY,EAIZ,aAJY,EAKZ,aALY,EAMZ,SANY,EAOZ,SAPY,EAQZ,QARY,EASZ,aATY,EAUZ,iBAVY,CAAb,EAWG,YAAW;AACbjB,SAAOiqB,OAAP,CAAgB,KAAKz5E,WAAL,EAAhB,IAAuC,IAAvC;AACA,EAbD;;AAkBC;AACA;AACA,UAAS05E,gBAAT,CAA2B/9E,KAA3B,EAAmC;AAClC,MAAI0f,SAAS1f,MAAMlE,KAAN,CAAaypE,aAAb,KAAgC,EAA7C;AACA,SAAO7lD,OAAO8vB,IAAP,CAAa,GAAb,CAAP;AACA;;AAGF,UAASwuC,QAAT,CAAmBhpB,IAAnB,EAA0B;AACzB,SAAOA,KAAKpsC,YAAL,IAAqBosC,KAAKpsC,YAAL,CAAmB,OAAnB,CAArB,IAAqD,EAA5D;AACA;;AAEDirC,QAAOE,EAAP,CAAU5zB,MAAV,CAAkB;AACjB7gC,YAAU,kBAAUU,KAAV,EAAkB;AAC3B,OAAIke,OAAJ;AAAA,OAAa82C,IAAb;AAAA,OAAmB5qD,GAAnB;AAAA,OAAwB6zE,QAAxB;AAAA,OAAkCC,KAAlC;AAAA,OAAyC7uE,CAAzC;AAAA,OAA4C8uE,UAA5C;AAAA,OACCtgF,IAAI,CADL;;AAGA,OAAKg2D,OAAOwB,UAAP,CAAmBr1D,KAAnB,CAAL,EAAkC;AACjC,WAAO,KAAK80D,IAAL,CAAW,UAAUzlD,CAAV,EAAc;AAC/BwkD,YAAQ,IAAR,EAAev0D,QAAf,CAAyBU,MAAMO,IAAN,CAAY,IAAZ,EAAkB8O,CAAlB,EAAqB2uE,SAAU,IAAV,CAArB,CAAzB;AACA,KAFM,CAAP;AAGA;;AAED,OAAK,OAAOh+E,KAAP,KAAiB,QAAjB,IAA6BA,KAAlC,EAA0C;AACzCke,cAAUle,MAAMlE,KAAN,CAAaypE,aAAb,KAAgC,EAA1C;;AAEA,WAAUvQ,OAAO,KAAMn3D,GAAN,CAAjB,EAAiC;AAChCogF,gBAAWD,SAAUhpB,IAAV,CAAX;AACA5qD,WAAM4qD,KAAK/1D,QAAL,KAAkB,CAAlB,IAAyB,MAAM8+E,iBAAkBE,QAAlB,CAAN,GAAqC,GAApE;;AAEA,SAAK7zE,GAAL,EAAW;AACViF,UAAI,CAAJ;AACA,aAAU6uE,QAAQhgE,QAAS7O,GAAT,CAAlB,EAAqC;AACpC,WAAKjF,IAAI5I,OAAJ,CAAa,MAAM08E,KAAN,GAAc,GAA3B,IAAmC,CAAxC,EAA4C;AAC3C9zE,eAAO8zE,QAAQ,GAAf;AACA;AACD;;AAED;AACAC,mBAAaJ,iBAAkB3zE,GAAlB,CAAb;AACA,UAAK6zE,aAAaE,UAAlB,EAA+B;AAC9BnpB,YAAKj3D,YAAL,CAAmB,OAAnB,EAA4BogF,UAA5B;AACA;AACD;AACD;AACD;;AAED,UAAO,IAAP;AACA,GApCgB;;AAsCjBC,eAAa,qBAAUp+E,KAAV,EAAkB;AAC9B,OAAIke,OAAJ;AAAA,OAAa82C,IAAb;AAAA,OAAmB5qD,GAAnB;AAAA,OAAwB6zE,QAAxB;AAAA,OAAkCC,KAAlC;AAAA,OAAyC7uE,CAAzC;AAAA,OAA4C8uE,UAA5C;AAAA,OACCtgF,IAAI,CADL;;AAGA,OAAKg2D,OAAOwB,UAAP,CAAmBr1D,KAAnB,CAAL,EAAkC;AACjC,WAAO,KAAK80D,IAAL,CAAW,UAAUzlD,CAAV,EAAc;AAC/BwkD,YAAQ,IAAR,EAAeuqB,WAAf,CAA4Bp+E,MAAMO,IAAN,CAAY,IAAZ,EAAkB8O,CAAlB,EAAqB2uE,SAAU,IAAV,CAArB,CAA5B;AACA,KAFM,CAAP;AAGA;;AAED,OAAK,CAACx9E,UAAU5D,MAAhB,EAAyB;AACxB,WAAO,KAAKohE,IAAL,CAAW,OAAX,EAAoB,EAApB,CAAP;AACA;;AAED,OAAK,OAAOh+D,KAAP,KAAiB,QAAjB,IAA6BA,KAAlC,EAA0C;AACzCke,cAAUle,MAAMlE,KAAN,CAAaypE,aAAb,KAAgC,EAA1C;;AAEA,WAAUvQ,OAAO,KAAMn3D,GAAN,CAAjB,EAAiC;AAChCogF,gBAAWD,SAAUhpB,IAAV,CAAX;;AAEA;AACA5qD,WAAM4qD,KAAK/1D,QAAL,KAAkB,CAAlB,IAAyB,MAAM8+E,iBAAkBE,QAAlB,CAAN,GAAqC,GAApE;;AAEA,SAAK7zE,GAAL,EAAW;AACViF,UAAI,CAAJ;AACA,aAAU6uE,QAAQhgE,QAAS7O,GAAT,CAAlB,EAAqC;;AAEpC;AACA,cAAQjF,IAAI5I,OAAJ,CAAa,MAAM08E,KAAN,GAAc,GAA3B,IAAmC,CAAC,CAA5C,EAAgD;AAC/C9zE,cAAMA,IAAIqJ,OAAJ,CAAa,MAAMyqE,KAAN,GAAc,GAA3B,EAAgC,GAAhC,CAAN;AACA;AACD;;AAED;AACAC,mBAAaJ,iBAAkB3zE,GAAlB,CAAb;AACA,UAAK6zE,aAAaE,UAAlB,EAA+B;AAC9BnpB,YAAKj3D,YAAL,CAAmB,OAAnB,EAA4BogF,UAA5B;AACA;AACD;AACD;AACD;;AAED,UAAO,IAAP;AACA,GAjFgB;;AAmFjBE,eAAa,qBAAUr+E,KAAV,EAAiBs+E,QAAjB,EAA4B;AACxC,OAAIhxE,cAActN,KAAd,yCAAcA,KAAd,CAAJ;;AAEA,OAAK,OAAOs+E,QAAP,KAAoB,SAApB,IAAiChxE,SAAS,QAA/C,EAA0D;AACzD,WAAOgxE,WAAW,KAAKh/E,QAAL,CAAeU,KAAf,CAAX,GAAoC,KAAKo+E,WAAL,CAAkBp+E,KAAlB,CAA3C;AACA;;AAED,OAAK6zD,OAAOwB,UAAP,CAAmBr1D,KAAnB,CAAL,EAAkC;AACjC,WAAO,KAAK80D,IAAL,CAAW,UAAUj3D,CAAV,EAAc;AAC/Bg2D,YAAQ,IAAR,EAAewqB,WAAf,CACCr+E,MAAMO,IAAN,CAAY,IAAZ,EAAkB1C,CAAlB,EAAqBmgF,SAAU,IAAV,CAArB,EAAuCM,QAAvC,CADD,EAECA,QAFD;AAIA,KALM,CAAP;AAMA;;AAED,UAAO,KAAKxpB,IAAL,CAAW,YAAW;AAC5B,QAAIt4D,SAAJ,EAAeqB,CAAf,EAAkBwmE,IAAlB,EAAwBka,UAAxB;;AAEA,QAAKjxE,SAAS,QAAd,EAAyB;;AAExB;AACAzP,SAAI,CAAJ;AACAwmE,YAAOxQ,OAAQ,IAAR,CAAP;AACA0qB,kBAAav+E,MAAMlE,KAAN,CAAaypE,aAAb,KAAgC,EAA7C;;AAEA,YAAU/oE,YAAY+hF,WAAY1gF,GAAZ,CAAtB,EAA4C;;AAE3C;AACA,UAAKwmE,KAAKma,QAAL,CAAehiF,SAAf,CAAL,EAAkC;AACjC6nE,YAAK+Z,WAAL,CAAkB5hF,SAAlB;AACA,OAFD,MAEO;AACN6nE,YAAK/kE,QAAL,CAAe9C,SAAf;AACA;AACD;;AAEF;AACC,KAlBD,MAkBO,IAAKwD,UAAUob,SAAV,IAAuB9N,SAAS,SAArC,EAAiD;AACvD9Q,iBAAYwhF,SAAU,IAAV,CAAZ;AACA,SAAKxhF,SAAL,EAAiB;;AAEhB;AACAiuE,eAAS9oE,GAAT,CAAc,IAAd,EAAoB,eAApB,EAAqCnF,SAArC;AACA;;AAED;AACA;AACA;AACA;AACA,SAAK,KAAKuB,YAAV,EAAyB;AACxB,WAAKA,YAAL,CAAmB,OAAnB,EACCvB,aAAawD,UAAU,KAAvB,GACA,EADA,GAEAyqE,SAASt8C,GAAT,CAAc,IAAd,EAAoB,eAApB,KAAyC,EAH1C;AAKA;AACD;AACD,IAzCM,CAAP;AA0CA,GA7IgB;;AA+IjBqwD,YAAU,kBAAU1qB,QAAV,EAAqB;AAC9B,OAAIt3D,SAAJ;AAAA,OAAew4D,IAAf;AAAA,OACCn3D,IAAI,CADL;;AAGArB,eAAY,MAAMs3D,QAAN,GAAiB,GAA7B;AACA,UAAUkB,OAAO,KAAMn3D,GAAN,CAAjB,EAAiC;AAChC,QAAKm3D,KAAK/1D,QAAL,KAAkB,CAAlB,IACJ,CAAE,MAAM8+E,iBAAkBC,SAAUhpB,IAAV,CAAlB,CAAN,GAA6C,GAA/C,EAAqDxzD,OAArD,CAA8DhF,SAA9D,IAA4E,CAAC,CAD9E,EACkF;AAChF,YAAO,IAAP;AACD;AACD;;AAED,UAAO,KAAP;AACA;AA5JgB,EAAlB;;AAkKA,KAAIiiF,UAAU,KAAd;;AAEA5qB,QAAOE,EAAP,CAAU5zB,MAAV,CAAkB;AACjB7lB,OAAK,aAAUta,KAAV,EAAkB;AACtB,OAAIqrE,KAAJ;AAAA,OAAW1W,GAAX;AAAA,OAAgBU,UAAhB;AAAA,OACCL,OAAO,KAAM,CAAN,CADR;;AAGA,OAAK,CAACx0D,UAAU5D,MAAhB,EAAyB;AACxB,QAAKo4D,IAAL,EAAY;AACXqW,aAAQxX,OAAO6qB,QAAP,CAAiB1pB,KAAK1nD,IAAtB,KACPumD,OAAO6qB,QAAP,CAAiB1pB,KAAK9G,QAAL,CAAc7pD,WAAd,EAAjB,CADD;;AAGA,SAAKgnE,SACJ,SAASA,KADL,IAEJ,CAAE1W,MAAM0W,MAAMl9C,GAAN,CAAW6mC,IAAX,EAAiB,OAAjB,CAAR,MAAyC55C,SAF1C,EAGE;AACD,aAAOu5C,GAAP;AACA;;AAEDA,WAAMK,KAAKh1D,KAAX;;AAEA;AACA,SAAK,OAAO20D,GAAP,KAAe,QAApB,EAA+B;AAC9B,aAAOA,IAAIlhD,OAAJ,CAAagrE,OAAb,EAAsB,EAAtB,CAAP;AACA;;AAED;AACA,YAAO9pB,OAAO,IAAP,GAAc,EAAd,GAAmBA,GAA1B;AACA;;AAED;AACA;;AAEDU,gBAAaxB,OAAOwB,UAAP,CAAmBr1D,KAAnB,CAAb;;AAEA,UAAO,KAAK80D,IAAL,CAAW,UAAUj3D,CAAV,EAAc;AAC/B,QAAIyc,GAAJ;;AAEA,QAAK,KAAKrb,QAAL,KAAkB,CAAvB,EAA2B;AAC1B;AACA;;AAED,QAAKo2D,UAAL,EAAkB;AACjB/6C,WAAMta,MAAMO,IAAN,CAAY,IAAZ,EAAkB1C,CAAlB,EAAqBg2D,OAAQ,IAAR,EAAev5C,GAAf,EAArB,CAAN;AACA,KAFD,MAEO;AACNA,WAAMta,KAAN;AACA;;AAED;AACA,QAAKsa,OAAO,IAAZ,EAAmB;AAClBA,WAAM,EAAN;AAEA,KAHD,MAGO,IAAK,OAAOA,GAAP,KAAe,QAApB,EAA+B;AACrCA,YAAO,EAAP;AAEA,KAHM,MAGA,IAAKja,MAAMk1D,OAAN,CAAej7C,GAAf,CAAL,EAA4B;AAClCA,WAAMu5C,OAAOzwD,GAAP,CAAYkX,GAAZ,EAAiB,UAAUta,KAAV,EAAkB;AACxC,aAAOA,SAAS,IAAT,GAAgB,EAAhB,GAAqBA,QAAQ,EAApC;AACA,MAFK,CAAN;AAGA;;AAEDqrE,YAAQxX,OAAO6qB,QAAP,CAAiB,KAAKpxE,IAAtB,KAAgCumD,OAAO6qB,QAAP,CAAiB,KAAKxwB,QAAL,CAAc7pD,WAAd,EAAjB,CAAxC;;AAEA;AACA,QAAK,CAACgnE,KAAD,IAAU,EAAG,SAASA,KAAZ,CAAV,IAAiCA,MAAM1pE,GAAN,CAAW,IAAX,EAAiB2Y,GAAjB,EAAsB,OAAtB,MAAoCc,SAA1E,EAAsF;AACrF,UAAKpb,KAAL,GAAasa,GAAb;AACA;AACD,IAhCM,CAAP;AAiCA;AAlEgB,EAAlB;;AAqEAu5C,QAAO1zB,MAAP,CAAe;AACdu+C,YAAU;AACTpgC,WAAQ;AACPnwB,SAAK,aAAU6mC,IAAV,EAAiB;;AAErB,SAAI16C,MAAMu5C,OAAOzkD,IAAP,CAAY4uD,IAAZ,CAAkBhJ,IAAlB,EAAwB,OAAxB,CAAV;AACA,YAAO16C,OAAO,IAAP,GACNA,GADM;;AAGN;AACA;AACA;AACA;AACAyjE,sBAAkBlqB,OAAO/pD,IAAP,CAAakrD,IAAb,CAAlB,CAPD;AAQA;AAZM,IADC;AAeTn1D,WAAQ;AACPsuB,SAAK,aAAU6mC,IAAV,EAAiB;AACrB,SAAIh1D,KAAJ;AAAA,SAAWs+C,MAAX;AAAA,SAAmBzgD,CAAnB;AAAA,SACCiN,UAAUkqD,KAAKlqD,OADhB;AAAA,SAECnO,QAAQq4D,KAAKoL,aAFd;AAAA,SAGC2O,MAAM/Z,KAAK1nD,IAAL,KAAc,YAHrB;AAAA,SAICw/D,SAASiC,MAAM,IAAN,GAAa,EAJvB;AAAA,SAKCpjE,MAAMojE,MAAMpyE,QAAQ,CAAd,GAAkBmO,QAAQlO,MALjC;;AAOA,SAAKD,QAAQ,CAAb,EAAiB;AAChBkB,UAAI8N,GAAJ;AAEA,MAHD,MAGO;AACN9N,UAAIkxE,MAAMpyE,KAAN,GAAc,CAAlB;AACA;;AAED;AACA,YAAQkB,IAAI8N,GAAZ,EAAiB9N,GAAjB,EAAuB;AACtBygD,eAASxzC,QAASjN,CAAT,CAAT;;AAEA;AACA;AACA,UAAK,CAAEygD,OAAOpK,QAAP,IAAmBr2C,MAAMlB,KAA3B;;AAEH;AACA,OAAC2hD,OAAO+R,QAHL,KAID,CAAC/R,OAAO3/C,UAAP,CAAkB0xD,QAAnB,IACD,CAACnC,SAAU5P,OAAO3/C,UAAjB,EAA6B,UAA7B,CALC,CAAL,EAKkD;;AAEjD;AACAqB,eAAQ6zD,OAAQvV,MAAR,EAAiBhkC,GAAjB,EAAR;;AAEA;AACA,WAAKy0D,GAAL,EAAW;AACV,eAAO/uE,KAAP;AACA;;AAED;AACA8sE,cAAO7pE,IAAP,CAAajD,KAAb;AACA;AACD;;AAED,YAAO8sE,MAAP;AACA,KA3CM;;AA6CPnrE,SAAK,aAAUqzD,IAAV,EAAgBh1D,KAAhB,EAAwB;AAC5B,SAAI2+E,SAAJ;AAAA,SAAergC,MAAf;AAAA,SACCxzC,UAAUkqD,KAAKlqD,OADhB;AAAA,SAECgiE,SAASjZ,OAAO2C,SAAP,CAAkBx2D,KAAlB,CAFV;AAAA,SAGCnC,IAAIiN,QAAQlO,MAHb;;AAKA,YAAQiB,GAAR,EAAc;AACbygD,eAASxzC,QAASjN,CAAT,CAAT;;AAEA;;AAEA,UAAKygD,OAAOpK,QAAP,GACJ2f,OAAO6C,OAAP,CAAgB7C,OAAO6qB,QAAP,CAAgBpgC,MAAhB,CAAuBnwB,GAAvB,CAA4BmwB,MAA5B,CAAhB,EAAsDwuB,MAAtD,IAAiE,CAAC,CADnE,EAEE;AACD6R,mBAAY,IAAZ;AACA;;AAED;AACA;;AAED;AACA,SAAK,CAACA,SAAN,EAAkB;AACjB3pB,WAAKoL,aAAL,GAAqB,CAAC,CAAtB;AACA;AACD,YAAO0M,MAAP;AACA;AAtEM;AAfC;AADI,EAAf;;AA2FA;AACAjZ,QAAOiB,IAAP,CAAa,CAAE,OAAF,EAAW,UAAX,CAAb,EAAsC,YAAW;AAChDjB,SAAO6qB,QAAP,CAAiB,IAAjB,IAA0B;AACzB/8E,QAAK,aAAUqzD,IAAV,EAAgBh1D,KAAhB,EAAwB;AAC5B,QAAKK,MAAMk1D,OAAN,CAAev1D,KAAf,CAAL,EAA8B;AAC7B,YAASg1D,KAAKmL,OAAL,GAAetM,OAAO6C,OAAP,CAAgB7C,OAAQmB,IAAR,EAAe16C,GAAf,EAAhB,EAAsCta,KAAtC,IAAgD,CAAC,CAAzE;AACA;AACD;AALwB,GAA1B;AAOA,MAAK,CAAC0zD,QAAQspB,OAAd,EAAwB;AACvBnpB,UAAO6qB,QAAP,CAAiB,IAAjB,EAAwBvwD,GAAxB,GAA8B,UAAU6mC,IAAV,EAAiB;AAC9C,WAAOA,KAAKpsC,YAAL,CAAmB,OAAnB,MAAiC,IAAjC,GAAwC,IAAxC,GAA+CosC,KAAKh1D,KAA3D;AACA,IAFD;AAGA;AACD,EAbD;;AAkBA;;;AAGA,KAAI4+E,cAAc,iCAAlB;;AAEA/qB,QAAO1zB,MAAP,CAAe0zB,OAAOvrB,KAAtB,EAA6B;;AAE5BipC,WAAS,iBAAUjpC,KAAV,EAAiBnf,IAAjB,EAAuB6rC,IAAvB,EAA6B6pB,YAA7B,EAA4C;;AAEpD,OAAIhhF,CAAJ;AAAA,OAAOuM,GAAP;AAAA,OAAY+sD,GAAZ;AAAA,OAAiB2nB,UAAjB;AAAA,OAA6BC,MAA7B;AAAA,OAAqC3yC,MAArC;AAAA,OAA6C5pB,OAA7C;AAAA,OACCw8D,YAAY,CAAEhqB,QAAQn6D,QAAV,CADb;AAAA,OAECyS,OAAOimD,OAAOhzD,IAAP,CAAa+nC,KAAb,EAAoB,MAApB,IAA+BA,MAAMh7B,IAArC,GAA4Cg7B,KAFpD;AAAA,OAGC+mC,aAAa9b,OAAOhzD,IAAP,CAAa+nC,KAAb,EAAoB,WAApB,IAAoCA,MAAMsnC,SAAN,CAAgBjwE,KAAhB,CAAuB,GAAvB,CAApC,GAAmE,EAHjF;;AAKAyK,SAAM+sD,MAAMnC,OAAOA,QAAQn6D,QAA3B;;AAEA;AACA,OAAKm6D,KAAK/1D,QAAL,KAAkB,CAAlB,IAAuB+1D,KAAK/1D,QAAL,KAAkB,CAA9C,EAAkD;AACjD;AACA;;AAED;AACA,OAAK2/E,YAAYtkF,IAAZ,CAAkBgT,OAAOumD,OAAOvrB,KAAP,CAAaknC,SAAtC,CAAL,EAAyD;AACxD;AACA;;AAED,OAAKliE,KAAK9L,OAAL,CAAc,GAAd,IAAsB,CAAC,CAA5B,EAAgC;;AAE/B;AACA6tE,iBAAa/hE,KAAK3N,KAAL,CAAY,GAAZ,CAAb;AACA2N,WAAO+hE,WAAWrmE,KAAX,EAAP;AACAqmE,eAAW/rC,IAAX;AACA;AACDy7C,YAASzxE,KAAK9L,OAAL,CAAc,GAAd,IAAsB,CAAtB,IAA2B,OAAO8L,IAA3C;;AAEA;AACAg7B,WAAQA,MAAOurB,OAAO2B,OAAd,IACPltB,KADO,GAEP,IAAIurB,OAAOod,KAAX,CAAkB3jE,IAAlB,EAAwB,QAAOg7B,KAAP,yCAAOA,KAAP,OAAiB,QAAjB,IAA6BA,KAArD,CAFD;;AAIA;AACAA,SAAM22C,SAAN,GAAkBJ,eAAe,CAAf,GAAmB,CAArC;AACAv2C,SAAMsnC,SAAN,GAAkBP,WAAW7/B,IAAX,CAAiB,GAAjB,CAAlB;AACAlH,SAAMqoC,UAAN,GAAmBroC,MAAMsnC,SAAN,GAClB,IAAIxzE,MAAJ,CAAY,YAAYizE,WAAW7/B,IAAX,CAAiB,eAAjB,CAAZ,GAAiD,SAA7D,CADkB,GAElB,IAFD;;AAIA;AACAlH,SAAMzwB,MAAN,GAAeuD,SAAf;AACA,OAAK,CAACktB,MAAM1nC,MAAZ,EAAqB;AACpB0nC,UAAM1nC,MAAN,GAAeo0D,IAAf;AACA;;AAED;AACA7rC,UAAOA,QAAQ,IAAR,GACN,CAAEmf,KAAF,CADM,GAENurB,OAAO2C,SAAP,CAAkBrtC,IAAlB,EAAwB,CAAEmf,KAAF,CAAxB,CAFD;;AAIA;AACA9lB,aAAUqxC,OAAOvrB,KAAP,CAAa9lB,OAAb,CAAsBlV,IAAtB,KAAgC,EAA1C;AACA,OAAK,CAACuxE,YAAD,IAAiBr8D,QAAQ+uD,OAAzB,IAAoC/uD,QAAQ+uD,OAAR,CAAgB9wE,KAAhB,CAAuBu0D,IAAvB,EAA6B7rC,IAA7B,MAAwC,KAAjF,EAAyF;AACxF;AACA;;AAED;AACA;AACA,OAAK,CAAC01D,YAAD,IAAiB,CAACr8D,QAAQ8uD,QAA1B,IAAsC,CAACzd,OAAOiC,QAAP,CAAiBd,IAAjB,CAA5C,EAAsE;;AAErE8pB,iBAAat8D,QAAQktD,YAAR,IAAwBpiE,IAArC;AACA,QAAK,CAACsxE,YAAYtkF,IAAZ,CAAkBwkF,aAAaxxE,IAA/B,CAAN,EAA8C;AAC7ClD,WAAMA,IAAIzL,UAAV;AACA;AACD,WAAQyL,GAAR,EAAaA,MAAMA,IAAIzL,UAAvB,EAAoC;AACnCqgF,eAAU/7E,IAAV,CAAgBmH,GAAhB;AACA+sD,WAAM/sD,GAAN;AACA;;AAED;AACA,QAAK+sD,SAAUnC,KAAK58C,aAAL,IAAsBvd,QAAhC,CAAL,EAAkD;AACjDmkF,eAAU/7E,IAAV,CAAgBk0D,IAAIuF,WAAJ,IAAmBvF,IAAI+nB,YAAvB,IAAuCjnE,MAAvD;AACA;AACD;;AAED;AACApa,OAAI,CAAJ;AACA,UAAQ,CAAEuM,MAAM40E,UAAWnhF,GAAX,CAAR,KAA8B,CAACyqC,MAAMkoC,oBAAN,EAAvC,EAAsE;;AAErEloC,UAAMh7B,IAAN,GAAazP,IAAI,CAAJ,GACZihF,UADY,GAEZt8D,QAAQmtD,QAAR,IAAoBriE,IAFrB;;AAIA;AACA8+B,aAAS,CAAEq+B,SAASt8C,GAAT,CAAc/jB,GAAd,EAAmB,QAAnB,KAAiC,EAAnC,EAAyCk+B,MAAMh7B,IAA/C,KACRm9D,SAASt8C,GAAT,CAAc/jB,GAAd,EAAmB,QAAnB,CADD;AAEA,QAAKgiC,MAAL,EAAc;AACbA,YAAO3rC,KAAP,CAAc2J,GAAd,EAAmB+e,IAAnB;AACA;;AAED;AACAijB,aAAS2yC,UAAU30E,IAAK20E,MAAL,CAAnB;AACA,QAAK3yC,UAAUA,OAAO3rC,KAAjB,IAA0BypE,WAAY9/D,GAAZ,CAA/B,EAAmD;AAClDk+B,WAAMzwB,MAAN,GAAeu0B,OAAO3rC,KAAP,CAAc2J,GAAd,EAAmB+e,IAAnB,CAAf;AACA,SAAKmf,MAAMzwB,MAAN,KAAiB,KAAtB,EAA8B;AAC7BywB,YAAM/yB,cAAN;AACA;AACD;AACD;AACD+yB,SAAMh7B,IAAN,GAAaA,IAAb;;AAEA;AACA,OAAK,CAACuxE,YAAD,IAAiB,CAACv2C,MAAMopC,kBAAN,EAAvB,EAAoD;;AAEnD,QAAK,CAAE,CAAClvD,QAAQ+qD,QAAT,IACN/qD,QAAQ+qD,QAAR,CAAiB9sE,KAAjB,CAAwBu+E,UAAUl4C,GAAV,EAAxB,EAAyC3d,IAAzC,MAAoD,KADhD,KAEJ+gD,WAAYlV,IAAZ,CAFD,EAEsB;;AAErB;AACA;AACA,SAAK+pB,UAAUlrB,OAAOwB,UAAP,CAAmBL,KAAM1nD,IAAN,CAAnB,CAAV,IAA+C,CAACumD,OAAOiC,QAAP,CAAiBd,IAAjB,CAArD,EAA+E;;AAE9E;AACAmC,YAAMnC,KAAM+pB,MAAN,CAAN;;AAEA,UAAK5nB,GAAL,EAAW;AACVnC,YAAM+pB,MAAN,IAAiB,IAAjB;AACA;;AAED;AACAlrB,aAAOvrB,KAAP,CAAaknC,SAAb,GAAyBliE,IAAzB;AACA0nD,WAAM1nD,IAAN;AACAumD,aAAOvrB,KAAP,CAAaknC,SAAb,GAAyBp0D,SAAzB;;AAEA,UAAK+7C,GAAL,EAAW;AACVnC,YAAM+pB,MAAN,IAAiB5nB,GAAjB;AACA;AACD;AACD;AACD;;AAED,UAAO7uB,MAAMzwB,MAAb;AACA,GAvI2B;;AAyI5B;AACA;AACAsnE,YAAU,kBAAU7xE,IAAV,EAAgB0nD,IAAhB,EAAsB1sB,KAAtB,EAA8B;AACvC,OAAIxrC,IAAI+2D,OAAO1zB,MAAP,CACP,IAAI0zB,OAAOod,KAAX,EADO,EAEP3oC,KAFO,EAGP;AACCh7B,UAAMA,IADP;AAECukE,iBAAa;AAFd,IAHO,CAAR;;AASAhe,UAAOvrB,KAAP,CAAaipC,OAAb,CAAsBz0E,CAAtB,EAAyB,IAAzB,EAA+Bk4D,IAA/B;AACA;;AAtJ2B,EAA7B;;AA0JAnB,QAAOE,EAAP,CAAU5zB,MAAV,CAAkB;;AAEjBoxC,WAAS,iBAAUjkE,IAAV,EAAgB6b,IAAhB,EAAuB;AAC/B,UAAO,KAAK2rC,IAAL,CAAW,YAAW;AAC5BjB,WAAOvrB,KAAP,CAAaipC,OAAb,CAAsBjkE,IAAtB,EAA4B6b,IAA5B,EAAkC,IAAlC;AACA,IAFM,CAAP;AAGA,GANgB;AAOjBi2D,kBAAgB,wBAAU9xE,IAAV,EAAgB6b,IAAhB,EAAuB;AACtC,OAAI6rC,OAAO,KAAM,CAAN,CAAX;AACA,OAAKA,IAAL,EAAY;AACX,WAAOnB,OAAOvrB,KAAP,CAAaipC,OAAb,CAAsBjkE,IAAtB,EAA4B6b,IAA5B,EAAkC6rC,IAAlC,EAAwC,IAAxC,CAAP;AACA;AACD;AAZgB,EAAlB;;AAgBAnB,QAAOiB,IAAP,CAAa,CAAE,8DACd,uEADc,GAEd,yDAFY,EAEgDn1D,KAFhD,CAEuD,GAFvD,CAAb,EAGC,UAAU9B,CAAV,EAAaqb,IAAb,EAAoB;;AAEpB;AACA26C,SAAOE,EAAP,CAAW76C,IAAX,IAAoB,UAAUiQ,IAAV,EAAgB4qC,EAAhB,EAAqB;AACxC,UAAOvzD,UAAU5D,MAAV,GAAmB,CAAnB,GACN,KAAK8X,EAAL,CAASwE,IAAT,EAAe,IAAf,EAAqBiQ,IAArB,EAA2B4qC,EAA3B,CADM,GAEN,KAAKwd,OAAL,CAAcr4D,IAAd,CAFD;AAGA,GAJD;AAKA,EAXD;;AAaA26C,QAAOE,EAAP,CAAU5zB,MAAV,CAAkB;AACjBk/C,SAAO,eAAUC,MAAV,EAAkBC,KAAlB,EAA0B;AAChC,UAAO,KAAK3M,UAAL,CAAiB0M,MAAjB,EAA0BzM,UAA1B,CAAsC0M,SAASD,MAA/C,CAAP;AACA;AAHgB,EAAlB;;AASA5rB,SAAQ8rB,OAAR,GAAkB,eAAevnE,MAAjC;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK,CAACy7C,QAAQ8rB,OAAd,EAAwB;AACvB3rB,SAAOiB,IAAP,CAAa,EAAE//B,OAAO,SAAT,EAAoBmtB,MAAM,UAA1B,EAAb,EAAqD,UAAU8wB,IAAV,EAAgB5C,GAAhB,EAAsB;;AAE1E;AACA,OAAIvU,UAAU,SAAVA,OAAU,CAAUvzB,KAAV,EAAkB;AAC/BurB,WAAOvrB,KAAP,CAAa62C,QAAb,CAAuB/O,GAAvB,EAA4B9nC,MAAM1nC,MAAlC,EAA0CizD,OAAOvrB,KAAP,CAAa8nC,GAAb,CAAkB9nC,KAAlB,CAA1C;AACA,IAFD;;AAIAurB,UAAOvrB,KAAP,CAAa9lB,OAAb,CAAsB4tD,GAAtB,IAA8B;AAC7BN,WAAO,iBAAW;AACjB,SAAInqE,MAAM,KAAKyS,aAAL,IAAsB,IAAhC;AAAA,SACCqnE,WAAWhV,SAASZ,MAAT,CAAiBlkE,GAAjB,EAAsByqE,GAAtB,CADZ;;AAGA,SAAK,CAACqP,QAAN,EAAiB;AAChB95E,UAAIiP,gBAAJ,CAAsBo+D,IAAtB,EAA4BnX,OAA5B,EAAqC,IAArC;AACA;AACD4O,cAASZ,MAAT,CAAiBlkE,GAAjB,EAAsByqE,GAAtB,EAA2B,CAAEqP,YAAY,CAAd,IAAoB,CAA/C;AACA,KAT4B;AAU7BxP,cAAU,oBAAW;AACpB,SAAItqE,MAAM,KAAKyS,aAAL,IAAsB,IAAhC;AAAA,SACCqnE,WAAWhV,SAASZ,MAAT,CAAiBlkE,GAAjB,EAAsByqE,GAAtB,IAA8B,CAD1C;;AAGA,SAAK,CAACqP,QAAN,EAAiB;AAChB95E,UAAIsP,mBAAJ,CAAyB+9D,IAAzB,EAA+BnX,OAA/B,EAAwC,IAAxC;AACA4O,eAAS3lC,MAAT,CAAiBn/B,GAAjB,EAAsByqE,GAAtB;AAEA,MAJD,MAIO;AACN3F,eAASZ,MAAT,CAAiBlkE,GAAjB,EAAsByqE,GAAtB,EAA2BqP,QAA3B;AACA;AACD;AArB4B,IAA9B;AAuBA,GA9BD;AA+BA;AACD,KAAIxtB,WAAWh6C,OAAOg6C,QAAtB;;AAEA,KAAIytB,QAAQ7rB,OAAOjW,GAAP,EAAZ;;AAEA,KAAI+hC,SAAW,IAAf;;AAIA;AACA9rB,QAAO+rB,QAAP,GAAkB,UAAUz2D,IAAV,EAAiB;AAClC,MAAIg2C,GAAJ;AACA,MAAK,CAACh2C,IAAD,IAAS,OAAOA,IAAP,KAAgB,QAA9B,EAAyC;AACxC,UAAO,IAAP;AACA;;AAED;AACA;AACA,MAAI;AACHg2C,SAAQ,IAAIlnD,OAAO4nE,SAAX,EAAF,CAA2BC,eAA3B,CAA4C32D,IAA5C,EAAkD,UAAlD,CAAN;AACA,GAFD,CAEE,OAAQrsB,CAAR,EAAY;AACbqiE,SAAM/jD,SAAN;AACA;;AAED,MAAK,CAAC+jD,GAAD,IAAQA,IAAInE,oBAAJ,CAA0B,aAA1B,EAA0Cp+D,MAAvD,EAAgE;AAC/Di3D,UAAO8B,KAAP,CAAc,kBAAkBxsC,IAAhC;AACA;AACD,SAAOg2C,GAAP;AACA,EAlBD;;AAqBA,KACC4gB,WAAW,OADZ;AAAA,KAECC,QAAQ,QAFT;AAAA,KAGCC,kBAAkB,uCAHnB;AAAA,KAICC,eAAe,oCAJhB;;AAMA,UAASC,WAAT,CAAsB/H,MAAtB,EAA8Bz3E,GAA9B,EAAmCy/E,WAAnC,EAAgDttD,GAAhD,EAAsD;AACrD,MAAI5Z,IAAJ;;AAEA,MAAK7Y,MAAMk1D,OAAN,CAAe50D,GAAf,CAAL,EAA4B;;AAE3B;AACAkzD,UAAOiB,IAAP,CAAan0D,GAAb,EAAkB,UAAU9C,CAAV,EAAastC,CAAb,EAAiB;AAClC,QAAKi1C,eAAeL,SAASzlF,IAAT,CAAe89E,MAAf,CAApB,EAA8C;;AAE7C;AACAtlD,SAAKslD,MAAL,EAAajtC,CAAb;AAEA,KALD,MAKO;;AAEN;AACAg1C,iBACC/H,SAAS,GAAT,IAAiB,QAAOjtC,CAAP,yCAAOA,CAAP,OAAa,QAAb,IAAyBA,KAAK,IAA9B,GAAqCttC,CAArC,GAAyC,EAA1D,IAAiE,GADlE,EAECstC,CAFD,EAGCi1C,WAHD,EAICttD,GAJD;AAMA;AACD,IAhBD;AAkBA,GArBD,MAqBO,IAAK,CAACstD,WAAD,IAAgBvsB,OAAOvmD,IAAP,CAAa3M,GAAb,MAAuB,QAA5C,EAAuD;;AAE7D;AACA,QAAMuY,IAAN,IAAcvY,GAAd,EAAoB;AACnBw/E,gBAAa/H,SAAS,GAAT,GAAel/D,IAAf,GAAsB,GAAnC,EAAwCvY,IAAKuY,IAAL,CAAxC,EAAqDknE,WAArD,EAAkEttD,GAAlE;AACA;AAED,GAPM,MAOA;;AAEN;AACAA,OAAKslD,MAAL,EAAaz3E,GAAb;AACA;AACD;;AAED;AACA;AACAkzD,QAAOwsB,KAAP,GAAe,UAAU7gF,CAAV,EAAa4gF,WAAb,EAA2B;AACzC,MAAIhI,MAAJ;AAAA,MACCkI,IAAI,EADL;AAAA,MAECxtD,MAAM,SAANA,GAAM,CAAU7H,GAAV,EAAes1D,eAAf,EAAiC;;AAEtC;AACA,OAAIvgF,QAAQ6zD,OAAOwB,UAAP,CAAmBkrB,eAAnB,IACXA,iBADW,GAEXA,eAFD;;AAIAD,KAAGA,EAAE1jF,MAAL,IAAgB4jF,mBAAoBv1D,GAApB,IAA4B,GAA5B,GACfu1D,mBAAoBxgF,SAAS,IAAT,GAAgB,EAAhB,GAAqBA,KAAzC,CADD;AAEA,GAXF;;AAaA;AACA,MAAKK,MAAMk1D,OAAN,CAAe/1D,CAAf,KAAwBA,EAAE80D,MAAF,IAAY,CAACT,OAAOyB,aAAP,CAAsB91D,CAAtB,CAA1C,EAAwE;;AAEvE;AACAq0D,UAAOiB,IAAP,CAAat1D,CAAb,EAAgB,YAAW;AAC1BszB,QAAK,KAAK5Z,IAAV,EAAgB,KAAKlZ,KAArB;AACA,IAFD;AAIA,GAPD,MAOO;;AAEN;AACA;AACA,QAAMo4E,MAAN,IAAgB54E,CAAhB,EAAoB;AACnB2gF,gBAAa/H,MAAb,EAAqB54E,EAAG44E,MAAH,CAArB,EAAkCgI,WAAlC,EAA+CttD,GAA/C;AACA;AACD;;AAED;AACA,SAAOwtD,EAAE9wC,IAAF,CAAQ,GAAR,CAAP;AACA,EAjCD;;AAmCAqkB,QAAOE,EAAP,CAAU5zB,MAAV,CAAkB;AACjBsgD,aAAW,qBAAW;AACrB,UAAO5sB,OAAOwsB,KAAP,CAAc,KAAKK,cAAL,EAAd,CAAP;AACA,GAHgB;AAIjBA,kBAAgB,0BAAW;AAC1B,UAAO,KAAKt9E,GAAL,CAAU,YAAW;;AAE3B;AACA,QAAI26D,WAAWlK,OAAO/yD,IAAP,CAAa,IAAb,EAAmB,UAAnB,CAAf;AACA,WAAOi9D,WAAWlK,OAAO2C,SAAP,CAAkBuH,QAAlB,CAAX,GAA0C,IAAjD;AACA,IALM,EAMN9yB,MANM,CAME,YAAW;AACnB,QAAI39B,OAAO,KAAKA,IAAhB;;AAEA;AACA,WAAO,KAAK4L,IAAL,IAAa,CAAC26C,OAAQ,IAAR,EAAe+P,EAAf,CAAmB,WAAnB,CAAd,IACNsc,aAAa5lF,IAAb,CAAmB,KAAK4zD,QAAxB,CADM,IACgC,CAAC+xB,gBAAgB3lF,IAAhB,CAAsBgT,IAAtB,CADjC,KAEJ,KAAK6yD,OAAL,IAAgB,CAAC6M,eAAe1yE,IAAf,CAAqBgT,IAArB,CAFb,CAAP;AAGA,IAbM,EAcNlK,GAdM,CAcD,UAAUvF,CAAV,EAAam3D,IAAb,EAAoB;AACzB,QAAI16C,MAAMu5C,OAAQ,IAAR,EAAev5C,GAAf,EAAV;;AAEA,QAAKA,OAAO,IAAZ,EAAmB;AAClB,YAAO,IAAP;AACA;;AAED,QAAKja,MAAMk1D,OAAN,CAAej7C,GAAf,CAAL,EAA4B;AAC3B,YAAOu5C,OAAOzwD,GAAP,CAAYkX,GAAZ,EAAiB,UAAUA,GAAV,EAAgB;AACvC,aAAO,EAAEpB,MAAM87C,KAAK97C,IAAb,EAAmBlZ,OAAOsa,IAAI7G,OAAJ,CAAausE,KAAb,EAAoB,MAApB,CAA1B,EAAP;AACA,MAFM,CAAP;AAGA;;AAED,WAAO,EAAE9mE,MAAM87C,KAAK97C,IAAb,EAAmBlZ,OAAOsa,IAAI7G,OAAJ,CAAausE,KAAb,EAAoB,MAApB,CAA1B,EAAP;AACA,IA5BM,EA4BH7xD,GA5BG,EAAP;AA6BA;AAlCgB,EAAlB;;AAsCA,KACCwyD,MAAM,MADP;AAAA,KAECC,QAAQ,MAFT;AAAA,KAGCC,aAAa,eAHd;AAAA,KAICC,WAAW,4BAJZ;;;AAMC;AACAC,kBAAiB,2DAPlB;AAAA,KAQCC,aAAa,gBARd;AAAA,KASCC,YAAY,OATb;;;AAWC;;;;;;;;;AASA9F,cAAa,EApBd;;;AAsBC;;;;;AAKA+F,cAAa,EA3Bd;;;AA6BC;AACAC,YAAW,KAAKt0E,MAAL,CAAa,GAAb,CA9BZ;;;AAgCC;AACAu0E,gBAAevmF,SAAS6C,aAAT,CAAwB,GAAxB,CAjChB;AAkCC0jF,cAAalhB,IAAb,GAAoBjO,SAASiO,IAA7B;;AAED;AACA,UAASmhB,2BAAT,CAAsCC,SAAtC,EAAkD;;AAEjD;AACA,SAAO,UAAUC,kBAAV,EAA8BlwB,IAA9B,EAAqC;;AAE3C,OAAK,OAAOkwB,kBAAP,KAA8B,QAAnC,EAA8C;AAC7ClwB,WAAOkwB,kBAAP;AACAA,yBAAqB,GAArB;AACA;;AAED,OAAIC,QAAJ;AAAA,OACC3jF,IAAI,CADL;AAAA,OAEC4jF,YAAYF,mBAAmBl9E,WAAnB,GAAiCvI,KAAjC,CAAwCypE,aAAxC,KAA2D,EAFxE;;AAIA,OAAK1R,OAAOwB,UAAP,CAAmBhE,IAAnB,CAAL,EAAiC;;AAEhC;AACA,WAAUmwB,WAAWC,UAAW5jF,GAAX,CAArB,EAA0C;;AAEzC;AACA,SAAK2jF,SAAU,CAAV,MAAkB,GAAvB,EAA6B;AAC5BA,iBAAWA,SAAS9kF,KAAT,CAAgB,CAAhB,KAAuB,GAAlC;AACA,OAAE4kF,UAAWE,QAAX,IAAwBF,UAAWE,QAAX,KAAyB,EAAnD,EAAwDltE,OAAxD,CAAiE+8C,IAAjE;;AAED;AACC,MALD,MAKO;AACN,OAAEiwB,UAAWE,QAAX,IAAwBF,UAAWE,QAAX,KAAyB,EAAnD,EAAwDv+E,IAAxD,CAA8DouD,IAA9D;AACA;AACD;AACD;AACD,GA3BD;AA4BA;;AAED;AACA,UAASqwB,6BAAT,CAAwCJ,SAAxC,EAAmDx2E,OAAnD,EAA4D0wE,eAA5D,EAA6EmG,KAA7E,EAAqF;;AAEpF,MAAIC,YAAY,EAAhB;AAAA,MACCC,mBAAqBP,cAAcJ,UADpC;;AAGA,WAASY,OAAT,CAAkBN,QAAlB,EAA6B;AAC5B,OAAIttC,QAAJ;AACA0tC,aAAWJ,QAAX,IAAwB,IAAxB;AACA3tB,UAAOiB,IAAP,CAAawsB,UAAWE,QAAX,KAAyB,EAAtC,EAA0C,UAAUznB,CAAV,EAAagoB,kBAAb,EAAkC;AAC3E,QAAIC,sBAAsBD,mBAAoBj3E,OAApB,EAA6B0wE,eAA7B,EAA8CmG,KAA9C,CAA1B;AACA,QAAK,OAAOK,mBAAP,KAA+B,QAA/B,IACJ,CAACH,gBADG,IACiB,CAACD,UAAWI,mBAAX,CADvB,EAC0D;;AAEzDl3E,aAAQ22E,SAAR,CAAkBntE,OAAlB,CAA2B0tE,mBAA3B;AACAF,aAASE,mBAAT;AACA,YAAO,KAAP;AACA,KAND,MAMO,IAAKH,gBAAL,EAAwB;AAC9B,YAAO,EAAG3tC,WAAW8tC,mBAAd,CAAP;AACA;AACD,IAXD;AAYA,UAAO9tC,QAAP;AACA;;AAED,SAAO4tC,QAASh3E,QAAQ22E,SAAR,CAAmB,CAAnB,CAAT,KAAqC,CAACG,UAAW,GAAX,CAAD,IAAqBE,QAAS,GAAT,CAAjE;AACA;;AAED;AACA;AACA;AACA,UAASG,UAAT,CAAqBrhF,MAArB,EAA6B4zC,GAA7B,EAAmC;AAClC,MAAIvpB,GAAJ;AAAA,MAASmqC,IAAT;AAAA,MACC8sB,cAAcruB,OAAOsuB,YAAP,CAAoBD,WAApB,IAAmC,EADlD;;AAGA,OAAMj3D,GAAN,IAAaupB,GAAb,EAAmB;AAClB,OAAKA,IAAKvpB,GAAL,MAAe7P,SAApB,EAAgC;AAC/B,KAAE8mE,YAAaj3D,GAAb,IAAqBrqB,MAArB,GAAgCw0D,SAAUA,OAAO,EAAjB,CAAlC,EAA6DnqC,GAA7D,IAAqEupB,IAAKvpB,GAAL,CAArE;AACA;AACD;AACD,MAAKmqC,IAAL,EAAY;AACXvB,UAAO1zB,MAAP,CAAe,IAAf,EAAqBv/B,MAArB,EAA6Bw0D,IAA7B;AACA;;AAED,SAAOx0D,MAAP;AACA;;AAED;;;;AAIA,UAASwhF,mBAAT,CAA8B9B,CAA9B,EAAiCqB,KAAjC,EAAwCU,SAAxC,EAAoD;;AAEnD,MAAIC,EAAJ;AAAA,MAAQh1E,IAAR;AAAA,MAAci1E,aAAd;AAAA,MAA6BC,aAA7B;AAAA,MACClwB,WAAWguB,EAAEhuB,QADd;AAAA,MAECmvB,YAAYnB,EAAEmB,SAFf;;AAIA;AACA,SAAQA,UAAW,CAAX,MAAmB,GAA3B,EAAiC;AAChCA,aAAUz4E,KAAV;AACA,OAAKs5E,OAAOlnE,SAAZ,EAAwB;AACvBknE,SAAKhC,EAAEmC,QAAF,IAAcd,MAAMe,iBAAN,CAAyB,cAAzB,CAAnB;AACA;AACD;;AAED;AACA,MAAKJ,EAAL,EAAU;AACT,QAAMh1E,IAAN,IAAcglD,QAAd,EAAyB;AACxB,QAAKA,SAAUhlD,IAAV,KAAoBglD,SAAUhlD,IAAV,EAAiBhT,IAAjB,CAAuBgoF,EAAvB,CAAzB,EAAuD;AACtDb,eAAUntE,OAAV,CAAmBhH,IAAnB;AACA;AACA;AACD;AACD;;AAED;AACA,MAAKm0E,UAAW,CAAX,KAAkBY,SAAvB,EAAmC;AAClCE,mBAAgBd,UAAW,CAAX,CAAhB;AACA,GAFD,MAEO;;AAEN;AACA,QAAMn0E,IAAN,IAAc+0E,SAAd,EAA0B;AACzB,QAAK,CAACZ,UAAW,CAAX,CAAD,IAAmBnB,EAAEqC,UAAF,CAAcr1E,OAAO,GAAP,GAAam0E,UAAW,CAAX,CAA3B,CAAxB,EAAsE;AACrEc,qBAAgBj1E,IAAhB;AACA;AACA;AACD,QAAK,CAACk1E,aAAN,EAAsB;AACrBA,qBAAgBl1E,IAAhB;AACA;AACD;;AAED;AACAi1E,mBAAgBA,iBAAiBC,aAAjC;AACA;;AAED;AACA;AACA;AACA,MAAKD,aAAL,EAAqB;AACpB,OAAKA,kBAAkBd,UAAW,CAAX,CAAvB,EAAwC;AACvCA,cAAUntE,OAAV,CAAmBiuE,aAAnB;AACA;AACD,UAAOF,UAAWE,aAAX,CAAP;AACA;AACD;;AAED;;;AAGA,UAASK,WAAT,CAAsBtC,CAAtB,EAAyBuC,QAAzB,EAAmClB,KAAnC,EAA0CmB,SAA1C,EAAsD;AACrD,MAAIC,KAAJ;AAAA,MAAWxmF,OAAX;AAAA,MAAoBymF,IAApB;AAAA,MAA0B7rB,GAA1B;AAAA,MAA+BhkD,IAA/B;AAAA,MACCwvE,aAAa,EADd;;;AAGC;AACAlB,cAAYnB,EAAEmB,SAAF,CAAY/kF,KAAZ,EAJb;;AAMA;AACA,MAAK+kF,UAAW,CAAX,CAAL,EAAsB;AACrB,QAAMuB,IAAN,IAAc1C,EAAEqC,UAAhB,EAA6B;AAC5BA,eAAYK,KAAK3+E,WAAL,EAAZ,IAAmCi8E,EAAEqC,UAAF,CAAcK,IAAd,CAAnC;AACA;AACD;;AAEDzmF,YAAUklF,UAAUz4E,KAAV,EAAV;;AAEA;AACA,SAAQzM,OAAR,EAAkB;;AAEjB,OAAK+jF,EAAE2C,cAAF,CAAkB1mF,OAAlB,CAAL,EAAmC;AAClColF,UAAOrB,EAAE2C,cAAF,CAAkB1mF,OAAlB,CAAP,IAAuCsmF,QAAvC;AACA;;AAED;AACA,OAAK,CAAC1vE,IAAD,IAAS2vE,SAAT,IAAsBxC,EAAE4C,UAA7B,EAA0C;AACzCL,eAAWvC,EAAE4C,UAAF,CAAcL,QAAd,EAAwBvC,EAAEkB,QAA1B,CAAX;AACA;;AAEDruE,UAAO5W,OAAP;AACAA,aAAUklF,UAAUz4E,KAAV,EAAV;;AAEA,OAAKzM,OAAL,EAAe;;AAEd;AACA,QAAKA,YAAY,GAAjB,EAAuB;;AAEtBA,eAAU4W,IAAV;;AAED;AACC,KALD,MAKO,IAAKA,SAAS,GAAT,IAAgBA,SAAS5W,OAA9B,EAAwC;;AAE9C;AACAymF,YAAOL,WAAYxvE,OAAO,GAAP,GAAa5W,OAAzB,KAAsComF,WAAY,OAAOpmF,OAAnB,CAA7C;;AAEA;AACA,SAAK,CAACymF,IAAN,EAAa;AACZ,WAAMD,KAAN,IAAeJ,UAAf,EAA4B;;AAE3B;AACAxrB,aAAM4rB,MAAMpjF,KAAN,CAAa,GAAb,CAAN;AACA,WAAKw3D,IAAK,CAAL,MAAa56D,OAAlB,EAA4B;;AAE3B;AACAymF,eAAOL,WAAYxvE,OAAO,GAAP,GAAagkD,IAAK,CAAL,CAAzB,KACNwrB,WAAY,OAAOxrB,IAAK,CAAL,CAAnB,CADD;AAEA,YAAK6rB,IAAL,EAAY;;AAEX;AACA,aAAKA,SAAS,IAAd,EAAqB;AACpBA,iBAAOL,WAAYI,KAAZ,CAAP;;AAED;AACC,UAJD,MAIO,IAAKJ,WAAYI,KAAZ,MAAwB,IAA7B,EAAoC;AAC1CxmF,oBAAU46D,IAAK,CAAL,CAAV;AACAsqB,oBAAUntE,OAAV,CAAmB6iD,IAAK,CAAL,CAAnB;AACA;AACD;AACA;AACD;AACD;AACD;;AAED;AACA,SAAK6rB,SAAS,IAAd,EAAqB;;AAEpB;AACA,UAAKA,QAAQ1C,EAAE6C,MAAf,EAAwB;AACvBN,kBAAWG,KAAMH,QAAN,CAAX;AACA,OAFD,MAEO;AACN,WAAI;AACHA,mBAAWG,KAAMH,QAAN,CAAX;AACA,QAFD,CAEE,OAAQ/lF,CAAR,EAAY;AACb,eAAO;AACNsd,gBAAO,aADD;AAENu7C,gBAAOqtB,OAAOlmF,CAAP,GAAW,wBAAwBqW,IAAxB,GAA+B,MAA/B,GAAwC5W;AAFpD,SAAP;AAIA;AACD;AACD;AACD;AACD;AACD;;AAED,SAAO,EAAE6d,OAAO,SAAT,EAAoB+O,MAAM05D,QAA1B,EAAP;AACA;;AAEDhvB,QAAO1zB,MAAP,CAAe;;AAEd;AACAF,UAAQ,CAHM;;AAKd;AACAmjD,gBAAc,EANA;AAOdC,QAAM,EAPQ;;AASdlB,gBAAc;AACbmB,QAAKrxB,SAASiO,IADD;AAEb5yD,SAAM,KAFO;AAGbi2E,YAASxC,eAAezmF,IAAf,CAAqB23D,SAASuxB,QAA9B,CAHI;AAIb3pF,WAAQ,IAJK;AAKb4pF,gBAAa,IALA;AAMbC,UAAO,IANM;AAObC,gBAAa,kDAPA;;AASb;;;;;;;;;;;;AAYAC,YAAS;AACR,SAAKzC,QADG;AAERr3E,UAAM,YAFE;AAGRsoD,UAAM,WAHE;AAIR+M,SAAK,2BAJG;AAKR0kB,UAAM;AALE,IArBI;;AA6BbvxB,aAAU;AACT6M,SAAK,SADI;AAET/M,UAAM,QAFG;AAGTyxB,UAAM;AAHG,IA7BG;;AAmCbZ,mBAAgB;AACf9jB,SAAK,aADU;AAEfr1D,UAAM,cAFS;AAGf+5E,UAAM;AAHS,IAnCH;;AAyCb;AACA;AACAlB,eAAY;;AAEX;AACA,cAAU53E,MAHC;;AAKX;AACA,iBAAa,IANF;;AAQX;AACA,iBAAa8/D,KAAKC,KATP;;AAWX;AACA,gBAAYjX,OAAO+rB;AAZR,IA3CC;;AA0Db;AACA;AACA;AACA;AACAsC,gBAAa;AACZoB,SAAK,IADO;AAEZjmE,aAAS;AAFG;AA9DA,GATA;;AA6Ed;AACA;AACA;AACAymE,aAAW,mBAAUljF,MAAV,EAAkBmjF,QAAlB,EAA6B;AACvC,UAAOA;;AAEN;AACA9B,cAAYA,WAAYrhF,MAAZ,EAAoBizD,OAAOsuB,YAA3B,CAAZ,EAAuD4B,QAAvD,CAHM;;AAKN;AACA9B,cAAYpuB,OAAOsuB,YAAnB,EAAiCvhF,MAAjC,CAND;AAOA,GAxFa;;AA0FdojF,iBAAe3C,4BAA6BlG,UAA7B,CA1FD;AA2Fd8I,iBAAe5C,4BAA6BH,UAA7B,CA3FD;;AA6Fd;AACAgD,QAAM,cAAUZ,GAAV,EAAex4E,OAAf,EAAyB;;AAE9B;AACA,OAAK,QAAOw4E,GAAP,yCAAOA,GAAP,OAAe,QAApB,EAA+B;AAC9Bx4E,cAAUw4E,GAAV;AACAA,UAAMloE,SAAN;AACA;;AAED;AACAtQ,aAAUA,WAAW,EAArB;;AAEA,OAAIq5E,SAAJ;;;AAEC;AACAC,WAHD;;;AAKC;AACAC,wBAND;AAAA,OAOCC,eAPD;;;AASC;AACAC,eAVD;;;AAYC;AACAC,YAbD;;;AAeC;AACA7a,YAhBD;;;AAkBC;AACA8a,cAnBD;;;AAqBC;AACA5mF,IAtBD;;;AAwBC;AACA6mF,WAzBD;;;AA2BC;AACApE,OAAIzsB,OAAOiwB,SAAP,CAAkB,EAAlB,EAAsBh5E,OAAtB,CA5BL;;;AA8BC;AACA65E,qBAAkBrE,EAAEjjE,OAAF,IAAaijE,CA/BhC;;;AAiCC;AACAsE,wBAAqBtE,EAAEjjE,OAAF,KAClBsnE,gBAAgB1lF,QAAhB,IAA4B0lF,gBAAgBrwB,MAD1B,IAEnBT,OAAQ8wB,eAAR,CAFmB,GAGnB9wB,OAAOvrB,KArCV;;;AAuCC;AACA8+B,cAAWvT,OAAOoT,QAAP,EAxCZ;AAAA,OAyCC4d,mBAAmBhxB,OAAO8R,SAAP,CAAkB,aAAlB,CAzCpB;;;AA2CC;AACAmf,iBAAaxE,EAAEwE,UAAF,IAAgB,EA5C9B;;;AA8CC;AACAC,oBAAiB,EA/ClB;AAAA,OAgDCC,sBAAsB,EAhDvB;;;AAkDC;AACAC,cAAW,UAnDZ;;;AAqDC;AACAtD,WAAQ;AACP/X,gBAAY,CADL;;AAGP;AACA8Y,uBAAmB,2BAAUz3D,GAAV,EAAgB;AAClC,SAAInvB,KAAJ;AACA,SAAK6tE,SAAL,EAAiB;AAChB,UAAK,CAAC2a,eAAN,EAAwB;AACvBA,yBAAkB,EAAlB;AACA,cAAUxoF,QAAQglF,SAASrmF,IAAT,CAAe4pF,qBAAf,CAAlB,EAA6D;AAC5DC,wBAAiBxoF,MAAO,CAAP,EAAWuI,WAAX,EAAjB,IAA8CvI,MAAO,CAAP,CAA9C;AACA;AACD;AACDA,cAAQwoF,gBAAiBr5D,IAAI5mB,WAAJ,EAAjB,CAAR;AACA;AACD,YAAOvI,SAAS,IAAT,GAAgB,IAAhB,GAAuBA,KAA9B;AACA,KAhBM;;AAkBP;AACAopF,2BAAuB,iCAAW;AACjC,YAAOvb,YAAY0a,qBAAZ,GAAoC,IAA3C;AACA,KArBM;;AAuBP;AACAc,sBAAkB,0BAAUjsE,IAAV,EAAgBlZ,KAAhB,EAAwB;AACzC,SAAK2pE,aAAa,IAAlB,EAAyB;AACxBzwD,aAAO8rE,oBAAqB9rE,KAAK7U,WAAL,EAArB,IACN2gF,oBAAqB9rE,KAAK7U,WAAL,EAArB,KAA6C6U,IAD9C;AAEA6rE,qBAAgB7rE,IAAhB,IAAyBlZ,KAAzB;AACA;AACD,YAAO,IAAP;AACA,KA/BM;;AAiCP;AACAolF,sBAAkB,0BAAU93E,IAAV,EAAiB;AAClC,SAAKq8D,aAAa,IAAlB,EAAyB;AACxB2W,QAAEmC,QAAF,GAAan1E,IAAb;AACA;AACD,YAAO,IAAP;AACA,KAvCM;;AAyCP;AACAw3E,gBAAY,oBAAU1hF,GAAV,EAAgB;AAC3B,SAAIqP,IAAJ;AACA,SAAKrP,GAAL,EAAW;AACV,UAAKumE,SAAL,EAAiB;;AAEhB;AACAgY,aAAMxa,MAAN,CAAc/jE,IAAKu+E,MAAM0D,MAAX,CAAd;AACA,OAJD,MAIO;;AAEN;AACA,YAAM5yE,IAAN,IAAcrP,GAAd,EAAoB;AACnB0hF,oBAAYryE,IAAZ,IAAqB,CAAEqyE,YAAYryE,IAAZ,CAAF,EAAsBrP,IAAKqP,IAAL,CAAtB,CAArB;AACA;AACD;AACD;AACD,YAAO,IAAP;AACA,KA1DM;;AA4DP;AACA6yE,WAAO,eAAUC,UAAV,EAAuB;AAC7B,SAAIC,YAAYD,cAAcN,QAA9B;AACA,SAAKd,SAAL,EAAiB;AAChBA,gBAAUmB,KAAV,CAAiBE,SAAjB;AACA;AACDz/C,UAAM,CAAN,EAASy/C,SAAT;AACA,YAAO,IAAP;AACA;AApEM,IAtDT;;AA6HA;AACApe,YAASL,OAAT,CAAkB4a,KAAlB;;AAEA;AACA;AACA;AACArB,KAAEgD,GAAF,GAAQ,CAAE,CAAEA,OAAOhD,EAAEgD,GAAT,IAAgBrxB,SAASiO,IAA3B,IAAoC,EAAtC,EACNzsD,OADM,CACGwtE,SADH,EACchvB,SAASuxB,QAAT,GAAoB,IADlC,CAAR;;AAGA;AACAlD,KAAEhzE,IAAF,GAASxC,QAAQqmD,MAAR,IAAkBrmD,QAAQwC,IAA1B,IAAkCgzE,EAAEnvB,MAApC,IAA8CmvB,EAAEhzE,IAAzD;;AAEA;AACAgzE,KAAEmB,SAAF,GAAc,CAAEnB,EAAEkB,QAAF,IAAc,GAAhB,EAAsBn9E,WAAtB,GAAoCvI,KAApC,CAA2CypE,aAA3C,KAA8D,CAAE,EAAF,CAA5E;;AAEA;AACA,OAAK+a,EAAEmF,WAAF,IAAiB,IAAtB,EAA6B;AAC5BjB,gBAAY3pF,SAAS6C,aAAT,CAAwB,GAAxB,CAAZ;;AAEA;AACA;AACA;AACA,QAAI;AACH8mF,eAAUtkB,IAAV,GAAiBogB,EAAEgD,GAAnB;;AAEA;AACA;AACAkB,eAAUtkB,IAAV,GAAiBskB,UAAUtkB,IAA3B;AACAogB,OAAEmF,WAAF,GAAgBrE,aAAaoC,QAAb,GAAwB,IAAxB,GAA+BpC,aAAaliF,IAA5C,KACfslF,UAAUhB,QAAV,GAAqB,IAArB,GAA4BgB,UAAUtlF,IADvC;AAEA,KARD,CAQE,OAAQpC,CAAR,EAAY;;AAEb;AACA;AACAwjF,OAAEmF,WAAF,GAAgB,IAAhB;AACA;AACD;;AAED;AACA,OAAKnF,EAAEn3D,IAAF,IAAUm3D,EAAEmD,WAAZ,IAA2B,OAAOnD,EAAEn3D,IAAT,KAAkB,QAAlD,EAA6D;AAC5Dm3D,MAAEn3D,IAAF,GAAS0qC,OAAOwsB,KAAP,CAAcC,EAAEn3D,IAAhB,EAAsBm3D,EAAEF,WAAxB,CAAT;AACA;;AAED;AACAsB,iCAA+BvG,UAA/B,EAA2CmF,CAA3C,EAA8Cx1E,OAA9C,EAAuD62E,KAAvD;;AAEA;AACA,OAAKhY,SAAL,EAAiB;AAChB,WAAOgY,KAAP;AACA;;AAED;AACA;AACA8C,iBAAc5wB,OAAOvrB,KAAP,IAAgBg4C,EAAEzmF,MAAhC;;AAEA;AACA,OAAK4qF,eAAe5wB,OAAO5zB,MAAP,OAAoB,CAAxC,EAA4C;AAC3C4zB,WAAOvrB,KAAP,CAAaipC,OAAb,CAAsB,WAAtB;AACA;;AAED;AACA+O,KAAEhzE,IAAF,GAASgzE,EAAEhzE,IAAF,CAAOlJ,WAAP,EAAT;;AAEA;AACAk8E,KAAEoF,UAAF,GAAe,CAAC1E,WAAW1mF,IAAX,CAAiBgmF,EAAEhzE,IAAnB,CAAhB;;AAEA;AACA;AACA;AACA82E,cAAW9D,EAAEgD,GAAF,CAAM7vE,OAAN,CAAemtE,KAAf,EAAsB,EAAtB,CAAX;;AAEA;AACA,OAAK,CAACN,EAAEoF,UAAR,EAAqB;;AAEpB;AACAhB,eAAWpE,EAAEgD,GAAF,CAAM5mF,KAAN,CAAa0nF,SAASxnF,MAAtB,CAAX;;AAEA;AACA,QAAK0jF,EAAEn3D,IAAP,EAAc;AACbi7D,iBAAY,CAAEzE,OAAOrlF,IAAP,CAAa8pF,QAAb,IAA0B,GAA1B,GAAgC,GAAlC,IAA0C9D,EAAEn3D,IAAxD;;AAEA;AACA,YAAOm3D,EAAEn3D,IAAT;AACA;;AAED;AACA,QAAKm3D,EAAEt/D,KAAF,KAAY,KAAjB,EAAyB;AACxBojE,gBAAWA,SAAS3wE,OAAT,CAAkBotE,UAAlB,EAA8B,IAA9B,CAAX;AACA6D,gBAAW,CAAE/E,OAAOrlF,IAAP,CAAa8pF,QAAb,IAA0B,GAA1B,GAAgC,GAAlC,IAA0C,IAA1C,GAAmD1E,OAAnD,GAA+DgF,QAA1E;AACA;;AAED;AACApE,MAAEgD,GAAF,GAAQc,WAAWM,QAAnB;;AAED;AACC,IAvBD,MAuBO,IAAKpE,EAAEn3D,IAAF,IAAUm3D,EAAEmD,WAAZ,IACX,CAAEnD,EAAEqD,WAAF,IAAiB,EAAnB,EAAwBniF,OAAxB,CAAiC,mCAAjC,MAA2E,CADrE,EACyE;AAC/E8+E,MAAEn3D,IAAF,GAASm3D,EAAEn3D,IAAF,CAAO1V,OAAP,CAAgBktE,GAAhB,EAAqB,GAArB,CAAT;AACA;;AAED;AACA,OAAKL,EAAEqF,UAAP,EAAoB;AACnB,QAAK9xB,OAAOuvB,YAAP,CAAqBgB,QAArB,CAAL,EAAuC;AACtCzC,WAAMwD,gBAAN,CAAwB,mBAAxB,EAA6CtxB,OAAOuvB,YAAP,CAAqBgB,QAArB,CAA7C;AACA;AACD,QAAKvwB,OAAOwvB,IAAP,CAAae,QAAb,CAAL,EAA+B;AAC9BzC,WAAMwD,gBAAN,CAAwB,eAAxB,EAAyCtxB,OAAOwvB,IAAP,CAAae,QAAb,CAAzC;AACA;AACD;;AAED;AACA,OAAK9D,EAAEn3D,IAAF,IAAUm3D,EAAEoF,UAAZ,IAA0BpF,EAAEqD,WAAF,KAAkB,KAA5C,IAAqD74E,QAAQ64E,WAAlE,EAAgF;AAC/EhC,UAAMwD,gBAAN,CAAwB,cAAxB,EAAwC7E,EAAEqD,WAA1C;AACA;;AAED;AACAhC,SAAMwD,gBAAN,CACC,QADD,EAEC7E,EAAEmB,SAAF,CAAa,CAAb,KAAoBnB,EAAEsD,OAAF,CAAWtD,EAAEmB,SAAF,CAAa,CAAb,CAAX,CAApB,GACCnB,EAAEsD,OAAF,CAAWtD,EAAEmB,SAAF,CAAa,CAAb,CAAX,KACGnB,EAAEmB,SAAF,CAAa,CAAb,MAAqB,GAArB,GAA2B,OAAON,QAAP,GAAkB,UAA7C,GAA0D,EAD7D,CADD,GAGCb,EAAEsD,OAAF,CAAW,GAAX,CALF;;AAQA;AACA,QAAM/lF,CAAN,IAAWyiF,EAAEsF,OAAb,EAAuB;AACtBjE,UAAMwD,gBAAN,CAAwBtnF,CAAxB,EAA2ByiF,EAAEsF,OAAF,CAAW/nF,CAAX,CAA3B;AACA;;AAED;AACA,OAAKyiF,EAAEuF,UAAF,KACFvF,EAAEuF,UAAF,CAAatlF,IAAb,CAAmBokF,eAAnB,EAAoChD,KAApC,EAA2CrB,CAA3C,MAAmD,KAAnD,IAA4D3W,SAD1D,CAAL,EAC6E;;AAE5E;AACA,WAAOgY,MAAM2D,KAAN,EAAP;AACA;;AAED;AACAL,cAAW,OAAX;;AAEA;AACAJ,oBAAiB/xD,GAAjB,CAAsBwtD,EAAE5E,QAAxB;AACAiG,SAAM57C,IAAN,CAAYu6C,EAAEwF,OAAd;AACAnE,SAAM3a,IAAN,CAAYsZ,EAAE3qB,KAAd;;AAEA;AACAwuB,eAAYzC,8BAA+BR,UAA/B,EAA2CZ,CAA3C,EAA8Cx1E,OAA9C,EAAuD62E,KAAvD,CAAZ;;AAEA;AACA,OAAK,CAACwC,SAAN,EAAkB;AACjBp+C,SAAM,CAAC,CAAP,EAAU,cAAV;AACA,IAFD,MAEO;AACN47C,UAAM/X,UAAN,GAAmB,CAAnB;;AAEA;AACA,QAAK6a,WAAL,EAAmB;AAClBG,wBAAmBrT,OAAnB,CAA4B,UAA5B,EAAwC,CAAEoQ,KAAF,EAASrB,CAAT,CAAxC;AACA;;AAED;AACA,QAAK3W,SAAL,EAAiB;AAChB,YAAOgY,KAAP;AACA;;AAED;AACA,QAAKrB,EAAEoD,KAAF,IAAWpD,EAAEvD,OAAF,GAAY,CAA5B,EAAgC;AAC/BwH,oBAAetsE,OAAOnW,UAAP,CAAmB,YAAW;AAC5C6/E,YAAM2D,KAAN,CAAa,SAAb;AACA,MAFc,EAEZhF,EAAEvD,OAFU,CAAf;AAGA;;AAED,QAAI;AACHpT,iBAAY,KAAZ;AACAwa,eAAU4B,IAAV,CAAgBhB,cAAhB,EAAgCh/C,IAAhC;AACA,KAHD,CAGE,OAAQjpC,CAAR,EAAY;;AAEb;AACA,SAAK6sE,SAAL,EAAiB;AAChB,YAAM7sE,CAAN;AACA;;AAED;AACAipC,UAAM,CAAC,CAAP,EAAUjpC,CAAV;AACA;AACD;;AAED;AACA,YAASipC,IAAT,CAAes/C,MAAf,EAAuBW,gBAAvB,EAAyC3D,SAAzC,EAAoDuD,OAApD,EAA8D;AAC7D,QAAI9C,SAAJ;AAAA,QAAegD,OAAf;AAAA,QAAwBnwB,KAAxB;AAAA,QAA+BktB,QAA/B;AAAA,QAAyCoD,QAAzC;AAAA,QACCV,aAAaS,gBADd;;AAGA;AACA,QAAKrc,SAAL,EAAiB;AAChB;AACA;;AAEDA,gBAAY,IAAZ;;AAEA;AACA,QAAK4a,YAAL,EAAoB;AACnBtsE,YAAOpW,YAAP,CAAqB0iF,YAArB;AACA;;AAED;AACA;AACAJ,gBAAY/oE,SAAZ;;AAEA;AACAipE,4BAAwBuB,WAAW,EAAnC;;AAEA;AACAjE,UAAM/X,UAAN,GAAmByb,SAAS,CAAT,GAAa,CAAb,GAAiB,CAApC;;AAEA;AACAvC,gBAAYuC,UAAU,GAAV,IAAiBA,SAAS,GAA1B,IAAiCA,WAAW,GAAxD;;AAEA;AACA,QAAKhD,SAAL,EAAiB;AAChBQ,gBAAWT,oBAAqB9B,CAArB,EAAwBqB,KAAxB,EAA+BU,SAA/B,CAAX;AACA;;AAED;AACAQ,eAAWD,YAAatC,CAAb,EAAgBuC,QAAhB,EAA0BlB,KAA1B,EAAiCmB,SAAjC,CAAX;;AAEA;AACA,QAAKA,SAAL,EAAiB;;AAEhB;AACA,SAAKxC,EAAEqF,UAAP,EAAoB;AACnBM,iBAAWtE,MAAMe,iBAAN,CAAyB,eAAzB,CAAX;AACA,UAAKuD,QAAL,EAAgB;AACfpyB,cAAOuvB,YAAP,CAAqBgB,QAArB,IAAkC6B,QAAlC;AACA;AACDA,iBAAWtE,MAAMe,iBAAN,CAAyB,MAAzB,CAAX;AACA,UAAKuD,QAAL,EAAgB;AACfpyB,cAAOwvB,IAAP,CAAae,QAAb,IAA0B6B,QAA1B;AACA;AACD;;AAED;AACA,SAAKZ,WAAW,GAAX,IAAkB/E,EAAEhzE,IAAF,KAAW,MAAlC,EAA2C;AAC1Ci4E,mBAAa,WAAb;;AAED;AACC,MAJD,MAIO,IAAKF,WAAW,GAAhB,EAAsB;AAC5BE,mBAAa,aAAb;;AAED;AACC,MAJM,MAIA;AACNA,mBAAa1C,SAASzoE,KAAtB;AACA0rE,gBAAUjD,SAAS15D,IAAnB;AACAwsC,cAAQktB,SAASltB,KAAjB;AACAmtB,kBAAY,CAACntB,KAAb;AACA;AACD,KA7BD,MA6BO;;AAEN;AACAA,aAAQ4vB,UAAR;AACA,SAAKF,UAAU,CAACE,UAAhB,EAA6B;AAC5BA,mBAAa,OAAb;AACA,UAAKF,SAAS,CAAd,EAAkB;AACjBA,gBAAS,CAAT;AACA;AACD;AACD;;AAED;AACA1D,UAAM0D,MAAN,GAAeA,MAAf;AACA1D,UAAM4D,UAAN,GAAmB,CAAES,oBAAoBT,UAAtB,IAAqC,EAAxD;;AAEA;AACA,QAAKzC,SAAL,EAAiB;AAChB1b,cAASgB,WAAT,CAAsBuc,eAAtB,EAAuC,CAAEmB,OAAF,EAAWP,UAAX,EAAuB5D,KAAvB,CAAvC;AACA,KAFD,MAEO;AACNva,cAASoB,UAAT,CAAqBmc,eAArB,EAAsC,CAAEhD,KAAF,EAAS4D,UAAT,EAAqB5vB,KAArB,CAAtC;AACA;;AAED;AACAgsB,UAAMmD,UAAN,CAAkBA,WAAlB;AACAA,kBAAa1pE,SAAb;;AAEA,QAAKqpE,WAAL,EAAmB;AAClBG,wBAAmBrT,OAAnB,CAA4BuR,YAAY,aAAZ,GAA4B,WAAxD,EACC,CAAEnB,KAAF,EAASrB,CAAT,EAAYwC,YAAYgD,OAAZ,GAAsBnwB,KAAlC,CADD;AAEA;;AAED;AACAkvB,qBAAiBte,QAAjB,CAA2Boe,eAA3B,EAA4C,CAAEhD,KAAF,EAAS4D,UAAT,CAA5C;;AAEA,QAAKd,WAAL,EAAmB;AAClBG,wBAAmBrT,OAAnB,CAA4B,cAA5B,EAA4C,CAAEoQ,KAAF,EAASrB,CAAT,CAA5C;;AAEA;AACA,SAAK,CAAG,GAAEzsB,OAAO5zB,MAAjB,EAA4B;AAC3B4zB,aAAOvrB,KAAP,CAAaipC,OAAb,CAAsB,UAAtB;AACA;AACD;AACD;;AAED,UAAOoQ,KAAP;AACA,GAlhBa;;AAohBduE,WAAS,iBAAU5C,GAAV,EAAen6D,IAAf,EAAqB4rC,QAArB,EAAgC;AACxC,UAAOlB,OAAO1lC,GAAP,CAAYm1D,GAAZ,EAAiBn6D,IAAjB,EAAuB4rC,QAAvB,EAAiC,MAAjC,CAAP;AACA,GAthBa;;AAwhBdoxB,aAAW,mBAAU7C,GAAV,EAAevuB,QAAf,EAA0B;AACpC,UAAOlB,OAAO1lC,GAAP,CAAYm1D,GAAZ,EAAiBloE,SAAjB,EAA4B25C,QAA5B,EAAsC,QAAtC,CAAP;AACA;AA1hBa,EAAf;;AA6hBAlB,QAAOiB,IAAP,CAAa,CAAE,KAAF,EAAS,MAAT,CAAb,EAAgC,UAAUj3D,CAAV,EAAaszD,MAAb,EAAsB;AACrD0C,SAAQ1C,MAAR,IAAmB,UAAUmyB,GAAV,EAAen6D,IAAf,EAAqB4rC,QAArB,EAA+BznD,IAA/B,EAAsC;;AAExD;AACA,OAAKumD,OAAOwB,UAAP,CAAmBlsC,IAAnB,CAAL,EAAiC;AAChC7b,WAAOA,QAAQynD,QAAf;AACAA,eAAW5rC,IAAX;AACAA,WAAO/N,SAAP;AACA;;AAED;AACA,UAAOy4C,OAAOqwB,IAAP,CAAarwB,OAAO1zB,MAAP,CAAe;AAClCmjD,SAAKA,GAD6B;AAElCh2E,UAAM6jD,MAF4B;AAGlCqwB,cAAUl0E,IAHwB;AAIlC6b,UAAMA,IAJ4B;AAKlC28D,aAAS/wB;AALyB,IAAf,EAMjBlB,OAAOyB,aAAP,CAAsBguB,GAAtB,KAA+BA,GANd,CAAb,CAAP;AAOA,GAjBD;AAkBA,EAnBD;;AAsBAzvB,QAAOugB,QAAP,GAAkB,UAAUkP,GAAV,EAAgB;AACjC,SAAOzvB,OAAOqwB,IAAP,CAAa;AACnBZ,QAAKA,GADc;;AAGnB;AACAh2E,SAAM,KAJa;AAKnBk0E,aAAU,QALS;AAMnBxgE,UAAO,IANY;AAOnB0iE,UAAO,KAPY;AAQnB7pF,WAAQ,KARW;AASnB,aAAU;AATS,GAAb,CAAP;AAWA,EAZD;;AAeAg6D,QAAOE,EAAP,CAAU5zB,MAAV,CAAkB;AACjBimD,WAAS,iBAAUh0B,IAAV,EAAiB;AACzB,OAAIlsC,IAAJ;;AAEA,OAAK,KAAM,CAAN,CAAL,EAAiB;AAChB,QAAK2tC,OAAOwB,UAAP,CAAmBjD,IAAnB,CAAL,EAAiC;AAChCA,YAAOA,KAAK7xD,IAAL,CAAW,KAAM,CAAN,CAAX,CAAP;AACA;;AAED;AACA2lB,WAAO2tC,OAAQzB,IAAR,EAAc,KAAM,CAAN,EAAUh6C,aAAxB,EAAwC68C,EAAxC,CAA4C,CAA5C,EAAgDE,KAAhD,CAAuD,IAAvD,CAAP;;AAEA,QAAK,KAAM,CAAN,EAAUx2D,UAAf,EAA4B;AAC3BunB,UAAKC,YAAL,CAAmB,KAAM,CAAN,CAAnB;AACA;;AAEDD,SAAK9iB,GAAL,CAAU,YAAW;AACpB,SAAI4xD,OAAO,IAAX;;AAEA,YAAQA,KAAKqxB,iBAAb,EAAiC;AAChCrxB,aAAOA,KAAKqxB,iBAAZ;AACA;;AAED,YAAOrxB,IAAP;AACA,KARD,EAQIzC,MARJ,CAQY,IARZ;AASA;;AAED,UAAO,IAAP;AACA,GA5BgB;;AA8BjB+zB,aAAW,mBAAUl0B,IAAV,EAAiB;AAC3B,OAAKyB,OAAOwB,UAAP,CAAmBjD,IAAnB,CAAL,EAAiC;AAChC,WAAO,KAAK0C,IAAL,CAAW,UAAUj3D,CAAV,EAAc;AAC/Bg2D,YAAQ,IAAR,EAAeyyB,SAAf,CAA0Bl0B,KAAK7xD,IAAL,CAAW,IAAX,EAAiB1C,CAAjB,CAA1B;AACA,KAFM,CAAP;AAGA;;AAED,UAAO,KAAKi3D,IAAL,CAAW,YAAW;AAC5B,QAAIuP,OAAOxQ,OAAQ,IAAR,CAAX;AAAA,QACCvB,WAAW+R,KAAK/R,QAAL,EADZ;;AAGA,QAAKA,SAAS11D,MAAd,EAAuB;AACtB01D,cAAS8zB,OAAT,CAAkBh0B,IAAlB;AAEA,KAHD,MAGO;AACNiS,UAAK9R,MAAL,CAAaH,IAAb;AACA;AACD,IAVM,CAAP;AAWA,GAhDgB;;AAkDjBlsC,QAAM,cAAUksC,IAAV,EAAiB;AACtB,OAAIiD,aAAaxB,OAAOwB,UAAP,CAAmBjD,IAAnB,CAAjB;;AAEA,UAAO,KAAK0C,IAAL,CAAW,UAAUj3D,CAAV,EAAc;AAC/Bg2D,WAAQ,IAAR,EAAeuyB,OAAf,CAAwB/wB,aAAajD,KAAK7xD,IAAL,CAAW,IAAX,EAAiB1C,CAAjB,CAAb,GAAoCu0D,IAA5D;AACA,IAFM,CAAP;AAGA,GAxDgB;;AA0DjBm0B,UAAQ,gBAAUzyB,QAAV,EAAqB;AAC5B,QAAK12D,MAAL,CAAa02D,QAAb,EAAwBsQ,GAAxB,CAA6B,MAA7B,EAAsCtP,IAAtC,CAA4C,YAAW;AACtDjB,WAAQ,IAAR,EAAeghB,WAAf,CAA4B,KAAK73E,UAAjC;AACA,IAFD;AAGA,UAAO,IAAP;AACA;AA/DgB,EAAlB;;AAmEA62D,QAAOiK,IAAP,CAAY9E,OAAZ,CAAoB70C,MAApB,GAA6B,UAAU6wC,IAAV,EAAiB;AAC7C,SAAO,CAACnB,OAAOiK,IAAP,CAAY9E,OAAZ,CAAoBx5B,OAApB,CAA6Bw1B,IAA7B,CAAR;AACA,EAFD;AAGAnB,QAAOiK,IAAP,CAAY9E,OAAZ,CAAoBx5B,OAApB,GAA8B,UAAUw1B,IAAV,EAAiB;AAC9C,SAAO,CAAC,EAAGA,KAAK79C,WAAL,IAAoB69C,KAAK99C,YAAzB,IAAyC89C,KAAK/qC,cAAL,GAAsBrtB,MAAlE,CAAR;AACA,EAFD;;AAOAi3D,QAAOsuB,YAAP,CAAoBqE,GAApB,GAA0B,YAAW;AACpC,MAAI;AACH,UAAO,IAAIvuE,OAAOwuE,cAAX,EAAP;AACA,GAFD,CAEE,OAAQ3pF,CAAR,EAAY,CAAE;AAChB,EAJD;;AAMA,KAAI4pF,mBAAmB;;AAErB;AACA,KAAG,GAHkB;;AAKrB;AACA;AACA,QAAM;AAPe,EAAvB;AAAA,KASCC,eAAe9yB,OAAOsuB,YAAP,CAAoBqE,GAApB,EAThB;;AAWA9yB,SAAQkzB,IAAR,GAAe,CAAC,CAACD,YAAF,IAAoB,qBAAqBA,YAAxD;AACAjzB,SAAQwwB,IAAR,GAAeyC,eAAe,CAAC,CAACA,YAAhC;;AAEA9yB,QAAOowB,aAAP,CAAsB,UAAUn5E,OAAV,EAAoB;AACzC,MAAIiqD,SAAJ,EAAc8xB,aAAd;;AAEA;AACA,MAAKnzB,QAAQkzB,IAAR,IAAgBD,gBAAgB,CAAC77E,QAAQ26E,WAA9C,EAA4D;AAC3D,UAAO;AACNM,UAAM,cAAUH,OAAV,EAAmBlK,QAAnB,EAA8B;AACnC,SAAI79E,CAAJ;AAAA,SACC2oF,MAAM17E,QAAQ07E,GAAR,EADP;;AAGAA,SAAIM,IAAJ,CACCh8E,QAAQwC,IADT,EAECxC,QAAQw4E,GAFT,EAGCx4E,QAAQ44E,KAHT,EAIC54E,QAAQi8E,QAJT,EAKCj8E,QAAQy1D,QALT;;AAQA;AACA,SAAKz1D,QAAQk8E,SAAb,EAAyB;AACxB,WAAMnpF,CAAN,IAAWiN,QAAQk8E,SAAnB,EAA+B;AAC9BR,WAAK3oF,CAAL,IAAWiN,QAAQk8E,SAAR,CAAmBnpF,CAAnB,CAAX;AACA;AACD;;AAED;AACA,SAAKiN,QAAQ23E,QAAR,IAAoB+D,IAAIpB,gBAA7B,EAAgD;AAC/CoB,UAAIpB,gBAAJ,CAAsBt6E,QAAQ23E,QAA9B;AACA;;AAED;AACA;AACA;AACA;AACA;AACA,SAAK,CAAC33E,QAAQ26E,WAAT,IAAwB,CAACG,QAAS,kBAAT,CAA9B,EAA8D;AAC7DA,cAAS,kBAAT,IAAgC,gBAAhC;AACA;;AAED;AACA,UAAM/nF,CAAN,IAAW+nF,OAAX,EAAqB;AACpBY,UAAIrB,gBAAJ,CAAsBtnF,CAAtB,EAAyB+nF,QAAS/nF,CAAT,CAAzB;AACA;;AAED;AACAk3D,iBAAW,kBAAUznD,IAAV,EAAiB;AAC3B,aAAO,YAAW;AACjB,WAAKynD,SAAL,EAAgB;AACfA,oBAAW8xB,gBAAgBL,IAAI3yC,MAAJ,GAC1B2yC,IAAIS,OAAJ,GAAcT,IAAIU,OAAJ,GAAcV,IAAIW,kBAAJ,GAAyB,IADtD;;AAGA,YAAK75E,SAAS,OAAd,EAAwB;AACvBk5E,aAAIlB,KAAJ;AACA,SAFD,MAEO,IAAKh4E,SAAS,OAAd,EAAwB;;AAE9B;AACA;AACA;AACA,aAAK,OAAOk5E,IAAInB,MAAX,KAAsB,QAA3B,EAAsC;AACrC3J,mBAAU,CAAV,EAAa,OAAb;AACA,UAFD,MAEO;AACNA;;AAEC;AACA8K,cAAInB,MAHL,EAICmB,IAAIjB,UAJL;AAMA;AACD,SAfM,MAeA;AACN7J,kBACCgL,iBAAkBF,IAAInB,MAAtB,KAAkCmB,IAAInB,MADvC,EAECmB,IAAIjB,UAFL;;AAIC;AACA;AACA;AACA,UAAEiB,IAAIY,YAAJ,IAAoB,MAAtB,MAAmC,MAAnC,IACA,OAAOZ,IAAIa,YAAX,KAA4B,QAD5B,GAEC,EAAEC,QAAQd,IAAI3D,QAAd,EAFD,GAGC,EAAE/4E,MAAM08E,IAAIa,YAAZ,EAVF,EAWCb,IAAItB,qBAAJ,EAXD;AAaA;AACD;AACD,OAtCD;AAuCA,MAxCD;;AA0CA;AACAsB,SAAI3yC,MAAJ,GAAakhB,WAAb;AACA8xB,qBAAgBL,IAAIS,OAAJ,GAAclyB,UAAU,OAAV,CAA9B;;AAEA;AACA;AACA;AACA,SAAKyxB,IAAIU,OAAJ,KAAgB9rE,SAArB,EAAiC;AAChCorE,UAAIU,OAAJ,GAAcL,aAAd;AACA,MAFD,MAEO;AACNL,UAAIW,kBAAJ,GAAyB,YAAW;;AAEnC;AACA,WAAKX,IAAI5c,UAAJ,KAAmB,CAAxB,EAA4B;;AAE3B;AACA;AACA;AACA;AACA3xD,eAAOnW,UAAP,CAAmB,YAAW;AAC7B,aAAKizD,SAAL,EAAgB;AACf8xB;AACA;AACD,SAJD;AAKA;AACD,OAfD;AAgBA;;AAED;AACA9xB,iBAAWA,UAAU,OAAV,CAAX;;AAEA,SAAI;;AAEH;AACAyxB,UAAIT,IAAJ,CAAUj7E,QAAQ46E,UAAR,IAAsB56E,QAAQqe,IAA9B,IAAsC,IAAhD;AACA,MAJD,CAIE,OAAQrsB,CAAR,EAAY;;AAEb;AACA,UAAKi4D,SAAL,EAAgB;AACf,aAAMj4D,CAAN;AACA;AACD;AACD,KA5HK;;AA8HNwoF,WAAO,iBAAW;AACjB,SAAKvwB,SAAL,EAAgB;AACfA;AACA;AACD;AAlIK,IAAP;AAoIA;AACD,EA1ID;;AA+IA;AACAlB,QAAOmwB,aAAP,CAAsB,UAAU1D,CAAV,EAAc;AACnC,MAAKA,EAAEmF,WAAP,EAAqB;AACpBnF,KAAEhuB,QAAF,CAAWsB,MAAX,GAAoB,KAApB;AACA;AACD,EAJD;;AAMA;AACAC,QAAOiwB,SAAP,CAAkB;AACjBF,WAAS;AACRhwB,WAAQ,8CACP;AAFO,GADQ;AAKjBtB,YAAU;AACTsB,WAAQ;AADC,GALO;AAQjB+uB,cAAY;AACX,kBAAe,oBAAU74E,IAAV,EAAiB;AAC/B+pD,WAAOuC,UAAP,CAAmBtsD,IAAnB;AACA,WAAOA,IAAP;AACA;AAJU;AARK,EAAlB;;AAgBA;AACA+pD,QAAOmwB,aAAP,CAAsB,QAAtB,EAAgC,UAAU1D,CAAV,EAAc;AAC7C,MAAKA,EAAEt/D,KAAF,KAAY5F,SAAjB,EAA6B;AAC5BklE,KAAEt/D,KAAF,GAAU,KAAV;AACA;AACD,MAAKs/D,EAAEmF,WAAP,EAAqB;AACpBnF,KAAEhzE,IAAF,GAAS,KAAT;AACA;AACD,EAPD;;AASA;AACAumD,QAAOowB,aAAP,CAAsB,QAAtB,EAAgC,UAAU3D,CAAV,EAAc;;AAE7C;AACA,MAAKA,EAAEmF,WAAP,EAAqB;AACpB,OAAI7xB,MAAJ,EAAYmB,UAAZ;AACA,UAAO;AACNgxB,UAAM,cAAUhsB,CAAV,EAAa2hB,QAAb,EAAwB;AAC7B9nB,cAASC,OAAQ,UAAR,EAAqB/yD,IAArB,CAA2B;AACnCymF,eAASjH,EAAEkH,aADwB;AAEnChzC,WAAK8rC,EAAEgD;AAF4B,MAA3B,EAGL5uE,EAHK,CAIR,YAJQ,EAKRqgD,aAAW,kBAAU0yB,GAAV,EAAgB;AAC1B7zB,aAAO9uB,MAAP;AACAiwB,mBAAW,IAAX;AACA,UAAK0yB,GAAL,EAAW;AACV/L,gBAAU+L,IAAIn6E,IAAJ,KAAa,OAAb,GAAuB,GAAvB,GAA6B,GAAvC,EAA4Cm6E,IAAIn6E,IAAhD;AACA;AACD,MAXO,CAAT;;AAcA;AACAzS,cAASs3B,IAAT,CAAc90B,WAAd,CAA2Bu2D,OAAQ,CAAR,CAA3B;AACA,KAlBK;AAmBN0xB,WAAO,iBAAW;AACjB,SAAKvwB,UAAL,EAAgB;AACfA;AACA;AACD;AAvBK,IAAP;AAyBA;AACD,EA/BD;;AAoCA,KAAI2yB,eAAe,EAAnB;AAAA,KACCC,SAAS,mBADV;;AAGA;AACA9zB,QAAOiwB,SAAP,CAAkB;AACjB8D,SAAO,UADU;AAEjBC,iBAAe,yBAAW;AACzB,OAAI9yB,WAAW2yB,aAAa5gD,GAAb,MAAwB+sB,OAAO2B,OAAP,GAAiB,GAAjB,GAAyBkqB,OAAhE;AACA,QAAM3qB,QAAN,IAAmB,IAAnB;AACA,UAAOA,QAAP;AACA;AANgB,EAAlB;;AASA;AACAlB,QAAOmwB,aAAP,CAAsB,YAAtB,EAAoC,UAAU1D,CAAV,EAAawH,gBAAb,EAA+BnG,KAA/B,EAAuC;;AAE1E,MAAIoG,YAAJ;AAAA,MAAkBC,WAAlB;AAAA,MAA+BC,iBAA/B;AAAA,MACCC,WAAW5H,EAAEsH,KAAF,KAAY,KAAZ,KAAuBD,OAAOrtF,IAAP,CAAagmF,EAAEgD,GAAf,IACjC,KADiC,GAEjC,OAAOhD,EAAEn3D,IAAT,KAAkB,QAAlB,IACC,CAAEm3D,EAAEqD,WAAF,IAAiB,EAAnB,EACEniF,OADF,CACW,mCADX,MACqD,CAFtD,IAGCmmF,OAAOrtF,IAAP,CAAagmF,EAAEn3D,IAAf,CAHD,IAG0B,MALhB,CADZ;;AASA;AACA,MAAK++D,YAAY5H,EAAEmB,SAAF,CAAa,CAAb,MAAqB,OAAtC,EAAgD;;AAE/C;AACAsG,kBAAezH,EAAEuH,aAAF,GAAkBh0B,OAAOwB,UAAP,CAAmBirB,EAAEuH,aAArB,IAChCvH,EAAEuH,aAAF,EADgC,GAEhCvH,EAAEuH,aAFH;;AAIA;AACA,OAAKK,QAAL,EAAgB;AACf5H,MAAG4H,QAAH,IAAgB5H,EAAG4H,QAAH,EAAcz0E,OAAd,CAAuBk0E,MAAvB,EAA+B,OAAOI,YAAtC,CAAhB;AACA,IAFD,MAEO,IAAKzH,EAAEsH,KAAF,KAAY,KAAjB,EAAyB;AAC/BtH,MAAEgD,GAAF,IAAS,CAAE3D,OAAOrlF,IAAP,CAAagmF,EAAEgD,GAAf,IAAuB,GAAvB,GAA6B,GAA/B,IAAuChD,EAAEsH,KAAzC,GAAiD,GAAjD,GAAuDG,YAAhE;AACA;;AAED;AACAzH,KAAEqC,UAAF,CAAc,aAAd,IAAgC,YAAW;AAC1C,QAAK,CAACsF,iBAAN,EAA0B;AACzBp0B,YAAO8B,KAAP,CAAcoyB,eAAe,iBAA7B;AACA;AACD,WAAOE,kBAAmB,CAAnB,CAAP;AACA,IALD;;AAOA;AACA3H,KAAEmB,SAAF,CAAa,CAAb,IAAmB,MAAnB;;AAEA;AACAuG,iBAAc/vE,OAAQ8vE,YAAR,CAAd;AACA9vE,UAAQ8vE,YAAR,IAAyB,YAAW;AACnCE,wBAAoBznF,SAApB;AACA,IAFD;;AAIA;AACAmhF,SAAMxa,MAAN,CAAc,YAAW;;AAExB;AACA,QAAK6gB,gBAAgB5sE,SAArB,EAAiC;AAChCy4C,YAAQ57C,MAAR,EAAiB4lE,UAAjB,CAA6BkK,YAA7B;;AAED;AACC,KAJD,MAIO;AACN9vE,YAAQ8vE,YAAR,IAAyBC,WAAzB;AACA;;AAED;AACA,QAAK1H,EAAGyH,YAAH,CAAL,EAAyB;;AAExB;AACAzH,OAAEuH,aAAF,GAAkBC,iBAAiBD,aAAnC;;AAEA;AACAH,kBAAazkF,IAAb,CAAmB8kF,YAAnB;AACA;;AAED;AACA,QAAKE,qBAAqBp0B,OAAOwB,UAAP,CAAmB2yB,WAAnB,CAA1B,EAA6D;AAC5DA,iBAAaC,kBAAmB,CAAnB,CAAb;AACA;;AAEDA,wBAAoBD,cAAc5sE,SAAlC;AACA,IA3BD;;AA6BA;AACA,UAAO,QAAP;AACA;AACD,EA5ED;;AAiFA;AACA;AACA;AACA;AACA;AACAs4C,SAAQy0B,kBAAR,GAA+B,YAAW;AACzC,MAAI3pF,OAAO3D,SAASutF,cAAT,CAAwBD,kBAAxB,CAA4C,EAA5C,EAAiD3pF,IAA5D;AACAA,OAAKw+D,SAAL,GAAiB,4BAAjB;AACA,SAAOx+D,KAAKxB,UAAL,CAAgBJ,MAAhB,KAA2B,CAAlC;AACA,EAJ4B,EAA7B;;AAOA;AACA;AACA;AACA;AACAi3D,QAAO2Q,SAAP,GAAmB,UAAUr7C,IAAV,EAAgB9L,OAAhB,EAAyBgrE,WAAzB,EAAuC;AACzD,MAAK,OAAOl/D,IAAP,KAAgB,QAArB,EAAgC;AAC/B,UAAO,EAAP;AACA;AACD,MAAK,OAAO9L,OAAP,KAAmB,SAAxB,EAAoC;AACnCgrE,iBAAchrE,OAAd;AACAA,aAAU,KAAV;AACA;;AAED,MAAIzZ,IAAJ,EAAU0kF,MAAV,EAAkBpa,OAAlB;;AAEA,MAAK,CAAC7wD,OAAN,EAAgB;;AAEf;AACA;AACA,OAAKq2C,QAAQy0B,kBAAb,EAAkC;AACjC9qE,cAAUxiB,SAASutF,cAAT,CAAwBD,kBAAxB,CAA4C,EAA5C,CAAV;;AAEA;AACA;AACA;AACAvkF,WAAOyZ,QAAQ3f,aAAR,CAAuB,MAAvB,CAAP;AACAkG,SAAKs8D,IAAL,GAAYrlE,SAASo3D,QAAT,CAAkBiO,IAA9B;AACA7iD,YAAQ8U,IAAR,CAAa90B,WAAb,CAA0BuG,IAA1B;AACA,IATD,MASO;AACNyZ,cAAUxiB,QAAV;AACA;AACD;;AAEDytF,WAAStkB,WAAWvpE,IAAX,CAAiB0uB,IAAjB,CAAT;AACA+kD,YAAU,CAACma,WAAD,IAAgB,EAA1B;;AAEA;AACA,MAAKC,MAAL,EAAc;AACb,UAAO,CAAEjrE,QAAQ3f,aAAR,CAAuB4qF,OAAQ,CAAR,CAAvB,CAAF,CAAP;AACA;;AAEDA,WAASra,cAAe,CAAE9kD,IAAF,CAAf,EAAyB9L,OAAzB,EAAkC6wD,OAAlC,CAAT;;AAEA,MAAKA,WAAWA,QAAQtxE,MAAxB,EAAiC;AAChCi3D,UAAQqa,OAAR,EAAkBppC,MAAlB;AACA;;AAED,SAAO+uB,OAAOe,KAAP,CAAc,EAAd,EAAkB0zB,OAAOtrF,UAAzB,CAAP;AACA,EA5CD;;AA+CA;;;AAGA62D,QAAOE,EAAP,CAAUsd,IAAV,GAAiB,UAAUiS,GAAV,EAAeiF,MAAf,EAAuBxzB,QAAvB,EAAkC;AAClD,MAAIjB,QAAJ;AAAA,MAAcxmD,IAAd;AAAA,MAAoBu1E,QAApB;AAAA,MACCxe,OAAO,IADR;AAAA,MAECrvD,MAAMsuE,IAAI9hF,OAAJ,CAAa,GAAb,CAFP;;AAIA,MAAKwT,MAAM,CAAC,CAAZ,EAAgB;AACf8+C,cAAWiqB,iBAAkBuF,IAAI5mF,KAAJ,CAAWsY,GAAX,CAAlB,CAAX;AACAsuE,SAAMA,IAAI5mF,KAAJ,CAAW,CAAX,EAAcsY,GAAd,CAAN;AACA;;AAED;AACA,MAAK6+C,OAAOwB,UAAP,CAAmBkzB,MAAnB,CAAL,EAAmC;;AAElC;AACAxzB,cAAWwzB,MAAX;AACAA,YAASntE,SAAT;;AAED;AACC,GAPD,MAOO,IAAKmtE,UAAU,QAAOA,MAAP,yCAAOA,MAAP,OAAkB,QAAjC,EAA4C;AAClDj7E,UAAO,MAAP;AACA;;AAED;AACA,MAAK+2D,KAAKznE,MAAL,GAAc,CAAnB,EAAuB;AACtBi3D,UAAOqwB,IAAP,CAAa;AACZZ,SAAKA,GADO;;AAGZ;AACA;AACA;AACAh2E,UAAMA,QAAQ,KANF;AAOZk0E,cAAU,MAPE;AAQZr4D,UAAMo/D;AARM,IAAb,EASIxiD,IATJ,CASU,UAAUshD,YAAV,EAAyB;;AAElC;AACAxE,eAAWriF,SAAX;;AAEA6jE,SAAKjS,IAAL,CAAW0B;;AAEV;AACA;AACAD,WAAQ,OAAR,EAAkBtB,MAAlB,CAA0BsB,OAAO2Q,SAAP,CAAkB6iB,YAAlB,CAA1B,EAA6Dj4E,IAA7D,CAAmE0kD,QAAnE,CAJU;;AAMV;AACAuzB,gBAPD;;AASD;AACA;AACA;AACC,IA1BD,EA0BIlgB,MA1BJ,CA0BYpS,YAAY,UAAU4sB,KAAV,EAAiB0D,MAAjB,EAA0B;AACjDhhB,SAAKvP,IAAL,CAAW,YAAW;AACrBC,cAASt0D,KAAT,CAAgB,IAAhB,EAAsBoiF,YAAY,CAAElB,MAAM0F,YAAR,EAAsBhC,MAAtB,EAA8B1D,KAA9B,CAAlC;AACA,KAFD;AAGA,IA9BD;AA+BA;;AAED,SAAO,IAAP;AACA,EA1DD;;AA+DA;AACA9tB,QAAOiB,IAAP,CAAa,CACZ,WADY,EAEZ,UAFY,EAGZ,cAHY,EAIZ,WAJY,EAKZ,aALY,EAMZ,UANY,CAAb,EAOG,UAAUj3D,CAAV,EAAayP,IAAb,EAAoB;AACtBumD,SAAOE,EAAP,CAAWzmD,IAAX,IAAoB,UAAUymD,EAAV,EAAe;AAClC,UAAO,KAAKr/C,EAAL,CAASpH,IAAT,EAAeymD,EAAf,CAAP;AACA,GAFD;AAGA,EAXD;;AAgBAF,QAAOiK,IAAP,CAAY9E,OAAZ,CAAoBwvB,QAApB,GAA+B,UAAUxzB,IAAV,EAAiB;AAC/C,SAAOnB,OAAO+C,IAAP,CAAa/C,OAAOwoB,MAApB,EAA4B,UAAUtoB,EAAV,EAAe;AACjD,UAAOiB,SAASjB,GAAGiB,IAAnB;AACA,GAFM,EAEHp4D,MAFJ;AAGA,EAJD;;AASAi3D,QAAO3lD,MAAP,GAAgB;AACfu6E,aAAW,mBAAUzzB,IAAV,EAAgBlqD,OAAhB,EAAyBjN,CAAzB,EAA6B;AACvC,OAAI6qF,WAAJ;AAAA,OAAiBC,OAAjB;AAAA,OAA0BC,SAA1B;AAAA,OAAqCC,MAArC;AAAA,OAA6CC,SAA7C;AAAA,OAAwDC,UAAxD;AAAA,OAAoEC,iBAApE;AAAA,OACC1gE,WAAWurC,OAAOvxC,GAAP,CAAY0yC,IAAZ,EAAkB,UAAlB,CADZ;AAAA,OAECi0B,UAAUp1B,OAAQmB,IAAR,CAFX;AAAA,OAGCnxD,QAAQ,EAHT;;AAKA;AACA,OAAKykB,aAAa,QAAlB,EAA6B;AAC5B0sC,SAAKv3D,KAAL,CAAW6qB,QAAX,GAAsB,UAAtB;AACA;;AAEDwgE,eAAYG,QAAQ/6E,MAAR,EAAZ;AACA06E,eAAY/0B,OAAOvxC,GAAP,CAAY0yC,IAAZ,EAAkB,KAAlB,CAAZ;AACA+zB,gBAAal1B,OAAOvxC,GAAP,CAAY0yC,IAAZ,EAAkB,MAAlB,CAAb;AACAg0B,uBAAoB,CAAE1gE,aAAa,UAAb,IAA2BA,aAAa,OAA1C,KACnB,CAAEsgE,YAAYG,UAAd,EAA2BvnF,OAA3B,CAAoC,MAApC,IAA+C,CAAC,CADjD;;AAGA;AACA;AACA,OAAKwnF,iBAAL,EAAyB;AACxBN,kBAAcO,QAAQ3gE,QAAR,EAAd;AACAugE,aAASH,YAAYv+D,GAArB;AACAw+D,cAAUD,YAAYhxE,IAAtB;AAEA,IALD,MAKO;AACNmxE,aAAS7yB,WAAY4yB,SAAZ,KAA2B,CAApC;AACAD,cAAU3yB,WAAY+yB,UAAZ,KAA4B,CAAtC;AACA;;AAED,OAAKl1B,OAAOwB,UAAP,CAAmBvqD,OAAnB,CAAL,EAAoC;;AAEnC;AACAA,cAAUA,QAAQvK,IAAR,CAAcy0D,IAAd,EAAoBn3D,CAApB,EAAuBg2D,OAAO1zB,MAAP,CAAe,EAAf,EAAmB2oD,SAAnB,CAAvB,CAAV;AACA;;AAED,OAAKh+E,QAAQqf,GAAR,IAAe,IAApB,EAA2B;AAC1BtmB,UAAMsmB,GAAN,GAAcrf,QAAQqf,GAAR,GAAc2+D,UAAU3+D,GAA1B,GAAkC0+D,MAA9C;AACA;AACD,OAAK/9E,QAAQ4M,IAAR,IAAgB,IAArB,EAA4B;AAC3B7T,UAAM6T,IAAN,GAAe5M,QAAQ4M,IAAR,GAAeoxE,UAAUpxE,IAA3B,GAAoCixE,OAAjD;AACA;;AAED,OAAK,WAAW79E,OAAhB,EAA0B;AACzBA,YAAQo+E,KAAR,CAAc3oF,IAAd,CAAoBy0D,IAApB,EAA0BnxD,KAA1B;AAEA,IAHD,MAGO;AACNolF,YAAQ3mE,GAAR,CAAaze,KAAb;AACA;AACD;AAjDc,EAAhB;;AAoDAgwD,QAAOE,EAAP,CAAU5zB,MAAV,CAAkB;AACjBjyB,UAAQ,gBAAUpD,OAAV,EAAoB;;AAE3B;AACA,OAAKtK,UAAU5D,MAAf,EAAwB;AACvB,WAAOkO,YAAYsQ,SAAZ,GACN,IADM,GAEN,KAAK05C,IAAL,CAAW,UAAUj3D,CAAV,EAAc;AACxBg2D,YAAO3lD,MAAP,CAAcu6E,SAAd,CAAyB,IAAzB,EAA+B39E,OAA/B,EAAwCjN,CAAxC;AACA,KAFD,CAFD;AAKA;;AAED,OAAI8H,GAAJ;AAAA,OAASqyD,OAAT;AAAA,OAAkBruC,IAAlB;AAAA,OAAwBw/D,GAAxB;AAAA,OACCn0B,OAAO,KAAM,CAAN,CADR;;AAGA,OAAK,CAACA,IAAN,EAAa;AACZ;AACA;;AAED;AACA;AACA;AACA;AACA,OAAK,CAACA,KAAK/qC,cAAL,GAAsBrtB,MAA5B,EAAqC;AACpC,WAAO,EAAEutB,KAAK,CAAP,EAAUzS,MAAM,CAAhB,EAAP;AACA;;AAEDiS,UAAOqrC,KAAKx9C,qBAAL,EAAP;;AAEA7R,SAAMqvD,KAAK58C,aAAX;AACA4/C,aAAUryD,IAAIqnB,eAAd;AACAm8D,SAAMxjF,IAAI+2D,WAAV;;AAEA,UAAO;AACNvyC,SAAKR,KAAKQ,GAAL,GAAWg/D,IAAI/7D,WAAf,GAA6B4qC,QAAQoxB,SADpC;AAEN1xE,UAAMiS,KAAKjS,IAAL,GAAYyxE,IAAIp8D,WAAhB,GAA8BirC,QAAQ1nC;AAFtC,IAAP;AAIA,GArCgB;;AAuCjBhI,YAAU,oBAAW;AACpB,OAAK,CAAC,KAAM,CAAN,CAAN,EAAkB;AACjB;AACA;;AAED,OAAI+gE,YAAJ;AAAA,OAAkBn7E,MAAlB;AAAA,OACC8mD,OAAO,KAAM,CAAN,CADR;AAAA,OAECs0B,eAAe,EAAEn/D,KAAK,CAAP,EAAUzS,MAAM,CAAhB,EAFhB;;AAIA;AACA;AACA,OAAKm8C,OAAOvxC,GAAP,CAAY0yC,IAAZ,EAAkB,UAAlB,MAAmC,OAAxC,EAAkD;;AAEjD;AACA9mD,aAAS8mD,KAAKx9C,qBAAL,EAAT;AAEA,IALD,MAKO;;AAEN;AACA6xE,mBAAe,KAAKA,YAAL,EAAf;;AAEA;AACAn7E,aAAS,KAAKA,MAAL,EAAT;AACA,QAAK,CAACggD,SAAUm7B,aAAc,CAAd,CAAV,EAA6B,MAA7B,CAAN,EAA8C;AAC7CC,oBAAeD,aAAan7E,MAAb,EAAf;AACA;;AAED;AACAo7E,mBAAe;AACdn/D,UAAKm/D,aAAan/D,GAAb,GAAmB0pC,OAAOvxC,GAAP,CAAY+mE,aAAc,CAAd,CAAZ,EAA+B,gBAA/B,EAAiD,IAAjD,CADV;AAEd3xE,WAAM4xE,aAAa5xE,IAAb,GAAoBm8C,OAAOvxC,GAAP,CAAY+mE,aAAc,CAAd,CAAZ,EAA+B,iBAA/B,EAAkD,IAAlD;AAFZ,KAAf;AAIA;;AAED;AACA,UAAO;AACNl/D,SAAKjc,OAAOic,GAAP,GAAam/D,aAAan/D,GAA1B,GAAgC0pC,OAAOvxC,GAAP,CAAY0yC,IAAZ,EAAkB,WAAlB,EAA+B,IAA/B,CAD/B;AAENt9C,UAAMxJ,OAAOwJ,IAAP,GAAc4xE,aAAa5xE,IAA3B,GAAkCm8C,OAAOvxC,GAAP,CAAY0yC,IAAZ,EAAkB,YAAlB,EAAgC,IAAhC;AAFlC,IAAP;AAIA,GA9EgB;;AAgFjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAq0B,gBAAc,wBAAW;AACxB,UAAO,KAAKjmF,GAAL,CAAU,YAAW;AAC3B,QAAIimF,eAAe,KAAKA,YAAxB;;AAEA,WAAQA,gBAAgBx1B,OAAOvxC,GAAP,CAAY+mE,YAAZ,EAA0B,UAA1B,MAA2C,QAAnE,EAA8E;AAC7EA,oBAAeA,aAAaA,YAA5B;AACA;;AAED,WAAOA,gBAAgBr8D,eAAvB;AACA,IARM,CAAP;AASA;AApGgB,EAAlB;;AAuGA;AACA6mC,QAAOiB,IAAP,CAAa,EAAE7nC,YAAY,aAAd,EAA6BI,WAAW,aAAxC,EAAb,EAAsE,UAAU8jC,MAAV,EAAkBrwD,IAAlB,EAAyB;AAC9F,MAAIqpB,MAAM,kBAAkBrpB,IAA5B;;AAEA+yD,SAAOE,EAAP,CAAW5C,MAAX,IAAsB,UAAU72C,GAAV,EAAgB;AACrC,UAAOuvD,OAAQ,IAAR,EAAc,UAAU7U,IAAV,EAAgB7D,MAAhB,EAAwB72C,GAAxB,EAA8B;;AAElD;AACA,QAAI6uE,GAAJ;AACA,QAAKt1B,OAAOiC,QAAP,CAAiBd,IAAjB,CAAL,EAA+B;AAC9Bm0B,WAAMn0B,IAAN;AACA,KAFD,MAEO,IAAKA,KAAK/1D,QAAL,KAAkB,CAAvB,EAA2B;AACjCkqF,WAAMn0B,KAAK0H,WAAX;AACA;;AAED,QAAKpiD,QAAQc,SAAb,EAAyB;AACxB,YAAO+tE,MAAMA,IAAKroF,IAAL,CAAN,GAAoBk0D,KAAM7D,MAAN,CAA3B;AACA;;AAED,QAAKg4B,GAAL,EAAW;AACVA,SAAIngC,QAAJ,CACC,CAAC7+B,GAAD,GAAO7P,GAAP,GAAa6uE,IAAIp8D,WADlB,EAEC5C,MAAM7P,GAAN,GAAY6uE,IAAI/7D,WAFjB;AAKA,KAND,MAMO;AACN4nC,UAAM7D,MAAN,IAAiB72C,GAAjB;AACA;AACD,IAvBM,EAuBJ62C,MAvBI,EAuBI72C,GAvBJ,EAuBS9Z,UAAU5D,MAvBnB,CAAP;AAwBA,GAzBD;AA0BA,EA7BD;;AA+BA;AACA;AACA;AACA;AACA;AACA;AACAi3D,QAAOiB,IAAP,CAAa,CAAE,KAAF,EAAS,MAAT,CAAb,EAAgC,UAAUj3D,CAAV,EAAaiD,IAAb,EAAoB;AACnD+yD,SAAOikB,QAAP,CAAiBh3E,IAAjB,IAA0B01E,aAAc9iB,QAAQsiB,aAAtB,EACzB,UAAUhhB,IAAV,EAAgBqhB,QAAhB,EAA2B;AAC1B,OAAKA,QAAL,EAAgB;AACfA,eAAWD,OAAQphB,IAAR,EAAcl0D,IAAd,CAAX;;AAEA;AACA,WAAOs0E,UAAU96E,IAAV,CAAgB+7E,QAAhB,IACNxiB,OAAQmB,IAAR,EAAe1sC,QAAf,GAA2BxnB,IAA3B,IAAoC,IAD9B,GAENu1E,QAFD;AAGA;AACD,GAVwB,CAA1B;AAYA,EAbD;;AAgBA;AACAxiB,QAAOiB,IAAP,CAAa,EAAEy0B,QAAQ,QAAV,EAAoBC,OAAO,OAA3B,EAAb,EAAmD,UAAUtwE,IAAV,EAAgB5L,IAAhB,EAAuB;AACzEumD,SAAOiB,IAAP,CAAa,EAAEpiC,SAAS,UAAUxZ,IAArB,EAA2B1b,SAAS8P,IAApC,EAA0C,IAAI,UAAU4L,IAAxD,EAAb,EACC,UAAUuwE,YAAV,EAAwBC,QAAxB,EAAmC;;AAEnC;AACA71B,UAAOE,EAAP,CAAW21B,QAAX,IAAwB,UAAU9yD,MAAV,EAAkB52B,KAAlB,EAA0B;AACjD,QAAI8pE,YAAYtpE,UAAU5D,MAAV,KAAsB6sF,gBAAgB,OAAO7yD,MAAP,KAAkB,SAAxD,CAAhB;AAAA,QACC8gD,QAAQ+R,iBAAkB7yD,WAAW,IAAX,IAAmB52B,UAAU,IAA7B,GAAoC,QAApC,GAA+C,QAAjE,CADT;;AAGA,WAAO6pE,OAAQ,IAAR,EAAc,UAAU7U,IAAV,EAAgB1nD,IAAhB,EAAsBtN,KAAtB,EAA8B;AAClD,SAAI2F,GAAJ;;AAEA,SAAKkuD,OAAOiC,QAAP,CAAiBd,IAAjB,CAAL,EAA+B;;AAE9B;AACA,aAAO00B,SAASloF,OAAT,CAAkB,OAAlB,MAAgC,CAAhC,GACNwzD,KAAM,UAAU97C,IAAhB,CADM,GAEN87C,KAAKn6D,QAAL,CAAcmyB,eAAd,CAA+B,WAAW9T,IAA1C,CAFD;AAGA;;AAED;AACA,SAAK87C,KAAK/1D,QAAL,KAAkB,CAAvB,EAA2B;AAC1B0G,YAAMqvD,KAAKhoC,eAAX;;AAEA;AACA;AACA,aAAOnqB,KAAK8I,GAAL,CACNqpD,KAAKx2D,IAAL,CAAW,WAAW0a,IAAtB,CADM,EACwBvT,IAAK,WAAWuT,IAAhB,CADxB,EAEN87C,KAAKx2D,IAAL,CAAW,WAAW0a,IAAtB,CAFM,EAEwBvT,IAAK,WAAWuT,IAAhB,CAFxB,EAGNvT,IAAK,WAAWuT,IAAhB,CAHM,CAAP;AAKA;;AAED,YAAOlZ,UAAUob,SAAV;;AAEN;AACAy4C,YAAOvxC,GAAP,CAAY0yC,IAAZ,EAAkB1nD,IAAlB,EAAwBoqE,KAAxB,CAHM;;AAKN;AACA7jB,YAAOp2D,KAAP,CAAcu3D,IAAd,EAAoB1nD,IAApB,EAA0BtN,KAA1B,EAAiC03E,KAAjC,CAND;AAOA,KA/BM,EA+BJpqE,IA/BI,EA+BEw8D,YAAYlzC,MAAZ,GAAqBxb,SA/BvB,EA+BkC0uD,SA/BlC,CAAP;AAgCA,IApCD;AAqCA,GAzCD;AA0CA,EA3CD;;AA8CAjW,QAAOE,EAAP,CAAU5zB,MAAV,CAAkB;;AAEjBjgC,QAAM,cAAUgT,KAAV,EAAiBiW,IAAjB,EAAuB4qC,EAAvB,EAA4B;AACjC,UAAO,KAAKr/C,EAAL,CAASxB,KAAT,EAAgB,IAAhB,EAAsBiW,IAAtB,EAA4B4qC,EAA5B,CAAP;AACA,GAJgB;AAKjB41B,UAAQ,gBAAUz2E,KAAV,EAAiB6gD,EAAjB,EAAsB;AAC7B,UAAO,KAAK/+C,GAAL,CAAU9B,KAAV,EAAiB,IAAjB,EAAuB6gD,EAAvB,CAAP;AACA,GAPgB;;AASjB61B,YAAU,kBAAU91B,QAAV,EAAoB5gD,KAApB,EAA2BiW,IAA3B,EAAiC4qC,EAAjC,EAAsC;AAC/C,UAAO,KAAKr/C,EAAL,CAASxB,KAAT,EAAgB4gD,QAAhB,EAA0B3qC,IAA1B,EAAgC4qC,EAAhC,CAAP;AACA,GAXgB;AAYjB81B,cAAY,oBAAU/1B,QAAV,EAAoB5gD,KAApB,EAA2B6gD,EAA3B,EAAgC;;AAE3C;AACA,UAAOvzD,UAAU5D,MAAV,KAAqB,CAArB,GACN,KAAKoY,GAAL,CAAU8+C,QAAV,EAAoB,IAApB,CADM,GAEN,KAAK9+C,GAAL,CAAU9B,KAAV,EAAiB4gD,YAAY,IAA7B,EAAmCC,EAAnC,CAFD;AAGA;AAlBgB,EAAlB;;AAqBAF,QAAOi2B,SAAP,GAAmB,UAAUC,IAAV,EAAiB;AACnC,MAAKA,IAAL,EAAY;AACXl2B,UAAO4V,SAAP;AACA,GAFD,MAEO;AACN5V,UAAO4Q,KAAP,CAAc,IAAd;AACA;AACD,EAND;AAOA5Q,QAAO0B,OAAP,GAAiBl1D,MAAMk1D,OAAvB;AACA1B,QAAOm2B,SAAP,GAAmBnf,KAAKC,KAAxB;AACAjX,QAAO3F,QAAP,GAAkBA,QAAlB;;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,KAAK,IAAL,EAAkD;AACjD+7B,EAAA,iCAAkB,EAAlB,kCAAsB,YAAW;AAChC,UAAOp2B,MAAP;AACA,GAFD;AAAA;AAGA;;AAKD;;AAEC;AACAq2B,WAAUjyE,OAAO47C,MAHlB;;;AAKC;AACAs2B,MAAKlyE,OAAOmyE,CANb;;AAQAv2B,QAAOw2B,UAAP,GAAoB,UAAUj1B,IAAV,EAAiB;AACpC,MAAKn9C,OAAOmyE,CAAP,KAAav2B,MAAlB,EAA2B;AAC1B57C,UAAOmyE,CAAP,GAAWD,EAAX;AACA;;AAED,MAAK/0B,QAAQn9C,OAAO47C,MAAP,KAAkBA,MAA/B,EAAwC;AACvC57C,UAAO47C,MAAP,GAAgBq2B,OAAhB;AACA;;AAED,SAAOr2B,MAAP;AACA,EAVD;;AAYA;AACA;AACA;AACA,KAAK,CAACV,QAAN,EAAiB;AAChBl7C,SAAO47C,MAAP,GAAgB57C,OAAOmyE,CAAP,GAAWv2B,MAA3B;AACA;;AAKD,QAAOA,MAAP;AACC,CA//TD,E;;;;;;;;;;;;ACbA;AACA;;AAEA,CAAC,UAAS3d,GAAT,EAAc;AACb,MAAI,gCAAOn8C,OAAP,MAAkB,QAAlB,IAA8B,gCAAOC,MAAP,MAAiB,QAAnD,EAA6D;AAC3Dk8C,QAAI,mBAAAo0C,CAAQ,CAAR,CAAJ,EADF,KAEK,IAAI,IAAJ,EAA+C;AAClDL,IAAA,iCAAO,CAAC,sBAAD,CAAP,oCAAiC/zC,GAAjC;AAAA;AAAA;AAAA,qGADG,KAEA;AACHA,QAAIj8C,UAAJ;AACH,CAPD,EAOG,UAASA,UAAT,EAAqB;AACxB;;AAEAA,aAAWgf,UAAX,CAAsB,YAAtB,EAAoC,UAASsxE,MAAT,EAAiBC,YAAjB,EAA+B;AACjE,QAAI7lC,aAAa4lC,OAAO5lC,UAAxB;AACA,QAAI8lC,kBAAkBD,aAAaC,eAAnC;AACA,QAAIC,aAAaF,aAAaG,MAA9B;AACA,QAAIC,WAAWJ,aAAa3G,IAAb,IAAqB6G,UAApC;AACA,QAAIG,OAAOL,aAAaM,UAAxB;AACA,QAAIC,SAASP,aAAaQ,cAAb,IAA+B,kBAA5C;;AAEA;;AAEA,QAAIC,WAAW,YAAU;AACvB,eAASC,EAAT,CAAY59E,IAAZ,EAAkB;AAAC,eAAO,EAACA,MAAMA,IAAP,EAAa7P,OAAO,SAApB,EAAP;AAAuC;AAC1D,UAAI0tF,IAAID,GAAG,WAAH,CAAR;AAAA,UAAyBE,IAAIF,GAAG,WAAH,CAA7B;AAAA,UAA8CG,IAAIH,GAAG,WAAH,CAAlD;AAAA,UAAmEI,IAAIJ,GAAG,WAAH,CAAvE;AACA,UAAIpsB,WAAWosB,GAAG,UAAH,CAAf;AAAA,UAA+BK,OAAO,EAACj+E,MAAM,MAAP,EAAe7P,OAAO,MAAtB,EAAtC;;AAEA,UAAI+tF,aAAa;AACf,cAAMN,GAAG,IAAH,CADS,EACC,SAASC,CADV,EACa,QAAQA,CADrB,EACwB,QAAQC,CADhC,EACmC,MAAMA,CADzC,EAC4C,OAAOA,CADnD,EACsD,WAAWA,CADjE;AAEf,kBAAUE,CAFK,EAEF,SAASA,CAFP,EAEU,YAAYA,CAFtB,EAEyB,OAAOJ,GAAG,KAAH,CAFhC,EAE2C,UAAUG,CAFrD,EAEwD,QAAQA,CAFhE,EAEmE,SAASA,CAF5E;AAGf,oBAAYH,GAAG,UAAH,CAHG,EAGa,OAAOA,GAAG,KAAH,CAHpB,EAG+B,SAASA,GAAG,KAAH,CAHxC,EAGmD,OAAOA,GAAG,KAAH,CAH1D;AAIf,oBAAYA,GAAG,UAAH,CAJG,EAIa,SAASA,GAAG,OAAH,CAJtB;AAKf,eAAOA,GAAG,KAAH,CALQ,EAKG,UAAUA,GAAG,QAAH,CALb,EAK2B,QAAQA,GAAG,MAAH,CALnC,EAK+C,WAAWA,GAAG,SAAH,CAL1D;AAMf,cAAMpsB,QANS,EAMC,UAAUA,QANX,EAMqB,cAAcA,QANnC;AAOf,gBAAQysB,IAPO,EAOD,SAASA,IAPR,EAOc,QAAQA,IAPtB,EAO4B,aAAaA,IAPzC,EAO+C,OAAOA,IAPtD,EAO4D,YAAYA,IAPxE;AAQf,gBAAQL,GAAG,MAAH,CARO,EAQK,SAASA,GAAG,OAAH,CARd,EAQ2B,SAASA,GAAG,MAAH,CARpC;AASf,iBAASG,CATM,EASH,UAAUH,GAAG,QAAH,CATP,EASqB,UAAUA,GAAG,QAAH,CAT/B,EAS6C,WAAWG,CATxD;AAUf,iBAASA;AAVM,OAAjB;;AAaA;AACA,UAAIR,IAAJ,EAAU;AACR,YAAIv9E,OAAO,EAACA,MAAM,UAAP,EAAmB7P,OAAO,MAA1B,EAAX;AACA,YAAIguF,aAAa;AACf;AACA,uBAAaP,GAAG,OAAH,CAFE;AAGf,wBAAcG,CAHC;AAIf,uBAAaA,CAJE;;AAMf;AACA,oBAAUH,GAAG,UAAH,CAPK;AAQf,qBAAWA,GAAG,UAAH,CARI;AASf,uBAAaA,GAAG,UAAH,CATE;AAUf,sBAAYA,GAAG,UAAH,CAVG;AAWf,sBAAYA,GAAG,UAAH,CAXG;;AAaf;AACA,oBAAU59E,IAdK,EAcC,UAAUA,IAdX,EAciB,WAAWA,IAd5B,EAckC,OAAOA;AAdzC,SAAjB;;AAiBA,aAAK,IAAI0wD,IAAT,IAAiBytB,UAAjB,EAA6B;AAC3BD,qBAAWxtB,IAAX,IAAmBytB,WAAWztB,IAAX,CAAnB;AACD;AACF;;AAED,aAAOwtB,UAAP;AACD,KA5Cc,EAAf;;AA8CA,QAAIE,iBAAiB,mBAArB;AACA,QAAIC,kBAAkB,uFAAtB;;AAEA,aAASC,UAAT,CAAoB1sE,MAApB,EAA4B;AAC1B,UAAI86C,UAAU,KAAd;AAAA,UAAqB3+C,IAArB;AAAA,UAA2BwwE,QAAQ,KAAnC;AACA,aAAO,CAACxwE,OAAO6D,OAAO7D,IAAP,EAAR,KAA0B,IAAjC,EAAuC;AACrC,YAAI,CAAC2+C,OAAL,EAAc;AACZ,cAAI3+C,QAAQ,GAAR,IAAe,CAACwwE,KAApB,EAA2B;AAC3B,cAAIxwE,QAAQ,GAAZ,EAAiBwwE,QAAQ,IAAR,CAAjB,KACK,IAAIA,SAASxwE,QAAQ,GAArB,EAA0BwwE,QAAQ,KAAR;AAChC;AACD7xB,kBAAU,CAACA,OAAD,IAAY3+C,QAAQ,IAA9B;AACD;AACF;;AAED;AACA;AACA,QAAI/N,IAAJ,EAAU9P,OAAV;AACA,aAASm3D,GAAT,CAAam3B,EAAb,EAAiBruF,KAAjB,EAAwBsuF,IAAxB,EAA8B;AAC5Bz+E,aAAOw+E,EAAP,CAAWtuF,UAAUuuF,IAAV;AACX,aAAOtuF,KAAP;AACD;AACD,aAASuuF,SAAT,CAAmB9sE,MAAnB,EAA2B9E,KAA3B,EAAkC;AAChC,UAAIjW,KAAK+a,OAAO7D,IAAP,EAAT;AACA,UAAIlX,MAAM,GAAN,IAAaA,MAAM,GAAvB,EAA4B;AAC1BiW,cAAMs9C,QAAN,GAAiBu0B,YAAY9nF,EAAZ,CAAjB;AACA,eAAOiW,MAAMs9C,QAAN,CAAex4C,MAAf,EAAuB9E,KAAvB,CAAP;AACD,OAHD,MAGO,IAAIjW,MAAM,GAAN,IAAa+a,OAAOpjB,KAAP,CAAa,wBAAb,CAAjB,EAAyD;AAC9D,eAAO64D,IAAI,QAAJ,EAAc,QAAd,CAAP;AACD,OAFM,MAEA,IAAIxwD,MAAM,GAAN,IAAa+a,OAAOpjB,KAAP,CAAa,IAAb,CAAjB,EAAqC;AAC1C,eAAO64D,IAAI,QAAJ,EAAc,MAAd,CAAP;AACD,OAFM,MAEA,IAAI,qBAAqBr6D,IAArB,CAA0B6J,EAA1B,CAAJ,EAAmC;AACxC,eAAOwwD,IAAIxwD,EAAJ,CAAP;AACD,OAFM,MAEA,IAAIA,MAAM,GAAN,IAAa+a,OAAO5D,GAAP,CAAW,GAAX,CAAjB,EAAkC;AACvC,eAAOq5C,IAAI,IAAJ,EAAU,UAAV,CAAP;AACD,OAFM,MAEA,IAAIxwD,MAAM,GAAN,IAAa+a,OAAO5D,GAAP,CAAW,IAAX,CAAjB,EAAmC;AACxC4D,eAAO1D,QAAP,CAAgB,UAAhB;AACA,eAAOm5C,IAAI,QAAJ,EAAc,QAAd,CAAP;AACD,OAHM,MAGA,IAAIxwD,MAAM,GAAN,IAAa+a,OAAO5D,GAAP,CAAW,IAAX,CAAjB,EAAmC;AACxC4D,eAAO1D,QAAP,CAAgB,QAAhB;AACA,eAAOm5C,IAAI,QAAJ,EAAc,QAAd,CAAP;AACD,OAHM,MAGA,IAAIxwD,MAAM,GAAN,IAAa+a,OAAO5D,GAAP,CAAW,IAAX,CAAjB,EAAmC;AACxC4D,eAAO1D,QAAP,CAAgB,OAAhB;AACA,eAAOm5C,IAAI,QAAJ,EAAc,QAAd,CAAP;AACD,OAHM,MAGA,IAAI,KAAKr6D,IAAL,CAAU6J,EAAV,CAAJ,EAAmB;AACxB+a,eAAOpjB,KAAP,CAAa,kCAAb;AACA,eAAO64D,IAAI,QAAJ,EAAc,QAAd,CAAP;AACD,OAHM,MAGA,IAAIxwD,MAAM,GAAV,EAAe;AACpB,YAAI+a,OAAO5D,GAAP,CAAW,GAAX,CAAJ,EAAqB;AACnBlB,gBAAMs9C,QAAN,GAAiBw0B,YAAjB;AACA,iBAAOA,aAAahtE,MAAb,EAAqB9E,KAArB,CAAP;AACD,SAHD,MAGO,IAAI8E,OAAO5D,GAAP,CAAW,GAAX,CAAJ,EAAqB;AAC1B4D,iBAAOvD,SAAP;AACA,iBAAOg5C,IAAI,SAAJ,EAAe,SAAf,CAAP;AACD,SAHM,MAGA,IAAIw3B,kBAAkBjtE,MAAlB,EAA0B9E,KAA1B,EAAiC,CAAjC,CAAJ,EAAyC;AAC9CwxE,qBAAW1sE,MAAX;AACAA,iBAAOpjB,KAAP,CAAa,iCAAb;AACA,iBAAO64D,IAAI,QAAJ,EAAc,UAAd,CAAP;AACD,SAJM,MAIA;AACLz1C,iBAAO5D,GAAP,CAAW,GAAX;AACA,iBAAOq5C,IAAI,UAAJ,EAAgB,UAAhB,EAA4Bz1C,OAAO3iB,OAAP,EAA5B,CAAP;AACD;AACF,OAfM,MAeA,IAAI4H,MAAM,GAAV,EAAe;AACpBiW,cAAMs9C,QAAN,GAAiB00B,UAAjB;AACA,eAAOA,WAAWltE,MAAX,EAAmB9E,KAAnB,CAAP;AACD,OAHM,MAGA,IAAIjW,MAAM,GAAV,EAAe;AACpB+a,eAAOvD,SAAP;AACA,eAAOg5C,IAAI,OAAJ,EAAa,OAAb,CAAP;AACD,OAHM,MAGA,IAAI+2B,eAAepxF,IAAf,CAAoB6J,EAApB,CAAJ,EAA6B;AAClC,YAAIA,MAAM,GAAN,IAAa,CAACiW,MAAMiyE,OAApB,IAA+BjyE,MAAMiyE,OAAN,CAAc/+E,IAAd,IAAsB,GAAzD,EAA8D;AAC5D,cAAI4R,OAAO5D,GAAP,CAAW,GAAX,CAAJ,EAAqB;AACnB,gBAAInX,MAAM,GAAN,IAAaA,MAAM,GAAvB,EAA4B+a,OAAO5D,GAAP,CAAW,GAAX;AAC7B,WAFD,MAEO,IAAI,WAAWhhB,IAAX,CAAgB6J,EAAhB,CAAJ,EAAyB;AAC9B+a,mBAAO5D,GAAP,CAAWnX,EAAX;AACA,gBAAIA,MAAM,GAAV,EAAe+a,OAAO5D,GAAP,CAAWnX,EAAX;AAChB;AACF;AACD,eAAOwwD,IAAI,UAAJ,EAAgB,UAAhB,EAA4Bz1C,OAAO3iB,OAAP,EAA5B,CAAP;AACD,OAVM,MAUA,IAAIwuF,OAAOzwF,IAAP,CAAY6J,EAAZ,CAAJ,EAAqB;AAC1B+a,eAAO1D,QAAP,CAAgBuvE,MAAhB;AACA,YAAItnC,OAAOvkC,OAAO3iB,OAAP,EAAX;AACA,YAAI6d,MAAMkyE,QAAN,IAAkB,GAAtB,EAA2B;AACzB,cAAIrB,SAASsB,oBAAT,CAA8B9oC,IAA9B,CAAJ,EAAyC;AACvC,gBAAIynC,KAAKD,SAASxnC,IAAT,CAAT;AACA,mBAAOkR,IAAIu2B,GAAG59E,IAAP,EAAa49E,GAAGztF,KAAhB,EAAuBgmD,IAAvB,CAAP;AACD;AACD,cAAIA,QAAQ,OAAR,IAAmBvkC,OAAOpjB,KAAP,CAAa,0BAAb,EAAyC,KAAzC,CAAvB,EACE,OAAO64D,IAAI,OAAJ,EAAa,SAAb,EAAwBlR,IAAxB,CAAP;AACH;AACD,eAAOkR,IAAI,UAAJ,EAAgB,UAAhB,EAA4BlR,IAA5B,CAAP;AACD;AACF;;AAED,aAASwoC,WAAT,CAAqBO,KAArB,EAA4B;AAC1B,aAAO,UAASttE,MAAT,EAAiB9E,KAAjB,EAAwB;AAC7B,YAAI4/C,UAAU,KAAd;AAAA,YAAqB3+C,IAArB;AACA,YAAIqvE,cAAcxrE,OAAO/D,IAAP,MAAiB,GAA/B,IAAsC+D,OAAOpjB,KAAP,CAAa6vF,eAAb,CAA1C,EAAwE;AACtEvxE,gBAAMs9C,QAAN,GAAiBs0B,SAAjB;AACA,iBAAOr3B,IAAI,gBAAJ,EAAsB,MAAtB,CAAP;AACD;AACD,eAAO,CAACt5C,OAAO6D,OAAO7D,IAAP,EAAR,KAA0B,IAAjC,EAAuC;AACrC,cAAIA,QAAQmxE,KAAR,IAAiB,CAACxyB,OAAtB,EAA+B;AAC/BA,oBAAU,CAACA,OAAD,IAAY3+C,QAAQ,IAA9B;AACD;AACD,YAAI,CAAC2+C,OAAL,EAAc5/C,MAAMs9C,QAAN,GAAiBs0B,SAAjB;AACd,eAAOr3B,IAAI,QAAJ,EAAc,QAAd,CAAP;AACD,OAZD;AAaD;;AAED,aAASu3B,YAAT,CAAsBhtE,MAAtB,EAA8B9E,KAA9B,EAAqC;AACnC,UAAIqyE,WAAW,KAAf;AAAA,UAAsBtoF,EAAtB;AACA,aAAOA,KAAK+a,OAAO7D,IAAP,EAAZ,EAA2B;AACzB,YAAIlX,MAAM,GAAN,IAAasoF,QAAjB,EAA2B;AACzBryE,gBAAMs9C,QAAN,GAAiBs0B,SAAjB;AACA;AACD;AACDS,mBAAYtoF,MAAM,GAAlB;AACD;AACD,aAAOwwD,IAAI,SAAJ,EAAe,SAAf,CAAP;AACD;;AAED,aAASy3B,UAAT,CAAoBltE,MAApB,EAA4B9E,KAA5B,EAAmC;AACjC,UAAI4/C,UAAU,KAAd;AAAA,UAAqB3+C,IAArB;AACA,aAAO,CAACA,OAAO6D,OAAO7D,IAAP,EAAR,KAA0B,IAAjC,EAAuC;AACrC,YAAI,CAAC2+C,OAAD,KAAa3+C,QAAQ,GAAR,IAAeA,QAAQ,GAAR,IAAe6D,OAAO5D,GAAP,CAAW,GAAX,CAA3C,CAAJ,EAAiE;AAC/DlB,gBAAMs9C,QAAN,GAAiBs0B,SAAjB;AACA;AACD;AACDhyB,kBAAU,CAACA,OAAD,IAAY3+C,QAAQ,IAA9B;AACD;AACD,aAAOs5C,IAAI,OAAJ,EAAa,UAAb,EAAyBz1C,OAAO3iB,OAAP,EAAzB,CAAP;AACD;;AAED,QAAImwF,WAAW,QAAf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAASC,YAAT,CAAsBztE,MAAtB,EAA8B9E,KAA9B,EAAqC;AACnC,UAAIA,MAAMwyE,UAAV,EAAsBxyE,MAAMwyE,UAAN,GAAmB,IAAnB;AACtB,UAAIC,QAAQ3tE,OAAOje,MAAP,CAAcO,OAAd,CAAsB,IAAtB,EAA4B0d,OAAOhhB,KAAnC,CAAZ;AACA,UAAI2uF,QAAQ,CAAZ,EAAe;;AAEf,UAAIhC,IAAJ,EAAU;AAAE;AACV,YAAI17E,IAAI,6CAA6C1U,IAA7C,CAAkDykB,OAAOje,MAAP,CAAcvE,KAAd,CAAoBwiB,OAAOhhB,KAA3B,EAAkC2uF,KAAlC,CAAlD,CAAR;AACA,YAAI19E,CAAJ,EAAO09E,QAAQ19E,EAAExS,KAAV;AACR;;AAED,UAAIorE,QAAQ,CAAZ;AAAA,UAAe+kB,eAAe,KAA9B;AACA,WAAK,IAAIpqF,MAAMmqF,QAAQ,CAAvB,EAA0BnqF,OAAO,CAAjC,EAAoC,EAAEA,GAAtC,EAA2C;AACzC,YAAIyB,KAAK+a,OAAOje,MAAP,CAAc+D,MAAd,CAAqBtC,GAArB,CAAT;AACA,YAAIqqF,UAAUL,SAASlrF,OAAT,CAAiB2C,EAAjB,CAAd;AACA,YAAI4oF,WAAW,CAAX,IAAgBA,UAAU,CAA9B,EAAiC;AAC/B,cAAI,CAAChlB,KAAL,EAAY;AAAE,cAAErlE,GAAF,CAAO;AAAQ;AAC7B,cAAI,EAAEqlE,KAAF,IAAW,CAAf,EAAkB;AAAE,gBAAI5jE,MAAM,GAAV,EAAe2oF,eAAe,IAAf,CAAqB;AAAQ;AACjE,SAHD,MAGO,IAAIC,WAAW,CAAX,IAAgBA,UAAU,CAA9B,EAAiC;AACtC,YAAEhlB,KAAF;AACD,SAFM,MAEA,IAAIgjB,OAAOzwF,IAAP,CAAY6J,EAAZ,CAAJ,EAAqB;AAC1B2oF,yBAAe,IAAf;AACD,SAFM,MAEA,IAAI,SAASxyF,IAAT,CAAc6J,EAAd,CAAJ,EAAuB;AAC5B;AACD,SAFM,MAEA,IAAI2oF,gBAAgB,CAAC/kB,KAArB,EAA4B;AACjC,YAAErlE,GAAF;AACA;AACD;AACF;AACD,UAAIoqF,gBAAgB,CAAC/kB,KAArB,EAA4B3tD,MAAMwyE,UAAN,GAAmBlqF,GAAnB;AAC7B;;AAED;;AAEA,QAAIsqF,cAAc,EAAC,QAAQ,IAAT,EAAe,UAAU,IAAzB,EAA+B,YAAY,IAA3C,EAAiD,UAAU,IAA3D,EAAiE,UAAU,IAA3E,EAAiF,QAAQ,IAAzF,EAA+F,kBAAkB,IAAjH,EAAlB;;AAEA,aAASC,SAAT,CAAmB3sE,QAAnB,EAA6BxE,MAA7B,EAAqCxO,IAArC,EAA2C4oB,KAA3C,EAAkD/iB,IAAlD,EAAwDqH,IAAxD,EAA8D;AAC5D,WAAK8F,QAAL,GAAgBA,QAAhB;AACA,WAAKxE,MAAL,GAAcA,MAAd;AACA,WAAKxO,IAAL,GAAYA,IAAZ;AACA,WAAK6F,IAAL,GAAYA,IAAZ;AACA,WAAKqH,IAAL,GAAYA,IAAZ;AACA,UAAI0b,SAAS,IAAb,EAAmB,KAAKA,KAAL,GAAaA,KAAb;AACpB;;AAED,aAASg3D,OAAT,CAAiB9yE,KAAjB,EAAwB+yE,OAAxB,EAAiC;AAC/B,WAAK,IAAIhiD,IAAI/wB,MAAMgzE,SAAnB,EAA8BjiD,CAA9B,EAAiCA,IAAIA,EAAE9vB,IAAvC;AACE,YAAI8vB,EAAEjyB,IAAF,IAAUi0E,OAAd,EAAuB,OAAO,IAAP;AADzB,OAEA,KAAK,IAAIE,KAAKjzE,MAAMiD,OAApB,EAA6BgwE,EAA7B,EAAiCA,KAAKA,GAAGl6E,IAAzC,EAA+C;AAC7C,aAAK,IAAIg4B,IAAIkiD,GAAGC,IAAhB,EAAsBniD,CAAtB,EAAyBA,IAAIA,EAAE9vB,IAA/B;AACE,cAAI8vB,EAAEjyB,IAAF,IAAUi0E,OAAd,EAAuB,OAAO,IAAP;AADzB;AAED;AACF;;AAED,aAASI,OAAT,CAAiBnzE,KAAjB,EAAwB3c,KAAxB,EAA+B6P,IAA/B,EAAqC9P,OAArC,EAA8C0hB,MAA9C,EAAsD;AACpD,UAAIsuE,KAAKpzE,MAAMozE,EAAf;AACA;AACA;AACAH,SAAGjzE,KAAH,GAAWA,KAAX,CAAkBizE,GAAGnuE,MAAH,GAAYA,MAAZ,CAAoBmuE,GAAGI,MAAH,GAAY,IAAZ,EAAkBJ,GAAGG,EAAH,GAAQA,EAA1B,CAA8BH,GAAG5vF,KAAH,GAAWA,KAAX;;AAEpE,UAAI,CAAC2c,MAAMiyE,OAAN,CAActrF,cAAd,CAA6B,OAA7B,CAAL,EACEqZ,MAAMiyE,OAAN,CAAcn2D,KAAd,GAAsB,IAAtB;;AAEF,aAAM,IAAN,EAAY;AACV,YAAI4qC,aAAa0sB,GAAG5wF,MAAH,GAAY4wF,GAAG1mD,GAAH,EAAZ,GAAuB8jD,WAAW8C,UAAX,GAAwBC,SAAhE;AACA,YAAI7sB,WAAWxzD,IAAX,EAAiB9P,OAAjB,CAAJ,EAA+B;AAC7B,iBAAMgwF,GAAG5wF,MAAH,IAAa4wF,GAAGA,GAAG5wF,MAAH,GAAY,CAAf,EAAkBgxF,GAArC;AACEJ,eAAG1mD,GAAH;AADF,WAEA,IAAIumD,GAAGI,MAAP,EAAe,OAAOJ,GAAGI,MAAV;AACf,cAAIngF,QAAQ,UAAR,IAAsB4/E,QAAQ9yE,KAAR,EAAe5c,OAAf,CAA1B,EAAmD,OAAO,YAAP;AACnD,iBAAOC,KAAP;AACD;AACF;AACF;;AAED;;AAEA,QAAI4vF,KAAK,EAACjzE,OAAO,IAAR,EAAc0B,QAAQ,IAAtB,EAA4B2xE,QAAQ,IAApC,EAA0CD,IAAI,IAA9C,EAAT;AACA,aAASK,IAAT,GAAgB;AACd,WAAK,IAAIhwF,IAAI2C,UAAU5D,MAAV,GAAmB,CAAhC,EAAmCiB,KAAK,CAAxC,EAA2CA,GAA3C;AAAgDwvF,WAAGG,EAAH,CAAMvqF,IAAN,CAAWzC,UAAU3C,CAAV,CAAX;AAAhD;AACD;AACD,aAASkuF,IAAT,GAAgB;AACd8B,WAAKptF,KAAL,CAAW,IAAX,EAAiBD,SAAjB;AACA,aAAO,IAAP;AACD;AACD,aAASstF,QAAT,CAAkBX,OAAlB,EAA2B;AACzB,eAASY,MAAT,CAAgB3oE,IAAhB,EAAsB;AACpB,aAAK,IAAI+lB,IAAI/lB,IAAb,EAAmB+lB,CAAnB,EAAsBA,IAAIA,EAAE9vB,IAA5B;AACE,cAAI8vB,EAAEjyB,IAAF,IAAUi0E,OAAd,EAAuB,OAAO,IAAP;AADzB,SAEA,OAAO,KAAP;AACD;AACD,UAAI/yE,QAAQizE,GAAGjzE,KAAf;AACAizE,SAAGI,MAAH,GAAY,KAAZ;AACA,UAAIrzE,MAAMiD,OAAV,EAAmB;AACjB,YAAI0wE,OAAO3zE,MAAMgzE,SAAb,CAAJ,EAA6B;AAC7BhzE,cAAMgzE,SAAN,GAAkB,EAACl0E,MAAMi0E,OAAP,EAAgB9xE,MAAMjB,MAAMgzE,SAA5B,EAAlB;AACD,OAHD,MAGO;AACL,YAAIW,OAAO3zE,MAAM4zE,UAAb,CAAJ,EAA8B;AAC9B,YAAIxD,aAAawD,UAAjB,EACE5zE,MAAM4zE,UAAN,GAAmB,EAAC90E,MAAMi0E,OAAP,EAAgB9xE,MAAMjB,MAAM4zE,UAA5B,EAAnB;AACH;AACF;;AAED;;AAEA,QAAIC,cAAc,EAAC/0E,MAAM,MAAP,EAAemC,MAAM,EAACnC,MAAM,WAAP,EAArB,EAAlB;AACA,aAASg1E,WAAT,GAAuB;AACrBb,SAAGjzE,KAAH,CAASiD,OAAT,GAAmB,EAAClK,MAAMk6E,GAAGjzE,KAAH,CAASiD,OAAhB,EAAyBiwE,MAAMD,GAAGjzE,KAAH,CAASgzE,SAAxC,EAAnB;AACAC,SAAGjzE,KAAH,CAASgzE,SAAT,GAAqBa,WAArB;AACD;AACD,aAASE,UAAT,GAAsB;AACpBd,SAAGjzE,KAAH,CAASgzE,SAAT,GAAqBC,GAAGjzE,KAAH,CAASiD,OAAT,CAAiBiwE,IAAtC;AACAD,SAAGjzE,KAAH,CAASiD,OAAT,GAAmBgwE,GAAGjzE,KAAH,CAASiD,OAAT,CAAiBlK,IAApC;AACD;AACD,aAASi7E,OAAT,CAAiB9gF,IAAjB,EAAuBkN,IAAvB,EAA6B;AAC3B,UAAI3C,SAAS,SAATA,MAAS,GAAW;AACtB,YAAIuC,QAAQizE,GAAGjzE,KAAf;AAAA,YAAsBoqC,SAASpqC,MAAMkG,QAArC;AACA,YAAIlG,MAAMiyE,OAAN,CAAc/+E,IAAd,IAAsB,MAA1B,EAAkCk3C,SAASpqC,MAAMiyE,OAAN,CAAc/rE,QAAvB,CAAlC,KACK,KAAK,IAAI9V,QAAQ4P,MAAMiyE,OAAvB,EAAgC7hF,SAASA,MAAM8C,IAAN,IAAc,GAAvB,IAA8B9C,MAAM0rB,KAApE,EAA2E1rB,QAAQA,MAAM2I,IAAzF;AACHqxC,mBAASh6C,MAAM8V,QAAf;AADG,SAELlG,MAAMiyE,OAAN,GAAgB,IAAIY,SAAJ,CAAczoC,MAAd,EAAsB6oC,GAAGnuE,MAAH,CAAUpD,MAAV,EAAtB,EAA0CxO,IAA1C,EAAgD,IAAhD,EAAsD8M,MAAMiyE,OAA5D,EAAqE7xE,IAArE,CAAhB;AACD,OAND;AAOA3C,aAAO+1E,GAAP,GAAa,IAAb;AACA,aAAO/1E,MAAP;AACD;AACD,aAASw2E,MAAT,GAAkB;AAChB,UAAIj0E,QAAQizE,GAAGjzE,KAAf;AACA,UAAIA,MAAMiyE,OAAN,CAAcl5E,IAAlB,EAAwB;AACtB,YAAIiH,MAAMiyE,OAAN,CAAc/+E,IAAd,IAAsB,GAA1B,EACE8M,MAAMkG,QAAN,GAAiBlG,MAAMiyE,OAAN,CAAc/rE,QAA/B;AACFlG,cAAMiyE,OAAN,GAAgBjyE,MAAMiyE,OAAN,CAAcl5E,IAA9B;AACD;AACF;AACDk7E,WAAOT,GAAP,GAAa,IAAb;;AAEA,aAASU,MAAT,CAAgBC,MAAhB,EAAwB;AACtB,eAASC,GAAT,CAAalhF,IAAb,EAAmB;AACjB,YAAIA,QAAQihF,MAAZ,EAAoB,OAAOxC,MAAP,CAApB,KACK,IAAIwC,UAAU,GAAd,EAAmB,OAAOV,MAAP,CAAnB,KACA,OAAO9B,KAAKyC,GAAL,CAAP;AACN;AACD,aAAOA,GAAP;AACD;;AAED,aAASb,SAAT,CAAmBrgF,IAAnB,EAAyBtN,KAAzB,EAAgC;AAC9B,UAAIsN,QAAQ,KAAZ,EAAmB,OAAOy+E,KAAKqC,QAAQ,QAAR,EAAkBpuF,MAAMpD,MAAxB,CAAL,EAAsC6xF,MAAtC,EAA8CH,OAAO,GAAP,CAA9C,EAA2DD,MAA3D,CAAP;AACnB,UAAI/gF,QAAQ,WAAZ,EAAyB,OAAOy+E,KAAKqC,QAAQ,MAAR,CAAL,EAAsBM,SAAtB,EAAiCf,SAAjC,EAA4CU,MAA5C,CAAP;AACzB,UAAI/gF,QAAQ,WAAZ,EAAyB,OAAOy+E,KAAKqC,QAAQ,MAAR,CAAL,EAAsBT,SAAtB,EAAiCU,MAAjC,CAAP;AACzB,UAAI/gF,QAAQ,WAAZ,EAAyB,OAAO+/E,GAAGnuE,MAAH,CAAUpjB,KAAV,CAAgB,OAAhB,EAAyB,KAAzB,IAAkCiwF,MAAlC,GAA2CA,KAAKqC,QAAQ,MAAR,CAAL,EAAsBO,eAAtB,EAAuCL,OAAO,GAAP,CAAvC,EAAoDD,MAApD,CAAlD;AACzB,UAAI/gF,QAAQ,UAAZ,EAAwB,OAAOy+E,KAAKuC,OAAO,GAAP,CAAL,CAAP;AACxB,UAAIhhF,QAAQ,GAAZ,EAAiB,OAAOy+E,KAAKqC,QAAQ,GAAR,CAAL,EAAmBQ,KAAnB,EAA0BP,MAA1B,CAAP;AACjB,UAAI/gF,QAAQ,GAAZ,EAAiB,OAAOy+E,MAAP;AACjB,UAAIz+E,QAAQ,IAAZ,EAAkB;AAChB,YAAI+/E,GAAGjzE,KAAH,CAASiyE,OAAT,CAAiB7xE,IAAjB,IAAyB,MAAzB,IAAmC6yE,GAAGjzE,KAAH,CAASozE,EAAT,CAAYH,GAAGjzE,KAAH,CAASozE,EAAT,CAAY5wF,MAAZ,GAAqB,CAAjC,KAAuCyxF,MAA9E,EACEhB,GAAGjzE,KAAH,CAASozE,EAAT,CAAY1mD,GAAZ;AACF,eAAOilD,KAAKqC,QAAQ,MAAR,CAAL,EAAsBM,SAAtB,EAAiCf,SAAjC,EAA4CU,MAA5C,EAAoDQ,SAApD,CAAP;AACD;AACD,UAAIvhF,QAAQ,UAAZ,EAAwB,OAAOy+E,KAAK+C,WAAL,CAAP;AACxB,UAAIxhF,QAAQ,KAAZ,EAAmB,OAAOy+E,KAAKqC,QAAQ,MAAR,CAAL,EAAsBW,OAAtB,EAA+BpB,SAA/B,EAA0CU,MAA1C,CAAP;AACnB,UAAI/gF,QAAQ,UAAZ,EAAwB;AACtB,YAAIu9E,QAAQ7qF,SAAS,MAArB,EAA6B;AAC3BqtF,aAAGI,MAAH,GAAY,SAAZ;AACA,iBAAO1B,KAAKiD,QAAL,EAAeV,OAAO,UAAP,CAAf,EAAmCU,QAAnC,EAA6CV,OAAO,GAAP,CAA7C,CAAP;AACD,SAHD,MAGO,IAAIzD,QAAQ7qF,SAAS,SAArB,EAAgC;AACrCqtF,aAAGI,MAAH,GAAY,SAAZ;AACA,iBAAO1B,KAAK4B,SAAL,CAAP;AACD,SAHM,MAGA,IAAI9C,SAAS7qF,SAAS,QAAT,IAAqBA,SAAS,MAAvC,KAAkDqtF,GAAGnuE,MAAH,CAAUpjB,KAAV,CAAgB,QAAhB,EAA0B,KAA1B,CAAtD,EAAwF;AAC7FuxF,aAAGI,MAAH,GAAY,SAAZ;AACA,iBAAO1B,KAAKqC,QAAQ,MAAR,CAAL,EAAsBpyE,OAAtB,EAA+BsyE,OAAO,GAAP,CAA/B,EAA4CF,QAAQ,GAAR,CAA5C,EAA0DQ,KAA1D,EAAiEP,MAAjE,EAAyEA,MAAzE,CAAP;AACD,SAHM,MAGA;AACL,iBAAOtC,KAAKqC,QAAQ,MAAR,CAAL,EAAsBa,UAAtB,CAAP;AACD;AACF;AACD,UAAI3hF,QAAQ,QAAZ,EAAsB,OAAOy+E,KAAKqC,QAAQ,MAAR,CAAL,EAAsBM,SAAtB,EAAiCJ,OAAO,GAAP,CAAjC,EAA8CF,QAAQ,GAAR,EAAa,QAAb,CAA9C,EACKQ,KADL,EACYP,MADZ,EACoBA,MADpB,CAAP;AAEtB,UAAI/gF,QAAQ,MAAZ,EAAoB,OAAOy+E,KAAK2B,UAAL,EAAiBY,OAAO,GAAP,CAAjB,CAAP;AACpB,UAAIhhF,QAAQ,SAAZ,EAAuB,OAAOy+E,KAAKuC,OAAO,GAAP,CAAL,CAAP;AACvB,UAAIhhF,QAAQ,OAAZ,EAAqB,OAAOy+E,KAAKqC,QAAQ,MAAR,CAAL,EAAsBF,WAAtB,EAAmCI,OAAO,GAAP,CAAnC,EAAgDY,MAAhD,EAAwDZ,OAAO,GAAP,CAAxD,EACKX,SADL,EACgBU,MADhB,EACwBF,UADxB,CAAP;AAErB,UAAI7gF,QAAQ,OAAZ,EAAqB,OAAOy+E,KAAKqC,QAAQ,MAAR,CAAL,EAAsB5xF,SAAtB,EAAiC6xF,MAAjC,CAAP;AACrB,UAAI/gF,QAAQ,QAAZ,EAAsB,OAAOy+E,KAAKqC,QAAQ,MAAR,CAAL,EAAsBe,WAAtB,EAAmCd,MAAnC,CAAP;AACtB,UAAI/gF,QAAQ,QAAZ,EAAsB,OAAOy+E,KAAKqC,QAAQ,MAAR,CAAL,EAAsBgB,WAAtB,EAAmCf,MAAnC,CAAP;AACtB,UAAI/gF,QAAQ,OAAZ,EAAqB,OAAOy+E,KAAK4B,SAAL,CAAP;AACrB,UAAI3tF,SAAS,GAAb,EAAkB,OAAO+rF,KAAK2B,UAAL,EAAiBC,SAAjB,CAAP;AAClB,aAAOE,KAAKO,QAAQ,MAAR,CAAL,EAAsBV,UAAtB,EAAkCY,OAAO,GAAP,CAAlC,EAA+CD,MAA/C,CAAP;AACD;AACD,aAASX,UAAT,CAAoBpgF,IAApB,EAA0B;AACxB,aAAO+hF,gBAAgB/hF,IAAhB,EAAsB,KAAtB,CAAP;AACD;AACD,aAASgiF,iBAAT,CAA2BhiF,IAA3B,EAAiC;AAC/B,aAAO+hF,gBAAgB/hF,IAAhB,EAAsB,IAAtB,CAAP;AACD;AACD,aAASohF,SAAT,CAAmBphF,IAAnB,EAAyB;AACvB,UAAIA,QAAQ,GAAZ,EAAiB,OAAOugF,MAAP;AACjB,aAAO9B,KAAKqC,QAAQ,GAAR,CAAL,EAAmBV,UAAnB,EAA+BY,OAAO,GAAP,CAA/B,EAA4CD,MAA5C,CAAP;AACD;AACD,aAASgB,eAAT,CAAyB/hF,IAAzB,EAA+BiiF,OAA/B,EAAwC;AACtC,UAAIlC,GAAGjzE,KAAH,CAASwyE,UAAT,IAAuBS,GAAGnuE,MAAH,CAAUhhB,KAArC,EAA4C;AAC1C,YAAIM,OAAO+wF,UAAUC,gBAAV,GAA6BC,SAAxC;AACA,YAAIniF,QAAQ,GAAZ,EAAiB,OAAOy+E,KAAKmC,WAAL,EAAkBE,QAAQ,GAAR,CAAlB,EAAgCsB,SAASR,MAAT,EAAiB,GAAjB,CAAhC,EAAuDb,MAAvD,EAA+DC,OAAO,IAAP,CAA/D,EAA6E9vF,IAA7E,EAAmF2vF,UAAnF,CAAP,CAAjB,KACK,IAAI7gF,QAAQ,UAAZ,EAAwB,OAAOugF,KAAKK,WAAL,EAAkBlyE,OAAlB,EAA2BsyE,OAAO,IAAP,CAA3B,EAAyC9vF,IAAzC,EAA+C2vF,UAA/C,CAAP;AAC9B;;AAED,UAAIwB,UAAUJ,UAAUK,oBAAV,GAAiCC,kBAA/C;AACA,UAAI7C,YAAYjsF,cAAZ,CAA2BuM,IAA3B,CAAJ,EAAsC,OAAOy+E,KAAK4D,OAAL,CAAP;AACtC,UAAIriF,QAAQ,UAAZ,EAAwB,OAAOy+E,KAAK+C,WAAL,EAAkBa,OAAlB,CAAP;AACxB,UAAIriF,QAAQ,OAAZ,EAAqB,OAAOy+E,KAAKqC,QAAQ,MAAR,CAAL,EAAsB0B,eAAtB,EAAuCzB,MAAvC,CAAP;AACrB,UAAI/gF,QAAQ,WAAR,IAAuBA,QAAQ,OAAnC,EAA4C,OAAOy+E,KAAKwD,UAAUD,iBAAV,GAA8B5B,UAAnC,CAAP;AAC5C,UAAIpgF,QAAQ,GAAZ,EAAiB,OAAOy+E,KAAKqC,QAAQ,GAAR,CAAL,EAAmBO,eAAnB,EAAoCL,OAAO,GAAP,CAApC,EAAiDD,MAAjD,EAAyDsB,OAAzD,CAAP;AACjB,UAAIriF,QAAQ,UAAR,IAAsBA,QAAQ,QAAlC,EAA4C,OAAOy+E,KAAKwD,UAAUD,iBAAV,GAA8B5B,UAAnC,CAAP;AAC5C,UAAIpgF,QAAQ,GAAZ,EAAiB,OAAOy+E,KAAKqC,QAAQ,GAAR,CAAL,EAAmB2B,YAAnB,EAAiC1B,MAAjC,EAAyCsB,OAAzC,CAAP;AACjB,UAAIriF,QAAQ,GAAZ,EAAiB,OAAO0iF,aAAaC,OAAb,EAAsB,GAAtB,EAA2B,IAA3B,EAAiCN,OAAjC,CAAP;AACjB,UAAIriF,QAAQ,OAAZ,EAAqB,OAAOugF,KAAKqC,KAAL,EAAYP,OAAZ,CAAP;AACrB,UAAIriF,QAAQ,KAAZ,EAAmB,OAAOy+E,KAAKoE,YAAYZ,OAAZ,CAAL,CAAP;AACnB,aAAOxD,MAAP;AACD;AACD,aAAS4C,eAAT,CAAyBrhF,IAAzB,EAA+B;AAC7B,UAAIA,KAAKxR,KAAL,CAAW,YAAX,CAAJ,EAA8B,OAAO+xF,MAAP;AAC9B,aAAOA,KAAKH,UAAL,CAAP;AACD;;AAED,aAASmC,kBAAT,CAA4BviF,IAA5B,EAAkCtN,KAAlC,EAAyC;AACvC,UAAIsN,QAAQ,GAAZ,EAAiB,OAAOy+E,KAAK2B,UAAL,CAAP;AACjB,aAAOkC,qBAAqBtiF,IAArB,EAA2BtN,KAA3B,EAAkC,KAAlC,CAAP;AACD;AACD,aAAS4vF,oBAAT,CAA8BtiF,IAA9B,EAAoCtN,KAApC,EAA2CuvF,OAA3C,EAAoD;AAClD,UAAIxiD,KAAKwiD,WAAW,KAAX,GAAmBM,kBAAnB,GAAwCD,oBAAjD;AACA,UAAI9xB,OAAOyxB,WAAW,KAAX,GAAmB7B,UAAnB,GAAgC4B,iBAA3C;AACA,UAAIhiF,QAAQ,IAAZ,EAAkB,OAAOy+E,KAAKmC,WAAL,EAAkBqB,UAAUC,gBAAV,GAA6BC,SAA/C,EAA0DtB,UAA1D,CAAP;AAClB,UAAI7gF,QAAQ,UAAZ,EAAwB;AACtB,YAAI,UAAUhT,IAAV,CAAe0F,KAAf,KAAyB6qF,QAAQ7qF,SAAS,GAA9C,EAAmD,OAAO+rF,KAAKh/C,EAAL,CAAP;AACnD,YAAI89C,QAAQ7qF,SAAS,GAAjB,IAAwBqtF,GAAGnuE,MAAH,CAAUpjB,KAAV,CAAgB,sBAAhB,EAAwC,KAAxC,CAA5B,EACE,OAAOiwF,KAAKqC,QAAQ,GAAR,CAAL,EAAmBsB,SAASV,QAAT,EAAmB,GAAnB,CAAnB,EAA4CX,MAA5C,EAAoDthD,EAApD,CAAP;AACF,YAAI/sC,SAAS,GAAb,EAAkB,OAAO+rF,KAAK2B,UAAL,EAAiBY,OAAO,GAAP,CAAjB,EAA8BxwB,IAA9B,CAAP;AAClB,eAAOiuB,KAAKjuB,IAAL,CAAP;AACD;AACD,UAAIxwD,QAAQ,OAAZ,EAAqB;AAAE,eAAOugF,KAAKqC,KAAL,EAAYnjD,EAAZ,CAAP;AAAyB;AAChD,UAAIz/B,QAAQ,GAAZ,EAAiB;AACjB,UAAIA,QAAQ,GAAZ,EAAiB,OAAO0iF,aAAaV,iBAAb,EAAgC,GAAhC,EAAqC,MAArC,EAA6CviD,EAA7C,CAAP;AACjB,UAAIz/B,QAAQ,GAAZ,EAAiB,OAAOy+E,KAAKqE,QAAL,EAAerjD,EAAf,CAAP;AACjB,UAAIz/B,QAAQ,GAAZ,EAAiB,OAAOy+E,KAAKqC,QAAQ,GAAR,CAAL,EAAmBO,eAAnB,EAAoCL,OAAO,GAAP,CAApC,EAAiDD,MAAjD,EAAyDthD,EAAzD,CAAP;AACjB,UAAI89C,QAAQ7qF,SAAS,IAArB,EAA2B;AAAEqtF,WAAGI,MAAH,GAAY,SAAZ,CAAuB,OAAO1B,KAAKiD,QAAL,EAAejiD,EAAf,CAAP;AAA2B;AAC/E,UAAIz/B,QAAQ,QAAZ,EAAsB;AACpB+/E,WAAGjzE,KAAH,CAASkyE,QAAT,GAAoBe,GAAGI,MAAH,GAAY,UAAhC;AACAJ,WAAGnuE,MAAH,CAAUrD,MAAV,CAAiBwxE,GAAGnuE,MAAH,CAAUxc,GAAV,GAAgB2qF,GAAGnuE,MAAH,CAAUhhB,KAA1B,GAAkC,CAAnD;AACA,eAAO6tF,KAAKjuB,IAAL,CAAP;AACD;AACF;AACD,aAASoyB,KAAT,CAAe5iF,IAAf,EAAqBtN,KAArB,EAA4B;AAC1B,UAAIsN,QAAQ,OAAZ,EAAqB,OAAOugF,MAAP;AACrB,UAAI7tF,MAAMtD,KAAN,CAAYsD,MAAMpD,MAAN,GAAe,CAA3B,KAAiC,IAArC,EAA2C,OAAOmvF,KAAKmE,KAAL,CAAP;AAC3C,aAAOnE,KAAK2B,UAAL,EAAiB2C,aAAjB,CAAP;AACD;AACD,aAASA,aAAT,CAAuB/iF,IAAvB,EAA6B;AAC3B,UAAIA,QAAQ,GAAZ,EAAiB;AACf+/E,WAAGI,MAAH,GAAY,UAAZ;AACAJ,WAAGjzE,KAAH,CAASs9C,QAAT,GAAoB00B,UAApB;AACA,eAAOL,KAAKmE,KAAL,CAAP;AACD;AACF;AACD,aAAST,SAAT,CAAmBniF,IAAnB,EAAyB;AACvBq/E,mBAAaU,GAAGnuE,MAAhB,EAAwBmuE,GAAGjzE,KAA3B;AACA,aAAOyzE,KAAKvgF,QAAQ,GAAR,GAAcqgF,SAAd,GAA0BD,UAA/B,CAAP;AACD;AACD,aAAS8B,gBAAT,CAA0BliF,IAA1B,EAAgC;AAC9Bq/E,mBAAaU,GAAGnuE,MAAhB,EAAwBmuE,GAAGjzE,KAA3B;AACA,aAAOyzE,KAAKvgF,QAAQ,GAAR,GAAcqgF,SAAd,GAA0B2B,iBAA/B,CAAP;AACD;AACD,aAASa,WAAT,CAAqBZ,OAArB,EAA8B;AAC5B,aAAO,UAASjiF,IAAT,EAAe;AACpB,YAAIA,QAAQ,GAAZ,EAAiB,OAAOy+E,KAAKwD,UAAUe,aAAV,GAA0B1vF,MAA/B,CAAP,CAAjB,KACK,IAAI0M,QAAQ,UAAR,IAAsBu9E,IAA1B,EAAgC,OAAOkB,KAAKwE,aAAL,EAAoBhB,UAAUK,oBAAV,GAAiCC,kBAArD,CAAP,CAAhC,KACA,OAAOhC,KAAK0B,UAAUD,iBAAV,GAA8B5B,UAAnC,CAAP;AACN,OAJD;AAKD;AACD,aAAS9sF,MAAT,CAAgBm5D,CAAhB,EAAmB/5D,KAAnB,EAA0B;AACxB,UAAIA,SAAS,QAAb,EAAuB;AAAEqtF,WAAGI,MAAH,GAAY,SAAZ,CAAuB,OAAO1B,KAAK8D,kBAAL,CAAP;AAAkC;AACnF;AACD,aAASS,aAAT,CAAuBv2B,CAAvB,EAA0B/5D,KAA1B,EAAiC;AAC/B,UAAIA,SAAS,QAAb,EAAuB;AAAEqtF,WAAGI,MAAH,GAAY,SAAZ,CAAuB,OAAO1B,KAAK6D,oBAAL,CAAP;AAAoC;AACrF;AACD,aAASX,UAAT,CAAoB3hF,IAApB,EAA0B;AACxB,UAAIA,QAAQ,GAAZ,EAAiB,OAAOy+E,KAAKsC,MAAL,EAAaV,SAAb,CAAP;AACjB,aAAOE,KAAKgC,kBAAL,EAAyBvB,OAAO,GAAP,CAAzB,EAAsCD,MAAtC,CAAP;AACD;AACD,aAAS+B,QAAT,CAAkB9iF,IAAlB,EAAwB;AACtB,UAAIA,QAAQ,UAAZ,EAAwB;AAAC+/E,WAAGI,MAAH,GAAY,UAAZ,CAAwB,OAAO1B,MAAP;AAAe;AACjE;AACD,aAASkE,OAAT,CAAiB3iF,IAAjB,EAAuBtN,KAAvB,EAA8B;AAC5B,UAAIsN,QAAQ,OAAZ,EAAqB;AACnB+/E,WAAGI,MAAH,GAAY,UAAZ;AACA,eAAO1B,KAAKkE,OAAL,CAAP;AACD,OAHD,MAGO,IAAI3iF,QAAQ,UAAR,IAAsB+/E,GAAG5vF,KAAH,IAAY,SAAtC,EAAiD;AACtD4vF,WAAGI,MAAH,GAAY,UAAZ;AACA,YAAIztF,SAAS,KAAT,IAAkBA,SAAS,KAA/B,EAAsC,OAAO+rF,KAAKyE,YAAL,CAAP;AACtC,YAAIrhF,CAAJ,CAHsD,CAGhD;AACN,YAAI07E,QAAQwC,GAAGjzE,KAAH,CAASwyE,UAAT,IAAuBS,GAAGnuE,MAAH,CAAUhhB,KAAzC,KAAmDiR,IAAIk+E,GAAGnuE,MAAH,CAAUpjB,KAAV,CAAgB,UAAhB,EAA4B,KAA5B,CAAvD,CAAJ,EACEuxF,GAAGjzE,KAAH,CAASwyE,UAAT,GAAsBS,GAAGnuE,MAAH,CAAUxc,GAAV,GAAgByM,EAAE,CAAF,EAAKvS,MAA3C;AACF,eAAOmvF,KAAK0E,SAAL,CAAP;AACD,OAPM,MAOA,IAAInjF,QAAQ,QAAR,IAAoBA,QAAQ,QAAhC,EAA0C;AAC/C+/E,WAAGI,MAAH,GAAY/C,aAAa,UAAb,GAA2B2C,GAAG5vF,KAAH,GAAW,WAAlD;AACA,eAAOsuF,KAAK0E,SAAL,CAAP;AACD,OAHM,MAGA,IAAInjF,QAAQ,gBAAZ,EAA8B;AACnC,eAAOy+E,KAAK0E,SAAL,CAAP;AACD,OAFM,MAEA,IAAInjF,QAAQ,UAAZ,EAAwB;AAC7B,eAAOy+E,KAAKkE,OAAL,CAAP;AACD,OAFM,MAEA,IAAI3iF,QAAQ,GAAZ,EAAiB;AACtB,eAAOy+E,KAAK2B,UAAL,EAAiBY,OAAO,GAAP,CAAjB,EAA8BmC,SAA9B,CAAP;AACD,OAFM,MAEA,IAAInjF,QAAQ,QAAZ,EAAsB;AAC3B,eAAOy+E,KAAKuD,iBAAL,EAAwBmB,SAAxB,CAAP;AACD,OAFM,MAEA,IAAIzwF,SAAS,GAAb,EAAkB;AACvBqtF,WAAGI,MAAH,GAAY,SAAZ;AACA,eAAO1B,KAAKkE,OAAL,CAAP;AACD,OAHM,MAGA,IAAI3iF,QAAQ,GAAZ,EAAiB;AACtB,eAAOugF,KAAK4C,SAAL,CAAP;AACD;AACF;AACD,aAASD,YAAT,CAAsBljF,IAAtB,EAA4B;AAC1B,UAAIA,QAAQ,UAAZ,EAAwB,OAAOugF,KAAK4C,SAAL,CAAP;AACxBpD,SAAGI,MAAH,GAAY,UAAZ;AACA,aAAO1B,KAAK+C,WAAL,CAAP;AACD;AACD,aAAS2B,SAAT,CAAmBnjF,IAAnB,EAAyB;AACvB,UAAIA,QAAQ,GAAZ,EAAiB,OAAOy+E,KAAKuD,iBAAL,CAAP;AACjB,UAAIhiF,QAAQ,GAAZ,EAAiB,OAAOugF,KAAKiB,WAAL,CAAP;AAClB;AACD,aAASY,QAAT,CAAkB3wB,IAAlB,EAAwB5gE,GAAxB,EAA6BuyF,GAA7B,EAAkC;AAChC,eAASC,OAAT,CAAiBrjF,IAAjB,EAAuBtN,KAAvB,EAA8B;AAC5B,YAAI0wF,MAAMA,IAAIlvF,OAAJ,CAAY8L,IAAZ,IAAoB,CAAC,CAA3B,GAA+BA,QAAQ,GAA3C,EAAgD;AAC9C,cAAIsgF,MAAMP,GAAGjzE,KAAH,CAASiyE,OAAnB;AACA,cAAIuB,IAAIpzE,IAAJ,IAAY,MAAhB,EAAwBozE,IAAIlrF,GAAJ,GAAU,CAACkrF,IAAIlrF,GAAJ,IAAW,CAAZ,IAAiB,CAA3B;AACxB,iBAAOqpF,KAAK,UAASz+E,IAAT,EAAetN,KAAf,EAAsB;AAChC,gBAAIsN,QAAQnP,GAAR,IAAe6B,SAAS7B,GAA5B,EAAiC,OAAO0vF,MAAP;AACjC,mBAAOA,KAAK9uB,IAAL,CAAP;AACD,WAHM,EAGJ4xB,OAHI,CAAP;AAID;AACD,YAAIrjF,QAAQnP,GAAR,IAAe6B,SAAS7B,GAA5B,EAAiC,OAAO4tF,MAAP;AACjC,eAAOA,KAAKuC,OAAOnwF,GAAP,CAAL,CAAP;AACD;AACD,aAAO,UAASmP,IAAT,EAAetN,KAAf,EAAsB;AAC3B,YAAIsN,QAAQnP,GAAR,IAAe6B,SAAS7B,GAA5B,EAAiC,OAAO4tF,MAAP;AACjC,eAAO8B,KAAK9uB,IAAL,EAAW4xB,OAAX,CAAP;AACD,OAHD;AAID;AACD,aAASX,YAAT,CAAsBjxB,IAAtB,EAA4B5gE,GAA5B,EAAiCqc,IAAjC,EAAuC;AACrC,WAAK,IAAI3c,IAAI,CAAb,EAAgBA,IAAI2C,UAAU5D,MAA9B,EAAsCiB,GAAtC;AACEwvF,WAAGG,EAAH,CAAMvqF,IAAN,CAAWzC,UAAU3C,CAAV,CAAX;AADF,OAEA,OAAOkuF,KAAKqC,QAAQjwF,GAAR,EAAaqc,IAAb,CAAL,EAAyBk1E,SAAS3wB,IAAT,EAAe5gE,GAAf,CAAzB,EAA8CkwF,MAA9C,CAAP;AACD;AACD,aAASO,KAAT,CAAethF,IAAf,EAAqB;AACnB,UAAIA,QAAQ,GAAZ,EAAiB,OAAOy+E,MAAP;AACjB,aAAO8B,KAAKF,SAAL,EAAgBiB,KAAhB,CAAP;AACD;AACD,aAASgC,SAAT,CAAmBtjF,IAAnB,EAAyBtN,KAAzB,EAAgC;AAC9B,UAAI6qF,IAAJ,EAAU;AACR,YAAIv9E,QAAQ,GAAZ,EAAiB,OAAOy+E,KAAKiD,QAAL,CAAP;AACjB,YAAIhvF,SAAS,GAAb,EAAkB,OAAO+rF,KAAK6E,SAAL,CAAP;AACnB;AACF;AACD,aAASC,YAAT,CAAsBvjF,IAAtB,EAA4B;AAC1B,UAAIu9E,QAAQv9E,QAAQ,GAApB,EAAyB;AACvB,YAAI+/E,GAAGnuE,MAAH,CAAUpjB,KAAV,CAAgB,gBAAhB,EAAkC,KAAlC,CAAJ,EAA8C,OAAOiwF,KAAK2B,UAAL,EAAiBoD,IAAjB,EAAuB9B,QAAvB,CAAP,CAA9C,KACK,OAAOjD,KAAKiD,QAAL,CAAP;AACN;AACF;AACD,aAAS8B,IAAT,CAAc/2B,CAAd,EAAiB/5D,KAAjB,EAAwB;AACtB,UAAIA,SAAS,IAAb,EAAmB;AACjBqtF,WAAGI,MAAH,GAAY,SAAZ;AACA,eAAO1B,MAAP;AACD;AACF;AACD,aAASiD,QAAT,CAAkB1hF,IAAlB,EAAwBtN,KAAxB,EAA+B;AAC7B,UAAIsN,QAAQ,UAAR,IAAsBtN,SAAS,MAAnC,EAA2C;AACzC,YAAIA,SAAS,OAAb,EAAsB;AACpBqtF,aAAGI,MAAH,GAAY,SAAZ;AACA,iBAAO1B,KAAKiD,QAAL,CAAP;AACD,SAHD,MAGO;AACL3B,aAAGI,MAAH,GAAY,MAAZ;AACA,iBAAO1B,KAAKgF,SAAL,CAAP;AACD;AACF;AACD,UAAIzjF,QAAQ,QAAR,IAAoBA,QAAQ,QAA5B,IAAwCA,QAAQ,MAApD,EAA4D,OAAOy+E,KAAKgF,SAAL,CAAP;AAC5D,UAAIzjF,QAAQ,GAAZ,EAAiB,OAAOy+E,KAAKqC,QAAQ,GAAR,CAAL,EAAmBsB,SAASV,QAAT,EAAmB,GAAnB,EAAwB,GAAxB,CAAnB,EAAiDX,MAAjD,EAAyD0C,SAAzD,CAAP;AACjB,UAAIzjF,QAAQ,GAAZ,EAAiB,OAAOy+E,KAAKqC,QAAQ,GAAR,CAAL,EAAmBsB,SAASsB,QAAT,EAAmB,GAAnB,EAAwB,IAAxB,CAAnB,EAAkD3C,MAAlD,EAA0D0C,SAA1D,CAAP;AACjB,UAAIzjF,QAAQ,GAAZ,EAAiB,OAAOy+E,KAAK2D,SAASuB,OAAT,EAAkB,GAAlB,CAAL,EAA6BC,eAA7B,CAAP;AAClB;AACD,aAASA,eAAT,CAAyB5jF,IAAzB,EAA+B;AAC7B,UAAIA,QAAQ,IAAZ,EAAkB,OAAOy+E,KAAKiD,QAAL,CAAP;AACnB;AACD,aAASgC,QAAT,CAAkB1jF,IAAlB,EAAwBtN,KAAxB,EAA+B;AAC7B,UAAIsN,QAAQ,UAAR,IAAsB+/E,GAAG5vF,KAAH,IAAY,SAAtC,EAAiD;AAC/C4vF,WAAGI,MAAH,GAAY,UAAZ;AACA,eAAO1B,KAAKiF,QAAL,CAAP;AACD,OAHD,MAGO,IAAIhxF,SAAS,GAAb,EAAkB;AACvB,eAAO+rF,KAAKiF,QAAL,CAAP;AACD,OAFM,MAEA,IAAI1jF,QAAQ,GAAZ,EAAiB;AACtB,eAAOy+E,KAAKiD,QAAL,CAAP;AACD,OAFM,MAEA,IAAI1hF,QAAQ,GAAZ,EAAiB;AACtB,eAAOy+E,KAAK2B,UAAL,EAAiBkD,SAAjB,EAA4BtC,OAAO,GAAP,CAA5B,EAAyC0C,QAAzC,CAAP;AACD;AACF;AACD,aAASC,OAAT,CAAiB3jF,IAAjB,EAAuB;AACrB,UAAIA,QAAQ,UAAZ,EAAwB,OAAOy+E,KAAKkF,OAAL,CAAP,CAAxB,KACK,IAAI3jF,QAAQ,GAAZ,EAAiB,OAAOy+E,KAAKiD,QAAL,CAAP;AACvB;AACD,aAAS+B,SAAT,CAAmBzjF,IAAnB,EAAyBtN,KAAzB,EAAgC;AAC9B,UAAIA,SAAS,GAAb,EAAkB,OAAO+rF,KAAKqC,QAAQ,GAAR,CAAL,EAAmBsB,SAASV,QAAT,EAAmB,GAAnB,CAAnB,EAA4CX,MAA5C,EAAoD0C,SAApD,CAAP;AAClB,UAAI/wF,SAAS,GAAT,IAAgBsN,QAAQ,GAA5B,EAAiC,OAAOy+E,KAAKiD,QAAL,CAAP;AACjC,UAAI1hF,QAAQ,GAAZ,EAAiB,OAAOy+E,KAAKuC,OAAO,GAAP,CAAL,EAAkByC,SAAlB,CAAP;AACjB,UAAI/wF,SAAS,SAAb,EAAwB,OAAO+rF,KAAKiD,QAAL,CAAP;AACzB;AACD,aAASuB,aAAT,CAAuBx2B,CAAvB,EAA0B/5D,KAA1B,EAAiC;AAC/B,UAAIA,SAAS,GAAb,EAAkB,OAAO+rF,KAAKqC,QAAQ,GAAR,CAAL,EAAmBsB,SAASV,QAAT,EAAmB,GAAnB,CAAnB,EAA4CX,MAA5C,EAAoD0C,SAApD,CAAP;AACnB;AACD,aAASI,SAAT,GAAqB;AACnB,aAAOtD,KAAKmB,QAAL,EAAeoC,gBAAf,CAAP;AACD;AACD,aAASA,gBAAT,CAA0Br3B,CAA1B,EAA6B/5D,KAA7B,EAAoC;AAClC,UAAIA,SAAS,GAAb,EAAkB,OAAO+rF,KAAKiD,QAAL,CAAP;AACnB;AACD,aAASP,MAAT,GAAkB;AAChB,aAAOZ,KAAK7xE,OAAL,EAAc40E,SAAd,EAAyBS,WAAzB,EAAsCC,UAAtC,CAAP;AACD;AACD,aAASt1E,OAAT,CAAiB1O,IAAjB,EAAuBtN,KAAvB,EAA8B;AAC5B,UAAIsN,QAAQ,UAAZ,EAAwB,OAAOy+E,KAAK/vE,OAAL,CAAP;AACxB,UAAI1O,QAAQ,UAAZ,EAAwB;AAAEwgF,iBAAS9tF,KAAT,EAAiB,OAAO+rF,MAAP;AAAgB;AAC3D,UAAIz+E,QAAQ,QAAZ,EAAsB,OAAOy+E,KAAK/vE,OAAL,CAAP;AACtB,UAAI1O,QAAQ,GAAZ,EAAiB,OAAO0iF,aAAah0E,OAAb,EAAsB,GAAtB,CAAP;AACjB,UAAI1O,QAAQ,GAAZ,EAAiB,OAAO0iF,aAAauB,WAAb,EAA0B,GAA1B,CAAP;AAClB;AACD,aAASA,WAAT,CAAqBjkF,IAArB,EAA2BtN,KAA3B,EAAkC;AAChC,UAAIsN,QAAQ,UAAR,IAAsB,CAAC+/E,GAAGnuE,MAAH,CAAUpjB,KAAV,CAAgB,OAAhB,EAAyB,KAAzB,CAA3B,EAA4D;AAC1DgyF,iBAAS9tF,KAAT;AACA,eAAO+rF,KAAKsF,WAAL,CAAP;AACD;AACD,UAAI/jF,QAAQ,UAAZ,EAAwB+/E,GAAGI,MAAH,GAAY,UAAZ;AACxB,UAAIngF,QAAQ,QAAZ,EAAsB,OAAOy+E,KAAK/vE,OAAL,CAAP;AACtB,UAAI1O,QAAQ,GAAZ,EAAiB,OAAOugF,MAAP;AACjB,aAAO9B,KAAKuC,OAAO,GAAP,CAAL,EAAkBtyE,OAAlB,EAA2Bq1E,WAA3B,CAAP;AACD;AACD,aAASA,WAAT,CAAqBG,KAArB,EAA4BxxF,KAA5B,EAAmC;AACjC,UAAIA,SAAS,GAAb,EAAkB,OAAO+rF,KAAKuD,iBAAL,CAAP;AACnB;AACD,aAASgC,UAAT,CAAoBhkF,IAApB,EAA0B;AACxB,UAAIA,QAAQ,GAAZ,EAAiB,OAAOy+E,KAAK0C,MAAL,CAAP;AAClB;AACD,aAASI,SAAT,CAAmBvhF,IAAnB,EAAyBtN,KAAzB,EAAgC;AAC9B,UAAIsN,QAAQ,WAAR,IAAuBtN,SAAS,MAApC,EAA4C,OAAO+rF,KAAKqC,QAAQ,MAAR,EAAgB,MAAhB,CAAL,EAA8BT,SAA9B,EAAyCU,MAAzC,CAAP;AAC7C;AACD,aAASU,OAAT,CAAiBzhF,IAAjB,EAAuB;AACrB,UAAIA,QAAQ,GAAZ,EAAiB,OAAOy+E,KAAKqC,QAAQ,GAAR,CAAL,EAAmBqD,QAAnB,EAA6BnD,OAAO,GAAP,CAA7B,EAA0CD,MAA1C,CAAP;AAClB;AACD,aAASoD,QAAT,CAAkBnkF,IAAlB,EAAwB;AACtB,UAAIA,QAAQ,KAAZ,EAAmB,OAAOy+E,KAAK0C,MAAL,EAAaH,OAAO,GAAP,CAAb,EAA0BoD,QAA1B,CAAP;AACnB,UAAIpkF,QAAQ,GAAZ,EAAiB,OAAOy+E,KAAK2F,QAAL,CAAP;AACjB,UAAIpkF,QAAQ,UAAZ,EAAwB,OAAOy+E,KAAK4F,YAAL,CAAP;AACxB,aAAO9D,KAAKH,UAAL,EAAiBY,OAAO,GAAP,CAAjB,EAA8BoD,QAA9B,CAAP;AACD;AACD,aAASC,YAAT,CAAsBH,KAAtB,EAA6BxxF,KAA7B,EAAoC;AAClC,UAAIA,SAAS,IAAT,IAAiBA,SAAS,IAA9B,EAAoC;AAAEqtF,WAAGI,MAAH,GAAY,SAAZ,CAAuB,OAAO1B,KAAK2B,UAAL,CAAP;AAA0B;AACvF,aAAO3B,KAAK8D,kBAAL,EAAyB6B,QAAzB,CAAP;AACD;AACD,aAASA,QAAT,CAAkBpkF,IAAlB,EAAwBtN,KAAxB,EAA+B;AAC7B,UAAIsN,QAAQ,GAAZ,EAAiB,OAAOy+E,KAAK6F,QAAL,CAAP;AACjB,UAAI5xF,SAAS,IAAT,IAAiBA,SAAS,IAA9B,EAAoC;AAAEqtF,WAAGI,MAAH,GAAY,SAAZ,CAAuB,OAAO1B,KAAK2B,UAAL,CAAP;AAA0B;AACvF,aAAOG,KAAKH,UAAL,EAAiBY,OAAO,GAAP,CAAjB,EAA8BsD,QAA9B,CAAP;AACD;AACD,aAASA,QAAT,CAAkBtkF,IAAlB,EAAwB;AACtB,UAAIA,QAAQ,GAAZ,EAAiBy+E,KAAK2B,UAAL;AAClB;AACD,aAASoB,WAAT,CAAqBxhF,IAArB,EAA2BtN,KAA3B,EAAkC;AAChC,UAAIA,SAAS,GAAb,EAAkB;AAACqtF,WAAGI,MAAH,GAAY,SAAZ,CAAuB,OAAO1B,KAAK+C,WAAL,CAAP;AAA0B;AACpE,UAAIxhF,QAAQ,UAAZ,EAAwB;AAACwgF,iBAAS9tF,KAAT,EAAiB,OAAO+rF,KAAK+C,WAAL,CAAP;AAA0B;AACpE,UAAIxhF,QAAQ,GAAZ,EAAiB,OAAOy+E,KAAKmC,WAAL,EAAkBE,QAAQ,GAAR,CAAlB,EAAgCsB,SAASR,MAAT,EAAiB,GAAjB,CAAhC,EAAuDb,MAAvD,EAA+DwC,YAA/D,EAA6ElD,SAA7E,EAAwFQ,UAAxF,CAAP;AACjB,UAAItD,QAAQ7qF,SAAS,GAArB,EAA0B,OAAO+rF,KAAKqC,QAAQ,GAAR,CAAL,EAAmBsB,SAASyB,SAAT,EAAoB,GAApB,CAAnB,EAA6C9C,MAA7C,EAAqDS,WAArD,CAAP;AAC3B;AACD,aAASI,MAAT,CAAgB5hF,IAAhB,EAAsBtN,KAAtB,EAA6B;AAC3B,UAAIA,SAAS,GAAb,EAAkB+rF,KAAK2B,UAAL,EAAiBwB,MAAjB;AAClB,UAAI5hF,QAAQ,QAAR,IAAoBA,QAAQ,UAAhC,EAA4C,OAAOy+E,KAAKmD,MAAL,CAAP;AAC5C,aAAOrB,KAAK7xE,OAAL,EAAc40E,SAAd,EAAyBS,WAAzB,CAAP;AACD;AACD,aAASvB,eAAT,CAAyBxiF,IAAzB,EAA+BtN,KAA/B,EAAsC;AACpC;AACA,UAAIsN,QAAQ,UAAZ,EAAwB,OAAO9Q,UAAU8Q,IAAV,EAAgBtN,KAAhB,CAAP;AACxB,aAAO6xF,eAAevkF,IAAf,EAAqBtN,KAArB,CAAP;AACD;AACD,aAASxD,SAAT,CAAmB8Q,IAAnB,EAAyBtN,KAAzB,EAAgC;AAC9B,UAAIsN,QAAQ,UAAZ,EAAwB;AAACwgF,iBAAS9tF,KAAT,EAAiB,OAAO+rF,KAAK8F,cAAL,CAAP;AAA6B;AACxE;AACD,aAASA,cAAT,CAAwBvkF,IAAxB,EAA8BtN,KAA9B,EAAqC;AACnC,UAAIA,SAAS,GAAb,EAAkB,OAAO+rF,KAAKqC,QAAQ,GAAR,CAAL,EAAmBsB,SAASyB,SAAT,EAAoB,GAApB,CAAnB,EAA6C9C,MAA7C,EAAqDwD,cAArD,CAAP;AAClB,UAAI7xF,SAAS,SAAT,IAAsBA,SAAS,YAA/B,IAAgD6qF,QAAQv9E,QAAQ,GAApE,EACE,OAAOy+E,KAAKlB,OAAOmE,QAAP,GAAkBtB,UAAvB,EAAmCmE,cAAnC,CAAP;AACF,UAAIvkF,QAAQ,GAAZ,EAAiB,OAAOy+E,KAAKqC,QAAQ,GAAR,CAAL,EAAmB0D,SAAnB,EAA8BzD,MAA9B,CAAP;AAClB;AACD,aAASyD,SAAT,CAAmBxkF,IAAnB,EAAyBtN,KAAzB,EAAgC;AAC9B,UAAIsN,QAAQ,UAAR,IAAsBA,QAAQ,OAA9B,IACCA,QAAQ,UAAR,KACCtN,SAAS,QAAT,IAAqBA,SAAS,KAA9B,IAAuCA,SAAS,KADjD,KAEAqtF,GAAGnuE,MAAH,CAAUpjB,KAAV,CAAgB,sBAAhB,EAAwC,KAAxC,CAHL,EAGsD;AACpDuxF,WAAGI,MAAH,GAAY,SAAZ;AACA,eAAO1B,KAAK+F,SAAL,CAAP;AACD;AACD,UAAIxkF,QAAQ,UAAR,IAAsB+/E,GAAG5vF,KAAH,IAAY,SAAtC,EAAiD;AAC/C4vF,WAAGI,MAAH,GAAY,UAAZ;AACA,eAAO1B,KAAKlB,OAAOkH,UAAP,GAAoBjD,WAAzB,EAAsCgD,SAAtC,CAAP;AACD;AACD,UAAIxkF,QAAQ,GAAZ,EACE,OAAOy+E,KAAK2B,UAAL,EAAiBY,OAAO,GAAP,CAAjB,EAA8BzD,OAAOkH,UAAP,GAAoBjD,WAAlD,EAA+DgD,SAA/D,CAAP;AACF,UAAI9xF,SAAS,GAAb,EAAkB;AAChBqtF,WAAGI,MAAH,GAAY,SAAZ;AACA,eAAO1B,KAAK+F,SAAL,CAAP;AACD;AACD,UAAIxkF,QAAQ,GAAZ,EAAiB,OAAOy+E,KAAK+F,SAAL,CAAP;AACjB,UAAIxkF,QAAQ,GAAZ,EAAiB,OAAOy+E,MAAP;AACjB,UAAI/rF,SAAS,GAAb,EAAkB,OAAO+rF,KAAK2B,UAAL,EAAiBoE,SAAjB,CAAP;AACnB;AACD,aAASC,UAAT,CAAoBzkF,IAApB,EAA0BtN,KAA1B,EAAiC;AAC/B,UAAIA,SAAS,GAAb,EAAkB,OAAO+rF,KAAKgG,UAAL,CAAP;AAClB,UAAIzkF,QAAQ,GAAZ,EAAiB,OAAOy+E,KAAKiD,QAAL,EAAeqC,WAAf,CAAP;AACjB,UAAIrxF,SAAS,GAAb,EAAkB,OAAO+rF,KAAKuD,iBAAL,CAAP;AAClB,aAAOzB,KAAKiB,WAAL,CAAP;AACD;AACD,aAASK,WAAT,CAAqB7hF,IAArB,EAA2BtN,KAA3B,EAAkC;AAChC,UAAIA,SAAS,GAAb,EAAkB;AAAEqtF,WAAGI,MAAH,GAAY,SAAZ,CAAuB,OAAO1B,KAAKiG,SAAL,EAAgB1D,OAAO,GAAP,CAAhB,CAAP;AAAsC;AACjF,UAAItuF,SAAS,SAAb,EAAwB;AAAEqtF,WAAGI,MAAH,GAAY,SAAZ,CAAuB,OAAO1B,KAAK2B,UAAL,EAAiBY,OAAO,GAAP,CAAjB,CAAP;AAAuC;AACxF,UAAIhhF,QAAQ,GAAZ,EAAiB,OAAOy+E,KAAK2D,SAASuC,WAAT,EAAsB,GAAtB,CAAL,EAAiCD,SAAjC,EAA4C1D,OAAO,GAAP,CAA5C,CAAP;AACjB,aAAOT,KAAKF,SAAL,CAAP;AACD;AACD,aAASsE,WAAT,CAAqB3kF,IAArB,EAA2BtN,KAA3B,EAAkC;AAChC,UAAIA,SAAS,IAAb,EAAmB;AAAEqtF,WAAGI,MAAH,GAAY,SAAZ,CAAuB,OAAO1B,KAAKuC,OAAO,UAAP,CAAL,CAAP;AAAkC;AAC9E,UAAIhhF,QAAQ,UAAZ,EAAwB,OAAOugF,KAAKyB,iBAAL,EAAwB2C,WAAxB,CAAP;AACzB;AACD,aAAS7C,WAAT,CAAqB9hF,IAArB,EAA2B;AACzB,UAAIA,QAAQ,QAAZ,EAAsB,OAAOy+E,MAAP;AACtB,aAAO8B,KAAKqE,UAAL,EAAiBC,gBAAjB,EAAmCH,SAAnC,CAAP;AACD;AACD,aAASE,UAAT,CAAoB5kF,IAApB,EAA0BtN,KAA1B,EAAiC;AAC/B,UAAIsN,QAAQ,GAAZ,EAAiB,OAAO0iF,aAAakC,UAAb,EAAyB,GAAzB,CAAP;AACjB,UAAI5kF,QAAQ,UAAZ,EAAwBwgF,SAAS9tF,KAAT;AACxB,UAAIA,SAAS,GAAb,EAAkBqtF,GAAGI,MAAH,GAAY,SAAZ;AAClB,aAAO1B,KAAKqG,OAAL,CAAP;AACD;AACD,aAASD,gBAAT,CAA0B7kF,IAA1B,EAAgC;AAC9B,UAAIA,QAAQ,GAAZ,EAAiB,OAAOy+E,KAAKmG,UAAL,EAAiBC,gBAAjB,CAAP;AAClB;AACD,aAASC,OAAT,CAAiBZ,KAAjB,EAAwBxxF,KAAxB,EAA+B;AAC7B,UAAIA,SAAS,IAAb,EAAmB;AAAEqtF,WAAGI,MAAH,GAAY,SAAZ,CAAuB,OAAO1B,KAAKmG,UAAL,CAAP;AAA0B;AACvE;AACD,aAASF,SAAT,CAAmBR,KAAnB,EAA0BxxF,KAA1B,EAAiC;AAC/B,UAAIA,SAAS,MAAb,EAAqB;AAAEqtF,WAAGI,MAAH,GAAY,SAAZ,CAAuB,OAAO1B,KAAK2B,UAAL,CAAP;AAA0B;AACzE;AACD,aAASqC,YAAT,CAAsBziF,IAAtB,EAA4B;AAC1B,UAAIA,QAAQ,GAAZ,EAAiB,OAAOy+E,MAAP;AACjB,aAAO8B,KAAK6B,SAASJ,iBAAT,EAA4B,GAA5B,CAAL,CAAP;AACD;;AAED,aAAS+C,oBAAT,CAA8Bj4E,KAA9B,EAAqCk4E,SAArC,EAAgD;AAC9C,aAAOl4E,MAAMkyE,QAAN,IAAkB,UAAlB,IAAgClyE,MAAMkyE,QAAN,IAAkB,GAAlD,IACLZ,eAAepxF,IAAf,CAAoBg4F,UAAUttF,MAAV,CAAiB,CAAjB,CAApB,CADK,IAEL,OAAO1K,IAAP,CAAYg4F,UAAUttF,MAAV,CAAiB,CAAjB,CAAZ,CAFF;AAGD;;AAED,aAASmnF,iBAAT,CAA2BjtE,MAA3B,EAAmC9E,KAAnC,EAA0CyB,MAA1C,EAAkD;AAChD,aAAOzB,MAAMs9C,QAAN,IAAkBs0B,SAAlB,IACL,iFAAiF1xF,IAAjF,CAAsF8f,MAAMkyE,QAA5F,CADK,IAEJlyE,MAAMkyE,QAAN,IAAkB,OAAlB,IAA6B,SAAShyF,IAAT,CAAc4kB,OAAOje,MAAP,CAAcvE,KAAd,CAAoB,CAApB,EAAuBwiB,OAAOxc,GAAP,IAAcmZ,UAAU,CAAxB,CAAvB,CAAd,CAFhC;AAGD;;AAED;;AAEA,WAAO;AACLpB,kBAAY,oBAAS83E,UAAT,EAAqB;AAC/B,YAAIn4E,QAAQ;AACVs9C,oBAAUs0B,SADA;AAEVM,oBAAU,KAFA;AAGVkB,cAAI,EAHM;AAIVnB,mBAAS,IAAIY,SAAJ,CAAc,CAACsF,cAAc,CAAf,IAAoB5tC,UAAlC,EAA8C,CAA9C,EAAiD,OAAjD,EAA0D,KAA1D,CAJC;AAKVyoC,qBAAW5C,aAAa4C,SALd;AAMV/vE,mBAASmtE,aAAa4C,SAAb,IAA0B,EAACE,MAAM9C,aAAa4C,SAApB,EANzB;AAOV9sE,oBAAUiyE,cAAc;AAPd,SAAZ;AASA,YAAI/H,aAAawD,UAAb,IAA2B,QAAOxD,aAAawD,UAApB,KAAkC,QAAjE,EACE5zE,MAAM4zE,UAAN,GAAmBxD,aAAawD,UAAhC;AACF,eAAO5zE,KAAP;AACD,OAdI;;AAgBLkF,aAAO,eAASJ,MAAT,EAAiB9E,KAAjB,EAAwB;AAC7B,YAAI8E,OAAOhE,GAAP,EAAJ,EAAkB;AAChB,cAAI,CAACd,MAAMiyE,OAAN,CAActrF,cAAd,CAA6B,OAA7B,CAAL,EACEqZ,MAAMiyE,OAAN,CAAcn2D,KAAd,GAAsB,KAAtB;AACF9b,gBAAMkG,QAAN,GAAiBpB,OAAOnD,WAAP,EAAjB;AACA4wE,uBAAaztE,MAAb,EAAqB9E,KAArB;AACD;AACD,YAAIA,MAAMs9C,QAAN,IAAkBw0B,YAAlB,IAAkChtE,OAAOzD,QAAP,EAAtC,EAAyD,OAAO,IAAP;AACzD,YAAIhe,QAAQ2c,MAAMs9C,QAAN,CAAex4C,MAAf,EAAuB9E,KAAvB,CAAZ;AACA,YAAI9M,QAAQ,SAAZ,EAAuB,OAAO7P,KAAP;AACvB2c,cAAMkyE,QAAN,GAAiBh/E,QAAQ,UAAR,KAAuB9P,WAAW,IAAX,IAAmBA,WAAW,IAArD,IAA6D,QAA7D,GAAwE8P,IAAzF;AACA,eAAOigF,QAAQnzE,KAAR,EAAe3c,KAAf,EAAsB6P,IAAtB,EAA4B9P,OAA5B,EAAqC0hB,MAArC,CAAP;AACD,OA5BI;;AA8BLslC,cAAQ,gBAASpqC,KAAT,EAAgBk4E,SAAhB,EAA2B;AACjC,YAAIl4E,MAAMs9C,QAAN,IAAkBw0B,YAAtB,EAAoC,OAAOjyF,WAAWgI,IAAlB;AACpC,YAAImY,MAAMs9C,QAAN,IAAkBs0B,SAAtB,EAAiC,OAAO,CAAP;AACjC,YAAIwG,YAAYF,aAAaA,UAAUttF,MAAV,CAAiB,CAAjB,CAA7B;AAAA,YAAkDqnF,UAAUjyE,MAAMiyE,OAAlE;AAAA,YAA2EliE,GAA3E;AACA;AACA,YAAI,CAAC,aAAa7vB,IAAb,CAAkBg4F,SAAlB,CAAL,EAAmC,KAAK,IAAIz0F,IAAIuc,MAAMozE,EAAN,CAAS5wF,MAAT,GAAkB,CAA/B,EAAkCiB,KAAK,CAAvC,EAA0C,EAAEA,CAA5C,EAA+C;AAChF,cAAI40F,IAAIr4E,MAAMozE,EAAN,CAAS3vF,CAAT,CAAR;AACA,cAAI40F,KAAKpE,MAAT,EAAiBhC,UAAUA,QAAQl5E,IAAlB,CAAjB,KACK,IAAIs/E,KAAK5D,SAAT,EAAoB;AAC1B;AACD,eAAO,CAACxC,QAAQ/+E,IAAR,IAAgB,MAAhB,IAA0B++E,QAAQ/+E,IAAR,IAAgB,MAA3C,MACCklF,aAAa,GAAb,IAAqB,CAACroE,MAAM/P,MAAMozE,EAAN,CAASpzE,MAAMozE,EAAN,CAAS5wF,MAAT,GAAkB,CAA3B,CAAP,MACCutB,OAAO0lE,kBAAP,IAA6B1lE,OAAOylE,oBADrC,KAEA,CAAC,mBAAmBt1F,IAAnB,CAAwBg4F,SAAxB,CAHvB,CAAP;AAIEjG,oBAAUA,QAAQl5E,IAAlB;AAJF,SAKA,IAAIs3E,mBAAmB4B,QAAQ/+E,IAAR,IAAgB,GAAnC,IAA0C++E,QAAQl5E,IAAR,CAAa7F,IAAb,IAAqB,MAAnE,EACE++E,UAAUA,QAAQl5E,IAAlB;AACF,YAAI7F,OAAO++E,QAAQ/+E,IAAnB;AAAA,YAAyBmgD,UAAU+kC,aAAallF,IAAhD;;AAEA,YAAIA,QAAQ,QAAZ,EAAsB,OAAO++E,QAAQ/rE,QAAR,IAAoBlG,MAAMkyE,QAAN,IAAkB,UAAlB,IAAgClyE,MAAMkyE,QAAN,IAAkB,GAAlD,GAAwDD,QAAQ7xE,IAAR,GAAe,CAAvE,GAA2E,CAA/F,CAAP,CAAtB,KACK,IAAIlN,QAAQ,MAAR,IAAkBklF,aAAa,GAAnC,EAAwC,OAAOnG,QAAQ/rE,QAAf,CAAxC,KACA,IAAIhT,QAAQ,MAAZ,EAAoB,OAAO++E,QAAQ/rE,QAAR,GAAmBqkC,UAA1B,CAApB,KACA,IAAIr3C,QAAQ,MAAZ,EACH,OAAO++E,QAAQ/rE,QAAR,IAAoB+xE,qBAAqBj4E,KAArB,EAA4Bk4E,SAA5B,IAAyC7H,mBAAmB9lC,UAA5D,GAAyE,CAA7F,CAAP,CADG,KAEA,IAAI0nC,QAAQ7xE,IAAR,IAAgB,QAAhB,IAA4B,CAACizC,OAA7B,IAAwC+8B,aAAakI,kBAAb,IAAmC,KAA/E,EACH,OAAOrG,QAAQ/rE,QAAR,IAAoB,sBAAsBhmB,IAAtB,CAA2Bg4F,SAA3B,IAAwC3tC,UAAxC,GAAqD,IAAIA,UAA7E,CAAP,CADG,KAEA,IAAI0nC,QAAQn2D,KAAZ,EAAmB,OAAOm2D,QAAQvwE,MAAR,IAAkB2xC,UAAU,CAAV,GAAc,CAAhC,CAAP,CAAnB,KACA,OAAO4+B,QAAQ/rE,QAAR,IAAoBmtC,UAAU,CAAV,GAAc9I,UAAlC,CAAP;AACN,OA1DI;;AA4DLwB,qBAAe,mCA5DV;AA6DLwsC,yBAAmB/H,WAAW,IAAX,GAAkB,IA7DhC;AA8DLgI,uBAAiBhI,WAAW,IAAX,GAAkB,IA9D9B;AA+DLiI,4BAAsBjI,WAAW,IAAX,GAAkB,KA/DnC;AAgELkI,mBAAalI,WAAW,IAAX,GAAkB,IAhE1B;AAiELmI,YAAM,OAjED;AAkELC,qBAAe,gBAlEV;;AAoELl5E,kBAAY8wE,WAAW,MAAX,GAAoB,YApE3B;AAqELF,kBAAYA,UArEP;AAsELE,gBAAUA,QAtEL;;AAwELuB,yBAAmBA,iBAxEd;;AA0EL8G,sBAAgB,wBAAS74E,KAAT,EAAgB;AAC9B,YAAI+P,MAAM/P,MAAMozE,EAAN,CAASpzE,MAAMozE,EAAN,CAAS5wF,MAAT,GAAkB,CAA3B,CAAV;AACA,YAAIutB,OAAOujE,UAAP,IAAqBvjE,OAAOmlE,iBAAhC,EAAmDl1E,MAAMozE,EAAN,CAAS1mD,GAAT;AACpD;AA7EI,KAAP;AA+ED,GA90BD;;AAg1BA7sC,aAAWsvD,cAAX,CAA0B,WAA1B,EAAuC,YAAvC,EAAqD,OAArD;;AAEAtvD,aAAWof,UAAX,CAAsB,iBAAtB,EAAyC,YAAzC;AACApf,aAAWof,UAAX,CAAsB,iBAAtB,EAAyC,YAAzC;AACApf,aAAWof,UAAX,CAAsB,wBAAtB,EAAgD,YAAhD;AACApf,aAAWof,UAAX,CAAsB,0BAAtB,EAAkD,YAAlD;AACApf,aAAWof,UAAX,CAAsB,wBAAtB,EAAgD,YAAhD;AACApf,aAAWof,UAAX,CAAsB,kBAAtB,EAA0C,EAACH,MAAM,YAAP,EAAqB2qE,MAAM,IAA3B,EAA1C;AACA5pF,aAAWof,UAAX,CAAsB,oBAAtB,EAA4C,EAACH,MAAM,YAAP,EAAqB2qE,MAAM,IAA3B,EAA5C;AACA5pF,aAAWof,UAAX,CAAsB,qBAAtB,EAA6C,EAACH,MAAM,YAAP,EAAqByxE,QAAQ,IAA7B,EAA7C;AACA1wF,aAAWof,UAAX,CAAsB,iBAAtB,EAAyC,EAAEH,MAAM,YAAR,EAAsB4xE,YAAY,IAAlC,EAAzC;AACA7wF,aAAWof,UAAX,CAAsB,wBAAtB,EAAgD,EAAEH,MAAM,YAAR,EAAsB4xE,YAAY,IAAlC,EAAhD;AAEC,CAv2BD,E;;;;;;;;;;;;ACHA;AACA;;AAEA,CAAC,UAAS50C,GAAT,EAAc;AACb,MAAI,gCAAOn8C,OAAP,MAAkB,QAAlB,IAA8B,gCAAOC,MAAP,MAAiB,QAAnD,EAA6D;AAC3Dk8C,QAAI,mBAAAo0C,CAAQ,CAAR,CAAJ,EADF,KAEK,IAAI,IAAJ,EAA+C;AAClDL,IAAA,iCAAO,CAAC,sBAAD,CAAP,oCAAiC/zC,GAAjC;AAAA;AAAA;AAAA,qGADG,KAEA;AACHA,QAAIj8C,UAAJ;AACH,CAPD,EAOG,UAASA,UAAT,EAAqB;AACtB,MAAIi5F,SAAS,UAAU54F,IAAV,CAAeH,UAAUD,SAAzB,MACVW,SAASC,YAAT,IAAyB,IAAzB,IAAiCD,SAASC,YAAT,GAAwB,CAD/C,CAAb;;AAGA,MAAIoQ,MAAMjR,WAAWiR,GAArB;;AAEA,MAAIioF,WAAW,EAAC,KAAK,IAAN,EAAY,KAAK,IAAjB,EAAuB,KAAK,IAA5B,EAAkC,KAAK,IAAvC,EAA6C,KAAK,IAAlD,EAAwD,KAAK,IAA7D,EAAf;;AAEA,WAASC,mBAAT,CAA6BvhF,EAA7B,EAAiCggC,KAAjC,EAAwC04C,MAAxC,EAAgD;AAC9C,QAAI3gF,OAAOiI,GAAG+9B,aAAH,CAAiBiC,MAAMjoC,IAAvB,CAAX;AAAA,QAAyClH,MAAMmvC,MAAM1tC,EAAN,GAAW,CAA1D;AACA,QAAIkvF,cAAc9I,UAAUA,OAAO8I,WAAnC;AACA,QAAIA,eAAe,IAAnB,EACEA,cAAc,0BAA0B/4F,IAA1B,CAA+BuX,GAAGu3C,iBAAH,GAAuB5sD,SAAtD,CAAd;;AAEF;AACA;AACA;AACA;AACA,QAAIV,QAAS,CAACu3F,WAAD,IAAgB3wF,OAAO,CAAvB,IAA4BywF,SAASvpF,KAAKE,IAAL,CAAU9E,MAAV,CAAiBtC,GAAjB,CAAT,CAA7B,IACRywF,SAASvpF,KAAKE,IAAL,CAAU9E,MAAV,CAAiB,EAAEtC,GAAnB,CAAT,CADJ;AAEA,QAAI,CAAC5G,KAAL,EAAY,OAAO,IAAP;AACZ,QAAIiJ,MAAMjJ,MAAMkJ,MAAN,CAAa,CAAb,KAAmB,GAAnB,GAAyB,CAAzB,GAA6B,CAAC,CAAxC;AACA,QAAIulF,UAAUA,OAAO+I,MAAjB,IAA4BvuF,MAAM,CAAP,KAAcrC,OAAOmvC,MAAM1tC,EAA3B,CAA/B,EAA+D,OAAO,IAAP;AAC/D,QAAI1G,QAAQoU,GAAGy1C,cAAH,CAAkBp8C,IAAI2mC,MAAMjoC,IAAV,EAAgBlH,MAAM,CAAtB,CAAlB,CAAZ;;AAEA,QAAIyL,QAAQolF,eAAe1hF,EAAf,EAAmB3G,IAAI2mC,MAAMjoC,IAAV,EAAgBlH,OAAOqC,MAAM,CAAN,GAAU,CAAV,GAAc,CAArB,CAAhB,CAAnB,EAA6DA,GAA7D,EAAkEtH,SAAS,IAA3E,EAAiF8sF,MAAjF,CAAZ;AACA,QAAIp8E,SAAS,IAAb,EAAmB,OAAO,IAAP;AACnB,WAAO,EAAChJ,MAAM+F,IAAI2mC,MAAMjoC,IAAV,EAAgBlH,GAAhB,CAAP,EAA6B0C,IAAI+I,SAASA,MAAMzL,GAAhD;AACC5G,aAAOqS,SAASA,MAAMhK,EAAN,IAAYrI,MAAMkJ,MAAN,CAAa,CAAb,CAD7B,EAC8Ci6D,SAASl6D,MAAM,CAD7D,EAAP;AAED;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAASwuF,cAAT,CAAwB1hF,EAAxB,EAA4BggC,KAA5B,EAAmC9sC,GAAnC,EAAwCtH,KAAxC,EAA+C8sF,MAA/C,EAAuD;AACrD,QAAIiJ,aAAcjJ,UAAUA,OAAOkJ,iBAAlB,IAAwC,KAAzD;AACA,QAAIC,eAAgBnJ,UAAUA,OAAOmJ,YAAlB,IAAmC,IAAtD;;AAEA,QAAIxqB,QAAQ,EAAZ;AACA,QAAIyqB,KAAKpJ,UAAUA,OAAOqJ,YAAjB,GAAgCrJ,OAAOqJ,YAAvC,GAAsD,WAA/D;AACA,QAAIx6C,UAAUr0C,MAAM,CAAN,GAAUlC,KAAKC,GAAL,CAAS+uC,MAAMjoC,IAAN,GAAa8pF,YAAtB,EAAoC7hF,GAAGT,QAAH,KAAgB,CAApD,CAAV,GACUvO,KAAK8I,GAAL,CAASkG,GAAG4yB,SAAH,KAAiB,CAA1B,EAA6BoN,MAAMjoC,IAAN,GAAa8pF,YAA1C,CADxB;AAEA,SAAK,IAAIvpF,SAAS0nC,MAAMjoC,IAAxB,EAA8BO,UAAUivC,OAAxC,EAAiDjvC,UAAUpF,GAA3D,EAAgE;AAC9D,UAAI6E,OAAOiI,GAAGzI,OAAH,CAAWe,MAAX,CAAX;AACA,UAAI,CAACP,IAAL,EAAW;AACX,UAAIlH,MAAMqC,MAAM,CAAN,GAAU,CAAV,GAAc6E,KAAKhN,MAAL,GAAc,CAAtC;AAAA,UAAyCuB,MAAM4G,MAAM,CAAN,GAAU6E,KAAKhN,MAAf,GAAwB,CAAC,CAAxE;AACA,UAAIgN,KAAKhN,MAAL,GAAc42F,UAAlB,EAA8B;AAC9B,UAAIrpF,UAAU0nC,MAAMjoC,IAApB,EAA0BlH,MAAMmvC,MAAM1tC,EAAN,IAAYY,MAAM,CAAN,GAAU,CAAV,GAAc,CAA1B,CAAN;AAC1B,aAAOrC,OAAOvE,GAAd,EAAmBuE,OAAOqC,GAA1B,EAA+B;AAC7B,YAAIZ,KAAKyF,KAAK5E,MAAL,CAAYtC,GAAZ,CAAT;AACA,YAAIixF,GAAGr5F,IAAH,CAAQ6J,EAAR,MAAgB1G,UAAU2d,SAAV,IAAuBvJ,GAAGy1C,cAAH,CAAkBp8C,IAAIf,MAAJ,EAAYzH,MAAM,CAAlB,CAAlB,KAA2CjF,KAAlF,CAAJ,EAA8F;AAC5F,cAAI3B,QAAQq3F,SAAShvF,EAAT,CAAZ;AACA,cAAKrI,MAAMkJ,MAAN,CAAa,CAAb,KAAmB,GAApB,IAA6BD,MAAM,CAAvC,EAA2CmkE,MAAMjmE,IAAN,CAAWkB,EAAX,EAA3C,KACK,IAAI,CAAC+kE,MAAMtsE,MAAX,EAAmB,OAAO,EAAC8F,KAAKwI,IAAIf,MAAJ,EAAYzH,GAAZ,CAAN,EAAwByB,IAAIA,EAA5B,EAAP,CAAnB,KACA+kE,MAAMpiC,GAAN;AACN;AACF;AACF;AACD,WAAO38B,SAASpF,GAAT,KAAiBA,MAAM,CAAN,GAAU8M,GAAGT,QAAH,EAAV,GAA0BS,GAAG4yB,SAAH,EAA3C,IAA6D,KAA7D,GAAqE,IAA5E;AACD;;AAED,WAASguB,aAAT,CAAuB5gD,EAAvB,EAA2BgiF,SAA3B,EAAsCtJ,MAAtC,EAA8C;AAC5C;AACA,QAAIuJ,kBAAkBjiF,GAAGuI,KAAH,CAASq4C,aAAT,CAAuBshC,sBAAvB,IAAiD,IAAvE;AACA,QAAIC,QAAQ,EAAZ;AAAA,QAAgBliE,SAASjgB,GAAGm+B,cAAH,EAAzB;AACA,SAAK,IAAInyC,IAAI,CAAb,EAAgBA,IAAIi0B,OAAOl1B,MAA3B,EAAmCiB,GAAnC,EAAwC;AACtC,UAAI/B,QAAQg2B,OAAOj0B,CAAP,EAAUm0B,KAAV,MAAqBohE,oBAAoBvhF,EAApB,EAAwBigB,OAAOj0B,CAAP,EAAUs0B,IAAlC,EAAwCo4D,MAAxC,CAAjC;AACA,UAAIzuF,SAAS+V,GAAGzI,OAAH,CAAWtN,MAAMqJ,IAAN,CAAWyE,IAAtB,EAA4BhN,MAA5B,IAAsCk3F,eAAnD,EAAoE;AAClE,YAAIr2F,QAAQ3B,MAAMA,KAAN,GAAc,4BAAd,GAA6C,+BAAzD;AACAk4F,cAAM/wF,IAAN,CAAW4O,GAAGm8B,QAAH,CAAYlyC,MAAMqJ,IAAlB,EAAwB+F,IAAIpP,MAAMqJ,IAAN,CAAWyE,IAAf,EAAqB9N,MAAMqJ,IAAN,CAAWhB,EAAX,GAAgB,CAArC,CAAxB,EAAiE,EAAC3H,WAAWiB,KAAZ,EAAjE,CAAX;AACA,YAAI3B,MAAMsJ,EAAN,IAAYyM,GAAGzI,OAAH,CAAWtN,MAAMsJ,EAAN,CAASwE,IAApB,EAA0BhN,MAA1B,IAAoCk3F,eAApD,EACEE,MAAM/wF,IAAN,CAAW4O,GAAGm8B,QAAH,CAAYlyC,MAAMsJ,EAAlB,EAAsB8F,IAAIpP,MAAMsJ,EAAN,CAASwE,IAAb,EAAmB9N,MAAMsJ,EAAN,CAASjB,EAAT,GAAc,CAAjC,CAAtB,EAA2D,EAAC3H,WAAWiB,KAAZ,EAA3D,CAAX;AACH;AACF;;AAED,QAAIu2F,MAAMp3F,MAAV,EAAkB;AAChB;AACA;AACA,UAAIs2F,UAAUrhF,GAAGuI,KAAH,CAASoa,OAAvB,EAAgC3iB,GAAGkjB,KAAH;;AAEhC,UAAI6F,QAAQ,SAARA,KAAQ,GAAW;AACrB/oB,WAAG6rB,SAAH,CAAa,YAAW;AACtB,eAAK,IAAI7/B,IAAI,CAAb,EAAgBA,IAAIm2F,MAAMp3F,MAA1B,EAAkCiB,GAAlC;AAAuCm2F,kBAAMn2F,CAAN,EAAS+8B,KAAT;AAAvC;AACD,SAFD;AAGD,OAJD;AAKA,UAAIi5D,SAAJ,EAAe/xF,WAAW84B,KAAX,EAAkB,GAAlB,EAAf,KACK,OAAOA,KAAP;AACN;AACF;;AAED,MAAIq5D,uBAAuB,IAA3B;AACA,WAASC,eAAT,CAAyBriF,EAAzB,EAA6B;AAC3BA,OAAG6rB,SAAH,CAAa,YAAW;AACtB,UAAIu2D,oBAAJ,EAA0B;AAACA,+BAAwBA,uBAAuB,IAAvB;AAA6B;AAChFA,6BAAuBxhC,cAAc5gD,EAAd,EAAkB,KAAlB,EAAyBA,GAAGuI,KAAH,CAASq4C,aAAlC,CAAvB;AACD,KAHD;AAID;;AAEDx4D,aAAWunD,YAAX,CAAwB,eAAxB,EAAyC,KAAzC,EAAgD,UAAS3vC,EAAT,EAAayI,GAAb,EAAkBtN,GAAlB,EAAuB;AACrE,QAAIA,OAAOA,OAAO/S,WAAWinD,IAA7B,EAAmC;AACjCrvC,SAAGmD,GAAH,CAAO,gBAAP,EAAyBk/E,eAAzB;AACA,UAAID,oBAAJ,EAA0B;AAACA,+BAAwBA,uBAAuB,IAAvB;AAA6B;AACjF;AACD,QAAI35E,GAAJ,EAAS;AACPzI,SAAGuI,KAAH,CAASq4C,aAAT,GAAyB,QAAOn4C,GAAP,yCAAOA,GAAP,MAAc,QAAd,GAAyBA,GAAzB,GAA+B,EAAxD;AACAzI,SAAG6C,EAAH,CAAM,gBAAN,EAAwBw/E,eAAxB;AACD;AACF,GATD;;AAWAj6F,aAAWm3D,eAAX,CAA2B,eAA3B,EAA4C,YAAW;AAACqB,kBAAc,IAAd,EAAoB,IAApB;AAA2B,GAAnF;AACAx4D,aAAWm3D,eAAX,CAA2B,qBAA3B,EAAkD,UAAS1uD,GAAT,EAAc6nF,MAAd,EAAsB4J,SAAtB,EAAgC;AAChF;AACA,QAAIA,aAAa,OAAO5J,MAAP,IAAiB,SAAlC,EAA6C;AAC3C,UAAI,CAAC4J,SAAL,EAAgB;AACd5J,iBAASA,SAAS,EAAC+I,QAAQ,IAAT,EAAT,GAA0B,IAAnC;AACD,OAFD,MAEO;AACLa,kBAAUb,MAAV,GAAmB/I,MAAnB;AACAA,iBAAS4J,SAAT;AACD;AACF;AACD,WAAOf,oBAAoB,IAApB,EAA0B1wF,GAA1B,EAA+B6nF,MAA/B,CAAP;AACD,GAXD;AAYAtwF,aAAWm3D,eAAX,CAA2B,gBAA3B,EAA6C,UAAS1uD,GAAT,EAAcqC,GAAd,EAAmBtH,KAAnB,EAA0B8sF,MAA1B,EAAiC;AAC5E,WAAOgJ,eAAe,IAAf,EAAqB7wF,GAArB,EAA0BqC,GAA1B,EAA+BtH,KAA/B,EAAsC8sF,MAAtC,CAAP;AACD,GAFD;AAGD,CAxID,E;;;;;;;;;;;;ACHA;AACA;;AAEA,CAAC,UAASr0C,GAAT,EAAc;AACb,MAAI,gCAAOn8C,OAAP,MAAkB,QAAlB,IAA8B,gCAAOC,MAAP,MAAiB,QAAnD,EAA6D;AAC3Dk8C,QAAI,mBAAAo0C,CAAQ,CAAR,CAAJ,EADF,KAEK,IAAI,IAAJ,EAA+C;AAClDL,IAAA,iCAAO,CAAC,sBAAD,CAAP,oCAAiC/zC,GAAjC;AAAA;AAAA;AAAA,qGADG,KAEA;AACHA,QAAIj8C,UAAJ;AACH,CAPD,EAOG,UAASA,UAAT,EAAqB;AACtB;;AACA,MAAIm6F,aAAa,uBAAjB;AACA,MAAIC,aAAa,kCAAjB;AACA,MAAIC,aAAa,8BAAjB;;AAEAr6F,aAAWunD,YAAX,CAAwB,iBAAxB,EAA2C,KAA3C,EAAkD,UAAS3vC,EAAT,EAAayI,GAAb,EAAkBtN,GAAlB,EAAuB;AACvE,QAAImG,OAAOnG,OAAO/S,WAAWinD,IAAlB,GAAyB,KAAzB,GAAiCl0C,GAA5C;AACA,QAAIsN,OAAOnH,IAAX,EAAiB;AACjB,QAAIA,IAAJ,EAAU;AACRtB,SAAGmD,GAAH,CAAO,uBAAP,EAAgCu/E,eAAhC;AACAC,uBAAiB3iF,EAAjB;AACA,aAAOA,GAAGuI,KAAH,CAASq6E,WAAhB;AACD;AACD,QAAIn6E,GAAJ,EAAS;AACPzI,SAAGuI,KAAH,CAASq6E,WAAT,GAAuB,EAAvB;AACAC,wBAAkB7iF,EAAlB,EAAsBA,GAAGm+B,cAAH,EAAtB;AACAn+B,SAAG6C,EAAH,CAAM,uBAAN,EAA+B6/E,eAA/B;AACD;AACF,GAbD;;AAeA,WAASC,gBAAT,CAA0B3iF,EAA1B,EAA8B;AAC5B,SAAK,IAAIhU,IAAI,CAAb,EAAgBA,IAAIgU,GAAGuI,KAAH,CAASq6E,WAAT,CAAqB73F,MAAzC,EAAiDiB,GAAjD,EAAsD;AACpDgU,SAAGigC,eAAH,CAAmBjgC,GAAGuI,KAAH,CAASq6E,WAAT,CAAqB52F,CAArB,CAAnB,EAA4C,MAA5C,EAAoDu2F,UAApD;AACAviF,SAAGigC,eAAH,CAAmBjgC,GAAGuI,KAAH,CAASq6E,WAAT,CAAqB52F,CAArB,CAAnB,EAA4C,YAA5C,EAA0Dw2F,UAA1D;AACAxiF,SAAGigC,eAAH,CAAmBjgC,GAAGuI,KAAH,CAASq6E,WAAT,CAAqB52F,CAArB,CAAnB,EAA4C,QAA5C,EAAsDy2F,UAAtD;AACD;AACF;;AAED,WAASK,SAAT,CAAmBn1F,CAAnB,EAAsBC,CAAtB,EAAyB;AACvB,QAAID,EAAE5C,MAAF,IAAY6C,EAAE7C,MAAlB,EAA0B,OAAO,KAAP;AAC1B,SAAK,IAAIiB,IAAI,CAAb,EAAgBA,IAAI2B,EAAE5C,MAAtB,EAA8BiB,GAA9B;AACE,UAAI2B,EAAE3B,CAAF,KAAQ4B,EAAE5B,CAAF,CAAZ,EAAkB,OAAO,KAAP;AADpB,KAEA,OAAO,IAAP;AACD;;AAED,WAAS62F,iBAAT,CAA2B7iF,EAA3B,EAA+BigB,MAA/B,EAAuC;AACrC,QAAImO,SAAS,EAAb;AACA,SAAK,IAAIpiC,IAAI,CAAb,EAAgBA,IAAIi0B,OAAOl1B,MAA3B,EAAmCiB,GAAnC,EAAwC;AACtC,UAAIG,QAAQ8zB,OAAOj0B,CAAP,CAAZ;AACA,UAAIygD,SAASzsC,GAAG0P,SAAH,CAAa,iBAAb,CAAb;AACA,UAAI,QAAO+8B,MAAP,yCAAOA,MAAP,MAAiB,QAAjB,IAA6BA,OAAOs2C,QAApC,GAA+C52F,MAAMqyB,MAAN,CAAazmB,IAAb,IAAqB5L,MAAMm0B,IAAN,CAAWvoB,IAA/E,GAAsF,CAAC5L,MAAMg0B,KAAN,EAA3F,EACE;AACF,UAAIpoB,OAAOiI,GAAGi+B,wBAAH,CAA4B9xC,MAAMm0B,IAAN,CAAWvoB,IAAvC,CAAX;AACA,UAAIq2B,OAAOA,OAAOrjC,MAAP,GAAgB,CAAvB,KAA6BgN,IAAjC,EAAuCq2B,OAAOh9B,IAAP,CAAY2G,IAAZ;AACxC;AACD,QAAI+qF,UAAU9iF,GAAGuI,KAAH,CAASq6E,WAAnB,EAAgCx0D,MAAhC,CAAJ,EAA6C;AAC7CpuB,OAAG6rB,SAAH,CAAa,YAAW;AACtB82D,uBAAiB3iF,EAAjB;AACA,WAAK,IAAIhU,IAAI,CAAb,EAAgBA,IAAIoiC,OAAOrjC,MAA3B,EAAmCiB,GAAnC,EAAwC;AACtCgU,WAAG+/B,YAAH,CAAgB3R,OAAOpiC,CAAP,CAAhB,EAA2B,MAA3B,EAAmCu2F,UAAnC;AACAviF,WAAG+/B,YAAH,CAAgB3R,OAAOpiC,CAAP,CAAhB,EAA2B,YAA3B,EAAyCw2F,UAAzC;AACAxiF,WAAG+/B,YAAH,CAAgB3R,OAAOpiC,CAAP,CAAhB,EAA2B,QAA3B,EAAqCy2F,UAArC;AACD;AACDziF,SAAGuI,KAAH,CAASq6E,WAAT,GAAuBx0D,MAAvB;AACD,KARD;AASD;;AAED,WAASs0D,eAAT,CAAyB1iF,EAAzB,EAA6BggB,GAA7B,EAAkC;AAChC6iE,sBAAkB7iF,EAAlB,EAAsBggB,IAAIC,MAA1B;AACD;AACF,CApED,E;;;;;;;ACHA,qB","file":"examples.build.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap c316c3f9ad4ff8f91236","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: http://codemirror.net/LICENSE\n\n// This is CodeMirror (http://codemirror.net), a code editor\n// implemented in JavaScript on top of the browser's DOM.\n//\n// You can find some technical background for some of the code below\n// at http://marijnhaverbeke.nl/blog/#cm-internals .\n\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global.CodeMirror = factory());\n}(this, (function () { 'use strict';\n\n// Kludges for bugs and behavior differences that can't be feature\n// detected are enabled based on userAgent etc sniffing.\nvar userAgent = navigator.userAgent\nvar platform = navigator.platform\n\nvar gecko = /gecko\\/\\d/i.test(userAgent)\nvar ie_upto10 = /MSIE \\d/.test(userAgent)\nvar ie_11up = /Trident\\/(?:[7-9]|\\d{2,})\\..*rv:(\\d+)/.exec(userAgent)\nvar edge = /Edge\\/(\\d+)/.exec(userAgent)\nvar ie = ie_upto10 || ie_11up || edge\nvar ie_version = ie && (ie_upto10 ? document.documentMode || 6 : +(edge || ie_11up)[1])\nvar webkit = !edge && /WebKit\\//.test(userAgent)\nvar qtwebkit = webkit && /Qt\\/\\d+\\.\\d+/.test(userAgent)\nvar chrome = !edge && /Chrome\\//.test(userAgent)\nvar presto = /Opera\\//.test(userAgent)\nvar safari = /Apple Computer/.test(navigator.vendor)\nvar mac_geMountainLion = /Mac OS X 1\\d\\D([8-9]|\\d\\d)\\D/.test(userAgent)\nvar phantom = /PhantomJS/.test(userAgent)\n\nvar ios = !edge && /AppleWebKit/.test(userAgent) && /Mobile\\/\\w+/.test(userAgent)\nvar android = /Android/.test(userAgent)\n// This is woefully incomplete. Suggestions for alternative methods welcome.\nvar mobile = ios || android || /webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(userAgent)\nvar mac = ios || /Mac/.test(platform)\nvar chromeOS = /\\bCrOS\\b/.test(userAgent)\nvar windows = /win/i.test(platform)\n\nvar presto_version = presto && userAgent.match(/Version\\/(\\d*\\.\\d*)/)\nif (presto_version) { presto_version = Number(presto_version[1]) }\nif (presto_version && presto_version >= 15) { presto = false; webkit = true }\n// Some browsers use the wrong event properties to signal cmd/ctrl on OS X\nvar flipCtrlCmd = mac && (qtwebkit || presto && (presto_version == null || presto_version < 12.11))\nvar captureRightClick = gecko || (ie && ie_version >= 9)\n\nfunction classTest(cls) { return new RegExp(\"(^|\\\\s)\" + cls + \"(?:$|\\\\s)\\\\s*\") }\n\nvar rmClass = function(node, cls) {\n  var current = node.className\n  var match = classTest(cls).exec(current)\n  if (match) {\n    var after = current.slice(match.index + match[0].length)\n    node.className = current.slice(0, match.index) + (after ? match[1] + after : \"\")\n  }\n}\n\nfunction removeChildren(e) {\n  for (var count = e.childNodes.length; count > 0; --count)\n    { e.removeChild(e.firstChild) }\n  return e\n}\n\nfunction removeChildrenAndAdd(parent, e) {\n  return removeChildren(parent).appendChild(e)\n}\n\nfunction elt(tag, content, className, style) {\n  var e = document.createElement(tag)\n  if (className) { e.className = className }\n  if (style) { e.style.cssText = style }\n  if (typeof content == \"string\") { e.appendChild(document.createTextNode(content)) }\n  else if (content) { for (var i = 0; i < content.length; ++i) { e.appendChild(content[i]) } }\n  return e\n}\n// wrapper for elt, which removes the elt from the accessibility tree\nfunction eltP(tag, content, className, style) {\n  var e = elt(tag, content, className, style)\n  e.setAttribute(\"role\", \"presentation\")\n  return e\n}\n\nvar range\nif (document.createRange) { range = function(node, start, end, endNode) {\n  var r = document.createRange()\n  r.setEnd(endNode || node, end)\n  r.setStart(node, start)\n  return r\n} }\nelse { range = function(node, start, end) {\n  var r = document.body.createTextRange()\n  try { r.moveToElementText(node.parentNode) }\n  catch(e) { return r }\n  r.collapse(true)\n  r.moveEnd(\"character\", end)\n  r.moveStart(\"character\", start)\n  return r\n} }\n\nfunction contains(parent, child) {\n  if (child.nodeType == 3) // Android browser always returns false when child is a textnode\n    { child = child.parentNode }\n  if (parent.contains)\n    { return parent.contains(child) }\n  do {\n    if (child.nodeType == 11) { child = child.host }\n    if (child == parent) { return true }\n  } while (child = child.parentNode)\n}\n\nfunction activeElt() {\n  // IE and Edge may throw an \"Unspecified Error\" when accessing document.activeElement.\n  // IE < 10 will throw when accessed while the page is loading or in an iframe.\n  // IE > 9 and Edge will throw when accessed in an iframe if document.body is unavailable.\n  var activeElement\n  try {\n    activeElement = document.activeElement\n  } catch(e) {\n    activeElement = document.body || null\n  }\n  while (activeElement && activeElement.shadowRoot && activeElement.shadowRoot.activeElement)\n    { activeElement = activeElement.shadowRoot.activeElement }\n  return activeElement\n}\n\nfunction addClass(node, cls) {\n  var current = node.className\n  if (!classTest(cls).test(current)) { node.className += (current ? \" \" : \"\") + cls }\n}\nfunction joinClasses(a, b) {\n  var as = a.split(\" \")\n  for (var i = 0; i < as.length; i++)\n    { if (as[i] && !classTest(as[i]).test(b)) { b += \" \" + as[i] } }\n  return b\n}\n\nvar selectInput = function(node) { node.select() }\nif (ios) // Mobile Safari apparently has a bug where select() is broken.\n  { selectInput = function(node) { node.selectionStart = 0; node.selectionEnd = node.value.length } }\nelse if (ie) // Suppress mysterious IE10 errors\n  { selectInput = function(node) { try { node.select() } catch(_e) {} } }\n\nfunction bind(f) {\n  var args = Array.prototype.slice.call(arguments, 1)\n  return function(){return f.apply(null, args)}\n}\n\nfunction copyObj(obj, target, overwrite) {\n  if (!target) { target = {} }\n  for (var prop in obj)\n    { if (obj.hasOwnProperty(prop) && (overwrite !== false || !target.hasOwnProperty(prop)))\n      { target[prop] = obj[prop] } }\n  return target\n}\n\n// Counts the column offset in a string, taking tabs into account.\n// Used mostly to find indentation.\nfunction countColumn(string, end, tabSize, startIndex, startValue) {\n  if (end == null) {\n    end = string.search(/[^\\s\\u00a0]/)\n    if (end == -1) { end = string.length }\n  }\n  for (var i = startIndex || 0, n = startValue || 0;;) {\n    var nextTab = string.indexOf(\"\\t\", i)\n    if (nextTab < 0 || nextTab >= end)\n      { return n + (end - i) }\n    n += nextTab - i\n    n += tabSize - (n % tabSize)\n    i = nextTab + 1\n  }\n}\n\nvar Delayed = function() {this.id = null};\nDelayed.prototype.set = function (ms, f) {\n  clearTimeout(this.id)\n  this.id = setTimeout(f, ms)\n};\n\nfunction indexOf(array, elt) {\n  for (var i = 0; i < array.length; ++i)\n    { if (array[i] == elt) { return i } }\n  return -1\n}\n\n// Number of pixels added to scroller and sizer to hide scrollbar\nvar scrollerGap = 30\n\n// Returned or thrown by various protocols to signal 'I'm not\n// handling this'.\nvar Pass = {toString: function(){return \"CodeMirror.Pass\"}}\n\n// Reused option objects for setSelection & friends\nvar sel_dontScroll = {scroll: false};\nvar sel_mouse = {origin: \"*mouse\"};\nvar sel_move = {origin: \"+move\"};\n// The inverse of countColumn -- find the offset that corresponds to\n// a particular column.\nfunction findColumn(string, goal, tabSize) {\n  for (var pos = 0, col = 0;;) {\n    var nextTab = string.indexOf(\"\\t\", pos)\n    if (nextTab == -1) { nextTab = string.length }\n    var skipped = nextTab - pos\n    if (nextTab == string.length || col + skipped >= goal)\n      { return pos + Math.min(skipped, goal - col) }\n    col += nextTab - pos\n    col += tabSize - (col % tabSize)\n    pos = nextTab + 1\n    if (col >= goal) { return pos }\n  }\n}\n\nvar spaceStrs = [\"\"]\nfunction spaceStr(n) {\n  while (spaceStrs.length <= n)\n    { spaceStrs.push(lst(spaceStrs) + \" \") }\n  return spaceStrs[n]\n}\n\nfunction lst(arr) { return arr[arr.length-1] }\n\nfunction map(array, f) {\n  var out = []\n  for (var i = 0; i < array.length; i++) { out[i] = f(array[i], i) }\n  return out\n}\n\nfunction insertSorted(array, value, score) {\n  var pos = 0, priority = score(value)\n  while (pos < array.length && score(array[pos]) <= priority) { pos++ }\n  array.splice(pos, 0, value)\n}\n\nfunction nothing() {}\n\nfunction createObj(base, props) {\n  var inst\n  if (Object.create) {\n    inst = Object.create(base)\n  } else {\n    nothing.prototype = base\n    inst = new nothing()\n  }\n  if (props) { copyObj(props, inst) }\n  return inst\n}\n\nvar nonASCIISingleCaseWordChar = /[\\u00df\\u0587\\u0590-\\u05f4\\u0600-\\u06ff\\u3040-\\u309f\\u30a0-\\u30ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\uac00-\\ud7af]/\nfunction isWordCharBasic(ch) {\n  return /\\w/.test(ch) || ch > \"\\x80\" &&\n    (ch.toUpperCase() != ch.toLowerCase() || nonASCIISingleCaseWordChar.test(ch))\n}\nfunction isWordChar(ch, helper) {\n  if (!helper) { return isWordCharBasic(ch) }\n  if (helper.source.indexOf(\"\\\\w\") > -1 && isWordCharBasic(ch)) { return true }\n  return helper.test(ch)\n}\n\nfunction isEmpty(obj) {\n  for (var n in obj) { if (obj.hasOwnProperty(n) && obj[n]) { return false } }\n  return true\n}\n\n// Extending unicode characters. A series of a non-extending char +\n// any number of extending chars is treated as a single unit as far\n// as editing and measuring is concerned. This is not fully correct,\n// since some scripts/fonts/browsers also treat other configurations\n// of code points as a group.\nvar extendingChars = /[\\u0300-\\u036f\\u0483-\\u0489\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u061a\\u064b-\\u065e\\u0670\\u06d6-\\u06dc\\u06de-\\u06e4\\u06e7\\u06e8\\u06ea-\\u06ed\\u0711\\u0730-\\u074a\\u07a6-\\u07b0\\u07eb-\\u07f3\\u0816-\\u0819\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0900-\\u0902\\u093c\\u0941-\\u0948\\u094d\\u0951-\\u0955\\u0962\\u0963\\u0981\\u09bc\\u09be\\u09c1-\\u09c4\\u09cd\\u09d7\\u09e2\\u09e3\\u0a01\\u0a02\\u0a3c\\u0a41\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a70\\u0a71\\u0a75\\u0a81\\u0a82\\u0abc\\u0ac1-\\u0ac5\\u0ac7\\u0ac8\\u0acd\\u0ae2\\u0ae3\\u0b01\\u0b3c\\u0b3e\\u0b3f\\u0b41-\\u0b44\\u0b4d\\u0b56\\u0b57\\u0b62\\u0b63\\u0b82\\u0bbe\\u0bc0\\u0bcd\\u0bd7\\u0c3e-\\u0c40\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c62\\u0c63\\u0cbc\\u0cbf\\u0cc2\\u0cc6\\u0ccc\\u0ccd\\u0cd5\\u0cd6\\u0ce2\\u0ce3\\u0d3e\\u0d41-\\u0d44\\u0d4d\\u0d57\\u0d62\\u0d63\\u0dca\\u0dcf\\u0dd2-\\u0dd4\\u0dd6\\u0ddf\\u0e31\\u0e34-\\u0e3a\\u0e47-\\u0e4e\\u0eb1\\u0eb4-\\u0eb9\\u0ebb\\u0ebc\\u0ec8-\\u0ecd\\u0f18\\u0f19\\u0f35\\u0f37\\u0f39\\u0f71-\\u0f7e\\u0f80-\\u0f84\\u0f86\\u0f87\\u0f90-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u102d-\\u1030\\u1032-\\u1037\\u1039\\u103a\\u103d\\u103e\\u1058\\u1059\\u105e-\\u1060\\u1071-\\u1074\\u1082\\u1085\\u1086\\u108d\\u109d\\u135f\\u1712-\\u1714\\u1732-\\u1734\\u1752\\u1753\\u1772\\u1773\\u17b7-\\u17bd\\u17c6\\u17c9-\\u17d3\\u17dd\\u180b-\\u180d\\u18a9\\u1920-\\u1922\\u1927\\u1928\\u1932\\u1939-\\u193b\\u1a17\\u1a18\\u1a56\\u1a58-\\u1a5e\\u1a60\\u1a62\\u1a65-\\u1a6c\\u1a73-\\u1a7c\\u1a7f\\u1b00-\\u1b03\\u1b34\\u1b36-\\u1b3a\\u1b3c\\u1b42\\u1b6b-\\u1b73\\u1b80\\u1b81\\u1ba2-\\u1ba5\\u1ba8\\u1ba9\\u1c2c-\\u1c33\\u1c36\\u1c37\\u1cd0-\\u1cd2\\u1cd4-\\u1ce0\\u1ce2-\\u1ce8\\u1ced\\u1dc0-\\u1de6\\u1dfd-\\u1dff\\u200c\\u200d\\u20d0-\\u20f0\\u2cef-\\u2cf1\\u2de0-\\u2dff\\u302a-\\u302f\\u3099\\u309a\\ua66f-\\ua672\\ua67c\\ua67d\\ua6f0\\ua6f1\\ua802\\ua806\\ua80b\\ua825\\ua826\\ua8c4\\ua8e0-\\ua8f1\\ua926-\\ua92d\\ua947-\\ua951\\ua980-\\ua982\\ua9b3\\ua9b6-\\ua9b9\\ua9bc\\uaa29-\\uaa2e\\uaa31\\uaa32\\uaa35\\uaa36\\uaa43\\uaa4c\\uaab0\\uaab2-\\uaab4\\uaab7\\uaab8\\uaabe\\uaabf\\uaac1\\uabe5\\uabe8\\uabed\\udc00-\\udfff\\ufb1e\\ufe00-\\ufe0f\\ufe20-\\ufe26\\uff9e\\uff9f]/\nfunction isExtendingChar(ch) { return ch.charCodeAt(0) >= 768 && extendingChars.test(ch) }\n\n// Returns a number from the range [`0`; `str.length`] unless `pos` is outside that range.\nfunction skipExtendingChars(str, pos, dir) {\n  while ((dir < 0 ? pos > 0 : pos < str.length) && isExtendingChar(str.charAt(pos))) { pos += dir }\n  return pos\n}\n\n// Returns the value from the range [`from`; `to`] that satisfies\n// `pred` and is closest to `from`. Assumes that at least `to`\n// satisfies `pred`. Supports `from` being greater than `to`.\nfunction findFirst(pred, from, to) {\n  // At any point we are certain `to` satisfies `pred`, don't know\n  // whether `from` does.\n  var dir = from > to ? -1 : 1\n  for (;;) {\n    if (from == to) { return from }\n    var midF = (from + to) / 2, mid = dir < 0 ? Math.ceil(midF) : Math.floor(midF)\n    if (mid == from) { return pred(mid) ? from : to }\n    if (pred(mid)) { to = mid }\n    else { from = mid + dir }\n  }\n}\n\n// The display handles the DOM integration, both for input reading\n// and content drawing. It holds references to DOM nodes and\n// display-related state.\n\nfunction Display(place, doc, input) {\n  var d = this\n  this.input = input\n\n  // Covers bottom-right square when both scrollbars are present.\n  d.scrollbarFiller = elt(\"div\", null, \"CodeMirror-scrollbar-filler\")\n  d.scrollbarFiller.setAttribute(\"cm-not-content\", \"true\")\n  // Covers bottom of gutter when coverGutterNextToScrollbar is on\n  // and h scrollbar is present.\n  d.gutterFiller = elt(\"div\", null, \"CodeMirror-gutter-filler\")\n  d.gutterFiller.setAttribute(\"cm-not-content\", \"true\")\n  // Will contain the actual code, positioned to cover the viewport.\n  d.lineDiv = eltP(\"div\", null, \"CodeMirror-code\")\n  // Elements are added to these to represent selection and cursors.\n  d.selectionDiv = elt(\"div\", null, null, \"position: relative; z-index: 1\")\n  d.cursorDiv = elt(\"div\", null, \"CodeMirror-cursors\")\n  // A visibility: hidden element used to find the size of things.\n  d.measure = elt(\"div\", null, \"CodeMirror-measure\")\n  // When lines outside of the viewport are measured, they are drawn in this.\n  d.lineMeasure = elt(\"div\", null, \"CodeMirror-measure\")\n  // Wraps everything that needs to exist inside the vertically-padded coordinate system\n  d.lineSpace = eltP(\"div\", [d.measure, d.lineMeasure, d.selectionDiv, d.cursorDiv, d.lineDiv],\n                    null, \"position: relative; outline: none\")\n  var lines = eltP(\"div\", [d.lineSpace], \"CodeMirror-lines\")\n  // Moved around its parent to cover visible view.\n  d.mover = elt(\"div\", [lines], null, \"position: relative\")\n  // Set to the height of the document, allowing scrolling.\n  d.sizer = elt(\"div\", [d.mover], \"CodeMirror-sizer\")\n  d.sizerWidth = null\n  // Behavior of elts with overflow: auto and padding is\n  // inconsistent across browsers. This is used to ensure the\n  // scrollable area is big enough.\n  d.heightForcer = elt(\"div\", null, null, \"position: absolute; height: \" + scrollerGap + \"px; width: 1px;\")\n  // Will contain the gutters, if any.\n  d.gutters = elt(\"div\", null, \"CodeMirror-gutters\")\n  d.lineGutter = null\n  // Actual scrollable element.\n  d.scroller = elt(\"div\", [d.sizer, d.heightForcer, d.gutters], \"CodeMirror-scroll\")\n  d.scroller.setAttribute(\"tabIndex\", \"-1\")\n  // The element in which the editor lives.\n  d.wrapper = elt(\"div\", [d.scrollbarFiller, d.gutterFiller, d.scroller], \"CodeMirror\")\n\n  // Work around IE7 z-index bug (not perfect, hence IE7 not really being supported)\n  if (ie && ie_version < 8) { d.gutters.style.zIndex = -1; d.scroller.style.paddingRight = 0 }\n  if (!webkit && !(gecko && mobile)) { d.scroller.draggable = true }\n\n  if (place) {\n    if (place.appendChild) { place.appendChild(d.wrapper) }\n    else { place(d.wrapper) }\n  }\n\n  // Current rendered range (may be bigger than the view window).\n  d.viewFrom = d.viewTo = doc.first\n  d.reportedViewFrom = d.reportedViewTo = doc.first\n  // Information about the rendered lines.\n  d.view = []\n  d.renderedView = null\n  // Holds info about a single rendered line when it was rendered\n  // for measurement, while not in view.\n  d.externalMeasured = null\n  // Empty space (in pixels) above the view\n  d.viewOffset = 0\n  d.lastWrapHeight = d.lastWrapWidth = 0\n  d.updateLineNumbers = null\n\n  d.nativeBarWidth = d.barHeight = d.barWidth = 0\n  d.scrollbarsClipped = false\n\n  // Used to only resize the line number gutter when necessary (when\n  // the amount of lines crosses a boundary that makes its width change)\n  d.lineNumWidth = d.lineNumInnerWidth = d.lineNumChars = null\n  // Set to true when a non-horizontal-scrolling line widget is\n  // added. As an optimization, line widget aligning is skipped when\n  // this is false.\n  d.alignWidgets = false\n\n  d.cachedCharWidth = d.cachedTextHeight = d.cachedPaddingH = null\n\n  // Tracks the maximum line length so that the horizontal scrollbar\n  // can be kept static when scrolling.\n  d.maxLine = null\n  d.maxLineLength = 0\n  d.maxLineChanged = false\n\n  // Used for measuring wheel scrolling granularity\n  d.wheelDX = d.wheelDY = d.wheelStartX = d.wheelStartY = null\n\n  // True when shift is held down.\n  d.shift = false\n\n  // Used to track whether anything happened since the context menu\n  // was opened.\n  d.selForContextMenu = null\n\n  d.activeTouch = null\n\n  input.init(d)\n}\n\n// Find the line object corresponding to the given line number.\nfunction getLine(doc, n) {\n  n -= doc.first\n  if (n < 0 || n >= doc.size) { throw new Error(\"There is no line \" + (n + doc.first) + \" in the document.\") }\n  var chunk = doc\n  while (!chunk.lines) {\n    for (var i = 0;; ++i) {\n      var child = chunk.children[i], sz = child.chunkSize()\n      if (n < sz) { chunk = child; break }\n      n -= sz\n    }\n  }\n  return chunk.lines[n]\n}\n\n// Get the part of a document between two positions, as an array of\n// strings.\nfunction getBetween(doc, start, end) {\n  var out = [], n = start.line\n  doc.iter(start.line, end.line + 1, function (line) {\n    var text = line.text\n    if (n == end.line) { text = text.slice(0, end.ch) }\n    if (n == start.line) { text = text.slice(start.ch) }\n    out.push(text)\n    ++n\n  })\n  return out\n}\n// Get the lines between from and to, as array of strings.\nfunction getLines(doc, from, to) {\n  var out = []\n  doc.iter(from, to, function (line) { out.push(line.text) }) // iter aborts when callback returns truthy value\n  return out\n}\n\n// Update the height of a line, propagating the height change\n// upwards to parent nodes.\nfunction updateLineHeight(line, height) {\n  var diff = height - line.height\n  if (diff) { for (var n = line; n; n = n.parent) { n.height += diff } }\n}\n\n// Given a line object, find its line number by walking up through\n// its parent links.\nfunction lineNo(line) {\n  if (line.parent == null) { return null }\n  var cur = line.parent, no = indexOf(cur.lines, line)\n  for (var chunk = cur.parent; chunk; cur = chunk, chunk = chunk.parent) {\n    for (var i = 0;; ++i) {\n      if (chunk.children[i] == cur) { break }\n      no += chunk.children[i].chunkSize()\n    }\n  }\n  return no + cur.first\n}\n\n// Find the line at the given vertical position, using the height\n// information in the document tree.\nfunction lineAtHeight(chunk, h) {\n  var n = chunk.first\n  outer: do {\n    for (var i$1 = 0; i$1 < chunk.children.length; ++i$1) {\n      var child = chunk.children[i$1], ch = child.height\n      if (h < ch) { chunk = child; continue outer }\n      h -= ch\n      n += child.chunkSize()\n    }\n    return n\n  } while (!chunk.lines)\n  var i = 0\n  for (; i < chunk.lines.length; ++i) {\n    var line = chunk.lines[i], lh = line.height\n    if (h < lh) { break }\n    h -= lh\n  }\n  return n + i\n}\n\nfunction isLine(doc, l) {return l >= doc.first && l < doc.first + doc.size}\n\nfunction lineNumberFor(options, i) {\n  return String(options.lineNumberFormatter(i + options.firstLineNumber))\n}\n\n// A Pos instance represents a position within the text.\nfunction Pos(line, ch, sticky) {\n  if ( sticky === void 0 ) sticky = null;\n\n  if (!(this instanceof Pos)) { return new Pos(line, ch, sticky) }\n  this.line = line\n  this.ch = ch\n  this.sticky = sticky\n}\n\n// Compare two positions, return 0 if they are the same, a negative\n// number when a is less, and a positive number otherwise.\nfunction cmp(a, b) { return a.line - b.line || a.ch - b.ch }\n\nfunction equalCursorPos(a, b) { return a.sticky == b.sticky && cmp(a, b) == 0 }\n\nfunction copyPos(x) {return Pos(x.line, x.ch)}\nfunction maxPos(a, b) { return cmp(a, b) < 0 ? b : a }\nfunction minPos(a, b) { return cmp(a, b) < 0 ? a : b }\n\n// Most of the external API clips given positions to make sure they\n// actually exist within the document.\nfunction clipLine(doc, n) {return Math.max(doc.first, Math.min(n, doc.first + doc.size - 1))}\nfunction clipPos(doc, pos) {\n  if (pos.line < doc.first) { return Pos(doc.first, 0) }\n  var last = doc.first + doc.size - 1\n  if (pos.line > last) { return Pos(last, getLine(doc, last).text.length) }\n  return clipToLen(pos, getLine(doc, pos.line).text.length)\n}\nfunction clipToLen(pos, linelen) {\n  var ch = pos.ch\n  if (ch == null || ch > linelen) { return Pos(pos.line, linelen) }\n  else if (ch < 0) { return Pos(pos.line, 0) }\n  else { return pos }\n}\nfunction clipPosArray(doc, array) {\n  var out = []\n  for (var i = 0; i < array.length; i++) { out[i] = clipPos(doc, array[i]) }\n  return out\n}\n\n// Optimize some code when these features are not used.\nvar sawReadOnlySpans = false;\nvar sawCollapsedSpans = false;\nfunction seeReadOnlySpans() {\n  sawReadOnlySpans = true\n}\n\nfunction seeCollapsedSpans() {\n  sawCollapsedSpans = true\n}\n\n// TEXTMARKER SPANS\n\nfunction MarkedSpan(marker, from, to) {\n  this.marker = marker\n  this.from = from; this.to = to\n}\n\n// Search an array of spans for a span matching the given marker.\nfunction getMarkedSpanFor(spans, marker) {\n  if (spans) { for (var i = 0; i < spans.length; ++i) {\n    var span = spans[i]\n    if (span.marker == marker) { return span }\n  } }\n}\n// Remove a span from an array, returning undefined if no spans are\n// left (we don't store arrays for lines without spans).\nfunction removeMarkedSpan(spans, span) {\n  var r\n  for (var i = 0; i < spans.length; ++i)\n    { if (spans[i] != span) { (r || (r = [])).push(spans[i]) } }\n  return r\n}\n// Add a span to a line.\nfunction addMarkedSpan(line, span) {\n  line.markedSpans = line.markedSpans ? line.markedSpans.concat([span]) : [span]\n  span.marker.attachLine(line)\n}\n\n// Used for the algorithm that adjusts markers for a change in the\n// document. These functions cut an array of spans at a given\n// character position, returning an array of remaining chunks (or\n// undefined if nothing remains).\nfunction markedSpansBefore(old, startCh, isInsert) {\n  var nw\n  if (old) { for (var i = 0; i < old.length; ++i) {\n    var span = old[i], marker = span.marker\n    var startsBefore = span.from == null || (marker.inclusiveLeft ? span.from <= startCh : span.from < startCh)\n    if (startsBefore || span.from == startCh && marker.type == \"bookmark\" && (!isInsert || !span.marker.insertLeft)) {\n      var endsAfter = span.to == null || (marker.inclusiveRight ? span.to >= startCh : span.to > startCh)\n      ;(nw || (nw = [])).push(new MarkedSpan(marker, span.from, endsAfter ? null : span.to))\n    }\n  } }\n  return nw\n}\nfunction markedSpansAfter(old, endCh, isInsert) {\n  var nw\n  if (old) { for (var i = 0; i < old.length; ++i) {\n    var span = old[i], marker = span.marker\n    var endsAfter = span.to == null || (marker.inclusiveRight ? span.to >= endCh : span.to > endCh)\n    if (endsAfter || span.from == endCh && marker.type == \"bookmark\" && (!isInsert || span.marker.insertLeft)) {\n      var startsBefore = span.from == null || (marker.inclusiveLeft ? span.from <= endCh : span.from < endCh)\n      ;(nw || (nw = [])).push(new MarkedSpan(marker, startsBefore ? null : span.from - endCh,\n                                            span.to == null ? null : span.to - endCh))\n    }\n  } }\n  return nw\n}\n\n// Given a change object, compute the new set of marker spans that\n// cover the line in which the change took place. Removes spans\n// entirely within the change, reconnects spans belonging to the\n// same marker that appear on both sides of the change, and cuts off\n// spans partially within the change. Returns an array of span\n// arrays with one element for each line in (after) the change.\nfunction stretchSpansOverChange(doc, change) {\n  if (change.full) { return null }\n  var oldFirst = isLine(doc, change.from.line) && getLine(doc, change.from.line).markedSpans\n  var oldLast = isLine(doc, change.to.line) && getLine(doc, change.to.line).markedSpans\n  if (!oldFirst && !oldLast) { return null }\n\n  var startCh = change.from.ch, endCh = change.to.ch, isInsert = cmp(change.from, change.to) == 0\n  // Get the spans that 'stick out' on both sides\n  var first = markedSpansBefore(oldFirst, startCh, isInsert)\n  var last = markedSpansAfter(oldLast, endCh, isInsert)\n\n  // Next, merge those two ends\n  var sameLine = change.text.length == 1, offset = lst(change.text).length + (sameLine ? startCh : 0)\n  if (first) {\n    // Fix up .to properties of first\n    for (var i = 0; i < first.length; ++i) {\n      var span = first[i]\n      if (span.to == null) {\n        var found = getMarkedSpanFor(last, span.marker)\n        if (!found) { span.to = startCh }\n        else if (sameLine) { span.to = found.to == null ? null : found.to + offset }\n      }\n    }\n  }\n  if (last) {\n    // Fix up .from in last (or move them into first in case of sameLine)\n    for (var i$1 = 0; i$1 < last.length; ++i$1) {\n      var span$1 = last[i$1]\n      if (span$1.to != null) { span$1.to += offset }\n      if (span$1.from == null) {\n        var found$1 = getMarkedSpanFor(first, span$1.marker)\n        if (!found$1) {\n          span$1.from = offset\n          if (sameLine) { (first || (first = [])).push(span$1) }\n        }\n      } else {\n        span$1.from += offset\n        if (sameLine) { (first || (first = [])).push(span$1) }\n      }\n    }\n  }\n  // Make sure we didn't create any zero-length spans\n  if (first) { first = clearEmptySpans(first) }\n  if (last && last != first) { last = clearEmptySpans(last) }\n\n  var newMarkers = [first]\n  if (!sameLine) {\n    // Fill gap with whole-line-spans\n    var gap = change.text.length - 2, gapMarkers\n    if (gap > 0 && first)\n      { for (var i$2 = 0; i$2 < first.length; ++i$2)\n        { if (first[i$2].to == null)\n          { (gapMarkers || (gapMarkers = [])).push(new MarkedSpan(first[i$2].marker, null, null)) } } }\n    for (var i$3 = 0; i$3 < gap; ++i$3)\n      { newMarkers.push(gapMarkers) }\n    newMarkers.push(last)\n  }\n  return newMarkers\n}\n\n// Remove spans that are empty and don't have a clearWhenEmpty\n// option of false.\nfunction clearEmptySpans(spans) {\n  for (var i = 0; i < spans.length; ++i) {\n    var span = spans[i]\n    if (span.from != null && span.from == span.to && span.marker.clearWhenEmpty !== false)\n      { spans.splice(i--, 1) }\n  }\n  if (!spans.length) { return null }\n  return spans\n}\n\n// Used to 'clip' out readOnly ranges when making a change.\nfunction removeReadOnlyRanges(doc, from, to) {\n  var markers = null\n  doc.iter(from.line, to.line + 1, function (line) {\n    if (line.markedSpans) { for (var i = 0; i < line.markedSpans.length; ++i) {\n      var mark = line.markedSpans[i].marker\n      if (mark.readOnly && (!markers || indexOf(markers, mark) == -1))\n        { (markers || (markers = [])).push(mark) }\n    } }\n  })\n  if (!markers) { return null }\n  var parts = [{from: from, to: to}]\n  for (var i = 0; i < markers.length; ++i) {\n    var mk = markers[i], m = mk.find(0)\n    for (var j = 0; j < parts.length; ++j) {\n      var p = parts[j]\n      if (cmp(p.to, m.from) < 0 || cmp(p.from, m.to) > 0) { continue }\n      var newParts = [j, 1], dfrom = cmp(p.from, m.from), dto = cmp(p.to, m.to)\n      if (dfrom < 0 || !mk.inclusiveLeft && !dfrom)\n        { newParts.push({from: p.from, to: m.from}) }\n      if (dto > 0 || !mk.inclusiveRight && !dto)\n        { newParts.push({from: m.to, to: p.to}) }\n      parts.splice.apply(parts, newParts)\n      j += newParts.length - 3\n    }\n  }\n  return parts\n}\n\n// Connect or disconnect spans from a line.\nfunction detachMarkedSpans(line) {\n  var spans = line.markedSpans\n  if (!spans) { return }\n  for (var i = 0; i < spans.length; ++i)\n    { spans[i].marker.detachLine(line) }\n  line.markedSpans = null\n}\nfunction attachMarkedSpans(line, spans) {\n  if (!spans) { return }\n  for (var i = 0; i < spans.length; ++i)\n    { spans[i].marker.attachLine(line) }\n  line.markedSpans = spans\n}\n\n// Helpers used when computing which overlapping collapsed span\n// counts as the larger one.\nfunction extraLeft(marker) { return marker.inclusiveLeft ? -1 : 0 }\nfunction extraRight(marker) { return marker.inclusiveRight ? 1 : 0 }\n\n// Returns a number indicating which of two overlapping collapsed\n// spans is larger (and thus includes the other). Falls back to\n// comparing ids when the spans cover exactly the same range.\nfunction compareCollapsedMarkers(a, b) {\n  var lenDiff = a.lines.length - b.lines.length\n  if (lenDiff != 0) { return lenDiff }\n  var aPos = a.find(), bPos = b.find()\n  var fromCmp = cmp(aPos.from, bPos.from) || extraLeft(a) - extraLeft(b)\n  if (fromCmp) { return -fromCmp }\n  var toCmp = cmp(aPos.to, bPos.to) || extraRight(a) - extraRight(b)\n  if (toCmp) { return toCmp }\n  return b.id - a.id\n}\n\n// Find out whether a line ends or starts in a collapsed span. If\n// so, return the marker for that span.\nfunction collapsedSpanAtSide(line, start) {\n  var sps = sawCollapsedSpans && line.markedSpans, found\n  if (sps) { for (var sp = (void 0), i = 0; i < sps.length; ++i) {\n    sp = sps[i]\n    if (sp.marker.collapsed && (start ? sp.from : sp.to) == null &&\n        (!found || compareCollapsedMarkers(found, sp.marker) < 0))\n      { found = sp.marker }\n  } }\n  return found\n}\nfunction collapsedSpanAtStart(line) { return collapsedSpanAtSide(line, true) }\nfunction collapsedSpanAtEnd(line) { return collapsedSpanAtSide(line, false) }\n\n// Test whether there exists a collapsed span that partially\n// overlaps (covers the start or end, but not both) of a new span.\n// Such overlap is not allowed.\nfunction conflictingCollapsedRange(doc, lineNo, from, to, marker) {\n  var line = getLine(doc, lineNo)\n  var sps = sawCollapsedSpans && line.markedSpans\n  if (sps) { for (var i = 0; i < sps.length; ++i) {\n    var sp = sps[i]\n    if (!sp.marker.collapsed) { continue }\n    var found = sp.marker.find(0)\n    var fromCmp = cmp(found.from, from) || extraLeft(sp.marker) - extraLeft(marker)\n    var toCmp = cmp(found.to, to) || extraRight(sp.marker) - extraRight(marker)\n    if (fromCmp >= 0 && toCmp <= 0 || fromCmp <= 0 && toCmp >= 0) { continue }\n    if (fromCmp <= 0 && (sp.marker.inclusiveRight && marker.inclusiveLeft ? cmp(found.to, from) >= 0 : cmp(found.to, from) > 0) ||\n        fromCmp >= 0 && (sp.marker.inclusiveRight && marker.inclusiveLeft ? cmp(found.from, to) <= 0 : cmp(found.from, to) < 0))\n      { return true }\n  } }\n}\n\n// A visual line is a line as drawn on the screen. Folding, for\n// example, can cause multiple logical lines to appear on the same\n// visual line. This finds the start of the visual line that the\n// given line is part of (usually that is the line itself).\nfunction visualLine(line) {\n  var merged\n  while (merged = collapsedSpanAtStart(line))\n    { line = merged.find(-1, true).line }\n  return line\n}\n\nfunction visualLineEnd(line) {\n  var merged\n  while (merged = collapsedSpanAtEnd(line))\n    { line = merged.find(1, true).line }\n  return line\n}\n\n// Returns an array of logical lines that continue the visual line\n// started by the argument, or undefined if there are no such lines.\nfunction visualLineContinued(line) {\n  var merged, lines\n  while (merged = collapsedSpanAtEnd(line)) {\n    line = merged.find(1, true).line\n    ;(lines || (lines = [])).push(line)\n  }\n  return lines\n}\n\n// Get the line number of the start of the visual line that the\n// given line number is part of.\nfunction visualLineNo(doc, lineN) {\n  var line = getLine(doc, lineN), vis = visualLine(line)\n  if (line == vis) { return lineN }\n  return lineNo(vis)\n}\n\n// Get the line number of the start of the next visual line after\n// the given line.\nfunction visualLineEndNo(doc, lineN) {\n  if (lineN > doc.lastLine()) { return lineN }\n  var line = getLine(doc, lineN), merged\n  if (!lineIsHidden(doc, line)) { return lineN }\n  while (merged = collapsedSpanAtEnd(line))\n    { line = merged.find(1, true).line }\n  return lineNo(line) + 1\n}\n\n// Compute whether a line is hidden. Lines count as hidden when they\n// are part of a visual line that starts with another line, or when\n// they are entirely covered by collapsed, non-widget span.\nfunction lineIsHidden(doc, line) {\n  var sps = sawCollapsedSpans && line.markedSpans\n  if (sps) { for (var sp = (void 0), i = 0; i < sps.length; ++i) {\n    sp = sps[i]\n    if (!sp.marker.collapsed) { continue }\n    if (sp.from == null) { return true }\n    if (sp.marker.widgetNode) { continue }\n    if (sp.from == 0 && sp.marker.inclusiveLeft && lineIsHiddenInner(doc, line, sp))\n      { return true }\n  } }\n}\nfunction lineIsHiddenInner(doc, line, span) {\n  if (span.to == null) {\n    var end = span.marker.find(1, true)\n    return lineIsHiddenInner(doc, end.line, getMarkedSpanFor(end.line.markedSpans, span.marker))\n  }\n  if (span.marker.inclusiveRight && span.to == line.text.length)\n    { return true }\n  for (var sp = (void 0), i = 0; i < line.markedSpans.length; ++i) {\n    sp = line.markedSpans[i]\n    if (sp.marker.collapsed && !sp.marker.widgetNode && sp.from == span.to &&\n        (sp.to == null || sp.to != span.from) &&\n        (sp.marker.inclusiveLeft || span.marker.inclusiveRight) &&\n        lineIsHiddenInner(doc, line, sp)) { return true }\n  }\n}\n\n// Find the height above the given line.\nfunction heightAtLine(lineObj) {\n  lineObj = visualLine(lineObj)\n\n  var h = 0, chunk = lineObj.parent\n  for (var i = 0; i < chunk.lines.length; ++i) {\n    var line = chunk.lines[i]\n    if (line == lineObj) { break }\n    else { h += line.height }\n  }\n  for (var p = chunk.parent; p; chunk = p, p = chunk.parent) {\n    for (var i$1 = 0; i$1 < p.children.length; ++i$1) {\n      var cur = p.children[i$1]\n      if (cur == chunk) { break }\n      else { h += cur.height }\n    }\n  }\n  return h\n}\n\n// Compute the character length of a line, taking into account\n// collapsed ranges (see markText) that might hide parts, and join\n// other lines onto it.\nfunction lineLength(line) {\n  if (line.height == 0) { return 0 }\n  var len = line.text.length, merged, cur = line\n  while (merged = collapsedSpanAtStart(cur)) {\n    var found = merged.find(0, true)\n    cur = found.from.line\n    len += found.from.ch - found.to.ch\n  }\n  cur = line\n  while (merged = collapsedSpanAtEnd(cur)) {\n    var found$1 = merged.find(0, true)\n    len -= cur.text.length - found$1.from.ch\n    cur = found$1.to.line\n    len += cur.text.length - found$1.to.ch\n  }\n  return len\n}\n\n// Find the longest line in the document.\nfunction findMaxLine(cm) {\n  var d = cm.display, doc = cm.doc\n  d.maxLine = getLine(doc, doc.first)\n  d.maxLineLength = lineLength(d.maxLine)\n  d.maxLineChanged = true\n  doc.iter(function (line) {\n    var len = lineLength(line)\n    if (len > d.maxLineLength) {\n      d.maxLineLength = len\n      d.maxLine = line\n    }\n  })\n}\n\n// BIDI HELPERS\n\nfunction iterateBidiSections(order, from, to, f) {\n  if (!order) { return f(from, to, \"ltr\", 0) }\n  var found = false\n  for (var i = 0; i < order.length; ++i) {\n    var part = order[i]\n    if (part.from < to && part.to > from || from == to && part.to == from) {\n      f(Math.max(part.from, from), Math.min(part.to, to), part.level == 1 ? \"rtl\" : \"ltr\", i)\n      found = true\n    }\n  }\n  if (!found) { f(from, to, \"ltr\") }\n}\n\nvar bidiOther = null\nfunction getBidiPartAt(order, ch, sticky) {\n  var found\n  bidiOther = null\n  for (var i = 0; i < order.length; ++i) {\n    var cur = order[i]\n    if (cur.from < ch && cur.to > ch) { return i }\n    if (cur.to == ch) {\n      if (cur.from != cur.to && sticky == \"before\") { found = i }\n      else { bidiOther = i }\n    }\n    if (cur.from == ch) {\n      if (cur.from != cur.to && sticky != \"before\") { found = i }\n      else { bidiOther = i }\n    }\n  }\n  return found != null ? found : bidiOther\n}\n\n// Bidirectional ordering algorithm\n// See http://unicode.org/reports/tr9/tr9-13.html for the algorithm\n// that this (partially) implements.\n\n// One-char codes used for character types:\n// L (L):   Left-to-Right\n// R (R):   Right-to-Left\n// r (AL):  Right-to-Left Arabic\n// 1 (EN):  European Number\n// + (ES):  European Number Separator\n// % (ET):  European Number Terminator\n// n (AN):  Arabic Number\n// , (CS):  Common Number Separator\n// m (NSM): Non-Spacing Mark\n// b (BN):  Boundary Neutral\n// s (B):   Paragraph Separator\n// t (S):   Segment Separator\n// w (WS):  Whitespace\n// N (ON):  Other Neutrals\n\n// Returns null if characters are ordered as they appear\n// (left-to-right), or an array of sections ({from, to, level}\n// objects) in the order in which they occur visually.\nvar bidiOrdering = (function() {\n  // Character types for codepoints 0 to 0xff\n  var lowTypes = \"bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN\"\n  // Character types for codepoints 0x600 to 0x6f9\n  var arabicTypes = \"nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111\"\n  function charType(code) {\n    if (code <= 0xf7) { return lowTypes.charAt(code) }\n    else if (0x590 <= code && code <= 0x5f4) { return \"R\" }\n    else if (0x600 <= code && code <= 0x6f9) { return arabicTypes.charAt(code - 0x600) }\n    else if (0x6ee <= code && code <= 0x8ac) { return \"r\" }\n    else if (0x2000 <= code && code <= 0x200b) { return \"w\" }\n    else if (code == 0x200c) { return \"b\" }\n    else { return \"L\" }\n  }\n\n  var bidiRE = /[\\u0590-\\u05f4\\u0600-\\u06ff\\u0700-\\u08ac]/\n  var isNeutral = /[stwN]/, isStrong = /[LRr]/, countsAsLeft = /[Lb1n]/, countsAsNum = /[1n]/\n\n  function BidiSpan(level, from, to) {\n    this.level = level\n    this.from = from; this.to = to\n  }\n\n  return function(str, direction) {\n    var outerType = direction == \"ltr\" ? \"L\" : \"R\"\n\n    if (str.length == 0 || direction == \"ltr\" && !bidiRE.test(str)) { return false }\n    var len = str.length, types = []\n    for (var i = 0; i < len; ++i)\n      { types.push(charType(str.charCodeAt(i))) }\n\n    // W1. Examine each non-spacing mark (NSM) in the level run, and\n    // change the type of the NSM to the type of the previous\n    // character. If the NSM is at the start of the level run, it will\n    // get the type of sor.\n    for (var i$1 = 0, prev = outerType; i$1 < len; ++i$1) {\n      var type = types[i$1]\n      if (type == \"m\") { types[i$1] = prev }\n      else { prev = type }\n    }\n\n    // W2. Search backwards from each instance of a European number\n    // until the first strong type (R, L, AL, or sor) is found. If an\n    // AL is found, change the type of the European number to Arabic\n    // number.\n    // W3. Change all ALs to R.\n    for (var i$2 = 0, cur = outerType; i$2 < len; ++i$2) {\n      var type$1 = types[i$2]\n      if (type$1 == \"1\" && cur == \"r\") { types[i$2] = \"n\" }\n      else if (isStrong.test(type$1)) { cur = type$1; if (type$1 == \"r\") { types[i$2] = \"R\" } }\n    }\n\n    // W4. A single European separator between two European numbers\n    // changes to a European number. A single common separator between\n    // two numbers of the same type changes to that type.\n    for (var i$3 = 1, prev$1 = types[0]; i$3 < len - 1; ++i$3) {\n      var type$2 = types[i$3]\n      if (type$2 == \"+\" && prev$1 == \"1\" && types[i$3+1] == \"1\") { types[i$3] = \"1\" }\n      else if (type$2 == \",\" && prev$1 == types[i$3+1] &&\n               (prev$1 == \"1\" || prev$1 == \"n\")) { types[i$3] = prev$1 }\n      prev$1 = type$2\n    }\n\n    // W5. A sequence of European terminators adjacent to European\n    // numbers changes to all European numbers.\n    // W6. Otherwise, separators and terminators change to Other\n    // Neutral.\n    for (var i$4 = 0; i$4 < len; ++i$4) {\n      var type$3 = types[i$4]\n      if (type$3 == \",\") { types[i$4] = \"N\" }\n      else if (type$3 == \"%\") {\n        var end = (void 0)\n        for (end = i$4 + 1; end < len && types[end] == \"%\"; ++end) {}\n        var replace = (i$4 && types[i$4-1] == \"!\") || (end < len && types[end] == \"1\") ? \"1\" : \"N\"\n        for (var j = i$4; j < end; ++j) { types[j] = replace }\n        i$4 = end - 1\n      }\n    }\n\n    // W7. Search backwards from each instance of a European number\n    // until the first strong type (R, L, or sor) is found. If an L is\n    // found, then change the type of the European number to L.\n    for (var i$5 = 0, cur$1 = outerType; i$5 < len; ++i$5) {\n      var type$4 = types[i$5]\n      if (cur$1 == \"L\" && type$4 == \"1\") { types[i$5] = \"L\" }\n      else if (isStrong.test(type$4)) { cur$1 = type$4 }\n    }\n\n    // N1. A sequence of neutrals takes the direction of the\n    // surrounding strong text if the text on both sides has the same\n    // direction. European and Arabic numbers act as if they were R in\n    // terms of their influence on neutrals. Start-of-level-run (sor)\n    // and end-of-level-run (eor) are used at level run boundaries.\n    // N2. Any remaining neutrals take the embedding direction.\n    for (var i$6 = 0; i$6 < len; ++i$6) {\n      if (isNeutral.test(types[i$6])) {\n        var end$1 = (void 0)\n        for (end$1 = i$6 + 1; end$1 < len && isNeutral.test(types[end$1]); ++end$1) {}\n        var before = (i$6 ? types[i$6-1] : outerType) == \"L\"\n        var after = (end$1 < len ? types[end$1] : outerType) == \"L\"\n        var replace$1 = before == after ? (before ? \"L\" : \"R\") : outerType\n        for (var j$1 = i$6; j$1 < end$1; ++j$1) { types[j$1] = replace$1 }\n        i$6 = end$1 - 1\n      }\n    }\n\n    // Here we depart from the documented algorithm, in order to avoid\n    // building up an actual levels array. Since there are only three\n    // levels (0, 1, 2) in an implementation that doesn't take\n    // explicit embedding into account, we can build up the order on\n    // the fly, without following the level-based algorithm.\n    var order = [], m\n    for (var i$7 = 0; i$7 < len;) {\n      if (countsAsLeft.test(types[i$7])) {\n        var start = i$7\n        for (++i$7; i$7 < len && countsAsLeft.test(types[i$7]); ++i$7) {}\n        order.push(new BidiSpan(0, start, i$7))\n      } else {\n        var pos = i$7, at = order.length\n        for (++i$7; i$7 < len && types[i$7] != \"L\"; ++i$7) {}\n        for (var j$2 = pos; j$2 < i$7;) {\n          if (countsAsNum.test(types[j$2])) {\n            if (pos < j$2) { order.splice(at, 0, new BidiSpan(1, pos, j$2)) }\n            var nstart = j$2\n            for (++j$2; j$2 < i$7 && countsAsNum.test(types[j$2]); ++j$2) {}\n            order.splice(at, 0, new BidiSpan(2, nstart, j$2))\n            pos = j$2\n          } else { ++j$2 }\n        }\n        if (pos < i$7) { order.splice(at, 0, new BidiSpan(1, pos, i$7)) }\n      }\n    }\n    if (direction == \"ltr\") {\n      if (order[0].level == 1 && (m = str.match(/^\\s+/))) {\n        order[0].from = m[0].length\n        order.unshift(new BidiSpan(0, 0, m[0].length))\n      }\n      if (lst(order).level == 1 && (m = str.match(/\\s+$/))) {\n        lst(order).to -= m[0].length\n        order.push(new BidiSpan(0, len - m[0].length, len))\n      }\n    }\n\n    return direction == \"rtl\" ? order.reverse() : order\n  }\n})()\n\n// Get the bidi ordering for the given line (and cache it). Returns\n// false for lines that are fully left-to-right, and an array of\n// BidiSpan objects otherwise.\nfunction getOrder(line, direction) {\n  var order = line.order\n  if (order == null) { order = line.order = bidiOrdering(line.text, direction) }\n  return order\n}\n\n// EVENT HANDLING\n\n// Lightweight event framework. on/off also work on DOM nodes,\n// registering native DOM handlers.\n\nvar noHandlers = []\n\nvar on = function(emitter, type, f) {\n  if (emitter.addEventListener) {\n    emitter.addEventListener(type, f, false)\n  } else if (emitter.attachEvent) {\n    emitter.attachEvent(\"on\" + type, f)\n  } else {\n    var map = emitter._handlers || (emitter._handlers = {})\n    map[type] = (map[type] || noHandlers).concat(f)\n  }\n}\n\nfunction getHandlers(emitter, type) {\n  return emitter._handlers && emitter._handlers[type] || noHandlers\n}\n\nfunction off(emitter, type, f) {\n  if (emitter.removeEventListener) {\n    emitter.removeEventListener(type, f, false)\n  } else if (emitter.detachEvent) {\n    emitter.detachEvent(\"on\" + type, f)\n  } else {\n    var map = emitter._handlers, arr = map && map[type]\n    if (arr) {\n      var index = indexOf(arr, f)\n      if (index > -1)\n        { map[type] = arr.slice(0, index).concat(arr.slice(index + 1)) }\n    }\n  }\n}\n\nfunction signal(emitter, type /*, values...*/) {\n  var handlers = getHandlers(emitter, type)\n  if (!handlers.length) { return }\n  var args = Array.prototype.slice.call(arguments, 2)\n  for (var i = 0; i < handlers.length; ++i) { handlers[i].apply(null, args) }\n}\n\n// The DOM events that CodeMirror handles can be overridden by\n// registering a (non-DOM) handler on the editor for the event name,\n// and preventDefault-ing the event in that handler.\nfunction signalDOMEvent(cm, e, override) {\n  if (typeof e == \"string\")\n    { e = {type: e, preventDefault: function() { this.defaultPrevented = true }} }\n  signal(cm, override || e.type, cm, e)\n  return e_defaultPrevented(e) || e.codemirrorIgnore\n}\n\nfunction signalCursorActivity(cm) {\n  var arr = cm._handlers && cm._handlers.cursorActivity\n  if (!arr) { return }\n  var set = cm.curOp.cursorActivityHandlers || (cm.curOp.cursorActivityHandlers = [])\n  for (var i = 0; i < arr.length; ++i) { if (indexOf(set, arr[i]) == -1)\n    { set.push(arr[i]) } }\n}\n\nfunction hasHandler(emitter, type) {\n  return getHandlers(emitter, type).length > 0\n}\n\n// Add on and off methods to a constructor's prototype, to make\n// registering events on such objects more convenient.\nfunction eventMixin(ctor) {\n  ctor.prototype.on = function(type, f) {on(this, type, f)}\n  ctor.prototype.off = function(type, f) {off(this, type, f)}\n}\n\n// Due to the fact that we still support jurassic IE versions, some\n// compatibility wrappers are needed.\n\nfunction e_preventDefault(e) {\n  if (e.preventDefault) { e.preventDefault() }\n  else { e.returnValue = false }\n}\nfunction e_stopPropagation(e) {\n  if (e.stopPropagation) { e.stopPropagation() }\n  else { e.cancelBubble = true }\n}\nfunction e_defaultPrevented(e) {\n  return e.defaultPrevented != null ? e.defaultPrevented : e.returnValue == false\n}\nfunction e_stop(e) {e_preventDefault(e); e_stopPropagation(e)}\n\nfunction e_target(e) {return e.target || e.srcElement}\nfunction e_button(e) {\n  var b = e.which\n  if (b == null) {\n    if (e.button & 1) { b = 1 }\n    else if (e.button & 2) { b = 3 }\n    else if (e.button & 4) { b = 2 }\n  }\n  if (mac && e.ctrlKey && b == 1) { b = 3 }\n  return b\n}\n\n// Detect drag-and-drop\nvar dragAndDrop = function() {\n  // There is *some* kind of drag-and-drop support in IE6-8, but I\n  // couldn't get it to work yet.\n  if (ie && ie_version < 9) { return false }\n  var div = elt('div')\n  return \"draggable\" in div || \"dragDrop\" in div\n}()\n\nvar zwspSupported\nfunction zeroWidthElement(measure) {\n  if (zwspSupported == null) {\n    var test = elt(\"span\", \"\\u200b\")\n    removeChildrenAndAdd(measure, elt(\"span\", [test, document.createTextNode(\"x\")]))\n    if (measure.firstChild.offsetHeight != 0)\n      { zwspSupported = test.offsetWidth <= 1 && test.offsetHeight > 2 && !(ie && ie_version < 8) }\n  }\n  var node = zwspSupported ? elt(\"span\", \"\\u200b\") :\n    elt(\"span\", \"\\u00a0\", null, \"display: inline-block; width: 1px; margin-right: -1px\")\n  node.setAttribute(\"cm-text\", \"\")\n  return node\n}\n\n// Feature-detect IE's crummy client rect reporting for bidi text\nvar badBidiRects\nfunction hasBadBidiRects(measure) {\n  if (badBidiRects != null) { return badBidiRects }\n  var txt = removeChildrenAndAdd(measure, document.createTextNode(\"A\\u062eA\"))\n  var r0 = range(txt, 0, 1).getBoundingClientRect()\n  var r1 = range(txt, 1, 2).getBoundingClientRect()\n  removeChildren(measure)\n  if (!r0 || r0.left == r0.right) { return false } // Safari returns null in some cases (#2780)\n  return badBidiRects = (r1.right - r0.right < 3)\n}\n\n// See if \"\".split is the broken IE version, if so, provide an\n// alternative way to split lines.\nvar splitLinesAuto = \"\\n\\nb\".split(/\\n/).length != 3 ? function (string) {\n  var pos = 0, result = [], l = string.length\n  while (pos <= l) {\n    var nl = string.indexOf(\"\\n\", pos)\n    if (nl == -1) { nl = string.length }\n    var line = string.slice(pos, string.charAt(nl - 1) == \"\\r\" ? nl - 1 : nl)\n    var rt = line.indexOf(\"\\r\")\n    if (rt != -1) {\n      result.push(line.slice(0, rt))\n      pos += rt + 1\n    } else {\n      result.push(line)\n      pos = nl + 1\n    }\n  }\n  return result\n} : function (string) { return string.split(/\\r\\n?|\\n/); }\n\nvar hasSelection = window.getSelection ? function (te) {\n  try { return te.selectionStart != te.selectionEnd }\n  catch(e) { return false }\n} : function (te) {\n  var range\n  try {range = te.ownerDocument.selection.createRange()}\n  catch(e) {}\n  if (!range || range.parentElement() != te) { return false }\n  return range.compareEndPoints(\"StartToEnd\", range) != 0\n}\n\nvar hasCopyEvent = (function () {\n  var e = elt(\"div\")\n  if (\"oncopy\" in e) { return true }\n  e.setAttribute(\"oncopy\", \"return;\")\n  return typeof e.oncopy == \"function\"\n})()\n\nvar badZoomedRects = null\nfunction hasBadZoomedRects(measure) {\n  if (badZoomedRects != null) { return badZoomedRects }\n  var node = removeChildrenAndAdd(measure, elt(\"span\", \"x\"))\n  var normal = node.getBoundingClientRect()\n  var fromRange = range(node, 0, 1).getBoundingClientRect()\n  return badZoomedRects = Math.abs(normal.left - fromRange.left) > 1\n}\n\nvar modes = {};\nvar mimeModes = {};\n// Extra arguments are stored as the mode's dependencies, which is\n// used by (legacy) mechanisms like loadmode.js to automatically\n// load a mode. (Preferred mechanism is the require/define calls.)\nfunction defineMode(name, mode) {\n  if (arguments.length > 2)\n    { mode.dependencies = Array.prototype.slice.call(arguments, 2) }\n  modes[name] = mode\n}\n\nfunction defineMIME(mime, spec) {\n  mimeModes[mime] = spec\n}\n\n// Given a MIME type, a {name, ...options} config object, or a name\n// string, return a mode config object.\nfunction resolveMode(spec) {\n  if (typeof spec == \"string\" && mimeModes.hasOwnProperty(spec)) {\n    spec = mimeModes[spec]\n  } else if (spec && typeof spec.name == \"string\" && mimeModes.hasOwnProperty(spec.name)) {\n    var found = mimeModes[spec.name]\n    if (typeof found == \"string\") { found = {name: found} }\n    spec = createObj(found, spec)\n    spec.name = found.name\n  } else if (typeof spec == \"string\" && /^[\\w\\-]+\\/[\\w\\-]+\\+xml$/.test(spec)) {\n    return resolveMode(\"application/xml\")\n  } else if (typeof spec == \"string\" && /^[\\w\\-]+\\/[\\w\\-]+\\+json$/.test(spec)) {\n    return resolveMode(\"application/json\")\n  }\n  if (typeof spec == \"string\") { return {name: spec} }\n  else { return spec || {name: \"null\"} }\n}\n\n// Given a mode spec (anything that resolveMode accepts), find and\n// initialize an actual mode object.\nfunction getMode(options, spec) {\n  spec = resolveMode(spec)\n  var mfactory = modes[spec.name]\n  if (!mfactory) { return getMode(options, \"text/plain\") }\n  var modeObj = mfactory(options, spec)\n  if (modeExtensions.hasOwnProperty(spec.name)) {\n    var exts = modeExtensions[spec.name]\n    for (var prop in exts) {\n      if (!exts.hasOwnProperty(prop)) { continue }\n      if (modeObj.hasOwnProperty(prop)) { modeObj[\"_\" + prop] = modeObj[prop] }\n      modeObj[prop] = exts[prop]\n    }\n  }\n  modeObj.name = spec.name\n  if (spec.helperType) { modeObj.helperType = spec.helperType }\n  if (spec.modeProps) { for (var prop$1 in spec.modeProps)\n    { modeObj[prop$1] = spec.modeProps[prop$1] } }\n\n  return modeObj\n}\n\n// This can be used to attach properties to mode objects from\n// outside the actual mode definition.\nvar modeExtensions = {}\nfunction extendMode(mode, properties) {\n  var exts = modeExtensions.hasOwnProperty(mode) ? modeExtensions[mode] : (modeExtensions[mode] = {})\n  copyObj(properties, exts)\n}\n\nfunction copyState(mode, state) {\n  if (state === true) { return state }\n  if (mode.copyState) { return mode.copyState(state) }\n  var nstate = {}\n  for (var n in state) {\n    var val = state[n]\n    if (val instanceof Array) { val = val.concat([]) }\n    nstate[n] = val\n  }\n  return nstate\n}\n\n// Given a mode and a state (for that mode), find the inner mode and\n// state at the position that the state refers to.\nfunction innerMode(mode, state) {\n  var info\n  while (mode.innerMode) {\n    info = mode.innerMode(state)\n    if (!info || info.mode == mode) { break }\n    state = info.state\n    mode = info.mode\n  }\n  return info || {mode: mode, state: state}\n}\n\nfunction startState(mode, a1, a2) {\n  return mode.startState ? mode.startState(a1, a2) : true\n}\n\n// STRING STREAM\n\n// Fed to the mode parsers, provides helper functions to make\n// parsers more succinct.\n\nvar StringStream = function(string, tabSize, lineOracle) {\n  this.pos = this.start = 0\n  this.string = string\n  this.tabSize = tabSize || 8\n  this.lastColumnPos = this.lastColumnValue = 0\n  this.lineStart = 0\n  this.lineOracle = lineOracle\n};\n\nStringStream.prototype.eol = function () {return this.pos >= this.string.length};\nStringStream.prototype.sol = function () {return this.pos == this.lineStart};\nStringStream.prototype.peek = function () {return this.string.charAt(this.pos) || undefined};\nStringStream.prototype.next = function () {\n  if (this.pos < this.string.length)\n    { return this.string.charAt(this.pos++) }\n};\nStringStream.prototype.eat = function (match) {\n  var ch = this.string.charAt(this.pos)\n  var ok\n  if (typeof match == \"string\") { ok = ch == match }\n  else { ok = ch && (match.test ? match.test(ch) : match(ch)) }\n  if (ok) {++this.pos; return ch}\n};\nStringStream.prototype.eatWhile = function (match) {\n  var start = this.pos\n  while (this.eat(match)){}\n  return this.pos > start\n};\nStringStream.prototype.eatSpace = function () {\n    var this$1 = this;\n\n  var start = this.pos\n  while (/[\\s\\u00a0]/.test(this.string.charAt(this.pos))) { ++this$1.pos }\n  return this.pos > start\n};\nStringStream.prototype.skipToEnd = function () {this.pos = this.string.length};\nStringStream.prototype.skipTo = function (ch) {\n  var found = this.string.indexOf(ch, this.pos)\n  if (found > -1) {this.pos = found; return true}\n};\nStringStream.prototype.backUp = function (n) {this.pos -= n};\nStringStream.prototype.column = function () {\n  if (this.lastColumnPos < this.start) {\n    this.lastColumnValue = countColumn(this.string, this.start, this.tabSize, this.lastColumnPos, this.lastColumnValue)\n    this.lastColumnPos = this.start\n  }\n  return this.lastColumnValue - (this.lineStart ? countColumn(this.string, this.lineStart, this.tabSize) : 0)\n};\nStringStream.prototype.indentation = function () {\n  return countColumn(this.string, null, this.tabSize) -\n    (this.lineStart ? countColumn(this.string, this.lineStart, this.tabSize) : 0)\n};\nStringStream.prototype.match = function (pattern, consume, caseInsensitive) {\n  if (typeof pattern == \"string\") {\n    var cased = function (str) { return caseInsensitive ? str.toLowerCase() : str; }\n    var substr = this.string.substr(this.pos, pattern.length)\n    if (cased(substr) == cased(pattern)) {\n      if (consume !== false) { this.pos += pattern.length }\n      return true\n    }\n  } else {\n    var match = this.string.slice(this.pos).match(pattern)\n    if (match && match.index > 0) { return null }\n    if (match && consume !== false) { this.pos += match[0].length }\n    return match\n  }\n};\nStringStream.prototype.current = function (){return this.string.slice(this.start, this.pos)};\nStringStream.prototype.hideFirstChars = function (n, inner) {\n  this.lineStart += n\n  try { return inner() }\n  finally { this.lineStart -= n }\n};\nStringStream.prototype.lookAhead = function (n) {\n  var oracle = this.lineOracle\n  return oracle && oracle.lookAhead(n)\n};\nStringStream.prototype.baseToken = function () {\n  var oracle = this.lineOracle\n  return oracle && oracle.baseToken(this.pos)\n};\n\nvar SavedContext = function(state, lookAhead) {\n  this.state = state\n  this.lookAhead = lookAhead\n};\n\nvar Context = function(doc, state, line, lookAhead) {\n  this.state = state\n  this.doc = doc\n  this.line = line\n  this.maxLookAhead = lookAhead || 0\n  this.baseTokens = null\n  this.baseTokenPos = 1\n};\n\nContext.prototype.lookAhead = function (n) {\n  var line = this.doc.getLine(this.line + n)\n  if (line != null && n > this.maxLookAhead) { this.maxLookAhead = n }\n  return line\n};\n\nContext.prototype.baseToken = function (n) {\n    var this$1 = this;\n\n  if (!this.baseTokens) { return null }\n  while (this.baseTokens[this.baseTokenPos] <= n)\n    { this$1.baseTokenPos += 2 }\n  var type = this.baseTokens[this.baseTokenPos + 1]\n  return {type: type && type.replace(/( |^)overlay .*/, \"\"),\n          size: this.baseTokens[this.baseTokenPos] - n}\n};\n\nContext.prototype.nextLine = function () {\n  this.line++\n  if (this.maxLookAhead > 0) { this.maxLookAhead-- }\n};\n\nContext.fromSaved = function (doc, saved, line) {\n  if (saved instanceof SavedContext)\n    { return new Context(doc, copyState(doc.mode, saved.state), line, saved.lookAhead) }\n  else\n    { return new Context(doc, copyState(doc.mode, saved), line) }\n};\n\nContext.prototype.save = function (copy) {\n  var state = copy !== false ? copyState(this.doc.mode, this.state) : this.state\n  return this.maxLookAhead > 0 ? new SavedContext(state, this.maxLookAhead) : state\n};\n\n\n// Compute a style array (an array starting with a mode generation\n// -- for invalidation -- followed by pairs of end positions and\n// style strings), which is used to highlight the tokens on the\n// line.\nfunction highlightLine(cm, line, context, forceToEnd) {\n  // A styles array always starts with a number identifying the\n  // mode/overlays that it is based on (for easy invalidation).\n  var st = [cm.state.modeGen], lineClasses = {}\n  // Compute the base array of styles\n  runMode(cm, line.text, cm.doc.mode, context, function (end, style) { return st.push(end, style); },\n          lineClasses, forceToEnd)\n  var state = context.state\n\n  // Run overlays, adjust style array.\n  var loop = function ( o ) {\n    context.baseTokens = st\n    var overlay = cm.state.overlays[o], i = 1, at = 0\n    context.state = true\n    runMode(cm, line.text, overlay.mode, context, function (end, style) {\n      var start = i\n      // Ensure there's a token end at the current position, and that i points at it\n      while (at < end) {\n        var i_end = st[i]\n        if (i_end > end)\n          { st.splice(i, 1, end, st[i+1], i_end) }\n        i += 2\n        at = Math.min(end, i_end)\n      }\n      if (!style) { return }\n      if (overlay.opaque) {\n        st.splice(start, i - start, end, \"overlay \" + style)\n        i = start + 2\n      } else {\n        for (; start < i; start += 2) {\n          var cur = st[start+1]\n          st[start+1] = (cur ? cur + \" \" : \"\") + \"overlay \" + style\n        }\n      }\n    }, lineClasses)\n    context.state = state\n    context.baseTokens = null\n    context.baseTokenPos = 1\n  };\n\n  for (var o = 0; o < cm.state.overlays.length; ++o) loop( o );\n\n  return {styles: st, classes: lineClasses.bgClass || lineClasses.textClass ? lineClasses : null}\n}\n\nfunction getLineStyles(cm, line, updateFrontier) {\n  if (!line.styles || line.styles[0] != cm.state.modeGen) {\n    var context = getContextBefore(cm, lineNo(line))\n    var resetState = line.text.length > cm.options.maxHighlightLength && copyState(cm.doc.mode, context.state)\n    var result = highlightLine(cm, line, context)\n    if (resetState) { context.state = resetState }\n    line.stateAfter = context.save(!resetState)\n    line.styles = result.styles\n    if (result.classes) { line.styleClasses = result.classes }\n    else if (line.styleClasses) { line.styleClasses = null }\n    if (updateFrontier === cm.doc.highlightFrontier)\n      { cm.doc.modeFrontier = Math.max(cm.doc.modeFrontier, ++cm.doc.highlightFrontier) }\n  }\n  return line.styles\n}\n\nfunction getContextBefore(cm, n, precise) {\n  var doc = cm.doc, display = cm.display\n  if (!doc.mode.startState) { return new Context(doc, true, n) }\n  var start = findStartLine(cm, n, precise)\n  var saved = start > doc.first && getLine(doc, start - 1).stateAfter\n  var context = saved ? Context.fromSaved(doc, saved, start) : new Context(doc, startState(doc.mode), start)\n\n  doc.iter(start, n, function (line) {\n    processLine(cm, line.text, context)\n    var pos = context.line\n    line.stateAfter = pos == n - 1 || pos % 5 == 0 || pos >= display.viewFrom && pos < display.viewTo ? context.save() : null\n    context.nextLine()\n  })\n  if (precise) { doc.modeFrontier = context.line }\n  return context\n}\n\n// Lightweight form of highlight -- proceed over this line and\n// update state, but don't save a style array. Used for lines that\n// aren't currently visible.\nfunction processLine(cm, text, context, startAt) {\n  var mode = cm.doc.mode\n  var stream = new StringStream(text, cm.options.tabSize, context)\n  stream.start = stream.pos = startAt || 0\n  if (text == \"\") { callBlankLine(mode, context.state) }\n  while (!stream.eol()) {\n    readToken(mode, stream, context.state)\n    stream.start = stream.pos\n  }\n}\n\nfunction callBlankLine(mode, state) {\n  if (mode.blankLine) { return mode.blankLine(state) }\n  if (!mode.innerMode) { return }\n  var inner = innerMode(mode, state)\n  if (inner.mode.blankLine) { return inner.mode.blankLine(inner.state) }\n}\n\nfunction readToken(mode, stream, state, inner) {\n  for (var i = 0; i < 10; i++) {\n    if (inner) { inner[0] = innerMode(mode, state).mode }\n    var style = mode.token(stream, state)\n    if (stream.pos > stream.start) { return style }\n  }\n  throw new Error(\"Mode \" + mode.name + \" failed to advance stream.\")\n}\n\nvar Token = function(stream, type, state) {\n  this.start = stream.start; this.end = stream.pos\n  this.string = stream.current()\n  this.type = type || null\n  this.state = state\n};\n\n// Utility for getTokenAt and getLineTokens\nfunction takeToken(cm, pos, precise, asArray) {\n  var doc = cm.doc, mode = doc.mode, style\n  pos = clipPos(doc, pos)\n  var line = getLine(doc, pos.line), context = getContextBefore(cm, pos.line, precise)\n  var stream = new StringStream(line.text, cm.options.tabSize, context), tokens\n  if (asArray) { tokens = [] }\n  while ((asArray || stream.pos < pos.ch) && !stream.eol()) {\n    stream.start = stream.pos\n    style = readToken(mode, stream, context.state)\n    if (asArray) { tokens.push(new Token(stream, style, copyState(doc.mode, context.state))) }\n  }\n  return asArray ? tokens : new Token(stream, style, context.state)\n}\n\nfunction extractLineClasses(type, output) {\n  if (type) { for (;;) {\n    var lineClass = type.match(/(?:^|\\s+)line-(background-)?(\\S+)/)\n    if (!lineClass) { break }\n    type = type.slice(0, lineClass.index) + type.slice(lineClass.index + lineClass[0].length)\n    var prop = lineClass[1] ? \"bgClass\" : \"textClass\"\n    if (output[prop] == null)\n      { output[prop] = lineClass[2] }\n    else if (!(new RegExp(\"(?:^|\\s)\" + lineClass[2] + \"(?:$|\\s)\")).test(output[prop]))\n      { output[prop] += \" \" + lineClass[2] }\n  } }\n  return type\n}\n\n// Run the given mode's parser over a line, calling f for each token.\nfunction runMode(cm, text, mode, context, f, lineClasses, forceToEnd) {\n  var flattenSpans = mode.flattenSpans\n  if (flattenSpans == null) { flattenSpans = cm.options.flattenSpans }\n  var curStart = 0, curStyle = null\n  var stream = new StringStream(text, cm.options.tabSize, context), style\n  var inner = cm.options.addModeClass && [null]\n  if (text == \"\") { extractLineClasses(callBlankLine(mode, context.state), lineClasses) }\n  while (!stream.eol()) {\n    if (stream.pos > cm.options.maxHighlightLength) {\n      flattenSpans = false\n      if (forceToEnd) { processLine(cm, text, context, stream.pos) }\n      stream.pos = text.length\n      style = null\n    } else {\n      style = extractLineClasses(readToken(mode, stream, context.state, inner), lineClasses)\n    }\n    if (inner) {\n      var mName = inner[0].name\n      if (mName) { style = \"m-\" + (style ? mName + \" \" + style : mName) }\n    }\n    if (!flattenSpans || curStyle != style) {\n      while (curStart < stream.start) {\n        curStart = Math.min(stream.start, curStart + 5000)\n        f(curStart, curStyle)\n      }\n      curStyle = style\n    }\n    stream.start = stream.pos\n  }\n  while (curStart < stream.pos) {\n    // Webkit seems to refuse to render text nodes longer than 57444\n    // characters, and returns inaccurate measurements in nodes\n    // starting around 5000 chars.\n    var pos = Math.min(stream.pos, curStart + 5000)\n    f(pos, curStyle)\n    curStart = pos\n  }\n}\n\n// Finds the line to start with when starting a parse. Tries to\n// find a line with a stateAfter, so that it can start with a\n// valid state. If that fails, it returns the line with the\n// smallest indentation, which tends to need the least context to\n// parse correctly.\nfunction findStartLine(cm, n, precise) {\n  var minindent, minline, doc = cm.doc\n  var lim = precise ? -1 : n - (cm.doc.mode.innerMode ? 1000 : 100)\n  for (var search = n; search > lim; --search) {\n    if (search <= doc.first) { return doc.first }\n    var line = getLine(doc, search - 1), after = line.stateAfter\n    if (after && (!precise || search + (after instanceof SavedContext ? after.lookAhead : 0) <= doc.modeFrontier))\n      { return search }\n    var indented = countColumn(line.text, null, cm.options.tabSize)\n    if (minline == null || minindent > indented) {\n      minline = search - 1\n      minindent = indented\n    }\n  }\n  return minline\n}\n\nfunction retreatFrontier(doc, n) {\n  doc.modeFrontier = Math.min(doc.modeFrontier, n)\n  if (doc.highlightFrontier < n - 10) { return }\n  var start = doc.first\n  for (var line = n - 1; line > start; line--) {\n    var saved = getLine(doc, line).stateAfter\n    // change is on 3\n    // state on line 1 looked ahead 2 -- so saw 3\n    // test 1 + 2 < 3 should cover this\n    if (saved && (!(saved instanceof SavedContext) || line + saved.lookAhead < n)) {\n      start = line + 1\n      break\n    }\n  }\n  doc.highlightFrontier = Math.min(doc.highlightFrontier, start)\n}\n\n// LINE DATA STRUCTURE\n\n// Line objects. These hold state related to a line, including\n// highlighting info (the styles array).\nvar Line = function(text, markedSpans, estimateHeight) {\n  this.text = text\n  attachMarkedSpans(this, markedSpans)\n  this.height = estimateHeight ? estimateHeight(this) : 1\n};\n\nLine.prototype.lineNo = function () { return lineNo(this) };\neventMixin(Line)\n\n// Change the content (text, markers) of a line. Automatically\n// invalidates cached information and tries to re-estimate the\n// line's height.\nfunction updateLine(line, text, markedSpans, estimateHeight) {\n  line.text = text\n  if (line.stateAfter) { line.stateAfter = null }\n  if (line.styles) { line.styles = null }\n  if (line.order != null) { line.order = null }\n  detachMarkedSpans(line)\n  attachMarkedSpans(line, markedSpans)\n  var estHeight = estimateHeight ? estimateHeight(line) : 1\n  if (estHeight != line.height) { updateLineHeight(line, estHeight) }\n}\n\n// Detach a line from the document tree and its markers.\nfunction cleanUpLine(line) {\n  line.parent = null\n  detachMarkedSpans(line)\n}\n\n// Convert a style as returned by a mode (either null, or a string\n// containing one or more styles) to a CSS style. This is cached,\n// and also looks for line-wide styles.\nvar styleToClassCache = {};\nvar styleToClassCacheWithMode = {};\nfunction interpretTokenStyle(style, options) {\n  if (!style || /^\\s*$/.test(style)) { return null }\n  var cache = options.addModeClass ? styleToClassCacheWithMode : styleToClassCache\n  return cache[style] ||\n    (cache[style] = style.replace(/\\S+/g, \"cm-$&\"))\n}\n\n// Render the DOM representation of the text of a line. Also builds\n// up a 'line map', which points at the DOM nodes that represent\n// specific stretches of text, and is used by the measuring code.\n// The returned object contains the DOM node, this map, and\n// information about line-wide styles that were set by the mode.\nfunction buildLineContent(cm, lineView) {\n  // The padding-right forces the element to have a 'border', which\n  // is needed on Webkit to be able to get line-level bounding\n  // rectangles for it (in measureChar).\n  var content = eltP(\"span\", null, null, webkit ? \"padding-right: .1px\" : null)\n  var builder = {pre: eltP(\"pre\", [content], \"CodeMirror-line\"), content: content,\n                 col: 0, pos: 0, cm: cm,\n                 trailingSpace: false,\n                 splitSpaces: (ie || webkit) && cm.getOption(\"lineWrapping\")}\n  lineView.measure = {}\n\n  // Iterate over the logical lines that make up this visual line.\n  for (var i = 0; i <= (lineView.rest ? lineView.rest.length : 0); i++) {\n    var line = i ? lineView.rest[i - 1] : lineView.line, order = (void 0)\n    builder.pos = 0\n    builder.addToken = buildToken\n    // Optionally wire in some hacks into the token-rendering\n    // algorithm, to deal with browser quirks.\n    if (hasBadBidiRects(cm.display.measure) && (order = getOrder(line, cm.doc.direction)))\n      { builder.addToken = buildTokenBadBidi(builder.addToken, order) }\n    builder.map = []\n    var allowFrontierUpdate = lineView != cm.display.externalMeasured && lineNo(line)\n    insertLineContent(line, builder, getLineStyles(cm, line, allowFrontierUpdate))\n    if (line.styleClasses) {\n      if (line.styleClasses.bgClass)\n        { builder.bgClass = joinClasses(line.styleClasses.bgClass, builder.bgClass || \"\") }\n      if (line.styleClasses.textClass)\n        { builder.textClass = joinClasses(line.styleClasses.textClass, builder.textClass || \"\") }\n    }\n\n    // Ensure at least a single node is present, for measuring.\n    if (builder.map.length == 0)\n      { builder.map.push(0, 0, builder.content.appendChild(zeroWidthElement(cm.display.measure))) }\n\n    // Store the map and a cache object for the current logical line\n    if (i == 0) {\n      lineView.measure.map = builder.map\n      lineView.measure.cache = {}\n    } else {\n      ;(lineView.measure.maps || (lineView.measure.maps = [])).push(builder.map)\n      ;(lineView.measure.caches || (lineView.measure.caches = [])).push({})\n    }\n  }\n\n  // See issue #2901\n  if (webkit) {\n    var last = builder.content.lastChild\n    if (/\\bcm-tab\\b/.test(last.className) || (last.querySelector && last.querySelector(\".cm-tab\")))\n      { builder.content.className = \"cm-tab-wrap-hack\" }\n  }\n\n  signal(cm, \"renderLine\", cm, lineView.line, builder.pre)\n  if (builder.pre.className)\n    { builder.textClass = joinClasses(builder.pre.className, builder.textClass || \"\") }\n\n  return builder\n}\n\nfunction defaultSpecialCharPlaceholder(ch) {\n  var token = elt(\"span\", \"\\u2022\", \"cm-invalidchar\")\n  token.title = \"\\\\u\" + ch.charCodeAt(0).toString(16)\n  token.setAttribute(\"aria-label\", token.title)\n  return token\n}\n\n// Build up the DOM representation for a single token, and add it to\n// the line map. Takes care to render special characters separately.\nfunction buildToken(builder, text, style, startStyle, endStyle, title, css) {\n  if (!text) { return }\n  var displayText = builder.splitSpaces ? splitSpaces(text, builder.trailingSpace) : text\n  var special = builder.cm.state.specialChars, mustWrap = false\n  var content\n  if (!special.test(text)) {\n    builder.col += text.length\n    content = document.createTextNode(displayText)\n    builder.map.push(builder.pos, builder.pos + text.length, content)\n    if (ie && ie_version < 9) { mustWrap = true }\n    builder.pos += text.length\n  } else {\n    content = document.createDocumentFragment()\n    var pos = 0\n    while (true) {\n      special.lastIndex = pos\n      var m = special.exec(text)\n      var skipped = m ? m.index - pos : text.length - pos\n      if (skipped) {\n        var txt = document.createTextNode(displayText.slice(pos, pos + skipped))\n        if (ie && ie_version < 9) { content.appendChild(elt(\"span\", [txt])) }\n        else { content.appendChild(txt) }\n        builder.map.push(builder.pos, builder.pos + skipped, txt)\n        builder.col += skipped\n        builder.pos += skipped\n      }\n      if (!m) { break }\n      pos += skipped + 1\n      var txt$1 = (void 0)\n      if (m[0] == \"\\t\") {\n        var tabSize = builder.cm.options.tabSize, tabWidth = tabSize - builder.col % tabSize\n        txt$1 = content.appendChild(elt(\"span\", spaceStr(tabWidth), \"cm-tab\"))\n        txt$1.setAttribute(\"role\", \"presentation\")\n        txt$1.setAttribute(\"cm-text\", \"\\t\")\n        builder.col += tabWidth\n      } else if (m[0] == \"\\r\" || m[0] == \"\\n\") {\n        txt$1 = content.appendChild(elt(\"span\", m[0] == \"\\r\" ? \"\\u240d\" : \"\\u2424\", \"cm-invalidchar\"))\n        txt$1.setAttribute(\"cm-text\", m[0])\n        builder.col += 1\n      } else {\n        txt$1 = builder.cm.options.specialCharPlaceholder(m[0])\n        txt$1.setAttribute(\"cm-text\", m[0])\n        if (ie && ie_version < 9) { content.appendChild(elt(\"span\", [txt$1])) }\n        else { content.appendChild(txt$1) }\n        builder.col += 1\n      }\n      builder.map.push(builder.pos, builder.pos + 1, txt$1)\n      builder.pos++\n    }\n  }\n  builder.trailingSpace = displayText.charCodeAt(text.length - 1) == 32\n  if (style || startStyle || endStyle || mustWrap || css) {\n    var fullStyle = style || \"\"\n    if (startStyle) { fullStyle += startStyle }\n    if (endStyle) { fullStyle += endStyle }\n    var token = elt(\"span\", [content], fullStyle, css)\n    if (title) { token.title = title }\n    return builder.content.appendChild(token)\n  }\n  builder.content.appendChild(content)\n}\n\nfunction splitSpaces(text, trailingBefore) {\n  if (text.length > 1 && !/  /.test(text)) { return text }\n  var spaceBefore = trailingBefore, result = \"\"\n  for (var i = 0; i < text.length; i++) {\n    var ch = text.charAt(i)\n    if (ch == \" \" && spaceBefore && (i == text.length - 1 || text.charCodeAt(i + 1) == 32))\n      { ch = \"\\u00a0\" }\n    result += ch\n    spaceBefore = ch == \" \"\n  }\n  return result\n}\n\n// Work around nonsense dimensions being reported for stretches of\n// right-to-left text.\nfunction buildTokenBadBidi(inner, order) {\n  return function (builder, text, style, startStyle, endStyle, title, css) {\n    style = style ? style + \" cm-force-border\" : \"cm-force-border\"\n    var start = builder.pos, end = start + text.length\n    for (;;) {\n      // Find the part that overlaps with the start of this text\n      var part = (void 0)\n      for (var i = 0; i < order.length; i++) {\n        part = order[i]\n        if (part.to > start && part.from <= start) { break }\n      }\n      if (part.to >= end) { return inner(builder, text, style, startStyle, endStyle, title, css) }\n      inner(builder, text.slice(0, part.to - start), style, startStyle, null, title, css)\n      startStyle = null\n      text = text.slice(part.to - start)\n      start = part.to\n    }\n  }\n}\n\nfunction buildCollapsedSpan(builder, size, marker, ignoreWidget) {\n  var widget = !ignoreWidget && marker.widgetNode\n  if (widget) { builder.map.push(builder.pos, builder.pos + size, widget) }\n  if (!ignoreWidget && builder.cm.display.input.needsContentAttribute) {\n    if (!widget)\n      { widget = builder.content.appendChild(document.createElement(\"span\")) }\n    widget.setAttribute(\"cm-marker\", marker.id)\n  }\n  if (widget) {\n    builder.cm.display.input.setUneditable(widget)\n    builder.content.appendChild(widget)\n  }\n  builder.pos += size\n  builder.trailingSpace = false\n}\n\n// Outputs a number of spans to make up a line, taking highlighting\n// and marked text into account.\nfunction insertLineContent(line, builder, styles) {\n  var spans = line.markedSpans, allText = line.text, at = 0\n  if (!spans) {\n    for (var i$1 = 1; i$1 < styles.length; i$1+=2)\n      { builder.addToken(builder, allText.slice(at, at = styles[i$1]), interpretTokenStyle(styles[i$1+1], builder.cm.options)) }\n    return\n  }\n\n  var len = allText.length, pos = 0, i = 1, text = \"\", style, css\n  var nextChange = 0, spanStyle, spanEndStyle, spanStartStyle, title, collapsed\n  for (;;) {\n    if (nextChange == pos) { // Update current marker set\n      spanStyle = spanEndStyle = spanStartStyle = title = css = \"\"\n      collapsed = null; nextChange = Infinity\n      var foundBookmarks = [], endStyles = (void 0)\n      for (var j = 0; j < spans.length; ++j) {\n        var sp = spans[j], m = sp.marker\n        if (m.type == \"bookmark\" && sp.from == pos && m.widgetNode) {\n          foundBookmarks.push(m)\n        } else if (sp.from <= pos && (sp.to == null || sp.to > pos || m.collapsed && sp.to == pos && sp.from == pos)) {\n          if (sp.to != null && sp.to != pos && nextChange > sp.to) {\n            nextChange = sp.to\n            spanEndStyle = \"\"\n          }\n          if (m.className) { spanStyle += \" \" + m.className }\n          if (m.css) { css = (css ? css + \";\" : \"\") + m.css }\n          if (m.startStyle && sp.from == pos) { spanStartStyle += \" \" + m.startStyle }\n          if (m.endStyle && sp.to == nextChange) { (endStyles || (endStyles = [])).push(m.endStyle, sp.to) }\n          if (m.title && !title) { title = m.title }\n          if (m.collapsed && (!collapsed || compareCollapsedMarkers(collapsed.marker, m) < 0))\n            { collapsed = sp }\n        } else if (sp.from > pos && nextChange > sp.from) {\n          nextChange = sp.from\n        }\n      }\n      if (endStyles) { for (var j$1 = 0; j$1 < endStyles.length; j$1 += 2)\n        { if (endStyles[j$1 + 1] == nextChange) { spanEndStyle += \" \" + endStyles[j$1] } } }\n\n      if (!collapsed || collapsed.from == pos) { for (var j$2 = 0; j$2 < foundBookmarks.length; ++j$2)\n        { buildCollapsedSpan(builder, 0, foundBookmarks[j$2]) } }\n      if (collapsed && (collapsed.from || 0) == pos) {\n        buildCollapsedSpan(builder, (collapsed.to == null ? len + 1 : collapsed.to) - pos,\n                           collapsed.marker, collapsed.from == null)\n        if (collapsed.to == null) { return }\n        if (collapsed.to == pos) { collapsed = false }\n      }\n    }\n    if (pos >= len) { break }\n\n    var upto = Math.min(len, nextChange)\n    while (true) {\n      if (text) {\n        var end = pos + text.length\n        if (!collapsed) {\n          var tokenText = end > upto ? text.slice(0, upto - pos) : text\n          builder.addToken(builder, tokenText, style ? style + spanStyle : spanStyle,\n                           spanStartStyle, pos + tokenText.length == nextChange ? spanEndStyle : \"\", title, css)\n        }\n        if (end >= upto) {text = text.slice(upto - pos); pos = upto; break}\n        pos = end\n        spanStartStyle = \"\"\n      }\n      text = allText.slice(at, at = styles[i++])\n      style = interpretTokenStyle(styles[i++], builder.cm.options)\n    }\n  }\n}\n\n\n// These objects are used to represent the visible (currently drawn)\n// part of the document. A LineView may correspond to multiple\n// logical lines, if those are connected by collapsed ranges.\nfunction LineView(doc, line, lineN) {\n  // The starting line\n  this.line = line\n  // Continuing lines, if any\n  this.rest = visualLineContinued(line)\n  // Number of logical lines in this visual line\n  this.size = this.rest ? lineNo(lst(this.rest)) - lineN + 1 : 1\n  this.node = this.text = null\n  this.hidden = lineIsHidden(doc, line)\n}\n\n// Create a range of LineView objects for the given lines.\nfunction buildViewArray(cm, from, to) {\n  var array = [], nextPos\n  for (var pos = from; pos < to; pos = nextPos) {\n    var view = new LineView(cm.doc, getLine(cm.doc, pos), pos)\n    nextPos = pos + view.size\n    array.push(view)\n  }\n  return array\n}\n\nvar operationGroup = null\n\nfunction pushOperation(op) {\n  if (operationGroup) {\n    operationGroup.ops.push(op)\n  } else {\n    op.ownsGroup = operationGroup = {\n      ops: [op],\n      delayedCallbacks: []\n    }\n  }\n}\n\nfunction fireCallbacksForOps(group) {\n  // Calls delayed callbacks and cursorActivity handlers until no\n  // new ones appear\n  var callbacks = group.delayedCallbacks, i = 0\n  do {\n    for (; i < callbacks.length; i++)\n      { callbacks[i].call(null) }\n    for (var j = 0; j < group.ops.length; j++) {\n      var op = group.ops[j]\n      if (op.cursorActivityHandlers)\n        { while (op.cursorActivityCalled < op.cursorActivityHandlers.length)\n          { op.cursorActivityHandlers[op.cursorActivityCalled++].call(null, op.cm) } }\n    }\n  } while (i < callbacks.length)\n}\n\nfunction finishOperation(op, endCb) {\n  var group = op.ownsGroup\n  if (!group) { return }\n\n  try { fireCallbacksForOps(group) }\n  finally {\n    operationGroup = null\n    endCb(group)\n  }\n}\n\nvar orphanDelayedCallbacks = null\n\n// Often, we want to signal events at a point where we are in the\n// middle of some work, but don't want the handler to start calling\n// other methods on the editor, which might be in an inconsistent\n// state or simply not expect any other events to happen.\n// signalLater looks whether there are any handlers, and schedules\n// them to be executed when the last operation ends, or, if no\n// operation is active, when a timeout fires.\nfunction signalLater(emitter, type /*, values...*/) {\n  var arr = getHandlers(emitter, type)\n  if (!arr.length) { return }\n  var args = Array.prototype.slice.call(arguments, 2), list\n  if (operationGroup) {\n    list = operationGroup.delayedCallbacks\n  } else if (orphanDelayedCallbacks) {\n    list = orphanDelayedCallbacks\n  } else {\n    list = orphanDelayedCallbacks = []\n    setTimeout(fireOrphanDelayed, 0)\n  }\n  var loop = function ( i ) {\n    list.push(function () { return arr[i].apply(null, args); })\n  };\n\n  for (var i = 0; i < arr.length; ++i)\n    loop( i );\n}\n\nfunction fireOrphanDelayed() {\n  var delayed = orphanDelayedCallbacks\n  orphanDelayedCallbacks = null\n  for (var i = 0; i < delayed.length; ++i) { delayed[i]() }\n}\n\n// When an aspect of a line changes, a string is added to\n// lineView.changes. This updates the relevant part of the line's\n// DOM structure.\nfunction updateLineForChanges(cm, lineView, lineN, dims) {\n  for (var j = 0; j < lineView.changes.length; j++) {\n    var type = lineView.changes[j]\n    if (type == \"text\") { updateLineText(cm, lineView) }\n    else if (type == \"gutter\") { updateLineGutter(cm, lineView, lineN, dims) }\n    else if (type == \"class\") { updateLineClasses(cm, lineView) }\n    else if (type == \"widget\") { updateLineWidgets(cm, lineView, dims) }\n  }\n  lineView.changes = null\n}\n\n// Lines with gutter elements, widgets or a background class need to\n// be wrapped, and have the extra elements added to the wrapper div\nfunction ensureLineWrapped(lineView) {\n  if (lineView.node == lineView.text) {\n    lineView.node = elt(\"div\", null, null, \"position: relative\")\n    if (lineView.text.parentNode)\n      { lineView.text.parentNode.replaceChild(lineView.node, lineView.text) }\n    lineView.node.appendChild(lineView.text)\n    if (ie && ie_version < 8) { lineView.node.style.zIndex = 2 }\n  }\n  return lineView.node\n}\n\nfunction updateLineBackground(cm, lineView) {\n  var cls = lineView.bgClass ? lineView.bgClass + \" \" + (lineView.line.bgClass || \"\") : lineView.line.bgClass\n  if (cls) { cls += \" CodeMirror-linebackground\" }\n  if (lineView.background) {\n    if (cls) { lineView.background.className = cls }\n    else { lineView.background.parentNode.removeChild(lineView.background); lineView.background = null }\n  } else if (cls) {\n    var wrap = ensureLineWrapped(lineView)\n    lineView.background = wrap.insertBefore(elt(\"div\", null, cls), wrap.firstChild)\n    cm.display.input.setUneditable(lineView.background)\n  }\n}\n\n// Wrapper around buildLineContent which will reuse the structure\n// in display.externalMeasured when possible.\nfunction getLineContent(cm, lineView) {\n  var ext = cm.display.externalMeasured\n  if (ext && ext.line == lineView.line) {\n    cm.display.externalMeasured = null\n    lineView.measure = ext.measure\n    return ext.built\n  }\n  return buildLineContent(cm, lineView)\n}\n\n// Redraw the line's text. Interacts with the background and text\n// classes because the mode may output tokens that influence these\n// classes.\nfunction updateLineText(cm, lineView) {\n  var cls = lineView.text.className\n  var built = getLineContent(cm, lineView)\n  if (lineView.text == lineView.node) { lineView.node = built.pre }\n  lineView.text.parentNode.replaceChild(built.pre, lineView.text)\n  lineView.text = built.pre\n  if (built.bgClass != lineView.bgClass || built.textClass != lineView.textClass) {\n    lineView.bgClass = built.bgClass\n    lineView.textClass = built.textClass\n    updateLineClasses(cm, lineView)\n  } else if (cls) {\n    lineView.text.className = cls\n  }\n}\n\nfunction updateLineClasses(cm, lineView) {\n  updateLineBackground(cm, lineView)\n  if (lineView.line.wrapClass)\n    { ensureLineWrapped(lineView).className = lineView.line.wrapClass }\n  else if (lineView.node != lineView.text)\n    { lineView.node.className = \"\" }\n  var textClass = lineView.textClass ? lineView.textClass + \" \" + (lineView.line.textClass || \"\") : lineView.line.textClass\n  lineView.text.className = textClass || \"\"\n}\n\nfunction updateLineGutter(cm, lineView, lineN, dims) {\n  if (lineView.gutter) {\n    lineView.node.removeChild(lineView.gutter)\n    lineView.gutter = null\n  }\n  if (lineView.gutterBackground) {\n    lineView.node.removeChild(lineView.gutterBackground)\n    lineView.gutterBackground = null\n  }\n  if (lineView.line.gutterClass) {\n    var wrap = ensureLineWrapped(lineView)\n    lineView.gutterBackground = elt(\"div\", null, \"CodeMirror-gutter-background \" + lineView.line.gutterClass,\n                                    (\"left: \" + (cm.options.fixedGutter ? dims.fixedPos : -dims.gutterTotalWidth) + \"px; width: \" + (dims.gutterTotalWidth) + \"px\"))\n    cm.display.input.setUneditable(lineView.gutterBackground)\n    wrap.insertBefore(lineView.gutterBackground, lineView.text)\n  }\n  var markers = lineView.line.gutterMarkers\n  if (cm.options.lineNumbers || markers) {\n    var wrap$1 = ensureLineWrapped(lineView)\n    var gutterWrap = lineView.gutter = elt(\"div\", null, \"CodeMirror-gutter-wrapper\", (\"left: \" + (cm.options.fixedGutter ? dims.fixedPos : -dims.gutterTotalWidth) + \"px\"))\n    cm.display.input.setUneditable(gutterWrap)\n    wrap$1.insertBefore(gutterWrap, lineView.text)\n    if (lineView.line.gutterClass)\n      { gutterWrap.className += \" \" + lineView.line.gutterClass }\n    if (cm.options.lineNumbers && (!markers || !markers[\"CodeMirror-linenumbers\"]))\n      { lineView.lineNumber = gutterWrap.appendChild(\n        elt(\"div\", lineNumberFor(cm.options, lineN),\n            \"CodeMirror-linenumber CodeMirror-gutter-elt\",\n            (\"left: \" + (dims.gutterLeft[\"CodeMirror-linenumbers\"]) + \"px; width: \" + (cm.display.lineNumInnerWidth) + \"px\"))) }\n    if (markers) { for (var k = 0; k < cm.options.gutters.length; ++k) {\n      var id = cm.options.gutters[k], found = markers.hasOwnProperty(id) && markers[id]\n      if (found)\n        { gutterWrap.appendChild(elt(\"div\", [found], \"CodeMirror-gutter-elt\",\n                                   (\"left: \" + (dims.gutterLeft[id]) + \"px; width: \" + (dims.gutterWidth[id]) + \"px\"))) }\n    } }\n  }\n}\n\nfunction updateLineWidgets(cm, lineView, dims) {\n  if (lineView.alignable) { lineView.alignable = null }\n  for (var node = lineView.node.firstChild, next = (void 0); node; node = next) {\n    next = node.nextSibling\n    if (node.className == \"CodeMirror-linewidget\")\n      { lineView.node.removeChild(node) }\n  }\n  insertLineWidgets(cm, lineView, dims)\n}\n\n// Build a line's DOM representation from scratch\nfunction buildLineElement(cm, lineView, lineN, dims) {\n  var built = getLineContent(cm, lineView)\n  lineView.text = lineView.node = built.pre\n  if (built.bgClass) { lineView.bgClass = built.bgClass }\n  if (built.textClass) { lineView.textClass = built.textClass }\n\n  updateLineClasses(cm, lineView)\n  updateLineGutter(cm, lineView, lineN, dims)\n  insertLineWidgets(cm, lineView, dims)\n  return lineView.node\n}\n\n// A lineView may contain multiple logical lines (when merged by\n// collapsed spans). The widgets for all of them need to be drawn.\nfunction insertLineWidgets(cm, lineView, dims) {\n  insertLineWidgetsFor(cm, lineView.line, lineView, dims, true)\n  if (lineView.rest) { for (var i = 0; i < lineView.rest.length; i++)\n    { insertLineWidgetsFor(cm, lineView.rest[i], lineView, dims, false) } }\n}\n\nfunction insertLineWidgetsFor(cm, line, lineView, dims, allowAbove) {\n  if (!line.widgets) { return }\n  var wrap = ensureLineWrapped(lineView)\n  for (var i = 0, ws = line.widgets; i < ws.length; ++i) {\n    var widget = ws[i], node = elt(\"div\", [widget.node], \"CodeMirror-linewidget\")\n    if (!widget.handleMouseEvents) { node.setAttribute(\"cm-ignore-events\", \"true\") }\n    positionLineWidget(widget, node, lineView, dims)\n    cm.display.input.setUneditable(node)\n    if (allowAbove && widget.above)\n      { wrap.insertBefore(node, lineView.gutter || lineView.text) }\n    else\n      { wrap.appendChild(node) }\n    signalLater(widget, \"redraw\")\n  }\n}\n\nfunction positionLineWidget(widget, node, lineView, dims) {\n  if (widget.noHScroll) {\n    ;(lineView.alignable || (lineView.alignable = [])).push(node)\n    var width = dims.wrapperWidth\n    node.style.left = dims.fixedPos + \"px\"\n    if (!widget.coverGutter) {\n      width -= dims.gutterTotalWidth\n      node.style.paddingLeft = dims.gutterTotalWidth + \"px\"\n    }\n    node.style.width = width + \"px\"\n  }\n  if (widget.coverGutter) {\n    node.style.zIndex = 5\n    node.style.position = \"relative\"\n    if (!widget.noHScroll) { node.style.marginLeft = -dims.gutterTotalWidth + \"px\" }\n  }\n}\n\nfunction widgetHeight(widget) {\n  if (widget.height != null) { return widget.height }\n  var cm = widget.doc.cm\n  if (!cm) { return 0 }\n  if (!contains(document.body, widget.node)) {\n    var parentStyle = \"position: relative;\"\n    if (widget.coverGutter)\n      { parentStyle += \"margin-left: -\" + cm.display.gutters.offsetWidth + \"px;\" }\n    if (widget.noHScroll)\n      { parentStyle += \"width: \" + cm.display.wrapper.clientWidth + \"px;\" }\n    removeChildrenAndAdd(cm.display.measure, elt(\"div\", [widget.node], null, parentStyle))\n  }\n  return widget.height = widget.node.parentNode.offsetHeight\n}\n\n// Return true when the given mouse event happened in a widget\nfunction eventInWidget(display, e) {\n  for (var n = e_target(e); n != display.wrapper; n = n.parentNode) {\n    if (!n || (n.nodeType == 1 && n.getAttribute(\"cm-ignore-events\") == \"true\") ||\n        (n.parentNode == display.sizer && n != display.mover))\n      { return true }\n  }\n}\n\n// POSITION MEASUREMENT\n\nfunction paddingTop(display) {return display.lineSpace.offsetTop}\nfunction paddingVert(display) {return display.mover.offsetHeight - display.lineSpace.offsetHeight}\nfunction paddingH(display) {\n  if (display.cachedPaddingH) { return display.cachedPaddingH }\n  var e = removeChildrenAndAdd(display.measure, elt(\"pre\", \"x\"))\n  var style = window.getComputedStyle ? window.getComputedStyle(e) : e.currentStyle\n  var data = {left: parseInt(style.paddingLeft), right: parseInt(style.paddingRight)}\n  if (!isNaN(data.left) && !isNaN(data.right)) { display.cachedPaddingH = data }\n  return data\n}\n\nfunction scrollGap(cm) { return scrollerGap - cm.display.nativeBarWidth }\nfunction displayWidth(cm) {\n  return cm.display.scroller.clientWidth - scrollGap(cm) - cm.display.barWidth\n}\nfunction displayHeight(cm) {\n  return cm.display.scroller.clientHeight - scrollGap(cm) - cm.display.barHeight\n}\n\n// Ensure the lineView.wrapping.heights array is populated. This is\n// an array of bottom offsets for the lines that make up a drawn\n// line. When lineWrapping is on, there might be more than one\n// height.\nfunction ensureLineHeights(cm, lineView, rect) {\n  var wrapping = cm.options.lineWrapping\n  var curWidth = wrapping && displayWidth(cm)\n  if (!lineView.measure.heights || wrapping && lineView.measure.width != curWidth) {\n    var heights = lineView.measure.heights = []\n    if (wrapping) {\n      lineView.measure.width = curWidth\n      var rects = lineView.text.firstChild.getClientRects()\n      for (var i = 0; i < rects.length - 1; i++) {\n        var cur = rects[i], next = rects[i + 1]\n        if (Math.abs(cur.bottom - next.bottom) > 2)\n          { heights.push((cur.bottom + next.top) / 2 - rect.top) }\n      }\n    }\n    heights.push(rect.bottom - rect.top)\n  }\n}\n\n// Find a line map (mapping character offsets to text nodes) and a\n// measurement cache for the given line number. (A line view might\n// contain multiple lines when collapsed ranges are present.)\nfunction mapFromLineView(lineView, line, lineN) {\n  if (lineView.line == line)\n    { return {map: lineView.measure.map, cache: lineView.measure.cache} }\n  for (var i = 0; i < lineView.rest.length; i++)\n    { if (lineView.rest[i] == line)\n      { return {map: lineView.measure.maps[i], cache: lineView.measure.caches[i]} } }\n  for (var i$1 = 0; i$1 < lineView.rest.length; i$1++)\n    { if (lineNo(lineView.rest[i$1]) > lineN)\n      { return {map: lineView.measure.maps[i$1], cache: lineView.measure.caches[i$1], before: true} } }\n}\n\n// Render a line into the hidden node display.externalMeasured. Used\n// when measurement is needed for a line that's not in the viewport.\nfunction updateExternalMeasurement(cm, line) {\n  line = visualLine(line)\n  var lineN = lineNo(line)\n  var view = cm.display.externalMeasured = new LineView(cm.doc, line, lineN)\n  view.lineN = lineN\n  var built = view.built = buildLineContent(cm, view)\n  view.text = built.pre\n  removeChildrenAndAdd(cm.display.lineMeasure, built.pre)\n  return view\n}\n\n// Get a {top, bottom, left, right} box (in line-local coordinates)\n// for a given character.\nfunction measureChar(cm, line, ch, bias) {\n  return measureCharPrepared(cm, prepareMeasureForLine(cm, line), ch, bias)\n}\n\n// Find a line view that corresponds to the given line number.\nfunction findViewForLine(cm, lineN) {\n  if (lineN >= cm.display.viewFrom && lineN < cm.display.viewTo)\n    { return cm.display.view[findViewIndex(cm, lineN)] }\n  var ext = cm.display.externalMeasured\n  if (ext && lineN >= ext.lineN && lineN < ext.lineN + ext.size)\n    { return ext }\n}\n\n// Measurement can be split in two steps, the set-up work that\n// applies to the whole line, and the measurement of the actual\n// character. Functions like coordsChar, that need to do a lot of\n// measurements in a row, can thus ensure that the set-up work is\n// only done once.\nfunction prepareMeasureForLine(cm, line) {\n  var lineN = lineNo(line)\n  var view = findViewForLine(cm, lineN)\n  if (view && !view.text) {\n    view = null\n  } else if (view && view.changes) {\n    updateLineForChanges(cm, view, lineN, getDimensions(cm))\n    cm.curOp.forceUpdate = true\n  }\n  if (!view)\n    { view = updateExternalMeasurement(cm, line) }\n\n  var info = mapFromLineView(view, line, lineN)\n  return {\n    line: line, view: view, rect: null,\n    map: info.map, cache: info.cache, before: info.before,\n    hasHeights: false\n  }\n}\n\n// Given a prepared measurement object, measures the position of an\n// actual character (or fetches it from the cache).\nfunction measureCharPrepared(cm, prepared, ch, bias, varHeight) {\n  if (prepared.before) { ch = -1 }\n  var key = ch + (bias || \"\"), found\n  if (prepared.cache.hasOwnProperty(key)) {\n    found = prepared.cache[key]\n  } else {\n    if (!prepared.rect)\n      { prepared.rect = prepared.view.text.getBoundingClientRect() }\n    if (!prepared.hasHeights) {\n      ensureLineHeights(cm, prepared.view, prepared.rect)\n      prepared.hasHeights = true\n    }\n    found = measureCharInner(cm, prepared, ch, bias)\n    if (!found.bogus) { prepared.cache[key] = found }\n  }\n  return {left: found.left, right: found.right,\n          top: varHeight ? found.rtop : found.top,\n          bottom: varHeight ? found.rbottom : found.bottom}\n}\n\nvar nullRect = {left: 0, right: 0, top: 0, bottom: 0}\n\nfunction nodeAndOffsetInLineMap(map, ch, bias) {\n  var node, start, end, collapse, mStart, mEnd\n  // First, search the line map for the text node corresponding to,\n  // or closest to, the target character.\n  for (var i = 0; i < map.length; i += 3) {\n    mStart = map[i]\n    mEnd = map[i + 1]\n    if (ch < mStart) {\n      start = 0; end = 1\n      collapse = \"left\"\n    } else if (ch < mEnd) {\n      start = ch - mStart\n      end = start + 1\n    } else if (i == map.length - 3 || ch == mEnd && map[i + 3] > ch) {\n      end = mEnd - mStart\n      start = end - 1\n      if (ch >= mEnd) { collapse = \"right\" }\n    }\n    if (start != null) {\n      node = map[i + 2]\n      if (mStart == mEnd && bias == (node.insertLeft ? \"left\" : \"right\"))\n        { collapse = bias }\n      if (bias == \"left\" && start == 0)\n        { while (i && map[i - 2] == map[i - 3] && map[i - 1].insertLeft) {\n          node = map[(i -= 3) + 2]\n          collapse = \"left\"\n        } }\n      if (bias == \"right\" && start == mEnd - mStart)\n        { while (i < map.length - 3 && map[i + 3] == map[i + 4] && !map[i + 5].insertLeft) {\n          node = map[(i += 3) + 2]\n          collapse = \"right\"\n        } }\n      break\n    }\n  }\n  return {node: node, start: start, end: end, collapse: collapse, coverStart: mStart, coverEnd: mEnd}\n}\n\nfunction getUsefulRect(rects, bias) {\n  var rect = nullRect\n  if (bias == \"left\") { for (var i = 0; i < rects.length; i++) {\n    if ((rect = rects[i]).left != rect.right) { break }\n  } } else { for (var i$1 = rects.length - 1; i$1 >= 0; i$1--) {\n    if ((rect = rects[i$1]).left != rect.right) { break }\n  } }\n  return rect\n}\n\nfunction measureCharInner(cm, prepared, ch, bias) {\n  var place = nodeAndOffsetInLineMap(prepared.map, ch, bias)\n  var node = place.node, start = place.start, end = place.end, collapse = place.collapse\n\n  var rect\n  if (node.nodeType == 3) { // If it is a text node, use a range to retrieve the coordinates.\n    for (var i$1 = 0; i$1 < 4; i$1++) { // Retry a maximum of 4 times when nonsense rectangles are returned\n      while (start && isExtendingChar(prepared.line.text.charAt(place.coverStart + start))) { --start }\n      while (place.coverStart + end < place.coverEnd && isExtendingChar(prepared.line.text.charAt(place.coverStart + end))) { ++end }\n      if (ie && ie_version < 9 && start == 0 && end == place.coverEnd - place.coverStart)\n        { rect = node.parentNode.getBoundingClientRect() }\n      else\n        { rect = getUsefulRect(range(node, start, end).getClientRects(), bias) }\n      if (rect.left || rect.right || start == 0) { break }\n      end = start\n      start = start - 1\n      collapse = \"right\"\n    }\n    if (ie && ie_version < 11) { rect = maybeUpdateRectForZooming(cm.display.measure, rect) }\n  } else { // If it is a widget, simply get the box for the whole widget.\n    if (start > 0) { collapse = bias = \"right\" }\n    var rects\n    if (cm.options.lineWrapping && (rects = node.getClientRects()).length > 1)\n      { rect = rects[bias == \"right\" ? rects.length - 1 : 0] }\n    else\n      { rect = node.getBoundingClientRect() }\n  }\n  if (ie && ie_version < 9 && !start && (!rect || !rect.left && !rect.right)) {\n    var rSpan = node.parentNode.getClientRects()[0]\n    if (rSpan)\n      { rect = {left: rSpan.left, right: rSpan.left + charWidth(cm.display), top: rSpan.top, bottom: rSpan.bottom} }\n    else\n      { rect = nullRect }\n  }\n\n  var rtop = rect.top - prepared.rect.top, rbot = rect.bottom - prepared.rect.top\n  var mid = (rtop + rbot) / 2\n  var heights = prepared.view.measure.heights\n  var i = 0\n  for (; i < heights.length - 1; i++)\n    { if (mid < heights[i]) { break } }\n  var top = i ? heights[i - 1] : 0, bot = heights[i]\n  var result = {left: (collapse == \"right\" ? rect.right : rect.left) - prepared.rect.left,\n                right: (collapse == \"left\" ? rect.left : rect.right) - prepared.rect.left,\n                top: top, bottom: bot}\n  if (!rect.left && !rect.right) { result.bogus = true }\n  if (!cm.options.singleCursorHeightPerLine) { result.rtop = rtop; result.rbottom = rbot }\n\n  return result\n}\n\n// Work around problem with bounding client rects on ranges being\n// returned incorrectly when zoomed on IE10 and below.\nfunction maybeUpdateRectForZooming(measure, rect) {\n  if (!window.screen || screen.logicalXDPI == null ||\n      screen.logicalXDPI == screen.deviceXDPI || !hasBadZoomedRects(measure))\n    { return rect }\n  var scaleX = screen.logicalXDPI / screen.deviceXDPI\n  var scaleY = screen.logicalYDPI / screen.deviceYDPI\n  return {left: rect.left * scaleX, right: rect.right * scaleX,\n          top: rect.top * scaleY, bottom: rect.bottom * scaleY}\n}\n\nfunction clearLineMeasurementCacheFor(lineView) {\n  if (lineView.measure) {\n    lineView.measure.cache = {}\n    lineView.measure.heights = null\n    if (lineView.rest) { for (var i = 0; i < lineView.rest.length; i++)\n      { lineView.measure.caches[i] = {} } }\n  }\n}\n\nfunction clearLineMeasurementCache(cm) {\n  cm.display.externalMeasure = null\n  removeChildren(cm.display.lineMeasure)\n  for (var i = 0; i < cm.display.view.length; i++)\n    { clearLineMeasurementCacheFor(cm.display.view[i]) }\n}\n\nfunction clearCaches(cm) {\n  clearLineMeasurementCache(cm)\n  cm.display.cachedCharWidth = cm.display.cachedTextHeight = cm.display.cachedPaddingH = null\n  if (!cm.options.lineWrapping) { cm.display.maxLineChanged = true }\n  cm.display.lineNumChars = null\n}\n\nfunction pageScrollX() {\n  // Work around https://bugs.chromium.org/p/chromium/issues/detail?id=489206\n  // which causes page_Offset and bounding client rects to use\n  // different reference viewports and invalidate our calculations.\n  if (chrome && android) { return -(document.body.getBoundingClientRect().left - parseInt(getComputedStyle(document.body).marginLeft)) }\n  return window.pageXOffset || (document.documentElement || document.body).scrollLeft\n}\nfunction pageScrollY() {\n  if (chrome && android) { return -(document.body.getBoundingClientRect().top - parseInt(getComputedStyle(document.body).marginTop)) }\n  return window.pageYOffset || (document.documentElement || document.body).scrollTop\n}\n\nfunction widgetTopHeight(lineObj) {\n  var height = 0\n  if (lineObj.widgets) { for (var i = 0; i < lineObj.widgets.length; ++i) { if (lineObj.widgets[i].above)\n    { height += widgetHeight(lineObj.widgets[i]) } } }\n  return height\n}\n\n// Converts a {top, bottom, left, right} box from line-local\n// coordinates into another coordinate system. Context may be one of\n// \"line\", \"div\" (display.lineDiv), \"local\"./null (editor), \"window\",\n// or \"page\".\nfunction intoCoordSystem(cm, lineObj, rect, context, includeWidgets) {\n  if (!includeWidgets) {\n    var height = widgetTopHeight(lineObj)\n    rect.top += height; rect.bottom += height\n  }\n  if (context == \"line\") { return rect }\n  if (!context) { context = \"local\" }\n  var yOff = heightAtLine(lineObj)\n  if (context == \"local\") { yOff += paddingTop(cm.display) }\n  else { yOff -= cm.display.viewOffset }\n  if (context == \"page\" || context == \"window\") {\n    var lOff = cm.display.lineSpace.getBoundingClientRect()\n    yOff += lOff.top + (context == \"window\" ? 0 : pageScrollY())\n    var xOff = lOff.left + (context == \"window\" ? 0 : pageScrollX())\n    rect.left += xOff; rect.right += xOff\n  }\n  rect.top += yOff; rect.bottom += yOff\n  return rect\n}\n\n// Coverts a box from \"div\" coords to another coordinate system.\n// Context may be \"window\", \"page\", \"div\", or \"local\"./null.\nfunction fromCoordSystem(cm, coords, context) {\n  if (context == \"div\") { return coords }\n  var left = coords.left, top = coords.top\n  // First move into \"page\" coordinate system\n  if (context == \"page\") {\n    left -= pageScrollX()\n    top -= pageScrollY()\n  } else if (context == \"local\" || !context) {\n    var localBox = cm.display.sizer.getBoundingClientRect()\n    left += localBox.left\n    top += localBox.top\n  }\n\n  var lineSpaceBox = cm.display.lineSpace.getBoundingClientRect()\n  return {left: left - lineSpaceBox.left, top: top - lineSpaceBox.top}\n}\n\nfunction charCoords(cm, pos, context, lineObj, bias) {\n  if (!lineObj) { lineObj = getLine(cm.doc, pos.line) }\n  return intoCoordSystem(cm, lineObj, measureChar(cm, lineObj, pos.ch, bias), context)\n}\n\n// Returns a box for a given cursor position, which may have an\n// 'other' property containing the position of the secondary cursor\n// on a bidi boundary.\n// A cursor Pos(line, char, \"before\") is on the same visual line as `char - 1`\n// and after `char - 1` in writing order of `char - 1`\n// A cursor Pos(line, char, \"after\") is on the same visual line as `char`\n// and before `char` in writing order of `char`\n// Examples (upper-case letters are RTL, lower-case are LTR):\n//     Pos(0, 1, ...)\n//     before   after\n// ab     a|b     a|b\n// aB     a|B     aB|\n// Ab     |Ab     A|b\n// AB     B|A     B|A\n// Every position after the last character on a line is considered to stick\n// to the last character on the line.\nfunction cursorCoords(cm, pos, context, lineObj, preparedMeasure, varHeight) {\n  lineObj = lineObj || getLine(cm.doc, pos.line)\n  if (!preparedMeasure) { preparedMeasure = prepareMeasureForLine(cm, lineObj) }\n  function get(ch, right) {\n    var m = measureCharPrepared(cm, preparedMeasure, ch, right ? \"right\" : \"left\", varHeight)\n    if (right) { m.left = m.right; } else { m.right = m.left }\n    return intoCoordSystem(cm, lineObj, m, context)\n  }\n  var order = getOrder(lineObj, cm.doc.direction), ch = pos.ch, sticky = pos.sticky\n  if (ch >= lineObj.text.length) {\n    ch = lineObj.text.length\n    sticky = \"before\"\n  } else if (ch <= 0) {\n    ch = 0\n    sticky = \"after\"\n  }\n  if (!order) { return get(sticky == \"before\" ? ch - 1 : ch, sticky == \"before\") }\n\n  function getBidi(ch, partPos, invert) {\n    var part = order[partPos], right = part.level == 1\n    return get(invert ? ch - 1 : ch, right != invert)\n  }\n  var partPos = getBidiPartAt(order, ch, sticky)\n  var other = bidiOther\n  var val = getBidi(ch, partPos, sticky == \"before\")\n  if (other != null) { val.other = getBidi(ch, other, sticky != \"before\") }\n  return val\n}\n\n// Used to cheaply estimate the coordinates for a position. Used for\n// intermediate scroll updates.\nfunction estimateCoords(cm, pos) {\n  var left = 0\n  pos = clipPos(cm.doc, pos)\n  if (!cm.options.lineWrapping) { left = charWidth(cm.display) * pos.ch }\n  var lineObj = getLine(cm.doc, pos.line)\n  var top = heightAtLine(lineObj) + paddingTop(cm.display)\n  return {left: left, right: left, top: top, bottom: top + lineObj.height}\n}\n\n// Positions returned by coordsChar contain some extra information.\n// xRel is the relative x position of the input coordinates compared\n// to the found position (so xRel > 0 means the coordinates are to\n// the right of the character position, for example). When outside\n// is true, that means the coordinates lie outside the line's\n// vertical range.\nfunction PosWithInfo(line, ch, sticky, outside, xRel) {\n  var pos = Pos(line, ch, sticky)\n  pos.xRel = xRel\n  if (outside) { pos.outside = true }\n  return pos\n}\n\n// Compute the character position closest to the given coordinates.\n// Input must be lineSpace-local (\"div\" coordinate system).\nfunction coordsChar(cm, x, y) {\n  var doc = cm.doc\n  y += cm.display.viewOffset\n  if (y < 0) { return PosWithInfo(doc.first, 0, null, true, -1) }\n  var lineN = lineAtHeight(doc, y), last = doc.first + doc.size - 1\n  if (lineN > last)\n    { return PosWithInfo(doc.first + doc.size - 1, getLine(doc, last).text.length, null, true, 1) }\n  if (x < 0) { x = 0 }\n\n  var lineObj = getLine(doc, lineN)\n  for (;;) {\n    var found = coordsCharInner(cm, lineObj, lineN, x, y)\n    var merged = collapsedSpanAtEnd(lineObj)\n    var mergedPos = merged && merged.find(0, true)\n    if (merged && (found.ch > mergedPos.from.ch || found.ch == mergedPos.from.ch && found.xRel > 0))\n      { lineN = lineNo(lineObj = mergedPos.to.line) }\n    else\n      { return found }\n  }\n}\n\nfunction wrappedLineExtent(cm, lineObj, preparedMeasure, y) {\n  y -= widgetTopHeight(lineObj)\n  var end = lineObj.text.length\n  var begin = findFirst(function (ch) { return measureCharPrepared(cm, preparedMeasure, ch - 1).bottom <= y; }, end, 0)\n  end = findFirst(function (ch) { return measureCharPrepared(cm, preparedMeasure, ch).top > y; }, begin, end)\n  return {begin: begin, end: end}\n}\n\nfunction wrappedLineExtentChar(cm, lineObj, preparedMeasure, target) {\n  if (!preparedMeasure) { preparedMeasure = prepareMeasureForLine(cm, lineObj) }\n  var targetTop = intoCoordSystem(cm, lineObj, measureCharPrepared(cm, preparedMeasure, target), \"line\").top\n  return wrappedLineExtent(cm, lineObj, preparedMeasure, targetTop)\n}\n\n// Returns true if the given side of a box is after the given\n// coordinates, in top-to-bottom, left-to-right order.\nfunction boxIsAfter(box, x, y, left) {\n  return box.bottom <= y ? false : box.top > y ? true : (left ? box.left : box.right) > x\n}\n\nfunction coordsCharInner(cm, lineObj, lineNo, x, y) {\n  // Move y into line-local coordinate space\n  y -= heightAtLine(lineObj)\n  var preparedMeasure = prepareMeasureForLine(cm, lineObj)\n  // When directly calling `measureCharPrepared`, we have to adjust\n  // for the widgets at this line.\n  var widgetHeight = widgetTopHeight(lineObj)\n  var begin = 0, end = lineObj.text.length, ltr = true\n\n  var order = getOrder(lineObj, cm.doc.direction)\n  // If the line isn't plain left-to-right text, first figure out\n  // which bidi section the coordinates fall into.\n  if (order) {\n    var part = (cm.options.lineWrapping ? coordsBidiPartWrapped : coordsBidiPart)\n                 (cm, lineObj, lineNo, preparedMeasure, order, x, y)\n    ltr = part.level != 1\n    // The awkward -1 offsets are needed because findFirst (called\n    // on these below) will treat its first bound as inclusive,\n    // second as exclusive, but we want to actually address the\n    // characters in the part's range\n    begin = ltr ? part.from : part.to - 1\n    end = ltr ? part.to : part.from - 1\n  }\n\n  // A binary search to find the first character whose bounding box\n  // starts after the coordinates. If we run across any whose box wrap\n  // the coordinates, store that.\n  var chAround = null, boxAround = null\n  var ch = findFirst(function (ch) {\n    var box = measureCharPrepared(cm, preparedMeasure, ch)\n    box.top += widgetHeight; box.bottom += widgetHeight\n    if (!boxIsAfter(box, x, y, false)) { return false }\n    if (box.top <= y && box.left <= x) {\n      chAround = ch\n      boxAround = box\n    }\n    return true\n  }, begin, end)\n\n  var baseX, sticky, outside = false\n  // If a box around the coordinates was found, use that\n  if (boxAround) {\n    // Distinguish coordinates nearer to the left or right side of the box\n    var atLeft = x - boxAround.left < boxAround.right - x, atStart = atLeft == ltr\n    ch = chAround + (atStart ? 0 : 1)\n    sticky = atStart ? \"after\" : \"before\"\n    baseX = atLeft ? boxAround.left : boxAround.right\n  } else {\n    // (Adjust for extended bound, if necessary.)\n    if (!ltr && (ch == end || ch == begin)) { ch++ }\n    // To determine which side to associate with, get the box to the\n    // left of the character and compare it's vertical position to the\n    // coordinates\n    sticky = ch == 0 ? \"after\" : ch == lineObj.text.length ? \"before\" :\n      (measureCharPrepared(cm, preparedMeasure, ch - (ltr ? 1 : 0)).bottom + widgetHeight <= y) == ltr ?\n      \"after\" : \"before\"\n    // Now get accurate coordinates for this place, in order to get a\n    // base X position\n    var coords = cursorCoords(cm, Pos(lineNo, ch, sticky), \"line\", lineObj, preparedMeasure)\n    baseX = coords.left\n    outside = y < coords.top || y >= coords.bottom\n  }\n\n  ch = skipExtendingChars(lineObj.text, ch, 1)\n  return PosWithInfo(lineNo, ch, sticky, outside, x - baseX)\n}\n\nfunction coordsBidiPart(cm, lineObj, lineNo, preparedMeasure, order, x, y) {\n  // Bidi parts are sorted left-to-right, and in a non-line-wrapping\n  // situation, we can take this ordering to correspond to the visual\n  // ordering. This finds the first part whose end is after the given\n  // coordinates.\n  var index = findFirst(function (i) {\n    var part = order[i], ltr = part.level != 1\n    return boxIsAfter(cursorCoords(cm, Pos(lineNo, ltr ? part.to : part.from, ltr ? \"before\" : \"after\"),\n                                   \"line\", lineObj, preparedMeasure), x, y, true)\n  }, 0, order.length - 1)\n  var part = order[index]\n  // If this isn't the first part, the part's start is also after\n  // the coordinates, and the coordinates aren't on the same line as\n  // that start, move one part back.\n  if (index > 0) {\n    var ltr = part.level != 1\n    var start = cursorCoords(cm, Pos(lineNo, ltr ? part.from : part.to, ltr ? \"after\" : \"before\"),\n                             \"line\", lineObj, preparedMeasure)\n    if (boxIsAfter(start, x, y, true) && start.top > y)\n      { part = order[index - 1] }\n  }\n  return part\n}\n\nfunction coordsBidiPartWrapped(cm, lineObj, _lineNo, preparedMeasure, order, x, y) {\n  // In a wrapped line, rtl text on wrapping boundaries can do things\n  // that don't correspond to the ordering in our `order` array at\n  // all, so a binary search doesn't work, and we want to return a\n  // part that only spans one line so that the binary search in\n  // coordsCharInner is safe. As such, we first find the extent of the\n  // wrapped line, and then do a flat search in which we discard any\n  // spans that aren't on the line.\n  var ref = wrappedLineExtent(cm, lineObj, preparedMeasure, y);\n  var begin = ref.begin;\n  var end = ref.end;\n  if (/\\s/.test(lineObj.text.charAt(end - 1))) { end-- }\n  var part = null, closestDist = null\n  for (var i = 0; i < order.length; i++) {\n    var p = order[i]\n    if (p.from >= end || p.to <= begin) { continue }\n    var ltr = p.level != 1\n    var endX = measureCharPrepared(cm, preparedMeasure, ltr ? Math.min(end, p.to) - 1 : Math.max(begin, p.from)).right\n    // Weigh against spans ending before this, so that they are only\n    // picked if nothing ends after\n    var dist = endX < x ? x - endX + 1e9 : endX - x\n    if (!part || closestDist > dist) {\n      part = p\n      closestDist = dist\n    }\n  }\n  if (!part) { part = order[order.length - 1] }\n  // Clip the part to the wrapped line.\n  if (part.from < begin) { part = {from: begin, to: part.to, level: part.level} }\n  if (part.to > end) { part = {from: part.from, to: end, level: part.level} }\n  return part\n}\n\nvar measureText\n// Compute the default text height.\nfunction textHeight(display) {\n  if (display.cachedTextHeight != null) { return display.cachedTextHeight }\n  if (measureText == null) {\n    measureText = elt(\"pre\")\n    // Measure a bunch of lines, for browsers that compute\n    // fractional heights.\n    for (var i = 0; i < 49; ++i) {\n      measureText.appendChild(document.createTextNode(\"x\"))\n      measureText.appendChild(elt(\"br\"))\n    }\n    measureText.appendChild(document.createTextNode(\"x\"))\n  }\n  removeChildrenAndAdd(display.measure, measureText)\n  var height = measureText.offsetHeight / 50\n  if (height > 3) { display.cachedTextHeight = height }\n  removeChildren(display.measure)\n  return height || 1\n}\n\n// Compute the default character width.\nfunction charWidth(display) {\n  if (display.cachedCharWidth != null) { return display.cachedCharWidth }\n  var anchor = elt(\"span\", \"xxxxxxxxxx\")\n  var pre = elt(\"pre\", [anchor])\n  removeChildrenAndAdd(display.measure, pre)\n  var rect = anchor.getBoundingClientRect(), width = (rect.right - rect.left) / 10\n  if (width > 2) { display.cachedCharWidth = width }\n  return width || 10\n}\n\n// Do a bulk-read of the DOM positions and sizes needed to draw the\n// view, so that we don't interleave reading and writing to the DOM.\nfunction getDimensions(cm) {\n  var d = cm.display, left = {}, width = {}\n  var gutterLeft = d.gutters.clientLeft\n  for (var n = d.gutters.firstChild, i = 0; n; n = n.nextSibling, ++i) {\n    left[cm.options.gutters[i]] = n.offsetLeft + n.clientLeft + gutterLeft\n    width[cm.options.gutters[i]] = n.clientWidth\n  }\n  return {fixedPos: compensateForHScroll(d),\n          gutterTotalWidth: d.gutters.offsetWidth,\n          gutterLeft: left,\n          gutterWidth: width,\n          wrapperWidth: d.wrapper.clientWidth}\n}\n\n// Computes display.scroller.scrollLeft + display.gutters.offsetWidth,\n// but using getBoundingClientRect to get a sub-pixel-accurate\n// result.\nfunction compensateForHScroll(display) {\n  return display.scroller.getBoundingClientRect().left - display.sizer.getBoundingClientRect().left\n}\n\n// Returns a function that estimates the height of a line, to use as\n// first approximation until the line becomes visible (and is thus\n// properly measurable).\nfunction estimateHeight(cm) {\n  var th = textHeight(cm.display), wrapping = cm.options.lineWrapping\n  var perLine = wrapping && Math.max(5, cm.display.scroller.clientWidth / charWidth(cm.display) - 3)\n  return function (line) {\n    if (lineIsHidden(cm.doc, line)) { return 0 }\n\n    var widgetsHeight = 0\n    if (line.widgets) { for (var i = 0; i < line.widgets.length; i++) {\n      if (line.widgets[i].height) { widgetsHeight += line.widgets[i].height }\n    } }\n\n    if (wrapping)\n      { return widgetsHeight + (Math.ceil(line.text.length / perLine) || 1) * th }\n    else\n      { return widgetsHeight + th }\n  }\n}\n\nfunction estimateLineHeights(cm) {\n  var doc = cm.doc, est = estimateHeight(cm)\n  doc.iter(function (line) {\n    var estHeight = est(line)\n    if (estHeight != line.height) { updateLineHeight(line, estHeight) }\n  })\n}\n\n// Given a mouse event, find the corresponding position. If liberal\n// is false, it checks whether a gutter or scrollbar was clicked,\n// and returns null if it was. forRect is used by rectangular\n// selections, and tries to estimate a character position even for\n// coordinates beyond the right of the text.\nfunction posFromMouse(cm, e, liberal, forRect) {\n  var display = cm.display\n  if (!liberal && e_target(e).getAttribute(\"cm-not-content\") == \"true\") { return null }\n\n  var x, y, space = display.lineSpace.getBoundingClientRect()\n  // Fails unpredictably on IE[67] when mouse is dragged around quickly.\n  try { x = e.clientX - space.left; y = e.clientY - space.top }\n  catch (e) { return null }\n  var coords = coordsChar(cm, x, y), line\n  if (forRect && coords.xRel == 1 && (line = getLine(cm.doc, coords.line).text).length == coords.ch) {\n    var colDiff = countColumn(line, line.length, cm.options.tabSize) - line.length\n    coords = Pos(coords.line, Math.max(0, Math.round((x - paddingH(cm.display).left) / charWidth(cm.display)) - colDiff))\n  }\n  return coords\n}\n\n// Find the view element corresponding to a given line. Return null\n// when the line isn't visible.\nfunction findViewIndex(cm, n) {\n  if (n >= cm.display.viewTo) { return null }\n  n -= cm.display.viewFrom\n  if (n < 0) { return null }\n  var view = cm.display.view\n  for (var i = 0; i < view.length; i++) {\n    n -= view[i].size\n    if (n < 0) { return i }\n  }\n}\n\nfunction updateSelection(cm) {\n  cm.display.input.showSelection(cm.display.input.prepareSelection())\n}\n\nfunction prepareSelection(cm, primary) {\n  if ( primary === void 0 ) primary = true;\n\n  var doc = cm.doc, result = {}\n  var curFragment = result.cursors = document.createDocumentFragment()\n  var selFragment = result.selection = document.createDocumentFragment()\n\n  for (var i = 0; i < doc.sel.ranges.length; i++) {\n    if (!primary && i == doc.sel.primIndex) { continue }\n    var range = doc.sel.ranges[i]\n    if (range.from().line >= cm.display.viewTo || range.to().line < cm.display.viewFrom) { continue }\n    var collapsed = range.empty()\n    if (collapsed || cm.options.showCursorWhenSelecting)\n      { drawSelectionCursor(cm, range.head, curFragment) }\n    if (!collapsed)\n      { drawSelectionRange(cm, range, selFragment) }\n  }\n  return result\n}\n\n// Draws a cursor for the given range\nfunction drawSelectionCursor(cm, head, output) {\n  var pos = cursorCoords(cm, head, \"div\", null, null, !cm.options.singleCursorHeightPerLine)\n\n  var cursor = output.appendChild(elt(\"div\", \"\\u00a0\", \"CodeMirror-cursor\"))\n  cursor.style.left = pos.left + \"px\"\n  cursor.style.top = pos.top + \"px\"\n  cursor.style.height = Math.max(0, pos.bottom - pos.top) * cm.options.cursorHeight + \"px\"\n\n  if (pos.other) {\n    // Secondary cursor, shown when on a 'jump' in bi-directional text\n    var otherCursor = output.appendChild(elt(\"div\", \"\\u00a0\", \"CodeMirror-cursor CodeMirror-secondarycursor\"))\n    otherCursor.style.display = \"\"\n    otherCursor.style.left = pos.other.left + \"px\"\n    otherCursor.style.top = pos.other.top + \"px\"\n    otherCursor.style.height = (pos.other.bottom - pos.other.top) * .85 + \"px\"\n  }\n}\n\nfunction cmpCoords(a, b) { return a.top - b.top || a.left - b.left }\n\n// Draws the given range as a highlighted selection\nfunction drawSelectionRange(cm, range, output) {\n  var display = cm.display, doc = cm.doc\n  var fragment = document.createDocumentFragment()\n  var padding = paddingH(cm.display), leftSide = padding.left\n  var rightSide = Math.max(display.sizerWidth, displayWidth(cm) - display.sizer.offsetLeft) - padding.right\n  var docLTR = doc.direction == \"ltr\"\n\n  function add(left, top, width, bottom) {\n    if (top < 0) { top = 0 }\n    top = Math.round(top)\n    bottom = Math.round(bottom)\n    fragment.appendChild(elt(\"div\", null, \"CodeMirror-selected\", (\"position: absolute; left: \" + left + \"px;\\n                             top: \" + top + \"px; width: \" + (width == null ? rightSide - left : width) + \"px;\\n                             height: \" + (bottom - top) + \"px\")))\n  }\n\n  function drawForLine(line, fromArg, toArg) {\n    var lineObj = getLine(doc, line)\n    var lineLen = lineObj.text.length\n    var start, end\n    function coords(ch, bias) {\n      return charCoords(cm, Pos(line, ch), \"div\", lineObj, bias)\n    }\n\n    function wrapX(pos, dir, side) {\n      var extent = wrappedLineExtentChar(cm, lineObj, null, pos)\n      var prop = (dir == \"ltr\") == (side == \"after\") ? \"left\" : \"right\"\n      var ch = side == \"after\" ? extent.begin : extent.end - (/\\s/.test(lineObj.text.charAt(extent.end - 1)) ? 2 : 1)\n      return coords(ch, prop)[prop]\n    }\n\n    var order = getOrder(lineObj, doc.direction)\n    iterateBidiSections(order, fromArg || 0, toArg == null ? lineLen : toArg, function (from, to, dir, i) {\n      var ltr = dir == \"ltr\"\n      var fromPos = coords(from, ltr ? \"left\" : \"right\")\n      var toPos = coords(to - 1, ltr ? \"right\" : \"left\")\n\n      var openStart = fromArg == null && from == 0, openEnd = toArg == null && to == lineLen\n      var first = i == 0, last = !order || i == order.length - 1\n      if (toPos.top - fromPos.top <= 3) { // Single line\n        var openLeft = (docLTR ? openStart : openEnd) && first\n        var openRight = (docLTR ? openEnd : openStart) && last\n        var left = openLeft ? leftSide : (ltr ? fromPos : toPos).left\n        var right = openRight ? rightSide : (ltr ? toPos : fromPos).right\n        add(left, fromPos.top, right - left, fromPos.bottom)\n      } else { // Multiple lines\n        var topLeft, topRight, botLeft, botRight\n        if (ltr) {\n          topLeft = docLTR && openStart && first ? leftSide : fromPos.left\n          topRight = docLTR ? rightSide : wrapX(from, dir, \"before\")\n          botLeft = docLTR ? leftSide : wrapX(to, dir, \"after\")\n          botRight = docLTR && openEnd && last ? rightSide : toPos.right\n        } else {\n          topLeft = !docLTR ? leftSide : wrapX(from, dir, \"before\")\n          topRight = !docLTR && openStart && first ? rightSide : fromPos.right\n          botLeft = !docLTR && openEnd && last ? leftSide : toPos.left\n          botRight = !docLTR ? rightSide : wrapX(to, dir, \"after\")\n        }\n        add(topLeft, fromPos.top, topRight - topLeft, fromPos.bottom)\n        if (fromPos.bottom < toPos.top) { add(leftSide, fromPos.bottom, null, toPos.top) }\n        add(botLeft, toPos.top, botRight - botLeft, toPos.bottom)\n      }\n\n      if (!start || cmpCoords(fromPos, start) < 0) { start = fromPos }\n      if (cmpCoords(toPos, start) < 0) { start = toPos }\n      if (!end || cmpCoords(fromPos, end) < 0) { end = fromPos }\n      if (cmpCoords(toPos, end) < 0) { end = toPos }\n    })\n    return {start: start, end: end}\n  }\n\n  var sFrom = range.from(), sTo = range.to()\n  if (sFrom.line == sTo.line) {\n    drawForLine(sFrom.line, sFrom.ch, sTo.ch)\n  } else {\n    var fromLine = getLine(doc, sFrom.line), toLine = getLine(doc, sTo.line)\n    var singleVLine = visualLine(fromLine) == visualLine(toLine)\n    var leftEnd = drawForLine(sFrom.line, sFrom.ch, singleVLine ? fromLine.text.length + 1 : null).end\n    var rightStart = drawForLine(sTo.line, singleVLine ? 0 : null, sTo.ch).start\n    if (singleVLine) {\n      if (leftEnd.top < rightStart.top - 2) {\n        add(leftEnd.right, leftEnd.top, null, leftEnd.bottom)\n        add(leftSide, rightStart.top, rightStart.left, rightStart.bottom)\n      } else {\n        add(leftEnd.right, leftEnd.top, rightStart.left - leftEnd.right, leftEnd.bottom)\n      }\n    }\n    if (leftEnd.bottom < rightStart.top)\n      { add(leftSide, leftEnd.bottom, null, rightStart.top) }\n  }\n\n  output.appendChild(fragment)\n}\n\n// Cursor-blinking\nfunction restartBlink(cm) {\n  if (!cm.state.focused) { return }\n  var display = cm.display\n  clearInterval(display.blinker)\n  var on = true\n  display.cursorDiv.style.visibility = \"\"\n  if (cm.options.cursorBlinkRate > 0)\n    { display.blinker = setInterval(function () { return display.cursorDiv.style.visibility = (on = !on) ? \"\" : \"hidden\"; },\n      cm.options.cursorBlinkRate) }\n  else if (cm.options.cursorBlinkRate < 0)\n    { display.cursorDiv.style.visibility = \"hidden\" }\n}\n\nfunction ensureFocus(cm) {\n  if (!cm.state.focused) { cm.display.input.focus(); onFocus(cm) }\n}\n\nfunction delayBlurEvent(cm) {\n  cm.state.delayingBlurEvent = true\n  setTimeout(function () { if (cm.state.delayingBlurEvent) {\n    cm.state.delayingBlurEvent = false\n    onBlur(cm)\n  } }, 100)\n}\n\nfunction onFocus(cm, e) {\n  if (cm.state.delayingBlurEvent) { cm.state.delayingBlurEvent = false }\n\n  if (cm.options.readOnly == \"nocursor\") { return }\n  if (!cm.state.focused) {\n    signal(cm, \"focus\", cm, e)\n    cm.state.focused = true\n    addClass(cm.display.wrapper, \"CodeMirror-focused\")\n    // This test prevents this from firing when a context\n    // menu is closed (since the input reset would kill the\n    // select-all detection hack)\n    if (!cm.curOp && cm.display.selForContextMenu != cm.doc.sel) {\n      cm.display.input.reset()\n      if (webkit) { setTimeout(function () { return cm.display.input.reset(true); }, 20) } // Issue #1730\n    }\n    cm.display.input.receivedFocus()\n  }\n  restartBlink(cm)\n}\nfunction onBlur(cm, e) {\n  if (cm.state.delayingBlurEvent) { return }\n\n  if (cm.state.focused) {\n    signal(cm, \"blur\", cm, e)\n    cm.state.focused = false\n    rmClass(cm.display.wrapper, \"CodeMirror-focused\")\n  }\n  clearInterval(cm.display.blinker)\n  setTimeout(function () { if (!cm.state.focused) { cm.display.shift = false } }, 150)\n}\n\n// Read the actual heights of the rendered lines, and update their\n// stored heights to match.\nfunction updateHeightsInViewport(cm) {\n  var display = cm.display\n  var prevBottom = display.lineDiv.offsetTop\n  for (var i = 0; i < display.view.length; i++) {\n    var cur = display.view[i], height = (void 0)\n    if (cur.hidden) { continue }\n    if (ie && ie_version < 8) {\n      var bot = cur.node.offsetTop + cur.node.offsetHeight\n      height = bot - prevBottom\n      prevBottom = bot\n    } else {\n      var box = cur.node.getBoundingClientRect()\n      height = box.bottom - box.top\n    }\n    var diff = cur.line.height - height\n    if (height < 2) { height = textHeight(display) }\n    if (diff > .005 || diff < -.005) {\n      updateLineHeight(cur.line, height)\n      updateWidgetHeight(cur.line)\n      if (cur.rest) { for (var j = 0; j < cur.rest.length; j++)\n        { updateWidgetHeight(cur.rest[j]) } }\n    }\n  }\n}\n\n// Read and store the height of line widgets associated with the\n// given line.\nfunction updateWidgetHeight(line) {\n  if (line.widgets) { for (var i = 0; i < line.widgets.length; ++i) {\n    var w = line.widgets[i], parent = w.node.parentNode\n    if (parent) { w.height = parent.offsetHeight }\n  } }\n}\n\n// Compute the lines that are visible in a given viewport (defaults\n// the the current scroll position). viewport may contain top,\n// height, and ensure (see op.scrollToPos) properties.\nfunction visibleLines(display, doc, viewport) {\n  var top = viewport && viewport.top != null ? Math.max(0, viewport.top) : display.scroller.scrollTop\n  top = Math.floor(top - paddingTop(display))\n  var bottom = viewport && viewport.bottom != null ? viewport.bottom : top + display.wrapper.clientHeight\n\n  var from = lineAtHeight(doc, top), to = lineAtHeight(doc, bottom)\n  // Ensure is a {from: {line, ch}, to: {line, ch}} object, and\n  // forces those lines into the viewport (if possible).\n  if (viewport && viewport.ensure) {\n    var ensureFrom = viewport.ensure.from.line, ensureTo = viewport.ensure.to.line\n    if (ensureFrom < from) {\n      from = ensureFrom\n      to = lineAtHeight(doc, heightAtLine(getLine(doc, ensureFrom)) + display.wrapper.clientHeight)\n    } else if (Math.min(ensureTo, doc.lastLine()) >= to) {\n      from = lineAtHeight(doc, heightAtLine(getLine(doc, ensureTo)) - display.wrapper.clientHeight)\n      to = ensureTo\n    }\n  }\n  return {from: from, to: Math.max(to, from + 1)}\n}\n\n// Re-align line numbers and gutter marks to compensate for\n// horizontal scrolling.\nfunction alignHorizontally(cm) {\n  var display = cm.display, view = display.view\n  if (!display.alignWidgets && (!display.gutters.firstChild || !cm.options.fixedGutter)) { return }\n  var comp = compensateForHScroll(display) - display.scroller.scrollLeft + cm.doc.scrollLeft\n  var gutterW = display.gutters.offsetWidth, left = comp + \"px\"\n  for (var i = 0; i < view.length; i++) { if (!view[i].hidden) {\n    if (cm.options.fixedGutter) {\n      if (view[i].gutter)\n        { view[i].gutter.style.left = left }\n      if (view[i].gutterBackground)\n        { view[i].gutterBackground.style.left = left }\n    }\n    var align = view[i].alignable\n    if (align) { for (var j = 0; j < align.length; j++)\n      { align[j].style.left = left } }\n  } }\n  if (cm.options.fixedGutter)\n    { display.gutters.style.left = (comp + gutterW) + \"px\" }\n}\n\n// Used to ensure that the line number gutter is still the right\n// size for the current document size. Returns true when an update\n// is needed.\nfunction maybeUpdateLineNumberWidth(cm) {\n  if (!cm.options.lineNumbers) { return false }\n  var doc = cm.doc, last = lineNumberFor(cm.options, doc.first + doc.size - 1), display = cm.display\n  if (last.length != display.lineNumChars) {\n    var test = display.measure.appendChild(elt(\"div\", [elt(\"div\", last)],\n                                               \"CodeMirror-linenumber CodeMirror-gutter-elt\"))\n    var innerW = test.firstChild.offsetWidth, padding = test.offsetWidth - innerW\n    display.lineGutter.style.width = \"\"\n    display.lineNumInnerWidth = Math.max(innerW, display.lineGutter.offsetWidth - padding) + 1\n    display.lineNumWidth = display.lineNumInnerWidth + padding\n    display.lineNumChars = display.lineNumInnerWidth ? last.length : -1\n    display.lineGutter.style.width = display.lineNumWidth + \"px\"\n    updateGutterSpace(cm)\n    return true\n  }\n  return false\n}\n\n// SCROLLING THINGS INTO VIEW\n\n// If an editor sits on the top or bottom of the window, partially\n// scrolled out of view, this ensures that the cursor is visible.\nfunction maybeScrollWindow(cm, rect) {\n  if (signalDOMEvent(cm, \"scrollCursorIntoView\")) { return }\n\n  var display = cm.display, box = display.sizer.getBoundingClientRect(), doScroll = null\n  if (rect.top + box.top < 0) { doScroll = true }\n  else if (rect.bottom + box.top > (window.innerHeight || document.documentElement.clientHeight)) { doScroll = false }\n  if (doScroll != null && !phantom) {\n    var scrollNode = elt(\"div\", \"\\u200b\", null, (\"position: absolute;\\n                         top: \" + (rect.top - display.viewOffset - paddingTop(cm.display)) + \"px;\\n                         height: \" + (rect.bottom - rect.top + scrollGap(cm) + display.barHeight) + \"px;\\n                         left: \" + (rect.left) + \"px; width: \" + (Math.max(2, rect.right - rect.left)) + \"px;\"))\n    cm.display.lineSpace.appendChild(scrollNode)\n    scrollNode.scrollIntoView(doScroll)\n    cm.display.lineSpace.removeChild(scrollNode)\n  }\n}\n\n// Scroll a given position into view (immediately), verifying that\n// it actually became visible (as line heights are accurately\n// measured, the position of something may 'drift' during drawing).\nfunction scrollPosIntoView(cm, pos, end, margin) {\n  if (margin == null) { margin = 0 }\n  var rect\n  if (!cm.options.lineWrapping && pos == end) {\n    // Set pos and end to the cursor positions around the character pos sticks to\n    // If pos.sticky == \"before\", that is around pos.ch - 1, otherwise around pos.ch\n    // If pos == Pos(_, 0, \"before\"), pos and end are unchanged\n    pos = pos.ch ? Pos(pos.line, pos.sticky == \"before\" ? pos.ch - 1 : pos.ch, \"after\") : pos\n    end = pos.sticky == \"before\" ? Pos(pos.line, pos.ch + 1, \"before\") : pos\n  }\n  for (var limit = 0; limit < 5; limit++) {\n    var changed = false\n    var coords = cursorCoords(cm, pos)\n    var endCoords = !end || end == pos ? coords : cursorCoords(cm, end)\n    rect = {left: Math.min(coords.left, endCoords.left),\n            top: Math.min(coords.top, endCoords.top) - margin,\n            right: Math.max(coords.left, endCoords.left),\n            bottom: Math.max(coords.bottom, endCoords.bottom) + margin}\n    var scrollPos = calculateScrollPos(cm, rect)\n    var startTop = cm.doc.scrollTop, startLeft = cm.doc.scrollLeft\n    if (scrollPos.scrollTop != null) {\n      updateScrollTop(cm, scrollPos.scrollTop)\n      if (Math.abs(cm.doc.scrollTop - startTop) > 1) { changed = true }\n    }\n    if (scrollPos.scrollLeft != null) {\n      setScrollLeft(cm, scrollPos.scrollLeft)\n      if (Math.abs(cm.doc.scrollLeft - startLeft) > 1) { changed = true }\n    }\n    if (!changed) { break }\n  }\n  return rect\n}\n\n// Scroll a given set of coordinates into view (immediately).\nfunction scrollIntoView(cm, rect) {\n  var scrollPos = calculateScrollPos(cm, rect)\n  if (scrollPos.scrollTop != null) { updateScrollTop(cm, scrollPos.scrollTop) }\n  if (scrollPos.scrollLeft != null) { setScrollLeft(cm, scrollPos.scrollLeft) }\n}\n\n// Calculate a new scroll position needed to scroll the given\n// rectangle into view. Returns an object with scrollTop and\n// scrollLeft properties. When these are undefined, the\n// vertical/horizontal position does not need to be adjusted.\nfunction calculateScrollPos(cm, rect) {\n  var display = cm.display, snapMargin = textHeight(cm.display)\n  if (rect.top < 0) { rect.top = 0 }\n  var screentop = cm.curOp && cm.curOp.scrollTop != null ? cm.curOp.scrollTop : display.scroller.scrollTop\n  var screen = displayHeight(cm), result = {}\n  if (rect.bottom - rect.top > screen) { rect.bottom = rect.top + screen }\n  var docBottom = cm.doc.height + paddingVert(display)\n  var atTop = rect.top < snapMargin, atBottom = rect.bottom > docBottom - snapMargin\n  if (rect.top < screentop) {\n    result.scrollTop = atTop ? 0 : rect.top\n  } else if (rect.bottom > screentop + screen) {\n    var newTop = Math.min(rect.top, (atBottom ? docBottom : rect.bottom) - screen)\n    if (newTop != screentop) { result.scrollTop = newTop }\n  }\n\n  var screenleft = cm.curOp && cm.curOp.scrollLeft != null ? cm.curOp.scrollLeft : display.scroller.scrollLeft\n  var screenw = displayWidth(cm) - (cm.options.fixedGutter ? display.gutters.offsetWidth : 0)\n  var tooWide = rect.right - rect.left > screenw\n  if (tooWide) { rect.right = rect.left + screenw }\n  if (rect.left < 10)\n    { result.scrollLeft = 0 }\n  else if (rect.left < screenleft)\n    { result.scrollLeft = Math.max(0, rect.left - (tooWide ? 0 : 10)) }\n  else if (rect.right > screenw + screenleft - 3)\n    { result.scrollLeft = rect.right + (tooWide ? 0 : 10) - screenw }\n  return result\n}\n\n// Store a relative adjustment to the scroll position in the current\n// operation (to be applied when the operation finishes).\nfunction addToScrollTop(cm, top) {\n  if (top == null) { return }\n  resolveScrollToPos(cm)\n  cm.curOp.scrollTop = (cm.curOp.scrollTop == null ? cm.doc.scrollTop : cm.curOp.scrollTop) + top\n}\n\n// Make sure that at the end of the operation the current cursor is\n// shown.\nfunction ensureCursorVisible(cm) {\n  resolveScrollToPos(cm)\n  var cur = cm.getCursor()\n  cm.curOp.scrollToPos = {from: cur, to: cur, margin: cm.options.cursorScrollMargin}\n}\n\nfunction scrollToCoords(cm, x, y) {\n  if (x != null || y != null) { resolveScrollToPos(cm) }\n  if (x != null) { cm.curOp.scrollLeft = x }\n  if (y != null) { cm.curOp.scrollTop = y }\n}\n\nfunction scrollToRange(cm, range) {\n  resolveScrollToPos(cm)\n  cm.curOp.scrollToPos = range\n}\n\n// When an operation has its scrollToPos property set, and another\n// scroll action is applied before the end of the operation, this\n// 'simulates' scrolling that position into view in a cheap way, so\n// that the effect of intermediate scroll commands is not ignored.\nfunction resolveScrollToPos(cm) {\n  var range = cm.curOp.scrollToPos\n  if (range) {\n    cm.curOp.scrollToPos = null\n    var from = estimateCoords(cm, range.from), to = estimateCoords(cm, range.to)\n    scrollToCoordsRange(cm, from, to, range.margin)\n  }\n}\n\nfunction scrollToCoordsRange(cm, from, to, margin) {\n  var sPos = calculateScrollPos(cm, {\n    left: Math.min(from.left, to.left),\n    top: Math.min(from.top, to.top) - margin,\n    right: Math.max(from.right, to.right),\n    bottom: Math.max(from.bottom, to.bottom) + margin\n  })\n  scrollToCoords(cm, sPos.scrollLeft, sPos.scrollTop)\n}\n\n// Sync the scrollable area and scrollbars, ensure the viewport\n// covers the visible area.\nfunction updateScrollTop(cm, val) {\n  if (Math.abs(cm.doc.scrollTop - val) < 2) { return }\n  if (!gecko) { updateDisplaySimple(cm, {top: val}) }\n  setScrollTop(cm, val, true)\n  if (gecko) { updateDisplaySimple(cm) }\n  startWorker(cm, 100)\n}\n\nfunction setScrollTop(cm, val, forceScroll) {\n  val = Math.min(cm.display.scroller.scrollHeight - cm.display.scroller.clientHeight, val)\n  if (cm.display.scroller.scrollTop == val && !forceScroll) { return }\n  cm.doc.scrollTop = val\n  cm.display.scrollbars.setScrollTop(val)\n  if (cm.display.scroller.scrollTop != val) { cm.display.scroller.scrollTop = val }\n}\n\n// Sync scroller and scrollbar, ensure the gutter elements are\n// aligned.\nfunction setScrollLeft(cm, val, isScroller, forceScroll) {\n  val = Math.min(val, cm.display.scroller.scrollWidth - cm.display.scroller.clientWidth)\n  if ((isScroller ? val == cm.doc.scrollLeft : Math.abs(cm.doc.scrollLeft - val) < 2) && !forceScroll) { return }\n  cm.doc.scrollLeft = val\n  alignHorizontally(cm)\n  if (cm.display.scroller.scrollLeft != val) { cm.display.scroller.scrollLeft = val }\n  cm.display.scrollbars.setScrollLeft(val)\n}\n\n// SCROLLBARS\n\n// Prepare DOM reads needed to update the scrollbars. Done in one\n// shot to minimize update/measure roundtrips.\nfunction measureForScrollbars(cm) {\n  var d = cm.display, gutterW = d.gutters.offsetWidth\n  var docH = Math.round(cm.doc.height + paddingVert(cm.display))\n  return {\n    clientHeight: d.scroller.clientHeight,\n    viewHeight: d.wrapper.clientHeight,\n    scrollWidth: d.scroller.scrollWidth, clientWidth: d.scroller.clientWidth,\n    viewWidth: d.wrapper.clientWidth,\n    barLeft: cm.options.fixedGutter ? gutterW : 0,\n    docHeight: docH,\n    scrollHeight: docH + scrollGap(cm) + d.barHeight,\n    nativeBarWidth: d.nativeBarWidth,\n    gutterWidth: gutterW\n  }\n}\n\nvar NativeScrollbars = function(place, scroll, cm) {\n  this.cm = cm\n  var vert = this.vert = elt(\"div\", [elt(\"div\", null, null, \"min-width: 1px\")], \"CodeMirror-vscrollbar\")\n  var horiz = this.horiz = elt(\"div\", [elt(\"div\", null, null, \"height: 100%; min-height: 1px\")], \"CodeMirror-hscrollbar\")\n  place(vert); place(horiz)\n\n  on(vert, \"scroll\", function () {\n    if (vert.clientHeight) { scroll(vert.scrollTop, \"vertical\") }\n  })\n  on(horiz, \"scroll\", function () {\n    if (horiz.clientWidth) { scroll(horiz.scrollLeft, \"horizontal\") }\n  })\n\n  this.checkedZeroWidth = false\n  // Need to set a minimum width to see the scrollbar on IE7 (but must not set it on IE8).\n  if (ie && ie_version < 8) { this.horiz.style.minHeight = this.vert.style.minWidth = \"18px\" }\n};\n\nNativeScrollbars.prototype.update = function (measure) {\n  var needsH = measure.scrollWidth > measure.clientWidth + 1\n  var needsV = measure.scrollHeight > measure.clientHeight + 1\n  var sWidth = measure.nativeBarWidth\n\n  if (needsV) {\n    this.vert.style.display = \"block\"\n    this.vert.style.bottom = needsH ? sWidth + \"px\" : \"0\"\n    var totalHeight = measure.viewHeight - (needsH ? sWidth : 0)\n    // A bug in IE8 can cause this value to be negative, so guard it.\n    this.vert.firstChild.style.height =\n      Math.max(0, measure.scrollHeight - measure.clientHeight + totalHeight) + \"px\"\n  } else {\n    this.vert.style.display = \"\"\n    this.vert.firstChild.style.height = \"0\"\n  }\n\n  if (needsH) {\n    this.horiz.style.display = \"block\"\n    this.horiz.style.right = needsV ? sWidth + \"px\" : \"0\"\n    this.horiz.style.left = measure.barLeft + \"px\"\n    var totalWidth = measure.viewWidth - measure.barLeft - (needsV ? sWidth : 0)\n    this.horiz.firstChild.style.width =\n      Math.max(0, measure.scrollWidth - measure.clientWidth + totalWidth) + \"px\"\n  } else {\n    this.horiz.style.display = \"\"\n    this.horiz.firstChild.style.width = \"0\"\n  }\n\n  if (!this.checkedZeroWidth && measure.clientHeight > 0) {\n    if (sWidth == 0) { this.zeroWidthHack() }\n    this.checkedZeroWidth = true\n  }\n\n  return {right: needsV ? sWidth : 0, bottom: needsH ? sWidth : 0}\n};\n\nNativeScrollbars.prototype.setScrollLeft = function (pos) {\n  if (this.horiz.scrollLeft != pos) { this.horiz.scrollLeft = pos }\n  if (this.disableHoriz) { this.enableZeroWidthBar(this.horiz, this.disableHoriz, \"horiz\") }\n};\n\nNativeScrollbars.prototype.setScrollTop = function (pos) {\n  if (this.vert.scrollTop != pos) { this.vert.scrollTop = pos }\n  if (this.disableVert) { this.enableZeroWidthBar(this.vert, this.disableVert, \"vert\") }\n};\n\nNativeScrollbars.prototype.zeroWidthHack = function () {\n  var w = mac && !mac_geMountainLion ? \"12px\" : \"18px\"\n  this.horiz.style.height = this.vert.style.width = w\n  this.horiz.style.pointerEvents = this.vert.style.pointerEvents = \"none\"\n  this.disableHoriz = new Delayed\n  this.disableVert = new Delayed\n};\n\nNativeScrollbars.prototype.enableZeroWidthBar = function (bar, delay, type) {\n  bar.style.pointerEvents = \"auto\"\n  function maybeDisable() {\n    // To find out whether the scrollbar is still visible, we\n    // check whether the element under the pixel in the bottom\n    // right corner of the scrollbar box is the scrollbar box\n    // itself (when the bar is still visible) or its filler child\n    // (when the bar is hidden). If it is still visible, we keep\n    // it enabled, if it's hidden, we disable pointer events.\n    var box = bar.getBoundingClientRect()\n    var elt = type == \"vert\" ? document.elementFromPoint(box.right - 1, (box.top + box.bottom) / 2)\n        : document.elementFromPoint((box.right + box.left) / 2, box.bottom - 1)\n    if (elt != bar) { bar.style.pointerEvents = \"none\" }\n    else { delay.set(1000, maybeDisable) }\n  }\n  delay.set(1000, maybeDisable)\n};\n\nNativeScrollbars.prototype.clear = function () {\n  var parent = this.horiz.parentNode\n  parent.removeChild(this.horiz)\n  parent.removeChild(this.vert)\n};\n\nvar NullScrollbars = function () {};\n\nNullScrollbars.prototype.update = function () { return {bottom: 0, right: 0} };\nNullScrollbars.prototype.setScrollLeft = function () {};\nNullScrollbars.prototype.setScrollTop = function () {};\nNullScrollbars.prototype.clear = function () {};\n\nfunction updateScrollbars(cm, measure) {\n  if (!measure) { measure = measureForScrollbars(cm) }\n  var startWidth = cm.display.barWidth, startHeight = cm.display.barHeight\n  updateScrollbarsInner(cm, measure)\n  for (var i = 0; i < 4 && startWidth != cm.display.barWidth || startHeight != cm.display.barHeight; i++) {\n    if (startWidth != cm.display.barWidth && cm.options.lineWrapping)\n      { updateHeightsInViewport(cm) }\n    updateScrollbarsInner(cm, measureForScrollbars(cm))\n    startWidth = cm.display.barWidth; startHeight = cm.display.barHeight\n  }\n}\n\n// Re-synchronize the fake scrollbars with the actual size of the\n// content.\nfunction updateScrollbarsInner(cm, measure) {\n  var d = cm.display\n  var sizes = d.scrollbars.update(measure)\n\n  d.sizer.style.paddingRight = (d.barWidth = sizes.right) + \"px\"\n  d.sizer.style.paddingBottom = (d.barHeight = sizes.bottom) + \"px\"\n  d.heightForcer.style.borderBottom = sizes.bottom + \"px solid transparent\"\n\n  if (sizes.right && sizes.bottom) {\n    d.scrollbarFiller.style.display = \"block\"\n    d.scrollbarFiller.style.height = sizes.bottom + \"px\"\n    d.scrollbarFiller.style.width = sizes.right + \"px\"\n  } else { d.scrollbarFiller.style.display = \"\" }\n  if (sizes.bottom && cm.options.coverGutterNextToScrollbar && cm.options.fixedGutter) {\n    d.gutterFiller.style.display = \"block\"\n    d.gutterFiller.style.height = sizes.bottom + \"px\"\n    d.gutterFiller.style.width = measure.gutterWidth + \"px\"\n  } else { d.gutterFiller.style.display = \"\" }\n}\n\nvar scrollbarModel = {\"native\": NativeScrollbars, \"null\": NullScrollbars}\n\nfunction initScrollbars(cm) {\n  if (cm.display.scrollbars) {\n    cm.display.scrollbars.clear()\n    if (cm.display.scrollbars.addClass)\n      { rmClass(cm.display.wrapper, cm.display.scrollbars.addClass) }\n  }\n\n  cm.display.scrollbars = new scrollbarModel[cm.options.scrollbarStyle](function (node) {\n    cm.display.wrapper.insertBefore(node, cm.display.scrollbarFiller)\n    // Prevent clicks in the scrollbars from killing focus\n    on(node, \"mousedown\", function () {\n      if (cm.state.focused) { setTimeout(function () { return cm.display.input.focus(); }, 0) }\n    })\n    node.setAttribute(\"cm-not-content\", \"true\")\n  }, function (pos, axis) {\n    if (axis == \"horizontal\") { setScrollLeft(cm, pos) }\n    else { updateScrollTop(cm, pos) }\n  }, cm)\n  if (cm.display.scrollbars.addClass)\n    { addClass(cm.display.wrapper, cm.display.scrollbars.addClass) }\n}\n\n// Operations are used to wrap a series of changes to the editor\n// state in such a way that each change won't have to update the\n// cursor and display (which would be awkward, slow, and\n// error-prone). Instead, display updates are batched and then all\n// combined and executed at once.\n\nvar nextOpId = 0\n// Start a new operation.\nfunction startOperation(cm) {\n  cm.curOp = {\n    cm: cm,\n    viewChanged: false,      // Flag that indicates that lines might need to be redrawn\n    startHeight: cm.doc.height, // Used to detect need to update scrollbar\n    forceUpdate: false,      // Used to force a redraw\n    updateInput: null,       // Whether to reset the input textarea\n    typing: false,           // Whether this reset should be careful to leave existing text (for compositing)\n    changeObjs: null,        // Accumulated changes, for firing change events\n    cursorActivityHandlers: null, // Set of handlers to fire cursorActivity on\n    cursorActivityCalled: 0, // Tracks which cursorActivity handlers have been called already\n    selectionChanged: false, // Whether the selection needs to be redrawn\n    updateMaxLine: false,    // Set when the widest line needs to be determined anew\n    scrollLeft: null, scrollTop: null, // Intermediate scroll position, not pushed to DOM yet\n    scrollToPos: null,       // Used to scroll to a specific position\n    focus: false,\n    id: ++nextOpId           // Unique ID\n  }\n  pushOperation(cm.curOp)\n}\n\n// Finish an operation, updating the display and signalling delayed events\nfunction endOperation(cm) {\n  var op = cm.curOp\n  finishOperation(op, function (group) {\n    for (var i = 0; i < group.ops.length; i++)\n      { group.ops[i].cm.curOp = null }\n    endOperations(group)\n  })\n}\n\n// The DOM updates done when an operation finishes are batched so\n// that the minimum number of relayouts are required.\nfunction endOperations(group) {\n  var ops = group.ops\n  for (var i = 0; i < ops.length; i++) // Read DOM\n    { endOperation_R1(ops[i]) }\n  for (var i$1 = 0; i$1 < ops.length; i$1++) // Write DOM (maybe)\n    { endOperation_W1(ops[i$1]) }\n  for (var i$2 = 0; i$2 < ops.length; i$2++) // Read DOM\n    { endOperation_R2(ops[i$2]) }\n  for (var i$3 = 0; i$3 < ops.length; i$3++) // Write DOM (maybe)\n    { endOperation_W2(ops[i$3]) }\n  for (var i$4 = 0; i$4 < ops.length; i$4++) // Read DOM\n    { endOperation_finish(ops[i$4]) }\n}\n\nfunction endOperation_R1(op) {\n  var cm = op.cm, display = cm.display\n  maybeClipScrollbars(cm)\n  if (op.updateMaxLine) { findMaxLine(cm) }\n\n  op.mustUpdate = op.viewChanged || op.forceUpdate || op.scrollTop != null ||\n    op.scrollToPos && (op.scrollToPos.from.line < display.viewFrom ||\n                       op.scrollToPos.to.line >= display.viewTo) ||\n    display.maxLineChanged && cm.options.lineWrapping\n  op.update = op.mustUpdate &&\n    new DisplayUpdate(cm, op.mustUpdate && {top: op.scrollTop, ensure: op.scrollToPos}, op.forceUpdate)\n}\n\nfunction endOperation_W1(op) {\n  op.updatedDisplay = op.mustUpdate && updateDisplayIfNeeded(op.cm, op.update)\n}\n\nfunction endOperation_R2(op) {\n  var cm = op.cm, display = cm.display\n  if (op.updatedDisplay) { updateHeightsInViewport(cm) }\n\n  op.barMeasure = measureForScrollbars(cm)\n\n  // If the max line changed since it was last measured, measure it,\n  // and ensure the document's width matches it.\n  // updateDisplay_W2 will use these properties to do the actual resizing\n  if (display.maxLineChanged && !cm.options.lineWrapping) {\n    op.adjustWidthTo = measureChar(cm, display.maxLine, display.maxLine.text.length).left + 3\n    cm.display.sizerWidth = op.adjustWidthTo\n    op.barMeasure.scrollWidth =\n      Math.max(display.scroller.clientWidth, display.sizer.offsetLeft + op.adjustWidthTo + scrollGap(cm) + cm.display.barWidth)\n    op.maxScrollLeft = Math.max(0, display.sizer.offsetLeft + op.adjustWidthTo - displayWidth(cm))\n  }\n\n  if (op.updatedDisplay || op.selectionChanged)\n    { op.preparedSelection = display.input.prepareSelection() }\n}\n\nfunction endOperation_W2(op) {\n  var cm = op.cm\n\n  if (op.adjustWidthTo != null) {\n    cm.display.sizer.style.minWidth = op.adjustWidthTo + \"px\"\n    if (op.maxScrollLeft < cm.doc.scrollLeft)\n      { setScrollLeft(cm, Math.min(cm.display.scroller.scrollLeft, op.maxScrollLeft), true) }\n    cm.display.maxLineChanged = false\n  }\n\n  var takeFocus = op.focus && op.focus == activeElt()\n  if (op.preparedSelection)\n    { cm.display.input.showSelection(op.preparedSelection, takeFocus) }\n  if (op.updatedDisplay || op.startHeight != cm.doc.height)\n    { updateScrollbars(cm, op.barMeasure) }\n  if (op.updatedDisplay)\n    { setDocumentHeight(cm, op.barMeasure) }\n\n  if (op.selectionChanged) { restartBlink(cm) }\n\n  if (cm.state.focused && op.updateInput)\n    { cm.display.input.reset(op.typing) }\n  if (takeFocus) { ensureFocus(op.cm) }\n}\n\nfunction endOperation_finish(op) {\n  var cm = op.cm, display = cm.display, doc = cm.doc\n\n  if (op.updatedDisplay) { postUpdateDisplay(cm, op.update) }\n\n  // Abort mouse wheel delta measurement, when scrolling explicitly\n  if (display.wheelStartX != null && (op.scrollTop != null || op.scrollLeft != null || op.scrollToPos))\n    { display.wheelStartX = display.wheelStartY = null }\n\n  // Propagate the scroll position to the actual DOM scroller\n  if (op.scrollTop != null) { setScrollTop(cm, op.scrollTop, op.forceScroll) }\n\n  if (op.scrollLeft != null) { setScrollLeft(cm, op.scrollLeft, true, true) }\n  // If we need to scroll a specific position into view, do so.\n  if (op.scrollToPos) {\n    var rect = scrollPosIntoView(cm, clipPos(doc, op.scrollToPos.from),\n                                 clipPos(doc, op.scrollToPos.to), op.scrollToPos.margin)\n    maybeScrollWindow(cm, rect)\n  }\n\n  // Fire events for markers that are hidden/unidden by editing or\n  // undoing\n  var hidden = op.maybeHiddenMarkers, unhidden = op.maybeUnhiddenMarkers\n  if (hidden) { for (var i = 0; i < hidden.length; ++i)\n    { if (!hidden[i].lines.length) { signal(hidden[i], \"hide\") } } }\n  if (unhidden) { for (var i$1 = 0; i$1 < unhidden.length; ++i$1)\n    { if (unhidden[i$1].lines.length) { signal(unhidden[i$1], \"unhide\") } } }\n\n  if (display.wrapper.offsetHeight)\n    { doc.scrollTop = cm.display.scroller.scrollTop }\n\n  // Fire change events, and delayed event handlers\n  if (op.changeObjs)\n    { signal(cm, \"changes\", cm, op.changeObjs) }\n  if (op.update)\n    { op.update.finish() }\n}\n\n// Run the given function in an operation\nfunction runInOp(cm, f) {\n  if (cm.curOp) { return f() }\n  startOperation(cm)\n  try { return f() }\n  finally { endOperation(cm) }\n}\n// Wraps a function in an operation. Returns the wrapped function.\nfunction operation(cm, f) {\n  return function() {\n    if (cm.curOp) { return f.apply(cm, arguments) }\n    startOperation(cm)\n    try { return f.apply(cm, arguments) }\n    finally { endOperation(cm) }\n  }\n}\n// Used to add methods to editor and doc instances, wrapping them in\n// operations.\nfunction methodOp(f) {\n  return function() {\n    if (this.curOp) { return f.apply(this, arguments) }\n    startOperation(this)\n    try { return f.apply(this, arguments) }\n    finally { endOperation(this) }\n  }\n}\nfunction docMethodOp(f) {\n  return function() {\n    var cm = this.cm\n    if (!cm || cm.curOp) { return f.apply(this, arguments) }\n    startOperation(cm)\n    try { return f.apply(this, arguments) }\n    finally { endOperation(cm) }\n  }\n}\n\n// Updates the display.view data structure for a given change to the\n// document. From and to are in pre-change coordinates. Lendiff is\n// the amount of lines added or subtracted by the change. This is\n// used for changes that span multiple lines, or change the way\n// lines are divided into visual lines. regLineChange (below)\n// registers single-line changes.\nfunction regChange(cm, from, to, lendiff) {\n  if (from == null) { from = cm.doc.first }\n  if (to == null) { to = cm.doc.first + cm.doc.size }\n  if (!lendiff) { lendiff = 0 }\n\n  var display = cm.display\n  if (lendiff && to < display.viewTo &&\n      (display.updateLineNumbers == null || display.updateLineNumbers > from))\n    { display.updateLineNumbers = from }\n\n  cm.curOp.viewChanged = true\n\n  if (from >= display.viewTo) { // Change after\n    if (sawCollapsedSpans && visualLineNo(cm.doc, from) < display.viewTo)\n      { resetView(cm) }\n  } else if (to <= display.viewFrom) { // Change before\n    if (sawCollapsedSpans && visualLineEndNo(cm.doc, to + lendiff) > display.viewFrom) {\n      resetView(cm)\n    } else {\n      display.viewFrom += lendiff\n      display.viewTo += lendiff\n    }\n  } else if (from <= display.viewFrom && to >= display.viewTo) { // Full overlap\n    resetView(cm)\n  } else if (from <= display.viewFrom) { // Top overlap\n    var cut = viewCuttingPoint(cm, to, to + lendiff, 1)\n    if (cut) {\n      display.view = display.view.slice(cut.index)\n      display.viewFrom = cut.lineN\n      display.viewTo += lendiff\n    } else {\n      resetView(cm)\n    }\n  } else if (to >= display.viewTo) { // Bottom overlap\n    var cut$1 = viewCuttingPoint(cm, from, from, -1)\n    if (cut$1) {\n      display.view = display.view.slice(0, cut$1.index)\n      display.viewTo = cut$1.lineN\n    } else {\n      resetView(cm)\n    }\n  } else { // Gap in the middle\n    var cutTop = viewCuttingPoint(cm, from, from, -1)\n    var cutBot = viewCuttingPoint(cm, to, to + lendiff, 1)\n    if (cutTop && cutBot) {\n      display.view = display.view.slice(0, cutTop.index)\n        .concat(buildViewArray(cm, cutTop.lineN, cutBot.lineN))\n        .concat(display.view.slice(cutBot.index))\n      display.viewTo += lendiff\n    } else {\n      resetView(cm)\n    }\n  }\n\n  var ext = display.externalMeasured\n  if (ext) {\n    if (to < ext.lineN)\n      { ext.lineN += lendiff }\n    else if (from < ext.lineN + ext.size)\n      { display.externalMeasured = null }\n  }\n}\n\n// Register a change to a single line. Type must be one of \"text\",\n// \"gutter\", \"class\", \"widget\"\nfunction regLineChange(cm, line, type) {\n  cm.curOp.viewChanged = true\n  var display = cm.display, ext = cm.display.externalMeasured\n  if (ext && line >= ext.lineN && line < ext.lineN + ext.size)\n    { display.externalMeasured = null }\n\n  if (line < display.viewFrom || line >= display.viewTo) { return }\n  var lineView = display.view[findViewIndex(cm, line)]\n  if (lineView.node == null) { return }\n  var arr = lineView.changes || (lineView.changes = [])\n  if (indexOf(arr, type) == -1) { arr.push(type) }\n}\n\n// Clear the view.\nfunction resetView(cm) {\n  cm.display.viewFrom = cm.display.viewTo = cm.doc.first\n  cm.display.view = []\n  cm.display.viewOffset = 0\n}\n\nfunction viewCuttingPoint(cm, oldN, newN, dir) {\n  var index = findViewIndex(cm, oldN), diff, view = cm.display.view\n  if (!sawCollapsedSpans || newN == cm.doc.first + cm.doc.size)\n    { return {index: index, lineN: newN} }\n  var n = cm.display.viewFrom\n  for (var i = 0; i < index; i++)\n    { n += view[i].size }\n  if (n != oldN) {\n    if (dir > 0) {\n      if (index == view.length - 1) { return null }\n      diff = (n + view[index].size) - oldN\n      index++\n    } else {\n      diff = n - oldN\n    }\n    oldN += diff; newN += diff\n  }\n  while (visualLineNo(cm.doc, newN) != newN) {\n    if (index == (dir < 0 ? 0 : view.length - 1)) { return null }\n    newN += dir * view[index - (dir < 0 ? 1 : 0)].size\n    index += dir\n  }\n  return {index: index, lineN: newN}\n}\n\n// Force the view to cover a given range, adding empty view element\n// or clipping off existing ones as needed.\nfunction adjustView(cm, from, to) {\n  var display = cm.display, view = display.view\n  if (view.length == 0 || from >= display.viewTo || to <= display.viewFrom) {\n    display.view = buildViewArray(cm, from, to)\n    display.viewFrom = from\n  } else {\n    if (display.viewFrom > from)\n      { display.view = buildViewArray(cm, from, display.viewFrom).concat(display.view) }\n    else if (display.viewFrom < from)\n      { display.view = display.view.slice(findViewIndex(cm, from)) }\n    display.viewFrom = from\n    if (display.viewTo < to)\n      { display.view = display.view.concat(buildViewArray(cm, display.viewTo, to)) }\n    else if (display.viewTo > to)\n      { display.view = display.view.slice(0, findViewIndex(cm, to)) }\n  }\n  display.viewTo = to\n}\n\n// Count the number of lines in the view whose DOM representation is\n// out of date (or nonexistent).\nfunction countDirtyView(cm) {\n  var view = cm.display.view, dirty = 0\n  for (var i = 0; i < view.length; i++) {\n    var lineView = view[i]\n    if (!lineView.hidden && (!lineView.node || lineView.changes)) { ++dirty }\n  }\n  return dirty\n}\n\n// HIGHLIGHT WORKER\n\nfunction startWorker(cm, time) {\n  if (cm.doc.highlightFrontier < cm.display.viewTo)\n    { cm.state.highlight.set(time, bind(highlightWorker, cm)) }\n}\n\nfunction highlightWorker(cm) {\n  var doc = cm.doc\n  if (doc.highlightFrontier >= cm.display.viewTo) { return }\n  var end = +new Date + cm.options.workTime\n  var context = getContextBefore(cm, doc.highlightFrontier)\n  var changedLines = []\n\n  doc.iter(context.line, Math.min(doc.first + doc.size, cm.display.viewTo + 500), function (line) {\n    if (context.line >= cm.display.viewFrom) { // Visible\n      var oldStyles = line.styles\n      var resetState = line.text.length > cm.options.maxHighlightLength ? copyState(doc.mode, context.state) : null\n      var highlighted = highlightLine(cm, line, context, true)\n      if (resetState) { context.state = resetState }\n      line.styles = highlighted.styles\n      var oldCls = line.styleClasses, newCls = highlighted.classes\n      if (newCls) { line.styleClasses = newCls }\n      else if (oldCls) { line.styleClasses = null }\n      var ischange = !oldStyles || oldStyles.length != line.styles.length ||\n        oldCls != newCls && (!oldCls || !newCls || oldCls.bgClass != newCls.bgClass || oldCls.textClass != newCls.textClass)\n      for (var i = 0; !ischange && i < oldStyles.length; ++i) { ischange = oldStyles[i] != line.styles[i] }\n      if (ischange) { changedLines.push(context.line) }\n      line.stateAfter = context.save()\n      context.nextLine()\n    } else {\n      if (line.text.length <= cm.options.maxHighlightLength)\n        { processLine(cm, line.text, context) }\n      line.stateAfter = context.line % 5 == 0 ? context.save() : null\n      context.nextLine()\n    }\n    if (+new Date > end) {\n      startWorker(cm, cm.options.workDelay)\n      return true\n    }\n  })\n  doc.highlightFrontier = context.line\n  doc.modeFrontier = Math.max(doc.modeFrontier, context.line)\n  if (changedLines.length) { runInOp(cm, function () {\n    for (var i = 0; i < changedLines.length; i++)\n      { regLineChange(cm, changedLines[i], \"text\") }\n  }) }\n}\n\n// DISPLAY DRAWING\n\nvar DisplayUpdate = function(cm, viewport, force) {\n  var display = cm.display\n\n  this.viewport = viewport\n  // Store some values that we'll need later (but don't want to force a relayout for)\n  this.visible = visibleLines(display, cm.doc, viewport)\n  this.editorIsHidden = !display.wrapper.offsetWidth\n  this.wrapperHeight = display.wrapper.clientHeight\n  this.wrapperWidth = display.wrapper.clientWidth\n  this.oldDisplayWidth = displayWidth(cm)\n  this.force = force\n  this.dims = getDimensions(cm)\n  this.events = []\n};\n\nDisplayUpdate.prototype.signal = function (emitter, type) {\n  if (hasHandler(emitter, type))\n    { this.events.push(arguments) }\n};\nDisplayUpdate.prototype.finish = function () {\n    var this$1 = this;\n\n  for (var i = 0; i < this.events.length; i++)\n    { signal.apply(null, this$1.events[i]) }\n};\n\nfunction maybeClipScrollbars(cm) {\n  var display = cm.display\n  if (!display.scrollbarsClipped && display.scroller.offsetWidth) {\n    display.nativeBarWidth = display.scroller.offsetWidth - display.scroller.clientWidth\n    display.heightForcer.style.height = scrollGap(cm) + \"px\"\n    display.sizer.style.marginBottom = -display.nativeBarWidth + \"px\"\n    display.sizer.style.borderRightWidth = scrollGap(cm) + \"px\"\n    display.scrollbarsClipped = true\n  }\n}\n\nfunction selectionSnapshot(cm) {\n  if (cm.hasFocus()) { return null }\n  var active = activeElt()\n  if (!active || !contains(cm.display.lineDiv, active)) { return null }\n  var result = {activeElt: active}\n  if (window.getSelection) {\n    var sel = window.getSelection()\n    if (sel.anchorNode && sel.extend && contains(cm.display.lineDiv, sel.anchorNode)) {\n      result.anchorNode = sel.anchorNode\n      result.anchorOffset = sel.anchorOffset\n      result.focusNode = sel.focusNode\n      result.focusOffset = sel.focusOffset\n    }\n  }\n  return result\n}\n\nfunction restoreSelection(snapshot) {\n  if (!snapshot || !snapshot.activeElt || snapshot.activeElt == activeElt()) { return }\n  snapshot.activeElt.focus()\n  if (snapshot.anchorNode && contains(document.body, snapshot.anchorNode) && contains(document.body, snapshot.focusNode)) {\n    var sel = window.getSelection(), range = document.createRange()\n    range.setEnd(snapshot.anchorNode, snapshot.anchorOffset)\n    range.collapse(false)\n    sel.removeAllRanges()\n    sel.addRange(range)\n    sel.extend(snapshot.focusNode, snapshot.focusOffset)\n  }\n}\n\n// Does the actual updating of the line display. Bails out\n// (returning false) when there is nothing to be done and forced is\n// false.\nfunction updateDisplayIfNeeded(cm, update) {\n  var display = cm.display, doc = cm.doc\n\n  if (update.editorIsHidden) {\n    resetView(cm)\n    return false\n  }\n\n  // Bail out if the visible area is already rendered and nothing changed.\n  if (!update.force &&\n      update.visible.from >= display.viewFrom && update.visible.to <= display.viewTo &&\n      (display.updateLineNumbers == null || display.updateLineNumbers >= display.viewTo) &&\n      display.renderedView == display.view && countDirtyView(cm) == 0)\n    { return false }\n\n  if (maybeUpdateLineNumberWidth(cm)) {\n    resetView(cm)\n    update.dims = getDimensions(cm)\n  }\n\n  // Compute a suitable new viewport (from & to)\n  var end = doc.first + doc.size\n  var from = Math.max(update.visible.from - cm.options.viewportMargin, doc.first)\n  var to = Math.min(end, update.visible.to + cm.options.viewportMargin)\n  if (display.viewFrom < from && from - display.viewFrom < 20) { from = Math.max(doc.first, display.viewFrom) }\n  if (display.viewTo > to && display.viewTo - to < 20) { to = Math.min(end, display.viewTo) }\n  if (sawCollapsedSpans) {\n    from = visualLineNo(cm.doc, from)\n    to = visualLineEndNo(cm.doc, to)\n  }\n\n  var different = from != display.viewFrom || to != display.viewTo ||\n    display.lastWrapHeight != update.wrapperHeight || display.lastWrapWidth != update.wrapperWidth\n  adjustView(cm, from, to)\n\n  display.viewOffset = heightAtLine(getLine(cm.doc, display.viewFrom))\n  // Position the mover div to align with the current scroll position\n  cm.display.mover.style.top = display.viewOffset + \"px\"\n\n  var toUpdate = countDirtyView(cm)\n  if (!different && toUpdate == 0 && !update.force && display.renderedView == display.view &&\n      (display.updateLineNumbers == null || display.updateLineNumbers >= display.viewTo))\n    { return false }\n\n  // For big changes, we hide the enclosing element during the\n  // update, since that speeds up the operations on most browsers.\n  var selSnapshot = selectionSnapshot(cm)\n  if (toUpdate > 4) { display.lineDiv.style.display = \"none\" }\n  patchDisplay(cm, display.updateLineNumbers, update.dims)\n  if (toUpdate > 4) { display.lineDiv.style.display = \"\" }\n  display.renderedView = display.view\n  // There might have been a widget with a focused element that got\n  // hidden or updated, if so re-focus it.\n  restoreSelection(selSnapshot)\n\n  // Prevent selection and cursors from interfering with the scroll\n  // width and height.\n  removeChildren(display.cursorDiv)\n  removeChildren(display.selectionDiv)\n  display.gutters.style.height = display.sizer.style.minHeight = 0\n\n  if (different) {\n    display.lastWrapHeight = update.wrapperHeight\n    display.lastWrapWidth = update.wrapperWidth\n    startWorker(cm, 400)\n  }\n\n  display.updateLineNumbers = null\n\n  return true\n}\n\nfunction postUpdateDisplay(cm, update) {\n  var viewport = update.viewport\n\n  for (var first = true;; first = false) {\n    if (!first || !cm.options.lineWrapping || update.oldDisplayWidth == displayWidth(cm)) {\n      // Clip forced viewport to actual scrollable area.\n      if (viewport && viewport.top != null)\n        { viewport = {top: Math.min(cm.doc.height + paddingVert(cm.display) - displayHeight(cm), viewport.top)} }\n      // Updated line heights might result in the drawn area not\n      // actually covering the viewport. Keep looping until it does.\n      update.visible = visibleLines(cm.display, cm.doc, viewport)\n      if (update.visible.from >= cm.display.viewFrom && update.visible.to <= cm.display.viewTo)\n        { break }\n    }\n    if (!updateDisplayIfNeeded(cm, update)) { break }\n    updateHeightsInViewport(cm)\n    var barMeasure = measureForScrollbars(cm)\n    updateSelection(cm)\n    updateScrollbars(cm, barMeasure)\n    setDocumentHeight(cm, barMeasure)\n    update.force = false\n  }\n\n  update.signal(cm, \"update\", cm)\n  if (cm.display.viewFrom != cm.display.reportedViewFrom || cm.display.viewTo != cm.display.reportedViewTo) {\n    update.signal(cm, \"viewportChange\", cm, cm.display.viewFrom, cm.display.viewTo)\n    cm.display.reportedViewFrom = cm.display.viewFrom; cm.display.reportedViewTo = cm.display.viewTo\n  }\n}\n\nfunction updateDisplaySimple(cm, viewport) {\n  var update = new DisplayUpdate(cm, viewport)\n  if (updateDisplayIfNeeded(cm, update)) {\n    updateHeightsInViewport(cm)\n    postUpdateDisplay(cm, update)\n    var barMeasure = measureForScrollbars(cm)\n    updateSelection(cm)\n    updateScrollbars(cm, barMeasure)\n    setDocumentHeight(cm, barMeasure)\n    update.finish()\n  }\n}\n\n// Sync the actual display DOM structure with display.view, removing\n// nodes for lines that are no longer in view, and creating the ones\n// that are not there yet, and updating the ones that are out of\n// date.\nfunction patchDisplay(cm, updateNumbersFrom, dims) {\n  var display = cm.display, lineNumbers = cm.options.lineNumbers\n  var container = display.lineDiv, cur = container.firstChild\n\n  function rm(node) {\n    var next = node.nextSibling\n    // Works around a throw-scroll bug in OS X Webkit\n    if (webkit && mac && cm.display.currentWheelTarget == node)\n      { node.style.display = \"none\" }\n    else\n      { node.parentNode.removeChild(node) }\n    return next\n  }\n\n  var view = display.view, lineN = display.viewFrom\n  // Loop over the elements in the view, syncing cur (the DOM nodes\n  // in display.lineDiv) with the view as we go.\n  for (var i = 0; i < view.length; i++) {\n    var lineView = view[i]\n    if (lineView.hidden) {\n    } else if (!lineView.node || lineView.node.parentNode != container) { // Not drawn yet\n      var node = buildLineElement(cm, lineView, lineN, dims)\n      container.insertBefore(node, cur)\n    } else { // Already drawn\n      while (cur != lineView.node) { cur = rm(cur) }\n      var updateNumber = lineNumbers && updateNumbersFrom != null &&\n        updateNumbersFrom <= lineN && lineView.lineNumber\n      if (lineView.changes) {\n        if (indexOf(lineView.changes, \"gutter\") > -1) { updateNumber = false }\n        updateLineForChanges(cm, lineView, lineN, dims)\n      }\n      if (updateNumber) {\n        removeChildren(lineView.lineNumber)\n        lineView.lineNumber.appendChild(document.createTextNode(lineNumberFor(cm.options, lineN)))\n      }\n      cur = lineView.node.nextSibling\n    }\n    lineN += lineView.size\n  }\n  while (cur) { cur = rm(cur) }\n}\n\nfunction updateGutterSpace(cm) {\n  var width = cm.display.gutters.offsetWidth\n  cm.display.sizer.style.marginLeft = width + \"px\"\n}\n\nfunction setDocumentHeight(cm, measure) {\n  cm.display.sizer.style.minHeight = measure.docHeight + \"px\"\n  cm.display.heightForcer.style.top = measure.docHeight + \"px\"\n  cm.display.gutters.style.height = (measure.docHeight + cm.display.barHeight + scrollGap(cm)) + \"px\"\n}\n\n// Rebuild the gutter elements, ensure the margin to the left of the\n// code matches their width.\nfunction updateGutters(cm) {\n  var gutters = cm.display.gutters, specs = cm.options.gutters\n  removeChildren(gutters)\n  var i = 0\n  for (; i < specs.length; ++i) {\n    var gutterClass = specs[i]\n    var gElt = gutters.appendChild(elt(\"div\", null, \"CodeMirror-gutter \" + gutterClass))\n    if (gutterClass == \"CodeMirror-linenumbers\") {\n      cm.display.lineGutter = gElt\n      gElt.style.width = (cm.display.lineNumWidth || 1) + \"px\"\n    }\n  }\n  gutters.style.display = i ? \"\" : \"none\"\n  updateGutterSpace(cm)\n}\n\n// Make sure the gutters options contains the element\n// \"CodeMirror-linenumbers\" when the lineNumbers option is true.\nfunction setGuttersForLineNumbers(options) {\n  var found = indexOf(options.gutters, \"CodeMirror-linenumbers\")\n  if (found == -1 && options.lineNumbers) {\n    options.gutters = options.gutters.concat([\"CodeMirror-linenumbers\"])\n  } else if (found > -1 && !options.lineNumbers) {\n    options.gutters = options.gutters.slice(0)\n    options.gutters.splice(found, 1)\n  }\n}\n\nvar wheelSamples = 0;\nvar wheelPixelsPerUnit = null;\n// Fill in a browser-detected starting value on browsers where we\n// know one. These don't have to be accurate -- the result of them\n// being wrong would just be a slight flicker on the first wheel\n// scroll (if it is large enough).\nif (ie) { wheelPixelsPerUnit = -.53 }\nelse if (gecko) { wheelPixelsPerUnit = 15 }\nelse if (chrome) { wheelPixelsPerUnit = -.7 }\nelse if (safari) { wheelPixelsPerUnit = -1/3 }\n\nfunction wheelEventDelta(e) {\n  var dx = e.wheelDeltaX, dy = e.wheelDeltaY\n  if (dx == null && e.detail && e.axis == e.HORIZONTAL_AXIS) { dx = e.detail }\n  if (dy == null && e.detail && e.axis == e.VERTICAL_AXIS) { dy = e.detail }\n  else if (dy == null) { dy = e.wheelDelta }\n  return {x: dx, y: dy}\n}\nfunction wheelEventPixels(e) {\n  var delta = wheelEventDelta(e)\n  delta.x *= wheelPixelsPerUnit\n  delta.y *= wheelPixelsPerUnit\n  return delta\n}\n\nfunction onScrollWheel(cm, e) {\n  var delta = wheelEventDelta(e), dx = delta.x, dy = delta.y\n\n  var display = cm.display, scroll = display.scroller\n  // Quit if there's nothing to scroll here\n  var canScrollX = scroll.scrollWidth > scroll.clientWidth\n  var canScrollY = scroll.scrollHeight > scroll.clientHeight\n  if (!(dx && canScrollX || dy && canScrollY)) { return }\n\n  // Webkit browsers on OS X abort momentum scrolls when the target\n  // of the scroll event is removed from the scrollable element.\n  // This hack (see related code in patchDisplay) makes sure the\n  // element is kept around.\n  if (dy && mac && webkit) {\n    outer: for (var cur = e.target, view = display.view; cur != scroll; cur = cur.parentNode) {\n      for (var i = 0; i < view.length; i++) {\n        if (view[i].node == cur) {\n          cm.display.currentWheelTarget = cur\n          break outer\n        }\n      }\n    }\n  }\n\n  // On some browsers, horizontal scrolling will cause redraws to\n  // happen before the gutter has been realigned, causing it to\n  // wriggle around in a most unseemly way. When we have an\n  // estimated pixels/delta value, we just handle horizontal\n  // scrolling entirely here. It'll be slightly off from native, but\n  // better than glitching out.\n  if (dx && !gecko && !presto && wheelPixelsPerUnit != null) {\n    if (dy && canScrollY)\n      { updateScrollTop(cm, Math.max(0, scroll.scrollTop + dy * wheelPixelsPerUnit)) }\n    setScrollLeft(cm, Math.max(0, scroll.scrollLeft + dx * wheelPixelsPerUnit))\n    // Only prevent default scrolling if vertical scrolling is\n    // actually possible. Otherwise, it causes vertical scroll\n    // jitter on OSX trackpads when deltaX is small and deltaY\n    // is large (issue #3579)\n    if (!dy || (dy && canScrollY))\n      { e_preventDefault(e) }\n    display.wheelStartX = null // Abort measurement, if in progress\n    return\n  }\n\n  // 'Project' the visible viewport to cover the area that is being\n  // scrolled into view (if we know enough to estimate it).\n  if (dy && wheelPixelsPerUnit != null) {\n    var pixels = dy * wheelPixelsPerUnit\n    var top = cm.doc.scrollTop, bot = top + display.wrapper.clientHeight\n    if (pixels < 0) { top = Math.max(0, top + pixels - 50) }\n    else { bot = Math.min(cm.doc.height, bot + pixels + 50) }\n    updateDisplaySimple(cm, {top: top, bottom: bot})\n  }\n\n  if (wheelSamples < 20) {\n    if (display.wheelStartX == null) {\n      display.wheelStartX = scroll.scrollLeft; display.wheelStartY = scroll.scrollTop\n      display.wheelDX = dx; display.wheelDY = dy\n      setTimeout(function () {\n        if (display.wheelStartX == null) { return }\n        var movedX = scroll.scrollLeft - display.wheelStartX\n        var movedY = scroll.scrollTop - display.wheelStartY\n        var sample = (movedY && display.wheelDY && movedY / display.wheelDY) ||\n          (movedX && display.wheelDX && movedX / display.wheelDX)\n        display.wheelStartX = display.wheelStartY = null\n        if (!sample) { return }\n        wheelPixelsPerUnit = (wheelPixelsPerUnit * wheelSamples + sample) / (wheelSamples + 1)\n        ++wheelSamples\n      }, 200)\n    } else {\n      display.wheelDX += dx; display.wheelDY += dy\n    }\n  }\n}\n\n// Selection objects are immutable. A new one is created every time\n// the selection changes. A selection is one or more non-overlapping\n// (and non-touching) ranges, sorted, and an integer that indicates\n// which one is the primary selection (the one that's scrolled into\n// view, that getCursor returns, etc).\nvar Selection = function(ranges, primIndex) {\n  this.ranges = ranges\n  this.primIndex = primIndex\n};\n\nSelection.prototype.primary = function () { return this.ranges[this.primIndex] };\n\nSelection.prototype.equals = function (other) {\n    var this$1 = this;\n\n  if (other == this) { return true }\n  if (other.primIndex != this.primIndex || other.ranges.length != this.ranges.length) { return false }\n  for (var i = 0; i < this.ranges.length; i++) {\n    var here = this$1.ranges[i], there = other.ranges[i]\n    if (!equalCursorPos(here.anchor, there.anchor) || !equalCursorPos(here.head, there.head)) { return false }\n  }\n  return true\n};\n\nSelection.prototype.deepCopy = function () {\n    var this$1 = this;\n\n  var out = []\n  for (var i = 0; i < this.ranges.length; i++)\n    { out[i] = new Range(copyPos(this$1.ranges[i].anchor), copyPos(this$1.ranges[i].head)) }\n  return new Selection(out, this.primIndex)\n};\n\nSelection.prototype.somethingSelected = function () {\n    var this$1 = this;\n\n  for (var i = 0; i < this.ranges.length; i++)\n    { if (!this$1.ranges[i].empty()) { return true } }\n  return false\n};\n\nSelection.prototype.contains = function (pos, end) {\n    var this$1 = this;\n\n  if (!end) { end = pos }\n  for (var i = 0; i < this.ranges.length; i++) {\n    var range = this$1.ranges[i]\n    if (cmp(end, range.from()) >= 0 && cmp(pos, range.to()) <= 0)\n      { return i }\n  }\n  return -1\n};\n\nvar Range = function(anchor, head) {\n  this.anchor = anchor; this.head = head\n};\n\nRange.prototype.from = function () { return minPos(this.anchor, this.head) };\nRange.prototype.to = function () { return maxPos(this.anchor, this.head) };\nRange.prototype.empty = function () { return this.head.line == this.anchor.line && this.head.ch == this.anchor.ch };\n\n// Take an unsorted, potentially overlapping set of ranges, and\n// build a selection out of it. 'Consumes' ranges array (modifying\n// it).\nfunction normalizeSelection(ranges, primIndex) {\n  var prim = ranges[primIndex]\n  ranges.sort(function (a, b) { return cmp(a.from(), b.from()); })\n  primIndex = indexOf(ranges, prim)\n  for (var i = 1; i < ranges.length; i++) {\n    var cur = ranges[i], prev = ranges[i - 1]\n    if (cmp(prev.to(), cur.from()) >= 0) {\n      var from = minPos(prev.from(), cur.from()), to = maxPos(prev.to(), cur.to())\n      var inv = prev.empty() ? cur.from() == cur.head : prev.from() == prev.head\n      if (i <= primIndex) { --primIndex }\n      ranges.splice(--i, 2, new Range(inv ? to : from, inv ? from : to))\n    }\n  }\n  return new Selection(ranges, primIndex)\n}\n\nfunction simpleSelection(anchor, head) {\n  return new Selection([new Range(anchor, head || anchor)], 0)\n}\n\n// Compute the position of the end of a change (its 'to' property\n// refers to the pre-change end).\nfunction changeEnd(change) {\n  if (!change.text) { return change.to }\n  return Pos(change.from.line + change.text.length - 1,\n             lst(change.text).length + (change.text.length == 1 ? change.from.ch : 0))\n}\n\n// Adjust a position to refer to the post-change position of the\n// same text, or the end of the change if the change covers it.\nfunction adjustForChange(pos, change) {\n  if (cmp(pos, change.from) < 0) { return pos }\n  if (cmp(pos, change.to) <= 0) { return changeEnd(change) }\n\n  var line = pos.line + change.text.length - (change.to.line - change.from.line) - 1, ch = pos.ch\n  if (pos.line == change.to.line) { ch += changeEnd(change).ch - change.to.ch }\n  return Pos(line, ch)\n}\n\nfunction computeSelAfterChange(doc, change) {\n  var out = []\n  for (var i = 0; i < doc.sel.ranges.length; i++) {\n    var range = doc.sel.ranges[i]\n    out.push(new Range(adjustForChange(range.anchor, change),\n                       adjustForChange(range.head, change)))\n  }\n  return normalizeSelection(out, doc.sel.primIndex)\n}\n\nfunction offsetPos(pos, old, nw) {\n  if (pos.line == old.line)\n    { return Pos(nw.line, pos.ch - old.ch + nw.ch) }\n  else\n    { return Pos(nw.line + (pos.line - old.line), pos.ch) }\n}\n\n// Used by replaceSelections to allow moving the selection to the\n// start or around the replaced test. Hint may be \"start\" or \"around\".\nfunction computeReplacedSel(doc, changes, hint) {\n  var out = []\n  var oldPrev = Pos(doc.first, 0), newPrev = oldPrev\n  for (var i = 0; i < changes.length; i++) {\n    var change = changes[i]\n    var from = offsetPos(change.from, oldPrev, newPrev)\n    var to = offsetPos(changeEnd(change), oldPrev, newPrev)\n    oldPrev = change.to\n    newPrev = to\n    if (hint == \"around\") {\n      var range = doc.sel.ranges[i], inv = cmp(range.head, range.anchor) < 0\n      out[i] = new Range(inv ? to : from, inv ? from : to)\n    } else {\n      out[i] = new Range(from, from)\n    }\n  }\n  return new Selection(out, doc.sel.primIndex)\n}\n\n// Used to get the editor into a consistent state again when options change.\n\nfunction loadMode(cm) {\n  cm.doc.mode = getMode(cm.options, cm.doc.modeOption)\n  resetModeState(cm)\n}\n\nfunction resetModeState(cm) {\n  cm.doc.iter(function (line) {\n    if (line.stateAfter) { line.stateAfter = null }\n    if (line.styles) { line.styles = null }\n  })\n  cm.doc.modeFrontier = cm.doc.highlightFrontier = cm.doc.first\n  startWorker(cm, 100)\n  cm.state.modeGen++\n  if (cm.curOp) { regChange(cm) }\n}\n\n// DOCUMENT DATA STRUCTURE\n\n// By default, updates that start and end at the beginning of a line\n// are treated specially, in order to make the association of line\n// widgets and marker elements with the text behave more intuitive.\nfunction isWholeLineUpdate(doc, change) {\n  return change.from.ch == 0 && change.to.ch == 0 && lst(change.text) == \"\" &&\n    (!doc.cm || doc.cm.options.wholeLineUpdateBefore)\n}\n\n// Perform a change on the document data structure.\nfunction updateDoc(doc, change, markedSpans, estimateHeight) {\n  function spansFor(n) {return markedSpans ? markedSpans[n] : null}\n  function update(line, text, spans) {\n    updateLine(line, text, spans, estimateHeight)\n    signalLater(line, \"change\", line, change)\n  }\n  function linesFor(start, end) {\n    var result = []\n    for (var i = start; i < end; ++i)\n      { result.push(new Line(text[i], spansFor(i), estimateHeight)) }\n    return result\n  }\n\n  var from = change.from, to = change.to, text = change.text\n  var firstLine = getLine(doc, from.line), lastLine = getLine(doc, to.line)\n  var lastText = lst(text), lastSpans = spansFor(text.length - 1), nlines = to.line - from.line\n\n  // Adjust the line structure\n  if (change.full) {\n    doc.insert(0, linesFor(0, text.length))\n    doc.remove(text.length, doc.size - text.length)\n  } else if (isWholeLineUpdate(doc, change)) {\n    // This is a whole-line replace. Treated specially to make\n    // sure line objects move the way they are supposed to.\n    var added = linesFor(0, text.length - 1)\n    update(lastLine, lastLine.text, lastSpans)\n    if (nlines) { doc.remove(from.line, nlines) }\n    if (added.length) { doc.insert(from.line, added) }\n  } else if (firstLine == lastLine) {\n    if (text.length == 1) {\n      update(firstLine, firstLine.text.slice(0, from.ch) + lastText + firstLine.text.slice(to.ch), lastSpans)\n    } else {\n      var added$1 = linesFor(1, text.length - 1)\n      added$1.push(new Line(lastText + firstLine.text.slice(to.ch), lastSpans, estimateHeight))\n      update(firstLine, firstLine.text.slice(0, from.ch) + text[0], spansFor(0))\n      doc.insert(from.line + 1, added$1)\n    }\n  } else if (text.length == 1) {\n    update(firstLine, firstLine.text.slice(0, from.ch) + text[0] + lastLine.text.slice(to.ch), spansFor(0))\n    doc.remove(from.line + 1, nlines)\n  } else {\n    update(firstLine, firstLine.text.slice(0, from.ch) + text[0], spansFor(0))\n    update(lastLine, lastText + lastLine.text.slice(to.ch), lastSpans)\n    var added$2 = linesFor(1, text.length - 1)\n    if (nlines > 1) { doc.remove(from.line + 1, nlines - 1) }\n    doc.insert(from.line + 1, added$2)\n  }\n\n  signalLater(doc, \"change\", doc, change)\n}\n\n// Call f for all linked documents.\nfunction linkedDocs(doc, f, sharedHistOnly) {\n  function propagate(doc, skip, sharedHist) {\n    if (doc.linked) { for (var i = 0; i < doc.linked.length; ++i) {\n      var rel = doc.linked[i]\n      if (rel.doc == skip) { continue }\n      var shared = sharedHist && rel.sharedHist\n      if (sharedHistOnly && !shared) { continue }\n      f(rel.doc, shared)\n      propagate(rel.doc, doc, shared)\n    } }\n  }\n  propagate(doc, null, true)\n}\n\n// Attach a document to an editor.\nfunction attachDoc(cm, doc) {\n  if (doc.cm) { throw new Error(\"This document is already in use.\") }\n  cm.doc = doc\n  doc.cm = cm\n  estimateLineHeights(cm)\n  loadMode(cm)\n  setDirectionClass(cm)\n  if (!cm.options.lineWrapping) { findMaxLine(cm) }\n  cm.options.mode = doc.modeOption\n  regChange(cm)\n}\n\nfunction setDirectionClass(cm) {\n  ;(cm.doc.direction == \"rtl\" ? addClass : rmClass)(cm.display.lineDiv, \"CodeMirror-rtl\")\n}\n\nfunction directionChanged(cm) {\n  runInOp(cm, function () {\n    setDirectionClass(cm)\n    regChange(cm)\n  })\n}\n\nfunction History(startGen) {\n  // Arrays of change events and selections. Doing something adds an\n  // event to done and clears undo. Undoing moves events from done\n  // to undone, redoing moves them in the other direction.\n  this.done = []; this.undone = []\n  this.undoDepth = Infinity\n  // Used to track when changes can be merged into a single undo\n  // event\n  this.lastModTime = this.lastSelTime = 0\n  this.lastOp = this.lastSelOp = null\n  this.lastOrigin = this.lastSelOrigin = null\n  // Used by the isClean() method\n  this.generation = this.maxGeneration = startGen || 1\n}\n\n// Create a history change event from an updateDoc-style change\n// object.\nfunction historyChangeFromChange(doc, change) {\n  var histChange = {from: copyPos(change.from), to: changeEnd(change), text: getBetween(doc, change.from, change.to)}\n  attachLocalSpans(doc, histChange, change.from.line, change.to.line + 1)\n  linkedDocs(doc, function (doc) { return attachLocalSpans(doc, histChange, change.from.line, change.to.line + 1); }, true)\n  return histChange\n}\n\n// Pop all selection events off the end of a history array. Stop at\n// a change event.\nfunction clearSelectionEvents(array) {\n  while (array.length) {\n    var last = lst(array)\n    if (last.ranges) { array.pop() }\n    else { break }\n  }\n}\n\n// Find the top change event in the history. Pop off selection\n// events that are in the way.\nfunction lastChangeEvent(hist, force) {\n  if (force) {\n    clearSelectionEvents(hist.done)\n    return lst(hist.done)\n  } else if (hist.done.length && !lst(hist.done).ranges) {\n    return lst(hist.done)\n  } else if (hist.done.length > 1 && !hist.done[hist.done.length - 2].ranges) {\n    hist.done.pop()\n    return lst(hist.done)\n  }\n}\n\n// Register a change in the history. Merges changes that are within\n// a single operation, or are close together with an origin that\n// allows merging (starting with \"+\") into a single event.\nfunction addChangeToHistory(doc, change, selAfter, opId) {\n  var hist = doc.history\n  hist.undone.length = 0\n  var time = +new Date, cur\n  var last\n\n  if ((hist.lastOp == opId ||\n       hist.lastOrigin == change.origin && change.origin &&\n       ((change.origin.charAt(0) == \"+\" && doc.cm && hist.lastModTime > time - doc.cm.options.historyEventDelay) ||\n        change.origin.charAt(0) == \"*\")) &&\n      (cur = lastChangeEvent(hist, hist.lastOp == opId))) {\n    // Merge this change into the last event\n    last = lst(cur.changes)\n    if (cmp(change.from, change.to) == 0 && cmp(change.from, last.to) == 0) {\n      // Optimized case for simple insertion -- don't want to add\n      // new changesets for every character typed\n      last.to = changeEnd(change)\n    } else {\n      // Add new sub-event\n      cur.changes.push(historyChangeFromChange(doc, change))\n    }\n  } else {\n    // Can not be merged, start a new event.\n    var before = lst(hist.done)\n    if (!before || !before.ranges)\n      { pushSelectionToHistory(doc.sel, hist.done) }\n    cur = {changes: [historyChangeFromChange(doc, change)],\n           generation: hist.generation}\n    hist.done.push(cur)\n    while (hist.done.length > hist.undoDepth) {\n      hist.done.shift()\n      if (!hist.done[0].ranges) { hist.done.shift() }\n    }\n  }\n  hist.done.push(selAfter)\n  hist.generation = ++hist.maxGeneration\n  hist.lastModTime = hist.lastSelTime = time\n  hist.lastOp = hist.lastSelOp = opId\n  hist.lastOrigin = hist.lastSelOrigin = change.origin\n\n  if (!last) { signal(doc, \"historyAdded\") }\n}\n\nfunction selectionEventCanBeMerged(doc, origin, prev, sel) {\n  var ch = origin.charAt(0)\n  return ch == \"*\" ||\n    ch == \"+\" &&\n    prev.ranges.length == sel.ranges.length &&\n    prev.somethingSelected() == sel.somethingSelected() &&\n    new Date - doc.history.lastSelTime <= (doc.cm ? doc.cm.options.historyEventDelay : 500)\n}\n\n// Called whenever the selection changes, sets the new selection as\n// the pending selection in the history, and pushes the old pending\n// selection into the 'done' array when it was significantly\n// different (in number of selected ranges, emptiness, or time).\nfunction addSelectionToHistory(doc, sel, opId, options) {\n  var hist = doc.history, origin = options && options.origin\n\n  // A new event is started when the previous origin does not match\n  // the current, or the origins don't allow matching. Origins\n  // starting with * are always merged, those starting with + are\n  // merged when similar and close together in time.\n  if (opId == hist.lastSelOp ||\n      (origin && hist.lastSelOrigin == origin &&\n       (hist.lastModTime == hist.lastSelTime && hist.lastOrigin == origin ||\n        selectionEventCanBeMerged(doc, origin, lst(hist.done), sel))))\n    { hist.done[hist.done.length - 1] = sel }\n  else\n    { pushSelectionToHistory(sel, hist.done) }\n\n  hist.lastSelTime = +new Date\n  hist.lastSelOrigin = origin\n  hist.lastSelOp = opId\n  if (options && options.clearRedo !== false)\n    { clearSelectionEvents(hist.undone) }\n}\n\nfunction pushSelectionToHistory(sel, dest) {\n  var top = lst(dest)\n  if (!(top && top.ranges && top.equals(sel)))\n    { dest.push(sel) }\n}\n\n// Used to store marked span information in the history.\nfunction attachLocalSpans(doc, change, from, to) {\n  var existing = change[\"spans_\" + doc.id], n = 0\n  doc.iter(Math.max(doc.first, from), Math.min(doc.first + doc.size, to), function (line) {\n    if (line.markedSpans)\n      { (existing || (existing = change[\"spans_\" + doc.id] = {}))[n] = line.markedSpans }\n    ++n\n  })\n}\n\n// When un/re-doing restores text containing marked spans, those\n// that have been explicitly cleared should not be restored.\nfunction removeClearedSpans(spans) {\n  if (!spans) { return null }\n  var out\n  for (var i = 0; i < spans.length; ++i) {\n    if (spans[i].marker.explicitlyCleared) { if (!out) { out = spans.slice(0, i) } }\n    else if (out) { out.push(spans[i]) }\n  }\n  return !out ? spans : out.length ? out : null\n}\n\n// Retrieve and filter the old marked spans stored in a change event.\nfunction getOldSpans(doc, change) {\n  var found = change[\"spans_\" + doc.id]\n  if (!found) { return null }\n  var nw = []\n  for (var i = 0; i < change.text.length; ++i)\n    { nw.push(removeClearedSpans(found[i])) }\n  return nw\n}\n\n// Used for un/re-doing changes from the history. Combines the\n// result of computing the existing spans with the set of spans that\n// existed in the history (so that deleting around a span and then\n// undoing brings back the span).\nfunction mergeOldSpans(doc, change) {\n  var old = getOldSpans(doc, change)\n  var stretched = stretchSpansOverChange(doc, change)\n  if (!old) { return stretched }\n  if (!stretched) { return old }\n\n  for (var i = 0; i < old.length; ++i) {\n    var oldCur = old[i], stretchCur = stretched[i]\n    if (oldCur && stretchCur) {\n      spans: for (var j = 0; j < stretchCur.length; ++j) {\n        var span = stretchCur[j]\n        for (var k = 0; k < oldCur.length; ++k)\n          { if (oldCur[k].marker == span.marker) { continue spans } }\n        oldCur.push(span)\n      }\n    } else if (stretchCur) {\n      old[i] = stretchCur\n    }\n  }\n  return old\n}\n\n// Used both to provide a JSON-safe object in .getHistory, and, when\n// detaching a document, to split the history in two\nfunction copyHistoryArray(events, newGroup, instantiateSel) {\n  var copy = []\n  for (var i = 0; i < events.length; ++i) {\n    var event = events[i]\n    if (event.ranges) {\n      copy.push(instantiateSel ? Selection.prototype.deepCopy.call(event) : event)\n      continue\n    }\n    var changes = event.changes, newChanges = []\n    copy.push({changes: newChanges})\n    for (var j = 0; j < changes.length; ++j) {\n      var change = changes[j], m = (void 0)\n      newChanges.push({from: change.from, to: change.to, text: change.text})\n      if (newGroup) { for (var prop in change) { if (m = prop.match(/^spans_(\\d+)$/)) {\n        if (indexOf(newGroup, Number(m[1])) > -1) {\n          lst(newChanges)[prop] = change[prop]\n          delete change[prop]\n        }\n      } } }\n    }\n  }\n  return copy\n}\n\n// The 'scroll' parameter given to many of these indicated whether\n// the new cursor position should be scrolled into view after\n// modifying the selection.\n\n// If shift is held or the extend flag is set, extends a range to\n// include a given position (and optionally a second position).\n// Otherwise, simply returns the range between the given positions.\n// Used for cursor motion and such.\nfunction extendRange(range, head, other, extend) {\n  if (extend) {\n    var anchor = range.anchor\n    if (other) {\n      var posBefore = cmp(head, anchor) < 0\n      if (posBefore != (cmp(other, anchor) < 0)) {\n        anchor = head\n        head = other\n      } else if (posBefore != (cmp(head, other) < 0)) {\n        head = other\n      }\n    }\n    return new Range(anchor, head)\n  } else {\n    return new Range(other || head, head)\n  }\n}\n\n// Extend the primary selection range, discard the rest.\nfunction extendSelection(doc, head, other, options, extend) {\n  if (extend == null) { extend = doc.cm && (doc.cm.display.shift || doc.extend) }\n  setSelection(doc, new Selection([extendRange(doc.sel.primary(), head, other, extend)], 0), options)\n}\n\n// Extend all selections (pos is an array of selections with length\n// equal the number of selections)\nfunction extendSelections(doc, heads, options) {\n  var out = []\n  var extend = doc.cm && (doc.cm.display.shift || doc.extend)\n  for (var i = 0; i < doc.sel.ranges.length; i++)\n    { out[i] = extendRange(doc.sel.ranges[i], heads[i], null, extend) }\n  var newSel = normalizeSelection(out, doc.sel.primIndex)\n  setSelection(doc, newSel, options)\n}\n\n// Updates a single range in the selection.\nfunction replaceOneSelection(doc, i, range, options) {\n  var ranges = doc.sel.ranges.slice(0)\n  ranges[i] = range\n  setSelection(doc, normalizeSelection(ranges, doc.sel.primIndex), options)\n}\n\n// Reset the selection to a single range.\nfunction setSimpleSelection(doc, anchor, head, options) {\n  setSelection(doc, simpleSelection(anchor, head), options)\n}\n\n// Give beforeSelectionChange handlers a change to influence a\n// selection update.\nfunction filterSelectionChange(doc, sel, options) {\n  var obj = {\n    ranges: sel.ranges,\n    update: function(ranges) {\n      var this$1 = this;\n\n      this.ranges = []\n      for (var i = 0; i < ranges.length; i++)\n        { this$1.ranges[i] = new Range(clipPos(doc, ranges[i].anchor),\n                                   clipPos(doc, ranges[i].head)) }\n    },\n    origin: options && options.origin\n  }\n  signal(doc, \"beforeSelectionChange\", doc, obj)\n  if (doc.cm) { signal(doc.cm, \"beforeSelectionChange\", doc.cm, obj) }\n  if (obj.ranges != sel.ranges) { return normalizeSelection(obj.ranges, obj.ranges.length - 1) }\n  else { return sel }\n}\n\nfunction setSelectionReplaceHistory(doc, sel, options) {\n  var done = doc.history.done, last = lst(done)\n  if (last && last.ranges) {\n    done[done.length - 1] = sel\n    setSelectionNoUndo(doc, sel, options)\n  } else {\n    setSelection(doc, sel, options)\n  }\n}\n\n// Set a new selection.\nfunction setSelection(doc, sel, options) {\n  setSelectionNoUndo(doc, sel, options)\n  addSelectionToHistory(doc, doc.sel, doc.cm ? doc.cm.curOp.id : NaN, options)\n}\n\nfunction setSelectionNoUndo(doc, sel, options) {\n  if (hasHandler(doc, \"beforeSelectionChange\") || doc.cm && hasHandler(doc.cm, \"beforeSelectionChange\"))\n    { sel = filterSelectionChange(doc, sel, options) }\n\n  var bias = options && options.bias ||\n    (cmp(sel.primary().head, doc.sel.primary().head) < 0 ? -1 : 1)\n  setSelectionInner(doc, skipAtomicInSelection(doc, sel, bias, true))\n\n  if (!(options && options.scroll === false) && doc.cm)\n    { ensureCursorVisible(doc.cm) }\n}\n\nfunction setSelectionInner(doc, sel) {\n  if (sel.equals(doc.sel)) { return }\n\n  doc.sel = sel\n\n  if (doc.cm) {\n    doc.cm.curOp.updateInput = doc.cm.curOp.selectionChanged = true\n    signalCursorActivity(doc.cm)\n  }\n  signalLater(doc, \"cursorActivity\", doc)\n}\n\n// Verify that the selection does not partially select any atomic\n// marked ranges.\nfunction reCheckSelection(doc) {\n  setSelectionInner(doc, skipAtomicInSelection(doc, doc.sel, null, false))\n}\n\n// Return a selection that does not partially select any atomic\n// ranges.\nfunction skipAtomicInSelection(doc, sel, bias, mayClear) {\n  var out\n  for (var i = 0; i < sel.ranges.length; i++) {\n    var range = sel.ranges[i]\n    var old = sel.ranges.length == doc.sel.ranges.length && doc.sel.ranges[i]\n    var newAnchor = skipAtomic(doc, range.anchor, old && old.anchor, bias, mayClear)\n    var newHead = skipAtomic(doc, range.head, old && old.head, bias, mayClear)\n    if (out || newAnchor != range.anchor || newHead != range.head) {\n      if (!out) { out = sel.ranges.slice(0, i) }\n      out[i] = new Range(newAnchor, newHead)\n    }\n  }\n  return out ? normalizeSelection(out, sel.primIndex) : sel\n}\n\nfunction skipAtomicInner(doc, pos, oldPos, dir, mayClear) {\n  var line = getLine(doc, pos.line)\n  if (line.markedSpans) { for (var i = 0; i < line.markedSpans.length; ++i) {\n    var sp = line.markedSpans[i], m = sp.marker\n    if ((sp.from == null || (m.inclusiveLeft ? sp.from <= pos.ch : sp.from < pos.ch)) &&\n        (sp.to == null || (m.inclusiveRight ? sp.to >= pos.ch : sp.to > pos.ch))) {\n      if (mayClear) {\n        signal(m, \"beforeCursorEnter\")\n        if (m.explicitlyCleared) {\n          if (!line.markedSpans) { break }\n          else {--i; continue}\n        }\n      }\n      if (!m.atomic) { continue }\n\n      if (oldPos) {\n        var near = m.find(dir < 0 ? 1 : -1), diff = (void 0)\n        if (dir < 0 ? m.inclusiveRight : m.inclusiveLeft)\n          { near = movePos(doc, near, -dir, near && near.line == pos.line ? line : null) }\n        if (near && near.line == pos.line && (diff = cmp(near, oldPos)) && (dir < 0 ? diff < 0 : diff > 0))\n          { return skipAtomicInner(doc, near, pos, dir, mayClear) }\n      }\n\n      var far = m.find(dir < 0 ? -1 : 1)\n      if (dir < 0 ? m.inclusiveLeft : m.inclusiveRight)\n        { far = movePos(doc, far, dir, far.line == pos.line ? line : null) }\n      return far ? skipAtomicInner(doc, far, pos, dir, mayClear) : null\n    }\n  } }\n  return pos\n}\n\n// Ensure a given position is not inside an atomic range.\nfunction skipAtomic(doc, pos, oldPos, bias, mayClear) {\n  var dir = bias || 1\n  var found = skipAtomicInner(doc, pos, oldPos, dir, mayClear) ||\n      (!mayClear && skipAtomicInner(doc, pos, oldPos, dir, true)) ||\n      skipAtomicInner(doc, pos, oldPos, -dir, mayClear) ||\n      (!mayClear && skipAtomicInner(doc, pos, oldPos, -dir, true))\n  if (!found) {\n    doc.cantEdit = true\n    return Pos(doc.first, 0)\n  }\n  return found\n}\n\nfunction movePos(doc, pos, dir, line) {\n  if (dir < 0 && pos.ch == 0) {\n    if (pos.line > doc.first) { return clipPos(doc, Pos(pos.line - 1)) }\n    else { return null }\n  } else if (dir > 0 && pos.ch == (line || getLine(doc, pos.line)).text.length) {\n    if (pos.line < doc.first + doc.size - 1) { return Pos(pos.line + 1, 0) }\n    else { return null }\n  } else {\n    return new Pos(pos.line, pos.ch + dir)\n  }\n}\n\nfunction selectAll(cm) {\n  cm.setSelection(Pos(cm.firstLine(), 0), Pos(cm.lastLine()), sel_dontScroll)\n}\n\n// UPDATING\n\n// Allow \"beforeChange\" event handlers to influence a change\nfunction filterChange(doc, change, update) {\n  var obj = {\n    canceled: false,\n    from: change.from,\n    to: change.to,\n    text: change.text,\n    origin: change.origin,\n    cancel: function () { return obj.canceled = true; }\n  }\n  if (update) { obj.update = function (from, to, text, origin) {\n    if (from) { obj.from = clipPos(doc, from) }\n    if (to) { obj.to = clipPos(doc, to) }\n    if (text) { obj.text = text }\n    if (origin !== undefined) { obj.origin = origin }\n  } }\n  signal(doc, \"beforeChange\", doc, obj)\n  if (doc.cm) { signal(doc.cm, \"beforeChange\", doc.cm, obj) }\n\n  if (obj.canceled) { return null }\n  return {from: obj.from, to: obj.to, text: obj.text, origin: obj.origin}\n}\n\n// Apply a change to a document, and add it to the document's\n// history, and propagating it to all linked documents.\nfunction makeChange(doc, change, ignoreReadOnly) {\n  if (doc.cm) {\n    if (!doc.cm.curOp) { return operation(doc.cm, makeChange)(doc, change, ignoreReadOnly) }\n    if (doc.cm.state.suppressEdits) { return }\n  }\n\n  if (hasHandler(doc, \"beforeChange\") || doc.cm && hasHandler(doc.cm, \"beforeChange\")) {\n    change = filterChange(doc, change, true)\n    if (!change) { return }\n  }\n\n  // Possibly split or suppress the update based on the presence\n  // of read-only spans in its range.\n  var split = sawReadOnlySpans && !ignoreReadOnly && removeReadOnlyRanges(doc, change.from, change.to)\n  if (split) {\n    for (var i = split.length - 1; i >= 0; --i)\n      { makeChangeInner(doc, {from: split[i].from, to: split[i].to, text: i ? [\"\"] : change.text, origin: change.origin}) }\n  } else {\n    makeChangeInner(doc, change)\n  }\n}\n\nfunction makeChangeInner(doc, change) {\n  if (change.text.length == 1 && change.text[0] == \"\" && cmp(change.from, change.to) == 0) { return }\n  var selAfter = computeSelAfterChange(doc, change)\n  addChangeToHistory(doc, change, selAfter, doc.cm ? doc.cm.curOp.id : NaN)\n\n  makeChangeSingleDoc(doc, change, selAfter, stretchSpansOverChange(doc, change))\n  var rebased = []\n\n  linkedDocs(doc, function (doc, sharedHist) {\n    if (!sharedHist && indexOf(rebased, doc.history) == -1) {\n      rebaseHist(doc.history, change)\n      rebased.push(doc.history)\n    }\n    makeChangeSingleDoc(doc, change, null, stretchSpansOverChange(doc, change))\n  })\n}\n\n// Revert a change stored in a document's history.\nfunction makeChangeFromHistory(doc, type, allowSelectionOnly) {\n  if (doc.cm && doc.cm.state.suppressEdits && !allowSelectionOnly) { return }\n\n  var hist = doc.history, event, selAfter = doc.sel\n  var source = type == \"undo\" ? hist.done : hist.undone, dest = type == \"undo\" ? hist.undone : hist.done\n\n  // Verify that there is a useable event (so that ctrl-z won't\n  // needlessly clear selection events)\n  var i = 0\n  for (; i < source.length; i++) {\n    event = source[i]\n    if (allowSelectionOnly ? event.ranges && !event.equals(doc.sel) : !event.ranges)\n      { break }\n  }\n  if (i == source.length) { return }\n  hist.lastOrigin = hist.lastSelOrigin = null\n\n  for (;;) {\n    event = source.pop()\n    if (event.ranges) {\n      pushSelectionToHistory(event, dest)\n      if (allowSelectionOnly && !event.equals(doc.sel)) {\n        setSelection(doc, event, {clearRedo: false})\n        return\n      }\n      selAfter = event\n    }\n    else { break }\n  }\n\n  // Build up a reverse change object to add to the opposite history\n  // stack (redo when undoing, and vice versa).\n  var antiChanges = []\n  pushSelectionToHistory(selAfter, dest)\n  dest.push({changes: antiChanges, generation: hist.generation})\n  hist.generation = event.generation || ++hist.maxGeneration\n\n  var filter = hasHandler(doc, \"beforeChange\") || doc.cm && hasHandler(doc.cm, \"beforeChange\")\n\n  var loop = function ( i ) {\n    var change = event.changes[i]\n    change.origin = type\n    if (filter && !filterChange(doc, change, false)) {\n      source.length = 0\n      return {}\n    }\n\n    antiChanges.push(historyChangeFromChange(doc, change))\n\n    var after = i ? computeSelAfterChange(doc, change) : lst(source)\n    makeChangeSingleDoc(doc, change, after, mergeOldSpans(doc, change))\n    if (!i && doc.cm) { doc.cm.scrollIntoView({from: change.from, to: changeEnd(change)}) }\n    var rebased = []\n\n    // Propagate to the linked documents\n    linkedDocs(doc, function (doc, sharedHist) {\n      if (!sharedHist && indexOf(rebased, doc.history) == -1) {\n        rebaseHist(doc.history, change)\n        rebased.push(doc.history)\n      }\n      makeChangeSingleDoc(doc, change, null, mergeOldSpans(doc, change))\n    })\n  };\n\n  for (var i$1 = event.changes.length - 1; i$1 >= 0; --i$1) {\n    var returned = loop( i$1 );\n\n    if ( returned ) return returned.v;\n  }\n}\n\n// Sub-views need their line numbers shifted when text is added\n// above or below them in the parent document.\nfunction shiftDoc(doc, distance) {\n  if (distance == 0) { return }\n  doc.first += distance\n  doc.sel = new Selection(map(doc.sel.ranges, function (range) { return new Range(\n    Pos(range.anchor.line + distance, range.anchor.ch),\n    Pos(range.head.line + distance, range.head.ch)\n  ); }), doc.sel.primIndex)\n  if (doc.cm) {\n    regChange(doc.cm, doc.first, doc.first - distance, distance)\n    for (var d = doc.cm.display, l = d.viewFrom; l < d.viewTo; l++)\n      { regLineChange(doc.cm, l, \"gutter\") }\n  }\n}\n\n// More lower-level change function, handling only a single document\n// (not linked ones).\nfunction makeChangeSingleDoc(doc, change, selAfter, spans) {\n  if (doc.cm && !doc.cm.curOp)\n    { return operation(doc.cm, makeChangeSingleDoc)(doc, change, selAfter, spans) }\n\n  if (change.to.line < doc.first) {\n    shiftDoc(doc, change.text.length - 1 - (change.to.line - change.from.line))\n    return\n  }\n  if (change.from.line > doc.lastLine()) { return }\n\n  // Clip the change to the size of this doc\n  if (change.from.line < doc.first) {\n    var shift = change.text.length - 1 - (doc.first - change.from.line)\n    shiftDoc(doc, shift)\n    change = {from: Pos(doc.first, 0), to: Pos(change.to.line + shift, change.to.ch),\n              text: [lst(change.text)], origin: change.origin}\n  }\n  var last = doc.lastLine()\n  if (change.to.line > last) {\n    change = {from: change.from, to: Pos(last, getLine(doc, last).text.length),\n              text: [change.text[0]], origin: change.origin}\n  }\n\n  change.removed = getBetween(doc, change.from, change.to)\n\n  if (!selAfter) { selAfter = computeSelAfterChange(doc, change) }\n  if (doc.cm) { makeChangeSingleDocInEditor(doc.cm, change, spans) }\n  else { updateDoc(doc, change, spans) }\n  setSelectionNoUndo(doc, selAfter, sel_dontScroll)\n}\n\n// Handle the interaction of a change to a document with the editor\n// that this document is part of.\nfunction makeChangeSingleDocInEditor(cm, change, spans) {\n  var doc = cm.doc, display = cm.display, from = change.from, to = change.to\n\n  var recomputeMaxLength = false, checkWidthStart = from.line\n  if (!cm.options.lineWrapping) {\n    checkWidthStart = lineNo(visualLine(getLine(doc, from.line)))\n    doc.iter(checkWidthStart, to.line + 1, function (line) {\n      if (line == display.maxLine) {\n        recomputeMaxLength = true\n        return true\n      }\n    })\n  }\n\n  if (doc.sel.contains(change.from, change.to) > -1)\n    { signalCursorActivity(cm) }\n\n  updateDoc(doc, change, spans, estimateHeight(cm))\n\n  if (!cm.options.lineWrapping) {\n    doc.iter(checkWidthStart, from.line + change.text.length, function (line) {\n      var len = lineLength(line)\n      if (len > display.maxLineLength) {\n        display.maxLine = line\n        display.maxLineLength = len\n        display.maxLineChanged = true\n        recomputeMaxLength = false\n      }\n    })\n    if (recomputeMaxLength) { cm.curOp.updateMaxLine = true }\n  }\n\n  retreatFrontier(doc, from.line)\n  startWorker(cm, 400)\n\n  var lendiff = change.text.length - (to.line - from.line) - 1\n  // Remember that these lines changed, for updating the display\n  if (change.full)\n    { regChange(cm) }\n  else if (from.line == to.line && change.text.length == 1 && !isWholeLineUpdate(cm.doc, change))\n    { regLineChange(cm, from.line, \"text\") }\n  else\n    { regChange(cm, from.line, to.line + 1, lendiff) }\n\n  var changesHandler = hasHandler(cm, \"changes\"), changeHandler = hasHandler(cm, \"change\")\n  if (changeHandler || changesHandler) {\n    var obj = {\n      from: from, to: to,\n      text: change.text,\n      removed: change.removed,\n      origin: change.origin\n    }\n    if (changeHandler) { signalLater(cm, \"change\", cm, obj) }\n    if (changesHandler) { (cm.curOp.changeObjs || (cm.curOp.changeObjs = [])).push(obj) }\n  }\n  cm.display.selForContextMenu = null\n}\n\nfunction replaceRange(doc, code, from, to, origin) {\n  if (!to) { to = from }\n  if (cmp(to, from) < 0) { var assign;\n    (assign = [to, from], from = assign[0], to = assign[1], assign) }\n  if (typeof code == \"string\") { code = doc.splitLines(code) }\n  makeChange(doc, {from: from, to: to, text: code, origin: origin})\n}\n\n// Rebasing/resetting history to deal with externally-sourced changes\n\nfunction rebaseHistSelSingle(pos, from, to, diff) {\n  if (to < pos.line) {\n    pos.line += diff\n  } else if (from < pos.line) {\n    pos.line = from\n    pos.ch = 0\n  }\n}\n\n// Tries to rebase an array of history events given a change in the\n// document. If the change touches the same lines as the event, the\n// event, and everything 'behind' it, is discarded. If the change is\n// before the event, the event's positions are updated. Uses a\n// copy-on-write scheme for the positions, to avoid having to\n// reallocate them all on every rebase, but also avoid problems with\n// shared position objects being unsafely updated.\nfunction rebaseHistArray(array, from, to, diff) {\n  for (var i = 0; i < array.length; ++i) {\n    var sub = array[i], ok = true\n    if (sub.ranges) {\n      if (!sub.copied) { sub = array[i] = sub.deepCopy(); sub.copied = true }\n      for (var j = 0; j < sub.ranges.length; j++) {\n        rebaseHistSelSingle(sub.ranges[j].anchor, from, to, diff)\n        rebaseHistSelSingle(sub.ranges[j].head, from, to, diff)\n      }\n      continue\n    }\n    for (var j$1 = 0; j$1 < sub.changes.length; ++j$1) {\n      var cur = sub.changes[j$1]\n      if (to < cur.from.line) {\n        cur.from = Pos(cur.from.line + diff, cur.from.ch)\n        cur.to = Pos(cur.to.line + diff, cur.to.ch)\n      } else if (from <= cur.to.line) {\n        ok = false\n        break\n      }\n    }\n    if (!ok) {\n      array.splice(0, i + 1)\n      i = 0\n    }\n  }\n}\n\nfunction rebaseHist(hist, change) {\n  var from = change.from.line, to = change.to.line, diff = change.text.length - (to - from) - 1\n  rebaseHistArray(hist.done, from, to, diff)\n  rebaseHistArray(hist.undone, from, to, diff)\n}\n\n// Utility for applying a change to a line by handle or number,\n// returning the number and optionally registering the line as\n// changed.\nfunction changeLine(doc, handle, changeType, op) {\n  var no = handle, line = handle\n  if (typeof handle == \"number\") { line = getLine(doc, clipLine(doc, handle)) }\n  else { no = lineNo(handle) }\n  if (no == null) { return null }\n  if (op(line, no) && doc.cm) { regLineChange(doc.cm, no, changeType) }\n  return line\n}\n\n// The document is represented as a BTree consisting of leaves, with\n// chunk of lines in them, and branches, with up to ten leaves or\n// other branch nodes below them. The top node is always a branch\n// node, and is the document object itself (meaning it has\n// additional methods and properties).\n//\n// All nodes have parent links. The tree is used both to go from\n// line numbers to line objects, and to go from objects to numbers.\n// It also indexes by height, and is used to convert between height\n// and line object, and to find the total height of the document.\n//\n// See also http://marijnhaverbeke.nl/blog/codemirror-line-tree.html\n\nfunction LeafChunk(lines) {\n  var this$1 = this;\n\n  this.lines = lines\n  this.parent = null\n  var height = 0\n  for (var i = 0; i < lines.length; ++i) {\n    lines[i].parent = this$1\n    height += lines[i].height\n  }\n  this.height = height\n}\n\nLeafChunk.prototype = {\n  chunkSize: function chunkSize() { return this.lines.length },\n\n  // Remove the n lines at offset 'at'.\n  removeInner: function removeInner(at, n) {\n    var this$1 = this;\n\n    for (var i = at, e = at + n; i < e; ++i) {\n      var line = this$1.lines[i]\n      this$1.height -= line.height\n      cleanUpLine(line)\n      signalLater(line, \"delete\")\n    }\n    this.lines.splice(at, n)\n  },\n\n  // Helper used to collapse a small branch into a single leaf.\n  collapse: function collapse(lines) {\n    lines.push.apply(lines, this.lines)\n  },\n\n  // Insert the given array of lines at offset 'at', count them as\n  // having the given height.\n  insertInner: function insertInner(at, lines, height) {\n    var this$1 = this;\n\n    this.height += height\n    this.lines = this.lines.slice(0, at).concat(lines).concat(this.lines.slice(at))\n    for (var i = 0; i < lines.length; ++i) { lines[i].parent = this$1 }\n  },\n\n  // Used to iterate over a part of the tree.\n  iterN: function iterN(at, n, op) {\n    var this$1 = this;\n\n    for (var e = at + n; at < e; ++at)\n      { if (op(this$1.lines[at])) { return true } }\n  }\n}\n\nfunction BranchChunk(children) {\n  var this$1 = this;\n\n  this.children = children\n  var size = 0, height = 0\n  for (var i = 0; i < children.length; ++i) {\n    var ch = children[i]\n    size += ch.chunkSize(); height += ch.height\n    ch.parent = this$1\n  }\n  this.size = size\n  this.height = height\n  this.parent = null\n}\n\nBranchChunk.prototype = {\n  chunkSize: function chunkSize() { return this.size },\n\n  removeInner: function removeInner(at, n) {\n    var this$1 = this;\n\n    this.size -= n\n    for (var i = 0; i < this.children.length; ++i) {\n      var child = this$1.children[i], sz = child.chunkSize()\n      if (at < sz) {\n        var rm = Math.min(n, sz - at), oldHeight = child.height\n        child.removeInner(at, rm)\n        this$1.height -= oldHeight - child.height\n        if (sz == rm) { this$1.children.splice(i--, 1); child.parent = null }\n        if ((n -= rm) == 0) { break }\n        at = 0\n      } else { at -= sz }\n    }\n    // If the result is smaller than 25 lines, ensure that it is a\n    // single leaf node.\n    if (this.size - n < 25 &&\n        (this.children.length > 1 || !(this.children[0] instanceof LeafChunk))) {\n      var lines = []\n      this.collapse(lines)\n      this.children = [new LeafChunk(lines)]\n      this.children[0].parent = this\n    }\n  },\n\n  collapse: function collapse(lines) {\n    var this$1 = this;\n\n    for (var i = 0; i < this.children.length; ++i) { this$1.children[i].collapse(lines) }\n  },\n\n  insertInner: function insertInner(at, lines, height) {\n    var this$1 = this;\n\n    this.size += lines.length\n    this.height += height\n    for (var i = 0; i < this.children.length; ++i) {\n      var child = this$1.children[i], sz = child.chunkSize()\n      if (at <= sz) {\n        child.insertInner(at, lines, height)\n        if (child.lines && child.lines.length > 50) {\n          // To avoid memory thrashing when child.lines is huge (e.g. first view of a large file), it's never spliced.\n          // Instead, small slices are taken. They're taken in order because sequential memory accesses are fastest.\n          var remaining = child.lines.length % 25 + 25\n          for (var pos = remaining; pos < child.lines.length;) {\n            var leaf = new LeafChunk(child.lines.slice(pos, pos += 25))\n            child.height -= leaf.height\n            this$1.children.splice(++i, 0, leaf)\n            leaf.parent = this$1\n          }\n          child.lines = child.lines.slice(0, remaining)\n          this$1.maybeSpill()\n        }\n        break\n      }\n      at -= sz\n    }\n  },\n\n  // When a node has grown, check whether it should be split.\n  maybeSpill: function maybeSpill() {\n    if (this.children.length <= 10) { return }\n    var me = this\n    do {\n      var spilled = me.children.splice(me.children.length - 5, 5)\n      var sibling = new BranchChunk(spilled)\n      if (!me.parent) { // Become the parent node\n        var copy = new BranchChunk(me.children)\n        copy.parent = me\n        me.children = [copy, sibling]\n        me = copy\n     } else {\n        me.size -= sibling.size\n        me.height -= sibling.height\n        var myIndex = indexOf(me.parent.children, me)\n        me.parent.children.splice(myIndex + 1, 0, sibling)\n      }\n      sibling.parent = me.parent\n    } while (me.children.length > 10)\n    me.parent.maybeSpill()\n  },\n\n  iterN: function iterN(at, n, op) {\n    var this$1 = this;\n\n    for (var i = 0; i < this.children.length; ++i) {\n      var child = this$1.children[i], sz = child.chunkSize()\n      if (at < sz) {\n        var used = Math.min(n, sz - at)\n        if (child.iterN(at, used, op)) { return true }\n        if ((n -= used) == 0) { break }\n        at = 0\n      } else { at -= sz }\n    }\n  }\n}\n\n// Line widgets are block elements displayed above or below a line.\n\nvar LineWidget = function(doc, node, options) {\n  var this$1 = this;\n\n  if (options) { for (var opt in options) { if (options.hasOwnProperty(opt))\n    { this$1[opt] = options[opt] } } }\n  this.doc = doc\n  this.node = node\n};\n\nLineWidget.prototype.clear = function () {\n    var this$1 = this;\n\n  var cm = this.doc.cm, ws = this.line.widgets, line = this.line, no = lineNo(line)\n  if (no == null || !ws) { return }\n  for (var i = 0; i < ws.length; ++i) { if (ws[i] == this$1) { ws.splice(i--, 1) } }\n  if (!ws.length) { line.widgets = null }\n  var height = widgetHeight(this)\n  updateLineHeight(line, Math.max(0, line.height - height))\n  if (cm) {\n    runInOp(cm, function () {\n      adjustScrollWhenAboveVisible(cm, line, -height)\n      regLineChange(cm, no, \"widget\")\n    })\n    signalLater(cm, \"lineWidgetCleared\", cm, this, no)\n  }\n};\n\nLineWidget.prototype.changed = function () {\n    var this$1 = this;\n\n  var oldH = this.height, cm = this.doc.cm, line = this.line\n  this.height = null\n  var diff = widgetHeight(this) - oldH\n  if (!diff) { return }\n  updateLineHeight(line, line.height + diff)\n  if (cm) {\n    runInOp(cm, function () {\n      cm.curOp.forceUpdate = true\n      adjustScrollWhenAboveVisible(cm, line, diff)\n      signalLater(cm, \"lineWidgetChanged\", cm, this$1, lineNo(line))\n    })\n  }\n};\neventMixin(LineWidget)\n\nfunction adjustScrollWhenAboveVisible(cm, line, diff) {\n  if (heightAtLine(line) < ((cm.curOp && cm.curOp.scrollTop) || cm.doc.scrollTop))\n    { addToScrollTop(cm, diff) }\n}\n\nfunction addLineWidget(doc, handle, node, options) {\n  var widget = new LineWidget(doc, node, options)\n  var cm = doc.cm\n  if (cm && widget.noHScroll) { cm.display.alignWidgets = true }\n  changeLine(doc, handle, \"widget\", function (line) {\n    var widgets = line.widgets || (line.widgets = [])\n    if (widget.insertAt == null) { widgets.push(widget) }\n    else { widgets.splice(Math.min(widgets.length - 1, Math.max(0, widget.insertAt)), 0, widget) }\n    widget.line = line\n    if (cm && !lineIsHidden(doc, line)) {\n      var aboveVisible = heightAtLine(line) < doc.scrollTop\n      updateLineHeight(line, line.height + widgetHeight(widget))\n      if (aboveVisible) { addToScrollTop(cm, widget.height) }\n      cm.curOp.forceUpdate = true\n    }\n    return true\n  })\n  signalLater(cm, \"lineWidgetAdded\", cm, widget, typeof handle == \"number\" ? handle : lineNo(handle))\n  return widget\n}\n\n// TEXTMARKERS\n\n// Created with markText and setBookmark methods. A TextMarker is a\n// handle that can be used to clear or find a marked position in the\n// document. Line objects hold arrays (markedSpans) containing\n// {from, to, marker} object pointing to such marker objects, and\n// indicating that such a marker is present on that line. Multiple\n// lines may point to the same marker when it spans across lines.\n// The spans will have null for their from/to properties when the\n// marker continues beyond the start/end of the line. Markers have\n// links back to the lines they currently touch.\n\n// Collapsed markers have unique ids, in order to be able to order\n// them, which is needed for uniquely determining an outer marker\n// when they overlap (they may nest, but not partially overlap).\nvar nextMarkerId = 0\n\nvar TextMarker = function(doc, type) {\n  this.lines = []\n  this.type = type\n  this.doc = doc\n  this.id = ++nextMarkerId\n};\n\n// Clear the marker.\nTextMarker.prototype.clear = function () {\n    var this$1 = this;\n\n  if (this.explicitlyCleared) { return }\n  var cm = this.doc.cm, withOp = cm && !cm.curOp\n  if (withOp) { startOperation(cm) }\n  if (hasHandler(this, \"clear\")) {\n    var found = this.find()\n    if (found) { signalLater(this, \"clear\", found.from, found.to) }\n  }\n  var min = null, max = null\n  for (var i = 0; i < this.lines.length; ++i) {\n    var line = this$1.lines[i]\n    var span = getMarkedSpanFor(line.markedSpans, this$1)\n    if (cm && !this$1.collapsed) { regLineChange(cm, lineNo(line), \"text\") }\n    else if (cm) {\n      if (span.to != null) { max = lineNo(line) }\n      if (span.from != null) { min = lineNo(line) }\n    }\n    line.markedSpans = removeMarkedSpan(line.markedSpans, span)\n    if (span.from == null && this$1.collapsed && !lineIsHidden(this$1.doc, line) && cm)\n      { updateLineHeight(line, textHeight(cm.display)) }\n  }\n  if (cm && this.collapsed && !cm.options.lineWrapping) { for (var i$1 = 0; i$1 < this.lines.length; ++i$1) {\n    var visual = visualLine(this$1.lines[i$1]), len = lineLength(visual)\n    if (len > cm.display.maxLineLength) {\n      cm.display.maxLine = visual\n      cm.display.maxLineLength = len\n      cm.display.maxLineChanged = true\n    }\n  } }\n\n  if (min != null && cm && this.collapsed) { regChange(cm, min, max + 1) }\n  this.lines.length = 0\n  this.explicitlyCleared = true\n  if (this.atomic && this.doc.cantEdit) {\n    this.doc.cantEdit = false\n    if (cm) { reCheckSelection(cm.doc) }\n  }\n  if (cm) { signalLater(cm, \"markerCleared\", cm, this, min, max) }\n  if (withOp) { endOperation(cm) }\n  if (this.parent) { this.parent.clear() }\n};\n\n// Find the position of the marker in the document. Returns a {from,\n// to} object by default. Side can be passed to get a specific side\n// -- 0 (both), -1 (left), or 1 (right). When lineObj is true, the\n// Pos objects returned contain a line object, rather than a line\n// number (used to prevent looking up the same line twice).\nTextMarker.prototype.find = function (side, lineObj) {\n    var this$1 = this;\n\n  if (side == null && this.type == \"bookmark\") { side = 1 }\n  var from, to\n  for (var i = 0; i < this.lines.length; ++i) {\n    var line = this$1.lines[i]\n    var span = getMarkedSpanFor(line.markedSpans, this$1)\n    if (span.from != null) {\n      from = Pos(lineObj ? line : lineNo(line), span.from)\n      if (side == -1) { return from }\n    }\n    if (span.to != null) {\n      to = Pos(lineObj ? line : lineNo(line), span.to)\n      if (side == 1) { return to }\n    }\n  }\n  return from && {from: from, to: to}\n};\n\n// Signals that the marker's widget changed, and surrounding layout\n// should be recomputed.\nTextMarker.prototype.changed = function () {\n    var this$1 = this;\n\n  var pos = this.find(-1, true), widget = this, cm = this.doc.cm\n  if (!pos || !cm) { return }\n  runInOp(cm, function () {\n    var line = pos.line, lineN = lineNo(pos.line)\n    var view = findViewForLine(cm, lineN)\n    if (view) {\n      clearLineMeasurementCacheFor(view)\n      cm.curOp.selectionChanged = cm.curOp.forceUpdate = true\n    }\n    cm.curOp.updateMaxLine = true\n    if (!lineIsHidden(widget.doc, line) && widget.height != null) {\n      var oldHeight = widget.height\n      widget.height = null\n      var dHeight = widgetHeight(widget) - oldHeight\n      if (dHeight)\n        { updateLineHeight(line, line.height + dHeight) }\n    }\n    signalLater(cm, \"markerChanged\", cm, this$1)\n  })\n};\n\nTextMarker.prototype.attachLine = function (line) {\n  if (!this.lines.length && this.doc.cm) {\n    var op = this.doc.cm.curOp\n    if (!op.maybeHiddenMarkers || indexOf(op.maybeHiddenMarkers, this) == -1)\n      { (op.maybeUnhiddenMarkers || (op.maybeUnhiddenMarkers = [])).push(this) }\n  }\n  this.lines.push(line)\n};\n\nTextMarker.prototype.detachLine = function (line) {\n  this.lines.splice(indexOf(this.lines, line), 1)\n  if (!this.lines.length && this.doc.cm) {\n    var op = this.doc.cm.curOp\n    ;(op.maybeHiddenMarkers || (op.maybeHiddenMarkers = [])).push(this)\n  }\n};\neventMixin(TextMarker)\n\n// Create a marker, wire it up to the right lines, and\nfunction markText(doc, from, to, options, type) {\n  // Shared markers (across linked documents) are handled separately\n  // (markTextShared will call out to this again, once per\n  // document).\n  if (options && options.shared) { return markTextShared(doc, from, to, options, type) }\n  // Ensure we are in an operation.\n  if (doc.cm && !doc.cm.curOp) { return operation(doc.cm, markText)(doc, from, to, options, type) }\n\n  var marker = new TextMarker(doc, type), diff = cmp(from, to)\n  if (options) { copyObj(options, marker, false) }\n  // Don't connect empty markers unless clearWhenEmpty is false\n  if (diff > 0 || diff == 0 && marker.clearWhenEmpty !== false)\n    { return marker }\n  if (marker.replacedWith) {\n    // Showing up as a widget implies collapsed (widget replaces text)\n    marker.collapsed = true\n    marker.widgetNode = eltP(\"span\", [marker.replacedWith], \"CodeMirror-widget\")\n    if (!options.handleMouseEvents) { marker.widgetNode.setAttribute(\"cm-ignore-events\", \"true\") }\n    if (options.insertLeft) { marker.widgetNode.insertLeft = true }\n  }\n  if (marker.collapsed) {\n    if (conflictingCollapsedRange(doc, from.line, from, to, marker) ||\n        from.line != to.line && conflictingCollapsedRange(doc, to.line, from, to, marker))\n      { throw new Error(\"Inserting collapsed marker partially overlapping an existing one\") }\n    seeCollapsedSpans()\n  }\n\n  if (marker.addToHistory)\n    { addChangeToHistory(doc, {from: from, to: to, origin: \"markText\"}, doc.sel, NaN) }\n\n  var curLine = from.line, cm = doc.cm, updateMaxLine\n  doc.iter(curLine, to.line + 1, function (line) {\n    if (cm && marker.collapsed && !cm.options.lineWrapping && visualLine(line) == cm.display.maxLine)\n      { updateMaxLine = true }\n    if (marker.collapsed && curLine != from.line) { updateLineHeight(line, 0) }\n    addMarkedSpan(line, new MarkedSpan(marker,\n                                       curLine == from.line ? from.ch : null,\n                                       curLine == to.line ? to.ch : null))\n    ++curLine\n  })\n  // lineIsHidden depends on the presence of the spans, so needs a second pass\n  if (marker.collapsed) { doc.iter(from.line, to.line + 1, function (line) {\n    if (lineIsHidden(doc, line)) { updateLineHeight(line, 0) }\n  }) }\n\n  if (marker.clearOnEnter) { on(marker, \"beforeCursorEnter\", function () { return marker.clear(); }) }\n\n  if (marker.readOnly) {\n    seeReadOnlySpans()\n    if (doc.history.done.length || doc.history.undone.length)\n      { doc.clearHistory() }\n  }\n  if (marker.collapsed) {\n    marker.id = ++nextMarkerId\n    marker.atomic = true\n  }\n  if (cm) {\n    // Sync editor state\n    if (updateMaxLine) { cm.curOp.updateMaxLine = true }\n    if (marker.collapsed)\n      { regChange(cm, from.line, to.line + 1) }\n    else if (marker.className || marker.title || marker.startStyle || marker.endStyle || marker.css)\n      { for (var i = from.line; i <= to.line; i++) { regLineChange(cm, i, \"text\") } }\n    if (marker.atomic) { reCheckSelection(cm.doc) }\n    signalLater(cm, \"markerAdded\", cm, marker)\n  }\n  return marker\n}\n\n// SHARED TEXTMARKERS\n\n// A shared marker spans multiple linked documents. It is\n// implemented as a meta-marker-object controlling multiple normal\n// markers.\nvar SharedTextMarker = function(markers, primary) {\n  var this$1 = this;\n\n  this.markers = markers\n  this.primary = primary\n  for (var i = 0; i < markers.length; ++i)\n    { markers[i].parent = this$1 }\n};\n\nSharedTextMarker.prototype.clear = function () {\n    var this$1 = this;\n\n  if (this.explicitlyCleared) { return }\n  this.explicitlyCleared = true\n  for (var i = 0; i < this.markers.length; ++i)\n    { this$1.markers[i].clear() }\n  signalLater(this, \"clear\")\n};\n\nSharedTextMarker.prototype.find = function (side, lineObj) {\n  return this.primary.find(side, lineObj)\n};\neventMixin(SharedTextMarker)\n\nfunction markTextShared(doc, from, to, options, type) {\n  options = copyObj(options)\n  options.shared = false\n  var markers = [markText(doc, from, to, options, type)], primary = markers[0]\n  var widget = options.widgetNode\n  linkedDocs(doc, function (doc) {\n    if (widget) { options.widgetNode = widget.cloneNode(true) }\n    markers.push(markText(doc, clipPos(doc, from), clipPos(doc, to), options, type))\n    for (var i = 0; i < doc.linked.length; ++i)\n      { if (doc.linked[i].isParent) { return } }\n    primary = lst(markers)\n  })\n  return new SharedTextMarker(markers, primary)\n}\n\nfunction findSharedMarkers(doc) {\n  return doc.findMarks(Pos(doc.first, 0), doc.clipPos(Pos(doc.lastLine())), function (m) { return m.parent; })\n}\n\nfunction copySharedMarkers(doc, markers) {\n  for (var i = 0; i < markers.length; i++) {\n    var marker = markers[i], pos = marker.find()\n    var mFrom = doc.clipPos(pos.from), mTo = doc.clipPos(pos.to)\n    if (cmp(mFrom, mTo)) {\n      var subMark = markText(doc, mFrom, mTo, marker.primary, marker.primary.type)\n      marker.markers.push(subMark)\n      subMark.parent = marker\n    }\n  }\n}\n\nfunction detachSharedMarkers(markers) {\n  var loop = function ( i ) {\n    var marker = markers[i], linked = [marker.primary.doc]\n    linkedDocs(marker.primary.doc, function (d) { return linked.push(d); })\n    for (var j = 0; j < marker.markers.length; j++) {\n      var subMarker = marker.markers[j]\n      if (indexOf(linked, subMarker.doc) == -1) {\n        subMarker.parent = null\n        marker.markers.splice(j--, 1)\n      }\n    }\n  };\n\n  for (var i = 0; i < markers.length; i++) loop( i );\n}\n\nvar nextDocId = 0\nvar Doc = function(text, mode, firstLine, lineSep, direction) {\n  if (!(this instanceof Doc)) { return new Doc(text, mode, firstLine, lineSep, direction) }\n  if (firstLine == null) { firstLine = 0 }\n\n  BranchChunk.call(this, [new LeafChunk([new Line(\"\", null)])])\n  this.first = firstLine\n  this.scrollTop = this.scrollLeft = 0\n  this.cantEdit = false\n  this.cleanGeneration = 1\n  this.modeFrontier = this.highlightFrontier = firstLine\n  var start = Pos(firstLine, 0)\n  this.sel = simpleSelection(start)\n  this.history = new History(null)\n  this.id = ++nextDocId\n  this.modeOption = mode\n  this.lineSep = lineSep\n  this.direction = (direction == \"rtl\") ? \"rtl\" : \"ltr\"\n  this.extend = false\n\n  if (typeof text == \"string\") { text = this.splitLines(text) }\n  updateDoc(this, {from: start, to: start, text: text})\n  setSelection(this, simpleSelection(start), sel_dontScroll)\n}\n\nDoc.prototype = createObj(BranchChunk.prototype, {\n  constructor: Doc,\n  // Iterate over the document. Supports two forms -- with only one\n  // argument, it calls that for each line in the document. With\n  // three, it iterates over the range given by the first two (with\n  // the second being non-inclusive).\n  iter: function(from, to, op) {\n    if (op) { this.iterN(from - this.first, to - from, op) }\n    else { this.iterN(this.first, this.first + this.size, from) }\n  },\n\n  // Non-public interface for adding and removing lines.\n  insert: function(at, lines) {\n    var height = 0\n    for (var i = 0; i < lines.length; ++i) { height += lines[i].height }\n    this.insertInner(at - this.first, lines, height)\n  },\n  remove: function(at, n) { this.removeInner(at - this.first, n) },\n\n  // From here, the methods are part of the public interface. Most\n  // are also available from CodeMirror (editor) instances.\n\n  getValue: function(lineSep) {\n    var lines = getLines(this, this.first, this.first + this.size)\n    if (lineSep === false) { return lines }\n    return lines.join(lineSep || this.lineSeparator())\n  },\n  setValue: docMethodOp(function(code) {\n    var top = Pos(this.first, 0), last = this.first + this.size - 1\n    makeChange(this, {from: top, to: Pos(last, getLine(this, last).text.length),\n                      text: this.splitLines(code), origin: \"setValue\", full: true}, true)\n    if (this.cm) { scrollToCoords(this.cm, 0, 0) }\n    setSelection(this, simpleSelection(top), sel_dontScroll)\n  }),\n  replaceRange: function(code, from, to, origin) {\n    from = clipPos(this, from)\n    to = to ? clipPos(this, to) : from\n    replaceRange(this, code, from, to, origin)\n  },\n  getRange: function(from, to, lineSep) {\n    var lines = getBetween(this, clipPos(this, from), clipPos(this, to))\n    if (lineSep === false) { return lines }\n    return lines.join(lineSep || this.lineSeparator())\n  },\n\n  getLine: function(line) {var l = this.getLineHandle(line); return l && l.text},\n\n  getLineHandle: function(line) {if (isLine(this, line)) { return getLine(this, line) }},\n  getLineNumber: function(line) {return lineNo(line)},\n\n  getLineHandleVisualStart: function(line) {\n    if (typeof line == \"number\") { line = getLine(this, line) }\n    return visualLine(line)\n  },\n\n  lineCount: function() {return this.size},\n  firstLine: function() {return this.first},\n  lastLine: function() {return this.first + this.size - 1},\n\n  clipPos: function(pos) {return clipPos(this, pos)},\n\n  getCursor: function(start) {\n    var range = this.sel.primary(), pos\n    if (start == null || start == \"head\") { pos = range.head }\n    else if (start == \"anchor\") { pos = range.anchor }\n    else if (start == \"end\" || start == \"to\" || start === false) { pos = range.to() }\n    else { pos = range.from() }\n    return pos\n  },\n  listSelections: function() { return this.sel.ranges },\n  somethingSelected: function() {return this.sel.somethingSelected()},\n\n  setCursor: docMethodOp(function(line, ch, options) {\n    setSimpleSelection(this, clipPos(this, typeof line == \"number\" ? Pos(line, ch || 0) : line), null, options)\n  }),\n  setSelection: docMethodOp(function(anchor, head, options) {\n    setSimpleSelection(this, clipPos(this, anchor), clipPos(this, head || anchor), options)\n  }),\n  extendSelection: docMethodOp(function(head, other, options) {\n    extendSelection(this, clipPos(this, head), other && clipPos(this, other), options)\n  }),\n  extendSelections: docMethodOp(function(heads, options) {\n    extendSelections(this, clipPosArray(this, heads), options)\n  }),\n  extendSelectionsBy: docMethodOp(function(f, options) {\n    var heads = map(this.sel.ranges, f)\n    extendSelections(this, clipPosArray(this, heads), options)\n  }),\n  setSelections: docMethodOp(function(ranges, primary, options) {\n    var this$1 = this;\n\n    if (!ranges.length) { return }\n    var out = []\n    for (var i = 0; i < ranges.length; i++)\n      { out[i] = new Range(clipPos(this$1, ranges[i].anchor),\n                         clipPos(this$1, ranges[i].head)) }\n    if (primary == null) { primary = Math.min(ranges.length - 1, this.sel.primIndex) }\n    setSelection(this, normalizeSelection(out, primary), options)\n  }),\n  addSelection: docMethodOp(function(anchor, head, options) {\n    var ranges = this.sel.ranges.slice(0)\n    ranges.push(new Range(clipPos(this, anchor), clipPos(this, head || anchor)))\n    setSelection(this, normalizeSelection(ranges, ranges.length - 1), options)\n  }),\n\n  getSelection: function(lineSep) {\n    var this$1 = this;\n\n    var ranges = this.sel.ranges, lines\n    for (var i = 0; i < ranges.length; i++) {\n      var sel = getBetween(this$1, ranges[i].from(), ranges[i].to())\n      lines = lines ? lines.concat(sel) : sel\n    }\n    if (lineSep === false) { return lines }\n    else { return lines.join(lineSep || this.lineSeparator()) }\n  },\n  getSelections: function(lineSep) {\n    var this$1 = this;\n\n    var parts = [], ranges = this.sel.ranges\n    for (var i = 0; i < ranges.length; i++) {\n      var sel = getBetween(this$1, ranges[i].from(), ranges[i].to())\n      if (lineSep !== false) { sel = sel.join(lineSep || this$1.lineSeparator()) }\n      parts[i] = sel\n    }\n    return parts\n  },\n  replaceSelection: function(code, collapse, origin) {\n    var dup = []\n    for (var i = 0; i < this.sel.ranges.length; i++)\n      { dup[i] = code }\n    this.replaceSelections(dup, collapse, origin || \"+input\")\n  },\n  replaceSelections: docMethodOp(function(code, collapse, origin) {\n    var this$1 = this;\n\n    var changes = [], sel = this.sel\n    for (var i = 0; i < sel.ranges.length; i++) {\n      var range = sel.ranges[i]\n      changes[i] = {from: range.from(), to: range.to(), text: this$1.splitLines(code[i]), origin: origin}\n    }\n    var newSel = collapse && collapse != \"end\" && computeReplacedSel(this, changes, collapse)\n    for (var i$1 = changes.length - 1; i$1 >= 0; i$1--)\n      { makeChange(this$1, changes[i$1]) }\n    if (newSel) { setSelectionReplaceHistory(this, newSel) }\n    else if (this.cm) { ensureCursorVisible(this.cm) }\n  }),\n  undo: docMethodOp(function() {makeChangeFromHistory(this, \"undo\")}),\n  redo: docMethodOp(function() {makeChangeFromHistory(this, \"redo\")}),\n  undoSelection: docMethodOp(function() {makeChangeFromHistory(this, \"undo\", true)}),\n  redoSelection: docMethodOp(function() {makeChangeFromHistory(this, \"redo\", true)}),\n\n  setExtending: function(val) {this.extend = val},\n  getExtending: function() {return this.extend},\n\n  historySize: function() {\n    var hist = this.history, done = 0, undone = 0\n    for (var i = 0; i < hist.done.length; i++) { if (!hist.done[i].ranges) { ++done } }\n    for (var i$1 = 0; i$1 < hist.undone.length; i$1++) { if (!hist.undone[i$1].ranges) { ++undone } }\n    return {undo: done, redo: undone}\n  },\n  clearHistory: function() {this.history = new History(this.history.maxGeneration)},\n\n  markClean: function() {\n    this.cleanGeneration = this.changeGeneration(true)\n  },\n  changeGeneration: function(forceSplit) {\n    if (forceSplit)\n      { this.history.lastOp = this.history.lastSelOp = this.history.lastOrigin = null }\n    return this.history.generation\n  },\n  isClean: function (gen) {\n    return this.history.generation == (gen || this.cleanGeneration)\n  },\n\n  getHistory: function() {\n    return {done: copyHistoryArray(this.history.done),\n            undone: copyHistoryArray(this.history.undone)}\n  },\n  setHistory: function(histData) {\n    var hist = this.history = new History(this.history.maxGeneration)\n    hist.done = copyHistoryArray(histData.done.slice(0), null, true)\n    hist.undone = copyHistoryArray(histData.undone.slice(0), null, true)\n  },\n\n  setGutterMarker: docMethodOp(function(line, gutterID, value) {\n    return changeLine(this, line, \"gutter\", function (line) {\n      var markers = line.gutterMarkers || (line.gutterMarkers = {})\n      markers[gutterID] = value\n      if (!value && isEmpty(markers)) { line.gutterMarkers = null }\n      return true\n    })\n  }),\n\n  clearGutter: docMethodOp(function(gutterID) {\n    var this$1 = this;\n\n    this.iter(function (line) {\n      if (line.gutterMarkers && line.gutterMarkers[gutterID]) {\n        changeLine(this$1, line, \"gutter\", function () {\n          line.gutterMarkers[gutterID] = null\n          if (isEmpty(line.gutterMarkers)) { line.gutterMarkers = null }\n          return true\n        })\n      }\n    })\n  }),\n\n  lineInfo: function(line) {\n    var n\n    if (typeof line == \"number\") {\n      if (!isLine(this, line)) { return null }\n      n = line\n      line = getLine(this, line)\n      if (!line) { return null }\n    } else {\n      n = lineNo(line)\n      if (n == null) { return null }\n    }\n    return {line: n, handle: line, text: line.text, gutterMarkers: line.gutterMarkers,\n            textClass: line.textClass, bgClass: line.bgClass, wrapClass: line.wrapClass,\n            widgets: line.widgets}\n  },\n\n  addLineClass: docMethodOp(function(handle, where, cls) {\n    return changeLine(this, handle, where == \"gutter\" ? \"gutter\" : \"class\", function (line) {\n      var prop = where == \"text\" ? \"textClass\"\n               : where == \"background\" ? \"bgClass\"\n               : where == \"gutter\" ? \"gutterClass\" : \"wrapClass\"\n      if (!line[prop]) { line[prop] = cls }\n      else if (classTest(cls).test(line[prop])) { return false }\n      else { line[prop] += \" \" + cls }\n      return true\n    })\n  }),\n  removeLineClass: docMethodOp(function(handle, where, cls) {\n    return changeLine(this, handle, where == \"gutter\" ? \"gutter\" : \"class\", function (line) {\n      var prop = where == \"text\" ? \"textClass\"\n               : where == \"background\" ? \"bgClass\"\n               : where == \"gutter\" ? \"gutterClass\" : \"wrapClass\"\n      var cur = line[prop]\n      if (!cur) { return false }\n      else if (cls == null) { line[prop] = null }\n      else {\n        var found = cur.match(classTest(cls))\n        if (!found) { return false }\n        var end = found.index + found[0].length\n        line[prop] = cur.slice(0, found.index) + (!found.index || end == cur.length ? \"\" : \" \") + cur.slice(end) || null\n      }\n      return true\n    })\n  }),\n\n  addLineWidget: docMethodOp(function(handle, node, options) {\n    return addLineWidget(this, handle, node, options)\n  }),\n  removeLineWidget: function(widget) { widget.clear() },\n\n  markText: function(from, to, options) {\n    return markText(this, clipPos(this, from), clipPos(this, to), options, options && options.type || \"range\")\n  },\n  setBookmark: function(pos, options) {\n    var realOpts = {replacedWith: options && (options.nodeType == null ? options.widget : options),\n                    insertLeft: options && options.insertLeft,\n                    clearWhenEmpty: false, shared: options && options.shared,\n                    handleMouseEvents: options && options.handleMouseEvents}\n    pos = clipPos(this, pos)\n    return markText(this, pos, pos, realOpts, \"bookmark\")\n  },\n  findMarksAt: function(pos) {\n    pos = clipPos(this, pos)\n    var markers = [], spans = getLine(this, pos.line).markedSpans\n    if (spans) { for (var i = 0; i < spans.length; ++i) {\n      var span = spans[i]\n      if ((span.from == null || span.from <= pos.ch) &&\n          (span.to == null || span.to >= pos.ch))\n        { markers.push(span.marker.parent || span.marker) }\n    } }\n    return markers\n  },\n  findMarks: function(from, to, filter) {\n    from = clipPos(this, from); to = clipPos(this, to)\n    var found = [], lineNo = from.line\n    this.iter(from.line, to.line + 1, function (line) {\n      var spans = line.markedSpans\n      if (spans) { for (var i = 0; i < spans.length; i++) {\n        var span = spans[i]\n        if (!(span.to != null && lineNo == from.line && from.ch >= span.to ||\n              span.from == null && lineNo != from.line ||\n              span.from != null && lineNo == to.line && span.from >= to.ch) &&\n            (!filter || filter(span.marker)))\n          { found.push(span.marker.parent || span.marker) }\n      } }\n      ++lineNo\n    })\n    return found\n  },\n  getAllMarks: function() {\n    var markers = []\n    this.iter(function (line) {\n      var sps = line.markedSpans\n      if (sps) { for (var i = 0; i < sps.length; ++i)\n        { if (sps[i].from != null) { markers.push(sps[i].marker) } } }\n    })\n    return markers\n  },\n\n  posFromIndex: function(off) {\n    var ch, lineNo = this.first, sepSize = this.lineSeparator().length\n    this.iter(function (line) {\n      var sz = line.text.length + sepSize\n      if (sz > off) { ch = off; return true }\n      off -= sz\n      ++lineNo\n    })\n    return clipPos(this, Pos(lineNo, ch))\n  },\n  indexFromPos: function (coords) {\n    coords = clipPos(this, coords)\n    var index = coords.ch\n    if (coords.line < this.first || coords.ch < 0) { return 0 }\n    var sepSize = this.lineSeparator().length\n    this.iter(this.first, coords.line, function (line) { // iter aborts when callback returns a truthy value\n      index += line.text.length + sepSize\n    })\n    return index\n  },\n\n  copy: function(copyHistory) {\n    var doc = new Doc(getLines(this, this.first, this.first + this.size),\n                      this.modeOption, this.first, this.lineSep, this.direction)\n    doc.scrollTop = this.scrollTop; doc.scrollLeft = this.scrollLeft\n    doc.sel = this.sel\n    doc.extend = false\n    if (copyHistory) {\n      doc.history.undoDepth = this.history.undoDepth\n      doc.setHistory(this.getHistory())\n    }\n    return doc\n  },\n\n  linkedDoc: function(options) {\n    if (!options) { options = {} }\n    var from = this.first, to = this.first + this.size\n    if (options.from != null && options.from > from) { from = options.from }\n    if (options.to != null && options.to < to) { to = options.to }\n    var copy = new Doc(getLines(this, from, to), options.mode || this.modeOption, from, this.lineSep, this.direction)\n    if (options.sharedHist) { copy.history = this.history\n    ; }(this.linked || (this.linked = [])).push({doc: copy, sharedHist: options.sharedHist})\n    copy.linked = [{doc: this, isParent: true, sharedHist: options.sharedHist}]\n    copySharedMarkers(copy, findSharedMarkers(this))\n    return copy\n  },\n  unlinkDoc: function(other) {\n    var this$1 = this;\n\n    if (other instanceof CodeMirror) { other = other.doc }\n    if (this.linked) { for (var i = 0; i < this.linked.length; ++i) {\n      var link = this$1.linked[i]\n      if (link.doc != other) { continue }\n      this$1.linked.splice(i, 1)\n      other.unlinkDoc(this$1)\n      detachSharedMarkers(findSharedMarkers(this$1))\n      break\n    } }\n    // If the histories were shared, split them again\n    if (other.history == this.history) {\n      var splitIds = [other.id]\n      linkedDocs(other, function (doc) { return splitIds.push(doc.id); }, true)\n      other.history = new History(null)\n      other.history.done = copyHistoryArray(this.history.done, splitIds)\n      other.history.undone = copyHistoryArray(this.history.undone, splitIds)\n    }\n  },\n  iterLinkedDocs: function(f) {linkedDocs(this, f)},\n\n  getMode: function() {return this.mode},\n  getEditor: function() {return this.cm},\n\n  splitLines: function(str) {\n    if (this.lineSep) { return str.split(this.lineSep) }\n    return splitLinesAuto(str)\n  },\n  lineSeparator: function() { return this.lineSep || \"\\n\" },\n\n  setDirection: docMethodOp(function (dir) {\n    if (dir != \"rtl\") { dir = \"ltr\" }\n    if (dir == this.direction) { return }\n    this.direction = dir\n    this.iter(function (line) { return line.order = null; })\n    if (this.cm) { directionChanged(this.cm) }\n  })\n})\n\n// Public alias.\nDoc.prototype.eachLine = Doc.prototype.iter\n\n// Kludge to work around strange IE behavior where it'll sometimes\n// re-fire a series of drag-related events right after the drop (#1551)\nvar lastDrop = 0\n\nfunction onDrop(e) {\n  var cm = this\n  clearDragCursor(cm)\n  if (signalDOMEvent(cm, e) || eventInWidget(cm.display, e))\n    { return }\n  e_preventDefault(e)\n  if (ie) { lastDrop = +new Date }\n  var pos = posFromMouse(cm, e, true), files = e.dataTransfer.files\n  if (!pos || cm.isReadOnly()) { return }\n  // Might be a file drop, in which case we simply extract the text\n  // and insert it.\n  if (files && files.length && window.FileReader && window.File) {\n    var n = files.length, text = Array(n), read = 0\n    var loadFile = function (file, i) {\n      if (cm.options.allowDropFileTypes &&\n          indexOf(cm.options.allowDropFileTypes, file.type) == -1)\n        { return }\n\n      var reader = new FileReader\n      reader.onload = operation(cm, function () {\n        var content = reader.result\n        if (/[\\x00-\\x08\\x0e-\\x1f]{2}/.test(content)) { content = \"\" }\n        text[i] = content\n        if (++read == n) {\n          pos = clipPos(cm.doc, pos)\n          var change = {from: pos, to: pos,\n                        text: cm.doc.splitLines(text.join(cm.doc.lineSeparator())),\n                        origin: \"paste\"}\n          makeChange(cm.doc, change)\n          setSelectionReplaceHistory(cm.doc, simpleSelection(pos, changeEnd(change)))\n        }\n      })\n      reader.readAsText(file)\n    }\n    for (var i = 0; i < n; ++i) { loadFile(files[i], i) }\n  } else { // Normal drop\n    // Don't do a replace if the drop happened inside of the selected text.\n    if (cm.state.draggingText && cm.doc.sel.contains(pos) > -1) {\n      cm.state.draggingText(e)\n      // Ensure the editor is re-focused\n      setTimeout(function () { return cm.display.input.focus(); }, 20)\n      return\n    }\n    try {\n      var text$1 = e.dataTransfer.getData(\"Text\")\n      if (text$1) {\n        var selected\n        if (cm.state.draggingText && !cm.state.draggingText.copy)\n          { selected = cm.listSelections() }\n        setSelectionNoUndo(cm.doc, simpleSelection(pos, pos))\n        if (selected) { for (var i$1 = 0; i$1 < selected.length; ++i$1)\n          { replaceRange(cm.doc, \"\", selected[i$1].anchor, selected[i$1].head, \"drag\") } }\n        cm.replaceSelection(text$1, \"around\", \"paste\")\n        cm.display.input.focus()\n      }\n    }\n    catch(e){}\n  }\n}\n\nfunction onDragStart(cm, e) {\n  if (ie && (!cm.state.draggingText || +new Date - lastDrop < 100)) { e_stop(e); return }\n  if (signalDOMEvent(cm, e) || eventInWidget(cm.display, e)) { return }\n\n  e.dataTransfer.setData(\"Text\", cm.getSelection())\n  e.dataTransfer.effectAllowed = \"copyMove\"\n\n  // Use dummy image instead of default browsers image.\n  // Recent Safari (~6.0.2) have a tendency to segfault when this happens, so we don't do it there.\n  if (e.dataTransfer.setDragImage && !safari) {\n    var img = elt(\"img\", null, null, \"position: fixed; left: 0; top: 0;\")\n    img.src = \"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==\"\n    if (presto) {\n      img.width = img.height = 1\n      cm.display.wrapper.appendChild(img)\n      // Force a relayout, or Opera won't use our image for some obscure reason\n      img._top = img.offsetTop\n    }\n    e.dataTransfer.setDragImage(img, 0, 0)\n    if (presto) { img.parentNode.removeChild(img) }\n  }\n}\n\nfunction onDragOver(cm, e) {\n  var pos = posFromMouse(cm, e)\n  if (!pos) { return }\n  var frag = document.createDocumentFragment()\n  drawSelectionCursor(cm, pos, frag)\n  if (!cm.display.dragCursor) {\n    cm.display.dragCursor = elt(\"div\", null, \"CodeMirror-cursors CodeMirror-dragcursors\")\n    cm.display.lineSpace.insertBefore(cm.display.dragCursor, cm.display.cursorDiv)\n  }\n  removeChildrenAndAdd(cm.display.dragCursor, frag)\n}\n\nfunction clearDragCursor(cm) {\n  if (cm.display.dragCursor) {\n    cm.display.lineSpace.removeChild(cm.display.dragCursor)\n    cm.display.dragCursor = null\n  }\n}\n\n// These must be handled carefully, because naively registering a\n// handler for each editor will cause the editors to never be\n// garbage collected.\n\nfunction forEachCodeMirror(f) {\n  if (!document.getElementsByClassName) { return }\n  var byClass = document.getElementsByClassName(\"CodeMirror\")\n  for (var i = 0; i < byClass.length; i++) {\n    var cm = byClass[i].CodeMirror\n    if (cm) { f(cm) }\n  }\n}\n\nvar globalsRegistered = false\nfunction ensureGlobalHandlers() {\n  if (globalsRegistered) { return }\n  registerGlobalHandlers()\n  globalsRegistered = true\n}\nfunction registerGlobalHandlers() {\n  // When the window resizes, we need to refresh active editors.\n  var resizeTimer\n  on(window, \"resize\", function () {\n    if (resizeTimer == null) { resizeTimer = setTimeout(function () {\n      resizeTimer = null\n      forEachCodeMirror(onResize)\n    }, 100) }\n  })\n  // When the window loses focus, we want to show the editor as blurred\n  on(window, \"blur\", function () { return forEachCodeMirror(onBlur); })\n}\n// Called when the window resizes\nfunction onResize(cm) {\n  var d = cm.display\n  if (d.lastWrapHeight == d.wrapper.clientHeight && d.lastWrapWidth == d.wrapper.clientWidth)\n    { return }\n  // Might be a text scaling operation, clear size caches.\n  d.cachedCharWidth = d.cachedTextHeight = d.cachedPaddingH = null\n  d.scrollbarsClipped = false\n  cm.setSize()\n}\n\nvar keyNames = {\n  3: \"Enter\", 8: \"Backspace\", 9: \"Tab\", 13: \"Enter\", 16: \"Shift\", 17: \"Ctrl\", 18: \"Alt\",\n  19: \"Pause\", 20: \"CapsLock\", 27: \"Esc\", 32: \"Space\", 33: \"PageUp\", 34: \"PageDown\", 35: \"End\",\n  36: \"Home\", 37: \"Left\", 38: \"Up\", 39: \"Right\", 40: \"Down\", 44: \"PrintScrn\", 45: \"Insert\",\n  46: \"Delete\", 59: \";\", 61: \"=\", 91: \"Mod\", 92: \"Mod\", 93: \"Mod\",\n  106: \"*\", 107: \"=\", 109: \"-\", 110: \".\", 111: \"/\", 127: \"Delete\",\n  173: \"-\", 186: \";\", 187: \"=\", 188: \",\", 189: \"-\", 190: \".\", 191: \"/\", 192: \"`\", 219: \"[\", 220: \"\\\\\",\n  221: \"]\", 222: \"'\", 63232: \"Up\", 63233: \"Down\", 63234: \"Left\", 63235: \"Right\", 63272: \"Delete\",\n  63273: \"Home\", 63275: \"End\", 63276: \"PageUp\", 63277: \"PageDown\", 63302: \"Insert\"\n}\n\n// Number keys\nfor (var i = 0; i < 10; i++) { keyNames[i + 48] = keyNames[i + 96] = String(i) }\n// Alphabetic keys\nfor (var i$1 = 65; i$1 <= 90; i$1++) { keyNames[i$1] = String.fromCharCode(i$1) }\n// Function keys\nfor (var i$2 = 1; i$2 <= 12; i$2++) { keyNames[i$2 + 111] = keyNames[i$2 + 63235] = \"F\" + i$2 }\n\nvar keyMap = {}\n\nkeyMap.basic = {\n  \"Left\": \"goCharLeft\", \"Right\": \"goCharRight\", \"Up\": \"goLineUp\", \"Down\": \"goLineDown\",\n  \"End\": \"goLineEnd\", \"Home\": \"goLineStartSmart\", \"PageUp\": \"goPageUp\", \"PageDown\": \"goPageDown\",\n  \"Delete\": \"delCharAfter\", \"Backspace\": \"delCharBefore\", \"Shift-Backspace\": \"delCharBefore\",\n  \"Tab\": \"defaultTab\", \"Shift-Tab\": \"indentAuto\",\n  \"Enter\": \"newlineAndIndent\", \"Insert\": \"toggleOverwrite\",\n  \"Esc\": \"singleSelection\"\n}\n// Note that the save and find-related commands aren't defined by\n// default. User code or addons can define them. Unknown commands\n// are simply ignored.\nkeyMap.pcDefault = {\n  \"Ctrl-A\": \"selectAll\", \"Ctrl-D\": \"deleteLine\", \"Ctrl-Z\": \"undo\", \"Shift-Ctrl-Z\": \"redo\", \"Ctrl-Y\": \"redo\",\n  \"Ctrl-Home\": \"goDocStart\", \"Ctrl-End\": \"goDocEnd\", \"Ctrl-Up\": \"goLineUp\", \"Ctrl-Down\": \"goLineDown\",\n  \"Ctrl-Left\": \"goGroupLeft\", \"Ctrl-Right\": \"goGroupRight\", \"Alt-Left\": \"goLineStart\", \"Alt-Right\": \"goLineEnd\",\n  \"Ctrl-Backspace\": \"delGroupBefore\", \"Ctrl-Delete\": \"delGroupAfter\", \"Ctrl-S\": \"save\", \"Ctrl-F\": \"find\",\n  \"Ctrl-G\": \"findNext\", \"Shift-Ctrl-G\": \"findPrev\", \"Shift-Ctrl-F\": \"replace\", \"Shift-Ctrl-R\": \"replaceAll\",\n  \"Ctrl-[\": \"indentLess\", \"Ctrl-]\": \"indentMore\",\n  \"Ctrl-U\": \"undoSelection\", \"Shift-Ctrl-U\": \"redoSelection\", \"Alt-U\": \"redoSelection\",\n  fallthrough: \"basic\"\n}\n// Very basic readline/emacs-style bindings, which are standard on Mac.\nkeyMap.emacsy = {\n  \"Ctrl-F\": \"goCharRight\", \"Ctrl-B\": \"goCharLeft\", \"Ctrl-P\": \"goLineUp\", \"Ctrl-N\": \"goLineDown\",\n  \"Alt-F\": \"goWordRight\", \"Alt-B\": \"goWordLeft\", \"Ctrl-A\": \"goLineStart\", \"Ctrl-E\": \"goLineEnd\",\n  \"Ctrl-V\": \"goPageDown\", \"Shift-Ctrl-V\": \"goPageUp\", \"Ctrl-D\": \"delCharAfter\", \"Ctrl-H\": \"delCharBefore\",\n  \"Alt-D\": \"delWordAfter\", \"Alt-Backspace\": \"delWordBefore\", \"Ctrl-K\": \"killLine\", \"Ctrl-T\": \"transposeChars\",\n  \"Ctrl-O\": \"openLine\"\n}\nkeyMap.macDefault = {\n  \"Cmd-A\": \"selectAll\", \"Cmd-D\": \"deleteLine\", \"Cmd-Z\": \"undo\", \"Shift-Cmd-Z\": \"redo\", \"Cmd-Y\": \"redo\",\n  \"Cmd-Home\": \"goDocStart\", \"Cmd-Up\": \"goDocStart\", \"Cmd-End\": \"goDocEnd\", \"Cmd-Down\": \"goDocEnd\", \"Alt-Left\": \"goGroupLeft\",\n  \"Alt-Right\": \"goGroupRight\", \"Cmd-Left\": \"goLineLeft\", \"Cmd-Right\": \"goLineRight\", \"Alt-Backspace\": \"delGroupBefore\",\n  \"Ctrl-Alt-Backspace\": \"delGroupAfter\", \"Alt-Delete\": \"delGroupAfter\", \"Cmd-S\": \"save\", \"Cmd-F\": \"find\",\n  \"Cmd-G\": \"findNext\", \"Shift-Cmd-G\": \"findPrev\", \"Cmd-Alt-F\": \"replace\", \"Shift-Cmd-Alt-F\": \"replaceAll\",\n  \"Cmd-[\": \"indentLess\", \"Cmd-]\": \"indentMore\", \"Cmd-Backspace\": \"delWrappedLineLeft\", \"Cmd-Delete\": \"delWrappedLineRight\",\n  \"Cmd-U\": \"undoSelection\", \"Shift-Cmd-U\": \"redoSelection\", \"Ctrl-Up\": \"goDocStart\", \"Ctrl-Down\": \"goDocEnd\",\n  fallthrough: [\"basic\", \"emacsy\"]\n}\nkeyMap[\"default\"] = mac ? keyMap.macDefault : keyMap.pcDefault\n\n// KEYMAP DISPATCH\n\nfunction normalizeKeyName(name) {\n  var parts = name.split(/-(?!$)/)\n  name = parts[parts.length - 1]\n  var alt, ctrl, shift, cmd\n  for (var i = 0; i < parts.length - 1; i++) {\n    var mod = parts[i]\n    if (/^(cmd|meta|m)$/i.test(mod)) { cmd = true }\n    else if (/^a(lt)?$/i.test(mod)) { alt = true }\n    else if (/^(c|ctrl|control)$/i.test(mod)) { ctrl = true }\n    else if (/^s(hift)?$/i.test(mod)) { shift = true }\n    else { throw new Error(\"Unrecognized modifier name: \" + mod) }\n  }\n  if (alt) { name = \"Alt-\" + name }\n  if (ctrl) { name = \"Ctrl-\" + name }\n  if (cmd) { name = \"Cmd-\" + name }\n  if (shift) { name = \"Shift-\" + name }\n  return name\n}\n\n// This is a kludge to keep keymaps mostly working as raw objects\n// (backwards compatibility) while at the same time support features\n// like normalization and multi-stroke key bindings. It compiles a\n// new normalized keymap, and then updates the old object to reflect\n// this.\nfunction normalizeKeyMap(keymap) {\n  var copy = {}\n  for (var keyname in keymap) { if (keymap.hasOwnProperty(keyname)) {\n    var value = keymap[keyname]\n    if (/^(name|fallthrough|(de|at)tach)$/.test(keyname)) { continue }\n    if (value == \"...\") { delete keymap[keyname]; continue }\n\n    var keys = map(keyname.split(\" \"), normalizeKeyName)\n    for (var i = 0; i < keys.length; i++) {\n      var val = (void 0), name = (void 0)\n      if (i == keys.length - 1) {\n        name = keys.join(\" \")\n        val = value\n      } else {\n        name = keys.slice(0, i + 1).join(\" \")\n        val = \"...\"\n      }\n      var prev = copy[name]\n      if (!prev) { copy[name] = val }\n      else if (prev != val) { throw new Error(\"Inconsistent bindings for \" + name) }\n    }\n    delete keymap[keyname]\n  } }\n  for (var prop in copy) { keymap[prop] = copy[prop] }\n  return keymap\n}\n\nfunction lookupKey(key, map, handle, context) {\n  map = getKeyMap(map)\n  var found = map.call ? map.call(key, context) : map[key]\n  if (found === false) { return \"nothing\" }\n  if (found === \"...\") { return \"multi\" }\n  if (found != null && handle(found)) { return \"handled\" }\n\n  if (map.fallthrough) {\n    if (Object.prototype.toString.call(map.fallthrough) != \"[object Array]\")\n      { return lookupKey(key, map.fallthrough, handle, context) }\n    for (var i = 0; i < map.fallthrough.length; i++) {\n      var result = lookupKey(key, map.fallthrough[i], handle, context)\n      if (result) { return result }\n    }\n  }\n}\n\n// Modifier key presses don't count as 'real' key presses for the\n// purpose of keymap fallthrough.\nfunction isModifierKey(value) {\n  var name = typeof value == \"string\" ? value : keyNames[value.keyCode]\n  return name == \"Ctrl\" || name == \"Alt\" || name == \"Shift\" || name == \"Mod\"\n}\n\nfunction addModifierNames(name, event, noShift) {\n  var base = name\n  if (event.altKey && base != \"Alt\") { name = \"Alt-\" + name }\n  if ((flipCtrlCmd ? event.metaKey : event.ctrlKey) && base != \"Ctrl\") { name = \"Ctrl-\" + name }\n  if ((flipCtrlCmd ? event.ctrlKey : event.metaKey) && base != \"Cmd\") { name = \"Cmd-\" + name }\n  if (!noShift && event.shiftKey && base != \"Shift\") { name = \"Shift-\" + name }\n  return name\n}\n\n// Look up the name of a key as indicated by an event object.\nfunction keyName(event, noShift) {\n  if (presto && event.keyCode == 34 && event[\"char\"]) { return false }\n  var name = keyNames[event.keyCode]\n  if (name == null || event.altGraphKey) { return false }\n  return addModifierNames(name, event, noShift)\n}\n\nfunction getKeyMap(val) {\n  return typeof val == \"string\" ? keyMap[val] : val\n}\n\n// Helper for deleting text near the selection(s), used to implement\n// backspace, delete, and similar functionality.\nfunction deleteNearSelection(cm, compute) {\n  var ranges = cm.doc.sel.ranges, kill = []\n  // Build up a set of ranges to kill first, merging overlapping\n  // ranges.\n  for (var i = 0; i < ranges.length; i++) {\n    var toKill = compute(ranges[i])\n    while (kill.length && cmp(toKill.from, lst(kill).to) <= 0) {\n      var replaced = kill.pop()\n      if (cmp(replaced.from, toKill.from) < 0) {\n        toKill.from = replaced.from\n        break\n      }\n    }\n    kill.push(toKill)\n  }\n  // Next, remove those actual ranges.\n  runInOp(cm, function () {\n    for (var i = kill.length - 1; i >= 0; i--)\n      { replaceRange(cm.doc, \"\", kill[i].from, kill[i].to, \"+delete\") }\n    ensureCursorVisible(cm)\n  })\n}\n\nfunction moveCharLogically(line, ch, dir) {\n  var target = skipExtendingChars(line.text, ch + dir, dir)\n  return target < 0 || target > line.text.length ? null : target\n}\n\nfunction moveLogically(line, start, dir) {\n  var ch = moveCharLogically(line, start.ch, dir)\n  return ch == null ? null : new Pos(start.line, ch, dir < 0 ? \"after\" : \"before\")\n}\n\nfunction endOfLine(visually, cm, lineObj, lineNo, dir) {\n  if (visually) {\n    var order = getOrder(lineObj, cm.doc.direction)\n    if (order) {\n      var part = dir < 0 ? lst(order) : order[0]\n      var moveInStorageOrder = (dir < 0) == (part.level == 1)\n      var sticky = moveInStorageOrder ? \"after\" : \"before\"\n      var ch\n      // With a wrapped rtl chunk (possibly spanning multiple bidi parts),\n      // it could be that the last bidi part is not on the last visual line,\n      // since visual lines contain content order-consecutive chunks.\n      // Thus, in rtl, we are looking for the first (content-order) character\n      // in the rtl chunk that is on the last line (that is, the same line\n      // as the last (content-order) character).\n      if (part.level > 0 || cm.doc.direction == \"rtl\") {\n        var prep = prepareMeasureForLine(cm, lineObj)\n        ch = dir < 0 ? lineObj.text.length - 1 : 0\n        var targetTop = measureCharPrepared(cm, prep, ch).top\n        ch = findFirst(function (ch) { return measureCharPrepared(cm, prep, ch).top == targetTop; }, (dir < 0) == (part.level == 1) ? part.from : part.to - 1, ch)\n        if (sticky == \"before\") { ch = moveCharLogically(lineObj, ch, 1) }\n      } else { ch = dir < 0 ? part.to : part.from }\n      return new Pos(lineNo, ch, sticky)\n    }\n  }\n  return new Pos(lineNo, dir < 0 ? lineObj.text.length : 0, dir < 0 ? \"before\" : \"after\")\n}\n\nfunction moveVisually(cm, line, start, dir) {\n  var bidi = getOrder(line, cm.doc.direction)\n  if (!bidi) { return moveLogically(line, start, dir) }\n  if (start.ch >= line.text.length) {\n    start.ch = line.text.length\n    start.sticky = \"before\"\n  } else if (start.ch <= 0) {\n    start.ch = 0\n    start.sticky = \"after\"\n  }\n  var partPos = getBidiPartAt(bidi, start.ch, start.sticky), part = bidi[partPos]\n  if (cm.doc.direction == \"ltr\" && part.level % 2 == 0 && (dir > 0 ? part.to > start.ch : part.from < start.ch)) {\n    // Case 1: We move within an ltr part in an ltr editor. Even with wrapped lines,\n    // nothing interesting happens.\n    return moveLogically(line, start, dir)\n  }\n\n  var mv = function (pos, dir) { return moveCharLogically(line, pos instanceof Pos ? pos.ch : pos, dir); }\n  var prep\n  var getWrappedLineExtent = function (ch) {\n    if (!cm.options.lineWrapping) { return {begin: 0, end: line.text.length} }\n    prep = prep || prepareMeasureForLine(cm, line)\n    return wrappedLineExtentChar(cm, line, prep, ch)\n  }\n  var wrappedLineExtent = getWrappedLineExtent(start.sticky == \"before\" ? mv(start, -1) : start.ch)\n\n  if (cm.doc.direction == \"rtl\" || part.level == 1) {\n    var moveInStorageOrder = (part.level == 1) == (dir < 0)\n    var ch = mv(start, moveInStorageOrder ? 1 : -1)\n    if (ch != null && (!moveInStorageOrder ? ch >= part.from && ch >= wrappedLineExtent.begin : ch <= part.to && ch <= wrappedLineExtent.end)) {\n      // Case 2: We move within an rtl part or in an rtl editor on the same visual line\n      var sticky = moveInStorageOrder ? \"before\" : \"after\"\n      return new Pos(start.line, ch, sticky)\n    }\n  }\n\n  // Case 3: Could not move within this bidi part in this visual line, so leave\n  // the current bidi part\n\n  var searchInVisualLine = function (partPos, dir, wrappedLineExtent) {\n    var getRes = function (ch, moveInStorageOrder) { return moveInStorageOrder\n      ? new Pos(start.line, mv(ch, 1), \"before\")\n      : new Pos(start.line, ch, \"after\"); }\n\n    for (; partPos >= 0 && partPos < bidi.length; partPos += dir) {\n      var part = bidi[partPos]\n      var moveInStorageOrder = (dir > 0) == (part.level != 1)\n      var ch = moveInStorageOrder ? wrappedLineExtent.begin : mv(wrappedLineExtent.end, -1)\n      if (part.from <= ch && ch < part.to) { return getRes(ch, moveInStorageOrder) }\n      ch = moveInStorageOrder ? part.from : mv(part.to, -1)\n      if (wrappedLineExtent.begin <= ch && ch < wrappedLineExtent.end) { return getRes(ch, moveInStorageOrder) }\n    }\n  }\n\n  // Case 3a: Look for other bidi parts on the same visual line\n  var res = searchInVisualLine(partPos + dir, dir, wrappedLineExtent)\n  if (res) { return res }\n\n  // Case 3b: Look for other bidi parts on the next visual line\n  var nextCh = dir > 0 ? wrappedLineExtent.end : mv(wrappedLineExtent.begin, -1)\n  if (nextCh != null && !(dir > 0 && nextCh == line.text.length)) {\n    res = searchInVisualLine(dir > 0 ? 0 : bidi.length - 1, dir, getWrappedLineExtent(nextCh))\n    if (res) { return res }\n  }\n\n  // Case 4: Nowhere to move\n  return null\n}\n\n// Commands are parameter-less actions that can be performed on an\n// editor, mostly used for keybindings.\nvar commands = {\n  selectAll: selectAll,\n  singleSelection: function (cm) { return cm.setSelection(cm.getCursor(\"anchor\"), cm.getCursor(\"head\"), sel_dontScroll); },\n  killLine: function (cm) { return deleteNearSelection(cm, function (range) {\n    if (range.empty()) {\n      var len = getLine(cm.doc, range.head.line).text.length\n      if (range.head.ch == len && range.head.line < cm.lastLine())\n        { return {from: range.head, to: Pos(range.head.line + 1, 0)} }\n      else\n        { return {from: range.head, to: Pos(range.head.line, len)} }\n    } else {\n      return {from: range.from(), to: range.to()}\n    }\n  }); },\n  deleteLine: function (cm) { return deleteNearSelection(cm, function (range) { return ({\n    from: Pos(range.from().line, 0),\n    to: clipPos(cm.doc, Pos(range.to().line + 1, 0))\n  }); }); },\n  delLineLeft: function (cm) { return deleteNearSelection(cm, function (range) { return ({\n    from: Pos(range.from().line, 0), to: range.from()\n  }); }); },\n  delWrappedLineLeft: function (cm) { return deleteNearSelection(cm, function (range) {\n    var top = cm.charCoords(range.head, \"div\").top + 5\n    var leftPos = cm.coordsChar({left: 0, top: top}, \"div\")\n    return {from: leftPos, to: range.from()}\n  }); },\n  delWrappedLineRight: function (cm) { return deleteNearSelection(cm, function (range) {\n    var top = cm.charCoords(range.head, \"div\").top + 5\n    var rightPos = cm.coordsChar({left: cm.display.lineDiv.offsetWidth + 100, top: top}, \"div\")\n    return {from: range.from(), to: rightPos }\n  }); },\n  undo: function (cm) { return cm.undo(); },\n  redo: function (cm) { return cm.redo(); },\n  undoSelection: function (cm) { return cm.undoSelection(); },\n  redoSelection: function (cm) { return cm.redoSelection(); },\n  goDocStart: function (cm) { return cm.extendSelection(Pos(cm.firstLine(), 0)); },\n  goDocEnd: function (cm) { return cm.extendSelection(Pos(cm.lastLine())); },\n  goLineStart: function (cm) { return cm.extendSelectionsBy(function (range) { return lineStart(cm, range.head.line); },\n    {origin: \"+move\", bias: 1}\n  ); },\n  goLineStartSmart: function (cm) { return cm.extendSelectionsBy(function (range) { return lineStartSmart(cm, range.head); },\n    {origin: \"+move\", bias: 1}\n  ); },\n  goLineEnd: function (cm) { return cm.extendSelectionsBy(function (range) { return lineEnd(cm, range.head.line); },\n    {origin: \"+move\", bias: -1}\n  ); },\n  goLineRight: function (cm) { return cm.extendSelectionsBy(function (range) {\n    var top = cm.cursorCoords(range.head, \"div\").top + 5\n    return cm.coordsChar({left: cm.display.lineDiv.offsetWidth + 100, top: top}, \"div\")\n  }, sel_move); },\n  goLineLeft: function (cm) { return cm.extendSelectionsBy(function (range) {\n    var top = cm.cursorCoords(range.head, \"div\").top + 5\n    return cm.coordsChar({left: 0, top: top}, \"div\")\n  }, sel_move); },\n  goLineLeftSmart: function (cm) { return cm.extendSelectionsBy(function (range) {\n    var top = cm.cursorCoords(range.head, \"div\").top + 5\n    var pos = cm.coordsChar({left: 0, top: top}, \"div\")\n    if (pos.ch < cm.getLine(pos.line).search(/\\S/)) { return lineStartSmart(cm, range.head) }\n    return pos\n  }, sel_move); },\n  goLineUp: function (cm) { return cm.moveV(-1, \"line\"); },\n  goLineDown: function (cm) { return cm.moveV(1, \"line\"); },\n  goPageUp: function (cm) { return cm.moveV(-1, \"page\"); },\n  goPageDown: function (cm) { return cm.moveV(1, \"page\"); },\n  goCharLeft: function (cm) { return cm.moveH(-1, \"char\"); },\n  goCharRight: function (cm) { return cm.moveH(1, \"char\"); },\n  goColumnLeft: function (cm) { return cm.moveH(-1, \"column\"); },\n  goColumnRight: function (cm) { return cm.moveH(1, \"column\"); },\n  goWordLeft: function (cm) { return cm.moveH(-1, \"word\"); },\n  goGroupRight: function (cm) { return cm.moveH(1, \"group\"); },\n  goGroupLeft: function (cm) { return cm.moveH(-1, \"group\"); },\n  goWordRight: function (cm) { return cm.moveH(1, \"word\"); },\n  delCharBefore: function (cm) { return cm.deleteH(-1, \"char\"); },\n  delCharAfter: function (cm) { return cm.deleteH(1, \"char\"); },\n  delWordBefore: function (cm) { return cm.deleteH(-1, \"word\"); },\n  delWordAfter: function (cm) { return cm.deleteH(1, \"word\"); },\n  delGroupBefore: function (cm) { return cm.deleteH(-1, \"group\"); },\n  delGroupAfter: function (cm) { return cm.deleteH(1, \"group\"); },\n  indentAuto: function (cm) { return cm.indentSelection(\"smart\"); },\n  indentMore: function (cm) { return cm.indentSelection(\"add\"); },\n  indentLess: function (cm) { return cm.indentSelection(\"subtract\"); },\n  insertTab: function (cm) { return cm.replaceSelection(\"\\t\"); },\n  insertSoftTab: function (cm) {\n    var spaces = [], ranges = cm.listSelections(), tabSize = cm.options.tabSize\n    for (var i = 0; i < ranges.length; i++) {\n      var pos = ranges[i].from()\n      var col = countColumn(cm.getLine(pos.line), pos.ch, tabSize)\n      spaces.push(spaceStr(tabSize - col % tabSize))\n    }\n    cm.replaceSelections(spaces)\n  },\n  defaultTab: function (cm) {\n    if (cm.somethingSelected()) { cm.indentSelection(\"add\") }\n    else { cm.execCommand(\"insertTab\") }\n  },\n  // Swap the two chars left and right of each selection's head.\n  // Move cursor behind the two swapped characters afterwards.\n  //\n  // Doesn't consider line feeds a character.\n  // Doesn't scan more than one line above to find a character.\n  // Doesn't do anything on an empty line.\n  // Doesn't do anything with non-empty selections.\n  transposeChars: function (cm) { return runInOp(cm, function () {\n    var ranges = cm.listSelections(), newSel = []\n    for (var i = 0; i < ranges.length; i++) {\n      if (!ranges[i].empty()) { continue }\n      var cur = ranges[i].head, line = getLine(cm.doc, cur.line).text\n      if (line) {\n        if (cur.ch == line.length) { cur = new Pos(cur.line, cur.ch - 1) }\n        if (cur.ch > 0) {\n          cur = new Pos(cur.line, cur.ch + 1)\n          cm.replaceRange(line.charAt(cur.ch - 1) + line.charAt(cur.ch - 2),\n                          Pos(cur.line, cur.ch - 2), cur, \"+transpose\")\n        } else if (cur.line > cm.doc.first) {\n          var prev = getLine(cm.doc, cur.line - 1).text\n          if (prev) {\n            cur = new Pos(cur.line, 1)\n            cm.replaceRange(line.charAt(0) + cm.doc.lineSeparator() +\n                            prev.charAt(prev.length - 1),\n                            Pos(cur.line - 1, prev.length - 1), cur, \"+transpose\")\n          }\n        }\n      }\n      newSel.push(new Range(cur, cur))\n    }\n    cm.setSelections(newSel)\n  }); },\n  newlineAndIndent: function (cm) { return runInOp(cm, function () {\n    var sels = cm.listSelections()\n    for (var i = sels.length - 1; i >= 0; i--)\n      { cm.replaceRange(cm.doc.lineSeparator(), sels[i].anchor, sels[i].head, \"+input\") }\n    sels = cm.listSelections()\n    for (var i$1 = 0; i$1 < sels.length; i$1++)\n      { cm.indentLine(sels[i$1].from().line, null, true) }\n    ensureCursorVisible(cm)\n  }); },\n  openLine: function (cm) { return cm.replaceSelection(\"\\n\", \"start\"); },\n  toggleOverwrite: function (cm) { return cm.toggleOverwrite(); }\n}\n\n\nfunction lineStart(cm, lineN) {\n  var line = getLine(cm.doc, lineN)\n  var visual = visualLine(line)\n  if (visual != line) { lineN = lineNo(visual) }\n  return endOfLine(true, cm, visual, lineN, 1)\n}\nfunction lineEnd(cm, lineN) {\n  var line = getLine(cm.doc, lineN)\n  var visual = visualLineEnd(line)\n  if (visual != line) { lineN = lineNo(visual) }\n  return endOfLine(true, cm, line, lineN, -1)\n}\nfunction lineStartSmart(cm, pos) {\n  var start = lineStart(cm, pos.line)\n  var line = getLine(cm.doc, start.line)\n  var order = getOrder(line, cm.doc.direction)\n  if (!order || order[0].level == 0) {\n    var firstNonWS = Math.max(0, line.text.search(/\\S/))\n    var inWS = pos.line == start.line && pos.ch <= firstNonWS && pos.ch\n    return Pos(start.line, inWS ? 0 : firstNonWS, start.sticky)\n  }\n  return start\n}\n\n// Run a handler that was bound to a key.\nfunction doHandleBinding(cm, bound, dropShift) {\n  if (typeof bound == \"string\") {\n    bound = commands[bound]\n    if (!bound) { return false }\n  }\n  // Ensure previous input has been read, so that the handler sees a\n  // consistent view of the document\n  cm.display.input.ensurePolled()\n  var prevShift = cm.display.shift, done = false\n  try {\n    if (cm.isReadOnly()) { cm.state.suppressEdits = true }\n    if (dropShift) { cm.display.shift = false }\n    done = bound(cm) != Pass\n  } finally {\n    cm.display.shift = prevShift\n    cm.state.suppressEdits = false\n  }\n  return done\n}\n\nfunction lookupKeyForEditor(cm, name, handle) {\n  for (var i = 0; i < cm.state.keyMaps.length; i++) {\n    var result = lookupKey(name, cm.state.keyMaps[i], handle, cm)\n    if (result) { return result }\n  }\n  return (cm.options.extraKeys && lookupKey(name, cm.options.extraKeys, handle, cm))\n    || lookupKey(name, cm.options.keyMap, handle, cm)\n}\n\n// Note that, despite the name, this function is also used to check\n// for bound mouse clicks.\n\nvar stopSeq = new Delayed\n\nfunction dispatchKey(cm, name, e, handle) {\n  var seq = cm.state.keySeq\n  if (seq) {\n    if (isModifierKey(name)) { return \"handled\" }\n    if (/\\'$/.test(name))\n      { cm.state.keySeq = null }\n    else\n      { stopSeq.set(50, function () {\n        if (cm.state.keySeq == seq) {\n          cm.state.keySeq = null\n          cm.display.input.reset()\n        }\n      }) }\n    if (dispatchKeyInner(cm, seq + \" \" + name, e, handle)) { return true }\n  }\n  return dispatchKeyInner(cm, name, e, handle)\n}\n\nfunction dispatchKeyInner(cm, name, e, handle) {\n  var result = lookupKeyForEditor(cm, name, handle)\n\n  if (result == \"multi\")\n    { cm.state.keySeq = name }\n  if (result == \"handled\")\n    { signalLater(cm, \"keyHandled\", cm, name, e) }\n\n  if (result == \"handled\" || result == \"multi\") {\n    e_preventDefault(e)\n    restartBlink(cm)\n  }\n\n  return !!result\n}\n\n// Handle a key from the keydown event.\nfunction handleKeyBinding(cm, e) {\n  var name = keyName(e, true)\n  if (!name) { return false }\n\n  if (e.shiftKey && !cm.state.keySeq) {\n    // First try to resolve full name (including 'Shift-'). Failing\n    // that, see if there is a cursor-motion command (starting with\n    // 'go') bound to the keyname without 'Shift-'.\n    return dispatchKey(cm, \"Shift-\" + name, e, function (b) { return doHandleBinding(cm, b, true); })\n        || dispatchKey(cm, name, e, function (b) {\n             if (typeof b == \"string\" ? /^go[A-Z]/.test(b) : b.motion)\n               { return doHandleBinding(cm, b) }\n           })\n  } else {\n    return dispatchKey(cm, name, e, function (b) { return doHandleBinding(cm, b); })\n  }\n}\n\n// Handle a key from the keypress event\nfunction handleCharBinding(cm, e, ch) {\n  return dispatchKey(cm, \"'\" + ch + \"'\", e, function (b) { return doHandleBinding(cm, b, true); })\n}\n\nvar lastStoppedKey = null\nfunction onKeyDown(e) {\n  var cm = this\n  cm.curOp.focus = activeElt()\n  if (signalDOMEvent(cm, e)) { return }\n  // IE does strange things with escape.\n  if (ie && ie_version < 11 && e.keyCode == 27) { e.returnValue = false }\n  var code = e.keyCode\n  cm.display.shift = code == 16 || e.shiftKey\n  var handled = handleKeyBinding(cm, e)\n  if (presto) {\n    lastStoppedKey = handled ? code : null\n    // Opera has no cut event... we try to at least catch the key combo\n    if (!handled && code == 88 && !hasCopyEvent && (mac ? e.metaKey : e.ctrlKey))\n      { cm.replaceSelection(\"\", null, \"cut\") }\n  }\n\n  // Turn mouse into crosshair when Alt is held on Mac.\n  if (code == 18 && !/\\bCodeMirror-crosshair\\b/.test(cm.display.lineDiv.className))\n    { showCrossHair(cm) }\n}\n\nfunction showCrossHair(cm) {\n  var lineDiv = cm.display.lineDiv\n  addClass(lineDiv, \"CodeMirror-crosshair\")\n\n  function up(e) {\n    if (e.keyCode == 18 || !e.altKey) {\n      rmClass(lineDiv, \"CodeMirror-crosshair\")\n      off(document, \"keyup\", up)\n      off(document, \"mouseover\", up)\n    }\n  }\n  on(document, \"keyup\", up)\n  on(document, \"mouseover\", up)\n}\n\nfunction onKeyUp(e) {\n  if (e.keyCode == 16) { this.doc.sel.shift = false }\n  signalDOMEvent(this, e)\n}\n\nfunction onKeyPress(e) {\n  var cm = this\n  if (eventInWidget(cm.display, e) || signalDOMEvent(cm, e) || e.ctrlKey && !e.altKey || mac && e.metaKey) { return }\n  var keyCode = e.keyCode, charCode = e.charCode\n  if (presto && keyCode == lastStoppedKey) {lastStoppedKey = null; e_preventDefault(e); return}\n  if ((presto && (!e.which || e.which < 10)) && handleKeyBinding(cm, e)) { return }\n  var ch = String.fromCharCode(charCode == null ? keyCode : charCode)\n  // Some browsers fire keypress events for backspace\n  if (ch == \"\\x08\") { return }\n  if (handleCharBinding(cm, e, ch)) { return }\n  cm.display.input.onKeyPress(e)\n}\n\nvar DOUBLECLICK_DELAY = 400\n\nvar PastClick = function(time, pos, button) {\n  this.time = time\n  this.pos = pos\n  this.button = button\n};\n\nPastClick.prototype.compare = function (time, pos, button) {\n  return this.time + DOUBLECLICK_DELAY > time &&\n    cmp(pos, this.pos) == 0 && button == this.button\n};\n\nvar lastClick;\nvar lastDoubleClick;\nfunction clickRepeat(pos, button) {\n  var now = +new Date\n  if (lastDoubleClick && lastDoubleClick.compare(now, pos, button)) {\n    lastClick = lastDoubleClick = null\n    return \"triple\"\n  } else if (lastClick && lastClick.compare(now, pos, button)) {\n    lastDoubleClick = new PastClick(now, pos, button)\n    lastClick = null\n    return \"double\"\n  } else {\n    lastClick = new PastClick(now, pos, button)\n    lastDoubleClick = null\n    return \"single\"\n  }\n}\n\n// A mouse down can be a single click, double click, triple click,\n// start of selection drag, start of text drag, new cursor\n// (ctrl-click), rectangle drag (alt-drag), or xwin\n// middle-click-paste. Or it might be a click on something we should\n// not interfere with, such as a scrollbar or widget.\nfunction onMouseDown(e) {\n  var cm = this, display = cm.display\n  if (signalDOMEvent(cm, e) || display.activeTouch && display.input.supportsTouch()) { return }\n  display.input.ensurePolled()\n  display.shift = e.shiftKey\n\n  if (eventInWidget(display, e)) {\n    if (!webkit) {\n      // Briefly turn off draggability, to allow widgets to do\n      // normal dragging things.\n      display.scroller.draggable = false\n      setTimeout(function () { return display.scroller.draggable = true; }, 100)\n    }\n    return\n  }\n  if (clickInGutter(cm, e)) { return }\n  var pos = posFromMouse(cm, e), button = e_button(e), repeat = pos ? clickRepeat(pos, button) : \"single\"\n  window.focus()\n\n  // #3261: make sure, that we're not starting a second selection\n  if (button == 1 && cm.state.selectingText)\n    { cm.state.selectingText(e) }\n\n  if (pos && handleMappedButton(cm, button, pos, repeat, e)) { return }\n\n  if (button == 1) {\n    if (pos) { leftButtonDown(cm, pos, repeat, e) }\n    else if (e_target(e) == display.scroller) { e_preventDefault(e) }\n  } else if (button == 2) {\n    if (pos) { extendSelection(cm.doc, pos) }\n    setTimeout(function () { return display.input.focus(); }, 20)\n  } else if (button == 3) {\n    if (captureRightClick) { onContextMenu(cm, e) }\n    else { delayBlurEvent(cm) }\n  }\n}\n\nfunction handleMappedButton(cm, button, pos, repeat, event) {\n  var name = \"Click\"\n  if (repeat == \"double\") { name = \"Double\" + name }\n  else if (repeat == \"triple\") { name = \"Triple\" + name }\n  name = (button == 1 ? \"Left\" : button == 2 ? \"Middle\" : \"Right\") + name\n\n  return dispatchKey(cm,  addModifierNames(name, event), event, function (bound) {\n    if (typeof bound == \"string\") { bound = commands[bound] }\n    if (!bound) { return false }\n    var done = false\n    try {\n      if (cm.isReadOnly()) { cm.state.suppressEdits = true }\n      done = bound(cm, pos) != Pass\n    } finally {\n      cm.state.suppressEdits = false\n    }\n    return done\n  })\n}\n\nfunction configureMouse(cm, repeat, event) {\n  var option = cm.getOption(\"configureMouse\")\n  var value = option ? option(cm, repeat, event) : {}\n  if (value.unit == null) {\n    var rect = chromeOS ? event.shiftKey && event.metaKey : event.altKey\n    value.unit = rect ? \"rectangle\" : repeat == \"single\" ? \"char\" : repeat == \"double\" ? \"word\" : \"line\"\n  }\n  if (value.extend == null || cm.doc.extend) { value.extend = cm.doc.extend || event.shiftKey }\n  if (value.addNew == null) { value.addNew = mac ? event.metaKey : event.ctrlKey }\n  if (value.moveOnDrag == null) { value.moveOnDrag = !(mac ? event.altKey : event.ctrlKey) }\n  return value\n}\n\nfunction leftButtonDown(cm, pos, repeat, event) {\n  if (ie) { setTimeout(bind(ensureFocus, cm), 0) }\n  else { cm.curOp.focus = activeElt() }\n\n  var behavior = configureMouse(cm, repeat, event)\n\n  var sel = cm.doc.sel, contained\n  if (cm.options.dragDrop && dragAndDrop && !cm.isReadOnly() &&\n      repeat == \"single\" && (contained = sel.contains(pos)) > -1 &&\n      (cmp((contained = sel.ranges[contained]).from(), pos) < 0 || pos.xRel > 0) &&\n      (cmp(contained.to(), pos) > 0 || pos.xRel < 0))\n    { leftButtonStartDrag(cm, event, pos, behavior) }\n  else\n    { leftButtonSelect(cm, event, pos, behavior) }\n}\n\n// Start a text drag. When it ends, see if any dragging actually\n// happen, and treat as a click if it didn't.\nfunction leftButtonStartDrag(cm, event, pos, behavior) {\n  var display = cm.display, moved = false\n  var dragEnd = operation(cm, function (e) {\n    if (webkit) { display.scroller.draggable = false }\n    cm.state.draggingText = false\n    off(document, \"mouseup\", dragEnd)\n    off(document, \"mousemove\", mouseMove)\n    off(display.scroller, \"dragstart\", dragStart)\n    off(display.scroller, \"drop\", dragEnd)\n    if (!moved) {\n      e_preventDefault(e)\n      if (!behavior.addNew)\n        { extendSelection(cm.doc, pos, null, null, behavior.extend) }\n      // Work around unexplainable focus problem in IE9 (#2127) and Chrome (#3081)\n      if (webkit || ie && ie_version == 9)\n        { setTimeout(function () {document.body.focus(); display.input.focus()}, 20) }\n      else\n        { display.input.focus() }\n    }\n  })\n  var mouseMove = function(e2) {\n    moved = moved || Math.abs(event.clientX - e2.clientX) + Math.abs(event.clientY - e2.clientY) >= 10\n  }\n  var dragStart = function () { return moved = true; }\n  // Let the drag handler handle this.\n  if (webkit) { display.scroller.draggable = true }\n  cm.state.draggingText = dragEnd\n  dragEnd.copy = !behavior.moveOnDrag\n  // IE's approach to draggable\n  if (display.scroller.dragDrop) { display.scroller.dragDrop() }\n  on(document, \"mouseup\", dragEnd)\n  on(document, \"mousemove\", mouseMove)\n  on(display.scroller, \"dragstart\", dragStart)\n  on(display.scroller, \"drop\", dragEnd)\n\n  delayBlurEvent(cm)\n  setTimeout(function () { return display.input.focus(); }, 20)\n}\n\nfunction rangeForUnit(cm, pos, unit) {\n  if (unit == \"char\") { return new Range(pos, pos) }\n  if (unit == \"word\") { return cm.findWordAt(pos) }\n  if (unit == \"line\") { return new Range(Pos(pos.line, 0), clipPos(cm.doc, Pos(pos.line + 1, 0))) }\n  var result = unit(cm, pos)\n  return new Range(result.from, result.to)\n}\n\n// Normal selection, as opposed to text dragging.\nfunction leftButtonSelect(cm, event, start, behavior) {\n  var display = cm.display, doc = cm.doc\n  e_preventDefault(event)\n\n  var ourRange, ourIndex, startSel = doc.sel, ranges = startSel.ranges\n  if (behavior.addNew && !behavior.extend) {\n    ourIndex = doc.sel.contains(start)\n    if (ourIndex > -1)\n      { ourRange = ranges[ourIndex] }\n    else\n      { ourRange = new Range(start, start) }\n  } else {\n    ourRange = doc.sel.primary()\n    ourIndex = doc.sel.primIndex\n  }\n\n  if (behavior.unit == \"rectangle\") {\n    if (!behavior.addNew) { ourRange = new Range(start, start) }\n    start = posFromMouse(cm, event, true, true)\n    ourIndex = -1\n  } else {\n    var range = rangeForUnit(cm, start, behavior.unit)\n    if (behavior.extend)\n      { ourRange = extendRange(ourRange, range.anchor, range.head, behavior.extend) }\n    else\n      { ourRange = range }\n  }\n\n  if (!behavior.addNew) {\n    ourIndex = 0\n    setSelection(doc, new Selection([ourRange], 0), sel_mouse)\n    startSel = doc.sel\n  } else if (ourIndex == -1) {\n    ourIndex = ranges.length\n    setSelection(doc, normalizeSelection(ranges.concat([ourRange]), ourIndex),\n                 {scroll: false, origin: \"*mouse\"})\n  } else if (ranges.length > 1 && ranges[ourIndex].empty() && behavior.unit == \"char\" && !behavior.extend) {\n    setSelection(doc, normalizeSelection(ranges.slice(0, ourIndex).concat(ranges.slice(ourIndex + 1)), 0),\n                 {scroll: false, origin: \"*mouse\"})\n    startSel = doc.sel\n  } else {\n    replaceOneSelection(doc, ourIndex, ourRange, sel_mouse)\n  }\n\n  var lastPos = start\n  function extendTo(pos) {\n    if (cmp(lastPos, pos) == 0) { return }\n    lastPos = pos\n\n    if (behavior.unit == \"rectangle\") {\n      var ranges = [], tabSize = cm.options.tabSize\n      var startCol = countColumn(getLine(doc, start.line).text, start.ch, tabSize)\n      var posCol = countColumn(getLine(doc, pos.line).text, pos.ch, tabSize)\n      var left = Math.min(startCol, posCol), right = Math.max(startCol, posCol)\n      for (var line = Math.min(start.line, pos.line), end = Math.min(cm.lastLine(), Math.max(start.line, pos.line));\n           line <= end; line++) {\n        var text = getLine(doc, line).text, leftPos = findColumn(text, left, tabSize)\n        if (left == right)\n          { ranges.push(new Range(Pos(line, leftPos), Pos(line, leftPos))) }\n        else if (text.length > leftPos)\n          { ranges.push(new Range(Pos(line, leftPos), Pos(line, findColumn(text, right, tabSize)))) }\n      }\n      if (!ranges.length) { ranges.push(new Range(start, start)) }\n      setSelection(doc, normalizeSelection(startSel.ranges.slice(0, ourIndex).concat(ranges), ourIndex),\n                   {origin: \"*mouse\", scroll: false})\n      cm.scrollIntoView(pos)\n    } else {\n      var oldRange = ourRange\n      var range = rangeForUnit(cm, pos, behavior.unit)\n      var anchor = oldRange.anchor, head\n      if (cmp(range.anchor, anchor) > 0) {\n        head = range.head\n        anchor = minPos(oldRange.from(), range.anchor)\n      } else {\n        head = range.anchor\n        anchor = maxPos(oldRange.to(), range.head)\n      }\n      var ranges$1 = startSel.ranges.slice(0)\n      ranges$1[ourIndex] = bidiSimplify(cm, new Range(clipPos(doc, anchor), head))\n      setSelection(doc, normalizeSelection(ranges$1, ourIndex), sel_mouse)\n    }\n  }\n\n  var editorSize = display.wrapper.getBoundingClientRect()\n  // Used to ensure timeout re-tries don't fire when another extend\n  // happened in the meantime (clearTimeout isn't reliable -- at\n  // least on Chrome, the timeouts still happen even when cleared,\n  // if the clear happens after their scheduled firing time).\n  var counter = 0\n\n  function extend(e) {\n    var curCount = ++counter\n    var cur = posFromMouse(cm, e, true, behavior.unit == \"rectangle\")\n    if (!cur) { return }\n    if (cmp(cur, lastPos) != 0) {\n      cm.curOp.focus = activeElt()\n      extendTo(cur)\n      var visible = visibleLines(display, doc)\n      if (cur.line >= visible.to || cur.line < visible.from)\n        { setTimeout(operation(cm, function () {if (counter == curCount) { extend(e) }}), 150) }\n    } else {\n      var outside = e.clientY < editorSize.top ? -20 : e.clientY > editorSize.bottom ? 20 : 0\n      if (outside) { setTimeout(operation(cm, function () {\n        if (counter != curCount) { return }\n        display.scroller.scrollTop += outside\n        extend(e)\n      }), 50) }\n    }\n  }\n\n  function done(e) {\n    cm.state.selectingText = false\n    counter = Infinity\n    e_preventDefault(e)\n    display.input.focus()\n    off(document, \"mousemove\", move)\n    off(document, \"mouseup\", up)\n    doc.history.lastSelOrigin = null\n  }\n\n  var move = operation(cm, function (e) {\n    if (!e_button(e)) { done(e) }\n    else { extend(e) }\n  })\n  var up = operation(cm, done)\n  cm.state.selectingText = up\n  on(document, \"mousemove\", move)\n  on(document, \"mouseup\", up)\n}\n\n// Used when mouse-selecting to adjust the anchor to the proper side\n// of a bidi jump depending on the visual position of the head.\nfunction bidiSimplify(cm, range) {\n  var anchor = range.anchor;\n  var head = range.head;\n  var anchorLine = getLine(cm.doc, anchor.line)\n  if (cmp(anchor, head) == 0 && anchor.sticky == head.sticky) { return range }\n  var order = getOrder(anchorLine)\n  if (!order) { return range }\n  var index = getBidiPartAt(order, anchor.ch, anchor.sticky), part = order[index]\n  if (part.from != anchor.ch && part.to != anchor.ch) { return range }\n  var boundary = index + ((part.from == anchor.ch) == (part.level != 1) ? 0 : 1)\n  if (boundary == 0 || boundary == order.length) { return range }\n\n  // Compute the relative visual position of the head compared to the\n  // anchor (<0 is to the left, >0 to the right)\n  var leftSide\n  if (head.line != anchor.line) {\n    leftSide = (head.line - anchor.line) * (cm.doc.direction == \"ltr\" ? 1 : -1) > 0\n  } else {\n    var headIndex = getBidiPartAt(order, head.ch, head.sticky)\n    var dir = headIndex - index || (head.ch - anchor.ch) * (part.level == 1 ? -1 : 1)\n    if (headIndex == boundary - 1 || headIndex == boundary)\n      { leftSide = dir < 0 }\n    else\n      { leftSide = dir > 0 }\n  }\n\n  var usePart = order[boundary + (leftSide ? -1 : 0)]\n  var from = leftSide == (usePart.level == 1)\n  var ch = from ? usePart.from : usePart.to, sticky = from ? \"after\" : \"before\"\n  return anchor.ch == ch && anchor.sticky == sticky ? range : new Range(new Pos(anchor.line, ch, sticky), head)\n}\n\n\n// Determines whether an event happened in the gutter, and fires the\n// handlers for the corresponding event.\nfunction gutterEvent(cm, e, type, prevent) {\n  var mX, mY\n  if (e.touches) {\n    mX = e.touches[0].clientX\n    mY = e.touches[0].clientY\n  } else {\n    try { mX = e.clientX; mY = e.clientY }\n    catch(e) { return false }\n  }\n  if (mX >= Math.floor(cm.display.gutters.getBoundingClientRect().right)) { return false }\n  if (prevent) { e_preventDefault(e) }\n\n  var display = cm.display\n  var lineBox = display.lineDiv.getBoundingClientRect()\n\n  if (mY > lineBox.bottom || !hasHandler(cm, type)) { return e_defaultPrevented(e) }\n  mY -= lineBox.top - display.viewOffset\n\n  for (var i = 0; i < cm.options.gutters.length; ++i) {\n    var g = display.gutters.childNodes[i]\n    if (g && g.getBoundingClientRect().right >= mX) {\n      var line = lineAtHeight(cm.doc, mY)\n      var gutter = cm.options.gutters[i]\n      signal(cm, type, cm, line, gutter, e)\n      return e_defaultPrevented(e)\n    }\n  }\n}\n\nfunction clickInGutter(cm, e) {\n  return gutterEvent(cm, e, \"gutterClick\", true)\n}\n\n// CONTEXT MENU HANDLING\n\n// To make the context menu work, we need to briefly unhide the\n// textarea (making it as unobtrusive as possible) to let the\n// right-click take effect on it.\nfunction onContextMenu(cm, e) {\n  if (eventInWidget(cm.display, e) || contextMenuInGutter(cm, e)) { return }\n  if (signalDOMEvent(cm, e, \"contextmenu\")) { return }\n  cm.display.input.onContextMenu(e)\n}\n\nfunction contextMenuInGutter(cm, e) {\n  if (!hasHandler(cm, \"gutterContextMenu\")) { return false }\n  return gutterEvent(cm, e, \"gutterContextMenu\", false)\n}\n\nfunction themeChanged(cm) {\n  cm.display.wrapper.className = cm.display.wrapper.className.replace(/\\s*cm-s-\\S+/g, \"\") +\n    cm.options.theme.replace(/(^|\\s)\\s*/g, \" cm-s-\")\n  clearCaches(cm)\n}\n\nvar Init = {toString: function(){return \"CodeMirror.Init\"}}\n\nvar defaults = {}\nvar optionHandlers = {}\n\nfunction defineOptions(CodeMirror) {\n  var optionHandlers = CodeMirror.optionHandlers\n\n  function option(name, deflt, handle, notOnInit) {\n    CodeMirror.defaults[name] = deflt\n    if (handle) { optionHandlers[name] =\n      notOnInit ? function (cm, val, old) {if (old != Init) { handle(cm, val, old) }} : handle }\n  }\n\n  CodeMirror.defineOption = option\n\n  // Passed to option handlers when there is no old value.\n  CodeMirror.Init = Init\n\n  // These two are, on init, called from the constructor because they\n  // have to be initialized before the editor can start at all.\n  option(\"value\", \"\", function (cm, val) { return cm.setValue(val); }, true)\n  option(\"mode\", null, function (cm, val) {\n    cm.doc.modeOption = val\n    loadMode(cm)\n  }, true)\n\n  option(\"indentUnit\", 2, loadMode, true)\n  option(\"indentWithTabs\", false)\n  option(\"smartIndent\", true)\n  option(\"tabSize\", 4, function (cm) {\n    resetModeState(cm)\n    clearCaches(cm)\n    regChange(cm)\n  }, true)\n  option(\"lineSeparator\", null, function (cm, val) {\n    cm.doc.lineSep = val\n    if (!val) { return }\n    var newBreaks = [], lineNo = cm.doc.first\n    cm.doc.iter(function (line) {\n      for (var pos = 0;;) {\n        var found = line.text.indexOf(val, pos)\n        if (found == -1) { break }\n        pos = found + val.length\n        newBreaks.push(Pos(lineNo, found))\n      }\n      lineNo++\n    })\n    for (var i = newBreaks.length - 1; i >= 0; i--)\n      { replaceRange(cm.doc, val, newBreaks[i], Pos(newBreaks[i].line, newBreaks[i].ch + val.length)) }\n  })\n  option(\"specialChars\", /[\\u0000-\\u001f\\u007f-\\u009f\\u00ad\\u061c\\u200b-\\u200f\\u2028\\u2029\\ufeff]/g, function (cm, val, old) {\n    cm.state.specialChars = new RegExp(val.source + (val.test(\"\\t\") ? \"\" : \"|\\t\"), \"g\")\n    if (old != Init) { cm.refresh() }\n  })\n  option(\"specialCharPlaceholder\", defaultSpecialCharPlaceholder, function (cm) { return cm.refresh(); }, true)\n  option(\"electricChars\", true)\n  option(\"inputStyle\", mobile ? \"contenteditable\" : \"textarea\", function () {\n    throw new Error(\"inputStyle can not (yet) be changed in a running editor\") // FIXME\n  }, true)\n  option(\"spellcheck\", false, function (cm, val) { return cm.getInputField().spellcheck = val; }, true)\n  option(\"rtlMoveVisually\", !windows)\n  option(\"wholeLineUpdateBefore\", true)\n\n  option(\"theme\", \"default\", function (cm) {\n    themeChanged(cm)\n    guttersChanged(cm)\n  }, true)\n  option(\"keyMap\", \"default\", function (cm, val, old) {\n    var next = getKeyMap(val)\n    var prev = old != Init && getKeyMap(old)\n    if (prev && prev.detach) { prev.detach(cm, next) }\n    if (next.attach) { next.attach(cm, prev || null) }\n  })\n  option(\"extraKeys\", null)\n  option(\"configureMouse\", null)\n\n  option(\"lineWrapping\", false, wrappingChanged, true)\n  option(\"gutters\", [], function (cm) {\n    setGuttersForLineNumbers(cm.options)\n    guttersChanged(cm)\n  }, true)\n  option(\"fixedGutter\", true, function (cm, val) {\n    cm.display.gutters.style.left = val ? compensateForHScroll(cm.display) + \"px\" : \"0\"\n    cm.refresh()\n  }, true)\n  option(\"coverGutterNextToScrollbar\", false, function (cm) { return updateScrollbars(cm); }, true)\n  option(\"scrollbarStyle\", \"native\", function (cm) {\n    initScrollbars(cm)\n    updateScrollbars(cm)\n    cm.display.scrollbars.setScrollTop(cm.doc.scrollTop)\n    cm.display.scrollbars.setScrollLeft(cm.doc.scrollLeft)\n  }, true)\n  option(\"lineNumbers\", false, function (cm) {\n    setGuttersForLineNumbers(cm.options)\n    guttersChanged(cm)\n  }, true)\n  option(\"firstLineNumber\", 1, guttersChanged, true)\n  option(\"lineNumberFormatter\", function (integer) { return integer; }, guttersChanged, true)\n  option(\"showCursorWhenSelecting\", false, updateSelection, true)\n\n  option(\"resetSelectionOnContextMenu\", true)\n  option(\"lineWiseCopyCut\", true)\n  option(\"pasteLinesPerSelection\", true)\n\n  option(\"readOnly\", false, function (cm, val) {\n    if (val == \"nocursor\") {\n      onBlur(cm)\n      cm.display.input.blur()\n    }\n    cm.display.input.readOnlyChanged(val)\n  })\n  option(\"disableInput\", false, function (cm, val) {if (!val) { cm.display.input.reset() }}, true)\n  option(\"dragDrop\", true, dragDropChanged)\n  option(\"allowDropFileTypes\", null)\n\n  option(\"cursorBlinkRate\", 530)\n  option(\"cursorScrollMargin\", 0)\n  option(\"cursorHeight\", 1, updateSelection, true)\n  option(\"singleCursorHeightPerLine\", true, updateSelection, true)\n  option(\"workTime\", 100)\n  option(\"workDelay\", 100)\n  option(\"flattenSpans\", true, resetModeState, true)\n  option(\"addModeClass\", false, resetModeState, true)\n  option(\"pollInterval\", 100)\n  option(\"undoDepth\", 200, function (cm, val) { return cm.doc.history.undoDepth = val; })\n  option(\"historyEventDelay\", 1250)\n  option(\"viewportMargin\", 10, function (cm) { return cm.refresh(); }, true)\n  option(\"maxHighlightLength\", 10000, resetModeState, true)\n  option(\"moveInputWithCursor\", true, function (cm, val) {\n    if (!val) { cm.display.input.resetPosition() }\n  })\n\n  option(\"tabindex\", null, function (cm, val) { return cm.display.input.getField().tabIndex = val || \"\"; })\n  option(\"autofocus\", null)\n  option(\"direction\", \"ltr\", function (cm, val) { return cm.doc.setDirection(val); }, true)\n}\n\nfunction guttersChanged(cm) {\n  updateGutters(cm)\n  regChange(cm)\n  alignHorizontally(cm)\n}\n\nfunction dragDropChanged(cm, value, old) {\n  var wasOn = old && old != Init\n  if (!value != !wasOn) {\n    var funcs = cm.display.dragFunctions\n    var toggle = value ? on : off\n    toggle(cm.display.scroller, \"dragstart\", funcs.start)\n    toggle(cm.display.scroller, \"dragenter\", funcs.enter)\n    toggle(cm.display.scroller, \"dragover\", funcs.over)\n    toggle(cm.display.scroller, \"dragleave\", funcs.leave)\n    toggle(cm.display.scroller, \"drop\", funcs.drop)\n  }\n}\n\nfunction wrappingChanged(cm) {\n  if (cm.options.lineWrapping) {\n    addClass(cm.display.wrapper, \"CodeMirror-wrap\")\n    cm.display.sizer.style.minWidth = \"\"\n    cm.display.sizerWidth = null\n  } else {\n    rmClass(cm.display.wrapper, \"CodeMirror-wrap\")\n    findMaxLine(cm)\n  }\n  estimateLineHeights(cm)\n  regChange(cm)\n  clearCaches(cm)\n  setTimeout(function () { return updateScrollbars(cm); }, 100)\n}\n\n// A CodeMirror instance represents an editor. This is the object\n// that user code is usually dealing with.\n\nfunction CodeMirror(place, options) {\n  var this$1 = this;\n\n  if (!(this instanceof CodeMirror)) { return new CodeMirror(place, options) }\n\n  this.options = options = options ? copyObj(options) : {}\n  // Determine effective options based on given values and defaults.\n  copyObj(defaults, options, false)\n  setGuttersForLineNumbers(options)\n\n  var doc = options.value\n  if (typeof doc == \"string\") { doc = new Doc(doc, options.mode, null, options.lineSeparator, options.direction) }\n  this.doc = doc\n\n  var input = new CodeMirror.inputStyles[options.inputStyle](this)\n  var display = this.display = new Display(place, doc, input)\n  display.wrapper.CodeMirror = this\n  updateGutters(this)\n  themeChanged(this)\n  if (options.lineWrapping)\n    { this.display.wrapper.className += \" CodeMirror-wrap\" }\n  initScrollbars(this)\n\n  this.state = {\n    keyMaps: [],  // stores maps added by addKeyMap\n    overlays: [], // highlighting overlays, as added by addOverlay\n    modeGen: 0,   // bumped when mode/overlay changes, used to invalidate highlighting info\n    overwrite: false,\n    delayingBlurEvent: false,\n    focused: false,\n    suppressEdits: false, // used to disable editing during key handlers when in readOnly mode\n    pasteIncoming: false, cutIncoming: false, // help recognize paste/cut edits in input.poll\n    selectingText: false,\n    draggingText: false,\n    highlight: new Delayed(), // stores highlight worker timeout\n    keySeq: null,  // Unfinished key sequence\n    specialChars: null\n  }\n\n  if (options.autofocus && !mobile) { display.input.focus() }\n\n  // Override magic textarea content restore that IE sometimes does\n  // on our hidden textarea on reload\n  if (ie && ie_version < 11) { setTimeout(function () { return this$1.display.input.reset(true); }, 20) }\n\n  registerEventHandlers(this)\n  ensureGlobalHandlers()\n\n  startOperation(this)\n  this.curOp.forceUpdate = true\n  attachDoc(this, doc)\n\n  if ((options.autofocus && !mobile) || this.hasFocus())\n    { setTimeout(bind(onFocus, this), 20) }\n  else\n    { onBlur(this) }\n\n  for (var opt in optionHandlers) { if (optionHandlers.hasOwnProperty(opt))\n    { optionHandlers[opt](this$1, options[opt], Init) } }\n  maybeUpdateLineNumberWidth(this)\n  if (options.finishInit) { options.finishInit(this) }\n  for (var i = 0; i < initHooks.length; ++i) { initHooks[i](this$1) }\n  endOperation(this)\n  // Suppress optimizelegibility in Webkit, since it breaks text\n  // measuring on line wrapping boundaries.\n  if (webkit && options.lineWrapping &&\n      getComputedStyle(display.lineDiv).textRendering == \"optimizelegibility\")\n    { display.lineDiv.style.textRendering = \"auto\" }\n}\n\n// The default configuration options.\nCodeMirror.defaults = defaults\n// Functions to run when options are changed.\nCodeMirror.optionHandlers = optionHandlers\n\n// Attach the necessary event handlers when initializing the editor\nfunction registerEventHandlers(cm) {\n  var d = cm.display\n  on(d.scroller, \"mousedown\", operation(cm, onMouseDown))\n  // Older IE's will not fire a second mousedown for a double click\n  if (ie && ie_version < 11)\n    { on(d.scroller, \"dblclick\", operation(cm, function (e) {\n      if (signalDOMEvent(cm, e)) { return }\n      var pos = posFromMouse(cm, e)\n      if (!pos || clickInGutter(cm, e) || eventInWidget(cm.display, e)) { return }\n      e_preventDefault(e)\n      var word = cm.findWordAt(pos)\n      extendSelection(cm.doc, word.anchor, word.head)\n    })) }\n  else\n    { on(d.scroller, \"dblclick\", function (e) { return signalDOMEvent(cm, e) || e_preventDefault(e); }) }\n  // Some browsers fire contextmenu *after* opening the menu, at\n  // which point we can't mess with it anymore. Context menu is\n  // handled in onMouseDown for these browsers.\n  if (!captureRightClick) { on(d.scroller, \"contextmenu\", function (e) { return onContextMenu(cm, e); }) }\n\n  // Used to suppress mouse event handling when a touch happens\n  var touchFinished, prevTouch = {end: 0}\n  function finishTouch() {\n    if (d.activeTouch) {\n      touchFinished = setTimeout(function () { return d.activeTouch = null; }, 1000)\n      prevTouch = d.activeTouch\n      prevTouch.end = +new Date\n    }\n  }\n  function isMouseLikeTouchEvent(e) {\n    if (e.touches.length != 1) { return false }\n    var touch = e.touches[0]\n    return touch.radiusX <= 1 && touch.radiusY <= 1\n  }\n  function farAway(touch, other) {\n    if (other.left == null) { return true }\n    var dx = other.left - touch.left, dy = other.top - touch.top\n    return dx * dx + dy * dy > 20 * 20\n  }\n  on(d.scroller, \"touchstart\", function (e) {\n    if (!signalDOMEvent(cm, e) && !isMouseLikeTouchEvent(e) && !clickInGutter(cm, e)) {\n      d.input.ensurePolled()\n      clearTimeout(touchFinished)\n      var now = +new Date\n      d.activeTouch = {start: now, moved: false,\n                       prev: now - prevTouch.end <= 300 ? prevTouch : null}\n      if (e.touches.length == 1) {\n        d.activeTouch.left = e.touches[0].pageX\n        d.activeTouch.top = e.touches[0].pageY\n      }\n    }\n  })\n  on(d.scroller, \"touchmove\", function () {\n    if (d.activeTouch) { d.activeTouch.moved = true }\n  })\n  on(d.scroller, \"touchend\", function (e) {\n    var touch = d.activeTouch\n    if (touch && !eventInWidget(d, e) && touch.left != null &&\n        !touch.moved && new Date - touch.start < 300) {\n      var pos = cm.coordsChar(d.activeTouch, \"page\"), range\n      if (!touch.prev || farAway(touch, touch.prev)) // Single tap\n        { range = new Range(pos, pos) }\n      else if (!touch.prev.prev || farAway(touch, touch.prev.prev)) // Double tap\n        { range = cm.findWordAt(pos) }\n      else // Triple tap\n        { range = new Range(Pos(pos.line, 0), clipPos(cm.doc, Pos(pos.line + 1, 0))) }\n      cm.setSelection(range.anchor, range.head)\n      cm.focus()\n      e_preventDefault(e)\n    }\n    finishTouch()\n  })\n  on(d.scroller, \"touchcancel\", finishTouch)\n\n  // Sync scrolling between fake scrollbars and real scrollable\n  // area, ensure viewport is updated when scrolling.\n  on(d.scroller, \"scroll\", function () {\n    if (d.scroller.clientHeight) {\n      updateScrollTop(cm, d.scroller.scrollTop)\n      setScrollLeft(cm, d.scroller.scrollLeft, true)\n      signal(cm, \"scroll\", cm)\n    }\n  })\n\n  // Listen to wheel events in order to try and update the viewport on time.\n  on(d.scroller, \"mousewheel\", function (e) { return onScrollWheel(cm, e); })\n  on(d.scroller, \"DOMMouseScroll\", function (e) { return onScrollWheel(cm, e); })\n\n  // Prevent wrapper from ever scrolling\n  on(d.wrapper, \"scroll\", function () { return d.wrapper.scrollTop = d.wrapper.scrollLeft = 0; })\n\n  d.dragFunctions = {\n    enter: function (e) {if (!signalDOMEvent(cm, e)) { e_stop(e) }},\n    over: function (e) {if (!signalDOMEvent(cm, e)) { onDragOver(cm, e); e_stop(e) }},\n    start: function (e) { return onDragStart(cm, e); },\n    drop: operation(cm, onDrop),\n    leave: function (e) {if (!signalDOMEvent(cm, e)) { clearDragCursor(cm) }}\n  }\n\n  var inp = d.input.getField()\n  on(inp, \"keyup\", function (e) { return onKeyUp.call(cm, e); })\n  on(inp, \"keydown\", operation(cm, onKeyDown))\n  on(inp, \"keypress\", operation(cm, onKeyPress))\n  on(inp, \"focus\", function (e) { return onFocus(cm, e); })\n  on(inp, \"blur\", function (e) { return onBlur(cm, e); })\n}\n\nvar initHooks = []\nCodeMirror.defineInitHook = function (f) { return initHooks.push(f); }\n\n// Indent the given line. The how parameter can be \"smart\",\n// \"add\"/null, \"subtract\", or \"prev\". When aggressive is false\n// (typically set to true for forced single-line indents), empty\n// lines are not indented, and places where the mode returns Pass\n// are left alone.\nfunction indentLine(cm, n, how, aggressive) {\n  var doc = cm.doc, state\n  if (how == null) { how = \"add\" }\n  if (how == \"smart\") {\n    // Fall back to \"prev\" when the mode doesn't have an indentation\n    // method.\n    if (!doc.mode.indent) { how = \"prev\" }\n    else { state = getContextBefore(cm, n).state }\n  }\n\n  var tabSize = cm.options.tabSize\n  var line = getLine(doc, n), curSpace = countColumn(line.text, null, tabSize)\n  if (line.stateAfter) { line.stateAfter = null }\n  var curSpaceString = line.text.match(/^\\s*/)[0], indentation\n  if (!aggressive && !/\\S/.test(line.text)) {\n    indentation = 0\n    how = \"not\"\n  } else if (how == \"smart\") {\n    indentation = doc.mode.indent(state, line.text.slice(curSpaceString.length), line.text)\n    if (indentation == Pass || indentation > 150) {\n      if (!aggressive) { return }\n      how = \"prev\"\n    }\n  }\n  if (how == \"prev\") {\n    if (n > doc.first) { indentation = countColumn(getLine(doc, n-1).text, null, tabSize) }\n    else { indentation = 0 }\n  } else if (how == \"add\") {\n    indentation = curSpace + cm.options.indentUnit\n  } else if (how == \"subtract\") {\n    indentation = curSpace - cm.options.indentUnit\n  } else if (typeof how == \"number\") {\n    indentation = curSpace + how\n  }\n  indentation = Math.max(0, indentation)\n\n  var indentString = \"\", pos = 0\n  if (cm.options.indentWithTabs)\n    { for (var i = Math.floor(indentation / tabSize); i; --i) {pos += tabSize; indentString += \"\\t\"} }\n  if (pos < indentation) { indentString += spaceStr(indentation - pos) }\n\n  if (indentString != curSpaceString) {\n    replaceRange(doc, indentString, Pos(n, 0), Pos(n, curSpaceString.length), \"+input\")\n    line.stateAfter = null\n    return true\n  } else {\n    // Ensure that, if the cursor was in the whitespace at the start\n    // of the line, it is moved to the end of that space.\n    for (var i$1 = 0; i$1 < doc.sel.ranges.length; i$1++) {\n      var range = doc.sel.ranges[i$1]\n      if (range.head.line == n && range.head.ch < curSpaceString.length) {\n        var pos$1 = Pos(n, curSpaceString.length)\n        replaceOneSelection(doc, i$1, new Range(pos$1, pos$1))\n        break\n      }\n    }\n  }\n}\n\n// This will be set to a {lineWise: bool, text: [string]} object, so\n// that, when pasting, we know what kind of selections the copied\n// text was made out of.\nvar lastCopied = null\n\nfunction setLastCopied(newLastCopied) {\n  lastCopied = newLastCopied\n}\n\nfunction applyTextInput(cm, inserted, deleted, sel, origin) {\n  var doc = cm.doc\n  cm.display.shift = false\n  if (!sel) { sel = doc.sel }\n\n  var paste = cm.state.pasteIncoming || origin == \"paste\"\n  var textLines = splitLinesAuto(inserted), multiPaste = null\n  // When pasing N lines into N selections, insert one line per selection\n  if (paste && sel.ranges.length > 1) {\n    if (lastCopied && lastCopied.text.join(\"\\n\") == inserted) {\n      if (sel.ranges.length % lastCopied.text.length == 0) {\n        multiPaste = []\n        for (var i = 0; i < lastCopied.text.length; i++)\n          { multiPaste.push(doc.splitLines(lastCopied.text[i])) }\n      }\n    } else if (textLines.length == sel.ranges.length && cm.options.pasteLinesPerSelection) {\n      multiPaste = map(textLines, function (l) { return [l]; })\n    }\n  }\n\n  var updateInput\n  // Normal behavior is to insert the new text into every selection\n  for (var i$1 = sel.ranges.length - 1; i$1 >= 0; i$1--) {\n    var range = sel.ranges[i$1]\n    var from = range.from(), to = range.to()\n    if (range.empty()) {\n      if (deleted && deleted > 0) // Handle deletion\n        { from = Pos(from.line, from.ch - deleted) }\n      else if (cm.state.overwrite && !paste) // Handle overwrite\n        { to = Pos(to.line, Math.min(getLine(doc, to.line).text.length, to.ch + lst(textLines).length)) }\n      else if (lastCopied && lastCopied.lineWise && lastCopied.text.join(\"\\n\") == inserted)\n        { from = to = Pos(from.line, 0) }\n    }\n    updateInput = cm.curOp.updateInput\n    var changeEvent = {from: from, to: to, text: multiPaste ? multiPaste[i$1 % multiPaste.length] : textLines,\n                       origin: origin || (paste ? \"paste\" : cm.state.cutIncoming ? \"cut\" : \"+input\")}\n    makeChange(cm.doc, changeEvent)\n    signalLater(cm, \"inputRead\", cm, changeEvent)\n  }\n  if (inserted && !paste)\n    { triggerElectric(cm, inserted) }\n\n  ensureCursorVisible(cm)\n  cm.curOp.updateInput = updateInput\n  cm.curOp.typing = true\n  cm.state.pasteIncoming = cm.state.cutIncoming = false\n}\n\nfunction handlePaste(e, cm) {\n  var pasted = e.clipboardData && e.clipboardData.getData(\"Text\")\n  if (pasted) {\n    e.preventDefault()\n    if (!cm.isReadOnly() && !cm.options.disableInput)\n      { runInOp(cm, function () { return applyTextInput(cm, pasted, 0, null, \"paste\"); }) }\n    return true\n  }\n}\n\nfunction triggerElectric(cm, inserted) {\n  // When an 'electric' character is inserted, immediately trigger a reindent\n  if (!cm.options.electricChars || !cm.options.smartIndent) { return }\n  var sel = cm.doc.sel\n\n  for (var i = sel.ranges.length - 1; i >= 0; i--) {\n    var range = sel.ranges[i]\n    if (range.head.ch > 100 || (i && sel.ranges[i - 1].head.line == range.head.line)) { continue }\n    var mode = cm.getModeAt(range.head)\n    var indented = false\n    if (mode.electricChars) {\n      for (var j = 0; j < mode.electricChars.length; j++)\n        { if (inserted.indexOf(mode.electricChars.charAt(j)) > -1) {\n          indented = indentLine(cm, range.head.line, \"smart\")\n          break\n        } }\n    } else if (mode.electricInput) {\n      if (mode.electricInput.test(getLine(cm.doc, range.head.line).text.slice(0, range.head.ch)))\n        { indented = indentLine(cm, range.head.line, \"smart\") }\n    }\n    if (indented) { signalLater(cm, \"electricInput\", cm, range.head.line) }\n  }\n}\n\nfunction copyableRanges(cm) {\n  var text = [], ranges = []\n  for (var i = 0; i < cm.doc.sel.ranges.length; i++) {\n    var line = cm.doc.sel.ranges[i].head.line\n    var lineRange = {anchor: Pos(line, 0), head: Pos(line + 1, 0)}\n    ranges.push(lineRange)\n    text.push(cm.getRange(lineRange.anchor, lineRange.head))\n  }\n  return {text: text, ranges: ranges}\n}\n\nfunction disableBrowserMagic(field, spellcheck) {\n  field.setAttribute(\"autocorrect\", \"off\")\n  field.setAttribute(\"autocapitalize\", \"off\")\n  field.setAttribute(\"spellcheck\", !!spellcheck)\n}\n\nfunction hiddenTextarea() {\n  var te = elt(\"textarea\", null, null, \"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none\")\n  var div = elt(\"div\", [te], null, \"overflow: hidden; position: relative; width: 3px; height: 0px;\")\n  // The textarea is kept positioned near the cursor to prevent the\n  // fact that it'll be scrolled into view on input from scrolling\n  // our fake cursor out of view. On webkit, when wrap=off, paste is\n  // very slow. So make the area wide instead.\n  if (webkit) { te.style.width = \"1000px\" }\n  else { te.setAttribute(\"wrap\", \"off\") }\n  // If border: 0; -- iOS fails to open keyboard (issue #1287)\n  if (ios) { te.style.border = \"1px solid black\" }\n  disableBrowserMagic(te)\n  return div\n}\n\n// The publicly visible API. Note that methodOp(f) means\n// 'wrap f in an operation, performed on its `this` parameter'.\n\n// This is not the complete set of editor methods. Most of the\n// methods defined on the Doc type are also injected into\n// CodeMirror.prototype, for backwards compatibility and\n// convenience.\n\nfunction addEditorMethods(CodeMirror) {\n  var optionHandlers = CodeMirror.optionHandlers\n\n  var helpers = CodeMirror.helpers = {}\n\n  CodeMirror.prototype = {\n    constructor: CodeMirror,\n    focus: function(){window.focus(); this.display.input.focus()},\n\n    setOption: function(option, value) {\n      var options = this.options, old = options[option]\n      if (options[option] == value && option != \"mode\") { return }\n      options[option] = value\n      if (optionHandlers.hasOwnProperty(option))\n        { operation(this, optionHandlers[option])(this, value, old) }\n      signal(this, \"optionChange\", this, option)\n    },\n\n    getOption: function(option) {return this.options[option]},\n    getDoc: function() {return this.doc},\n\n    addKeyMap: function(map, bottom) {\n      this.state.keyMaps[bottom ? \"push\" : \"unshift\"](getKeyMap(map))\n    },\n    removeKeyMap: function(map) {\n      var maps = this.state.keyMaps\n      for (var i = 0; i < maps.length; ++i)\n        { if (maps[i] == map || maps[i].name == map) {\n          maps.splice(i, 1)\n          return true\n        } }\n    },\n\n    addOverlay: methodOp(function(spec, options) {\n      var mode = spec.token ? spec : CodeMirror.getMode(this.options, spec)\n      if (mode.startState) { throw new Error(\"Overlays may not be stateful.\") }\n      insertSorted(this.state.overlays,\n                   {mode: mode, modeSpec: spec, opaque: options && options.opaque,\n                    priority: (options && options.priority) || 0},\n                   function (overlay) { return overlay.priority; })\n      this.state.modeGen++\n      regChange(this)\n    }),\n    removeOverlay: methodOp(function(spec) {\n      var this$1 = this;\n\n      var overlays = this.state.overlays\n      for (var i = 0; i < overlays.length; ++i) {\n        var cur = overlays[i].modeSpec\n        if (cur == spec || typeof spec == \"string\" && cur.name == spec) {\n          overlays.splice(i, 1)\n          this$1.state.modeGen++\n          regChange(this$1)\n          return\n        }\n      }\n    }),\n\n    indentLine: methodOp(function(n, dir, aggressive) {\n      if (typeof dir != \"string\" && typeof dir != \"number\") {\n        if (dir == null) { dir = this.options.smartIndent ? \"smart\" : \"prev\" }\n        else { dir = dir ? \"add\" : \"subtract\" }\n      }\n      if (isLine(this.doc, n)) { indentLine(this, n, dir, aggressive) }\n    }),\n    indentSelection: methodOp(function(how) {\n      var this$1 = this;\n\n      var ranges = this.doc.sel.ranges, end = -1\n      for (var i = 0; i < ranges.length; i++) {\n        var range = ranges[i]\n        if (!range.empty()) {\n          var from = range.from(), to = range.to()\n          var start = Math.max(end, from.line)\n          end = Math.min(this$1.lastLine(), to.line - (to.ch ? 0 : 1)) + 1\n          for (var j = start; j < end; ++j)\n            { indentLine(this$1, j, how) }\n          var newRanges = this$1.doc.sel.ranges\n          if (from.ch == 0 && ranges.length == newRanges.length && newRanges[i].from().ch > 0)\n            { replaceOneSelection(this$1.doc, i, new Range(from, newRanges[i].to()), sel_dontScroll) }\n        } else if (range.head.line > end) {\n          indentLine(this$1, range.head.line, how, true)\n          end = range.head.line\n          if (i == this$1.doc.sel.primIndex) { ensureCursorVisible(this$1) }\n        }\n      }\n    }),\n\n    // Fetch the parser token for a given character. Useful for hacks\n    // that want to inspect the mode state (say, for completion).\n    getTokenAt: function(pos, precise) {\n      return takeToken(this, pos, precise)\n    },\n\n    getLineTokens: function(line, precise) {\n      return takeToken(this, Pos(line), precise, true)\n    },\n\n    getTokenTypeAt: function(pos) {\n      pos = clipPos(this.doc, pos)\n      var styles = getLineStyles(this, getLine(this.doc, pos.line))\n      var before = 0, after = (styles.length - 1) / 2, ch = pos.ch\n      var type\n      if (ch == 0) { type = styles[2] }\n      else { for (;;) {\n        var mid = (before + after) >> 1\n        if ((mid ? styles[mid * 2 - 1] : 0) >= ch) { after = mid }\n        else if (styles[mid * 2 + 1] < ch) { before = mid + 1 }\n        else { type = styles[mid * 2 + 2]; break }\n      } }\n      var cut = type ? type.indexOf(\"overlay \") : -1\n      return cut < 0 ? type : cut == 0 ? null : type.slice(0, cut - 1)\n    },\n\n    getModeAt: function(pos) {\n      var mode = this.doc.mode\n      if (!mode.innerMode) { return mode }\n      return CodeMirror.innerMode(mode, this.getTokenAt(pos).state).mode\n    },\n\n    getHelper: function(pos, type) {\n      return this.getHelpers(pos, type)[0]\n    },\n\n    getHelpers: function(pos, type) {\n      var this$1 = this;\n\n      var found = []\n      if (!helpers.hasOwnProperty(type)) { return found }\n      var help = helpers[type], mode = this.getModeAt(pos)\n      if (typeof mode[type] == \"string\") {\n        if (help[mode[type]]) { found.push(help[mode[type]]) }\n      } else if (mode[type]) {\n        for (var i = 0; i < mode[type].length; i++) {\n          var val = help[mode[type][i]]\n          if (val) { found.push(val) }\n        }\n      } else if (mode.helperType && help[mode.helperType]) {\n        found.push(help[mode.helperType])\n      } else if (help[mode.name]) {\n        found.push(help[mode.name])\n      }\n      for (var i$1 = 0; i$1 < help._global.length; i$1++) {\n        var cur = help._global[i$1]\n        if (cur.pred(mode, this$1) && indexOf(found, cur.val) == -1)\n          { found.push(cur.val) }\n      }\n      return found\n    },\n\n    getStateAfter: function(line, precise) {\n      var doc = this.doc\n      line = clipLine(doc, line == null ? doc.first + doc.size - 1: line)\n      return getContextBefore(this, line + 1, precise).state\n    },\n\n    cursorCoords: function(start, mode) {\n      var pos, range = this.doc.sel.primary()\n      if (start == null) { pos = range.head }\n      else if (typeof start == \"object\") { pos = clipPos(this.doc, start) }\n      else { pos = start ? range.from() : range.to() }\n      return cursorCoords(this, pos, mode || \"page\")\n    },\n\n    charCoords: function(pos, mode) {\n      return charCoords(this, clipPos(this.doc, pos), mode || \"page\")\n    },\n\n    coordsChar: function(coords, mode) {\n      coords = fromCoordSystem(this, coords, mode || \"page\")\n      return coordsChar(this, coords.left, coords.top)\n    },\n\n    lineAtHeight: function(height, mode) {\n      height = fromCoordSystem(this, {top: height, left: 0}, mode || \"page\").top\n      return lineAtHeight(this.doc, height + this.display.viewOffset)\n    },\n    heightAtLine: function(line, mode, includeWidgets) {\n      var end = false, lineObj\n      if (typeof line == \"number\") {\n        var last = this.doc.first + this.doc.size - 1\n        if (line < this.doc.first) { line = this.doc.first }\n        else if (line > last) { line = last; end = true }\n        lineObj = getLine(this.doc, line)\n      } else {\n        lineObj = line\n      }\n      return intoCoordSystem(this, lineObj, {top: 0, left: 0}, mode || \"page\", includeWidgets || end).top +\n        (end ? this.doc.height - heightAtLine(lineObj) : 0)\n    },\n\n    defaultTextHeight: function() { return textHeight(this.display) },\n    defaultCharWidth: function() { return charWidth(this.display) },\n\n    getViewport: function() { return {from: this.display.viewFrom, to: this.display.viewTo}},\n\n    addWidget: function(pos, node, scroll, vert, horiz) {\n      var display = this.display\n      pos = cursorCoords(this, clipPos(this.doc, pos))\n      var top = pos.bottom, left = pos.left\n      node.style.position = \"absolute\"\n      node.setAttribute(\"cm-ignore-events\", \"true\")\n      this.display.input.setUneditable(node)\n      display.sizer.appendChild(node)\n      if (vert == \"over\") {\n        top = pos.top\n      } else if (vert == \"above\" || vert == \"near\") {\n        var vspace = Math.max(display.wrapper.clientHeight, this.doc.height),\n        hspace = Math.max(display.sizer.clientWidth, display.lineSpace.clientWidth)\n        // Default to positioning above (if specified and possible); otherwise default to positioning below\n        if ((vert == 'above' || pos.bottom + node.offsetHeight > vspace) && pos.top > node.offsetHeight)\n          { top = pos.top - node.offsetHeight }\n        else if (pos.bottom + node.offsetHeight <= vspace)\n          { top = pos.bottom }\n        if (left + node.offsetWidth > hspace)\n          { left = hspace - node.offsetWidth }\n      }\n      node.style.top = top + \"px\"\n      node.style.left = node.style.right = \"\"\n      if (horiz == \"right\") {\n        left = display.sizer.clientWidth - node.offsetWidth\n        node.style.right = \"0px\"\n      } else {\n        if (horiz == \"left\") { left = 0 }\n        else if (horiz == \"middle\") { left = (display.sizer.clientWidth - node.offsetWidth) / 2 }\n        node.style.left = left + \"px\"\n      }\n      if (scroll)\n        { scrollIntoView(this, {left: left, top: top, right: left + node.offsetWidth, bottom: top + node.offsetHeight}) }\n    },\n\n    triggerOnKeyDown: methodOp(onKeyDown),\n    triggerOnKeyPress: methodOp(onKeyPress),\n    triggerOnKeyUp: onKeyUp,\n    triggerOnMouseDown: methodOp(onMouseDown),\n\n    execCommand: function(cmd) {\n      if (commands.hasOwnProperty(cmd))\n        { return commands[cmd].call(null, this) }\n    },\n\n    triggerElectric: methodOp(function(text) { triggerElectric(this, text) }),\n\n    findPosH: function(from, amount, unit, visually) {\n      var this$1 = this;\n\n      var dir = 1\n      if (amount < 0) { dir = -1; amount = -amount }\n      var cur = clipPos(this.doc, from)\n      for (var i = 0; i < amount; ++i) {\n        cur = findPosH(this$1.doc, cur, dir, unit, visually)\n        if (cur.hitSide) { break }\n      }\n      return cur\n    },\n\n    moveH: methodOp(function(dir, unit) {\n      var this$1 = this;\n\n      this.extendSelectionsBy(function (range) {\n        if (this$1.display.shift || this$1.doc.extend || range.empty())\n          { return findPosH(this$1.doc, range.head, dir, unit, this$1.options.rtlMoveVisually) }\n        else\n          { return dir < 0 ? range.from() : range.to() }\n      }, sel_move)\n    }),\n\n    deleteH: methodOp(function(dir, unit) {\n      var sel = this.doc.sel, doc = this.doc\n      if (sel.somethingSelected())\n        { doc.replaceSelection(\"\", null, \"+delete\") }\n      else\n        { deleteNearSelection(this, function (range) {\n          var other = findPosH(doc, range.head, dir, unit, false)\n          return dir < 0 ? {from: other, to: range.head} : {from: range.head, to: other}\n        }) }\n    }),\n\n    findPosV: function(from, amount, unit, goalColumn) {\n      var this$1 = this;\n\n      var dir = 1, x = goalColumn\n      if (amount < 0) { dir = -1; amount = -amount }\n      var cur = clipPos(this.doc, from)\n      for (var i = 0; i < amount; ++i) {\n        var coords = cursorCoords(this$1, cur, \"div\")\n        if (x == null) { x = coords.left }\n        else { coords.left = x }\n        cur = findPosV(this$1, coords, dir, unit)\n        if (cur.hitSide) { break }\n      }\n      return cur\n    },\n\n    moveV: methodOp(function(dir, unit) {\n      var this$1 = this;\n\n      var doc = this.doc, goals = []\n      var collapse = !this.display.shift && !doc.extend && doc.sel.somethingSelected()\n      doc.extendSelectionsBy(function (range) {\n        if (collapse)\n          { return dir < 0 ? range.from() : range.to() }\n        var headPos = cursorCoords(this$1, range.head, \"div\")\n        if (range.goalColumn != null) { headPos.left = range.goalColumn }\n        goals.push(headPos.left)\n        var pos = findPosV(this$1, headPos, dir, unit)\n        if (unit == \"page\" && range == doc.sel.primary())\n          { addToScrollTop(this$1, charCoords(this$1, pos, \"div\").top - headPos.top) }\n        return pos\n      }, sel_move)\n      if (goals.length) { for (var i = 0; i < doc.sel.ranges.length; i++)\n        { doc.sel.ranges[i].goalColumn = goals[i] } }\n    }),\n\n    // Find the word at the given position (as returned by coordsChar).\n    findWordAt: function(pos) {\n      var doc = this.doc, line = getLine(doc, pos.line).text\n      var start = pos.ch, end = pos.ch\n      if (line) {\n        var helper = this.getHelper(pos, \"wordChars\")\n        if ((pos.sticky == \"before\" || end == line.length) && start) { --start; } else { ++end }\n        var startChar = line.charAt(start)\n        var check = isWordChar(startChar, helper)\n          ? function (ch) { return isWordChar(ch, helper); }\n          : /\\s/.test(startChar) ? function (ch) { return /\\s/.test(ch); }\n          : function (ch) { return (!/\\s/.test(ch) && !isWordChar(ch)); }\n        while (start > 0 && check(line.charAt(start - 1))) { --start }\n        while (end < line.length && check(line.charAt(end))) { ++end }\n      }\n      return new Range(Pos(pos.line, start), Pos(pos.line, end))\n    },\n\n    toggleOverwrite: function(value) {\n      if (value != null && value == this.state.overwrite) { return }\n      if (this.state.overwrite = !this.state.overwrite)\n        { addClass(this.display.cursorDiv, \"CodeMirror-overwrite\") }\n      else\n        { rmClass(this.display.cursorDiv, \"CodeMirror-overwrite\") }\n\n      signal(this, \"overwriteToggle\", this, this.state.overwrite)\n    },\n    hasFocus: function() { return this.display.input.getField() == activeElt() },\n    isReadOnly: function() { return !!(this.options.readOnly || this.doc.cantEdit) },\n\n    scrollTo: methodOp(function (x, y) { scrollToCoords(this, x, y) }),\n    getScrollInfo: function() {\n      var scroller = this.display.scroller\n      return {left: scroller.scrollLeft, top: scroller.scrollTop,\n              height: scroller.scrollHeight - scrollGap(this) - this.display.barHeight,\n              width: scroller.scrollWidth - scrollGap(this) - this.display.barWidth,\n              clientHeight: displayHeight(this), clientWidth: displayWidth(this)}\n    },\n\n    scrollIntoView: methodOp(function(range, margin) {\n      if (range == null) {\n        range = {from: this.doc.sel.primary().head, to: null}\n        if (margin == null) { margin = this.options.cursorScrollMargin }\n      } else if (typeof range == \"number\") {\n        range = {from: Pos(range, 0), to: null}\n      } else if (range.from == null) {\n        range = {from: range, to: null}\n      }\n      if (!range.to) { range.to = range.from }\n      range.margin = margin || 0\n\n      if (range.from.line != null) {\n        scrollToRange(this, range)\n      } else {\n        scrollToCoordsRange(this, range.from, range.to, range.margin)\n      }\n    }),\n\n    setSize: methodOp(function(width, height) {\n      var this$1 = this;\n\n      var interpret = function (val) { return typeof val == \"number\" || /^\\d+$/.test(String(val)) ? val + \"px\" : val; }\n      if (width != null) { this.display.wrapper.style.width = interpret(width) }\n      if (height != null) { this.display.wrapper.style.height = interpret(height) }\n      if (this.options.lineWrapping) { clearLineMeasurementCache(this) }\n      var lineNo = this.display.viewFrom\n      this.doc.iter(lineNo, this.display.viewTo, function (line) {\n        if (line.widgets) { for (var i = 0; i < line.widgets.length; i++)\n          { if (line.widgets[i].noHScroll) { regLineChange(this$1, lineNo, \"widget\"); break } } }\n        ++lineNo\n      })\n      this.curOp.forceUpdate = true\n      signal(this, \"refresh\", this)\n    }),\n\n    operation: function(f){return runInOp(this, f)},\n    startOperation: function(){return startOperation(this)},\n    endOperation: function(){return endOperation(this)},\n\n    refresh: methodOp(function() {\n      var oldHeight = this.display.cachedTextHeight\n      regChange(this)\n      this.curOp.forceUpdate = true\n      clearCaches(this)\n      scrollToCoords(this, this.doc.scrollLeft, this.doc.scrollTop)\n      updateGutterSpace(this)\n      if (oldHeight == null || Math.abs(oldHeight - textHeight(this.display)) > .5)\n        { estimateLineHeights(this) }\n      signal(this, \"refresh\", this)\n    }),\n\n    swapDoc: methodOp(function(doc) {\n      var old = this.doc\n      old.cm = null\n      attachDoc(this, doc)\n      clearCaches(this)\n      this.display.input.reset()\n      scrollToCoords(this, doc.scrollLeft, doc.scrollTop)\n      this.curOp.forceScroll = true\n      signalLater(this, \"swapDoc\", this, old)\n      return old\n    }),\n\n    getInputField: function(){return this.display.input.getField()},\n    getWrapperElement: function(){return this.display.wrapper},\n    getScrollerElement: function(){return this.display.scroller},\n    getGutterElement: function(){return this.display.gutters}\n  }\n  eventMixin(CodeMirror)\n\n  CodeMirror.registerHelper = function(type, name, value) {\n    if (!helpers.hasOwnProperty(type)) { helpers[type] = CodeMirror[type] = {_global: []} }\n    helpers[type][name] = value\n  }\n  CodeMirror.registerGlobalHelper = function(type, name, predicate, value) {\n    CodeMirror.registerHelper(type, name, value)\n    helpers[type]._global.push({pred: predicate, val: value})\n  }\n}\n\n// Used for horizontal relative motion. Dir is -1 or 1 (left or\n// right), unit can be \"char\", \"column\" (like char, but doesn't\n// cross line boundaries), \"word\" (across next word), or \"group\" (to\n// the start of next group of word or non-word-non-whitespace\n// chars). The visually param controls whether, in right-to-left\n// text, direction 1 means to move towards the next index in the\n// string, or towards the character to the right of the current\n// position. The resulting position will have a hitSide=true\n// property if it reached the end of the document.\nfunction findPosH(doc, pos, dir, unit, visually) {\n  var oldPos = pos\n  var origDir = dir\n  var lineObj = getLine(doc, pos.line)\n  function findNextLine() {\n    var l = pos.line + dir\n    if (l < doc.first || l >= doc.first + doc.size) { return false }\n    pos = new Pos(l, pos.ch, pos.sticky)\n    return lineObj = getLine(doc, l)\n  }\n  function moveOnce(boundToLine) {\n    var next\n    if (visually) {\n      next = moveVisually(doc.cm, lineObj, pos, dir)\n    } else {\n      next = moveLogically(lineObj, pos, dir)\n    }\n    if (next == null) {\n      if (!boundToLine && findNextLine())\n        { pos = endOfLine(visually, doc.cm, lineObj, pos.line, dir) }\n      else\n        { return false }\n    } else {\n      pos = next\n    }\n    return true\n  }\n\n  if (unit == \"char\") {\n    moveOnce()\n  } else if (unit == \"column\") {\n    moveOnce(true)\n  } else if (unit == \"word\" || unit == \"group\") {\n    var sawType = null, group = unit == \"group\"\n    var helper = doc.cm && doc.cm.getHelper(pos, \"wordChars\")\n    for (var first = true;; first = false) {\n      if (dir < 0 && !moveOnce(!first)) { break }\n      var cur = lineObj.text.charAt(pos.ch) || \"\\n\"\n      var type = isWordChar(cur, helper) ? \"w\"\n        : group && cur == \"\\n\" ? \"n\"\n        : !group || /\\s/.test(cur) ? null\n        : \"p\"\n      if (group && !first && !type) { type = \"s\" }\n      if (sawType && sawType != type) {\n        if (dir < 0) {dir = 1; moveOnce(); pos.sticky = \"after\"}\n        break\n      }\n\n      if (type) { sawType = type }\n      if (dir > 0 && !moveOnce(!first)) { break }\n    }\n  }\n  var result = skipAtomic(doc, pos, oldPos, origDir, true)\n  if (equalCursorPos(oldPos, result)) { result.hitSide = true }\n  return result\n}\n\n// For relative vertical movement. Dir may be -1 or 1. Unit can be\n// \"page\" or \"line\". The resulting position will have a hitSide=true\n// property if it reached the end of the document.\nfunction findPosV(cm, pos, dir, unit) {\n  var doc = cm.doc, x = pos.left, y\n  if (unit == \"page\") {\n    var pageSize = Math.min(cm.display.wrapper.clientHeight, window.innerHeight || document.documentElement.clientHeight)\n    var moveAmount = Math.max(pageSize - .5 * textHeight(cm.display), 3)\n    y = (dir > 0 ? pos.bottom : pos.top) + dir * moveAmount\n\n  } else if (unit == \"line\") {\n    y = dir > 0 ? pos.bottom + 3 : pos.top - 3\n  }\n  var target\n  for (;;) {\n    target = coordsChar(cm, x, y)\n    if (!target.outside) { break }\n    if (dir < 0 ? y <= 0 : y >= doc.height) { target.hitSide = true; break }\n    y += dir * 5\n  }\n  return target\n}\n\n// CONTENTEDITABLE INPUT STYLE\n\nvar ContentEditableInput = function(cm) {\n  this.cm = cm\n  this.lastAnchorNode = this.lastAnchorOffset = this.lastFocusNode = this.lastFocusOffset = null\n  this.polling = new Delayed()\n  this.composing = null\n  this.gracePeriod = false\n  this.readDOMTimeout = null\n};\n\nContentEditableInput.prototype.init = function (display) {\n    var this$1 = this;\n\n  var input = this, cm = input.cm\n  var div = input.div = display.lineDiv\n  disableBrowserMagic(div, cm.options.spellcheck)\n\n  on(div, \"paste\", function (e) {\n    if (signalDOMEvent(cm, e) || handlePaste(e, cm)) { return }\n    // IE doesn't fire input events, so we schedule a read for the pasted content in this way\n    if (ie_version <= 11) { setTimeout(operation(cm, function () { return this$1.updateFromDOM(); }), 20) }\n  })\n\n  on(div, \"compositionstart\", function (e) {\n    this$1.composing = {data: e.data, done: false}\n  })\n  on(div, \"compositionupdate\", function (e) {\n    if (!this$1.composing) { this$1.composing = {data: e.data, done: false} }\n  })\n  on(div, \"compositionend\", function (e) {\n    if (this$1.composing) {\n      if (e.data != this$1.composing.data) { this$1.readFromDOMSoon() }\n      this$1.composing.done = true\n    }\n  })\n\n  on(div, \"touchstart\", function () { return input.forceCompositionEnd(); })\n\n  on(div, \"input\", function () {\n    if (!this$1.composing) { this$1.readFromDOMSoon() }\n  })\n\n  function onCopyCut(e) {\n    if (signalDOMEvent(cm, e)) { return }\n    if (cm.somethingSelected()) {\n      setLastCopied({lineWise: false, text: cm.getSelections()})\n      if (e.type == \"cut\") { cm.replaceSelection(\"\", null, \"cut\") }\n    } else if (!cm.options.lineWiseCopyCut) {\n      return\n    } else {\n      var ranges = copyableRanges(cm)\n      setLastCopied({lineWise: true, text: ranges.text})\n      if (e.type == \"cut\") {\n        cm.operation(function () {\n          cm.setSelections(ranges.ranges, 0, sel_dontScroll)\n          cm.replaceSelection(\"\", null, \"cut\")\n        })\n      }\n    }\n    if (e.clipboardData) {\n      e.clipboardData.clearData()\n      var content = lastCopied.text.join(\"\\n\")\n      // iOS exposes the clipboard API, but seems to discard content inserted into it\n      e.clipboardData.setData(\"Text\", content)\n      if (e.clipboardData.getData(\"Text\") == content) {\n        e.preventDefault()\n        return\n      }\n    }\n    // Old-fashioned briefly-focus-a-textarea hack\n    var kludge = hiddenTextarea(), te = kludge.firstChild\n    cm.display.lineSpace.insertBefore(kludge, cm.display.lineSpace.firstChild)\n    te.value = lastCopied.text.join(\"\\n\")\n    var hadFocus = document.activeElement\n    selectInput(te)\n    setTimeout(function () {\n      cm.display.lineSpace.removeChild(kludge)\n      hadFocus.focus()\n      if (hadFocus == div) { input.showPrimarySelection() }\n    }, 50)\n  }\n  on(div, \"copy\", onCopyCut)\n  on(div, \"cut\", onCopyCut)\n};\n\nContentEditableInput.prototype.prepareSelection = function () {\n  var result = prepareSelection(this.cm, false)\n  result.focus = this.cm.state.focused\n  return result\n};\n\nContentEditableInput.prototype.showSelection = function (info, takeFocus) {\n  if (!info || !this.cm.display.view.length) { return }\n  if (info.focus || takeFocus) { this.showPrimarySelection() }\n  this.showMultipleSelections(info)\n};\n\nContentEditableInput.prototype.showPrimarySelection = function () {\n  var sel = window.getSelection(), cm = this.cm, prim = cm.doc.sel.primary()\n  var from = prim.from(), to = prim.to()\n\n  if (cm.display.viewTo == cm.display.viewFrom || from.line >= cm.display.viewTo || to.line < cm.display.viewFrom) {\n    sel.removeAllRanges()\n    return\n  }\n\n  var curAnchor = domToPos(cm, sel.anchorNode, sel.anchorOffset)\n  var curFocus = domToPos(cm, sel.focusNode, sel.focusOffset)\n  if (curAnchor && !curAnchor.bad && curFocus && !curFocus.bad &&\n      cmp(minPos(curAnchor, curFocus), from) == 0 &&\n      cmp(maxPos(curAnchor, curFocus), to) == 0)\n    { return }\n\n  var view = cm.display.view\n  var start = (from.line >= cm.display.viewFrom && posToDOM(cm, from)) ||\n      {node: view[0].measure.map[2], offset: 0}\n  var end = to.line < cm.display.viewTo && posToDOM(cm, to)\n  if (!end) {\n    var measure = view[view.length - 1].measure\n    var map = measure.maps ? measure.maps[measure.maps.length - 1] : measure.map\n    end = {node: map[map.length - 1], offset: map[map.length - 2] - map[map.length - 3]}\n  }\n\n  if (!start || !end) {\n    sel.removeAllRanges()\n    return\n  }\n\n  var old = sel.rangeCount && sel.getRangeAt(0), rng\n  try { rng = range(start.node, start.offset, end.offset, end.node) }\n  catch(e) {} // Our model of the DOM might be outdated, in which case the range we try to set can be impossible\n  if (rng) {\n    if (!gecko && cm.state.focused) {\n      sel.collapse(start.node, start.offset)\n      if (!rng.collapsed) {\n        sel.removeAllRanges()\n        sel.addRange(rng)\n      }\n    } else {\n      sel.removeAllRanges()\n      sel.addRange(rng)\n    }\n    if (old && sel.anchorNode == null) { sel.addRange(old) }\n    else if (gecko) { this.startGracePeriod() }\n  }\n  this.rememberSelection()\n};\n\nContentEditableInput.prototype.startGracePeriod = function () {\n    var this$1 = this;\n\n  clearTimeout(this.gracePeriod)\n  this.gracePeriod = setTimeout(function () {\n    this$1.gracePeriod = false\n    if (this$1.selectionChanged())\n      { this$1.cm.operation(function () { return this$1.cm.curOp.selectionChanged = true; }) }\n  }, 20)\n};\n\nContentEditableInput.prototype.showMultipleSelections = function (info) {\n  removeChildrenAndAdd(this.cm.display.cursorDiv, info.cursors)\n  removeChildrenAndAdd(this.cm.display.selectionDiv, info.selection)\n};\n\nContentEditableInput.prototype.rememberSelection = function () {\n  var sel = window.getSelection()\n  this.lastAnchorNode = sel.anchorNode; this.lastAnchorOffset = sel.anchorOffset\n  this.lastFocusNode = sel.focusNode; this.lastFocusOffset = sel.focusOffset\n};\n\nContentEditableInput.prototype.selectionInEditor = function () {\n  var sel = window.getSelection()\n  if (!sel.rangeCount) { return false }\n  var node = sel.getRangeAt(0).commonAncestorContainer\n  return contains(this.div, node)\n};\n\nContentEditableInput.prototype.focus = function () {\n  if (this.cm.options.readOnly != \"nocursor\") {\n    if (!this.selectionInEditor())\n      { this.showSelection(this.prepareSelection(), true) }\n    this.div.focus()\n  }\n};\nContentEditableInput.prototype.blur = function () { this.div.blur() };\nContentEditableInput.prototype.getField = function () { return this.div };\n\nContentEditableInput.prototype.supportsTouch = function () { return true };\n\nContentEditableInput.prototype.receivedFocus = function () {\n  var input = this\n  if (this.selectionInEditor())\n    { this.pollSelection() }\n  else\n    { runInOp(this.cm, function () { return input.cm.curOp.selectionChanged = true; }) }\n\n  function poll() {\n    if (input.cm.state.focused) {\n      input.pollSelection()\n      input.polling.set(input.cm.options.pollInterval, poll)\n    }\n  }\n  this.polling.set(this.cm.options.pollInterval, poll)\n};\n\nContentEditableInput.prototype.selectionChanged = function () {\n  var sel = window.getSelection()\n  return sel.anchorNode != this.lastAnchorNode || sel.anchorOffset != this.lastAnchorOffset ||\n    sel.focusNode != this.lastFocusNode || sel.focusOffset != this.lastFocusOffset\n};\n\nContentEditableInput.prototype.pollSelection = function () {\n  if (this.readDOMTimeout != null || this.gracePeriod || !this.selectionChanged()) { return }\n  var sel = window.getSelection(), cm = this.cm\n  // On Android Chrome (version 56, at least), backspacing into an\n  // uneditable block element will put the cursor in that element,\n  // and then, because it's not editable, hide the virtual keyboard.\n  // Because Android doesn't allow us to actually detect backspace\n  // presses in a sane way, this code checks for when that happens\n  // and simulates a backspace press in this case.\n  if (android && chrome && this.cm.options.gutters.length && isInGutter(sel.anchorNode)) {\n    this.cm.triggerOnKeyDown({type: \"keydown\", keyCode: 8, preventDefault: Math.abs})\n    this.blur()\n    this.focus()\n    return\n  }\n  if (this.composing) { return }\n  this.rememberSelection()\n  var anchor = domToPos(cm, sel.anchorNode, sel.anchorOffset)\n  var head = domToPos(cm, sel.focusNode, sel.focusOffset)\n  if (anchor && head) { runInOp(cm, function () {\n    setSelection(cm.doc, simpleSelection(anchor, head), sel_dontScroll)\n    if (anchor.bad || head.bad) { cm.curOp.selectionChanged = true }\n  }) }\n};\n\nContentEditableInput.prototype.pollContent = function () {\n  if (this.readDOMTimeout != null) {\n    clearTimeout(this.readDOMTimeout)\n    this.readDOMTimeout = null\n  }\n\n  var cm = this.cm, display = cm.display, sel = cm.doc.sel.primary()\n  var from = sel.from(), to = sel.to()\n  if (from.ch == 0 && from.line > cm.firstLine())\n    { from = Pos(from.line - 1, getLine(cm.doc, from.line - 1).length) }\n  if (to.ch == getLine(cm.doc, to.line).text.length && to.line < cm.lastLine())\n    { to = Pos(to.line + 1, 0) }\n  if (from.line < display.viewFrom || to.line > display.viewTo - 1) { return false }\n\n  var fromIndex, fromLine, fromNode\n  if (from.line == display.viewFrom || (fromIndex = findViewIndex(cm, from.line)) == 0) {\n    fromLine = lineNo(display.view[0].line)\n    fromNode = display.view[0].node\n  } else {\n    fromLine = lineNo(display.view[fromIndex].line)\n    fromNode = display.view[fromIndex - 1].node.nextSibling\n  }\n  var toIndex = findViewIndex(cm, to.line)\n  var toLine, toNode\n  if (toIndex == display.view.length - 1) {\n    toLine = display.viewTo - 1\n    toNode = display.lineDiv.lastChild\n  } else {\n    toLine = lineNo(display.view[toIndex + 1].line) - 1\n    toNode = display.view[toIndex + 1].node.previousSibling\n  }\n\n  if (!fromNode) { return false }\n  var newText = cm.doc.splitLines(domTextBetween(cm, fromNode, toNode, fromLine, toLine))\n  var oldText = getBetween(cm.doc, Pos(fromLine, 0), Pos(toLine, getLine(cm.doc, toLine).text.length))\n  while (newText.length > 1 && oldText.length > 1) {\n    if (lst(newText) == lst(oldText)) { newText.pop(); oldText.pop(); toLine-- }\n    else if (newText[0] == oldText[0]) { newText.shift(); oldText.shift(); fromLine++ }\n    else { break }\n  }\n\n  var cutFront = 0, cutEnd = 0\n  var newTop = newText[0], oldTop = oldText[0], maxCutFront = Math.min(newTop.length, oldTop.length)\n  while (cutFront < maxCutFront && newTop.charCodeAt(cutFront) == oldTop.charCodeAt(cutFront))\n    { ++cutFront }\n  var newBot = lst(newText), oldBot = lst(oldText)\n  var maxCutEnd = Math.min(newBot.length - (newText.length == 1 ? cutFront : 0),\n                           oldBot.length - (oldText.length == 1 ? cutFront : 0))\n  while (cutEnd < maxCutEnd &&\n         newBot.charCodeAt(newBot.length - cutEnd - 1) == oldBot.charCodeAt(oldBot.length - cutEnd - 1))\n    { ++cutEnd }\n  // Try to move start of change to start of selection if ambiguous\n  if (newText.length == 1 && oldText.length == 1 && fromLine == from.line) {\n    while (cutFront && cutFront > from.ch &&\n           newBot.charCodeAt(newBot.length - cutEnd - 1) == oldBot.charCodeAt(oldBot.length - cutEnd - 1)) {\n      cutFront--\n      cutEnd++\n    }\n  }\n\n  newText[newText.length - 1] = newBot.slice(0, newBot.length - cutEnd).replace(/^\\u200b+/, \"\")\n  newText[0] = newText[0].slice(cutFront).replace(/\\u200b+$/, \"\")\n\n  var chFrom = Pos(fromLine, cutFront)\n  var chTo = Pos(toLine, oldText.length ? lst(oldText).length - cutEnd : 0)\n  if (newText.length > 1 || newText[0] || cmp(chFrom, chTo)) {\n    replaceRange(cm.doc, newText, chFrom, chTo, \"+input\")\n    return true\n  }\n};\n\nContentEditableInput.prototype.ensurePolled = function () {\n  this.forceCompositionEnd()\n};\nContentEditableInput.prototype.reset = function () {\n  this.forceCompositionEnd()\n};\nContentEditableInput.prototype.forceCompositionEnd = function () {\n  if (!this.composing) { return }\n  clearTimeout(this.readDOMTimeout)\n  this.composing = null\n  this.updateFromDOM()\n  this.div.blur()\n  this.div.focus()\n};\nContentEditableInput.prototype.readFromDOMSoon = function () {\n    var this$1 = this;\n\n  if (this.readDOMTimeout != null) { return }\n  this.readDOMTimeout = setTimeout(function () {\n    this$1.readDOMTimeout = null\n    if (this$1.composing) {\n      if (this$1.composing.done) { this$1.composing = null }\n      else { return }\n    }\n    this$1.updateFromDOM()\n  }, 80)\n};\n\nContentEditableInput.prototype.updateFromDOM = function () {\n    var this$1 = this;\n\n  if (this.cm.isReadOnly() || !this.pollContent())\n    { runInOp(this.cm, function () { return regChange(this$1.cm); }) }\n};\n\nContentEditableInput.prototype.setUneditable = function (node) {\n  node.contentEditable = \"false\"\n};\n\nContentEditableInput.prototype.onKeyPress = function (e) {\n  if (e.charCode == 0) { return }\n  e.preventDefault()\n  if (!this.cm.isReadOnly())\n    { operation(this.cm, applyTextInput)(this.cm, String.fromCharCode(e.charCode == null ? e.keyCode : e.charCode), 0) }\n};\n\nContentEditableInput.prototype.readOnlyChanged = function (val) {\n  this.div.contentEditable = String(val != \"nocursor\")\n};\n\nContentEditableInput.prototype.onContextMenu = function () {};\nContentEditableInput.prototype.resetPosition = function () {};\n\nContentEditableInput.prototype.needsContentAttribute = true\n\nfunction posToDOM(cm, pos) {\n  var view = findViewForLine(cm, pos.line)\n  if (!view || view.hidden) { return null }\n  var line = getLine(cm.doc, pos.line)\n  var info = mapFromLineView(view, line, pos.line)\n\n  var order = getOrder(line, cm.doc.direction), side = \"left\"\n  if (order) {\n    var partPos = getBidiPartAt(order, pos.ch)\n    side = partPos % 2 ? \"right\" : \"left\"\n  }\n  var result = nodeAndOffsetInLineMap(info.map, pos.ch, side)\n  result.offset = result.collapse == \"right\" ? result.end : result.start\n  return result\n}\n\nfunction isInGutter(node) {\n  for (var scan = node; scan; scan = scan.parentNode)\n    { if (/CodeMirror-gutter-wrapper/.test(scan.className)) { return true } }\n  return false\n}\n\nfunction badPos(pos, bad) { if (bad) { pos.bad = true; } return pos }\n\nfunction domTextBetween(cm, from, to, fromLine, toLine) {\n  var text = \"\", closing = false, lineSep = cm.doc.lineSeparator()\n  function recognizeMarker(id) { return function (marker) { return marker.id == id; } }\n  function close() {\n    if (closing) {\n      text += lineSep\n      closing = false\n    }\n  }\n  function addText(str) {\n    if (str) {\n      close()\n      text += str\n    }\n  }\n  function walk(node) {\n    if (node.nodeType == 1) {\n      var cmText = node.getAttribute(\"cm-text\")\n      if (cmText != null) {\n        addText(cmText || node.textContent.replace(/\\u200b/g, \"\"))\n        return\n      }\n      var markerID = node.getAttribute(\"cm-marker\"), range\n      if (markerID) {\n        var found = cm.findMarks(Pos(fromLine, 0), Pos(toLine + 1, 0), recognizeMarker(+markerID))\n        if (found.length && (range = found[0].find(0)))\n          { addText(getBetween(cm.doc, range.from, range.to).join(lineSep)) }\n        return\n      }\n      if (node.getAttribute(\"contenteditable\") == \"false\") { return }\n      var isBlock = /^(pre|div|p)$/i.test(node.nodeName)\n      if (isBlock) { close() }\n      for (var i = 0; i < node.childNodes.length; i++)\n        { walk(node.childNodes[i]) }\n      if (isBlock) { closing = true }\n    } else if (node.nodeType == 3) {\n      addText(node.nodeValue)\n    }\n  }\n  for (;;) {\n    walk(from)\n    if (from == to) { break }\n    from = from.nextSibling\n  }\n  return text\n}\n\nfunction domToPos(cm, node, offset) {\n  var lineNode\n  if (node == cm.display.lineDiv) {\n    lineNode = cm.display.lineDiv.childNodes[offset]\n    if (!lineNode) { return badPos(cm.clipPos(Pos(cm.display.viewTo - 1)), true) }\n    node = null; offset = 0\n  } else {\n    for (lineNode = node;; lineNode = lineNode.parentNode) {\n      if (!lineNode || lineNode == cm.display.lineDiv) { return null }\n      if (lineNode.parentNode && lineNode.parentNode == cm.display.lineDiv) { break }\n    }\n  }\n  for (var i = 0; i < cm.display.view.length; i++) {\n    var lineView = cm.display.view[i]\n    if (lineView.node == lineNode)\n      { return locateNodeInLineView(lineView, node, offset) }\n  }\n}\n\nfunction locateNodeInLineView(lineView, node, offset) {\n  var wrapper = lineView.text.firstChild, bad = false\n  if (!node || !contains(wrapper, node)) { return badPos(Pos(lineNo(lineView.line), 0), true) }\n  if (node == wrapper) {\n    bad = true\n    node = wrapper.childNodes[offset]\n    offset = 0\n    if (!node) {\n      var line = lineView.rest ? lst(lineView.rest) : lineView.line\n      return badPos(Pos(lineNo(line), line.text.length), bad)\n    }\n  }\n\n  var textNode = node.nodeType == 3 ? node : null, topNode = node\n  if (!textNode && node.childNodes.length == 1 && node.firstChild.nodeType == 3) {\n    textNode = node.firstChild\n    if (offset) { offset = textNode.nodeValue.length }\n  }\n  while (topNode.parentNode != wrapper) { topNode = topNode.parentNode }\n  var measure = lineView.measure, maps = measure.maps\n\n  function find(textNode, topNode, offset) {\n    for (var i = -1; i < (maps ? maps.length : 0); i++) {\n      var map = i < 0 ? measure.map : maps[i]\n      for (var j = 0; j < map.length; j += 3) {\n        var curNode = map[j + 2]\n        if (curNode == textNode || curNode == topNode) {\n          var line = lineNo(i < 0 ? lineView.line : lineView.rest[i])\n          var ch = map[j] + offset\n          if (offset < 0 || curNode != textNode) { ch = map[j + (offset ? 1 : 0)] }\n          return Pos(line, ch)\n        }\n      }\n    }\n  }\n  var found = find(textNode, topNode, offset)\n  if (found) { return badPos(found, bad) }\n\n  // FIXME this is all really shaky. might handle the few cases it needs to handle, but likely to cause problems\n  for (var after = topNode.nextSibling, dist = textNode ? textNode.nodeValue.length - offset : 0; after; after = after.nextSibling) {\n    found = find(after, after.firstChild, 0)\n    if (found)\n      { return badPos(Pos(found.line, found.ch - dist), bad) }\n    else\n      { dist += after.textContent.length }\n  }\n  for (var before = topNode.previousSibling, dist$1 = offset; before; before = before.previousSibling) {\n    found = find(before, before.firstChild, -1)\n    if (found)\n      { return badPos(Pos(found.line, found.ch + dist$1), bad) }\n    else\n      { dist$1 += before.textContent.length }\n  }\n}\n\n// TEXTAREA INPUT STYLE\n\nvar TextareaInput = function(cm) {\n  this.cm = cm\n  // See input.poll and input.reset\n  this.prevInput = \"\"\n\n  // Flag that indicates whether we expect input to appear real soon\n  // now (after some event like 'keypress' or 'input') and are\n  // polling intensively.\n  this.pollingFast = false\n  // Self-resetting timeout for the poller\n  this.polling = new Delayed()\n  // Used to work around IE issue with selection being forgotten when focus moves away from textarea\n  this.hasSelection = false\n  this.composing = null\n};\n\nTextareaInput.prototype.init = function (display) {\n    var this$1 = this;\n\n  var input = this, cm = this.cm\n\n  // Wraps and hides input textarea\n  var div = this.wrapper = hiddenTextarea()\n  // The semihidden textarea that is focused when the editor is\n  // focused, and receives input.\n  var te = this.textarea = div.firstChild\n  display.wrapper.insertBefore(div, display.wrapper.firstChild)\n\n  // Needed to hide big blue blinking cursor on Mobile Safari (doesn't seem to work in iOS 8 anymore)\n  if (ios) { te.style.width = \"0px\" }\n\n  on(te, \"input\", function () {\n    if (ie && ie_version >= 9 && this$1.hasSelection) { this$1.hasSelection = null }\n    input.poll()\n  })\n\n  on(te, \"paste\", function (e) {\n    if (signalDOMEvent(cm, e) || handlePaste(e, cm)) { return }\n\n    cm.state.pasteIncoming = true\n    input.fastPoll()\n  })\n\n  function prepareCopyCut(e) {\n    if (signalDOMEvent(cm, e)) { return }\n    if (cm.somethingSelected()) {\n      setLastCopied({lineWise: false, text: cm.getSelections()})\n    } else if (!cm.options.lineWiseCopyCut) {\n      return\n    } else {\n      var ranges = copyableRanges(cm)\n      setLastCopied({lineWise: true, text: ranges.text})\n      if (e.type == \"cut\") {\n        cm.setSelections(ranges.ranges, null, sel_dontScroll)\n      } else {\n        input.prevInput = \"\"\n        te.value = ranges.text.join(\"\\n\")\n        selectInput(te)\n      }\n    }\n    if (e.type == \"cut\") { cm.state.cutIncoming = true }\n  }\n  on(te, \"cut\", prepareCopyCut)\n  on(te, \"copy\", prepareCopyCut)\n\n  on(display.scroller, \"paste\", function (e) {\n    if (eventInWidget(display, e) || signalDOMEvent(cm, e)) { return }\n    cm.state.pasteIncoming = true\n    input.focus()\n  })\n\n  // Prevent normal selection in the editor (we handle our own)\n  on(display.lineSpace, \"selectstart\", function (e) {\n    if (!eventInWidget(display, e)) { e_preventDefault(e) }\n  })\n\n  on(te, \"compositionstart\", function () {\n    var start = cm.getCursor(\"from\")\n    if (input.composing) { input.composing.range.clear() }\n    input.composing = {\n      start: start,\n      range: cm.markText(start, cm.getCursor(\"to\"), {className: \"CodeMirror-composing\"})\n    }\n  })\n  on(te, \"compositionend\", function () {\n    if (input.composing) {\n      input.poll()\n      input.composing.range.clear()\n      input.composing = null\n    }\n  })\n};\n\nTextareaInput.prototype.prepareSelection = function () {\n  // Redraw the selection and/or cursor\n  var cm = this.cm, display = cm.display, doc = cm.doc\n  var result = prepareSelection(cm)\n\n  // Move the hidden textarea near the cursor to prevent scrolling artifacts\n  if (cm.options.moveInputWithCursor) {\n    var headPos = cursorCoords(cm, doc.sel.primary().head, \"div\")\n    var wrapOff = display.wrapper.getBoundingClientRect(), lineOff = display.lineDiv.getBoundingClientRect()\n    result.teTop = Math.max(0, Math.min(display.wrapper.clientHeight - 10,\n                                        headPos.top + lineOff.top - wrapOff.top))\n    result.teLeft = Math.max(0, Math.min(display.wrapper.clientWidth - 10,\n                                         headPos.left + lineOff.left - wrapOff.left))\n  }\n\n  return result\n};\n\nTextareaInput.prototype.showSelection = function (drawn) {\n  var cm = this.cm, display = cm.display\n  removeChildrenAndAdd(display.cursorDiv, drawn.cursors)\n  removeChildrenAndAdd(display.selectionDiv, drawn.selection)\n  if (drawn.teTop != null) {\n    this.wrapper.style.top = drawn.teTop + \"px\"\n    this.wrapper.style.left = drawn.teLeft + \"px\"\n  }\n};\n\n// Reset the input to correspond to the selection (or to be empty,\n// when not typing and nothing is selected)\nTextareaInput.prototype.reset = function (typing) {\n  if (this.contextMenuPending || this.composing) { return }\n  var cm = this.cm\n  if (cm.somethingSelected()) {\n    this.prevInput = \"\"\n    var content = cm.getSelection()\n    this.textarea.value = content\n    if (cm.state.focused) { selectInput(this.textarea) }\n    if (ie && ie_version >= 9) { this.hasSelection = content }\n  } else if (!typing) {\n    this.prevInput = this.textarea.value = \"\"\n    if (ie && ie_version >= 9) { this.hasSelection = null }\n  }\n};\n\nTextareaInput.prototype.getField = function () { return this.textarea };\n\nTextareaInput.prototype.supportsTouch = function () { return false };\n\nTextareaInput.prototype.focus = function () {\n  if (this.cm.options.readOnly != \"nocursor\" && (!mobile || activeElt() != this.textarea)) {\n    try { this.textarea.focus() }\n    catch (e) {} // IE8 will throw if the textarea is display: none or not in DOM\n  }\n};\n\nTextareaInput.prototype.blur = function () { this.textarea.blur() };\n\nTextareaInput.prototype.resetPosition = function () {\n  this.wrapper.style.top = this.wrapper.style.left = 0\n};\n\nTextareaInput.prototype.receivedFocus = function () { this.slowPoll() };\n\n// Poll for input changes, using the normal rate of polling. This\n// runs as long as the editor is focused.\nTextareaInput.prototype.slowPoll = function () {\n    var this$1 = this;\n\n  if (this.pollingFast) { return }\n  this.polling.set(this.cm.options.pollInterval, function () {\n    this$1.poll()\n    if (this$1.cm.state.focused) { this$1.slowPoll() }\n  })\n};\n\n// When an event has just come in that is likely to add or change\n// something in the input textarea, we poll faster, to ensure that\n// the change appears on the screen quickly.\nTextareaInput.prototype.fastPoll = function () {\n  var missed = false, input = this\n  input.pollingFast = true\n  function p() {\n    var changed = input.poll()\n    if (!changed && !missed) {missed = true; input.polling.set(60, p)}\n    else {input.pollingFast = false; input.slowPoll()}\n  }\n  input.polling.set(20, p)\n};\n\n// Read input from the textarea, and update the document to match.\n// When something is selected, it is present in the textarea, and\n// selected (unless it is huge, in which case a placeholder is\n// used). When nothing is selected, the cursor sits after previously\n// seen text (can be empty), which is stored in prevInput (we must\n// not reset the textarea when typing, because that breaks IME).\nTextareaInput.prototype.poll = function () {\n    var this$1 = this;\n\n  var cm = this.cm, input = this.textarea, prevInput = this.prevInput\n  // Since this is called a *lot*, try to bail out as cheaply as\n  // possible when it is clear that nothing happened. hasSelection\n  // will be the case when there is a lot of text in the textarea,\n  // in which case reading its value would be expensive.\n  if (this.contextMenuPending || !cm.state.focused ||\n      (hasSelection(input) && !prevInput && !this.composing) ||\n      cm.isReadOnly() || cm.options.disableInput || cm.state.keySeq)\n    { return false }\n\n  var text = input.value\n  // If nothing changed, bail.\n  if (text == prevInput && !cm.somethingSelected()) { return false }\n  // Work around nonsensical selection resetting in IE9/10, and\n  // inexplicable appearance of private area unicode characters on\n  // some key combos in Mac (#2689).\n  if (ie && ie_version >= 9 && this.hasSelection === text ||\n      mac && /[\\uf700-\\uf7ff]/.test(text)) {\n    cm.display.input.reset()\n    return false\n  }\n\n  if (cm.doc.sel == cm.display.selForContextMenu) {\n    var first = text.charCodeAt(0)\n    if (first == 0x200b && !prevInput) { prevInput = \"\\u200b\" }\n    if (first == 0x21da) { this.reset(); return this.cm.execCommand(\"undo\") }\n  }\n  // Find the part of the input that is actually new\n  var same = 0, l = Math.min(prevInput.length, text.length)\n  while (same < l && prevInput.charCodeAt(same) == text.charCodeAt(same)) { ++same }\n\n  runInOp(cm, function () {\n    applyTextInput(cm, text.slice(same), prevInput.length - same,\n                   null, this$1.composing ? \"*compose\" : null)\n\n    // Don't leave long text in the textarea, since it makes further polling slow\n    if (text.length > 1000 || text.indexOf(\"\\n\") > -1) { input.value = this$1.prevInput = \"\" }\n    else { this$1.prevInput = text }\n\n    if (this$1.composing) {\n      this$1.composing.range.clear()\n      this$1.composing.range = cm.markText(this$1.composing.start, cm.getCursor(\"to\"),\n                                         {className: \"CodeMirror-composing\"})\n    }\n  })\n  return true\n};\n\nTextareaInput.prototype.ensurePolled = function () {\n  if (this.pollingFast && this.poll()) { this.pollingFast = false }\n};\n\nTextareaInput.prototype.onKeyPress = function () {\n  if (ie && ie_version >= 9) { this.hasSelection = null }\n  this.fastPoll()\n};\n\nTextareaInput.prototype.onContextMenu = function (e) {\n  var input = this, cm = input.cm, display = cm.display, te = input.textarea\n  var pos = posFromMouse(cm, e), scrollPos = display.scroller.scrollTop\n  if (!pos || presto) { return } // Opera is difficult.\n\n  // Reset the current text selection only if the click is done outside of the selection\n  // and 'resetSelectionOnContextMenu' option is true.\n  var reset = cm.options.resetSelectionOnContextMenu\n  if (reset && cm.doc.sel.contains(pos) == -1)\n    { operation(cm, setSelection)(cm.doc, simpleSelection(pos), sel_dontScroll) }\n\n  var oldCSS = te.style.cssText, oldWrapperCSS = input.wrapper.style.cssText\n  input.wrapper.style.cssText = \"position: absolute\"\n  var wrapperBox = input.wrapper.getBoundingClientRect()\n  te.style.cssText = \"position: absolute; width: 30px; height: 30px;\\n      top: \" + (e.clientY - wrapperBox.top - 5) + \"px; left: \" + (e.clientX - wrapperBox.left - 5) + \"px;\\n      z-index: 1000; background: \" + (ie ? \"rgba(255, 255, 255, .05)\" : \"transparent\") + \";\\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);\"\n  var oldScrollY\n  if (webkit) { oldScrollY = window.scrollY } // Work around Chrome issue (#2712)\n  display.input.focus()\n  if (webkit) { window.scrollTo(null, oldScrollY) }\n  display.input.reset()\n  // Adds \"Select all\" to context menu in FF\n  if (!cm.somethingSelected()) { te.value = input.prevInput = \" \" }\n  input.contextMenuPending = true\n  display.selForContextMenu = cm.doc.sel\n  clearTimeout(display.detectingSelectAll)\n\n  // Select-all will be greyed out if there's nothing to select, so\n  // this adds a zero-width space so that we can later check whether\n  // it got selected.\n  function prepareSelectAllHack() {\n    if (te.selectionStart != null) {\n      var selected = cm.somethingSelected()\n      var extval = \"\\u200b\" + (selected ? te.value : \"\")\n      te.value = \"\\u21da\" // Used to catch context-menu undo\n      te.value = extval\n      input.prevInput = selected ? \"\" : \"\\u200b\"\n      te.selectionStart = 1; te.selectionEnd = extval.length\n      // Re-set this, in case some other handler touched the\n      // selection in the meantime.\n      display.selForContextMenu = cm.doc.sel\n    }\n  }\n  function rehide() {\n    input.contextMenuPending = false\n    input.wrapper.style.cssText = oldWrapperCSS\n    te.style.cssText = oldCSS\n    if (ie && ie_version < 9) { display.scrollbars.setScrollTop(display.scroller.scrollTop = scrollPos) }\n\n    // Try to detect the user choosing select-all\n    if (te.selectionStart != null) {\n      if (!ie || (ie && ie_version < 9)) { prepareSelectAllHack() }\n      var i = 0, poll = function () {\n        if (display.selForContextMenu == cm.doc.sel && te.selectionStart == 0 &&\n            te.selectionEnd > 0 && input.prevInput == \"\\u200b\") {\n          operation(cm, selectAll)(cm)\n        } else if (i++ < 10) {\n          display.detectingSelectAll = setTimeout(poll, 500)\n        } else {\n          display.selForContextMenu = null\n          display.input.reset()\n        }\n      }\n      display.detectingSelectAll = setTimeout(poll, 200)\n    }\n  }\n\n  if (ie && ie_version >= 9) { prepareSelectAllHack() }\n  if (captureRightClick) {\n    e_stop(e)\n    var mouseup = function () {\n      off(window, \"mouseup\", mouseup)\n      setTimeout(rehide, 20)\n    }\n    on(window, \"mouseup\", mouseup)\n  } else {\n    setTimeout(rehide, 50)\n  }\n};\n\nTextareaInput.prototype.readOnlyChanged = function (val) {\n  if (!val) { this.reset() }\n  this.textarea.disabled = val == \"nocursor\"\n};\n\nTextareaInput.prototype.setUneditable = function () {};\n\nTextareaInput.prototype.needsContentAttribute = false\n\nfunction fromTextArea(textarea, options) {\n  options = options ? copyObj(options) : {}\n  options.value = textarea.value\n  if (!options.tabindex && textarea.tabIndex)\n    { options.tabindex = textarea.tabIndex }\n  if (!options.placeholder && textarea.placeholder)\n    { options.placeholder = textarea.placeholder }\n  // Set autofocus to true if this textarea is focused, or if it has\n  // autofocus and no other element is focused.\n  if (options.autofocus == null) {\n    var hasFocus = activeElt()\n    options.autofocus = hasFocus == textarea ||\n      textarea.getAttribute(\"autofocus\") != null && hasFocus == document.body\n  }\n\n  function save() {textarea.value = cm.getValue()}\n\n  var realSubmit\n  if (textarea.form) {\n    on(textarea.form, \"submit\", save)\n    // Deplorable hack to make the submit method do the right thing.\n    if (!options.leaveSubmitMethodAlone) {\n      var form = textarea.form\n      realSubmit = form.submit\n      try {\n        var wrappedSubmit = form.submit = function () {\n          save()\n          form.submit = realSubmit\n          form.submit()\n          form.submit = wrappedSubmit\n        }\n      } catch(e) {}\n    }\n  }\n\n  options.finishInit = function (cm) {\n    cm.save = save\n    cm.getTextArea = function () { return textarea; }\n    cm.toTextArea = function () {\n      cm.toTextArea = isNaN // Prevent this from being ran twice\n      save()\n      textarea.parentNode.removeChild(cm.getWrapperElement())\n      textarea.style.display = \"\"\n      if (textarea.form) {\n        off(textarea.form, \"submit\", save)\n        if (typeof textarea.form.submit == \"function\")\n          { textarea.form.submit = realSubmit }\n      }\n    }\n  }\n\n  textarea.style.display = \"none\"\n  var cm = CodeMirror(function (node) { return textarea.parentNode.insertBefore(node, textarea.nextSibling); },\n    options)\n  return cm\n}\n\nfunction addLegacyProps(CodeMirror) {\n  CodeMirror.off = off\n  CodeMirror.on = on\n  CodeMirror.wheelEventPixels = wheelEventPixels\n  CodeMirror.Doc = Doc\n  CodeMirror.splitLines = splitLinesAuto\n  CodeMirror.countColumn = countColumn\n  CodeMirror.findColumn = findColumn\n  CodeMirror.isWordChar = isWordCharBasic\n  CodeMirror.Pass = Pass\n  CodeMirror.signal = signal\n  CodeMirror.Line = Line\n  CodeMirror.changeEnd = changeEnd\n  CodeMirror.scrollbarModel = scrollbarModel\n  CodeMirror.Pos = Pos\n  CodeMirror.cmpPos = cmp\n  CodeMirror.modes = modes\n  CodeMirror.mimeModes = mimeModes\n  CodeMirror.resolveMode = resolveMode\n  CodeMirror.getMode = getMode\n  CodeMirror.modeExtensions = modeExtensions\n  CodeMirror.extendMode = extendMode\n  CodeMirror.copyState = copyState\n  CodeMirror.startState = startState\n  CodeMirror.innerMode = innerMode\n  CodeMirror.commands = commands\n  CodeMirror.keyMap = keyMap\n  CodeMirror.keyName = keyName\n  CodeMirror.isModifierKey = isModifierKey\n  CodeMirror.lookupKey = lookupKey\n  CodeMirror.normalizeKeyMap = normalizeKeyMap\n  CodeMirror.StringStream = StringStream\n  CodeMirror.SharedTextMarker = SharedTextMarker\n  CodeMirror.TextMarker = TextMarker\n  CodeMirror.LineWidget = LineWidget\n  CodeMirror.e_preventDefault = e_preventDefault\n  CodeMirror.e_stopPropagation = e_stopPropagation\n  CodeMirror.e_stop = e_stop\n  CodeMirror.addClass = addClass\n  CodeMirror.contains = contains\n  CodeMirror.rmClass = rmClass\n  CodeMirror.keyNames = keyNames\n}\n\n// EDITOR CONSTRUCTOR\n\ndefineOptions(CodeMirror)\n\naddEditorMethods(CodeMirror)\n\n// Set up methods on CodeMirror's prototype to redirect to the editor's document.\nvar dontDelegate = \"iter insert remove copy getEditor constructor\".split(\" \")\nfor (var prop in Doc.prototype) { if (Doc.prototype.hasOwnProperty(prop) && indexOf(dontDelegate, prop) < 0)\n  { CodeMirror.prototype[prop] = (function(method) {\n    return function() {return method.apply(this.doc, arguments)}\n  })(Doc.prototype[prop]) } }\n\neventMixin(Doc)\n\n// INPUT HANDLING\n\nCodeMirror.inputStyles = {\"textarea\": TextareaInput, \"contenteditable\": ContentEditableInput}\n\n// MODE DEFINITION AND QUERYING\n\n// Extra arguments are stored as the mode's dependencies, which is\n// used by (legacy) mechanisms like loadmode.js to automatically\n// load a mode. (Preferred mechanism is the require/define calls.)\nCodeMirror.defineMode = function(name/*, mode, */) {\n  if (!CodeMirror.defaults.mode && name != \"null\") { CodeMirror.defaults.mode = name }\n  defineMode.apply(this, arguments)\n}\n\nCodeMirror.defineMIME = defineMIME\n\n// Minimal default mode.\nCodeMirror.defineMode(\"null\", function () { return ({token: function (stream) { return stream.skipToEnd(); }}); })\nCodeMirror.defineMIME(\"text/plain\", \"null\")\n\n// EXTENSIONS\n\nCodeMirror.defineExtension = function (name, func) {\n  CodeMirror.prototype[name] = func\n}\nCodeMirror.defineDocExtension = function (name, func) {\n  Doc.prototype[name] = func\n}\n\nCodeMirror.fromTextArea = fromTextArea\n\naddLegacyProps(CodeMirror)\n\nCodeMirror.version = \"5.32.0\"\n\nreturn CodeMirror;\n\n})));\n\n\n// WEBPACK FOOTER //\n// ./examples/src/js/vendor/codemirror/lib/codemirror.js","module.exports = function(module) {\n\tif(!module.webpackPolyfill) {\n\t\tmodule.deprecate = function() {};\n\t\tmodule.paths = [];\n\t\t// module.parent = undefined by default\n\t\tif(!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/module.js\n// module id = 1\n// module chunks = 0","import $ from './vendor/jquery';\r\nimport CodeMirror from './vendor/codemirror/lib/codemirror';\r\nimport './vendor/codemirror/mode/javascript/javascript';\r\nimport './vendor/codemirror/addon/edit/matchbrackets';\r\nimport './vendor/codemirror/addon/selection/active-line';\r\nimport { Loader } from 'exojs';\r\n\r\n$(() => {\r\n    let loader = new Loader({ cache: 'no-cache' }),\r\n        $navigation = $('.navigation-list'),\r\n        $preview = $('.example-preview'),\r\n        $title = $('.editor-title'),\r\n        $code = $('.editor-code'),\r\n        $refresh= $('.refresh-button'),\r\n        activeExample = null,\r\n        activeEditor = null,\r\n        activePath = location.hash.slice(1),\r\n\r\n        createExample = (html) => {\r\n            const $frame = $('<iframe>', {\r\n                'class': 'preview-frame',\r\n                'src': 'preview.html',\r\n            });\r\n\r\n            $preview.html($frame);\r\n\r\n            $frame.contents()\r\n                .find('body')\r\n                .append($('<script>window.onload = function(){' + html + '}</script>'))\r\n\r\n            $code.html(html);\r\n\r\n            if (activeEditor) {\r\n                $(activeEditor.getWrapperElement()).remove();\r\n            }\r\n\r\n            activeEditor = CodeMirror.fromTextArea($code[0], {\r\n                mode: 'javascript',\r\n                theme: 'monokai-sublime',\r\n                lineNumbers: true,\r\n                styleActiveLine: true,\r\n                matchBrackets: true,\r\n                viewportMargin: Infinity,\r\n                lineWrapping: true,\r\n            });\r\n        },\r\n\r\n        loadExample = (example) => {\r\n            if (activeExample === example) {\r\n                return;\r\n            }\r\n\r\n            activeExample = example;\r\n            activePath = example.path;\r\n            window.location.hash = activePath;\r\n            document.title = `${example.title} - ExoJS Examples`;\r\n            $title.html(`Example Code: ${example.title}`);\r\n\r\n            loader.clear();\r\n            loader.loadItem({\r\n                type: 'text',\r\n                name: activePath,\r\n                path: `src/js/examples/${activePath}`,\r\n            }).then(createExample);\r\n        },\r\n\r\n        createNavigation = (entries) => {\r\n            for (const entry of entries) {\r\n                $navigation.append($('<div>', {\r\n                    'class': 'navigation-sub-header',\r\n                    'html': entry.title\r\n                }));\r\n\r\n                for (const example of entry.examples) {\r\n                    $navigation.append($('<div>', {\r\n                        'class': 'navigation-item',\r\n                        'html': example.title\r\n                    }).on('click', () => loadExample(example)));\r\n\r\n                    if (!activePath || activePath === example.path) {\r\n                        loadExample(example);\r\n                    }\r\n                }\r\n            }\r\n        };\r\n\r\n    loader.loadItem({\r\n        type: 'json',\r\n        name: 'examples',\r\n        path: 'assets/json/examples.json',\r\n    }).then(createNavigation);\r\n\r\n    $refresh.on('click', () => {\r\n        if (activeEditor) {\r\n            createExample(activeEditor.getValue());\r\n        }\r\n    })\r\n});\r\n\n\n\n// WEBPACK FOOTER //\n// ./examples/src/js/index.js","/*!\n * jQuery JavaScript Library v3.2.1\n * https://jquery.com/\n *\n * Includes Sizzle.js\n * https://sizzlejs.com/\n *\n * Copyright JS Foundation and other contributors\n * Released under the MIT license\n * https://jquery.org/license\n *\n * Date: 2017-03-20T18:59Z\n */\n( function( global, factory ) {\n\n\t\"use strict\";\n\n\tif ( typeof module === \"object\" && typeof module.exports === \"object\" ) {\n\n\t\t// For CommonJS and CommonJS-like environments where a proper `window`\n\t\t// is present, execute the factory and get jQuery.\n\t\t// For environments that do not have a `window` with a `document`\n\t\t// (such as Node.js), expose a factory as module.exports.\n\t\t// This accentuates the need for the creation of a real `window`.\n\t\t// e.g. var jQuery = require(\"jquery\")(window);\n\t\t// See ticket #14549 for more info.\n\t\tmodule.exports = global.document ?\n\t\t\tfactory( global, true ) :\n\t\t\tfunction( w ) {\n\t\t\t\tif ( !w.document ) {\n\t\t\t\t\tthrow new Error( \"jQuery requires a window with a document\" );\n\t\t\t\t}\n\t\t\t\treturn factory( w );\n\t\t\t};\n\t} else {\n\t\tfactory( global );\n\t}\n\n// Pass this if window is not defined yet\n} )( typeof window !== \"undefined\" ? window : this, function( window, noGlobal ) {\n\n// Edge <= 12 - 13+, Firefox <=18 - 45+, IE 10 - 11, Safari 5.1 - 9+, iOS 6 - 9.1\n// throw exceptions when non-strict code (e.g., ASP.NET 4.5) accesses strict mode\n// arguments.callee.caller (trac-13335). But as of jQuery 3.0 (2016), strict mode should be common\n// enough that all such attempts are guarded in a try block.\n\"use strict\";\n\nvar arr = [];\n\nvar document = window.document;\n\nvar getProto = Object.getPrototypeOf;\n\nvar slice = arr.slice;\n\nvar concat = arr.concat;\n\nvar push = arr.push;\n\nvar indexOf = arr.indexOf;\n\nvar class2type = {};\n\nvar toString = class2type.toString;\n\nvar hasOwn = class2type.hasOwnProperty;\n\nvar fnToString = hasOwn.toString;\n\nvar ObjectFunctionString = fnToString.call( Object );\n\nvar support = {};\n\n\n\n\tfunction DOMEval( code, doc ) {\n\t\tdoc = doc || document;\n\n\t\tvar script = doc.createElement( \"script\" );\n\n\t\tscript.text = code;\n\t\tdoc.head.appendChild( script ).parentNode.removeChild( script );\n\t}\n/* global Symbol */\n// Defining this global in .eslintrc.json would create a danger of using the global\n// unguarded in another place, it seems safer to define global only for this module\n\n\n\nvar\n\tversion = \"3.2.1\",\n\n\t// Define a local copy of jQuery\n\tjQuery = function( selector, context ) {\n\n\t\t// The jQuery object is actually just the init constructor 'enhanced'\n\t\t// Need init if jQuery is called (just allow error to be thrown if not included)\n\t\treturn new jQuery.fn.init( selector, context );\n\t},\n\n\t// Support: Android <=4.0 only\n\t// Make sure we trim BOM and NBSP\n\trtrim = /^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g,\n\n\t// Matches dashed string for camelizing\n\trmsPrefix = /^-ms-/,\n\trdashAlpha = /-([a-z])/g,\n\n\t// Used by jQuery.camelCase as callback to replace()\n\tfcamelCase = function( all, letter ) {\n\t\treturn letter.toUpperCase();\n\t};\n\njQuery.fn = jQuery.prototype = {\n\n\t// The current version of jQuery being used\n\tjquery: version,\n\n\tconstructor: jQuery,\n\n\t// The default length of a jQuery object is 0\n\tlength: 0,\n\n\ttoArray: function() {\n\t\treturn slice.call( this );\n\t},\n\n\t// Get the Nth element in the matched element set OR\n\t// Get the whole matched element set as a clean array\n\tget: function( num ) {\n\n\t\t// Return all the elements in a clean array\n\t\tif ( num == null ) {\n\t\t\treturn slice.call( this );\n\t\t}\n\n\t\t// Return just the one element from the set\n\t\treturn num < 0 ? this[ num + this.length ] : this[ num ];\n\t},\n\n\t// Take an array of elements and push it onto the stack\n\t// (returning the new matched element set)\n\tpushStack: function( elems ) {\n\n\t\t// Build a new jQuery matched element set\n\t\tvar ret = jQuery.merge( this.constructor(), elems );\n\n\t\t// Add the old object onto the stack (as a reference)\n\t\tret.prevObject = this;\n\n\t\t// Return the newly-formed element set\n\t\treturn ret;\n\t},\n\n\t// Execute a callback for every element in the matched set.\n\teach: function( callback ) {\n\t\treturn jQuery.each( this, callback );\n\t},\n\n\tmap: function( callback ) {\n\t\treturn this.pushStack( jQuery.map( this, function( elem, i ) {\n\t\t\treturn callback.call( elem, i, elem );\n\t\t} ) );\n\t},\n\n\tslice: function() {\n\t\treturn this.pushStack( slice.apply( this, arguments ) );\n\t},\n\n\tfirst: function() {\n\t\treturn this.eq( 0 );\n\t},\n\n\tlast: function() {\n\t\treturn this.eq( -1 );\n\t},\n\n\teq: function( i ) {\n\t\tvar len = this.length,\n\t\t\tj = +i + ( i < 0 ? len : 0 );\n\t\treturn this.pushStack( j >= 0 && j < len ? [ this[ j ] ] : [] );\n\t},\n\n\tend: function() {\n\t\treturn this.prevObject || this.constructor();\n\t},\n\n\t// For internal use only.\n\t// Behaves like an Array's method, not like a jQuery method.\n\tpush: push,\n\tsort: arr.sort,\n\tsplice: arr.splice\n};\n\njQuery.extend = jQuery.fn.extend = function() {\n\tvar options, name, src, copy, copyIsArray, clone,\n\t\ttarget = arguments[ 0 ] || {},\n\t\ti = 1,\n\t\tlength = arguments.length,\n\t\tdeep = false;\n\n\t// Handle a deep copy situation\n\tif ( typeof target === \"boolean\" ) {\n\t\tdeep = target;\n\n\t\t// Skip the boolean and the target\n\t\ttarget = arguments[ i ] || {};\n\t\ti++;\n\t}\n\n\t// Handle case when target is a string or something (possible in deep copy)\n\tif ( typeof target !== \"object\" && !jQuery.isFunction( target ) ) {\n\t\ttarget = {};\n\t}\n\n\t// Extend jQuery itself if only one argument is passed\n\tif ( i === length ) {\n\t\ttarget = this;\n\t\ti--;\n\t}\n\n\tfor ( ; i < length; i++ ) {\n\n\t\t// Only deal with non-null/undefined values\n\t\tif ( ( options = arguments[ i ] ) != null ) {\n\n\t\t\t// Extend the base object\n\t\t\tfor ( name in options ) {\n\t\t\t\tsrc = target[ name ];\n\t\t\t\tcopy = options[ name ];\n\n\t\t\t\t// Prevent never-ending loop\n\t\t\t\tif ( target === copy ) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\t// Recurse if we're merging plain objects or arrays\n\t\t\t\tif ( deep && copy && ( jQuery.isPlainObject( copy ) ||\n\t\t\t\t\t( copyIsArray = Array.isArray( copy ) ) ) ) {\n\n\t\t\t\t\tif ( copyIsArray ) {\n\t\t\t\t\t\tcopyIsArray = false;\n\t\t\t\t\t\tclone = src && Array.isArray( src ) ? src : [];\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\tclone = src && jQuery.isPlainObject( src ) ? src : {};\n\t\t\t\t\t}\n\n\t\t\t\t\t// Never move original objects, clone them\n\t\t\t\t\ttarget[ name ] = jQuery.extend( deep, clone, copy );\n\n\t\t\t\t// Don't bring in undefined values\n\t\t\t\t} else if ( copy !== undefined ) {\n\t\t\t\t\ttarget[ name ] = copy;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// Return the modified object\n\treturn target;\n};\n\njQuery.extend( {\n\n\t// Unique for each copy of jQuery on the page\n\texpando: \"jQuery\" + ( version + Math.random() ).replace( /\\D/g, \"\" ),\n\n\t// Assume jQuery is ready without the ready module\n\tisReady: true,\n\n\terror: function( msg ) {\n\t\tthrow new Error( msg );\n\t},\n\n\tnoop: function() {},\n\n\tisFunction: function( obj ) {\n\t\treturn jQuery.type( obj ) === \"function\";\n\t},\n\n\tisWindow: function( obj ) {\n\t\treturn obj != null && obj === obj.window;\n\t},\n\n\tisNumeric: function( obj ) {\n\n\t\t// As of jQuery 3.0, isNumeric is limited to\n\t\t// strings and numbers (primitives or objects)\n\t\t// that can be coerced to finite numbers (gh-2662)\n\t\tvar type = jQuery.type( obj );\n\t\treturn ( type === \"number\" || type === \"string\" ) &&\n\n\t\t\t// parseFloat NaNs numeric-cast false positives (\"\")\n\t\t\t// ...but misinterprets leading-number strings, particularly hex literals (\"0x...\")\n\t\t\t// subtraction forces infinities to NaN\n\t\t\t!isNaN( obj - parseFloat( obj ) );\n\t},\n\n\tisPlainObject: function( obj ) {\n\t\tvar proto, Ctor;\n\n\t\t// Detect obvious negatives\n\t\t// Use toString instead of jQuery.type to catch host objects\n\t\tif ( !obj || toString.call( obj ) !== \"[object Object]\" ) {\n\t\t\treturn false;\n\t\t}\n\n\t\tproto = getProto( obj );\n\n\t\t// Objects with no prototype (e.g., `Object.create( null )`) are plain\n\t\tif ( !proto ) {\n\t\t\treturn true;\n\t\t}\n\n\t\t// Objects with prototype are plain iff they were constructed by a global Object function\n\t\tCtor = hasOwn.call( proto, \"constructor\" ) && proto.constructor;\n\t\treturn typeof Ctor === \"function\" && fnToString.call( Ctor ) === ObjectFunctionString;\n\t},\n\n\tisEmptyObject: function( obj ) {\n\n\t\t/* eslint-disable no-unused-vars */\n\t\t// See https://github.com/eslint/eslint/issues/6125\n\t\tvar name;\n\n\t\tfor ( name in obj ) {\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t},\n\n\ttype: function( obj ) {\n\t\tif ( obj == null ) {\n\t\t\treturn obj + \"\";\n\t\t}\n\n\t\t// Support: Android <=2.3 only (functionish RegExp)\n\t\treturn typeof obj === \"object\" || typeof obj === \"function\" ?\n\t\t\tclass2type[ toString.call( obj ) ] || \"object\" :\n\t\t\ttypeof obj;\n\t},\n\n\t// Evaluates a script in a global context\n\tglobalEval: function( code ) {\n\t\tDOMEval( code );\n\t},\n\n\t// Convert dashed to camelCase; used by the css and data modules\n\t// Support: IE <=9 - 11, Edge 12 - 13\n\t// Microsoft forgot to hump their vendor prefix (#9572)\n\tcamelCase: function( string ) {\n\t\treturn string.replace( rmsPrefix, \"ms-\" ).replace( rdashAlpha, fcamelCase );\n\t},\n\n\teach: function( obj, callback ) {\n\t\tvar length, i = 0;\n\n\t\tif ( isArrayLike( obj ) ) {\n\t\t\tlength = obj.length;\n\t\t\tfor ( ; i < length; i++ ) {\n\t\t\t\tif ( callback.call( obj[ i ], i, obj[ i ] ) === false ) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tfor ( i in obj ) {\n\t\t\t\tif ( callback.call( obj[ i ], i, obj[ i ] ) === false ) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn obj;\n\t},\n\n\t// Support: Android <=4.0 only\n\ttrim: function( text ) {\n\t\treturn text == null ?\n\t\t\t\"\" :\n\t\t\t( text + \"\" ).replace( rtrim, \"\" );\n\t},\n\n\t// results is for internal usage only\n\tmakeArray: function( arr, results ) {\n\t\tvar ret = results || [];\n\n\t\tif ( arr != null ) {\n\t\t\tif ( isArrayLike( Object( arr ) ) ) {\n\t\t\t\tjQuery.merge( ret,\n\t\t\t\t\ttypeof arr === \"string\" ?\n\t\t\t\t\t[ arr ] : arr\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tpush.call( ret, arr );\n\t\t\t}\n\t\t}\n\n\t\treturn ret;\n\t},\n\n\tinArray: function( elem, arr, i ) {\n\t\treturn arr == null ? -1 : indexOf.call( arr, elem, i );\n\t},\n\n\t// Support: Android <=4.0 only, PhantomJS 1 only\n\t// push.apply(_, arraylike) throws on ancient WebKit\n\tmerge: function( first, second ) {\n\t\tvar len = +second.length,\n\t\t\tj = 0,\n\t\t\ti = first.length;\n\n\t\tfor ( ; j < len; j++ ) {\n\t\t\tfirst[ i++ ] = second[ j ];\n\t\t}\n\n\t\tfirst.length = i;\n\n\t\treturn first;\n\t},\n\n\tgrep: function( elems, callback, invert ) {\n\t\tvar callbackInverse,\n\t\t\tmatches = [],\n\t\t\ti = 0,\n\t\t\tlength = elems.length,\n\t\t\tcallbackExpect = !invert;\n\n\t\t// Go through the array, only saving the items\n\t\t// that pass the validator function\n\t\tfor ( ; i < length; i++ ) {\n\t\t\tcallbackInverse = !callback( elems[ i ], i );\n\t\t\tif ( callbackInverse !== callbackExpect ) {\n\t\t\t\tmatches.push( elems[ i ] );\n\t\t\t}\n\t\t}\n\n\t\treturn matches;\n\t},\n\n\t// arg is for internal usage only\n\tmap: function( elems, callback, arg ) {\n\t\tvar length, value,\n\t\t\ti = 0,\n\t\t\tret = [];\n\n\t\t// Go through the array, translating each of the items to their new values\n\t\tif ( isArrayLike( elems ) ) {\n\t\t\tlength = elems.length;\n\t\t\tfor ( ; i < length; i++ ) {\n\t\t\t\tvalue = callback( elems[ i ], i, arg );\n\n\t\t\t\tif ( value != null ) {\n\t\t\t\t\tret.push( value );\n\t\t\t\t}\n\t\t\t}\n\n\t\t// Go through every key on the object,\n\t\t} else {\n\t\t\tfor ( i in elems ) {\n\t\t\t\tvalue = callback( elems[ i ], i, arg );\n\n\t\t\t\tif ( value != null ) {\n\t\t\t\t\tret.push( value );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Flatten any nested arrays\n\t\treturn concat.apply( [], ret );\n\t},\n\n\t// A global GUID counter for objects\n\tguid: 1,\n\n\t// Bind a function to a context, optionally partially applying any\n\t// arguments.\n\tproxy: function( fn, context ) {\n\t\tvar tmp, args, proxy;\n\n\t\tif ( typeof context === \"string\" ) {\n\t\t\ttmp = fn[ context ];\n\t\t\tcontext = fn;\n\t\t\tfn = tmp;\n\t\t}\n\n\t\t// Quick check to determine if target is callable, in the spec\n\t\t// this throws a TypeError, but we will just return undefined.\n\t\tif ( !jQuery.isFunction( fn ) ) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\t// Simulated bind\n\t\targs = slice.call( arguments, 2 );\n\t\tproxy = function() {\n\t\t\treturn fn.apply( context || this, args.concat( slice.call( arguments ) ) );\n\t\t};\n\n\t\t// Set the guid of unique handler to the same of original handler, so it can be removed\n\t\tproxy.guid = fn.guid = fn.guid || jQuery.guid++;\n\n\t\treturn proxy;\n\t},\n\n\tnow: Date.now,\n\n\t// jQuery.support is not used in Core but other projects attach their\n\t// properties to it so it needs to exist.\n\tsupport: support\n} );\n\nif ( typeof Symbol === \"function\" ) {\n\tjQuery.fn[ Symbol.iterator ] = arr[ Symbol.iterator ];\n}\n\n// Populate the class2type map\njQuery.each( \"Boolean Number String Function Array Date RegExp Object Error Symbol\".split( \" \" ),\nfunction( i, name ) {\n\tclass2type[ \"[object \" + name + \"]\" ] = name.toLowerCase();\n} );\n\nfunction isArrayLike( obj ) {\n\n\t// Support: real iOS 8.2 only (not reproducible in simulator)\n\t// `in` check used to prevent JIT error (gh-2145)\n\t// hasOwn isn't used here due to false negatives\n\t// regarding Nodelist length in IE\n\tvar length = !!obj && \"length\" in obj && obj.length,\n\t\ttype = jQuery.type( obj );\n\n\tif ( type === \"function\" || jQuery.isWindow( obj ) ) {\n\t\treturn false;\n\t}\n\n\treturn type === \"array\" || length === 0 ||\n\t\ttypeof length === \"number\" && length > 0 && ( length - 1 ) in obj;\n}\nvar Sizzle =\n/*!\n * Sizzle CSS Selector Engine v2.3.3\n * https://sizzlejs.com/\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license\n * http://jquery.org/license\n *\n * Date: 2016-08-08\n */\n(function( window ) {\n\nvar i,\n\tsupport,\n\tExpr,\n\tgetText,\n\tisXML,\n\ttokenize,\n\tcompile,\n\tselect,\n\toutermostContext,\n\tsortInput,\n\thasDuplicate,\n\n\t// Local document vars\n\tsetDocument,\n\tdocument,\n\tdocElem,\n\tdocumentIsHTML,\n\trbuggyQSA,\n\trbuggyMatches,\n\tmatches,\n\tcontains,\n\n\t// Instance-specific data\n\texpando = \"sizzle\" + 1 * new Date(),\n\tpreferredDoc = window.document,\n\tdirruns = 0,\n\tdone = 0,\n\tclassCache = createCache(),\n\ttokenCache = createCache(),\n\tcompilerCache = createCache(),\n\tsortOrder = function( a, b ) {\n\t\tif ( a === b ) {\n\t\t\thasDuplicate = true;\n\t\t}\n\t\treturn 0;\n\t},\n\n\t// Instance methods\n\thasOwn = ({}).hasOwnProperty,\n\tarr = [],\n\tpop = arr.pop,\n\tpush_native = arr.push,\n\tpush = arr.push,\n\tslice = arr.slice,\n\t// Use a stripped-down indexOf as it's faster than native\n\t// https://jsperf.com/thor-indexof-vs-for/5\n\tindexOf = function( list, elem ) {\n\t\tvar i = 0,\n\t\t\tlen = list.length;\n\t\tfor ( ; i < len; i++ ) {\n\t\t\tif ( list[i] === elem ) {\n\t\t\t\treturn i;\n\t\t\t}\n\t\t}\n\t\treturn -1;\n\t},\n\n\tbooleans = \"checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped\",\n\n\t// Regular expressions\n\n\t// http://www.w3.org/TR/css3-selectors/#whitespace\n\twhitespace = \"[\\\\x20\\\\t\\\\r\\\\n\\\\f]\",\n\n\t// http://www.w3.org/TR/CSS21/syndata.html#value-def-identifier\n\tidentifier = \"(?:\\\\\\\\.|[\\\\w-]|[^\\0-\\\\xa0])+\",\n\n\t// Attribute selectors: http://www.w3.org/TR/selectors/#attribute-selectors\n\tattributes = \"\\\\[\" + whitespace + \"*(\" + identifier + \")(?:\" + whitespace +\n\t\t// Operator (capture 2)\n\t\t\"*([*^$|!~]?=)\" + whitespace +\n\t\t// \"Attribute values must be CSS identifiers [capture 5] or strings [capture 3 or capture 4]\"\n\t\t\"*(?:'((?:\\\\\\\\.|[^\\\\\\\\'])*)'|\\\"((?:\\\\\\\\.|[^\\\\\\\\\\\"])*)\\\"|(\" + identifier + \"))|)\" + whitespace +\n\t\t\"*\\\\]\",\n\n\tpseudos = \":(\" + identifier + \")(?:\\\\((\" +\n\t\t// To reduce the number of selectors needing tokenize in the preFilter, prefer arguments:\n\t\t// 1. quoted (capture 3; capture 4 or capture 5)\n\t\t\"('((?:\\\\\\\\.|[^\\\\\\\\'])*)'|\\\"((?:\\\\\\\\.|[^\\\\\\\\\\\"])*)\\\")|\" +\n\t\t// 2. simple (capture 6)\n\t\t\"((?:\\\\\\\\.|[^\\\\\\\\()[\\\\]]|\" + attributes + \")*)|\" +\n\t\t// 3. anything else (capture 2)\n\t\t\".*\" +\n\t\t\")\\\\)|)\",\n\n\t// Leading and non-escaped trailing whitespace, capturing some non-whitespace characters preceding the latter\n\trwhitespace = new RegExp( whitespace + \"+\", \"g\" ),\n\trtrim = new RegExp( \"^\" + whitespace + \"+|((?:^|[^\\\\\\\\])(?:\\\\\\\\.)*)\" + whitespace + \"+$\", \"g\" ),\n\n\trcomma = new RegExp( \"^\" + whitespace + \"*,\" + whitespace + \"*\" ),\n\trcombinators = new RegExp( \"^\" + whitespace + \"*([>+~]|\" + whitespace + \")\" + whitespace + \"*\" ),\n\n\trattributeQuotes = new RegExp( \"=\" + whitespace + \"*([^\\\\]'\\\"]*?)\" + whitespace + \"*\\\\]\", \"g\" ),\n\n\trpseudo = new RegExp( pseudos ),\n\tridentifier = new RegExp( \"^\" + identifier + \"$\" ),\n\n\tmatchExpr = {\n\t\t\"ID\": new RegExp( \"^#(\" + identifier + \")\" ),\n\t\t\"CLASS\": new RegExp( \"^\\\\.(\" + identifier + \")\" ),\n\t\t\"TAG\": new RegExp( \"^(\" + identifier + \"|[*])\" ),\n\t\t\"ATTR\": new RegExp( \"^\" + attributes ),\n\t\t\"PSEUDO\": new RegExp( \"^\" + pseudos ),\n\t\t\"CHILD\": new RegExp( \"^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\\\(\" + whitespace +\n\t\t\t\"*(even|odd|(([+-]|)(\\\\d*)n|)\" + whitespace + \"*(?:([+-]|)\" + whitespace +\n\t\t\t\"*(\\\\d+)|))\" + whitespace + \"*\\\\)|)\", \"i\" ),\n\t\t\"bool\": new RegExp( \"^(?:\" + booleans + \")$\", \"i\" ),\n\t\t// For use in libraries implementing .is()\n\t\t// We use this for POS matching in `select`\n\t\t\"needsContext\": new RegExp( \"^\" + whitespace + \"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\\\(\" +\n\t\t\twhitespace + \"*((?:-\\\\d)?\\\\d*)\" + whitespace + \"*\\\\)|)(?=[^-]|$)\", \"i\" )\n\t},\n\n\trinputs = /^(?:input|select|textarea|button)$/i,\n\trheader = /^h\\d$/i,\n\n\trnative = /^[^{]+\\{\\s*\\[native \\w/,\n\n\t// Easily-parseable/retrievable ID or TAG or CLASS selectors\n\trquickExpr = /^(?:#([\\w-]+)|(\\w+)|\\.([\\w-]+))$/,\n\n\trsibling = /[+~]/,\n\n\t// CSS escapes\n\t// http://www.w3.org/TR/CSS21/syndata.html#escaped-characters\n\trunescape = new RegExp( \"\\\\\\\\([\\\\da-f]{1,6}\" + whitespace + \"?|(\" + whitespace + \")|.)\", \"ig\" ),\n\tfunescape = function( _, escaped, escapedWhitespace ) {\n\t\tvar high = \"0x\" + escaped - 0x10000;\n\t\t// NaN means non-codepoint\n\t\t// Support: Firefox<24\n\t\t// Workaround erroneous numeric interpretation of +\"0x\"\n\t\treturn high !== high || escapedWhitespace ?\n\t\t\tescaped :\n\t\t\thigh < 0 ?\n\t\t\t\t// BMP codepoint\n\t\t\t\tString.fromCharCode( high + 0x10000 ) :\n\t\t\t\t// Supplemental Plane codepoint (surrogate pair)\n\t\t\t\tString.fromCharCode( high >> 10 | 0xD800, high & 0x3FF | 0xDC00 );\n\t},\n\n\t// CSS string/identifier serialization\n\t// https://drafts.csswg.org/cssom/#common-serializing-idioms\n\trcssescape = /([\\0-\\x1f\\x7f]|^-?\\d)|^-$|[^\\0-\\x1f\\x7f-\\uFFFF\\w-]/g,\n\tfcssescape = function( ch, asCodePoint ) {\n\t\tif ( asCodePoint ) {\n\n\t\t\t// U+0000 NULL becomes U+FFFD REPLACEMENT CHARACTER\n\t\t\tif ( ch === \"\\0\" ) {\n\t\t\t\treturn \"\\uFFFD\";\n\t\t\t}\n\n\t\t\t// Control characters and (dependent upon position) numbers get escaped as code points\n\t\t\treturn ch.slice( 0, -1 ) + \"\\\\\" + ch.charCodeAt( ch.length - 1 ).toString( 16 ) + \" \";\n\t\t}\n\n\t\t// Other potentially-special ASCII characters get backslash-escaped\n\t\treturn \"\\\\\" + ch;\n\t},\n\n\t// Used for iframes\n\t// See setDocument()\n\t// Removing the function wrapper causes a \"Permission Denied\"\n\t// error in IE\n\tunloadHandler = function() {\n\t\tsetDocument();\n\t},\n\n\tdisabledAncestor = addCombinator(\n\t\tfunction( elem ) {\n\t\t\treturn elem.disabled === true && (\"form\" in elem || \"label\" in elem);\n\t\t},\n\t\t{ dir: \"parentNode\", next: \"legend\" }\n\t);\n\n// Optimize for push.apply( _, NodeList )\ntry {\n\tpush.apply(\n\t\t(arr = slice.call( preferredDoc.childNodes )),\n\t\tpreferredDoc.childNodes\n\t);\n\t// Support: Android<4.0\n\t// Detect silently failing push.apply\n\tarr[ preferredDoc.childNodes.length ].nodeType;\n} catch ( e ) {\n\tpush = { apply: arr.length ?\n\n\t\t// Leverage slice if possible\n\t\tfunction( target, els ) {\n\t\t\tpush_native.apply( target, slice.call(els) );\n\t\t} :\n\n\t\t// Support: IE<9\n\t\t// Otherwise append directly\n\t\tfunction( target, els ) {\n\t\t\tvar j = target.length,\n\t\t\t\ti = 0;\n\t\t\t// Can't trust NodeList.length\n\t\t\twhile ( (target[j++] = els[i++]) ) {}\n\t\t\ttarget.length = j - 1;\n\t\t}\n\t};\n}\n\nfunction Sizzle( selector, context, results, seed ) {\n\tvar m, i, elem, nid, match, groups, newSelector,\n\t\tnewContext = context && context.ownerDocument,\n\n\t\t// nodeType defaults to 9, since context defaults to document\n\t\tnodeType = context ? context.nodeType : 9;\n\n\tresults = results || [];\n\n\t// Return early from calls with invalid selector or context\n\tif ( typeof selector !== \"string\" || !selector ||\n\t\tnodeType !== 1 && nodeType !== 9 && nodeType !== 11 ) {\n\n\t\treturn results;\n\t}\n\n\t// Try to shortcut find operations (as opposed to filters) in HTML documents\n\tif ( !seed ) {\n\n\t\tif ( ( context ? context.ownerDocument || context : preferredDoc ) !== document ) {\n\t\t\tsetDocument( context );\n\t\t}\n\t\tcontext = context || document;\n\n\t\tif ( documentIsHTML ) {\n\n\t\t\t// If the selector is sufficiently simple, try using a \"get*By*\" DOM method\n\t\t\t// (excepting DocumentFragment context, where the methods don't exist)\n\t\t\tif ( nodeType !== 11 && (match = rquickExpr.exec( selector )) ) {\n\n\t\t\t\t// ID selector\n\t\t\t\tif ( (m = match[1]) ) {\n\n\t\t\t\t\t// Document context\n\t\t\t\t\tif ( nodeType === 9 ) {\n\t\t\t\t\t\tif ( (elem = context.getElementById( m )) ) {\n\n\t\t\t\t\t\t\t// Support: IE, Opera, Webkit\n\t\t\t\t\t\t\t// TODO: identify versions\n\t\t\t\t\t\t\t// getElementById can match elements by name instead of ID\n\t\t\t\t\t\t\tif ( elem.id === m ) {\n\t\t\t\t\t\t\t\tresults.push( elem );\n\t\t\t\t\t\t\t\treturn results;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn results;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t// Element context\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t// Support: IE, Opera, Webkit\n\t\t\t\t\t\t// TODO: identify versions\n\t\t\t\t\t\t// getElementById can match elements by name instead of ID\n\t\t\t\t\t\tif ( newContext && (elem = newContext.getElementById( m )) &&\n\t\t\t\t\t\t\tcontains( context, elem ) &&\n\t\t\t\t\t\t\telem.id === m ) {\n\n\t\t\t\t\t\t\tresults.push( elem );\n\t\t\t\t\t\t\treturn results;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t// Type selector\n\t\t\t\t} else if ( match[2] ) {\n\t\t\t\t\tpush.apply( results, context.getElementsByTagName( selector ) );\n\t\t\t\t\treturn results;\n\n\t\t\t\t// Class selector\n\t\t\t\t} else if ( (m = match[3]) && support.getElementsByClassName &&\n\t\t\t\t\tcontext.getElementsByClassName ) {\n\n\t\t\t\t\tpush.apply( results, context.getElementsByClassName( m ) );\n\t\t\t\t\treturn results;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Take advantage of querySelectorAll\n\t\t\tif ( support.qsa &&\n\t\t\t\t!compilerCache[ selector + \" \" ] &&\n\t\t\t\t(!rbuggyQSA || !rbuggyQSA.test( selector )) ) {\n\n\t\t\t\tif ( nodeType !== 1 ) {\n\t\t\t\t\tnewContext = context;\n\t\t\t\t\tnewSelector = selector;\n\n\t\t\t\t// qSA looks outside Element context, which is not what we want\n\t\t\t\t// Thanks to Andrew Dupont for this workaround technique\n\t\t\t\t// Support: IE <=8\n\t\t\t\t// Exclude object elements\n\t\t\t\t} else if ( context.nodeName.toLowerCase() !== \"object\" ) {\n\n\t\t\t\t\t// Capture the context ID, setting it first if necessary\n\t\t\t\t\tif ( (nid = context.getAttribute( \"id\" )) ) {\n\t\t\t\t\t\tnid = nid.replace( rcssescape, fcssescape );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcontext.setAttribute( \"id\", (nid = expando) );\n\t\t\t\t\t}\n\n\t\t\t\t\t// Prefix every selector in the list\n\t\t\t\t\tgroups = tokenize( selector );\n\t\t\t\t\ti = groups.length;\n\t\t\t\t\twhile ( i-- ) {\n\t\t\t\t\t\tgroups[i] = \"#\" + nid + \" \" + toSelector( groups[i] );\n\t\t\t\t\t}\n\t\t\t\t\tnewSelector = groups.join( \",\" );\n\n\t\t\t\t\t// Expand context for sibling selectors\n\t\t\t\t\tnewContext = rsibling.test( selector ) && testContext( context.parentNode ) ||\n\t\t\t\t\t\tcontext;\n\t\t\t\t}\n\n\t\t\t\tif ( newSelector ) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tpush.apply( results,\n\t\t\t\t\t\t\tnewContext.querySelectorAll( newSelector )\n\t\t\t\t\t\t);\n\t\t\t\t\t\treturn results;\n\t\t\t\t\t} catch ( qsaError ) {\n\t\t\t\t\t} finally {\n\t\t\t\t\t\tif ( nid === expando ) {\n\t\t\t\t\t\t\tcontext.removeAttribute( \"id\" );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// All others\n\treturn select( selector.replace( rtrim, \"$1\" ), context, results, seed );\n}\n\n/**\n * Create key-value caches of limited size\n * @returns {function(string, object)} Returns the Object data after storing it on itself with\n *\tproperty name the (space-suffixed) string and (if the cache is larger than Expr.cacheLength)\n *\tdeleting the oldest entry\n */\nfunction createCache() {\n\tvar keys = [];\n\n\tfunction cache( key, value ) {\n\t\t// Use (key + \" \") to avoid collision with native prototype properties (see Issue #157)\n\t\tif ( keys.push( key + \" \" ) > Expr.cacheLength ) {\n\t\t\t// Only keep the most recent entries\n\t\t\tdelete cache[ keys.shift() ];\n\t\t}\n\t\treturn (cache[ key + \" \" ] = value);\n\t}\n\treturn cache;\n}\n\n/**\n * Mark a function for special use by Sizzle\n * @param {Function} fn The function to mark\n */\nfunction markFunction( fn ) {\n\tfn[ expando ] = true;\n\treturn fn;\n}\n\n/**\n * Support testing using an element\n * @param {Function} fn Passed the created element and returns a boolean result\n */\nfunction assert( fn ) {\n\tvar el = document.createElement(\"fieldset\");\n\n\ttry {\n\t\treturn !!fn( el );\n\t} catch (e) {\n\t\treturn false;\n\t} finally {\n\t\t// Remove from its parent by default\n\t\tif ( el.parentNode ) {\n\t\t\tel.parentNode.removeChild( el );\n\t\t}\n\t\t// release memory in IE\n\t\tel = null;\n\t}\n}\n\n/**\n * Adds the same handler for all of the specified attrs\n * @param {String} attrs Pipe-separated list of attributes\n * @param {Function} handler The method that will be applied\n */\nfunction addHandle( attrs, handler ) {\n\tvar arr = attrs.split(\"|\"),\n\t\ti = arr.length;\n\n\twhile ( i-- ) {\n\t\tExpr.attrHandle[ arr[i] ] = handler;\n\t}\n}\n\n/**\n * Checks document order of two siblings\n * @param {Element} a\n * @param {Element} b\n * @returns {Number} Returns less than 0 if a precedes b, greater than 0 if a follows b\n */\nfunction siblingCheck( a, b ) {\n\tvar cur = b && a,\n\t\tdiff = cur && a.nodeType === 1 && b.nodeType === 1 &&\n\t\t\ta.sourceIndex - b.sourceIndex;\n\n\t// Use IE sourceIndex if available on both nodes\n\tif ( diff ) {\n\t\treturn diff;\n\t}\n\n\t// Check if b follows a\n\tif ( cur ) {\n\t\twhile ( (cur = cur.nextSibling) ) {\n\t\t\tif ( cur === b ) {\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn a ? 1 : -1;\n}\n\n/**\n * Returns a function to use in pseudos for input types\n * @param {String} type\n */\nfunction createInputPseudo( type ) {\n\treturn function( elem ) {\n\t\tvar name = elem.nodeName.toLowerCase();\n\t\treturn name === \"input\" && elem.type === type;\n\t};\n}\n\n/**\n * Returns a function to use in pseudos for buttons\n * @param {String} type\n */\nfunction createButtonPseudo( type ) {\n\treturn function( elem ) {\n\t\tvar name = elem.nodeName.toLowerCase();\n\t\treturn (name === \"input\" || name === \"button\") && elem.type === type;\n\t};\n}\n\n/**\n * Returns a function to use in pseudos for :enabled/:disabled\n * @param {Boolean} disabled true for :disabled; false for :enabled\n */\nfunction createDisabledPseudo( disabled ) {\n\n\t// Known :disabled false positives: fieldset[disabled] > legend:nth-of-type(n+2) :can-disable\n\treturn function( elem ) {\n\n\t\t// Only certain elements can match :enabled or :disabled\n\t\t// https://html.spec.whatwg.org/multipage/scripting.html#selector-enabled\n\t\t// https://html.spec.whatwg.org/multipage/scripting.html#selector-disabled\n\t\tif ( \"form\" in elem ) {\n\n\t\t\t// Check for inherited disabledness on relevant non-disabled elements:\n\t\t\t// * listed form-associated elements in a disabled fieldset\n\t\t\t//   https://html.spec.whatwg.org/multipage/forms.html#category-listed\n\t\t\t//   https://html.spec.whatwg.org/multipage/forms.html#concept-fe-disabled\n\t\t\t// * option elements in a disabled optgroup\n\t\t\t//   https://html.spec.whatwg.org/multipage/forms.html#concept-option-disabled\n\t\t\t// All such elements have a \"form\" property.\n\t\t\tif ( elem.parentNode && elem.disabled === false ) {\n\n\t\t\t\t// Option elements defer to a parent optgroup if present\n\t\t\t\tif ( \"label\" in elem ) {\n\t\t\t\t\tif ( \"label\" in elem.parentNode ) {\n\t\t\t\t\t\treturn elem.parentNode.disabled === disabled;\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn elem.disabled === disabled;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Support: IE 6 - 11\n\t\t\t\t// Use the isDisabled shortcut property to check for disabled fieldset ancestors\n\t\t\t\treturn elem.isDisabled === disabled ||\n\n\t\t\t\t\t// Where there is no isDisabled, check manually\n\t\t\t\t\t/* jshint -W018 */\n\t\t\t\t\telem.isDisabled !== !disabled &&\n\t\t\t\t\t\tdisabledAncestor( elem ) === disabled;\n\t\t\t}\n\n\t\t\treturn elem.disabled === disabled;\n\n\t\t// Try to winnow out elements that can't be disabled before trusting the disabled property.\n\t\t// Some victims get caught in our net (label, legend, menu, track), but it shouldn't\n\t\t// even exist on them, let alone have a boolean value.\n\t\t} else if ( \"label\" in elem ) {\n\t\t\treturn elem.disabled === disabled;\n\t\t}\n\n\t\t// Remaining elements are neither :enabled nor :disabled\n\t\treturn false;\n\t};\n}\n\n/**\n * Returns a function to use in pseudos for positionals\n * @param {Function} fn\n */\nfunction createPositionalPseudo( fn ) {\n\treturn markFunction(function( argument ) {\n\t\targument = +argument;\n\t\treturn markFunction(function( seed, matches ) {\n\t\t\tvar j,\n\t\t\t\tmatchIndexes = fn( [], seed.length, argument ),\n\t\t\t\ti = matchIndexes.length;\n\n\t\t\t// Match elements found at the specified indexes\n\t\t\twhile ( i-- ) {\n\t\t\t\tif ( seed[ (j = matchIndexes[i]) ] ) {\n\t\t\t\t\tseed[j] = !(matches[j] = seed[j]);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t});\n}\n\n/**\n * Checks a node for validity as a Sizzle context\n * @param {Element|Object=} context\n * @returns {Element|Object|Boolean} The input node if acceptable, otherwise a falsy value\n */\nfunction testContext( context ) {\n\treturn context && typeof context.getElementsByTagName !== \"undefined\" && context;\n}\n\n// Expose support vars for convenience\nsupport = Sizzle.support = {};\n\n/**\n * Detects XML nodes\n * @param {Element|Object} elem An element or a document\n * @returns {Boolean} True iff elem is a non-HTML XML node\n */\nisXML = Sizzle.isXML = function( elem ) {\n\t// documentElement is verified for cases where it doesn't yet exist\n\t// (such as loading iframes in IE - #4833)\n\tvar documentElement = elem && (elem.ownerDocument || elem).documentElement;\n\treturn documentElement ? documentElement.nodeName !== \"HTML\" : false;\n};\n\n/**\n * Sets document-related variables once based on the current document\n * @param {Element|Object} [doc] An element or document object to use to set the document\n * @returns {Object} Returns the current document\n */\nsetDocument = Sizzle.setDocument = function( node ) {\n\tvar hasCompare, subWindow,\n\t\tdoc = node ? node.ownerDocument || node : preferredDoc;\n\n\t// Return early if doc is invalid or already selected\n\tif ( doc === document || doc.nodeType !== 9 || !doc.documentElement ) {\n\t\treturn document;\n\t}\n\n\t// Update global variables\n\tdocument = doc;\n\tdocElem = document.documentElement;\n\tdocumentIsHTML = !isXML( document );\n\n\t// Support: IE 9-11, Edge\n\t// Accessing iframe documents after unload throws \"permission denied\" errors (jQuery #13936)\n\tif ( preferredDoc !== document &&\n\t\t(subWindow = document.defaultView) && subWindow.top !== subWindow ) {\n\n\t\t// Support: IE 11, Edge\n\t\tif ( subWindow.addEventListener ) {\n\t\t\tsubWindow.addEventListener( \"unload\", unloadHandler, false );\n\n\t\t// Support: IE 9 - 10 only\n\t\t} else if ( subWindow.attachEvent ) {\n\t\t\tsubWindow.attachEvent( \"onunload\", unloadHandler );\n\t\t}\n\t}\n\n\t/* Attributes\n\t---------------------------------------------------------------------- */\n\n\t// Support: IE<8\n\t// Verify that getAttribute really returns attributes and not properties\n\t// (excepting IE8 booleans)\n\tsupport.attributes = assert(function( el ) {\n\t\tel.className = \"i\";\n\t\treturn !el.getAttribute(\"className\");\n\t});\n\n\t/* getElement(s)By*\n\t---------------------------------------------------------------------- */\n\n\t// Check if getElementsByTagName(\"*\") returns only elements\n\tsupport.getElementsByTagName = assert(function( el ) {\n\t\tel.appendChild( document.createComment(\"\") );\n\t\treturn !el.getElementsByTagName(\"*\").length;\n\t});\n\n\t// Support: IE<9\n\tsupport.getElementsByClassName = rnative.test( document.getElementsByClassName );\n\n\t// Support: IE<10\n\t// Check if getElementById returns elements by name\n\t// The broken getElementById methods don't pick up programmatically-set names,\n\t// so use a roundabout getElementsByName test\n\tsupport.getById = assert(function( el ) {\n\t\tdocElem.appendChild( el ).id = expando;\n\t\treturn !document.getElementsByName || !document.getElementsByName( expando ).length;\n\t});\n\n\t// ID filter and find\n\tif ( support.getById ) {\n\t\tExpr.filter[\"ID\"] = function( id ) {\n\t\t\tvar attrId = id.replace( runescape, funescape );\n\t\t\treturn function( elem ) {\n\t\t\t\treturn elem.getAttribute(\"id\") === attrId;\n\t\t\t};\n\t\t};\n\t\tExpr.find[\"ID\"] = function( id, context ) {\n\t\t\tif ( typeof context.getElementById !== \"undefined\" && documentIsHTML ) {\n\t\t\t\tvar elem = context.getElementById( id );\n\t\t\t\treturn elem ? [ elem ] : [];\n\t\t\t}\n\t\t};\n\t} else {\n\t\tExpr.filter[\"ID\"] =  function( id ) {\n\t\t\tvar attrId = id.replace( runescape, funescape );\n\t\t\treturn function( elem ) {\n\t\t\t\tvar node = typeof elem.getAttributeNode !== \"undefined\" &&\n\t\t\t\t\telem.getAttributeNode(\"id\");\n\t\t\t\treturn node && node.value === attrId;\n\t\t\t};\n\t\t};\n\n\t\t// Support: IE 6 - 7 only\n\t\t// getElementById is not reliable as a find shortcut\n\t\tExpr.find[\"ID\"] = function( id, context ) {\n\t\t\tif ( typeof context.getElementById !== \"undefined\" && documentIsHTML ) {\n\t\t\t\tvar node, i, elems,\n\t\t\t\t\telem = context.getElementById( id );\n\n\t\t\t\tif ( elem ) {\n\n\t\t\t\t\t// Verify the id attribute\n\t\t\t\t\tnode = elem.getAttributeNode(\"id\");\n\t\t\t\t\tif ( node && node.value === id ) {\n\t\t\t\t\t\treturn [ elem ];\n\t\t\t\t\t}\n\n\t\t\t\t\t// Fall back on getElementsByName\n\t\t\t\t\telems = context.getElementsByName( id );\n\t\t\t\t\ti = 0;\n\t\t\t\t\twhile ( (elem = elems[i++]) ) {\n\t\t\t\t\t\tnode = elem.getAttributeNode(\"id\");\n\t\t\t\t\t\tif ( node && node.value === id ) {\n\t\t\t\t\t\t\treturn [ elem ];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn [];\n\t\t\t}\n\t\t};\n\t}\n\n\t// Tag\n\tExpr.find[\"TAG\"] = support.getElementsByTagName ?\n\t\tfunction( tag, context ) {\n\t\t\tif ( typeof context.getElementsByTagName !== \"undefined\" ) {\n\t\t\t\treturn context.getElementsByTagName( tag );\n\n\t\t\t// DocumentFragment nodes don't have gEBTN\n\t\t\t} else if ( support.qsa ) {\n\t\t\t\treturn context.querySelectorAll( tag );\n\t\t\t}\n\t\t} :\n\n\t\tfunction( tag, context ) {\n\t\t\tvar elem,\n\t\t\t\ttmp = [],\n\t\t\t\ti = 0,\n\t\t\t\t// By happy coincidence, a (broken) gEBTN appears on DocumentFragment nodes too\n\t\t\t\tresults = context.getElementsByTagName( tag );\n\n\t\t\t// Filter out possible comments\n\t\t\tif ( tag === \"*\" ) {\n\t\t\t\twhile ( (elem = results[i++]) ) {\n\t\t\t\t\tif ( elem.nodeType === 1 ) {\n\t\t\t\t\t\ttmp.push( elem );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn tmp;\n\t\t\t}\n\t\t\treturn results;\n\t\t};\n\n\t// Class\n\tExpr.find[\"CLASS\"] = support.getElementsByClassName && function( className, context ) {\n\t\tif ( typeof context.getElementsByClassName !== \"undefined\" && documentIsHTML ) {\n\t\t\treturn context.getElementsByClassName( className );\n\t\t}\n\t};\n\n\t/* QSA/matchesSelector\n\t---------------------------------------------------------------------- */\n\n\t// QSA and matchesSelector support\n\n\t// matchesSelector(:active) reports false when true (IE9/Opera 11.5)\n\trbuggyMatches = [];\n\n\t// qSa(:focus) reports false when true (Chrome 21)\n\t// We allow this because of a bug in IE8/9 that throws an error\n\t// whenever `document.activeElement` is accessed on an iframe\n\t// So, we allow :focus to pass through QSA all the time to avoid the IE error\n\t// See https://bugs.jquery.com/ticket/13378\n\trbuggyQSA = [];\n\n\tif ( (support.qsa = rnative.test( document.querySelectorAll )) ) {\n\t\t// Build QSA regex\n\t\t// Regex strategy adopted from Diego Perini\n\t\tassert(function( el ) {\n\t\t\t// Select is set to empty string on purpose\n\t\t\t// This is to test IE's treatment of not explicitly\n\t\t\t// setting a boolean content attribute,\n\t\t\t// since its presence should be enough\n\t\t\t// https://bugs.jquery.com/ticket/12359\n\t\t\tdocElem.appendChild( el ).innerHTML = \"<a id='\" + expando + \"'></a>\" +\n\t\t\t\t\"<select id='\" + expando + \"-\\r\\\\' msallowcapture=''>\" +\n\t\t\t\t\"<option selected=''></option></select>\";\n\n\t\t\t// Support: IE8, Opera 11-12.16\n\t\t\t// Nothing should be selected when empty strings follow ^= or $= or *=\n\t\t\t// The test attribute must be unknown in Opera but \"safe\" for WinRT\n\t\t\t// https://msdn.microsoft.com/en-us/library/ie/hh465388.aspx#attribute_section\n\t\t\tif ( el.querySelectorAll(\"[msallowcapture^='']\").length ) {\n\t\t\t\trbuggyQSA.push( \"[*^$]=\" + whitespace + \"*(?:''|\\\"\\\")\" );\n\t\t\t}\n\n\t\t\t// Support: IE8\n\t\t\t// Boolean attributes and \"value\" are not treated correctly\n\t\t\tif ( !el.querySelectorAll(\"[selected]\").length ) {\n\t\t\t\trbuggyQSA.push( \"\\\\[\" + whitespace + \"*(?:value|\" + booleans + \")\" );\n\t\t\t}\n\n\t\t\t// Support: Chrome<29, Android<4.4, Safari<7.0+, iOS<7.0+, PhantomJS<1.9.8+\n\t\t\tif ( !el.querySelectorAll( \"[id~=\" + expando + \"-]\" ).length ) {\n\t\t\t\trbuggyQSA.push(\"~=\");\n\t\t\t}\n\n\t\t\t// Webkit/Opera - :checked should return selected option elements\n\t\t\t// http://www.w3.org/TR/2011/REC-css3-selectors-20110929/#checked\n\t\t\t// IE8 throws error here and will not see later tests\n\t\t\tif ( !el.querySelectorAll(\":checked\").length ) {\n\t\t\t\trbuggyQSA.push(\":checked\");\n\t\t\t}\n\n\t\t\t// Support: Safari 8+, iOS 8+\n\t\t\t// https://bugs.webkit.org/show_bug.cgi?id=136851\n\t\t\t// In-page `selector#id sibling-combinator selector` fails\n\t\t\tif ( !el.querySelectorAll( \"a#\" + expando + \"+*\" ).length ) {\n\t\t\t\trbuggyQSA.push(\".#.+[+~]\");\n\t\t\t}\n\t\t});\n\n\t\tassert(function( el ) {\n\t\t\tel.innerHTML = \"<a href='' disabled='disabled'></a>\" +\n\t\t\t\t\"<select disabled='disabled'><option/></select>\";\n\n\t\t\t// Support: Windows 8 Native Apps\n\t\t\t// The type and name attributes are restricted during .innerHTML assignment\n\t\t\tvar input = document.createElement(\"input\");\n\t\t\tinput.setAttribute( \"type\", \"hidden\" );\n\t\t\tel.appendChild( input ).setAttribute( \"name\", \"D\" );\n\n\t\t\t// Support: IE8\n\t\t\t// Enforce case-sensitivity of name attribute\n\t\t\tif ( el.querySelectorAll(\"[name=d]\").length ) {\n\t\t\t\trbuggyQSA.push( \"name\" + whitespace + \"*[*^$|!~]?=\" );\n\t\t\t}\n\n\t\t\t// FF 3.5 - :enabled/:disabled and hidden elements (hidden elements are still enabled)\n\t\t\t// IE8 throws error here and will not see later tests\n\t\t\tif ( el.querySelectorAll(\":enabled\").length !== 2 ) {\n\t\t\t\trbuggyQSA.push( \":enabled\", \":disabled\" );\n\t\t\t}\n\n\t\t\t// Support: IE9-11+\n\t\t\t// IE's :disabled selector does not pick up the children of disabled fieldsets\n\t\t\tdocElem.appendChild( el ).disabled = true;\n\t\t\tif ( el.querySelectorAll(\":disabled\").length !== 2 ) {\n\t\t\t\trbuggyQSA.push( \":enabled\", \":disabled\" );\n\t\t\t}\n\n\t\t\t// Opera 10-11 does not throw on post-comma invalid pseudos\n\t\t\tel.querySelectorAll(\"*,:x\");\n\t\t\trbuggyQSA.push(\",.*:\");\n\t\t});\n\t}\n\n\tif ( (support.matchesSelector = rnative.test( (matches = docElem.matches ||\n\t\tdocElem.webkitMatchesSelector ||\n\t\tdocElem.mozMatchesSelector ||\n\t\tdocElem.oMatchesSelector ||\n\t\tdocElem.msMatchesSelector) )) ) {\n\n\t\tassert(function( el ) {\n\t\t\t// Check to see if it's possible to do matchesSelector\n\t\t\t// on a disconnected node (IE 9)\n\t\t\tsupport.disconnectedMatch = matches.call( el, \"*\" );\n\n\t\t\t// This should fail with an exception\n\t\t\t// Gecko does not error, returns false instead\n\t\t\tmatches.call( el, \"[s!='']:x\" );\n\t\t\trbuggyMatches.push( \"!=\", pseudos );\n\t\t});\n\t}\n\n\trbuggyQSA = rbuggyQSA.length && new RegExp( rbuggyQSA.join(\"|\") );\n\trbuggyMatches = rbuggyMatches.length && new RegExp( rbuggyMatches.join(\"|\") );\n\n\t/* Contains\n\t---------------------------------------------------------------------- */\n\thasCompare = rnative.test( docElem.compareDocumentPosition );\n\n\t// Element contains another\n\t// Purposefully self-exclusive\n\t// As in, an element does not contain itself\n\tcontains = hasCompare || rnative.test( docElem.contains ) ?\n\t\tfunction( a, b ) {\n\t\t\tvar adown = a.nodeType === 9 ? a.documentElement : a,\n\t\t\t\tbup = b && b.parentNode;\n\t\t\treturn a === bup || !!( bup && bup.nodeType === 1 && (\n\t\t\t\tadown.contains ?\n\t\t\t\t\tadown.contains( bup ) :\n\t\t\t\t\ta.compareDocumentPosition && a.compareDocumentPosition( bup ) & 16\n\t\t\t));\n\t\t} :\n\t\tfunction( a, b ) {\n\t\t\tif ( b ) {\n\t\t\t\twhile ( (b = b.parentNode) ) {\n\t\t\t\t\tif ( b === a ) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t};\n\n\t/* Sorting\n\t---------------------------------------------------------------------- */\n\n\t// Document order sorting\n\tsortOrder = hasCompare ?\n\tfunction( a, b ) {\n\n\t\t// Flag for duplicate removal\n\t\tif ( a === b ) {\n\t\t\thasDuplicate = true;\n\t\t\treturn 0;\n\t\t}\n\n\t\t// Sort on method existence if only one input has compareDocumentPosition\n\t\tvar compare = !a.compareDocumentPosition - !b.compareDocumentPosition;\n\t\tif ( compare ) {\n\t\t\treturn compare;\n\t\t}\n\n\t\t// Calculate position if both inputs belong to the same document\n\t\tcompare = ( a.ownerDocument || a ) === ( b.ownerDocument || b ) ?\n\t\t\ta.compareDocumentPosition( b ) :\n\n\t\t\t// Otherwise we know they are disconnected\n\t\t\t1;\n\n\t\t// Disconnected nodes\n\t\tif ( compare & 1 ||\n\t\t\t(!support.sortDetached && b.compareDocumentPosition( a ) === compare) ) {\n\n\t\t\t// Choose the first element that is related to our preferred document\n\t\t\tif ( a === document || a.ownerDocument === preferredDoc && contains(preferredDoc, a) ) {\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t\tif ( b === document || b.ownerDocument === preferredDoc && contains(preferredDoc, b) ) {\n\t\t\t\treturn 1;\n\t\t\t}\n\n\t\t\t// Maintain original order\n\t\t\treturn sortInput ?\n\t\t\t\t( indexOf( sortInput, a ) - indexOf( sortInput, b ) ) :\n\t\t\t\t0;\n\t\t}\n\n\t\treturn compare & 4 ? -1 : 1;\n\t} :\n\tfunction( a, b ) {\n\t\t// Exit early if the nodes are identical\n\t\tif ( a === b ) {\n\t\t\thasDuplicate = true;\n\t\t\treturn 0;\n\t\t}\n\n\t\tvar cur,\n\t\t\ti = 0,\n\t\t\taup = a.parentNode,\n\t\t\tbup = b.parentNode,\n\t\t\tap = [ a ],\n\t\t\tbp = [ b ];\n\n\t\t// Parentless nodes are either documents or disconnected\n\t\tif ( !aup || !bup ) {\n\t\t\treturn a === document ? -1 :\n\t\t\t\tb === document ? 1 :\n\t\t\t\taup ? -1 :\n\t\t\t\tbup ? 1 :\n\t\t\t\tsortInput ?\n\t\t\t\t( indexOf( sortInput, a ) - indexOf( sortInput, b ) ) :\n\t\t\t\t0;\n\n\t\t// If the nodes are siblings, we can do a quick check\n\t\t} else if ( aup === bup ) {\n\t\t\treturn siblingCheck( a, b );\n\t\t}\n\n\t\t// Otherwise we need full lists of their ancestors for comparison\n\t\tcur = a;\n\t\twhile ( (cur = cur.parentNode) ) {\n\t\t\tap.unshift( cur );\n\t\t}\n\t\tcur = b;\n\t\twhile ( (cur = cur.parentNode) ) {\n\t\t\tbp.unshift( cur );\n\t\t}\n\n\t\t// Walk down the tree looking for a discrepancy\n\t\twhile ( ap[i] === bp[i] ) {\n\t\t\ti++;\n\t\t}\n\n\t\treturn i ?\n\t\t\t// Do a sibling check if the nodes have a common ancestor\n\t\t\tsiblingCheck( ap[i], bp[i] ) :\n\n\t\t\t// Otherwise nodes in our document sort first\n\t\t\tap[i] === preferredDoc ? -1 :\n\t\t\tbp[i] === preferredDoc ? 1 :\n\t\t\t0;\n\t};\n\n\treturn document;\n};\n\nSizzle.matches = function( expr, elements ) {\n\treturn Sizzle( expr, null, null, elements );\n};\n\nSizzle.matchesSelector = function( elem, expr ) {\n\t// Set document vars if needed\n\tif ( ( elem.ownerDocument || elem ) !== document ) {\n\t\tsetDocument( elem );\n\t}\n\n\t// Make sure that attribute selectors are quoted\n\texpr = expr.replace( rattributeQuotes, \"='$1']\" );\n\n\tif ( support.matchesSelector && documentIsHTML &&\n\t\t!compilerCache[ expr + \" \" ] &&\n\t\t( !rbuggyMatches || !rbuggyMatches.test( expr ) ) &&\n\t\t( !rbuggyQSA     || !rbuggyQSA.test( expr ) ) ) {\n\n\t\ttry {\n\t\t\tvar ret = matches.call( elem, expr );\n\n\t\t\t// IE 9's matchesSelector returns false on disconnected nodes\n\t\t\tif ( ret || support.disconnectedMatch ||\n\t\t\t\t\t// As well, disconnected nodes are said to be in a document\n\t\t\t\t\t// fragment in IE 9\n\t\t\t\t\telem.document && elem.document.nodeType !== 11 ) {\n\t\t\t\treturn ret;\n\t\t\t}\n\t\t} catch (e) {}\n\t}\n\n\treturn Sizzle( expr, document, null, [ elem ] ).length > 0;\n};\n\nSizzle.contains = function( context, elem ) {\n\t// Set document vars if needed\n\tif ( ( context.ownerDocument || context ) !== document ) {\n\t\tsetDocument( context );\n\t}\n\treturn contains( context, elem );\n};\n\nSizzle.attr = function( elem, name ) {\n\t// Set document vars if needed\n\tif ( ( elem.ownerDocument || elem ) !== document ) {\n\t\tsetDocument( elem );\n\t}\n\n\tvar fn = Expr.attrHandle[ name.toLowerCase() ],\n\t\t// Don't get fooled by Object.prototype properties (jQuery #13807)\n\t\tval = fn && hasOwn.call( Expr.attrHandle, name.toLowerCase() ) ?\n\t\t\tfn( elem, name, !documentIsHTML ) :\n\t\t\tundefined;\n\n\treturn val !== undefined ?\n\t\tval :\n\t\tsupport.attributes || !documentIsHTML ?\n\t\t\telem.getAttribute( name ) :\n\t\t\t(val = elem.getAttributeNode(name)) && val.specified ?\n\t\t\t\tval.value :\n\t\t\t\tnull;\n};\n\nSizzle.escape = function( sel ) {\n\treturn (sel + \"\").replace( rcssescape, fcssescape );\n};\n\nSizzle.error = function( msg ) {\n\tthrow new Error( \"Syntax error, unrecognized expression: \" + msg );\n};\n\n/**\n * Document sorting and removing duplicates\n * @param {ArrayLike} results\n */\nSizzle.uniqueSort = function( results ) {\n\tvar elem,\n\t\tduplicates = [],\n\t\tj = 0,\n\t\ti = 0;\n\n\t// Unless we *know* we can detect duplicates, assume their presence\n\thasDuplicate = !support.detectDuplicates;\n\tsortInput = !support.sortStable && results.slice( 0 );\n\tresults.sort( sortOrder );\n\n\tif ( hasDuplicate ) {\n\t\twhile ( (elem = results[i++]) ) {\n\t\t\tif ( elem === results[ i ] ) {\n\t\t\t\tj = duplicates.push( i );\n\t\t\t}\n\t\t}\n\t\twhile ( j-- ) {\n\t\t\tresults.splice( duplicates[ j ], 1 );\n\t\t}\n\t}\n\n\t// Clear input after sorting to release objects\n\t// See https://github.com/jquery/sizzle/pull/225\n\tsortInput = null;\n\n\treturn results;\n};\n\n/**\n * Utility function for retrieving the text value of an array of DOM nodes\n * @param {Array|Element} elem\n */\ngetText = Sizzle.getText = function( elem ) {\n\tvar node,\n\t\tret = \"\",\n\t\ti = 0,\n\t\tnodeType = elem.nodeType;\n\n\tif ( !nodeType ) {\n\t\t// If no nodeType, this is expected to be an array\n\t\twhile ( (node = elem[i++]) ) {\n\t\t\t// Do not traverse comment nodes\n\t\t\tret += getText( node );\n\t\t}\n\t} else if ( nodeType === 1 || nodeType === 9 || nodeType === 11 ) {\n\t\t// Use textContent for elements\n\t\t// innerText usage removed for consistency of new lines (jQuery #11153)\n\t\tif ( typeof elem.textContent === \"string\" ) {\n\t\t\treturn elem.textContent;\n\t\t} else {\n\t\t\t// Traverse its children\n\t\t\tfor ( elem = elem.firstChild; elem; elem = elem.nextSibling ) {\n\t\t\t\tret += getText( elem );\n\t\t\t}\n\t\t}\n\t} else if ( nodeType === 3 || nodeType === 4 ) {\n\t\treturn elem.nodeValue;\n\t}\n\t// Do not include comment or processing instruction nodes\n\n\treturn ret;\n};\n\nExpr = Sizzle.selectors = {\n\n\t// Can be adjusted by the user\n\tcacheLength: 50,\n\n\tcreatePseudo: markFunction,\n\n\tmatch: matchExpr,\n\n\tattrHandle: {},\n\n\tfind: {},\n\n\trelative: {\n\t\t\">\": { dir: \"parentNode\", first: true },\n\t\t\" \": { dir: \"parentNode\" },\n\t\t\"+\": { dir: \"previousSibling\", first: true },\n\t\t\"~\": { dir: \"previousSibling\" }\n\t},\n\n\tpreFilter: {\n\t\t\"ATTR\": function( match ) {\n\t\t\tmatch[1] = match[1].replace( runescape, funescape );\n\n\t\t\t// Move the given value to match[3] whether quoted or unquoted\n\t\t\tmatch[3] = ( match[3] || match[4] || match[5] || \"\" ).replace( runescape, funescape );\n\n\t\t\tif ( match[2] === \"~=\" ) {\n\t\t\t\tmatch[3] = \" \" + match[3] + \" \";\n\t\t\t}\n\n\t\t\treturn match.slice( 0, 4 );\n\t\t},\n\n\t\t\"CHILD\": function( match ) {\n\t\t\t/* matches from matchExpr[\"CHILD\"]\n\t\t\t\t1 type (only|nth|...)\n\t\t\t\t2 what (child|of-type)\n\t\t\t\t3 argument (even|odd|\\d*|\\d*n([+-]\\d+)?|...)\n\t\t\t\t4 xn-component of xn+y argument ([+-]?\\d*n|)\n\t\t\t\t5 sign of xn-component\n\t\t\t\t6 x of xn-component\n\t\t\t\t7 sign of y-component\n\t\t\t\t8 y of y-component\n\t\t\t*/\n\t\t\tmatch[1] = match[1].toLowerCase();\n\n\t\t\tif ( match[1].slice( 0, 3 ) === \"nth\" ) {\n\t\t\t\t// nth-* requires argument\n\t\t\t\tif ( !match[3] ) {\n\t\t\t\t\tSizzle.error( match[0] );\n\t\t\t\t}\n\n\t\t\t\t// numeric x and y parameters for Expr.filter.CHILD\n\t\t\t\t// remember that false/true cast respectively to 0/1\n\t\t\t\tmatch[4] = +( match[4] ? match[5] + (match[6] || 1) : 2 * ( match[3] === \"even\" || match[3] === \"odd\" ) );\n\t\t\t\tmatch[5] = +( ( match[7] + match[8] ) || match[3] === \"odd\" );\n\n\t\t\t// other types prohibit arguments\n\t\t\t} else if ( match[3] ) {\n\t\t\t\tSizzle.error( match[0] );\n\t\t\t}\n\n\t\t\treturn match;\n\t\t},\n\n\t\t\"PSEUDO\": function( match ) {\n\t\t\tvar excess,\n\t\t\t\tunquoted = !match[6] && match[2];\n\n\t\t\tif ( matchExpr[\"CHILD\"].test( match[0] ) ) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\t// Accept quoted arguments as-is\n\t\t\tif ( match[3] ) {\n\t\t\t\tmatch[2] = match[4] || match[5] || \"\";\n\n\t\t\t// Strip excess characters from unquoted arguments\n\t\t\t} else if ( unquoted && rpseudo.test( unquoted ) &&\n\t\t\t\t// Get excess from tokenize (recursively)\n\t\t\t\t(excess = tokenize( unquoted, true )) &&\n\t\t\t\t// advance to the next closing parenthesis\n\t\t\t\t(excess = unquoted.indexOf( \")\", unquoted.length - excess ) - unquoted.length) ) {\n\n\t\t\t\t// excess is a negative index\n\t\t\t\tmatch[0] = match[0].slice( 0, excess );\n\t\t\t\tmatch[2] = unquoted.slice( 0, excess );\n\t\t\t}\n\n\t\t\t// Return only captures needed by the pseudo filter method (type and argument)\n\t\t\treturn match.slice( 0, 3 );\n\t\t}\n\t},\n\n\tfilter: {\n\n\t\t\"TAG\": function( nodeNameSelector ) {\n\t\t\tvar nodeName = nodeNameSelector.replace( runescape, funescape ).toLowerCase();\n\t\t\treturn nodeNameSelector === \"*\" ?\n\t\t\t\tfunction() { return true; } :\n\t\t\t\tfunction( elem ) {\n\t\t\t\t\treturn elem.nodeName && elem.nodeName.toLowerCase() === nodeName;\n\t\t\t\t};\n\t\t},\n\n\t\t\"CLASS\": function( className ) {\n\t\t\tvar pattern = classCache[ className + \" \" ];\n\n\t\t\treturn pattern ||\n\t\t\t\t(pattern = new RegExp( \"(^|\" + whitespace + \")\" + className + \"(\" + whitespace + \"|$)\" )) &&\n\t\t\t\tclassCache( className, function( elem ) {\n\t\t\t\t\treturn pattern.test( typeof elem.className === \"string\" && elem.className || typeof elem.getAttribute !== \"undefined\" && elem.getAttribute(\"class\") || \"\" );\n\t\t\t\t});\n\t\t},\n\n\t\t\"ATTR\": function( name, operator, check ) {\n\t\t\treturn function( elem ) {\n\t\t\t\tvar result = Sizzle.attr( elem, name );\n\n\t\t\t\tif ( result == null ) {\n\t\t\t\t\treturn operator === \"!=\";\n\t\t\t\t}\n\t\t\t\tif ( !operator ) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\n\t\t\t\tresult += \"\";\n\n\t\t\t\treturn operator === \"=\" ? result === check :\n\t\t\t\t\toperator === \"!=\" ? result !== check :\n\t\t\t\t\toperator === \"^=\" ? check && result.indexOf( check ) === 0 :\n\t\t\t\t\toperator === \"*=\" ? check && result.indexOf( check ) > -1 :\n\t\t\t\t\toperator === \"$=\" ? check && result.slice( -check.length ) === check :\n\t\t\t\t\toperator === \"~=\" ? ( \" \" + result.replace( rwhitespace, \" \" ) + \" \" ).indexOf( check ) > -1 :\n\t\t\t\t\toperator === \"|=\" ? result === check || result.slice( 0, check.length + 1 ) === check + \"-\" :\n\t\t\t\t\tfalse;\n\t\t\t};\n\t\t},\n\n\t\t\"CHILD\": function( type, what, argument, first, last ) {\n\t\t\tvar simple = type.slice( 0, 3 ) !== \"nth\",\n\t\t\t\tforward = type.slice( -4 ) !== \"last\",\n\t\t\t\tofType = what === \"of-type\";\n\n\t\t\treturn first === 1 && last === 0 ?\n\n\t\t\t\t// Shortcut for :nth-*(n)\n\t\t\t\tfunction( elem ) {\n\t\t\t\t\treturn !!elem.parentNode;\n\t\t\t\t} :\n\n\t\t\t\tfunction( elem, context, xml ) {\n\t\t\t\t\tvar cache, uniqueCache, outerCache, node, nodeIndex, start,\n\t\t\t\t\t\tdir = simple !== forward ? \"nextSibling\" : \"previousSibling\",\n\t\t\t\t\t\tparent = elem.parentNode,\n\t\t\t\t\t\tname = ofType && elem.nodeName.toLowerCase(),\n\t\t\t\t\t\tuseCache = !xml && !ofType,\n\t\t\t\t\t\tdiff = false;\n\n\t\t\t\t\tif ( parent ) {\n\n\t\t\t\t\t\t// :(first|last|only)-(child|of-type)\n\t\t\t\t\t\tif ( simple ) {\n\t\t\t\t\t\t\twhile ( dir ) {\n\t\t\t\t\t\t\t\tnode = elem;\n\t\t\t\t\t\t\t\twhile ( (node = node[ dir ]) ) {\n\t\t\t\t\t\t\t\t\tif ( ofType ?\n\t\t\t\t\t\t\t\t\t\tnode.nodeName.toLowerCase() === name :\n\t\t\t\t\t\t\t\t\t\tnode.nodeType === 1 ) {\n\n\t\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t// Reverse direction for :only-* (if we haven't yet done so)\n\t\t\t\t\t\t\t\tstart = dir = type === \"only\" && !start && \"nextSibling\";\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tstart = [ forward ? parent.firstChild : parent.lastChild ];\n\n\t\t\t\t\t\t// non-xml :nth-child(...) stores cache data on `parent`\n\t\t\t\t\t\tif ( forward && useCache ) {\n\n\t\t\t\t\t\t\t// Seek `elem` from a previously-cached index\n\n\t\t\t\t\t\t\t// ...in a gzip-friendly way\n\t\t\t\t\t\t\tnode = parent;\n\t\t\t\t\t\t\touterCache = node[ expando ] || (node[ expando ] = {});\n\n\t\t\t\t\t\t\t// Support: IE <9 only\n\t\t\t\t\t\t\t// Defend against cloned attroperties (jQuery gh-1709)\n\t\t\t\t\t\t\tuniqueCache = outerCache[ node.uniqueID ] ||\n\t\t\t\t\t\t\t\t(outerCache[ node.uniqueID ] = {});\n\n\t\t\t\t\t\t\tcache = uniqueCache[ type ] || [];\n\t\t\t\t\t\t\tnodeIndex = cache[ 0 ] === dirruns && cache[ 1 ];\n\t\t\t\t\t\t\tdiff = nodeIndex && cache[ 2 ];\n\t\t\t\t\t\t\tnode = nodeIndex && parent.childNodes[ nodeIndex ];\n\n\t\t\t\t\t\t\twhile ( (node = ++nodeIndex && node && node[ dir ] ||\n\n\t\t\t\t\t\t\t\t// Fallback to seeking `elem` from the start\n\t\t\t\t\t\t\t\t(diff = nodeIndex = 0) || start.pop()) ) {\n\n\t\t\t\t\t\t\t\t// When found, cache indexes on `parent` and break\n\t\t\t\t\t\t\t\tif ( node.nodeType === 1 && ++diff && node === elem ) {\n\t\t\t\t\t\t\t\t\tuniqueCache[ type ] = [ dirruns, nodeIndex, diff ];\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// Use previously-cached element index if available\n\t\t\t\t\t\t\tif ( useCache ) {\n\t\t\t\t\t\t\t\t// ...in a gzip-friendly way\n\t\t\t\t\t\t\t\tnode = elem;\n\t\t\t\t\t\t\t\touterCache = node[ expando ] || (node[ expando ] = {});\n\n\t\t\t\t\t\t\t\t// Support: IE <9 only\n\t\t\t\t\t\t\t\t// Defend against cloned attroperties (jQuery gh-1709)\n\t\t\t\t\t\t\t\tuniqueCache = outerCache[ node.uniqueID ] ||\n\t\t\t\t\t\t\t\t\t(outerCache[ node.uniqueID ] = {});\n\n\t\t\t\t\t\t\t\tcache = uniqueCache[ type ] || [];\n\t\t\t\t\t\t\t\tnodeIndex = cache[ 0 ] === dirruns && cache[ 1 ];\n\t\t\t\t\t\t\t\tdiff = nodeIndex;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t// xml :nth-child(...)\n\t\t\t\t\t\t\t// or :nth-last-child(...) or :nth(-last)?-of-type(...)\n\t\t\t\t\t\t\tif ( diff === false ) {\n\t\t\t\t\t\t\t\t// Use the same loop as above to seek `elem` from the start\n\t\t\t\t\t\t\t\twhile ( (node = ++nodeIndex && node && node[ dir ] ||\n\t\t\t\t\t\t\t\t\t(diff = nodeIndex = 0) || start.pop()) ) {\n\n\t\t\t\t\t\t\t\t\tif ( ( ofType ?\n\t\t\t\t\t\t\t\t\t\tnode.nodeName.toLowerCase() === name :\n\t\t\t\t\t\t\t\t\t\tnode.nodeType === 1 ) &&\n\t\t\t\t\t\t\t\t\t\t++diff ) {\n\n\t\t\t\t\t\t\t\t\t\t// Cache the index of each encountered element\n\t\t\t\t\t\t\t\t\t\tif ( useCache ) {\n\t\t\t\t\t\t\t\t\t\t\touterCache = node[ expando ] || (node[ expando ] = {});\n\n\t\t\t\t\t\t\t\t\t\t\t// Support: IE <9 only\n\t\t\t\t\t\t\t\t\t\t\t// Defend against cloned attroperties (jQuery gh-1709)\n\t\t\t\t\t\t\t\t\t\t\tuniqueCache = outerCache[ node.uniqueID ] ||\n\t\t\t\t\t\t\t\t\t\t\t\t(outerCache[ node.uniqueID ] = {});\n\n\t\t\t\t\t\t\t\t\t\t\tuniqueCache[ type ] = [ dirruns, diff ];\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\tif ( node === elem ) {\n\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Incorporate the offset, then check against cycle size\n\t\t\t\t\t\tdiff -= last;\n\t\t\t\t\t\treturn diff === first || ( diff % first === 0 && diff / first >= 0 );\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t},\n\n\t\t\"PSEUDO\": function( pseudo, argument ) {\n\t\t\t// pseudo-class names are case-insensitive\n\t\t\t// http://www.w3.org/TR/selectors/#pseudo-classes\n\t\t\t// Prioritize by case sensitivity in case custom pseudos are added with uppercase letters\n\t\t\t// Remember that setFilters inherits from pseudos\n\t\t\tvar args,\n\t\t\t\tfn = Expr.pseudos[ pseudo ] || Expr.setFilters[ pseudo.toLowerCase() ] ||\n\t\t\t\t\tSizzle.error( \"unsupported pseudo: \" + pseudo );\n\n\t\t\t// The user may use createPseudo to indicate that\n\t\t\t// arguments are needed to create the filter function\n\t\t\t// just as Sizzle does\n\t\t\tif ( fn[ expando ] ) {\n\t\t\t\treturn fn( argument );\n\t\t\t}\n\n\t\t\t// But maintain support for old signatures\n\t\t\tif ( fn.length > 1 ) {\n\t\t\t\targs = [ pseudo, pseudo, \"\", argument ];\n\t\t\t\treturn Expr.setFilters.hasOwnProperty( pseudo.toLowerCase() ) ?\n\t\t\t\t\tmarkFunction(function( seed, matches ) {\n\t\t\t\t\t\tvar idx,\n\t\t\t\t\t\t\tmatched = fn( seed, argument ),\n\t\t\t\t\t\t\ti = matched.length;\n\t\t\t\t\t\twhile ( i-- ) {\n\t\t\t\t\t\t\tidx = indexOf( seed, matched[i] );\n\t\t\t\t\t\t\tseed[ idx ] = !( matches[ idx ] = matched[i] );\n\t\t\t\t\t\t}\n\t\t\t\t\t}) :\n\t\t\t\t\tfunction( elem ) {\n\t\t\t\t\t\treturn fn( elem, 0, args );\n\t\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn fn;\n\t\t}\n\t},\n\n\tpseudos: {\n\t\t// Potentially complex pseudos\n\t\t\"not\": markFunction(function( selector ) {\n\t\t\t// Trim the selector passed to compile\n\t\t\t// to avoid treating leading and trailing\n\t\t\t// spaces as combinators\n\t\t\tvar input = [],\n\t\t\t\tresults = [],\n\t\t\t\tmatcher = compile( selector.replace( rtrim, \"$1\" ) );\n\n\t\t\treturn matcher[ expando ] ?\n\t\t\t\tmarkFunction(function( seed, matches, context, xml ) {\n\t\t\t\t\tvar elem,\n\t\t\t\t\t\tunmatched = matcher( seed, null, xml, [] ),\n\t\t\t\t\t\ti = seed.length;\n\n\t\t\t\t\t// Match elements unmatched by `matcher`\n\t\t\t\t\twhile ( i-- ) {\n\t\t\t\t\t\tif ( (elem = unmatched[i]) ) {\n\t\t\t\t\t\t\tseed[i] = !(matches[i] = elem);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}) :\n\t\t\t\tfunction( elem, context, xml ) {\n\t\t\t\t\tinput[0] = elem;\n\t\t\t\t\tmatcher( input, null, xml, results );\n\t\t\t\t\t// Don't keep the element (issue #299)\n\t\t\t\t\tinput[0] = null;\n\t\t\t\t\treturn !results.pop();\n\t\t\t\t};\n\t\t}),\n\n\t\t\"has\": markFunction(function( selector ) {\n\t\t\treturn function( elem ) {\n\t\t\t\treturn Sizzle( selector, elem ).length > 0;\n\t\t\t};\n\t\t}),\n\n\t\t\"contains\": markFunction(function( text ) {\n\t\t\ttext = text.replace( runescape, funescape );\n\t\t\treturn function( elem ) {\n\t\t\t\treturn ( elem.textContent || elem.innerText || getText( elem ) ).indexOf( text ) > -1;\n\t\t\t};\n\t\t}),\n\n\t\t// \"Whether an element is represented by a :lang() selector\n\t\t// is based solely on the element's language value\n\t\t// being equal to the identifier C,\n\t\t// or beginning with the identifier C immediately followed by \"-\".\n\t\t// The matching of C against the element's language value is performed case-insensitively.\n\t\t// The identifier C does not have to be a valid language name.\"\n\t\t// http://www.w3.org/TR/selectors/#lang-pseudo\n\t\t\"lang\": markFunction( function( lang ) {\n\t\t\t// lang value must be a valid identifier\n\t\t\tif ( !ridentifier.test(lang || \"\") ) {\n\t\t\t\tSizzle.error( \"unsupported lang: \" + lang );\n\t\t\t}\n\t\t\tlang = lang.replace( runescape, funescape ).toLowerCase();\n\t\t\treturn function( elem ) {\n\t\t\t\tvar elemLang;\n\t\t\t\tdo {\n\t\t\t\t\tif ( (elemLang = documentIsHTML ?\n\t\t\t\t\t\telem.lang :\n\t\t\t\t\t\telem.getAttribute(\"xml:lang\") || elem.getAttribute(\"lang\")) ) {\n\n\t\t\t\t\t\telemLang = elemLang.toLowerCase();\n\t\t\t\t\t\treturn elemLang === lang || elemLang.indexOf( lang + \"-\" ) === 0;\n\t\t\t\t\t}\n\t\t\t\t} while ( (elem = elem.parentNode) && elem.nodeType === 1 );\n\t\t\t\treturn false;\n\t\t\t};\n\t\t}),\n\n\t\t// Miscellaneous\n\t\t\"target\": function( elem ) {\n\t\t\tvar hash = window.location && window.location.hash;\n\t\t\treturn hash && hash.slice( 1 ) === elem.id;\n\t\t},\n\n\t\t\"root\": function( elem ) {\n\t\t\treturn elem === docElem;\n\t\t},\n\n\t\t\"focus\": function( elem ) {\n\t\t\treturn elem === document.activeElement && (!document.hasFocus || document.hasFocus()) && !!(elem.type || elem.href || ~elem.tabIndex);\n\t\t},\n\n\t\t// Boolean properties\n\t\t\"enabled\": createDisabledPseudo( false ),\n\t\t\"disabled\": createDisabledPseudo( true ),\n\n\t\t\"checked\": function( elem ) {\n\t\t\t// In CSS3, :checked should return both checked and selected elements\n\t\t\t// http://www.w3.org/TR/2011/REC-css3-selectors-20110929/#checked\n\t\t\tvar nodeName = elem.nodeName.toLowerCase();\n\t\t\treturn (nodeName === \"input\" && !!elem.checked) || (nodeName === \"option\" && !!elem.selected);\n\t\t},\n\n\t\t\"selected\": function( elem ) {\n\t\t\t// Accessing this property makes selected-by-default\n\t\t\t// options in Safari work properly\n\t\t\tif ( elem.parentNode ) {\n\t\t\t\telem.parentNode.selectedIndex;\n\t\t\t}\n\n\t\t\treturn elem.selected === true;\n\t\t},\n\n\t\t// Contents\n\t\t\"empty\": function( elem ) {\n\t\t\t// http://www.w3.org/TR/selectors/#empty-pseudo\n\t\t\t// :empty is negated by element (1) or content nodes (text: 3; cdata: 4; entity ref: 5),\n\t\t\t//   but not by others (comment: 8; processing instruction: 7; etc.)\n\t\t\t// nodeType < 6 works because attributes (2) do not appear as children\n\t\t\tfor ( elem = elem.firstChild; elem; elem = elem.nextSibling ) {\n\t\t\t\tif ( elem.nodeType < 6 ) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t},\n\n\t\t\"parent\": function( elem ) {\n\t\t\treturn !Expr.pseudos[\"empty\"]( elem );\n\t\t},\n\n\t\t// Element/input types\n\t\t\"header\": function( elem ) {\n\t\t\treturn rheader.test( elem.nodeName );\n\t\t},\n\n\t\t\"input\": function( elem ) {\n\t\t\treturn rinputs.test( elem.nodeName );\n\t\t},\n\n\t\t\"button\": function( elem ) {\n\t\t\tvar name = elem.nodeName.toLowerCase();\n\t\t\treturn name === \"input\" && elem.type === \"button\" || name === \"button\";\n\t\t},\n\n\t\t\"text\": function( elem ) {\n\t\t\tvar attr;\n\t\t\treturn elem.nodeName.toLowerCase() === \"input\" &&\n\t\t\t\telem.type === \"text\" &&\n\n\t\t\t\t// Support: IE<8\n\t\t\t\t// New HTML5 attribute values (e.g., \"search\") appear with elem.type === \"text\"\n\t\t\t\t( (attr = elem.getAttribute(\"type\")) == null || attr.toLowerCase() === \"text\" );\n\t\t},\n\n\t\t// Position-in-collection\n\t\t\"first\": createPositionalPseudo(function() {\n\t\t\treturn [ 0 ];\n\t\t}),\n\n\t\t\"last\": createPositionalPseudo(function( matchIndexes, length ) {\n\t\t\treturn [ length - 1 ];\n\t\t}),\n\n\t\t\"eq\": createPositionalPseudo(function( matchIndexes, length, argument ) {\n\t\t\treturn [ argument < 0 ? argument + length : argument ];\n\t\t}),\n\n\t\t\"even\": createPositionalPseudo(function( matchIndexes, length ) {\n\t\t\tvar i = 0;\n\t\t\tfor ( ; i < length; i += 2 ) {\n\t\t\t\tmatchIndexes.push( i );\n\t\t\t}\n\t\t\treturn matchIndexes;\n\t\t}),\n\n\t\t\"odd\": createPositionalPseudo(function( matchIndexes, length ) {\n\t\t\tvar i = 1;\n\t\t\tfor ( ; i < length; i += 2 ) {\n\t\t\t\tmatchIndexes.push( i );\n\t\t\t}\n\t\t\treturn matchIndexes;\n\t\t}),\n\n\t\t\"lt\": createPositionalPseudo(function( matchIndexes, length, argument ) {\n\t\t\tvar i = argument < 0 ? argument + length : argument;\n\t\t\tfor ( ; --i >= 0; ) {\n\t\t\t\tmatchIndexes.push( i );\n\t\t\t}\n\t\t\treturn matchIndexes;\n\t\t}),\n\n\t\t\"gt\": createPositionalPseudo(function( matchIndexes, length, argument ) {\n\t\t\tvar i = argument < 0 ? argument + length : argument;\n\t\t\tfor ( ; ++i < length; ) {\n\t\t\t\tmatchIndexes.push( i );\n\t\t\t}\n\t\t\treturn matchIndexes;\n\t\t})\n\t}\n};\n\nExpr.pseudos[\"nth\"] = Expr.pseudos[\"eq\"];\n\n// Add button/input type pseudos\nfor ( i in { radio: true, checkbox: true, file: true, password: true, image: true } ) {\n\tExpr.pseudos[ i ] = createInputPseudo( i );\n}\nfor ( i in { submit: true, reset: true } ) {\n\tExpr.pseudos[ i ] = createButtonPseudo( i );\n}\n\n// Easy API for creating new setFilters\nfunction setFilters() {}\nsetFilters.prototype = Expr.filters = Expr.pseudos;\nExpr.setFilters = new setFilters();\n\ntokenize = Sizzle.tokenize = function( selector, parseOnly ) {\n\tvar matched, match, tokens, type,\n\t\tsoFar, groups, preFilters,\n\t\tcached = tokenCache[ selector + \" \" ];\n\n\tif ( cached ) {\n\t\treturn parseOnly ? 0 : cached.slice( 0 );\n\t}\n\n\tsoFar = selector;\n\tgroups = [];\n\tpreFilters = Expr.preFilter;\n\n\twhile ( soFar ) {\n\n\t\t// Comma and first run\n\t\tif ( !matched || (match = rcomma.exec( soFar )) ) {\n\t\t\tif ( match ) {\n\t\t\t\t// Don't consume trailing commas as valid\n\t\t\t\tsoFar = soFar.slice( match[0].length ) || soFar;\n\t\t\t}\n\t\t\tgroups.push( (tokens = []) );\n\t\t}\n\n\t\tmatched = false;\n\n\t\t// Combinators\n\t\tif ( (match = rcombinators.exec( soFar )) ) {\n\t\t\tmatched = match.shift();\n\t\t\ttokens.push({\n\t\t\t\tvalue: matched,\n\t\t\t\t// Cast descendant combinators to space\n\t\t\t\ttype: match[0].replace( rtrim, \" \" )\n\t\t\t});\n\t\t\tsoFar = soFar.slice( matched.length );\n\t\t}\n\n\t\t// Filters\n\t\tfor ( type in Expr.filter ) {\n\t\t\tif ( (match = matchExpr[ type ].exec( soFar )) && (!preFilters[ type ] ||\n\t\t\t\t(match = preFilters[ type ]( match ))) ) {\n\t\t\t\tmatched = match.shift();\n\t\t\t\ttokens.push({\n\t\t\t\t\tvalue: matched,\n\t\t\t\t\ttype: type,\n\t\t\t\t\tmatches: match\n\t\t\t\t});\n\t\t\t\tsoFar = soFar.slice( matched.length );\n\t\t\t}\n\t\t}\n\n\t\tif ( !matched ) {\n\t\t\tbreak;\n\t\t}\n\t}\n\n\t// Return the length of the invalid excess\n\t// if we're just parsing\n\t// Otherwise, throw an error or return tokens\n\treturn parseOnly ?\n\t\tsoFar.length :\n\t\tsoFar ?\n\t\t\tSizzle.error( selector ) :\n\t\t\t// Cache the tokens\n\t\t\ttokenCache( selector, groups ).slice( 0 );\n};\n\nfunction toSelector( tokens ) {\n\tvar i = 0,\n\t\tlen = tokens.length,\n\t\tselector = \"\";\n\tfor ( ; i < len; i++ ) {\n\t\tselector += tokens[i].value;\n\t}\n\treturn selector;\n}\n\nfunction addCombinator( matcher, combinator, base ) {\n\tvar dir = combinator.dir,\n\t\tskip = combinator.next,\n\t\tkey = skip || dir,\n\t\tcheckNonElements = base && key === \"parentNode\",\n\t\tdoneName = done++;\n\n\treturn combinator.first ?\n\t\t// Check against closest ancestor/preceding element\n\t\tfunction( elem, context, xml ) {\n\t\t\twhile ( (elem = elem[ dir ]) ) {\n\t\t\t\tif ( elem.nodeType === 1 || checkNonElements ) {\n\t\t\t\t\treturn matcher( elem, context, xml );\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t} :\n\n\t\t// Check against all ancestor/preceding elements\n\t\tfunction( elem, context, xml ) {\n\t\t\tvar oldCache, uniqueCache, outerCache,\n\t\t\t\tnewCache = [ dirruns, doneName ];\n\n\t\t\t// We can't set arbitrary data on XML nodes, so they don't benefit from combinator caching\n\t\t\tif ( xml ) {\n\t\t\t\twhile ( (elem = elem[ dir ]) ) {\n\t\t\t\t\tif ( elem.nodeType === 1 || checkNonElements ) {\n\t\t\t\t\t\tif ( matcher( elem, context, xml ) ) {\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\twhile ( (elem = elem[ dir ]) ) {\n\t\t\t\t\tif ( elem.nodeType === 1 || checkNonElements ) {\n\t\t\t\t\t\touterCache = elem[ expando ] || (elem[ expando ] = {});\n\n\t\t\t\t\t\t// Support: IE <9 only\n\t\t\t\t\t\t// Defend against cloned attroperties (jQuery gh-1709)\n\t\t\t\t\t\tuniqueCache = outerCache[ elem.uniqueID ] || (outerCache[ elem.uniqueID ] = {});\n\n\t\t\t\t\t\tif ( skip && skip === elem.nodeName.toLowerCase() ) {\n\t\t\t\t\t\t\telem = elem[ dir ] || elem;\n\t\t\t\t\t\t} else if ( (oldCache = uniqueCache[ key ]) &&\n\t\t\t\t\t\t\toldCache[ 0 ] === dirruns && oldCache[ 1 ] === doneName ) {\n\n\t\t\t\t\t\t\t// Assign to newCache so results back-propagate to previous elements\n\t\t\t\t\t\t\treturn (newCache[ 2 ] = oldCache[ 2 ]);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// Reuse newcache so results back-propagate to previous elements\n\t\t\t\t\t\t\tuniqueCache[ key ] = newCache;\n\n\t\t\t\t\t\t\t// A match means we're done; a fail means we have to keep checking\n\t\t\t\t\t\t\tif ( (newCache[ 2 ] = matcher( elem, context, xml )) ) {\n\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t};\n}\n\nfunction elementMatcher( matchers ) {\n\treturn matchers.length > 1 ?\n\t\tfunction( elem, context, xml ) {\n\t\t\tvar i = matchers.length;\n\t\t\twhile ( i-- ) {\n\t\t\t\tif ( !matchers[i]( elem, context, xml ) ) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t} :\n\t\tmatchers[0];\n}\n\nfunction multipleContexts( selector, contexts, results ) {\n\tvar i = 0,\n\t\tlen = contexts.length;\n\tfor ( ; i < len; i++ ) {\n\t\tSizzle( selector, contexts[i], results );\n\t}\n\treturn results;\n}\n\nfunction condense( unmatched, map, filter, context, xml ) {\n\tvar elem,\n\t\tnewUnmatched = [],\n\t\ti = 0,\n\t\tlen = unmatched.length,\n\t\tmapped = map != null;\n\n\tfor ( ; i < len; i++ ) {\n\t\tif ( (elem = unmatched[i]) ) {\n\t\t\tif ( !filter || filter( elem, context, xml ) ) {\n\t\t\t\tnewUnmatched.push( elem );\n\t\t\t\tif ( mapped ) {\n\t\t\t\t\tmap.push( i );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn newUnmatched;\n}\n\nfunction setMatcher( preFilter, selector, matcher, postFilter, postFinder, postSelector ) {\n\tif ( postFilter && !postFilter[ expando ] ) {\n\t\tpostFilter = setMatcher( postFilter );\n\t}\n\tif ( postFinder && !postFinder[ expando ] ) {\n\t\tpostFinder = setMatcher( postFinder, postSelector );\n\t}\n\treturn markFunction(function( seed, results, context, xml ) {\n\t\tvar temp, i, elem,\n\t\t\tpreMap = [],\n\t\t\tpostMap = [],\n\t\t\tpreexisting = results.length,\n\n\t\t\t// Get initial elements from seed or context\n\t\t\telems = seed || multipleContexts( selector || \"*\", context.nodeType ? [ context ] : context, [] ),\n\n\t\t\t// Prefilter to get matcher input, preserving a map for seed-results synchronization\n\t\t\tmatcherIn = preFilter && ( seed || !selector ) ?\n\t\t\t\tcondense( elems, preMap, preFilter, context, xml ) :\n\t\t\t\telems,\n\n\t\t\tmatcherOut = matcher ?\n\t\t\t\t// If we have a postFinder, or filtered seed, or non-seed postFilter or preexisting results,\n\t\t\t\tpostFinder || ( seed ? preFilter : preexisting || postFilter ) ?\n\n\t\t\t\t\t// ...intermediate processing is necessary\n\t\t\t\t\t[] :\n\n\t\t\t\t\t// ...otherwise use results directly\n\t\t\t\t\tresults :\n\t\t\t\tmatcherIn;\n\n\t\t// Find primary matches\n\t\tif ( matcher ) {\n\t\t\tmatcher( matcherIn, matcherOut, context, xml );\n\t\t}\n\n\t\t// Apply postFilter\n\t\tif ( postFilter ) {\n\t\t\ttemp = condense( matcherOut, postMap );\n\t\t\tpostFilter( temp, [], context, xml );\n\n\t\t\t// Un-match failing elements by moving them back to matcherIn\n\t\t\ti = temp.length;\n\t\t\twhile ( i-- ) {\n\t\t\t\tif ( (elem = temp[i]) ) {\n\t\t\t\t\tmatcherOut[ postMap[i] ] = !(matcherIn[ postMap[i] ] = elem);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif ( seed ) {\n\t\t\tif ( postFinder || preFilter ) {\n\t\t\t\tif ( postFinder ) {\n\t\t\t\t\t// Get the final matcherOut by condensing this intermediate into postFinder contexts\n\t\t\t\t\ttemp = [];\n\t\t\t\t\ti = matcherOut.length;\n\t\t\t\t\twhile ( i-- ) {\n\t\t\t\t\t\tif ( (elem = matcherOut[i]) ) {\n\t\t\t\t\t\t\t// Restore matcherIn since elem is not yet a final match\n\t\t\t\t\t\t\ttemp.push( (matcherIn[i] = elem) );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tpostFinder( null, (matcherOut = []), temp, xml );\n\t\t\t\t}\n\n\t\t\t\t// Move matched elements from seed to results to keep them synchronized\n\t\t\t\ti = matcherOut.length;\n\t\t\t\twhile ( i-- ) {\n\t\t\t\t\tif ( (elem = matcherOut[i]) &&\n\t\t\t\t\t\t(temp = postFinder ? indexOf( seed, elem ) : preMap[i]) > -1 ) {\n\n\t\t\t\t\t\tseed[temp] = !(results[temp] = elem);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t// Add elements to results, through postFinder if defined\n\t\t} else {\n\t\t\tmatcherOut = condense(\n\t\t\t\tmatcherOut === results ?\n\t\t\t\t\tmatcherOut.splice( preexisting, matcherOut.length ) :\n\t\t\t\t\tmatcherOut\n\t\t\t);\n\t\t\tif ( postFinder ) {\n\t\t\t\tpostFinder( null, results, matcherOut, xml );\n\t\t\t} else {\n\t\t\t\tpush.apply( results, matcherOut );\n\t\t\t}\n\t\t}\n\t});\n}\n\nfunction matcherFromTokens( tokens ) {\n\tvar checkContext, matcher, j,\n\t\tlen = tokens.length,\n\t\tleadingRelative = Expr.relative[ tokens[0].type ],\n\t\timplicitRelative = leadingRelative || Expr.relative[\" \"],\n\t\ti = leadingRelative ? 1 : 0,\n\n\t\t// The foundational matcher ensures that elements are reachable from top-level context(s)\n\t\tmatchContext = addCombinator( function( elem ) {\n\t\t\treturn elem === checkContext;\n\t\t}, implicitRelative, true ),\n\t\tmatchAnyContext = addCombinator( function( elem ) {\n\t\t\treturn indexOf( checkContext, elem ) > -1;\n\t\t}, implicitRelative, true ),\n\t\tmatchers = [ function( elem, context, xml ) {\n\t\t\tvar ret = ( !leadingRelative && ( xml || context !== outermostContext ) ) || (\n\t\t\t\t(checkContext = context).nodeType ?\n\t\t\t\t\tmatchContext( elem, context, xml ) :\n\t\t\t\t\tmatchAnyContext( elem, context, xml ) );\n\t\t\t// Avoid hanging onto element (issue #299)\n\t\t\tcheckContext = null;\n\t\t\treturn ret;\n\t\t} ];\n\n\tfor ( ; i < len; i++ ) {\n\t\tif ( (matcher = Expr.relative[ tokens[i].type ]) ) {\n\t\t\tmatchers = [ addCombinator(elementMatcher( matchers ), matcher) ];\n\t\t} else {\n\t\t\tmatcher = Expr.filter[ tokens[i].type ].apply( null, tokens[i].matches );\n\n\t\t\t// Return special upon seeing a positional matcher\n\t\t\tif ( matcher[ expando ] ) {\n\t\t\t\t// Find the next relative operator (if any) for proper handling\n\t\t\t\tj = ++i;\n\t\t\t\tfor ( ; j < len; j++ ) {\n\t\t\t\t\tif ( Expr.relative[ tokens[j].type ] ) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn setMatcher(\n\t\t\t\t\ti > 1 && elementMatcher( matchers ),\n\t\t\t\t\ti > 1 && toSelector(\n\t\t\t\t\t\t// If the preceding token was a descendant combinator, insert an implicit any-element `*`\n\t\t\t\t\t\ttokens.slice( 0, i - 1 ).concat({ value: tokens[ i - 2 ].type === \" \" ? \"*\" : \"\" })\n\t\t\t\t\t).replace( rtrim, \"$1\" ),\n\t\t\t\t\tmatcher,\n\t\t\t\t\ti < j && matcherFromTokens( tokens.slice( i, j ) ),\n\t\t\t\t\tj < len && matcherFromTokens( (tokens = tokens.slice( j )) ),\n\t\t\t\t\tj < len && toSelector( tokens )\n\t\t\t\t);\n\t\t\t}\n\t\t\tmatchers.push( matcher );\n\t\t}\n\t}\n\n\treturn elementMatcher( matchers );\n}\n\nfunction matcherFromGroupMatchers( elementMatchers, setMatchers ) {\n\tvar bySet = setMatchers.length > 0,\n\t\tbyElement = elementMatchers.length > 0,\n\t\tsuperMatcher = function( seed, context, xml, results, outermost ) {\n\t\t\tvar elem, j, matcher,\n\t\t\t\tmatchedCount = 0,\n\t\t\t\ti = \"0\",\n\t\t\t\tunmatched = seed && [],\n\t\t\t\tsetMatched = [],\n\t\t\t\tcontextBackup = outermostContext,\n\t\t\t\t// We must always have either seed elements or outermost context\n\t\t\t\telems = seed || byElement && Expr.find[\"TAG\"]( \"*\", outermost ),\n\t\t\t\t// Use integer dirruns iff this is the outermost matcher\n\t\t\t\tdirrunsUnique = (dirruns += contextBackup == null ? 1 : Math.random() || 0.1),\n\t\t\t\tlen = elems.length;\n\n\t\t\tif ( outermost ) {\n\t\t\t\toutermostContext = context === document || context || outermost;\n\t\t\t}\n\n\t\t\t// Add elements passing elementMatchers directly to results\n\t\t\t// Support: IE<9, Safari\n\t\t\t// Tolerate NodeList properties (IE: \"length\"; Safari: <number>) matching elements by id\n\t\t\tfor ( ; i !== len && (elem = elems[i]) != null; i++ ) {\n\t\t\t\tif ( byElement && elem ) {\n\t\t\t\t\tj = 0;\n\t\t\t\t\tif ( !context && elem.ownerDocument !== document ) {\n\t\t\t\t\t\tsetDocument( elem );\n\t\t\t\t\t\txml = !documentIsHTML;\n\t\t\t\t\t}\n\t\t\t\t\twhile ( (matcher = elementMatchers[j++]) ) {\n\t\t\t\t\t\tif ( matcher( elem, context || document, xml) ) {\n\t\t\t\t\t\t\tresults.push( elem );\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif ( outermost ) {\n\t\t\t\t\t\tdirruns = dirrunsUnique;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Track unmatched elements for set filters\n\t\t\t\tif ( bySet ) {\n\t\t\t\t\t// They will have gone through all possible matchers\n\t\t\t\t\tif ( (elem = !matcher && elem) ) {\n\t\t\t\t\t\tmatchedCount--;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Lengthen the array for every element, matched or not\n\t\t\t\t\tif ( seed ) {\n\t\t\t\t\t\tunmatched.push( elem );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// `i` is now the count of elements visited above, and adding it to `matchedCount`\n\t\t\t// makes the latter nonnegative.\n\t\t\tmatchedCount += i;\n\n\t\t\t// Apply set filters to unmatched elements\n\t\t\t// NOTE: This can be skipped if there are no unmatched elements (i.e., `matchedCount`\n\t\t\t// equals `i`), unless we didn't visit _any_ elements in the above loop because we have\n\t\t\t// no element matchers and no seed.\n\t\t\t// Incrementing an initially-string \"0\" `i` allows `i` to remain a string only in that\n\t\t\t// case, which will result in a \"00\" `matchedCount` that differs from `i` but is also\n\t\t\t// numerically zero.\n\t\t\tif ( bySet && i !== matchedCount ) {\n\t\t\t\tj = 0;\n\t\t\t\twhile ( (matcher = setMatchers[j++]) ) {\n\t\t\t\t\tmatcher( unmatched, setMatched, context, xml );\n\t\t\t\t}\n\n\t\t\t\tif ( seed ) {\n\t\t\t\t\t// Reintegrate element matches to eliminate the need for sorting\n\t\t\t\t\tif ( matchedCount > 0 ) {\n\t\t\t\t\t\twhile ( i-- ) {\n\t\t\t\t\t\t\tif ( !(unmatched[i] || setMatched[i]) ) {\n\t\t\t\t\t\t\t\tsetMatched[i] = pop.call( results );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Discard index placeholder values to get only actual matches\n\t\t\t\t\tsetMatched = condense( setMatched );\n\t\t\t\t}\n\n\t\t\t\t// Add matches to results\n\t\t\t\tpush.apply( results, setMatched );\n\n\t\t\t\t// Seedless set matches succeeding multiple successful matchers stipulate sorting\n\t\t\t\tif ( outermost && !seed && setMatched.length > 0 &&\n\t\t\t\t\t( matchedCount + setMatchers.length ) > 1 ) {\n\n\t\t\t\t\tSizzle.uniqueSort( results );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Override manipulation of globals by nested matchers\n\t\t\tif ( outermost ) {\n\t\t\t\tdirruns = dirrunsUnique;\n\t\t\t\toutermostContext = contextBackup;\n\t\t\t}\n\n\t\t\treturn unmatched;\n\t\t};\n\n\treturn bySet ?\n\t\tmarkFunction( superMatcher ) :\n\t\tsuperMatcher;\n}\n\ncompile = Sizzle.compile = function( selector, match /* Internal Use Only */ ) {\n\tvar i,\n\t\tsetMatchers = [],\n\t\telementMatchers = [],\n\t\tcached = compilerCache[ selector + \" \" ];\n\n\tif ( !cached ) {\n\t\t// Generate a function of recursive functions that can be used to check each element\n\t\tif ( !match ) {\n\t\t\tmatch = tokenize( selector );\n\t\t}\n\t\ti = match.length;\n\t\twhile ( i-- ) {\n\t\t\tcached = matcherFromTokens( match[i] );\n\t\t\tif ( cached[ expando ] ) {\n\t\t\t\tsetMatchers.push( cached );\n\t\t\t} else {\n\t\t\t\telementMatchers.push( cached );\n\t\t\t}\n\t\t}\n\n\t\t// Cache the compiled function\n\t\tcached = compilerCache( selector, matcherFromGroupMatchers( elementMatchers, setMatchers ) );\n\n\t\t// Save selector and tokenization\n\t\tcached.selector = selector;\n\t}\n\treturn cached;\n};\n\n/**\n * A low-level selection function that works with Sizzle's compiled\n *  selector functions\n * @param {String|Function} selector A selector or a pre-compiled\n *  selector function built with Sizzle.compile\n * @param {Element} context\n * @param {Array} [results]\n * @param {Array} [seed] A set of elements to match against\n */\nselect = Sizzle.select = function( selector, context, results, seed ) {\n\tvar i, tokens, token, type, find,\n\t\tcompiled = typeof selector === \"function\" && selector,\n\t\tmatch = !seed && tokenize( (selector = compiled.selector || selector) );\n\n\tresults = results || [];\n\n\t// Try to minimize operations if there is only one selector in the list and no seed\n\t// (the latter of which guarantees us context)\n\tif ( match.length === 1 ) {\n\n\t\t// Reduce context if the leading compound selector is an ID\n\t\ttokens = match[0] = match[0].slice( 0 );\n\t\tif ( tokens.length > 2 && (token = tokens[0]).type === \"ID\" &&\n\t\t\t\tcontext.nodeType === 9 && documentIsHTML && Expr.relative[ tokens[1].type ] ) {\n\n\t\t\tcontext = ( Expr.find[\"ID\"]( token.matches[0].replace(runescape, funescape), context ) || [] )[0];\n\t\t\tif ( !context ) {\n\t\t\t\treturn results;\n\n\t\t\t// Precompiled matchers will still verify ancestry, so step up a level\n\t\t\t} else if ( compiled ) {\n\t\t\t\tcontext = context.parentNode;\n\t\t\t}\n\n\t\t\tselector = selector.slice( tokens.shift().value.length );\n\t\t}\n\n\t\t// Fetch a seed set for right-to-left matching\n\t\ti = matchExpr[\"needsContext\"].test( selector ) ? 0 : tokens.length;\n\t\twhile ( i-- ) {\n\t\t\ttoken = tokens[i];\n\n\t\t\t// Abort if we hit a combinator\n\t\t\tif ( Expr.relative[ (type = token.type) ] ) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif ( (find = Expr.find[ type ]) ) {\n\t\t\t\t// Search, expanding context for leading sibling combinators\n\t\t\t\tif ( (seed = find(\n\t\t\t\t\ttoken.matches[0].replace( runescape, funescape ),\n\t\t\t\t\trsibling.test( tokens[0].type ) && testContext( context.parentNode ) || context\n\t\t\t\t)) ) {\n\n\t\t\t\t\t// If seed is empty or no tokens remain, we can return early\n\t\t\t\t\ttokens.splice( i, 1 );\n\t\t\t\t\tselector = seed.length && toSelector( tokens );\n\t\t\t\t\tif ( !selector ) {\n\t\t\t\t\t\tpush.apply( results, seed );\n\t\t\t\t\t\treturn results;\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// Compile and execute a filtering function if one is not provided\n\t// Provide `match` to avoid retokenization if we modified the selector above\n\t( compiled || compile( selector, match ) )(\n\t\tseed,\n\t\tcontext,\n\t\t!documentIsHTML,\n\t\tresults,\n\t\t!context || rsibling.test( selector ) && testContext( context.parentNode ) || context\n\t);\n\treturn results;\n};\n\n// One-time assignments\n\n// Sort stability\nsupport.sortStable = expando.split(\"\").sort( sortOrder ).join(\"\") === expando;\n\n// Support: Chrome 14-35+\n// Always assume duplicates if they aren't passed to the comparison function\nsupport.detectDuplicates = !!hasDuplicate;\n\n// Initialize against the default document\nsetDocument();\n\n// Support: Webkit<537.32 - Safari 6.0.3/Chrome 25 (fixed in Chrome 27)\n// Detached nodes confoundingly follow *each other*\nsupport.sortDetached = assert(function( el ) {\n\t// Should return 1, but returns 4 (following)\n\treturn el.compareDocumentPosition( document.createElement(\"fieldset\") ) & 1;\n});\n\n// Support: IE<8\n// Prevent attribute/property \"interpolation\"\n// https://msdn.microsoft.com/en-us/library/ms536429%28VS.85%29.aspx\nif ( !assert(function( el ) {\n\tel.innerHTML = \"<a href='#'></a>\";\n\treturn el.firstChild.getAttribute(\"href\") === \"#\" ;\n}) ) {\n\taddHandle( \"type|href|height|width\", function( elem, name, isXML ) {\n\t\tif ( !isXML ) {\n\t\t\treturn elem.getAttribute( name, name.toLowerCase() === \"type\" ? 1 : 2 );\n\t\t}\n\t});\n}\n\n// Support: IE<9\n// Use defaultValue in place of getAttribute(\"value\")\nif ( !support.attributes || !assert(function( el ) {\n\tel.innerHTML = \"<input/>\";\n\tel.firstChild.setAttribute( \"value\", \"\" );\n\treturn el.firstChild.getAttribute( \"value\" ) === \"\";\n}) ) {\n\taddHandle( \"value\", function( elem, name, isXML ) {\n\t\tif ( !isXML && elem.nodeName.toLowerCase() === \"input\" ) {\n\t\t\treturn elem.defaultValue;\n\t\t}\n\t});\n}\n\n// Support: IE<9\n// Use getAttributeNode to fetch booleans when getAttribute lies\nif ( !assert(function( el ) {\n\treturn el.getAttribute(\"disabled\") == null;\n}) ) {\n\taddHandle( booleans, function( elem, name, isXML ) {\n\t\tvar val;\n\t\tif ( !isXML ) {\n\t\t\treturn elem[ name ] === true ? name.toLowerCase() :\n\t\t\t\t\t(val = elem.getAttributeNode( name )) && val.specified ?\n\t\t\t\t\tval.value :\n\t\t\t\tnull;\n\t\t}\n\t});\n}\n\nreturn Sizzle;\n\n})( window );\n\n\n\njQuery.find = Sizzle;\njQuery.expr = Sizzle.selectors;\n\n// Deprecated\njQuery.expr[ \":\" ] = jQuery.expr.pseudos;\njQuery.uniqueSort = jQuery.unique = Sizzle.uniqueSort;\njQuery.text = Sizzle.getText;\njQuery.isXMLDoc = Sizzle.isXML;\njQuery.contains = Sizzle.contains;\njQuery.escapeSelector = Sizzle.escape;\n\n\n\n\nvar dir = function( elem, dir, until ) {\n\tvar matched = [],\n\t\ttruncate = until !== undefined;\n\n\twhile ( ( elem = elem[ dir ] ) && elem.nodeType !== 9 ) {\n\t\tif ( elem.nodeType === 1 ) {\n\t\t\tif ( truncate && jQuery( elem ).is( until ) ) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tmatched.push( elem );\n\t\t}\n\t}\n\treturn matched;\n};\n\n\nvar siblings = function( n, elem ) {\n\tvar matched = [];\n\n\tfor ( ; n; n = n.nextSibling ) {\n\t\tif ( n.nodeType === 1 && n !== elem ) {\n\t\t\tmatched.push( n );\n\t\t}\n\t}\n\n\treturn matched;\n};\n\n\nvar rneedsContext = jQuery.expr.match.needsContext;\n\n\n\nfunction nodeName( elem, name ) {\n\n  return elem.nodeName && elem.nodeName.toLowerCase() === name.toLowerCase();\n\n};\nvar rsingleTag = ( /^<([a-z][^\\/\\0>:\\x20\\t\\r\\n\\f]*)[\\x20\\t\\r\\n\\f]*\\/?>(?:<\\/\\1>|)$/i );\n\n\n\nvar risSimple = /^.[^:#\\[\\.,]*$/;\n\n// Implement the identical functionality for filter and not\nfunction winnow( elements, qualifier, not ) {\n\tif ( jQuery.isFunction( qualifier ) ) {\n\t\treturn jQuery.grep( elements, function( elem, i ) {\n\t\t\treturn !!qualifier.call( elem, i, elem ) !== not;\n\t\t} );\n\t}\n\n\t// Single element\n\tif ( qualifier.nodeType ) {\n\t\treturn jQuery.grep( elements, function( elem ) {\n\t\t\treturn ( elem === qualifier ) !== not;\n\t\t} );\n\t}\n\n\t// Arraylike of elements (jQuery, arguments, Array)\n\tif ( typeof qualifier !== \"string\" ) {\n\t\treturn jQuery.grep( elements, function( elem ) {\n\t\t\treturn ( indexOf.call( qualifier, elem ) > -1 ) !== not;\n\t\t} );\n\t}\n\n\t// Simple selector that can be filtered directly, removing non-Elements\n\tif ( risSimple.test( qualifier ) ) {\n\t\treturn jQuery.filter( qualifier, elements, not );\n\t}\n\n\t// Complex selector, compare the two sets, removing non-Elements\n\tqualifier = jQuery.filter( qualifier, elements );\n\treturn jQuery.grep( elements, function( elem ) {\n\t\treturn ( indexOf.call( qualifier, elem ) > -1 ) !== not && elem.nodeType === 1;\n\t} );\n}\n\njQuery.filter = function( expr, elems, not ) {\n\tvar elem = elems[ 0 ];\n\n\tif ( not ) {\n\t\texpr = \":not(\" + expr + \")\";\n\t}\n\n\tif ( elems.length === 1 && elem.nodeType === 1 ) {\n\t\treturn jQuery.find.matchesSelector( elem, expr ) ? [ elem ] : [];\n\t}\n\n\treturn jQuery.find.matches( expr, jQuery.grep( elems, function( elem ) {\n\t\treturn elem.nodeType === 1;\n\t} ) );\n};\n\njQuery.fn.extend( {\n\tfind: function( selector ) {\n\t\tvar i, ret,\n\t\t\tlen = this.length,\n\t\t\tself = this;\n\n\t\tif ( typeof selector !== \"string\" ) {\n\t\t\treturn this.pushStack( jQuery( selector ).filter( function() {\n\t\t\t\tfor ( i = 0; i < len; i++ ) {\n\t\t\t\t\tif ( jQuery.contains( self[ i ], this ) ) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} ) );\n\t\t}\n\n\t\tret = this.pushStack( [] );\n\n\t\tfor ( i = 0; i < len; i++ ) {\n\t\t\tjQuery.find( selector, self[ i ], ret );\n\t\t}\n\n\t\treturn len > 1 ? jQuery.uniqueSort( ret ) : ret;\n\t},\n\tfilter: function( selector ) {\n\t\treturn this.pushStack( winnow( this, selector || [], false ) );\n\t},\n\tnot: function( selector ) {\n\t\treturn this.pushStack( winnow( this, selector || [], true ) );\n\t},\n\tis: function( selector ) {\n\t\treturn !!winnow(\n\t\t\tthis,\n\n\t\t\t// If this is a positional/relative selector, check membership in the returned set\n\t\t\t// so $(\"p:first\").is(\"p:last\") won't return true for a doc with two \"p\".\n\t\t\ttypeof selector === \"string\" && rneedsContext.test( selector ) ?\n\t\t\t\tjQuery( selector ) :\n\t\t\t\tselector || [],\n\t\t\tfalse\n\t\t).length;\n\t}\n} );\n\n\n// Initialize a jQuery object\n\n\n// A central reference to the root jQuery(document)\nvar rootjQuery,\n\n\t// A simple way to check for HTML strings\n\t// Prioritize #id over <tag> to avoid XSS via location.hash (#9521)\n\t// Strict HTML recognition (#11290: must start with <)\n\t// Shortcut simple #id case for speed\n\trquickExpr = /^(?:\\s*(<[\\w\\W]+>)[^>]*|#([\\w-]+))$/,\n\n\tinit = jQuery.fn.init = function( selector, context, root ) {\n\t\tvar match, elem;\n\n\t\t// HANDLE: $(\"\"), $(null), $(undefined), $(false)\n\t\tif ( !selector ) {\n\t\t\treturn this;\n\t\t}\n\n\t\t// Method init() accepts an alternate rootjQuery\n\t\t// so migrate can support jQuery.sub (gh-2101)\n\t\troot = root || rootjQuery;\n\n\t\t// Handle HTML strings\n\t\tif ( typeof selector === \"string\" ) {\n\t\t\tif ( selector[ 0 ] === \"<\" &&\n\t\t\t\tselector[ selector.length - 1 ] === \">\" &&\n\t\t\t\tselector.length >= 3 ) {\n\n\t\t\t\t// Assume that strings that start and end with <> are HTML and skip the regex check\n\t\t\t\tmatch = [ null, selector, null ];\n\n\t\t\t} else {\n\t\t\t\tmatch = rquickExpr.exec( selector );\n\t\t\t}\n\n\t\t\t// Match html or make sure no context is specified for #id\n\t\t\tif ( match && ( match[ 1 ] || !context ) ) {\n\n\t\t\t\t// HANDLE: $(html) -> $(array)\n\t\t\t\tif ( match[ 1 ] ) {\n\t\t\t\t\tcontext = context instanceof jQuery ? context[ 0 ] : context;\n\n\t\t\t\t\t// Option to run scripts is true for back-compat\n\t\t\t\t\t// Intentionally let the error be thrown if parseHTML is not present\n\t\t\t\t\tjQuery.merge( this, jQuery.parseHTML(\n\t\t\t\t\t\tmatch[ 1 ],\n\t\t\t\t\t\tcontext && context.nodeType ? context.ownerDocument || context : document,\n\t\t\t\t\t\ttrue\n\t\t\t\t\t) );\n\n\t\t\t\t\t// HANDLE: $(html, props)\n\t\t\t\t\tif ( rsingleTag.test( match[ 1 ] ) && jQuery.isPlainObject( context ) ) {\n\t\t\t\t\t\tfor ( match in context ) {\n\n\t\t\t\t\t\t\t// Properties of context are called as methods if possible\n\t\t\t\t\t\t\tif ( jQuery.isFunction( this[ match ] ) ) {\n\t\t\t\t\t\t\t\tthis[ match ]( context[ match ] );\n\n\t\t\t\t\t\t\t// ...and otherwise set as attributes\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tthis.attr( match, context[ match ] );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\treturn this;\n\n\t\t\t\t// HANDLE: $(#id)\n\t\t\t\t} else {\n\t\t\t\t\telem = document.getElementById( match[ 2 ] );\n\n\t\t\t\t\tif ( elem ) {\n\n\t\t\t\t\t\t// Inject the element directly into the jQuery object\n\t\t\t\t\t\tthis[ 0 ] = elem;\n\t\t\t\t\t\tthis.length = 1;\n\t\t\t\t\t}\n\t\t\t\t\treturn this;\n\t\t\t\t}\n\n\t\t\t// HANDLE: $(expr, $(...))\n\t\t\t} else if ( !context || context.jquery ) {\n\t\t\t\treturn ( context || root ).find( selector );\n\n\t\t\t// HANDLE: $(expr, context)\n\t\t\t// (which is just equivalent to: $(context).find(expr)\n\t\t\t} else {\n\t\t\t\treturn this.constructor( context ).find( selector );\n\t\t\t}\n\n\t\t// HANDLE: $(DOMElement)\n\t\t} else if ( selector.nodeType ) {\n\t\t\tthis[ 0 ] = selector;\n\t\t\tthis.length = 1;\n\t\t\treturn this;\n\n\t\t// HANDLE: $(function)\n\t\t// Shortcut for document ready\n\t\t} else if ( jQuery.isFunction( selector ) ) {\n\t\t\treturn root.ready !== undefined ?\n\t\t\t\troot.ready( selector ) :\n\n\t\t\t\t// Execute immediately if ready is not present\n\t\t\t\tselector( jQuery );\n\t\t}\n\n\t\treturn jQuery.makeArray( selector, this );\n\t};\n\n// Give the init function the jQuery prototype for later instantiation\ninit.prototype = jQuery.fn;\n\n// Initialize central reference\nrootjQuery = jQuery( document );\n\n\nvar rparentsprev = /^(?:parents|prev(?:Until|All))/,\n\n\t// Methods guaranteed to produce a unique set when starting from a unique set\n\tguaranteedUnique = {\n\t\tchildren: true,\n\t\tcontents: true,\n\t\tnext: true,\n\t\tprev: true\n\t};\n\njQuery.fn.extend( {\n\thas: function( target ) {\n\t\tvar targets = jQuery( target, this ),\n\t\t\tl = targets.length;\n\n\t\treturn this.filter( function() {\n\t\t\tvar i = 0;\n\t\t\tfor ( ; i < l; i++ ) {\n\t\t\t\tif ( jQuery.contains( this, targets[ i ] ) ) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t} );\n\t},\n\n\tclosest: function( selectors, context ) {\n\t\tvar cur,\n\t\t\ti = 0,\n\t\t\tl = this.length,\n\t\t\tmatched = [],\n\t\t\ttargets = typeof selectors !== \"string\" && jQuery( selectors );\n\n\t\t// Positional selectors never match, since there's no _selection_ context\n\t\tif ( !rneedsContext.test( selectors ) ) {\n\t\t\tfor ( ; i < l; i++ ) {\n\t\t\t\tfor ( cur = this[ i ]; cur && cur !== context; cur = cur.parentNode ) {\n\n\t\t\t\t\t// Always skip document fragments\n\t\t\t\t\tif ( cur.nodeType < 11 && ( targets ?\n\t\t\t\t\t\ttargets.index( cur ) > -1 :\n\n\t\t\t\t\t\t// Don't pass non-elements to Sizzle\n\t\t\t\t\t\tcur.nodeType === 1 &&\n\t\t\t\t\t\t\tjQuery.find.matchesSelector( cur, selectors ) ) ) {\n\n\t\t\t\t\t\tmatched.push( cur );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn this.pushStack( matched.length > 1 ? jQuery.uniqueSort( matched ) : matched );\n\t},\n\n\t// Determine the position of an element within the set\n\tindex: function( elem ) {\n\n\t\t// No argument, return index in parent\n\t\tif ( !elem ) {\n\t\t\treturn ( this[ 0 ] && this[ 0 ].parentNode ) ? this.first().prevAll().length : -1;\n\t\t}\n\n\t\t// Index in selector\n\t\tif ( typeof elem === \"string\" ) {\n\t\t\treturn indexOf.call( jQuery( elem ), this[ 0 ] );\n\t\t}\n\n\t\t// Locate the position of the desired element\n\t\treturn indexOf.call( this,\n\n\t\t\t// If it receives a jQuery object, the first element is used\n\t\t\telem.jquery ? elem[ 0 ] : elem\n\t\t);\n\t},\n\n\tadd: function( selector, context ) {\n\t\treturn this.pushStack(\n\t\t\tjQuery.uniqueSort(\n\t\t\t\tjQuery.merge( this.get(), jQuery( selector, context ) )\n\t\t\t)\n\t\t);\n\t},\n\n\taddBack: function( selector ) {\n\t\treturn this.add( selector == null ?\n\t\t\tthis.prevObject : this.prevObject.filter( selector )\n\t\t);\n\t}\n} );\n\nfunction sibling( cur, dir ) {\n\twhile ( ( cur = cur[ dir ] ) && cur.nodeType !== 1 ) {}\n\treturn cur;\n}\n\njQuery.each( {\n\tparent: function( elem ) {\n\t\tvar parent = elem.parentNode;\n\t\treturn parent && parent.nodeType !== 11 ? parent : null;\n\t},\n\tparents: function( elem ) {\n\t\treturn dir( elem, \"parentNode\" );\n\t},\n\tparentsUntil: function( elem, i, until ) {\n\t\treturn dir( elem, \"parentNode\", until );\n\t},\n\tnext: function( elem ) {\n\t\treturn sibling( elem, \"nextSibling\" );\n\t},\n\tprev: function( elem ) {\n\t\treturn sibling( elem, \"previousSibling\" );\n\t},\n\tnextAll: function( elem ) {\n\t\treturn dir( elem, \"nextSibling\" );\n\t},\n\tprevAll: function( elem ) {\n\t\treturn dir( elem, \"previousSibling\" );\n\t},\n\tnextUntil: function( elem, i, until ) {\n\t\treturn dir( elem, \"nextSibling\", until );\n\t},\n\tprevUntil: function( elem, i, until ) {\n\t\treturn dir( elem, \"previousSibling\", until );\n\t},\n\tsiblings: function( elem ) {\n\t\treturn siblings( ( elem.parentNode || {} ).firstChild, elem );\n\t},\n\tchildren: function( elem ) {\n\t\treturn siblings( elem.firstChild );\n\t},\n\tcontents: function( elem ) {\n        if ( nodeName( elem, \"iframe\" ) ) {\n            return elem.contentDocument;\n        }\n\n        // Support: IE 9 - 11 only, iOS 7 only, Android Browser <=4.3 only\n        // Treat the template element as a regular one in browsers that\n        // don't support it.\n        if ( nodeName( elem, \"template\" ) ) {\n            elem = elem.content || elem;\n        }\n\n        return jQuery.merge( [], elem.childNodes );\n\t}\n}, function( name, fn ) {\n\tjQuery.fn[ name ] = function( until, selector ) {\n\t\tvar matched = jQuery.map( this, fn, until );\n\n\t\tif ( name.slice( -5 ) !== \"Until\" ) {\n\t\t\tselector = until;\n\t\t}\n\n\t\tif ( selector && typeof selector === \"string\" ) {\n\t\t\tmatched = jQuery.filter( selector, matched );\n\t\t}\n\n\t\tif ( this.length > 1 ) {\n\n\t\t\t// Remove duplicates\n\t\t\tif ( !guaranteedUnique[ name ] ) {\n\t\t\t\tjQuery.uniqueSort( matched );\n\t\t\t}\n\n\t\t\t// Reverse order for parents* and prev-derivatives\n\t\t\tif ( rparentsprev.test( name ) ) {\n\t\t\t\tmatched.reverse();\n\t\t\t}\n\t\t}\n\n\t\treturn this.pushStack( matched );\n\t};\n} );\nvar rnothtmlwhite = ( /[^\\x20\\t\\r\\n\\f]+/g );\n\n\n\n// Convert String-formatted options into Object-formatted ones\nfunction createOptions( options ) {\n\tvar object = {};\n\tjQuery.each( options.match( rnothtmlwhite ) || [], function( _, flag ) {\n\t\tobject[ flag ] = true;\n\t} );\n\treturn object;\n}\n\n/*\n * Create a callback list using the following parameters:\n *\n *\toptions: an optional list of space-separated options that will change how\n *\t\t\tthe callback list behaves or a more traditional option object\n *\n * By default a callback list will act like an event callback list and can be\n * \"fired\" multiple times.\n *\n * Possible options:\n *\n *\tonce:\t\t\twill ensure the callback list can only be fired once (like a Deferred)\n *\n *\tmemory:\t\t\twill keep track of previous values and will call any callback added\n *\t\t\t\t\tafter the list has been fired right away with the latest \"memorized\"\n *\t\t\t\t\tvalues (like a Deferred)\n *\n *\tunique:\t\t\twill ensure a callback can only be added once (no duplicate in the list)\n *\n *\tstopOnFalse:\tinterrupt callings when a callback returns false\n *\n */\njQuery.Callbacks = function( options ) {\n\n\t// Convert options from String-formatted to Object-formatted if needed\n\t// (we check in cache first)\n\toptions = typeof options === \"string\" ?\n\t\tcreateOptions( options ) :\n\t\tjQuery.extend( {}, options );\n\n\tvar // Flag to know if list is currently firing\n\t\tfiring,\n\n\t\t// Last fire value for non-forgettable lists\n\t\tmemory,\n\n\t\t// Flag to know if list was already fired\n\t\tfired,\n\n\t\t// Flag to prevent firing\n\t\tlocked,\n\n\t\t// Actual callback list\n\t\tlist = [],\n\n\t\t// Queue of execution data for repeatable lists\n\t\tqueue = [],\n\n\t\t// Index of currently firing callback (modified by add/remove as needed)\n\t\tfiringIndex = -1,\n\n\t\t// Fire callbacks\n\t\tfire = function() {\n\n\t\t\t// Enforce single-firing\n\t\t\tlocked = locked || options.once;\n\n\t\t\t// Execute callbacks for all pending executions,\n\t\t\t// respecting firingIndex overrides and runtime changes\n\t\t\tfired = firing = true;\n\t\t\tfor ( ; queue.length; firingIndex = -1 ) {\n\t\t\t\tmemory = queue.shift();\n\t\t\t\twhile ( ++firingIndex < list.length ) {\n\n\t\t\t\t\t// Run callback and check for early termination\n\t\t\t\t\tif ( list[ firingIndex ].apply( memory[ 0 ], memory[ 1 ] ) === false &&\n\t\t\t\t\t\toptions.stopOnFalse ) {\n\n\t\t\t\t\t\t// Jump to end and forget the data so .add doesn't re-fire\n\t\t\t\t\t\tfiringIndex = list.length;\n\t\t\t\t\t\tmemory = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Forget the data if we're done with it\n\t\t\tif ( !options.memory ) {\n\t\t\t\tmemory = false;\n\t\t\t}\n\n\t\t\tfiring = false;\n\n\t\t\t// Clean up if we're done firing for good\n\t\t\tif ( locked ) {\n\n\t\t\t\t// Keep an empty list if we have data for future add calls\n\t\t\t\tif ( memory ) {\n\t\t\t\t\tlist = [];\n\n\t\t\t\t// Otherwise, this object is spent\n\t\t\t\t} else {\n\t\t\t\t\tlist = \"\";\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t// Actual Callbacks object\n\t\tself = {\n\n\t\t\t// Add a callback or a collection of callbacks to the list\n\t\t\tadd: function() {\n\t\t\t\tif ( list ) {\n\n\t\t\t\t\t// If we have memory from a past run, we should fire after adding\n\t\t\t\t\tif ( memory && !firing ) {\n\t\t\t\t\t\tfiringIndex = list.length - 1;\n\t\t\t\t\t\tqueue.push( memory );\n\t\t\t\t\t}\n\n\t\t\t\t\t( function add( args ) {\n\t\t\t\t\t\tjQuery.each( args, function( _, arg ) {\n\t\t\t\t\t\t\tif ( jQuery.isFunction( arg ) ) {\n\t\t\t\t\t\t\t\tif ( !options.unique || !self.has( arg ) ) {\n\t\t\t\t\t\t\t\t\tlist.push( arg );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else if ( arg && arg.length && jQuery.type( arg ) !== \"string\" ) {\n\n\t\t\t\t\t\t\t\t// Inspect recursively\n\t\t\t\t\t\t\t\tadd( arg );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} );\n\t\t\t\t\t} )( arguments );\n\n\t\t\t\t\tif ( memory && !firing ) {\n\t\t\t\t\t\tfire();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t},\n\n\t\t\t// Remove a callback from the list\n\t\t\tremove: function() {\n\t\t\t\tjQuery.each( arguments, function( _, arg ) {\n\t\t\t\t\tvar index;\n\t\t\t\t\twhile ( ( index = jQuery.inArray( arg, list, index ) ) > -1 ) {\n\t\t\t\t\t\tlist.splice( index, 1 );\n\n\t\t\t\t\t\t// Handle firing indexes\n\t\t\t\t\t\tif ( index <= firingIndex ) {\n\t\t\t\t\t\t\tfiringIndex--;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t\treturn this;\n\t\t\t},\n\n\t\t\t// Check if a given callback is in the list.\n\t\t\t// If no argument is given, return whether or not list has callbacks attached.\n\t\t\thas: function( fn ) {\n\t\t\t\treturn fn ?\n\t\t\t\t\tjQuery.inArray( fn, list ) > -1 :\n\t\t\t\t\tlist.length > 0;\n\t\t\t},\n\n\t\t\t// Remove all callbacks from the list\n\t\t\tempty: function() {\n\t\t\t\tif ( list ) {\n\t\t\t\t\tlist = [];\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t},\n\n\t\t\t// Disable .fire and .add\n\t\t\t// Abort any current/pending executions\n\t\t\t// Clear all callbacks and values\n\t\t\tdisable: function() {\n\t\t\t\tlocked = queue = [];\n\t\t\t\tlist = memory = \"\";\n\t\t\t\treturn this;\n\t\t\t},\n\t\t\tdisabled: function() {\n\t\t\t\treturn !list;\n\t\t\t},\n\n\t\t\t// Disable .fire\n\t\t\t// Also disable .add unless we have memory (since it would have no effect)\n\t\t\t// Abort any pending executions\n\t\t\tlock: function() {\n\t\t\t\tlocked = queue = [];\n\t\t\t\tif ( !memory && !firing ) {\n\t\t\t\t\tlist = memory = \"\";\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t},\n\t\t\tlocked: function() {\n\t\t\t\treturn !!locked;\n\t\t\t},\n\n\t\t\t// Call all callbacks with the given context and arguments\n\t\t\tfireWith: function( context, args ) {\n\t\t\t\tif ( !locked ) {\n\t\t\t\t\targs = args || [];\n\t\t\t\t\targs = [ context, args.slice ? args.slice() : args ];\n\t\t\t\t\tqueue.push( args );\n\t\t\t\t\tif ( !firing ) {\n\t\t\t\t\t\tfire();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t},\n\n\t\t\t// Call all the callbacks with the given arguments\n\t\t\tfire: function() {\n\t\t\t\tself.fireWith( this, arguments );\n\t\t\t\treturn this;\n\t\t\t},\n\n\t\t\t// To know if the callbacks have already been called at least once\n\t\t\tfired: function() {\n\t\t\t\treturn !!fired;\n\t\t\t}\n\t\t};\n\n\treturn self;\n};\n\n\nfunction Identity( v ) {\n\treturn v;\n}\nfunction Thrower( ex ) {\n\tthrow ex;\n}\n\nfunction adoptValue( value, resolve, reject, noValue ) {\n\tvar method;\n\n\ttry {\n\n\t\t// Check for promise aspect first to privilege synchronous behavior\n\t\tif ( value && jQuery.isFunction( ( method = value.promise ) ) ) {\n\t\t\tmethod.call( value ).done( resolve ).fail( reject );\n\n\t\t// Other thenables\n\t\t} else if ( value && jQuery.isFunction( ( method = value.then ) ) ) {\n\t\t\tmethod.call( value, resolve, reject );\n\n\t\t// Other non-thenables\n\t\t} else {\n\n\t\t\t// Control `resolve` arguments by letting Array#slice cast boolean `noValue` to integer:\n\t\t\t// * false: [ value ].slice( 0 ) => resolve( value )\n\t\t\t// * true: [ value ].slice( 1 ) => resolve()\n\t\t\tresolve.apply( undefined, [ value ].slice( noValue ) );\n\t\t}\n\n\t// For Promises/A+, convert exceptions into rejections\n\t// Since jQuery.when doesn't unwrap thenables, we can skip the extra checks appearing in\n\t// Deferred#then to conditionally suppress rejection.\n\t} catch ( value ) {\n\n\t\t// Support: Android 4.0 only\n\t\t// Strict mode functions invoked without .call/.apply get global-object context\n\t\treject.apply( undefined, [ value ] );\n\t}\n}\n\njQuery.extend( {\n\n\tDeferred: function( func ) {\n\t\tvar tuples = [\n\n\t\t\t\t// action, add listener, callbacks,\n\t\t\t\t// ... .then handlers, argument index, [final state]\n\t\t\t\t[ \"notify\", \"progress\", jQuery.Callbacks( \"memory\" ),\n\t\t\t\t\tjQuery.Callbacks( \"memory\" ), 2 ],\n\t\t\t\t[ \"resolve\", \"done\", jQuery.Callbacks( \"once memory\" ),\n\t\t\t\t\tjQuery.Callbacks( \"once memory\" ), 0, \"resolved\" ],\n\t\t\t\t[ \"reject\", \"fail\", jQuery.Callbacks( \"once memory\" ),\n\t\t\t\t\tjQuery.Callbacks( \"once memory\" ), 1, \"rejected\" ]\n\t\t\t],\n\t\t\tstate = \"pending\",\n\t\t\tpromise = {\n\t\t\t\tstate: function() {\n\t\t\t\t\treturn state;\n\t\t\t\t},\n\t\t\t\talways: function() {\n\t\t\t\t\tdeferred.done( arguments ).fail( arguments );\n\t\t\t\t\treturn this;\n\t\t\t\t},\n\t\t\t\t\"catch\": function( fn ) {\n\t\t\t\t\treturn promise.then( null, fn );\n\t\t\t\t},\n\n\t\t\t\t// Keep pipe for back-compat\n\t\t\t\tpipe: function( /* fnDone, fnFail, fnProgress */ ) {\n\t\t\t\t\tvar fns = arguments;\n\n\t\t\t\t\treturn jQuery.Deferred( function( newDefer ) {\n\t\t\t\t\t\tjQuery.each( tuples, function( i, tuple ) {\n\n\t\t\t\t\t\t\t// Map tuples (progress, done, fail) to arguments (done, fail, progress)\n\t\t\t\t\t\t\tvar fn = jQuery.isFunction( fns[ tuple[ 4 ] ] ) && fns[ tuple[ 4 ] ];\n\n\t\t\t\t\t\t\t// deferred.progress(function() { bind to newDefer or newDefer.notify })\n\t\t\t\t\t\t\t// deferred.done(function() { bind to newDefer or newDefer.resolve })\n\t\t\t\t\t\t\t// deferred.fail(function() { bind to newDefer or newDefer.reject })\n\t\t\t\t\t\t\tdeferred[ tuple[ 1 ] ]( function() {\n\t\t\t\t\t\t\t\tvar returned = fn && fn.apply( this, arguments );\n\t\t\t\t\t\t\t\tif ( returned && jQuery.isFunction( returned.promise ) ) {\n\t\t\t\t\t\t\t\t\treturned.promise()\n\t\t\t\t\t\t\t\t\t\t.progress( newDefer.notify )\n\t\t\t\t\t\t\t\t\t\t.done( newDefer.resolve )\n\t\t\t\t\t\t\t\t\t\t.fail( newDefer.reject );\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tnewDefer[ tuple[ 0 ] + \"With\" ](\n\t\t\t\t\t\t\t\t\t\tthis,\n\t\t\t\t\t\t\t\t\t\tfn ? [ returned ] : arguments\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t} );\n\t\t\t\t\t\tfns = null;\n\t\t\t\t\t} ).promise();\n\t\t\t\t},\n\t\t\t\tthen: function( onFulfilled, onRejected, onProgress ) {\n\t\t\t\t\tvar maxDepth = 0;\n\t\t\t\t\tfunction resolve( depth, deferred, handler, special ) {\n\t\t\t\t\t\treturn function() {\n\t\t\t\t\t\t\tvar that = this,\n\t\t\t\t\t\t\t\targs = arguments,\n\t\t\t\t\t\t\t\tmightThrow = function() {\n\t\t\t\t\t\t\t\t\tvar returned, then;\n\n\t\t\t\t\t\t\t\t\t// Support: Promises/A+ section 2.3.3.3.3\n\t\t\t\t\t\t\t\t\t// https://promisesaplus.com/#point-59\n\t\t\t\t\t\t\t\t\t// Ignore double-resolution attempts\n\t\t\t\t\t\t\t\t\tif ( depth < maxDepth ) {\n\t\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\treturned = handler.apply( that, args );\n\n\t\t\t\t\t\t\t\t\t// Support: Promises/A+ section 2.3.1\n\t\t\t\t\t\t\t\t\t// https://promisesaplus.com/#point-48\n\t\t\t\t\t\t\t\t\tif ( returned === deferred.promise() ) {\n\t\t\t\t\t\t\t\t\t\tthrow new TypeError( \"Thenable self-resolution\" );\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t// Support: Promises/A+ sections 2.3.3.1, 3.5\n\t\t\t\t\t\t\t\t\t// https://promisesaplus.com/#point-54\n\t\t\t\t\t\t\t\t\t// https://promisesaplus.com/#point-75\n\t\t\t\t\t\t\t\t\t// Retrieve `then` only once\n\t\t\t\t\t\t\t\t\tthen = returned &&\n\n\t\t\t\t\t\t\t\t\t\t// Support: Promises/A+ section 2.3.4\n\t\t\t\t\t\t\t\t\t\t// https://promisesaplus.com/#point-64\n\t\t\t\t\t\t\t\t\t\t// Only check objects and functions for thenability\n\t\t\t\t\t\t\t\t\t\t( typeof returned === \"object\" ||\n\t\t\t\t\t\t\t\t\t\t\ttypeof returned === \"function\" ) &&\n\t\t\t\t\t\t\t\t\t\treturned.then;\n\n\t\t\t\t\t\t\t\t\t// Handle a returned thenable\n\t\t\t\t\t\t\t\t\tif ( jQuery.isFunction( then ) ) {\n\n\t\t\t\t\t\t\t\t\t\t// Special processors (notify) just wait for resolution\n\t\t\t\t\t\t\t\t\t\tif ( special ) {\n\t\t\t\t\t\t\t\t\t\t\tthen.call(\n\t\t\t\t\t\t\t\t\t\t\t\treturned,\n\t\t\t\t\t\t\t\t\t\t\t\tresolve( maxDepth, deferred, Identity, special ),\n\t\t\t\t\t\t\t\t\t\t\t\tresolve( maxDepth, deferred, Thrower, special )\n\t\t\t\t\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t\t\t\t// Normal processors (resolve) also hook into progress\n\t\t\t\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t\t\t\t// ...and disregard older resolution values\n\t\t\t\t\t\t\t\t\t\t\tmaxDepth++;\n\n\t\t\t\t\t\t\t\t\t\t\tthen.call(\n\t\t\t\t\t\t\t\t\t\t\t\treturned,\n\t\t\t\t\t\t\t\t\t\t\t\tresolve( maxDepth, deferred, Identity, special ),\n\t\t\t\t\t\t\t\t\t\t\t\tresolve( maxDepth, deferred, Thrower, special ),\n\t\t\t\t\t\t\t\t\t\t\t\tresolve( maxDepth, deferred, Identity,\n\t\t\t\t\t\t\t\t\t\t\t\t\tdeferred.notifyWith )\n\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t// Handle all other returned values\n\t\t\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t\t\t// Only substitute handlers pass on context\n\t\t\t\t\t\t\t\t\t\t// and multiple values (non-spec behavior)\n\t\t\t\t\t\t\t\t\t\tif ( handler !== Identity ) {\n\t\t\t\t\t\t\t\t\t\t\tthat = undefined;\n\t\t\t\t\t\t\t\t\t\t\targs = [ returned ];\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t// Process the value(s)\n\t\t\t\t\t\t\t\t\t\t// Default process is resolve\n\t\t\t\t\t\t\t\t\t\t( special || deferred.resolveWith )( that, args );\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t},\n\n\t\t\t\t\t\t\t\t// Only normal processors (resolve) catch and reject exceptions\n\t\t\t\t\t\t\t\tprocess = special ?\n\t\t\t\t\t\t\t\t\tmightThrow :\n\t\t\t\t\t\t\t\t\tfunction() {\n\t\t\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\t\t\tmightThrow();\n\t\t\t\t\t\t\t\t\t\t} catch ( e ) {\n\n\t\t\t\t\t\t\t\t\t\t\tif ( jQuery.Deferred.exceptionHook ) {\n\t\t\t\t\t\t\t\t\t\t\t\tjQuery.Deferred.exceptionHook( e,\n\t\t\t\t\t\t\t\t\t\t\t\t\tprocess.stackTrace );\n\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t// Support: Promises/A+ section 2.3.3.3.4.1\n\t\t\t\t\t\t\t\t\t\t\t// https://promisesaplus.com/#point-61\n\t\t\t\t\t\t\t\t\t\t\t// Ignore post-resolution exceptions\n\t\t\t\t\t\t\t\t\t\t\tif ( depth + 1 >= maxDepth ) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t// Only substitute handlers pass on context\n\t\t\t\t\t\t\t\t\t\t\t\t// and multiple values (non-spec behavior)\n\t\t\t\t\t\t\t\t\t\t\t\tif ( handler !== Thrower ) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tthat = undefined;\n\t\t\t\t\t\t\t\t\t\t\t\t\targs = [ e ];\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\tdeferred.rejectWith( that, args );\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\t// Support: Promises/A+ section 2.3.3.3.1\n\t\t\t\t\t\t\t// https://promisesaplus.com/#point-57\n\t\t\t\t\t\t\t// Re-resolve promises immediately to dodge false rejection from\n\t\t\t\t\t\t\t// subsequent errors\n\t\t\t\t\t\t\tif ( depth ) {\n\t\t\t\t\t\t\t\tprocess();\n\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t// Call an optional hook to record the stack, in case of exception\n\t\t\t\t\t\t\t\t// since it's otherwise lost when execution goes async\n\t\t\t\t\t\t\t\tif ( jQuery.Deferred.getStackHook ) {\n\t\t\t\t\t\t\t\t\tprocess.stackTrace = jQuery.Deferred.getStackHook();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\twindow.setTimeout( process );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\n\t\t\t\t\treturn jQuery.Deferred( function( newDefer ) {\n\n\t\t\t\t\t\t// progress_handlers.add( ... )\n\t\t\t\t\t\ttuples[ 0 ][ 3 ].add(\n\t\t\t\t\t\t\tresolve(\n\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\tnewDefer,\n\t\t\t\t\t\t\t\tjQuery.isFunction( onProgress ) ?\n\t\t\t\t\t\t\t\t\tonProgress :\n\t\t\t\t\t\t\t\t\tIdentity,\n\t\t\t\t\t\t\t\tnewDefer.notifyWith\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\t// fulfilled_handlers.add( ... )\n\t\t\t\t\t\ttuples[ 1 ][ 3 ].add(\n\t\t\t\t\t\t\tresolve(\n\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\tnewDefer,\n\t\t\t\t\t\t\t\tjQuery.isFunction( onFulfilled ) ?\n\t\t\t\t\t\t\t\t\tonFulfilled :\n\t\t\t\t\t\t\t\t\tIdentity\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\t// rejected_handlers.add( ... )\n\t\t\t\t\t\ttuples[ 2 ][ 3 ].add(\n\t\t\t\t\t\t\tresolve(\n\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\tnewDefer,\n\t\t\t\t\t\t\t\tjQuery.isFunction( onRejected ) ?\n\t\t\t\t\t\t\t\t\tonRejected :\n\t\t\t\t\t\t\t\t\tThrower\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t);\n\t\t\t\t\t} ).promise();\n\t\t\t\t},\n\n\t\t\t\t// Get a promise for this deferred\n\t\t\t\t// If obj is provided, the promise aspect is added to the object\n\t\t\t\tpromise: function( obj ) {\n\t\t\t\t\treturn obj != null ? jQuery.extend( obj, promise ) : promise;\n\t\t\t\t}\n\t\t\t},\n\t\t\tdeferred = {};\n\n\t\t// Add list-specific methods\n\t\tjQuery.each( tuples, function( i, tuple ) {\n\t\t\tvar list = tuple[ 2 ],\n\t\t\t\tstateString = tuple[ 5 ];\n\n\t\t\t// promise.progress = list.add\n\t\t\t// promise.done = list.add\n\t\t\t// promise.fail = list.add\n\t\t\tpromise[ tuple[ 1 ] ] = list.add;\n\n\t\t\t// Handle state\n\t\t\tif ( stateString ) {\n\t\t\t\tlist.add(\n\t\t\t\t\tfunction() {\n\n\t\t\t\t\t\t// state = \"resolved\" (i.e., fulfilled)\n\t\t\t\t\t\t// state = \"rejected\"\n\t\t\t\t\t\tstate = stateString;\n\t\t\t\t\t},\n\n\t\t\t\t\t// rejected_callbacks.disable\n\t\t\t\t\t// fulfilled_callbacks.disable\n\t\t\t\t\ttuples[ 3 - i ][ 2 ].disable,\n\n\t\t\t\t\t// progress_callbacks.lock\n\t\t\t\t\ttuples[ 0 ][ 2 ].lock\n\t\t\t\t);\n\t\t\t}\n\n\t\t\t// progress_handlers.fire\n\t\t\t// fulfilled_handlers.fire\n\t\t\t// rejected_handlers.fire\n\t\t\tlist.add( tuple[ 3 ].fire );\n\n\t\t\t// deferred.notify = function() { deferred.notifyWith(...) }\n\t\t\t// deferred.resolve = function() { deferred.resolveWith(...) }\n\t\t\t// deferred.reject = function() { deferred.rejectWith(...) }\n\t\t\tdeferred[ tuple[ 0 ] ] = function() {\n\t\t\t\tdeferred[ tuple[ 0 ] + \"With\" ]( this === deferred ? undefined : this, arguments );\n\t\t\t\treturn this;\n\t\t\t};\n\n\t\t\t// deferred.notifyWith = list.fireWith\n\t\t\t// deferred.resolveWith = list.fireWith\n\t\t\t// deferred.rejectWith = list.fireWith\n\t\t\tdeferred[ tuple[ 0 ] + \"With\" ] = list.fireWith;\n\t\t} );\n\n\t\t// Make the deferred a promise\n\t\tpromise.promise( deferred );\n\n\t\t// Call given func if any\n\t\tif ( func ) {\n\t\t\tfunc.call( deferred, deferred );\n\t\t}\n\n\t\t// All done!\n\t\treturn deferred;\n\t},\n\n\t// Deferred helper\n\twhen: function( singleValue ) {\n\t\tvar\n\n\t\t\t// count of uncompleted subordinates\n\t\t\tremaining = arguments.length,\n\n\t\t\t// count of unprocessed arguments\n\t\t\ti = remaining,\n\n\t\t\t// subordinate fulfillment data\n\t\t\tresolveContexts = Array( i ),\n\t\t\tresolveValues = slice.call( arguments ),\n\n\t\t\t// the master Deferred\n\t\t\tmaster = jQuery.Deferred(),\n\n\t\t\t// subordinate callback factory\n\t\t\tupdateFunc = function( i ) {\n\t\t\t\treturn function( value ) {\n\t\t\t\t\tresolveContexts[ i ] = this;\n\t\t\t\t\tresolveValues[ i ] = arguments.length > 1 ? slice.call( arguments ) : value;\n\t\t\t\t\tif ( !( --remaining ) ) {\n\t\t\t\t\t\tmaster.resolveWith( resolveContexts, resolveValues );\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t};\n\n\t\t// Single- and empty arguments are adopted like Promise.resolve\n\t\tif ( remaining <= 1 ) {\n\t\t\tadoptValue( singleValue, master.done( updateFunc( i ) ).resolve, master.reject,\n\t\t\t\t!remaining );\n\n\t\t\t// Use .then() to unwrap secondary thenables (cf. gh-3000)\n\t\t\tif ( master.state() === \"pending\" ||\n\t\t\t\tjQuery.isFunction( resolveValues[ i ] && resolveValues[ i ].then ) ) {\n\n\t\t\t\treturn master.then();\n\t\t\t}\n\t\t}\n\n\t\t// Multiple arguments are aggregated like Promise.all array elements\n\t\twhile ( i-- ) {\n\t\t\tadoptValue( resolveValues[ i ], updateFunc( i ), master.reject );\n\t\t}\n\n\t\treturn master.promise();\n\t}\n} );\n\n\n// These usually indicate a programmer mistake during development,\n// warn about them ASAP rather than swallowing them by default.\nvar rerrorNames = /^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;\n\njQuery.Deferred.exceptionHook = function( error, stack ) {\n\n\t// Support: IE 8 - 9 only\n\t// Console exists when dev tools are open, which can happen at any time\n\tif ( window.console && window.console.warn && error && rerrorNames.test( error.name ) ) {\n\t\twindow.console.warn( \"jQuery.Deferred exception: \" + error.message, error.stack, stack );\n\t}\n};\n\n\n\n\njQuery.readyException = function( error ) {\n\twindow.setTimeout( function() {\n\t\tthrow error;\n\t} );\n};\n\n\n\n\n// The deferred used on DOM ready\nvar readyList = jQuery.Deferred();\n\njQuery.fn.ready = function( fn ) {\n\n\treadyList\n\t\t.then( fn )\n\n\t\t// Wrap jQuery.readyException in a function so that the lookup\n\t\t// happens at the time of error handling instead of callback\n\t\t// registration.\n\t\t.catch( function( error ) {\n\t\t\tjQuery.readyException( error );\n\t\t} );\n\n\treturn this;\n};\n\njQuery.extend( {\n\n\t// Is the DOM ready to be used? Set to true once it occurs.\n\tisReady: false,\n\n\t// A counter to track how many items to wait for before\n\t// the ready event fires. See #6781\n\treadyWait: 1,\n\n\t// Handle when the DOM is ready\n\tready: function( wait ) {\n\n\t\t// Abort if there are pending holds or we're already ready\n\t\tif ( wait === true ? --jQuery.readyWait : jQuery.isReady ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Remember that the DOM is ready\n\t\tjQuery.isReady = true;\n\n\t\t// If a normal DOM Ready event fired, decrement, and wait if need be\n\t\tif ( wait !== true && --jQuery.readyWait > 0 ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// If there are functions bound, to execute\n\t\treadyList.resolveWith( document, [ jQuery ] );\n\t}\n} );\n\njQuery.ready.then = readyList.then;\n\n// The ready event handler and self cleanup method\nfunction completed() {\n\tdocument.removeEventListener( \"DOMContentLoaded\", completed );\n\twindow.removeEventListener( \"load\", completed );\n\tjQuery.ready();\n}\n\n// Catch cases where $(document).ready() is called\n// after the browser event has already occurred.\n// Support: IE <=9 - 10 only\n// Older IE sometimes signals \"interactive\" too soon\nif ( document.readyState === \"complete\" ||\n\t( document.readyState !== \"loading\" && !document.documentElement.doScroll ) ) {\n\n\t// Handle it asynchronously to allow scripts the opportunity to delay ready\n\twindow.setTimeout( jQuery.ready );\n\n} else {\n\n\t// Use the handy event callback\n\tdocument.addEventListener( \"DOMContentLoaded\", completed );\n\n\t// A fallback to window.onload, that will always work\n\twindow.addEventListener( \"load\", completed );\n}\n\n\n\n\n// Multifunctional method to get and set values of a collection\n// The value/s can optionally be executed if it's a function\nvar access = function( elems, fn, key, value, chainable, emptyGet, raw ) {\n\tvar i = 0,\n\t\tlen = elems.length,\n\t\tbulk = key == null;\n\n\t// Sets many values\n\tif ( jQuery.type( key ) === \"object\" ) {\n\t\tchainable = true;\n\t\tfor ( i in key ) {\n\t\t\taccess( elems, fn, i, key[ i ], true, emptyGet, raw );\n\t\t}\n\n\t// Sets one value\n\t} else if ( value !== undefined ) {\n\t\tchainable = true;\n\n\t\tif ( !jQuery.isFunction( value ) ) {\n\t\t\traw = true;\n\t\t}\n\n\t\tif ( bulk ) {\n\n\t\t\t// Bulk operations run against the entire set\n\t\t\tif ( raw ) {\n\t\t\t\tfn.call( elems, value );\n\t\t\t\tfn = null;\n\n\t\t\t// ...except when executing function values\n\t\t\t} else {\n\t\t\t\tbulk = fn;\n\t\t\t\tfn = function( elem, key, value ) {\n\t\t\t\t\treturn bulk.call( jQuery( elem ), value );\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\n\t\tif ( fn ) {\n\t\t\tfor ( ; i < len; i++ ) {\n\t\t\t\tfn(\n\t\t\t\t\telems[ i ], key, raw ?\n\t\t\t\t\tvalue :\n\t\t\t\t\tvalue.call( elems[ i ], i, fn( elems[ i ], key ) )\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}\n\n\tif ( chainable ) {\n\t\treturn elems;\n\t}\n\n\t// Gets\n\tif ( bulk ) {\n\t\treturn fn.call( elems );\n\t}\n\n\treturn len ? fn( elems[ 0 ], key ) : emptyGet;\n};\nvar acceptData = function( owner ) {\n\n\t// Accepts only:\n\t//  - Node\n\t//    - Node.ELEMENT_NODE\n\t//    - Node.DOCUMENT_NODE\n\t//  - Object\n\t//    - Any\n\treturn owner.nodeType === 1 || owner.nodeType === 9 || !( +owner.nodeType );\n};\n\n\n\n\nfunction Data() {\n\tthis.expando = jQuery.expando + Data.uid++;\n}\n\nData.uid = 1;\n\nData.prototype = {\n\n\tcache: function( owner ) {\n\n\t\t// Check if the owner object already has a cache\n\t\tvar value = owner[ this.expando ];\n\n\t\t// If not, create one\n\t\tif ( !value ) {\n\t\t\tvalue = {};\n\n\t\t\t// We can accept data for non-element nodes in modern browsers,\n\t\t\t// but we should not, see #8335.\n\t\t\t// Always return an empty object.\n\t\t\tif ( acceptData( owner ) ) {\n\n\t\t\t\t// If it is a node unlikely to be stringify-ed or looped over\n\t\t\t\t// use plain assignment\n\t\t\t\tif ( owner.nodeType ) {\n\t\t\t\t\towner[ this.expando ] = value;\n\n\t\t\t\t// Otherwise secure it in a non-enumerable property\n\t\t\t\t// configurable must be true to allow the property to be\n\t\t\t\t// deleted when data is removed\n\t\t\t\t} else {\n\t\t\t\t\tObject.defineProperty( owner, this.expando, {\n\t\t\t\t\t\tvalue: value,\n\t\t\t\t\t\tconfigurable: true\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn value;\n\t},\n\tset: function( owner, data, value ) {\n\t\tvar prop,\n\t\t\tcache = this.cache( owner );\n\n\t\t// Handle: [ owner, key, value ] args\n\t\t// Always use camelCase key (gh-2257)\n\t\tif ( typeof data === \"string\" ) {\n\t\t\tcache[ jQuery.camelCase( data ) ] = value;\n\n\t\t// Handle: [ owner, { properties } ] args\n\t\t} else {\n\n\t\t\t// Copy the properties one-by-one to the cache object\n\t\t\tfor ( prop in data ) {\n\t\t\t\tcache[ jQuery.camelCase( prop ) ] = data[ prop ];\n\t\t\t}\n\t\t}\n\t\treturn cache;\n\t},\n\tget: function( owner, key ) {\n\t\treturn key === undefined ?\n\t\t\tthis.cache( owner ) :\n\n\t\t\t// Always use camelCase key (gh-2257)\n\t\t\towner[ this.expando ] && owner[ this.expando ][ jQuery.camelCase( key ) ];\n\t},\n\taccess: function( owner, key, value ) {\n\n\t\t// In cases where either:\n\t\t//\n\t\t//   1. No key was specified\n\t\t//   2. A string key was specified, but no value provided\n\t\t//\n\t\t// Take the \"read\" path and allow the get method to determine\n\t\t// which value to return, respectively either:\n\t\t//\n\t\t//   1. The entire cache object\n\t\t//   2. The data stored at the key\n\t\t//\n\t\tif ( key === undefined ||\n\t\t\t\t( ( key && typeof key === \"string\" ) && value === undefined ) ) {\n\n\t\t\treturn this.get( owner, key );\n\t\t}\n\n\t\t// When the key is not a string, or both a key and value\n\t\t// are specified, set or extend (existing objects) with either:\n\t\t//\n\t\t//   1. An object of properties\n\t\t//   2. A key and value\n\t\t//\n\t\tthis.set( owner, key, value );\n\n\t\t// Since the \"set\" path can have two possible entry points\n\t\t// return the expected data based on which path was taken[*]\n\t\treturn value !== undefined ? value : key;\n\t},\n\tremove: function( owner, key ) {\n\t\tvar i,\n\t\t\tcache = owner[ this.expando ];\n\n\t\tif ( cache === undefined ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( key !== undefined ) {\n\n\t\t\t// Support array or space separated string of keys\n\t\t\tif ( Array.isArray( key ) ) {\n\n\t\t\t\t// If key is an array of keys...\n\t\t\t\t// We always set camelCase keys, so remove that.\n\t\t\t\tkey = key.map( jQuery.camelCase );\n\t\t\t} else {\n\t\t\t\tkey = jQuery.camelCase( key );\n\n\t\t\t\t// If a key with the spaces exists, use it.\n\t\t\t\t// Otherwise, create an array by matching non-whitespace\n\t\t\t\tkey = key in cache ?\n\t\t\t\t\t[ key ] :\n\t\t\t\t\t( key.match( rnothtmlwhite ) || [] );\n\t\t\t}\n\n\t\t\ti = key.length;\n\n\t\t\twhile ( i-- ) {\n\t\t\t\tdelete cache[ key[ i ] ];\n\t\t\t}\n\t\t}\n\n\t\t// Remove the expando if there's no more data\n\t\tif ( key === undefined || jQuery.isEmptyObject( cache ) ) {\n\n\t\t\t// Support: Chrome <=35 - 45\n\t\t\t// Webkit & Blink performance suffers when deleting properties\n\t\t\t// from DOM nodes, so set to undefined instead\n\t\t\t// https://bugs.chromium.org/p/chromium/issues/detail?id=378607 (bug restricted)\n\t\t\tif ( owner.nodeType ) {\n\t\t\t\towner[ this.expando ] = undefined;\n\t\t\t} else {\n\t\t\t\tdelete owner[ this.expando ];\n\t\t\t}\n\t\t}\n\t},\n\thasData: function( owner ) {\n\t\tvar cache = owner[ this.expando ];\n\t\treturn cache !== undefined && !jQuery.isEmptyObject( cache );\n\t}\n};\nvar dataPriv = new Data();\n\nvar dataUser = new Data();\n\n\n\n//\tImplementation Summary\n//\n//\t1. Enforce API surface and semantic compatibility with 1.9.x branch\n//\t2. Improve the module's maintainability by reducing the storage\n//\t\tpaths to a single mechanism.\n//\t3. Use the same single mechanism to support \"private\" and \"user\" data.\n//\t4. _Never_ expose \"private\" data to user code (TODO: Drop _data, _removeData)\n//\t5. Avoid exposing implementation details on user objects (eg. expando properties)\n//\t6. Provide a clear path for implementation upgrade to WeakMap in 2014\n\nvar rbrace = /^(?:\\{[\\w\\W]*\\}|\\[[\\w\\W]*\\])$/,\n\trmultiDash = /[A-Z]/g;\n\nfunction getData( data ) {\n\tif ( data === \"true\" ) {\n\t\treturn true;\n\t}\n\n\tif ( data === \"false\" ) {\n\t\treturn false;\n\t}\n\n\tif ( data === \"null\" ) {\n\t\treturn null;\n\t}\n\n\t// Only convert to a number if it doesn't change the string\n\tif ( data === +data + \"\" ) {\n\t\treturn +data;\n\t}\n\n\tif ( rbrace.test( data ) ) {\n\t\treturn JSON.parse( data );\n\t}\n\n\treturn data;\n}\n\nfunction dataAttr( elem, key, data ) {\n\tvar name;\n\n\t// If nothing was found internally, try to fetch any\n\t// data from the HTML5 data-* attribute\n\tif ( data === undefined && elem.nodeType === 1 ) {\n\t\tname = \"data-\" + key.replace( rmultiDash, \"-$&\" ).toLowerCase();\n\t\tdata = elem.getAttribute( name );\n\n\t\tif ( typeof data === \"string\" ) {\n\t\t\ttry {\n\t\t\t\tdata = getData( data );\n\t\t\t} catch ( e ) {}\n\n\t\t\t// Make sure we set the data so it isn't changed later\n\t\t\tdataUser.set( elem, key, data );\n\t\t} else {\n\t\t\tdata = undefined;\n\t\t}\n\t}\n\treturn data;\n}\n\njQuery.extend( {\n\thasData: function( elem ) {\n\t\treturn dataUser.hasData( elem ) || dataPriv.hasData( elem );\n\t},\n\n\tdata: function( elem, name, data ) {\n\t\treturn dataUser.access( elem, name, data );\n\t},\n\n\tremoveData: function( elem, name ) {\n\t\tdataUser.remove( elem, name );\n\t},\n\n\t// TODO: Now that all calls to _data and _removeData have been replaced\n\t// with direct calls to dataPriv methods, these can be deprecated.\n\t_data: function( elem, name, data ) {\n\t\treturn dataPriv.access( elem, name, data );\n\t},\n\n\t_removeData: function( elem, name ) {\n\t\tdataPriv.remove( elem, name );\n\t}\n} );\n\njQuery.fn.extend( {\n\tdata: function( key, value ) {\n\t\tvar i, name, data,\n\t\t\telem = this[ 0 ],\n\t\t\tattrs = elem && elem.attributes;\n\n\t\t// Gets all values\n\t\tif ( key === undefined ) {\n\t\t\tif ( this.length ) {\n\t\t\t\tdata = dataUser.get( elem );\n\n\t\t\t\tif ( elem.nodeType === 1 && !dataPriv.get( elem, \"hasDataAttrs\" ) ) {\n\t\t\t\t\ti = attrs.length;\n\t\t\t\t\twhile ( i-- ) {\n\n\t\t\t\t\t\t// Support: IE 11 only\n\t\t\t\t\t\t// The attrs elements can be null (#14894)\n\t\t\t\t\t\tif ( attrs[ i ] ) {\n\t\t\t\t\t\t\tname = attrs[ i ].name;\n\t\t\t\t\t\t\tif ( name.indexOf( \"data-\" ) === 0 ) {\n\t\t\t\t\t\t\t\tname = jQuery.camelCase( name.slice( 5 ) );\n\t\t\t\t\t\t\t\tdataAttr( elem, name, data[ name ] );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tdataPriv.set( elem, \"hasDataAttrs\", true );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn data;\n\t\t}\n\n\t\t// Sets multiple values\n\t\tif ( typeof key === \"object\" ) {\n\t\t\treturn this.each( function() {\n\t\t\t\tdataUser.set( this, key );\n\t\t\t} );\n\t\t}\n\n\t\treturn access( this, function( value ) {\n\t\t\tvar data;\n\n\t\t\t// The calling jQuery object (element matches) is not empty\n\t\t\t// (and therefore has an element appears at this[ 0 ]) and the\n\t\t\t// `value` parameter was not undefined. An empty jQuery object\n\t\t\t// will result in `undefined` for elem = this[ 0 ] which will\n\t\t\t// throw an exception if an attempt to read a data cache is made.\n\t\t\tif ( elem && value === undefined ) {\n\n\t\t\t\t// Attempt to get data from the cache\n\t\t\t\t// The key will always be camelCased in Data\n\t\t\t\tdata = dataUser.get( elem, key );\n\t\t\t\tif ( data !== undefined ) {\n\t\t\t\t\treturn data;\n\t\t\t\t}\n\n\t\t\t\t// Attempt to \"discover\" the data in\n\t\t\t\t// HTML5 custom data-* attrs\n\t\t\t\tdata = dataAttr( elem, key );\n\t\t\t\tif ( data !== undefined ) {\n\t\t\t\t\treturn data;\n\t\t\t\t}\n\n\t\t\t\t// We tried really hard, but the data doesn't exist.\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Set the data...\n\t\t\tthis.each( function() {\n\n\t\t\t\t// We always store the camelCased key\n\t\t\t\tdataUser.set( this, key, value );\n\t\t\t} );\n\t\t}, null, value, arguments.length > 1, null, true );\n\t},\n\n\tremoveData: function( key ) {\n\t\treturn this.each( function() {\n\t\t\tdataUser.remove( this, key );\n\t\t} );\n\t}\n} );\n\n\njQuery.extend( {\n\tqueue: function( elem, type, data ) {\n\t\tvar queue;\n\n\t\tif ( elem ) {\n\t\t\ttype = ( type || \"fx\" ) + \"queue\";\n\t\t\tqueue = dataPriv.get( elem, type );\n\n\t\t\t// Speed up dequeue by getting out quickly if this is just a lookup\n\t\t\tif ( data ) {\n\t\t\t\tif ( !queue || Array.isArray( data ) ) {\n\t\t\t\t\tqueue = dataPriv.access( elem, type, jQuery.makeArray( data ) );\n\t\t\t\t} else {\n\t\t\t\t\tqueue.push( data );\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn queue || [];\n\t\t}\n\t},\n\n\tdequeue: function( elem, type ) {\n\t\ttype = type || \"fx\";\n\n\t\tvar queue = jQuery.queue( elem, type ),\n\t\t\tstartLength = queue.length,\n\t\t\tfn = queue.shift(),\n\t\t\thooks = jQuery._queueHooks( elem, type ),\n\t\t\tnext = function() {\n\t\t\t\tjQuery.dequeue( elem, type );\n\t\t\t};\n\n\t\t// If the fx queue is dequeued, always remove the progress sentinel\n\t\tif ( fn === \"inprogress\" ) {\n\t\t\tfn = queue.shift();\n\t\t\tstartLength--;\n\t\t}\n\n\t\tif ( fn ) {\n\n\t\t\t// Add a progress sentinel to prevent the fx queue from being\n\t\t\t// automatically dequeued\n\t\t\tif ( type === \"fx\" ) {\n\t\t\t\tqueue.unshift( \"inprogress\" );\n\t\t\t}\n\n\t\t\t// Clear up the last queue stop function\n\t\t\tdelete hooks.stop;\n\t\t\tfn.call( elem, next, hooks );\n\t\t}\n\n\t\tif ( !startLength && hooks ) {\n\t\t\thooks.empty.fire();\n\t\t}\n\t},\n\n\t// Not public - generate a queueHooks object, or return the current one\n\t_queueHooks: function( elem, type ) {\n\t\tvar key = type + \"queueHooks\";\n\t\treturn dataPriv.get( elem, key ) || dataPriv.access( elem, key, {\n\t\t\tempty: jQuery.Callbacks( \"once memory\" ).add( function() {\n\t\t\t\tdataPriv.remove( elem, [ type + \"queue\", key ] );\n\t\t\t} )\n\t\t} );\n\t}\n} );\n\njQuery.fn.extend( {\n\tqueue: function( type, data ) {\n\t\tvar setter = 2;\n\n\t\tif ( typeof type !== \"string\" ) {\n\t\t\tdata = type;\n\t\t\ttype = \"fx\";\n\t\t\tsetter--;\n\t\t}\n\n\t\tif ( arguments.length < setter ) {\n\t\t\treturn jQuery.queue( this[ 0 ], type );\n\t\t}\n\n\t\treturn data === undefined ?\n\t\t\tthis :\n\t\t\tthis.each( function() {\n\t\t\t\tvar queue = jQuery.queue( this, type, data );\n\n\t\t\t\t// Ensure a hooks for this queue\n\t\t\t\tjQuery._queueHooks( this, type );\n\n\t\t\t\tif ( type === \"fx\" && queue[ 0 ] !== \"inprogress\" ) {\n\t\t\t\t\tjQuery.dequeue( this, type );\n\t\t\t\t}\n\t\t\t} );\n\t},\n\tdequeue: function( type ) {\n\t\treturn this.each( function() {\n\t\t\tjQuery.dequeue( this, type );\n\t\t} );\n\t},\n\tclearQueue: function( type ) {\n\t\treturn this.queue( type || \"fx\", [] );\n\t},\n\n\t// Get a promise resolved when queues of a certain type\n\t// are emptied (fx is the type by default)\n\tpromise: function( type, obj ) {\n\t\tvar tmp,\n\t\t\tcount = 1,\n\t\t\tdefer = jQuery.Deferred(),\n\t\t\telements = this,\n\t\t\ti = this.length,\n\t\t\tresolve = function() {\n\t\t\t\tif ( !( --count ) ) {\n\t\t\t\t\tdefer.resolveWith( elements, [ elements ] );\n\t\t\t\t}\n\t\t\t};\n\n\t\tif ( typeof type !== \"string\" ) {\n\t\t\tobj = type;\n\t\t\ttype = undefined;\n\t\t}\n\t\ttype = type || \"fx\";\n\n\t\twhile ( i-- ) {\n\t\t\ttmp = dataPriv.get( elements[ i ], type + \"queueHooks\" );\n\t\t\tif ( tmp && tmp.empty ) {\n\t\t\t\tcount++;\n\t\t\t\ttmp.empty.add( resolve );\n\t\t\t}\n\t\t}\n\t\tresolve();\n\t\treturn defer.promise( obj );\n\t}\n} );\nvar pnum = ( /[+-]?(?:\\d*\\.|)\\d+(?:[eE][+-]?\\d+|)/ ).source;\n\nvar rcssNum = new RegExp( \"^(?:([+-])=|)(\" + pnum + \")([a-z%]*)$\", \"i\" );\n\n\nvar cssExpand = [ \"Top\", \"Right\", \"Bottom\", \"Left\" ];\n\nvar isHiddenWithinTree = function( elem, el ) {\n\n\t\t// isHiddenWithinTree might be called from jQuery#filter function;\n\t\t// in that case, element will be second argument\n\t\telem = el || elem;\n\n\t\t// Inline style trumps all\n\t\treturn elem.style.display === \"none\" ||\n\t\t\telem.style.display === \"\" &&\n\n\t\t\t// Otherwise, check computed style\n\t\t\t// Support: Firefox <=43 - 45\n\t\t\t// Disconnected elements can have computed display: none, so first confirm that elem is\n\t\t\t// in the document.\n\t\t\tjQuery.contains( elem.ownerDocument, elem ) &&\n\n\t\t\tjQuery.css( elem, \"display\" ) === \"none\";\n\t};\n\nvar swap = function( elem, options, callback, args ) {\n\tvar ret, name,\n\t\told = {};\n\n\t// Remember the old values, and insert the new ones\n\tfor ( name in options ) {\n\t\told[ name ] = elem.style[ name ];\n\t\telem.style[ name ] = options[ name ];\n\t}\n\n\tret = callback.apply( elem, args || [] );\n\n\t// Revert the old values\n\tfor ( name in options ) {\n\t\telem.style[ name ] = old[ name ];\n\t}\n\n\treturn ret;\n};\n\n\n\n\nfunction adjustCSS( elem, prop, valueParts, tween ) {\n\tvar adjusted,\n\t\tscale = 1,\n\t\tmaxIterations = 20,\n\t\tcurrentValue = tween ?\n\t\t\tfunction() {\n\t\t\t\treturn tween.cur();\n\t\t\t} :\n\t\t\tfunction() {\n\t\t\t\treturn jQuery.css( elem, prop, \"\" );\n\t\t\t},\n\t\tinitial = currentValue(),\n\t\tunit = valueParts && valueParts[ 3 ] || ( jQuery.cssNumber[ prop ] ? \"\" : \"px\" ),\n\n\t\t// Starting value computation is required for potential unit mismatches\n\t\tinitialInUnit = ( jQuery.cssNumber[ prop ] || unit !== \"px\" && +initial ) &&\n\t\t\trcssNum.exec( jQuery.css( elem, prop ) );\n\n\tif ( initialInUnit && initialInUnit[ 3 ] !== unit ) {\n\n\t\t// Trust units reported by jQuery.css\n\t\tunit = unit || initialInUnit[ 3 ];\n\n\t\t// Make sure we update the tween properties later on\n\t\tvalueParts = valueParts || [];\n\n\t\t// Iteratively approximate from a nonzero starting point\n\t\tinitialInUnit = +initial || 1;\n\n\t\tdo {\n\n\t\t\t// If previous iteration zeroed out, double until we get *something*.\n\t\t\t// Use string for doubling so we don't accidentally see scale as unchanged below\n\t\t\tscale = scale || \".5\";\n\n\t\t\t// Adjust and apply\n\t\t\tinitialInUnit = initialInUnit / scale;\n\t\t\tjQuery.style( elem, prop, initialInUnit + unit );\n\n\t\t// Update scale, tolerating zero or NaN from tween.cur()\n\t\t// Break the loop if scale is unchanged or perfect, or if we've just had enough.\n\t\t} while (\n\t\t\tscale !== ( scale = currentValue() / initial ) && scale !== 1 && --maxIterations\n\t\t);\n\t}\n\n\tif ( valueParts ) {\n\t\tinitialInUnit = +initialInUnit || +initial || 0;\n\n\t\t// Apply relative offset (+=/-=) if specified\n\t\tadjusted = valueParts[ 1 ] ?\n\t\t\tinitialInUnit + ( valueParts[ 1 ] + 1 ) * valueParts[ 2 ] :\n\t\t\t+valueParts[ 2 ];\n\t\tif ( tween ) {\n\t\t\ttween.unit = unit;\n\t\t\ttween.start = initialInUnit;\n\t\t\ttween.end = adjusted;\n\t\t}\n\t}\n\treturn adjusted;\n}\n\n\nvar defaultDisplayMap = {};\n\nfunction getDefaultDisplay( elem ) {\n\tvar temp,\n\t\tdoc = elem.ownerDocument,\n\t\tnodeName = elem.nodeName,\n\t\tdisplay = defaultDisplayMap[ nodeName ];\n\n\tif ( display ) {\n\t\treturn display;\n\t}\n\n\ttemp = doc.body.appendChild( doc.createElement( nodeName ) );\n\tdisplay = jQuery.css( temp, \"display\" );\n\n\ttemp.parentNode.removeChild( temp );\n\n\tif ( display === \"none\" ) {\n\t\tdisplay = \"block\";\n\t}\n\tdefaultDisplayMap[ nodeName ] = display;\n\n\treturn display;\n}\n\nfunction showHide( elements, show ) {\n\tvar display, elem,\n\t\tvalues = [],\n\t\tindex = 0,\n\t\tlength = elements.length;\n\n\t// Determine new display value for elements that need to change\n\tfor ( ; index < length; index++ ) {\n\t\telem = elements[ index ];\n\t\tif ( !elem.style ) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tdisplay = elem.style.display;\n\t\tif ( show ) {\n\n\t\t\t// Since we force visibility upon cascade-hidden elements, an immediate (and slow)\n\t\t\t// check is required in this first loop unless we have a nonempty display value (either\n\t\t\t// inline or about-to-be-restored)\n\t\t\tif ( display === \"none\" ) {\n\t\t\t\tvalues[ index ] = dataPriv.get( elem, \"display\" ) || null;\n\t\t\t\tif ( !values[ index ] ) {\n\t\t\t\t\telem.style.display = \"\";\n\t\t\t\t}\n\t\t\t}\n\t\t\tif ( elem.style.display === \"\" && isHiddenWithinTree( elem ) ) {\n\t\t\t\tvalues[ index ] = getDefaultDisplay( elem );\n\t\t\t}\n\t\t} else {\n\t\t\tif ( display !== \"none\" ) {\n\t\t\t\tvalues[ index ] = \"none\";\n\n\t\t\t\t// Remember what we're overwriting\n\t\t\t\tdataPriv.set( elem, \"display\", display );\n\t\t\t}\n\t\t}\n\t}\n\n\t// Set the display of the elements in a second loop to avoid constant reflow\n\tfor ( index = 0; index < length; index++ ) {\n\t\tif ( values[ index ] != null ) {\n\t\t\telements[ index ].style.display = values[ index ];\n\t\t}\n\t}\n\n\treturn elements;\n}\n\njQuery.fn.extend( {\n\tshow: function() {\n\t\treturn showHide( this, true );\n\t},\n\thide: function() {\n\t\treturn showHide( this );\n\t},\n\ttoggle: function( state ) {\n\t\tif ( typeof state === \"boolean\" ) {\n\t\t\treturn state ? this.show() : this.hide();\n\t\t}\n\n\t\treturn this.each( function() {\n\t\t\tif ( isHiddenWithinTree( this ) ) {\n\t\t\t\tjQuery( this ).show();\n\t\t\t} else {\n\t\t\t\tjQuery( this ).hide();\n\t\t\t}\n\t\t} );\n\t}\n} );\nvar rcheckableType = ( /^(?:checkbox|radio)$/i );\n\nvar rtagName = ( /<([a-z][^\\/\\0>\\x20\\t\\r\\n\\f]+)/i );\n\nvar rscriptType = ( /^$|\\/(?:java|ecma)script/i );\n\n\n\n// We have to close these tags to support XHTML (#13200)\nvar wrapMap = {\n\n\t// Support: IE <=9 only\n\toption: [ 1, \"<select multiple='multiple'>\", \"</select>\" ],\n\n\t// XHTML parsers do not magically insert elements in the\n\t// same way that tag soup parsers do. So we cannot shorten\n\t// this by omitting <tbody> or other required elements.\n\tthead: [ 1, \"<table>\", \"</table>\" ],\n\tcol: [ 2, \"<table><colgroup>\", \"</colgroup></table>\" ],\n\ttr: [ 2, \"<table><tbody>\", \"</tbody></table>\" ],\n\ttd: [ 3, \"<table><tbody><tr>\", \"</tr></tbody></table>\" ],\n\n\t_default: [ 0, \"\", \"\" ]\n};\n\n// Support: IE <=9 only\nwrapMap.optgroup = wrapMap.option;\n\nwrapMap.tbody = wrapMap.tfoot = wrapMap.colgroup = wrapMap.caption = wrapMap.thead;\nwrapMap.th = wrapMap.td;\n\n\nfunction getAll( context, tag ) {\n\n\t// Support: IE <=9 - 11 only\n\t// Use typeof to avoid zero-argument method invocation on host objects (#15151)\n\tvar ret;\n\n\tif ( typeof context.getElementsByTagName !== \"undefined\" ) {\n\t\tret = context.getElementsByTagName( tag || \"*\" );\n\n\t} else if ( typeof context.querySelectorAll !== \"undefined\" ) {\n\t\tret = context.querySelectorAll( tag || \"*\" );\n\n\t} else {\n\t\tret = [];\n\t}\n\n\tif ( tag === undefined || tag && nodeName( context, tag ) ) {\n\t\treturn jQuery.merge( [ context ], ret );\n\t}\n\n\treturn ret;\n}\n\n\n// Mark scripts as having already been evaluated\nfunction setGlobalEval( elems, refElements ) {\n\tvar i = 0,\n\t\tl = elems.length;\n\n\tfor ( ; i < l; i++ ) {\n\t\tdataPriv.set(\n\t\t\telems[ i ],\n\t\t\t\"globalEval\",\n\t\t\t!refElements || dataPriv.get( refElements[ i ], \"globalEval\" )\n\t\t);\n\t}\n}\n\n\nvar rhtml = /<|&#?\\w+;/;\n\nfunction buildFragment( elems, context, scripts, selection, ignored ) {\n\tvar elem, tmp, tag, wrap, contains, j,\n\t\tfragment = context.createDocumentFragment(),\n\t\tnodes = [],\n\t\ti = 0,\n\t\tl = elems.length;\n\n\tfor ( ; i < l; i++ ) {\n\t\telem = elems[ i ];\n\n\t\tif ( elem || elem === 0 ) {\n\n\t\t\t// Add nodes directly\n\t\t\tif ( jQuery.type( elem ) === \"object\" ) {\n\n\t\t\t\t// Support: Android <=4.0 only, PhantomJS 1 only\n\t\t\t\t// push.apply(_, arraylike) throws on ancient WebKit\n\t\t\t\tjQuery.merge( nodes, elem.nodeType ? [ elem ] : elem );\n\n\t\t\t// Convert non-html into a text node\n\t\t\t} else if ( !rhtml.test( elem ) ) {\n\t\t\t\tnodes.push( context.createTextNode( elem ) );\n\n\t\t\t// Convert html into DOM nodes\n\t\t\t} else {\n\t\t\t\ttmp = tmp || fragment.appendChild( context.createElement( \"div\" ) );\n\n\t\t\t\t// Deserialize a standard representation\n\t\t\t\ttag = ( rtagName.exec( elem ) || [ \"\", \"\" ] )[ 1 ].toLowerCase();\n\t\t\t\twrap = wrapMap[ tag ] || wrapMap._default;\n\t\t\t\ttmp.innerHTML = wrap[ 1 ] + jQuery.htmlPrefilter( elem ) + wrap[ 2 ];\n\n\t\t\t\t// Descend through wrappers to the right content\n\t\t\t\tj = wrap[ 0 ];\n\t\t\t\twhile ( j-- ) {\n\t\t\t\t\ttmp = tmp.lastChild;\n\t\t\t\t}\n\n\t\t\t\t// Support: Android <=4.0 only, PhantomJS 1 only\n\t\t\t\t// push.apply(_, arraylike) throws on ancient WebKit\n\t\t\t\tjQuery.merge( nodes, tmp.childNodes );\n\n\t\t\t\t// Remember the top-level container\n\t\t\t\ttmp = fragment.firstChild;\n\n\t\t\t\t// Ensure the created nodes are orphaned (#12392)\n\t\t\t\ttmp.textContent = \"\";\n\t\t\t}\n\t\t}\n\t}\n\n\t// Remove wrapper from fragment\n\tfragment.textContent = \"\";\n\n\ti = 0;\n\twhile ( ( elem = nodes[ i++ ] ) ) {\n\n\t\t// Skip elements already in the context collection (trac-4087)\n\t\tif ( selection && jQuery.inArray( elem, selection ) > -1 ) {\n\t\t\tif ( ignored ) {\n\t\t\t\tignored.push( elem );\n\t\t\t}\n\t\t\tcontinue;\n\t\t}\n\n\t\tcontains = jQuery.contains( elem.ownerDocument, elem );\n\n\t\t// Append to fragment\n\t\ttmp = getAll( fragment.appendChild( elem ), \"script\" );\n\n\t\t// Preserve script evaluation history\n\t\tif ( contains ) {\n\t\t\tsetGlobalEval( tmp );\n\t\t}\n\n\t\t// Capture executables\n\t\tif ( scripts ) {\n\t\t\tj = 0;\n\t\t\twhile ( ( elem = tmp[ j++ ] ) ) {\n\t\t\t\tif ( rscriptType.test( elem.type || \"\" ) ) {\n\t\t\t\t\tscripts.push( elem );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn fragment;\n}\n\n\n( function() {\n\tvar fragment = document.createDocumentFragment(),\n\t\tdiv = fragment.appendChild( document.createElement( \"div\" ) ),\n\t\tinput = document.createElement( \"input\" );\n\n\t// Support: Android 4.0 - 4.3 only\n\t// Check state lost if the name is set (#11217)\n\t// Support: Windows Web Apps (WWA)\n\t// `name` and `type` must use .setAttribute for WWA (#14901)\n\tinput.setAttribute( \"type\", \"radio\" );\n\tinput.setAttribute( \"checked\", \"checked\" );\n\tinput.setAttribute( \"name\", \"t\" );\n\n\tdiv.appendChild( input );\n\n\t// Support: Android <=4.1 only\n\t// Older WebKit doesn't clone checked state correctly in fragments\n\tsupport.checkClone = div.cloneNode( true ).cloneNode( true ).lastChild.checked;\n\n\t// Support: IE <=11 only\n\t// Make sure textarea (and checkbox) defaultValue is properly cloned\n\tdiv.innerHTML = \"<textarea>x</textarea>\";\n\tsupport.noCloneChecked = !!div.cloneNode( true ).lastChild.defaultValue;\n} )();\nvar documentElement = document.documentElement;\n\n\n\nvar\n\trkeyEvent = /^key/,\n\trmouseEvent = /^(?:mouse|pointer|contextmenu|drag|drop)|click/,\n\trtypenamespace = /^([^.]*)(?:\\.(.+)|)/;\n\nfunction returnTrue() {\n\treturn true;\n}\n\nfunction returnFalse() {\n\treturn false;\n}\n\n// Support: IE <=9 only\n// See #13393 for more info\nfunction safeActiveElement() {\n\ttry {\n\t\treturn document.activeElement;\n\t} catch ( err ) { }\n}\n\nfunction on( elem, types, selector, data, fn, one ) {\n\tvar origFn, type;\n\n\t// Types can be a map of types/handlers\n\tif ( typeof types === \"object\" ) {\n\n\t\t// ( types-Object, selector, data )\n\t\tif ( typeof selector !== \"string\" ) {\n\n\t\t\t// ( types-Object, data )\n\t\t\tdata = data || selector;\n\t\t\tselector = undefined;\n\t\t}\n\t\tfor ( type in types ) {\n\t\t\ton( elem, type, selector, data, types[ type ], one );\n\t\t}\n\t\treturn elem;\n\t}\n\n\tif ( data == null && fn == null ) {\n\n\t\t// ( types, fn )\n\t\tfn = selector;\n\t\tdata = selector = undefined;\n\t} else if ( fn == null ) {\n\t\tif ( typeof selector === \"string\" ) {\n\n\t\t\t// ( types, selector, fn )\n\t\t\tfn = data;\n\t\t\tdata = undefined;\n\t\t} else {\n\n\t\t\t// ( types, data, fn )\n\t\t\tfn = data;\n\t\t\tdata = selector;\n\t\t\tselector = undefined;\n\t\t}\n\t}\n\tif ( fn === false ) {\n\t\tfn = returnFalse;\n\t} else if ( !fn ) {\n\t\treturn elem;\n\t}\n\n\tif ( one === 1 ) {\n\t\torigFn = fn;\n\t\tfn = function( event ) {\n\n\t\t\t// Can use an empty set, since event contains the info\n\t\t\tjQuery().off( event );\n\t\t\treturn origFn.apply( this, arguments );\n\t\t};\n\n\t\t// Use same guid so caller can remove using origFn\n\t\tfn.guid = origFn.guid || ( origFn.guid = jQuery.guid++ );\n\t}\n\treturn elem.each( function() {\n\t\tjQuery.event.add( this, types, fn, data, selector );\n\t} );\n}\n\n/*\n * Helper functions for managing events -- not part of the public interface.\n * Props to Dean Edwards' addEvent library for many of the ideas.\n */\njQuery.event = {\n\n\tglobal: {},\n\n\tadd: function( elem, types, handler, data, selector ) {\n\n\t\tvar handleObjIn, eventHandle, tmp,\n\t\t\tevents, t, handleObj,\n\t\t\tspecial, handlers, type, namespaces, origType,\n\t\t\telemData = dataPriv.get( elem );\n\n\t\t// Don't attach events to noData or text/comment nodes (but allow plain objects)\n\t\tif ( !elemData ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Caller can pass in an object of custom data in lieu of the handler\n\t\tif ( handler.handler ) {\n\t\t\thandleObjIn = handler;\n\t\t\thandler = handleObjIn.handler;\n\t\t\tselector = handleObjIn.selector;\n\t\t}\n\n\t\t// Ensure that invalid selectors throw exceptions at attach time\n\t\t// Evaluate against documentElement in case elem is a non-element node (e.g., document)\n\t\tif ( selector ) {\n\t\t\tjQuery.find.matchesSelector( documentElement, selector );\n\t\t}\n\n\t\t// Make sure that the handler has a unique ID, used to find/remove it later\n\t\tif ( !handler.guid ) {\n\t\t\thandler.guid = jQuery.guid++;\n\t\t}\n\n\t\t// Init the element's event structure and main handler, if this is the first\n\t\tif ( !( events = elemData.events ) ) {\n\t\t\tevents = elemData.events = {};\n\t\t}\n\t\tif ( !( eventHandle = elemData.handle ) ) {\n\t\t\teventHandle = elemData.handle = function( e ) {\n\n\t\t\t\t// Discard the second event of a jQuery.event.trigger() and\n\t\t\t\t// when an event is called after a page has unloaded\n\t\t\t\treturn typeof jQuery !== \"undefined\" && jQuery.event.triggered !== e.type ?\n\t\t\t\t\tjQuery.event.dispatch.apply( elem, arguments ) : undefined;\n\t\t\t};\n\t\t}\n\n\t\t// Handle multiple events separated by a space\n\t\ttypes = ( types || \"\" ).match( rnothtmlwhite ) || [ \"\" ];\n\t\tt = types.length;\n\t\twhile ( t-- ) {\n\t\t\ttmp = rtypenamespace.exec( types[ t ] ) || [];\n\t\t\ttype = origType = tmp[ 1 ];\n\t\t\tnamespaces = ( tmp[ 2 ] || \"\" ).split( \".\" ).sort();\n\n\t\t\t// There *must* be a type, no attaching namespace-only handlers\n\t\t\tif ( !type ) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// If event changes its type, use the special event handlers for the changed type\n\t\t\tspecial = jQuery.event.special[ type ] || {};\n\n\t\t\t// If selector defined, determine special event api type, otherwise given type\n\t\t\ttype = ( selector ? special.delegateType : special.bindType ) || type;\n\n\t\t\t// Update special based on newly reset type\n\t\t\tspecial = jQuery.event.special[ type ] || {};\n\n\t\t\t// handleObj is passed to all event handlers\n\t\t\thandleObj = jQuery.extend( {\n\t\t\t\ttype: type,\n\t\t\t\torigType: origType,\n\t\t\t\tdata: data,\n\t\t\t\thandler: handler,\n\t\t\t\tguid: handler.guid,\n\t\t\t\tselector: selector,\n\t\t\t\tneedsContext: selector && jQuery.expr.match.needsContext.test( selector ),\n\t\t\t\tnamespace: namespaces.join( \".\" )\n\t\t\t}, handleObjIn );\n\n\t\t\t// Init the event handler queue if we're the first\n\t\t\tif ( !( handlers = events[ type ] ) ) {\n\t\t\t\thandlers = events[ type ] = [];\n\t\t\t\thandlers.delegateCount = 0;\n\n\t\t\t\t// Only use addEventListener if the special events handler returns false\n\t\t\t\tif ( !special.setup ||\n\t\t\t\t\tspecial.setup.call( elem, data, namespaces, eventHandle ) === false ) {\n\n\t\t\t\t\tif ( elem.addEventListener ) {\n\t\t\t\t\t\telem.addEventListener( type, eventHandle );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif ( special.add ) {\n\t\t\t\tspecial.add.call( elem, handleObj );\n\n\t\t\t\tif ( !handleObj.handler.guid ) {\n\t\t\t\t\thandleObj.handler.guid = handler.guid;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Add to the element's handler list, delegates in front\n\t\t\tif ( selector ) {\n\t\t\t\thandlers.splice( handlers.delegateCount++, 0, handleObj );\n\t\t\t} else {\n\t\t\t\thandlers.push( handleObj );\n\t\t\t}\n\n\t\t\t// Keep track of which events have ever been used, for event optimization\n\t\t\tjQuery.event.global[ type ] = true;\n\t\t}\n\n\t},\n\n\t// Detach an event or set of events from an element\n\tremove: function( elem, types, handler, selector, mappedTypes ) {\n\n\t\tvar j, origCount, tmp,\n\t\t\tevents, t, handleObj,\n\t\t\tspecial, handlers, type, namespaces, origType,\n\t\t\telemData = dataPriv.hasData( elem ) && dataPriv.get( elem );\n\n\t\tif ( !elemData || !( events = elemData.events ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Once for each type.namespace in types; type may be omitted\n\t\ttypes = ( types || \"\" ).match( rnothtmlwhite ) || [ \"\" ];\n\t\tt = types.length;\n\t\twhile ( t-- ) {\n\t\t\ttmp = rtypenamespace.exec( types[ t ] ) || [];\n\t\t\ttype = origType = tmp[ 1 ];\n\t\t\tnamespaces = ( tmp[ 2 ] || \"\" ).split( \".\" ).sort();\n\n\t\t\t// Unbind all events (on this namespace, if provided) for the element\n\t\t\tif ( !type ) {\n\t\t\t\tfor ( type in events ) {\n\t\t\t\t\tjQuery.event.remove( elem, type + types[ t ], handler, selector, true );\n\t\t\t\t}\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tspecial = jQuery.event.special[ type ] || {};\n\t\t\ttype = ( selector ? special.delegateType : special.bindType ) || type;\n\t\t\thandlers = events[ type ] || [];\n\t\t\ttmp = tmp[ 2 ] &&\n\t\t\t\tnew RegExp( \"(^|\\\\.)\" + namespaces.join( \"\\\\.(?:.*\\\\.|)\" ) + \"(\\\\.|$)\" );\n\n\t\t\t// Remove matching events\n\t\t\torigCount = j = handlers.length;\n\t\t\twhile ( j-- ) {\n\t\t\t\thandleObj = handlers[ j ];\n\n\t\t\t\tif ( ( mappedTypes || origType === handleObj.origType ) &&\n\t\t\t\t\t( !handler || handler.guid === handleObj.guid ) &&\n\t\t\t\t\t( !tmp || tmp.test( handleObj.namespace ) ) &&\n\t\t\t\t\t( !selector || selector === handleObj.selector ||\n\t\t\t\t\t\tselector === \"**\" && handleObj.selector ) ) {\n\t\t\t\t\thandlers.splice( j, 1 );\n\n\t\t\t\t\tif ( handleObj.selector ) {\n\t\t\t\t\t\thandlers.delegateCount--;\n\t\t\t\t\t}\n\t\t\t\t\tif ( special.remove ) {\n\t\t\t\t\t\tspecial.remove.call( elem, handleObj );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Remove generic event handler if we removed something and no more handlers exist\n\t\t\t// (avoids potential for endless recursion during removal of special event handlers)\n\t\t\tif ( origCount && !handlers.length ) {\n\t\t\t\tif ( !special.teardown ||\n\t\t\t\t\tspecial.teardown.call( elem, namespaces, elemData.handle ) === false ) {\n\n\t\t\t\t\tjQuery.removeEvent( elem, type, elemData.handle );\n\t\t\t\t}\n\n\t\t\t\tdelete events[ type ];\n\t\t\t}\n\t\t}\n\n\t\t// Remove data and the expando if it's no longer used\n\t\tif ( jQuery.isEmptyObject( events ) ) {\n\t\t\tdataPriv.remove( elem, \"handle events\" );\n\t\t}\n\t},\n\n\tdispatch: function( nativeEvent ) {\n\n\t\t// Make a writable jQuery.Event from the native event object\n\t\tvar event = jQuery.event.fix( nativeEvent );\n\n\t\tvar i, j, ret, matched, handleObj, handlerQueue,\n\t\t\targs = new Array( arguments.length ),\n\t\t\thandlers = ( dataPriv.get( this, \"events\" ) || {} )[ event.type ] || [],\n\t\t\tspecial = jQuery.event.special[ event.type ] || {};\n\n\t\t// Use the fix-ed jQuery.Event rather than the (read-only) native event\n\t\targs[ 0 ] = event;\n\n\t\tfor ( i = 1; i < arguments.length; i++ ) {\n\t\t\targs[ i ] = arguments[ i ];\n\t\t}\n\n\t\tevent.delegateTarget = this;\n\n\t\t// Call the preDispatch hook for the mapped type, and let it bail if desired\n\t\tif ( special.preDispatch && special.preDispatch.call( this, event ) === false ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Determine handlers\n\t\thandlerQueue = jQuery.event.handlers.call( this, event, handlers );\n\n\t\t// Run delegates first; they may want to stop propagation beneath us\n\t\ti = 0;\n\t\twhile ( ( matched = handlerQueue[ i++ ] ) && !event.isPropagationStopped() ) {\n\t\t\tevent.currentTarget = matched.elem;\n\n\t\t\tj = 0;\n\t\t\twhile ( ( handleObj = matched.handlers[ j++ ] ) &&\n\t\t\t\t!event.isImmediatePropagationStopped() ) {\n\n\t\t\t\t// Triggered event must either 1) have no namespace, or 2) have namespace(s)\n\t\t\t\t// a subset or equal to those in the bound event (both can have no namespace).\n\t\t\t\tif ( !event.rnamespace || event.rnamespace.test( handleObj.namespace ) ) {\n\n\t\t\t\t\tevent.handleObj = handleObj;\n\t\t\t\t\tevent.data = handleObj.data;\n\n\t\t\t\t\tret = ( ( jQuery.event.special[ handleObj.origType ] || {} ).handle ||\n\t\t\t\t\t\thandleObj.handler ).apply( matched.elem, args );\n\n\t\t\t\t\tif ( ret !== undefined ) {\n\t\t\t\t\t\tif ( ( event.result = ret ) === false ) {\n\t\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Call the postDispatch hook for the mapped type\n\t\tif ( special.postDispatch ) {\n\t\t\tspecial.postDispatch.call( this, event );\n\t\t}\n\n\t\treturn event.result;\n\t},\n\n\thandlers: function( event, handlers ) {\n\t\tvar i, handleObj, sel, matchedHandlers, matchedSelectors,\n\t\t\thandlerQueue = [],\n\t\t\tdelegateCount = handlers.delegateCount,\n\t\t\tcur = event.target;\n\n\t\t// Find delegate handlers\n\t\tif ( delegateCount &&\n\n\t\t\t// Support: IE <=9\n\t\t\t// Black-hole SVG <use> instance trees (trac-13180)\n\t\t\tcur.nodeType &&\n\n\t\t\t// Support: Firefox <=42\n\t\t\t// Suppress spec-violating clicks indicating a non-primary pointer button (trac-3861)\n\t\t\t// https://www.w3.org/TR/DOM-Level-3-Events/#event-type-click\n\t\t\t// Support: IE 11 only\n\t\t\t// ...but not arrow key \"clicks\" of radio inputs, which can have `button` -1 (gh-2343)\n\t\t\t!( event.type === \"click\" && event.button >= 1 ) ) {\n\n\t\t\tfor ( ; cur !== this; cur = cur.parentNode || this ) {\n\n\t\t\t\t// Don't check non-elements (#13208)\n\t\t\t\t// Don't process clicks on disabled elements (#6911, #8165, #11382, #11764)\n\t\t\t\tif ( cur.nodeType === 1 && !( event.type === \"click\" && cur.disabled === true ) ) {\n\t\t\t\t\tmatchedHandlers = [];\n\t\t\t\t\tmatchedSelectors = {};\n\t\t\t\t\tfor ( i = 0; i < delegateCount; i++ ) {\n\t\t\t\t\t\thandleObj = handlers[ i ];\n\n\t\t\t\t\t\t// Don't conflict with Object.prototype properties (#13203)\n\t\t\t\t\t\tsel = handleObj.selector + \" \";\n\n\t\t\t\t\t\tif ( matchedSelectors[ sel ] === undefined ) {\n\t\t\t\t\t\t\tmatchedSelectors[ sel ] = handleObj.needsContext ?\n\t\t\t\t\t\t\t\tjQuery( sel, this ).index( cur ) > -1 :\n\t\t\t\t\t\t\t\tjQuery.find( sel, this, null, [ cur ] ).length;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif ( matchedSelectors[ sel ] ) {\n\t\t\t\t\t\t\tmatchedHandlers.push( handleObj );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif ( matchedHandlers.length ) {\n\t\t\t\t\t\thandlerQueue.push( { elem: cur, handlers: matchedHandlers } );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Add the remaining (directly-bound) handlers\n\t\tcur = this;\n\t\tif ( delegateCount < handlers.length ) {\n\t\t\thandlerQueue.push( { elem: cur, handlers: handlers.slice( delegateCount ) } );\n\t\t}\n\n\t\treturn handlerQueue;\n\t},\n\n\taddProp: function( name, hook ) {\n\t\tObject.defineProperty( jQuery.Event.prototype, name, {\n\t\t\tenumerable: true,\n\t\t\tconfigurable: true,\n\n\t\t\tget: jQuery.isFunction( hook ) ?\n\t\t\t\tfunction() {\n\t\t\t\t\tif ( this.originalEvent ) {\n\t\t\t\t\t\t\treturn hook( this.originalEvent );\n\t\t\t\t\t}\n\t\t\t\t} :\n\t\t\t\tfunction() {\n\t\t\t\t\tif ( this.originalEvent ) {\n\t\t\t\t\t\t\treturn this.originalEvent[ name ];\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\tset: function( value ) {\n\t\t\t\tObject.defineProperty( this, name, {\n\t\t\t\t\tenumerable: true,\n\t\t\t\t\tconfigurable: true,\n\t\t\t\t\twritable: true,\n\t\t\t\t\tvalue: value\n\t\t\t\t} );\n\t\t\t}\n\t\t} );\n\t},\n\n\tfix: function( originalEvent ) {\n\t\treturn originalEvent[ jQuery.expando ] ?\n\t\t\toriginalEvent :\n\t\t\tnew jQuery.Event( originalEvent );\n\t},\n\n\tspecial: {\n\t\tload: {\n\n\t\t\t// Prevent triggered image.load events from bubbling to window.load\n\t\t\tnoBubble: true\n\t\t},\n\t\tfocus: {\n\n\t\t\t// Fire native event if possible so blur/focus sequence is correct\n\t\t\ttrigger: function() {\n\t\t\t\tif ( this !== safeActiveElement() && this.focus ) {\n\t\t\t\t\tthis.focus();\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t},\n\t\t\tdelegateType: \"focusin\"\n\t\t},\n\t\tblur: {\n\t\t\ttrigger: function() {\n\t\t\t\tif ( this === safeActiveElement() && this.blur ) {\n\t\t\t\t\tthis.blur();\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t},\n\t\t\tdelegateType: \"focusout\"\n\t\t},\n\t\tclick: {\n\n\t\t\t// For checkbox, fire native event so checked state will be right\n\t\t\ttrigger: function() {\n\t\t\t\tif ( this.type === \"checkbox\" && this.click && nodeName( this, \"input\" ) ) {\n\t\t\t\t\tthis.click();\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t// For cross-browser consistency, don't fire native .click() on links\n\t\t\t_default: function( event ) {\n\t\t\t\treturn nodeName( event.target, \"a\" );\n\t\t\t}\n\t\t},\n\n\t\tbeforeunload: {\n\t\t\tpostDispatch: function( event ) {\n\n\t\t\t\t// Support: Firefox 20+\n\t\t\t\t// Firefox doesn't alert if the returnValue field is not set.\n\t\t\t\tif ( event.result !== undefined && event.originalEvent ) {\n\t\t\t\t\tevent.originalEvent.returnValue = event.result;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n};\n\njQuery.removeEvent = function( elem, type, handle ) {\n\n\t// This \"if\" is needed for plain objects\n\tif ( elem.removeEventListener ) {\n\t\telem.removeEventListener( type, handle );\n\t}\n};\n\njQuery.Event = function( src, props ) {\n\n\t// Allow instantiation without the 'new' keyword\n\tif ( !( this instanceof jQuery.Event ) ) {\n\t\treturn new jQuery.Event( src, props );\n\t}\n\n\t// Event object\n\tif ( src && src.type ) {\n\t\tthis.originalEvent = src;\n\t\tthis.type = src.type;\n\n\t\t// Events bubbling up the document may have been marked as prevented\n\t\t// by a handler lower down the tree; reflect the correct value.\n\t\tthis.isDefaultPrevented = src.defaultPrevented ||\n\t\t\t\tsrc.defaultPrevented === undefined &&\n\n\t\t\t\t// Support: Android <=2.3 only\n\t\t\t\tsrc.returnValue === false ?\n\t\t\treturnTrue :\n\t\t\treturnFalse;\n\n\t\t// Create target properties\n\t\t// Support: Safari <=6 - 7 only\n\t\t// Target should not be a text node (#504, #13143)\n\t\tthis.target = ( src.target && src.target.nodeType === 3 ) ?\n\t\t\tsrc.target.parentNode :\n\t\t\tsrc.target;\n\n\t\tthis.currentTarget = src.currentTarget;\n\t\tthis.relatedTarget = src.relatedTarget;\n\n\t// Event type\n\t} else {\n\t\tthis.type = src;\n\t}\n\n\t// Put explicitly provided properties onto the event object\n\tif ( props ) {\n\t\tjQuery.extend( this, props );\n\t}\n\n\t// Create a timestamp if incoming event doesn't have one\n\tthis.timeStamp = src && src.timeStamp || jQuery.now();\n\n\t// Mark it as fixed\n\tthis[ jQuery.expando ] = true;\n};\n\n// jQuery.Event is based on DOM3 Events as specified by the ECMAScript Language Binding\n// https://www.w3.org/TR/2003/WD-DOM-Level-3-Events-20030331/ecma-script-binding.html\njQuery.Event.prototype = {\n\tconstructor: jQuery.Event,\n\tisDefaultPrevented: returnFalse,\n\tisPropagationStopped: returnFalse,\n\tisImmediatePropagationStopped: returnFalse,\n\tisSimulated: false,\n\n\tpreventDefault: function() {\n\t\tvar e = this.originalEvent;\n\n\t\tthis.isDefaultPrevented = returnTrue;\n\n\t\tif ( e && !this.isSimulated ) {\n\t\t\te.preventDefault();\n\t\t}\n\t},\n\tstopPropagation: function() {\n\t\tvar e = this.originalEvent;\n\n\t\tthis.isPropagationStopped = returnTrue;\n\n\t\tif ( e && !this.isSimulated ) {\n\t\t\te.stopPropagation();\n\t\t}\n\t},\n\tstopImmediatePropagation: function() {\n\t\tvar e = this.originalEvent;\n\n\t\tthis.isImmediatePropagationStopped = returnTrue;\n\n\t\tif ( e && !this.isSimulated ) {\n\t\t\te.stopImmediatePropagation();\n\t\t}\n\n\t\tthis.stopPropagation();\n\t}\n};\n\n// Includes all common event props including KeyEvent and MouseEvent specific props\njQuery.each( {\n\taltKey: true,\n\tbubbles: true,\n\tcancelable: true,\n\tchangedTouches: true,\n\tctrlKey: true,\n\tdetail: true,\n\teventPhase: true,\n\tmetaKey: true,\n\tpageX: true,\n\tpageY: true,\n\tshiftKey: true,\n\tview: true,\n\t\"char\": true,\n\tcharCode: true,\n\tkey: true,\n\tkeyCode: true,\n\tbutton: true,\n\tbuttons: true,\n\tclientX: true,\n\tclientY: true,\n\toffsetX: true,\n\toffsetY: true,\n\tpointerId: true,\n\tpointerType: true,\n\tscreenX: true,\n\tscreenY: true,\n\ttargetTouches: true,\n\ttoElement: true,\n\ttouches: true,\n\n\twhich: function( event ) {\n\t\tvar button = event.button;\n\n\t\t// Add which for key events\n\t\tif ( event.which == null && rkeyEvent.test( event.type ) ) {\n\t\t\treturn event.charCode != null ? event.charCode : event.keyCode;\n\t\t}\n\n\t\t// Add which for click: 1 === left; 2 === middle; 3 === right\n\t\tif ( !event.which && button !== undefined && rmouseEvent.test( event.type ) ) {\n\t\t\tif ( button & 1 ) {\n\t\t\t\treturn 1;\n\t\t\t}\n\n\t\t\tif ( button & 2 ) {\n\t\t\t\treturn 3;\n\t\t\t}\n\n\t\t\tif ( button & 4 ) {\n\t\t\t\treturn 2;\n\t\t\t}\n\n\t\t\treturn 0;\n\t\t}\n\n\t\treturn event.which;\n\t}\n}, jQuery.event.addProp );\n\n// Create mouseenter/leave events using mouseover/out and event-time checks\n// so that event delegation works in jQuery.\n// Do the same for pointerenter/pointerleave and pointerover/pointerout\n//\n// Support: Safari 7 only\n// Safari sends mouseenter too often; see:\n// https://bugs.chromium.org/p/chromium/issues/detail?id=470258\n// for the description of the bug (it existed in older Chrome versions as well).\njQuery.each( {\n\tmouseenter: \"mouseover\",\n\tmouseleave: \"mouseout\",\n\tpointerenter: \"pointerover\",\n\tpointerleave: \"pointerout\"\n}, function( orig, fix ) {\n\tjQuery.event.special[ orig ] = {\n\t\tdelegateType: fix,\n\t\tbindType: fix,\n\n\t\thandle: function( event ) {\n\t\t\tvar ret,\n\t\t\t\ttarget = this,\n\t\t\t\trelated = event.relatedTarget,\n\t\t\t\thandleObj = event.handleObj;\n\n\t\t\t// For mouseenter/leave call the handler if related is outside the target.\n\t\t\t// NB: No relatedTarget if the mouse left/entered the browser window\n\t\t\tif ( !related || ( related !== target && !jQuery.contains( target, related ) ) ) {\n\t\t\t\tevent.type = handleObj.origType;\n\t\t\t\tret = handleObj.handler.apply( this, arguments );\n\t\t\t\tevent.type = fix;\n\t\t\t}\n\t\t\treturn ret;\n\t\t}\n\t};\n} );\n\njQuery.fn.extend( {\n\n\ton: function( types, selector, data, fn ) {\n\t\treturn on( this, types, selector, data, fn );\n\t},\n\tone: function( types, selector, data, fn ) {\n\t\treturn on( this, types, selector, data, fn, 1 );\n\t},\n\toff: function( types, selector, fn ) {\n\t\tvar handleObj, type;\n\t\tif ( types && types.preventDefault && types.handleObj ) {\n\n\t\t\t// ( event )  dispatched jQuery.Event\n\t\t\thandleObj = types.handleObj;\n\t\t\tjQuery( types.delegateTarget ).off(\n\t\t\t\thandleObj.namespace ?\n\t\t\t\t\thandleObj.origType + \".\" + handleObj.namespace :\n\t\t\t\t\thandleObj.origType,\n\t\t\t\thandleObj.selector,\n\t\t\t\thandleObj.handler\n\t\t\t);\n\t\t\treturn this;\n\t\t}\n\t\tif ( typeof types === \"object\" ) {\n\n\t\t\t// ( types-object [, selector] )\n\t\t\tfor ( type in types ) {\n\t\t\t\tthis.off( type, selector, types[ type ] );\n\t\t\t}\n\t\t\treturn this;\n\t\t}\n\t\tif ( selector === false || typeof selector === \"function\" ) {\n\n\t\t\t// ( types [, fn] )\n\t\t\tfn = selector;\n\t\t\tselector = undefined;\n\t\t}\n\t\tif ( fn === false ) {\n\t\t\tfn = returnFalse;\n\t\t}\n\t\treturn this.each( function() {\n\t\t\tjQuery.event.remove( this, types, fn, selector );\n\t\t} );\n\t}\n} );\n\n\nvar\n\n\t/* eslint-disable max-len */\n\n\t// See https://github.com/eslint/eslint/issues/3229\n\trxhtmlTag = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\\/\\0>\\x20\\t\\r\\n\\f]*)[^>]*)\\/>/gi,\n\n\t/* eslint-enable */\n\n\t// Support: IE <=10 - 11, Edge 12 - 13\n\t// In IE/Edge using regex groups here causes severe slowdowns.\n\t// See https://connect.microsoft.com/IE/feedback/details/1736512/\n\trnoInnerhtml = /<script|<style|<link/i,\n\n\t// checked=\"checked\" or checked\n\trchecked = /checked\\s*(?:[^=]|=\\s*.checked.)/i,\n\trscriptTypeMasked = /^true\\/(.*)/,\n\trcleanScript = /^\\s*<!(?:\\[CDATA\\[|--)|(?:\\]\\]|--)>\\s*$/g;\n\n// Prefer a tbody over its parent table for containing new rows\nfunction manipulationTarget( elem, content ) {\n\tif ( nodeName( elem, \"table\" ) &&\n\t\tnodeName( content.nodeType !== 11 ? content : content.firstChild, \"tr\" ) ) {\n\n\t\treturn jQuery( \">tbody\", elem )[ 0 ] || elem;\n\t}\n\n\treturn elem;\n}\n\n// Replace/restore the type attribute of script elements for safe DOM manipulation\nfunction disableScript( elem ) {\n\telem.type = ( elem.getAttribute( \"type\" ) !== null ) + \"/\" + elem.type;\n\treturn elem;\n}\nfunction restoreScript( elem ) {\n\tvar match = rscriptTypeMasked.exec( elem.type );\n\n\tif ( match ) {\n\t\telem.type = match[ 1 ];\n\t} else {\n\t\telem.removeAttribute( \"type\" );\n\t}\n\n\treturn elem;\n}\n\nfunction cloneCopyEvent( src, dest ) {\n\tvar i, l, type, pdataOld, pdataCur, udataOld, udataCur, events;\n\n\tif ( dest.nodeType !== 1 ) {\n\t\treturn;\n\t}\n\n\t// 1. Copy private data: events, handlers, etc.\n\tif ( dataPriv.hasData( src ) ) {\n\t\tpdataOld = dataPriv.access( src );\n\t\tpdataCur = dataPriv.set( dest, pdataOld );\n\t\tevents = pdataOld.events;\n\n\t\tif ( events ) {\n\t\t\tdelete pdataCur.handle;\n\t\t\tpdataCur.events = {};\n\n\t\t\tfor ( type in events ) {\n\t\t\t\tfor ( i = 0, l = events[ type ].length; i < l; i++ ) {\n\t\t\t\t\tjQuery.event.add( dest, type, events[ type ][ i ] );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// 2. Copy user data\n\tif ( dataUser.hasData( src ) ) {\n\t\tudataOld = dataUser.access( src );\n\t\tudataCur = jQuery.extend( {}, udataOld );\n\n\t\tdataUser.set( dest, udataCur );\n\t}\n}\n\n// Fix IE bugs, see support tests\nfunction fixInput( src, dest ) {\n\tvar nodeName = dest.nodeName.toLowerCase();\n\n\t// Fails to persist the checked state of a cloned checkbox or radio button.\n\tif ( nodeName === \"input\" && rcheckableType.test( src.type ) ) {\n\t\tdest.checked = src.checked;\n\n\t// Fails to return the selected option to the default selected state when cloning options\n\t} else if ( nodeName === \"input\" || nodeName === \"textarea\" ) {\n\t\tdest.defaultValue = src.defaultValue;\n\t}\n}\n\nfunction domManip( collection, args, callback, ignored ) {\n\n\t// Flatten any nested arrays\n\targs = concat.apply( [], args );\n\n\tvar fragment, first, scripts, hasScripts, node, doc,\n\t\ti = 0,\n\t\tl = collection.length,\n\t\tiNoClone = l - 1,\n\t\tvalue = args[ 0 ],\n\t\tisFunction = jQuery.isFunction( value );\n\n\t// We can't cloneNode fragments that contain checked, in WebKit\n\tif ( isFunction ||\n\t\t\t( l > 1 && typeof value === \"string\" &&\n\t\t\t\t!support.checkClone && rchecked.test( value ) ) ) {\n\t\treturn collection.each( function( index ) {\n\t\t\tvar self = collection.eq( index );\n\t\t\tif ( isFunction ) {\n\t\t\t\targs[ 0 ] = value.call( this, index, self.html() );\n\t\t\t}\n\t\t\tdomManip( self, args, callback, ignored );\n\t\t} );\n\t}\n\n\tif ( l ) {\n\t\tfragment = buildFragment( args, collection[ 0 ].ownerDocument, false, collection, ignored );\n\t\tfirst = fragment.firstChild;\n\n\t\tif ( fragment.childNodes.length === 1 ) {\n\t\t\tfragment = first;\n\t\t}\n\n\t\t// Require either new content or an interest in ignored elements to invoke the callback\n\t\tif ( first || ignored ) {\n\t\t\tscripts = jQuery.map( getAll( fragment, \"script\" ), disableScript );\n\t\t\thasScripts = scripts.length;\n\n\t\t\t// Use the original fragment for the last item\n\t\t\t// instead of the first because it can end up\n\t\t\t// being emptied incorrectly in certain situations (#8070).\n\t\t\tfor ( ; i < l; i++ ) {\n\t\t\t\tnode = fragment;\n\n\t\t\t\tif ( i !== iNoClone ) {\n\t\t\t\t\tnode = jQuery.clone( node, true, true );\n\n\t\t\t\t\t// Keep references to cloned scripts for later restoration\n\t\t\t\t\tif ( hasScripts ) {\n\n\t\t\t\t\t\t// Support: Android <=4.0 only, PhantomJS 1 only\n\t\t\t\t\t\t// push.apply(_, arraylike) throws on ancient WebKit\n\t\t\t\t\t\tjQuery.merge( scripts, getAll( node, \"script\" ) );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tcallback.call( collection[ i ], node, i );\n\t\t\t}\n\n\t\t\tif ( hasScripts ) {\n\t\t\t\tdoc = scripts[ scripts.length - 1 ].ownerDocument;\n\n\t\t\t\t// Reenable scripts\n\t\t\t\tjQuery.map( scripts, restoreScript );\n\n\t\t\t\t// Evaluate executable scripts on first document insertion\n\t\t\t\tfor ( i = 0; i < hasScripts; i++ ) {\n\t\t\t\t\tnode = scripts[ i ];\n\t\t\t\t\tif ( rscriptType.test( node.type || \"\" ) &&\n\t\t\t\t\t\t!dataPriv.access( node, \"globalEval\" ) &&\n\t\t\t\t\t\tjQuery.contains( doc, node ) ) {\n\n\t\t\t\t\t\tif ( node.src ) {\n\n\t\t\t\t\t\t\t// Optional AJAX dependency, but won't run scripts if not present\n\t\t\t\t\t\t\tif ( jQuery._evalUrl ) {\n\t\t\t\t\t\t\t\tjQuery._evalUrl( node.src );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tDOMEval( node.textContent.replace( rcleanScript, \"\" ), doc );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn collection;\n}\n\nfunction remove( elem, selector, keepData ) {\n\tvar node,\n\t\tnodes = selector ? jQuery.filter( selector, elem ) : elem,\n\t\ti = 0;\n\n\tfor ( ; ( node = nodes[ i ] ) != null; i++ ) {\n\t\tif ( !keepData && node.nodeType === 1 ) {\n\t\t\tjQuery.cleanData( getAll( node ) );\n\t\t}\n\n\t\tif ( node.parentNode ) {\n\t\t\tif ( keepData && jQuery.contains( node.ownerDocument, node ) ) {\n\t\t\t\tsetGlobalEval( getAll( node, \"script\" ) );\n\t\t\t}\n\t\t\tnode.parentNode.removeChild( node );\n\t\t}\n\t}\n\n\treturn elem;\n}\n\njQuery.extend( {\n\thtmlPrefilter: function( html ) {\n\t\treturn html.replace( rxhtmlTag, \"<$1></$2>\" );\n\t},\n\n\tclone: function( elem, dataAndEvents, deepDataAndEvents ) {\n\t\tvar i, l, srcElements, destElements,\n\t\t\tclone = elem.cloneNode( true ),\n\t\t\tinPage = jQuery.contains( elem.ownerDocument, elem );\n\n\t\t// Fix IE cloning issues\n\t\tif ( !support.noCloneChecked && ( elem.nodeType === 1 || elem.nodeType === 11 ) &&\n\t\t\t\t!jQuery.isXMLDoc( elem ) ) {\n\n\t\t\t// We eschew Sizzle here for performance reasons: https://jsperf.com/getall-vs-sizzle/2\n\t\t\tdestElements = getAll( clone );\n\t\t\tsrcElements = getAll( elem );\n\n\t\t\tfor ( i = 0, l = srcElements.length; i < l; i++ ) {\n\t\t\t\tfixInput( srcElements[ i ], destElements[ i ] );\n\t\t\t}\n\t\t}\n\n\t\t// Copy the events from the original to the clone\n\t\tif ( dataAndEvents ) {\n\t\t\tif ( deepDataAndEvents ) {\n\t\t\t\tsrcElements = srcElements || getAll( elem );\n\t\t\t\tdestElements = destElements || getAll( clone );\n\n\t\t\t\tfor ( i = 0, l = srcElements.length; i < l; i++ ) {\n\t\t\t\t\tcloneCopyEvent( srcElements[ i ], destElements[ i ] );\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tcloneCopyEvent( elem, clone );\n\t\t\t}\n\t\t}\n\n\t\t// Preserve script evaluation history\n\t\tdestElements = getAll( clone, \"script\" );\n\t\tif ( destElements.length > 0 ) {\n\t\t\tsetGlobalEval( destElements, !inPage && getAll( elem, \"script\" ) );\n\t\t}\n\n\t\t// Return the cloned set\n\t\treturn clone;\n\t},\n\n\tcleanData: function( elems ) {\n\t\tvar data, elem, type,\n\t\t\tspecial = jQuery.event.special,\n\t\t\ti = 0;\n\n\t\tfor ( ; ( elem = elems[ i ] ) !== undefined; i++ ) {\n\t\t\tif ( acceptData( elem ) ) {\n\t\t\t\tif ( ( data = elem[ dataPriv.expando ] ) ) {\n\t\t\t\t\tif ( data.events ) {\n\t\t\t\t\t\tfor ( type in data.events ) {\n\t\t\t\t\t\t\tif ( special[ type ] ) {\n\t\t\t\t\t\t\t\tjQuery.event.remove( elem, type );\n\n\t\t\t\t\t\t\t// This is a shortcut to avoid jQuery.event.remove's overhead\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tjQuery.removeEvent( elem, type, data.handle );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Support: Chrome <=35 - 45+\n\t\t\t\t\t// Assign undefined instead of using delete, see Data#remove\n\t\t\t\t\telem[ dataPriv.expando ] = undefined;\n\t\t\t\t}\n\t\t\t\tif ( elem[ dataUser.expando ] ) {\n\n\t\t\t\t\t// Support: Chrome <=35 - 45+\n\t\t\t\t\t// Assign undefined instead of using delete, see Data#remove\n\t\t\t\t\telem[ dataUser.expando ] = undefined;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n} );\n\njQuery.fn.extend( {\n\tdetach: function( selector ) {\n\t\treturn remove( this, selector, true );\n\t},\n\n\tremove: function( selector ) {\n\t\treturn remove( this, selector );\n\t},\n\n\ttext: function( value ) {\n\t\treturn access( this, function( value ) {\n\t\t\treturn value === undefined ?\n\t\t\t\tjQuery.text( this ) :\n\t\t\t\tthis.empty().each( function() {\n\t\t\t\t\tif ( this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9 ) {\n\t\t\t\t\t\tthis.textContent = value;\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t}, null, value, arguments.length );\n\t},\n\n\tappend: function() {\n\t\treturn domManip( this, arguments, function( elem ) {\n\t\t\tif ( this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9 ) {\n\t\t\t\tvar target = manipulationTarget( this, elem );\n\t\t\t\ttarget.appendChild( elem );\n\t\t\t}\n\t\t} );\n\t},\n\n\tprepend: function() {\n\t\treturn domManip( this, arguments, function( elem ) {\n\t\t\tif ( this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9 ) {\n\t\t\t\tvar target = manipulationTarget( this, elem );\n\t\t\t\ttarget.insertBefore( elem, target.firstChild );\n\t\t\t}\n\t\t} );\n\t},\n\n\tbefore: function() {\n\t\treturn domManip( this, arguments, function( elem ) {\n\t\t\tif ( this.parentNode ) {\n\t\t\t\tthis.parentNode.insertBefore( elem, this );\n\t\t\t}\n\t\t} );\n\t},\n\n\tafter: function() {\n\t\treturn domManip( this, arguments, function( elem ) {\n\t\t\tif ( this.parentNode ) {\n\t\t\t\tthis.parentNode.insertBefore( elem, this.nextSibling );\n\t\t\t}\n\t\t} );\n\t},\n\n\tempty: function() {\n\t\tvar elem,\n\t\t\ti = 0;\n\n\t\tfor ( ; ( elem = this[ i ] ) != null; i++ ) {\n\t\t\tif ( elem.nodeType === 1 ) {\n\n\t\t\t\t// Prevent memory leaks\n\t\t\t\tjQuery.cleanData( getAll( elem, false ) );\n\n\t\t\t\t// Remove any remaining nodes\n\t\t\t\telem.textContent = \"\";\n\t\t\t}\n\t\t}\n\n\t\treturn this;\n\t},\n\n\tclone: function( dataAndEvents, deepDataAndEvents ) {\n\t\tdataAndEvents = dataAndEvents == null ? false : dataAndEvents;\n\t\tdeepDataAndEvents = deepDataAndEvents == null ? dataAndEvents : deepDataAndEvents;\n\n\t\treturn this.map( function() {\n\t\t\treturn jQuery.clone( this, dataAndEvents, deepDataAndEvents );\n\t\t} );\n\t},\n\n\thtml: function( value ) {\n\t\treturn access( this, function( value ) {\n\t\t\tvar elem = this[ 0 ] || {},\n\t\t\t\ti = 0,\n\t\t\t\tl = this.length;\n\n\t\t\tif ( value === undefined && elem.nodeType === 1 ) {\n\t\t\t\treturn elem.innerHTML;\n\t\t\t}\n\n\t\t\t// See if we can take a shortcut and just use innerHTML\n\t\t\tif ( typeof value === \"string\" && !rnoInnerhtml.test( value ) &&\n\t\t\t\t!wrapMap[ ( rtagName.exec( value ) || [ \"\", \"\" ] )[ 1 ].toLowerCase() ] ) {\n\n\t\t\t\tvalue = jQuery.htmlPrefilter( value );\n\n\t\t\t\ttry {\n\t\t\t\t\tfor ( ; i < l; i++ ) {\n\t\t\t\t\t\telem = this[ i ] || {};\n\n\t\t\t\t\t\t// Remove element nodes and prevent memory leaks\n\t\t\t\t\t\tif ( elem.nodeType === 1 ) {\n\t\t\t\t\t\t\tjQuery.cleanData( getAll( elem, false ) );\n\t\t\t\t\t\t\telem.innerHTML = value;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\telem = 0;\n\n\t\t\t\t// If using innerHTML throws an exception, use the fallback method\n\t\t\t\t} catch ( e ) {}\n\t\t\t}\n\n\t\t\tif ( elem ) {\n\t\t\t\tthis.empty().append( value );\n\t\t\t}\n\t\t}, null, value, arguments.length );\n\t},\n\n\treplaceWith: function() {\n\t\tvar ignored = [];\n\n\t\t// Make the changes, replacing each non-ignored context element with the new content\n\t\treturn domManip( this, arguments, function( elem ) {\n\t\t\tvar parent = this.parentNode;\n\n\t\t\tif ( jQuery.inArray( this, ignored ) < 0 ) {\n\t\t\t\tjQuery.cleanData( getAll( this ) );\n\t\t\t\tif ( parent ) {\n\t\t\t\t\tparent.replaceChild( elem, this );\n\t\t\t\t}\n\t\t\t}\n\n\t\t// Force callback invocation\n\t\t}, ignored );\n\t}\n} );\n\njQuery.each( {\n\tappendTo: \"append\",\n\tprependTo: \"prepend\",\n\tinsertBefore: \"before\",\n\tinsertAfter: \"after\",\n\treplaceAll: \"replaceWith\"\n}, function( name, original ) {\n\tjQuery.fn[ name ] = function( selector ) {\n\t\tvar elems,\n\t\t\tret = [],\n\t\t\tinsert = jQuery( selector ),\n\t\t\tlast = insert.length - 1,\n\t\t\ti = 0;\n\n\t\tfor ( ; i <= last; i++ ) {\n\t\t\telems = i === last ? this : this.clone( true );\n\t\t\tjQuery( insert[ i ] )[ original ]( elems );\n\n\t\t\t// Support: Android <=4.0 only, PhantomJS 1 only\n\t\t\t// .get() because push.apply(_, arraylike) throws on ancient WebKit\n\t\t\tpush.apply( ret, elems.get() );\n\t\t}\n\n\t\treturn this.pushStack( ret );\n\t};\n} );\nvar rmargin = ( /^margin/ );\n\nvar rnumnonpx = new RegExp( \"^(\" + pnum + \")(?!px)[a-z%]+$\", \"i\" );\n\nvar getStyles = function( elem ) {\n\n\t\t// Support: IE <=11 only, Firefox <=30 (#15098, #14150)\n\t\t// IE throws on elements created in popups\n\t\t// FF meanwhile throws on frame elements through \"defaultView.getComputedStyle\"\n\t\tvar view = elem.ownerDocument.defaultView;\n\n\t\tif ( !view || !view.opener ) {\n\t\t\tview = window;\n\t\t}\n\n\t\treturn view.getComputedStyle( elem );\n\t};\n\n\n\n( function() {\n\n\t// Executing both pixelPosition & boxSizingReliable tests require only one layout\n\t// so they're executed at the same time to save the second computation.\n\tfunction computeStyleTests() {\n\n\t\t// This is a singleton, we need to execute it only once\n\t\tif ( !div ) {\n\t\t\treturn;\n\t\t}\n\n\t\tdiv.style.cssText =\n\t\t\t\"box-sizing:border-box;\" +\n\t\t\t\"position:relative;display:block;\" +\n\t\t\t\"margin:auto;border:1px;padding:1px;\" +\n\t\t\t\"top:1%;width:50%\";\n\t\tdiv.innerHTML = \"\";\n\t\tdocumentElement.appendChild( container );\n\n\t\tvar divStyle = window.getComputedStyle( div );\n\t\tpixelPositionVal = divStyle.top !== \"1%\";\n\n\t\t// Support: Android 4.0 - 4.3 only, Firefox <=3 - 44\n\t\treliableMarginLeftVal = divStyle.marginLeft === \"2px\";\n\t\tboxSizingReliableVal = divStyle.width === \"4px\";\n\n\t\t// Support: Android 4.0 - 4.3 only\n\t\t// Some styles come back with percentage values, even though they shouldn't\n\t\tdiv.style.marginRight = \"50%\";\n\t\tpixelMarginRightVal = divStyle.marginRight === \"4px\";\n\n\t\tdocumentElement.removeChild( container );\n\n\t\t// Nullify the div so it wouldn't be stored in the memory and\n\t\t// it will also be a sign that checks already performed\n\t\tdiv = null;\n\t}\n\n\tvar pixelPositionVal, boxSizingReliableVal, pixelMarginRightVal, reliableMarginLeftVal,\n\t\tcontainer = document.createElement( \"div\" ),\n\t\tdiv = document.createElement( \"div\" );\n\n\t// Finish early in limited (non-browser) environments\n\tif ( !div.style ) {\n\t\treturn;\n\t}\n\n\t// Support: IE <=9 - 11 only\n\t// Style of cloned element affects source element cloned (#8908)\n\tdiv.style.backgroundClip = \"content-box\";\n\tdiv.cloneNode( true ).style.backgroundClip = \"\";\n\tsupport.clearCloneStyle = div.style.backgroundClip === \"content-box\";\n\n\tcontainer.style.cssText = \"border:0;width:8px;height:0;top:0;left:-9999px;\" +\n\t\t\"padding:0;margin-top:1px;position:absolute\";\n\tcontainer.appendChild( div );\n\n\tjQuery.extend( support, {\n\t\tpixelPosition: function() {\n\t\t\tcomputeStyleTests();\n\t\t\treturn pixelPositionVal;\n\t\t},\n\t\tboxSizingReliable: function() {\n\t\t\tcomputeStyleTests();\n\t\t\treturn boxSizingReliableVal;\n\t\t},\n\t\tpixelMarginRight: function() {\n\t\t\tcomputeStyleTests();\n\t\t\treturn pixelMarginRightVal;\n\t\t},\n\t\treliableMarginLeft: function() {\n\t\t\tcomputeStyleTests();\n\t\t\treturn reliableMarginLeftVal;\n\t\t}\n\t} );\n} )();\n\n\nfunction curCSS( elem, name, computed ) {\n\tvar width, minWidth, maxWidth, ret,\n\n\t\t// Support: Firefox 51+\n\t\t// Retrieving style before computed somehow\n\t\t// fixes an issue with getting wrong values\n\t\t// on detached elements\n\t\tstyle = elem.style;\n\n\tcomputed = computed || getStyles( elem );\n\n\t// getPropertyValue is needed for:\n\t//   .css('filter') (IE 9 only, #12537)\n\t//   .css('--customProperty) (#3144)\n\tif ( computed ) {\n\t\tret = computed.getPropertyValue( name ) || computed[ name ];\n\n\t\tif ( ret === \"\" && !jQuery.contains( elem.ownerDocument, elem ) ) {\n\t\t\tret = jQuery.style( elem, name );\n\t\t}\n\n\t\t// A tribute to the \"awesome hack by Dean Edwards\"\n\t\t// Android Browser returns percentage for some values,\n\t\t// but width seems to be reliably pixels.\n\t\t// This is against the CSSOM draft spec:\n\t\t// https://drafts.csswg.org/cssom/#resolved-values\n\t\tif ( !support.pixelMarginRight() && rnumnonpx.test( ret ) && rmargin.test( name ) ) {\n\n\t\t\t// Remember the original values\n\t\t\twidth = style.width;\n\t\t\tminWidth = style.minWidth;\n\t\t\tmaxWidth = style.maxWidth;\n\n\t\t\t// Put in the new values to get a computed value out\n\t\t\tstyle.minWidth = style.maxWidth = style.width = ret;\n\t\t\tret = computed.width;\n\n\t\t\t// Revert the changed values\n\t\t\tstyle.width = width;\n\t\t\tstyle.minWidth = minWidth;\n\t\t\tstyle.maxWidth = maxWidth;\n\t\t}\n\t}\n\n\treturn ret !== undefined ?\n\n\t\t// Support: IE <=9 - 11 only\n\t\t// IE returns zIndex value as an integer.\n\t\tret + \"\" :\n\t\tret;\n}\n\n\nfunction addGetHookIf( conditionFn, hookFn ) {\n\n\t// Define the hook, we'll check on the first run if it's really needed.\n\treturn {\n\t\tget: function() {\n\t\t\tif ( conditionFn() ) {\n\n\t\t\t\t// Hook not needed (or it's not possible to use it due\n\t\t\t\t// to missing dependency), remove it.\n\t\t\t\tdelete this.get;\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Hook needed; redefine it so that the support test is not executed again.\n\t\t\treturn ( this.get = hookFn ).apply( this, arguments );\n\t\t}\n\t};\n}\n\n\nvar\n\n\t// Swappable if display is none or starts with table\n\t// except \"table\", \"table-cell\", or \"table-caption\"\n\t// See here for display values: https://developer.mozilla.org/en-US/docs/CSS/display\n\trdisplayswap = /^(none|table(?!-c[ea]).+)/,\n\trcustomProp = /^--/,\n\tcssShow = { position: \"absolute\", visibility: \"hidden\", display: \"block\" },\n\tcssNormalTransform = {\n\t\tletterSpacing: \"0\",\n\t\tfontWeight: \"400\"\n\t},\n\n\tcssPrefixes = [ \"Webkit\", \"Moz\", \"ms\" ],\n\temptyStyle = document.createElement( \"div\" ).style;\n\n// Return a css property mapped to a potentially vendor prefixed property\nfunction vendorPropName( name ) {\n\n\t// Shortcut for names that are not vendor prefixed\n\tif ( name in emptyStyle ) {\n\t\treturn name;\n\t}\n\n\t// Check for vendor prefixed names\n\tvar capName = name[ 0 ].toUpperCase() + name.slice( 1 ),\n\t\ti = cssPrefixes.length;\n\n\twhile ( i-- ) {\n\t\tname = cssPrefixes[ i ] + capName;\n\t\tif ( name in emptyStyle ) {\n\t\t\treturn name;\n\t\t}\n\t}\n}\n\n// Return a property mapped along what jQuery.cssProps suggests or to\n// a vendor prefixed property.\nfunction finalPropName( name ) {\n\tvar ret = jQuery.cssProps[ name ];\n\tif ( !ret ) {\n\t\tret = jQuery.cssProps[ name ] = vendorPropName( name ) || name;\n\t}\n\treturn ret;\n}\n\nfunction setPositiveNumber( elem, value, subtract ) {\n\n\t// Any relative (+/-) values have already been\n\t// normalized at this point\n\tvar matches = rcssNum.exec( value );\n\treturn matches ?\n\n\t\t// Guard against undefined \"subtract\", e.g., when used as in cssHooks\n\t\tMath.max( 0, matches[ 2 ] - ( subtract || 0 ) ) + ( matches[ 3 ] || \"px\" ) :\n\t\tvalue;\n}\n\nfunction augmentWidthOrHeight( elem, name, extra, isBorderBox, styles ) {\n\tvar i,\n\t\tval = 0;\n\n\t// If we already have the right measurement, avoid augmentation\n\tif ( extra === ( isBorderBox ? \"border\" : \"content\" ) ) {\n\t\ti = 4;\n\n\t// Otherwise initialize for horizontal or vertical properties\n\t} else {\n\t\ti = name === \"width\" ? 1 : 0;\n\t}\n\n\tfor ( ; i < 4; i += 2 ) {\n\n\t\t// Both box models exclude margin, so add it if we want it\n\t\tif ( extra === \"margin\" ) {\n\t\t\tval += jQuery.css( elem, extra + cssExpand[ i ], true, styles );\n\t\t}\n\n\t\tif ( isBorderBox ) {\n\n\t\t\t// border-box includes padding, so remove it if we want content\n\t\t\tif ( extra === \"content\" ) {\n\t\t\t\tval -= jQuery.css( elem, \"padding\" + cssExpand[ i ], true, styles );\n\t\t\t}\n\n\t\t\t// At this point, extra isn't border nor margin, so remove border\n\t\t\tif ( extra !== \"margin\" ) {\n\t\t\t\tval -= jQuery.css( elem, \"border\" + cssExpand[ i ] + \"Width\", true, styles );\n\t\t\t}\n\t\t} else {\n\n\t\t\t// At this point, extra isn't content, so add padding\n\t\t\tval += jQuery.css( elem, \"padding\" + cssExpand[ i ], true, styles );\n\n\t\t\t// At this point, extra isn't content nor padding, so add border\n\t\t\tif ( extra !== \"padding\" ) {\n\t\t\t\tval += jQuery.css( elem, \"border\" + cssExpand[ i ] + \"Width\", true, styles );\n\t\t\t}\n\t\t}\n\t}\n\n\treturn val;\n}\n\nfunction getWidthOrHeight( elem, name, extra ) {\n\n\t// Start with computed style\n\tvar valueIsBorderBox,\n\t\tstyles = getStyles( elem ),\n\t\tval = curCSS( elem, name, styles ),\n\t\tisBorderBox = jQuery.css( elem, \"boxSizing\", false, styles ) === \"border-box\";\n\n\t// Computed unit is not pixels. Stop here and return.\n\tif ( rnumnonpx.test( val ) ) {\n\t\treturn val;\n\t}\n\n\t// Check for style in case a browser which returns unreliable values\n\t// for getComputedStyle silently falls back to the reliable elem.style\n\tvalueIsBorderBox = isBorderBox &&\n\t\t( support.boxSizingReliable() || val === elem.style[ name ] );\n\n\t// Fall back to offsetWidth/Height when value is \"auto\"\n\t// This happens for inline elements with no explicit setting (gh-3571)\n\tif ( val === \"auto\" ) {\n\t\tval = elem[ \"offset\" + name[ 0 ].toUpperCase() + name.slice( 1 ) ];\n\t}\n\n\t// Normalize \"\", auto, and prepare for extra\n\tval = parseFloat( val ) || 0;\n\n\t// Use the active box-sizing model to add/subtract irrelevant styles\n\treturn ( val +\n\t\taugmentWidthOrHeight(\n\t\t\telem,\n\t\t\tname,\n\t\t\textra || ( isBorderBox ? \"border\" : \"content\" ),\n\t\t\tvalueIsBorderBox,\n\t\t\tstyles\n\t\t)\n\t) + \"px\";\n}\n\njQuery.extend( {\n\n\t// Add in style property hooks for overriding the default\n\t// behavior of getting and setting a style property\n\tcssHooks: {\n\t\topacity: {\n\t\t\tget: function( elem, computed ) {\n\t\t\t\tif ( computed ) {\n\n\t\t\t\t\t// We should always get a number back from opacity\n\t\t\t\t\tvar ret = curCSS( elem, \"opacity\" );\n\t\t\t\t\treturn ret === \"\" ? \"1\" : ret;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\t// Don't automatically add \"px\" to these possibly-unitless properties\n\tcssNumber: {\n\t\t\"animationIterationCount\": true,\n\t\t\"columnCount\": true,\n\t\t\"fillOpacity\": true,\n\t\t\"flexGrow\": true,\n\t\t\"flexShrink\": true,\n\t\t\"fontWeight\": true,\n\t\t\"lineHeight\": true,\n\t\t\"opacity\": true,\n\t\t\"order\": true,\n\t\t\"orphans\": true,\n\t\t\"widows\": true,\n\t\t\"zIndex\": true,\n\t\t\"zoom\": true\n\t},\n\n\t// Add in properties whose names you wish to fix before\n\t// setting or getting the value\n\tcssProps: {\n\t\t\"float\": \"cssFloat\"\n\t},\n\n\t// Get and set the style property on a DOM Node\n\tstyle: function( elem, name, value, extra ) {\n\n\t\t// Don't set styles on text and comment nodes\n\t\tif ( !elem || elem.nodeType === 3 || elem.nodeType === 8 || !elem.style ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Make sure that we're working with the right name\n\t\tvar ret, type, hooks,\n\t\t\torigName = jQuery.camelCase( name ),\n\t\t\tisCustomProp = rcustomProp.test( name ),\n\t\t\tstyle = elem.style;\n\n\t\t// Make sure that we're working with the right name. We don't\n\t\t// want to query the value if it is a CSS custom property\n\t\t// since they are user-defined.\n\t\tif ( !isCustomProp ) {\n\t\t\tname = finalPropName( origName );\n\t\t}\n\n\t\t// Gets hook for the prefixed version, then unprefixed version\n\t\thooks = jQuery.cssHooks[ name ] || jQuery.cssHooks[ origName ];\n\n\t\t// Check if we're setting a value\n\t\tif ( value !== undefined ) {\n\t\t\ttype = typeof value;\n\n\t\t\t// Convert \"+=\" or \"-=\" to relative numbers (#7345)\n\t\t\tif ( type === \"string\" && ( ret = rcssNum.exec( value ) ) && ret[ 1 ] ) {\n\t\t\t\tvalue = adjustCSS( elem, name, ret );\n\n\t\t\t\t// Fixes bug #9237\n\t\t\t\ttype = \"number\";\n\t\t\t}\n\n\t\t\t// Make sure that null and NaN values aren't set (#7116)\n\t\t\tif ( value == null || value !== value ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// If a number was passed in, add the unit (except for certain CSS properties)\n\t\t\tif ( type === \"number\" ) {\n\t\t\t\tvalue += ret && ret[ 3 ] || ( jQuery.cssNumber[ origName ] ? \"\" : \"px\" );\n\t\t\t}\n\n\t\t\t// background-* props affect original clone's values\n\t\t\tif ( !support.clearCloneStyle && value === \"\" && name.indexOf( \"background\" ) === 0 ) {\n\t\t\t\tstyle[ name ] = \"inherit\";\n\t\t\t}\n\n\t\t\t// If a hook was provided, use that value, otherwise just set the specified value\n\t\t\tif ( !hooks || !( \"set\" in hooks ) ||\n\t\t\t\t( value = hooks.set( elem, value, extra ) ) !== undefined ) {\n\n\t\t\t\tif ( isCustomProp ) {\n\t\t\t\t\tstyle.setProperty( name, value );\n\t\t\t\t} else {\n\t\t\t\t\tstyle[ name ] = value;\n\t\t\t\t}\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t// If a hook was provided get the non-computed value from there\n\t\t\tif ( hooks && \"get\" in hooks &&\n\t\t\t\t( ret = hooks.get( elem, false, extra ) ) !== undefined ) {\n\n\t\t\t\treturn ret;\n\t\t\t}\n\n\t\t\t// Otherwise just get the value from the style object\n\t\t\treturn style[ name ];\n\t\t}\n\t},\n\n\tcss: function( elem, name, extra, styles ) {\n\t\tvar val, num, hooks,\n\t\t\torigName = jQuery.camelCase( name ),\n\t\t\tisCustomProp = rcustomProp.test( name );\n\n\t\t// Make sure that we're working with the right name. We don't\n\t\t// want to modify the value if it is a CSS custom property\n\t\t// since they are user-defined.\n\t\tif ( !isCustomProp ) {\n\t\t\tname = finalPropName( origName );\n\t\t}\n\n\t\t// Try prefixed name followed by the unprefixed name\n\t\thooks = jQuery.cssHooks[ name ] || jQuery.cssHooks[ origName ];\n\n\t\t// If a hook was provided get the computed value from there\n\t\tif ( hooks && \"get\" in hooks ) {\n\t\t\tval = hooks.get( elem, true, extra );\n\t\t}\n\n\t\t// Otherwise, if a way to get the computed value exists, use that\n\t\tif ( val === undefined ) {\n\t\t\tval = curCSS( elem, name, styles );\n\t\t}\n\n\t\t// Convert \"normal\" to computed value\n\t\tif ( val === \"normal\" && name in cssNormalTransform ) {\n\t\t\tval = cssNormalTransform[ name ];\n\t\t}\n\n\t\t// Make numeric if forced or a qualifier was provided and val looks numeric\n\t\tif ( extra === \"\" || extra ) {\n\t\t\tnum = parseFloat( val );\n\t\t\treturn extra === true || isFinite( num ) ? num || 0 : val;\n\t\t}\n\n\t\treturn val;\n\t}\n} );\n\njQuery.each( [ \"height\", \"width\" ], function( i, name ) {\n\tjQuery.cssHooks[ name ] = {\n\t\tget: function( elem, computed, extra ) {\n\t\t\tif ( computed ) {\n\n\t\t\t\t// Certain elements can have dimension info if we invisibly show them\n\t\t\t\t// but it must have a current display style that would benefit\n\t\t\t\treturn rdisplayswap.test( jQuery.css( elem, \"display\" ) ) &&\n\n\t\t\t\t\t// Support: Safari 8+\n\t\t\t\t\t// Table columns in Safari have non-zero offsetWidth & zero\n\t\t\t\t\t// getBoundingClientRect().width unless display is changed.\n\t\t\t\t\t// Support: IE <=11 only\n\t\t\t\t\t// Running getBoundingClientRect on a disconnected node\n\t\t\t\t\t// in IE throws an error.\n\t\t\t\t\t( !elem.getClientRects().length || !elem.getBoundingClientRect().width ) ?\n\t\t\t\t\t\tswap( elem, cssShow, function() {\n\t\t\t\t\t\t\treturn getWidthOrHeight( elem, name, extra );\n\t\t\t\t\t\t} ) :\n\t\t\t\t\t\tgetWidthOrHeight( elem, name, extra );\n\t\t\t}\n\t\t},\n\n\t\tset: function( elem, value, extra ) {\n\t\t\tvar matches,\n\t\t\t\tstyles = extra && getStyles( elem ),\n\t\t\t\tsubtract = extra && augmentWidthOrHeight(\n\t\t\t\t\telem,\n\t\t\t\t\tname,\n\t\t\t\t\textra,\n\t\t\t\t\tjQuery.css( elem, \"boxSizing\", false, styles ) === \"border-box\",\n\t\t\t\t\tstyles\n\t\t\t\t);\n\n\t\t\t// Convert to pixels if value adjustment is needed\n\t\t\tif ( subtract && ( matches = rcssNum.exec( value ) ) &&\n\t\t\t\t( matches[ 3 ] || \"px\" ) !== \"px\" ) {\n\n\t\t\t\telem.style[ name ] = value;\n\t\t\t\tvalue = jQuery.css( elem, name );\n\t\t\t}\n\n\t\t\treturn setPositiveNumber( elem, value, subtract );\n\t\t}\n\t};\n} );\n\njQuery.cssHooks.marginLeft = addGetHookIf( support.reliableMarginLeft,\n\tfunction( elem, computed ) {\n\t\tif ( computed ) {\n\t\t\treturn ( parseFloat( curCSS( elem, \"marginLeft\" ) ) ||\n\t\t\t\telem.getBoundingClientRect().left -\n\t\t\t\t\tswap( elem, { marginLeft: 0 }, function() {\n\t\t\t\t\t\treturn elem.getBoundingClientRect().left;\n\t\t\t\t\t} )\n\t\t\t\t) + \"px\";\n\t\t}\n\t}\n);\n\n// These hooks are used by animate to expand properties\njQuery.each( {\n\tmargin: \"\",\n\tpadding: \"\",\n\tborder: \"Width\"\n}, function( prefix, suffix ) {\n\tjQuery.cssHooks[ prefix + suffix ] = {\n\t\texpand: function( value ) {\n\t\t\tvar i = 0,\n\t\t\t\texpanded = {},\n\n\t\t\t\t// Assumes a single number if not a string\n\t\t\t\tparts = typeof value === \"string\" ? value.split( \" \" ) : [ value ];\n\n\t\t\tfor ( ; i < 4; i++ ) {\n\t\t\t\texpanded[ prefix + cssExpand[ i ] + suffix ] =\n\t\t\t\t\tparts[ i ] || parts[ i - 2 ] || parts[ 0 ];\n\t\t\t}\n\n\t\t\treturn expanded;\n\t\t}\n\t};\n\n\tif ( !rmargin.test( prefix ) ) {\n\t\tjQuery.cssHooks[ prefix + suffix ].set = setPositiveNumber;\n\t}\n} );\n\njQuery.fn.extend( {\n\tcss: function( name, value ) {\n\t\treturn access( this, function( elem, name, value ) {\n\t\t\tvar styles, len,\n\t\t\t\tmap = {},\n\t\t\t\ti = 0;\n\n\t\t\tif ( Array.isArray( name ) ) {\n\t\t\t\tstyles = getStyles( elem );\n\t\t\t\tlen = name.length;\n\n\t\t\t\tfor ( ; i < len; i++ ) {\n\t\t\t\t\tmap[ name[ i ] ] = jQuery.css( elem, name[ i ], false, styles );\n\t\t\t\t}\n\n\t\t\t\treturn map;\n\t\t\t}\n\n\t\t\treturn value !== undefined ?\n\t\t\t\tjQuery.style( elem, name, value ) :\n\t\t\t\tjQuery.css( elem, name );\n\t\t}, name, value, arguments.length > 1 );\n\t}\n} );\n\n\nfunction Tween( elem, options, prop, end, easing ) {\n\treturn new Tween.prototype.init( elem, options, prop, end, easing );\n}\njQuery.Tween = Tween;\n\nTween.prototype = {\n\tconstructor: Tween,\n\tinit: function( elem, options, prop, end, easing, unit ) {\n\t\tthis.elem = elem;\n\t\tthis.prop = prop;\n\t\tthis.easing = easing || jQuery.easing._default;\n\t\tthis.options = options;\n\t\tthis.start = this.now = this.cur();\n\t\tthis.end = end;\n\t\tthis.unit = unit || ( jQuery.cssNumber[ prop ] ? \"\" : \"px\" );\n\t},\n\tcur: function() {\n\t\tvar hooks = Tween.propHooks[ this.prop ];\n\n\t\treturn hooks && hooks.get ?\n\t\t\thooks.get( this ) :\n\t\t\tTween.propHooks._default.get( this );\n\t},\n\trun: function( percent ) {\n\t\tvar eased,\n\t\t\thooks = Tween.propHooks[ this.prop ];\n\n\t\tif ( this.options.duration ) {\n\t\t\tthis.pos = eased = jQuery.easing[ this.easing ](\n\t\t\t\tpercent, this.options.duration * percent, 0, 1, this.options.duration\n\t\t\t);\n\t\t} else {\n\t\t\tthis.pos = eased = percent;\n\t\t}\n\t\tthis.now = ( this.end - this.start ) * eased + this.start;\n\n\t\tif ( this.options.step ) {\n\t\t\tthis.options.step.call( this.elem, this.now, this );\n\t\t}\n\n\t\tif ( hooks && hooks.set ) {\n\t\t\thooks.set( this );\n\t\t} else {\n\t\t\tTween.propHooks._default.set( this );\n\t\t}\n\t\treturn this;\n\t}\n};\n\nTween.prototype.init.prototype = Tween.prototype;\n\nTween.propHooks = {\n\t_default: {\n\t\tget: function( tween ) {\n\t\t\tvar result;\n\n\t\t\t// Use a property on the element directly when it is not a DOM element,\n\t\t\t// or when there is no matching style property that exists.\n\t\t\tif ( tween.elem.nodeType !== 1 ||\n\t\t\t\ttween.elem[ tween.prop ] != null && tween.elem.style[ tween.prop ] == null ) {\n\t\t\t\treturn tween.elem[ tween.prop ];\n\t\t\t}\n\n\t\t\t// Passing an empty string as a 3rd parameter to .css will automatically\n\t\t\t// attempt a parseFloat and fallback to a string if the parse fails.\n\t\t\t// Simple values such as \"10px\" are parsed to Float;\n\t\t\t// complex values such as \"rotate(1rad)\" are returned as-is.\n\t\t\tresult = jQuery.css( tween.elem, tween.prop, \"\" );\n\n\t\t\t// Empty strings, null, undefined and \"auto\" are converted to 0.\n\t\t\treturn !result || result === \"auto\" ? 0 : result;\n\t\t},\n\t\tset: function( tween ) {\n\n\t\t\t// Use step hook for back compat.\n\t\t\t// Use cssHook if its there.\n\t\t\t// Use .style if available and use plain properties where available.\n\t\t\tif ( jQuery.fx.step[ tween.prop ] ) {\n\t\t\t\tjQuery.fx.step[ tween.prop ]( tween );\n\t\t\t} else if ( tween.elem.nodeType === 1 &&\n\t\t\t\t( tween.elem.style[ jQuery.cssProps[ tween.prop ] ] != null ||\n\t\t\t\t\tjQuery.cssHooks[ tween.prop ] ) ) {\n\t\t\t\tjQuery.style( tween.elem, tween.prop, tween.now + tween.unit );\n\t\t\t} else {\n\t\t\t\ttween.elem[ tween.prop ] = tween.now;\n\t\t\t}\n\t\t}\n\t}\n};\n\n// Support: IE <=9 only\n// Panic based approach to setting things on disconnected nodes\nTween.propHooks.scrollTop = Tween.propHooks.scrollLeft = {\n\tset: function( tween ) {\n\t\tif ( tween.elem.nodeType && tween.elem.parentNode ) {\n\t\t\ttween.elem[ tween.prop ] = tween.now;\n\t\t}\n\t}\n};\n\njQuery.easing = {\n\tlinear: function( p ) {\n\t\treturn p;\n\t},\n\tswing: function( p ) {\n\t\treturn 0.5 - Math.cos( p * Math.PI ) / 2;\n\t},\n\t_default: \"swing\"\n};\n\njQuery.fx = Tween.prototype.init;\n\n// Back compat <1.8 extension point\njQuery.fx.step = {};\n\n\n\n\nvar\n\tfxNow, inProgress,\n\trfxtypes = /^(?:toggle|show|hide)$/,\n\trrun = /queueHooks$/;\n\nfunction schedule() {\n\tif ( inProgress ) {\n\t\tif ( document.hidden === false && window.requestAnimationFrame ) {\n\t\t\twindow.requestAnimationFrame( schedule );\n\t\t} else {\n\t\t\twindow.setTimeout( schedule, jQuery.fx.interval );\n\t\t}\n\n\t\tjQuery.fx.tick();\n\t}\n}\n\n// Animations created synchronously will run synchronously\nfunction createFxNow() {\n\twindow.setTimeout( function() {\n\t\tfxNow = undefined;\n\t} );\n\treturn ( fxNow = jQuery.now() );\n}\n\n// Generate parameters to create a standard animation\nfunction genFx( type, includeWidth ) {\n\tvar which,\n\t\ti = 0,\n\t\tattrs = { height: type };\n\n\t// If we include width, step value is 1 to do all cssExpand values,\n\t// otherwise step value is 2 to skip over Left and Right\n\tincludeWidth = includeWidth ? 1 : 0;\n\tfor ( ; i < 4; i += 2 - includeWidth ) {\n\t\twhich = cssExpand[ i ];\n\t\tattrs[ \"margin\" + which ] = attrs[ \"padding\" + which ] = type;\n\t}\n\n\tif ( includeWidth ) {\n\t\tattrs.opacity = attrs.width = type;\n\t}\n\n\treturn attrs;\n}\n\nfunction createTween( value, prop, animation ) {\n\tvar tween,\n\t\tcollection = ( Animation.tweeners[ prop ] || [] ).concat( Animation.tweeners[ \"*\" ] ),\n\t\tindex = 0,\n\t\tlength = collection.length;\n\tfor ( ; index < length; index++ ) {\n\t\tif ( ( tween = collection[ index ].call( animation, prop, value ) ) ) {\n\n\t\t\t// We're done with this property\n\t\t\treturn tween;\n\t\t}\n\t}\n}\n\nfunction defaultPrefilter( elem, props, opts ) {\n\tvar prop, value, toggle, hooks, oldfire, propTween, restoreDisplay, display,\n\t\tisBox = \"width\" in props || \"height\" in props,\n\t\tanim = this,\n\t\torig = {},\n\t\tstyle = elem.style,\n\t\thidden = elem.nodeType && isHiddenWithinTree( elem ),\n\t\tdataShow = dataPriv.get( elem, \"fxshow\" );\n\n\t// Queue-skipping animations hijack the fx hooks\n\tif ( !opts.queue ) {\n\t\thooks = jQuery._queueHooks( elem, \"fx\" );\n\t\tif ( hooks.unqueued == null ) {\n\t\t\thooks.unqueued = 0;\n\t\t\toldfire = hooks.empty.fire;\n\t\t\thooks.empty.fire = function() {\n\t\t\t\tif ( !hooks.unqueued ) {\n\t\t\t\t\toldfire();\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t\thooks.unqueued++;\n\n\t\tanim.always( function() {\n\n\t\t\t// Ensure the complete handler is called before this completes\n\t\t\tanim.always( function() {\n\t\t\t\thooks.unqueued--;\n\t\t\t\tif ( !jQuery.queue( elem, \"fx\" ).length ) {\n\t\t\t\t\thooks.empty.fire();\n\t\t\t\t}\n\t\t\t} );\n\t\t} );\n\t}\n\n\t// Detect show/hide animations\n\tfor ( prop in props ) {\n\t\tvalue = props[ prop ];\n\t\tif ( rfxtypes.test( value ) ) {\n\t\t\tdelete props[ prop ];\n\t\t\ttoggle = toggle || value === \"toggle\";\n\t\t\tif ( value === ( hidden ? \"hide\" : \"show\" ) ) {\n\n\t\t\t\t// Pretend to be hidden if this is a \"show\" and\n\t\t\t\t// there is still data from a stopped show/hide\n\t\t\t\tif ( value === \"show\" && dataShow && dataShow[ prop ] !== undefined ) {\n\t\t\t\t\thidden = true;\n\n\t\t\t\t// Ignore all other no-op show/hide data\n\t\t\t\t} else {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t}\n\t\t\torig[ prop ] = dataShow && dataShow[ prop ] || jQuery.style( elem, prop );\n\t\t}\n\t}\n\n\t// Bail out if this is a no-op like .hide().hide()\n\tpropTween = !jQuery.isEmptyObject( props );\n\tif ( !propTween && jQuery.isEmptyObject( orig ) ) {\n\t\treturn;\n\t}\n\n\t// Restrict \"overflow\" and \"display\" styles during box animations\n\tif ( isBox && elem.nodeType === 1 ) {\n\n\t\t// Support: IE <=9 - 11, Edge 12 - 13\n\t\t// Record all 3 overflow attributes because IE does not infer the shorthand\n\t\t// from identically-valued overflowX and overflowY\n\t\topts.overflow = [ style.overflow, style.overflowX, style.overflowY ];\n\n\t\t// Identify a display type, preferring old show/hide data over the CSS cascade\n\t\trestoreDisplay = dataShow && dataShow.display;\n\t\tif ( restoreDisplay == null ) {\n\t\t\trestoreDisplay = dataPriv.get( elem, \"display\" );\n\t\t}\n\t\tdisplay = jQuery.css( elem, \"display\" );\n\t\tif ( display === \"none\" ) {\n\t\t\tif ( restoreDisplay ) {\n\t\t\t\tdisplay = restoreDisplay;\n\t\t\t} else {\n\n\t\t\t\t// Get nonempty value(s) by temporarily forcing visibility\n\t\t\t\tshowHide( [ elem ], true );\n\t\t\t\trestoreDisplay = elem.style.display || restoreDisplay;\n\t\t\t\tdisplay = jQuery.css( elem, \"display\" );\n\t\t\t\tshowHide( [ elem ] );\n\t\t\t}\n\t\t}\n\n\t\t// Animate inline elements as inline-block\n\t\tif ( display === \"inline\" || display === \"inline-block\" && restoreDisplay != null ) {\n\t\t\tif ( jQuery.css( elem, \"float\" ) === \"none\" ) {\n\n\t\t\t\t// Restore the original display value at the end of pure show/hide animations\n\t\t\t\tif ( !propTween ) {\n\t\t\t\t\tanim.done( function() {\n\t\t\t\t\t\tstyle.display = restoreDisplay;\n\t\t\t\t\t} );\n\t\t\t\t\tif ( restoreDisplay == null ) {\n\t\t\t\t\t\tdisplay = style.display;\n\t\t\t\t\t\trestoreDisplay = display === \"none\" ? \"\" : display;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tstyle.display = \"inline-block\";\n\t\t\t}\n\t\t}\n\t}\n\n\tif ( opts.overflow ) {\n\t\tstyle.overflow = \"hidden\";\n\t\tanim.always( function() {\n\t\t\tstyle.overflow = opts.overflow[ 0 ];\n\t\t\tstyle.overflowX = opts.overflow[ 1 ];\n\t\t\tstyle.overflowY = opts.overflow[ 2 ];\n\t\t} );\n\t}\n\n\t// Implement show/hide animations\n\tpropTween = false;\n\tfor ( prop in orig ) {\n\n\t\t// General show/hide setup for this element animation\n\t\tif ( !propTween ) {\n\t\t\tif ( dataShow ) {\n\t\t\t\tif ( \"hidden\" in dataShow ) {\n\t\t\t\t\thidden = dataShow.hidden;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tdataShow = dataPriv.access( elem, \"fxshow\", { display: restoreDisplay } );\n\t\t\t}\n\n\t\t\t// Store hidden/visible for toggle so `.stop().toggle()` \"reverses\"\n\t\t\tif ( toggle ) {\n\t\t\t\tdataShow.hidden = !hidden;\n\t\t\t}\n\n\t\t\t// Show elements before animating them\n\t\t\tif ( hidden ) {\n\t\t\t\tshowHide( [ elem ], true );\n\t\t\t}\n\n\t\t\t/* eslint-disable no-loop-func */\n\n\t\t\tanim.done( function() {\n\n\t\t\t/* eslint-enable no-loop-func */\n\n\t\t\t\t// The final step of a \"hide\" animation is actually hiding the element\n\t\t\t\tif ( !hidden ) {\n\t\t\t\t\tshowHide( [ elem ] );\n\t\t\t\t}\n\t\t\t\tdataPriv.remove( elem, \"fxshow\" );\n\t\t\t\tfor ( prop in orig ) {\n\t\t\t\t\tjQuery.style( elem, prop, orig[ prop ] );\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\n\t\t// Per-property setup\n\t\tpropTween = createTween( hidden ? dataShow[ prop ] : 0, prop, anim );\n\t\tif ( !( prop in dataShow ) ) {\n\t\t\tdataShow[ prop ] = propTween.start;\n\t\t\tif ( hidden ) {\n\t\t\t\tpropTween.end = propTween.start;\n\t\t\t\tpropTween.start = 0;\n\t\t\t}\n\t\t}\n\t}\n}\n\nfunction propFilter( props, specialEasing ) {\n\tvar index, name, easing, value, hooks;\n\n\t// camelCase, specialEasing and expand cssHook pass\n\tfor ( index in props ) {\n\t\tname = jQuery.camelCase( index );\n\t\teasing = specialEasing[ name ];\n\t\tvalue = props[ index ];\n\t\tif ( Array.isArray( value ) ) {\n\t\t\teasing = value[ 1 ];\n\t\t\tvalue = props[ index ] = value[ 0 ];\n\t\t}\n\n\t\tif ( index !== name ) {\n\t\t\tprops[ name ] = value;\n\t\t\tdelete props[ index ];\n\t\t}\n\n\t\thooks = jQuery.cssHooks[ name ];\n\t\tif ( hooks && \"expand\" in hooks ) {\n\t\t\tvalue = hooks.expand( value );\n\t\t\tdelete props[ name ];\n\n\t\t\t// Not quite $.extend, this won't overwrite existing keys.\n\t\t\t// Reusing 'index' because we have the correct \"name\"\n\t\t\tfor ( index in value ) {\n\t\t\t\tif ( !( index in props ) ) {\n\t\t\t\t\tprops[ index ] = value[ index ];\n\t\t\t\t\tspecialEasing[ index ] = easing;\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tspecialEasing[ name ] = easing;\n\t\t}\n\t}\n}\n\nfunction Animation( elem, properties, options ) {\n\tvar result,\n\t\tstopped,\n\t\tindex = 0,\n\t\tlength = Animation.prefilters.length,\n\t\tdeferred = jQuery.Deferred().always( function() {\n\n\t\t\t// Don't match elem in the :animated selector\n\t\t\tdelete tick.elem;\n\t\t} ),\n\t\ttick = function() {\n\t\t\tif ( stopped ) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tvar currentTime = fxNow || createFxNow(),\n\t\t\t\tremaining = Math.max( 0, animation.startTime + animation.duration - currentTime ),\n\n\t\t\t\t// Support: Android 2.3 only\n\t\t\t\t// Archaic crash bug won't allow us to use `1 - ( 0.5 || 0 )` (#12497)\n\t\t\t\ttemp = remaining / animation.duration || 0,\n\t\t\t\tpercent = 1 - temp,\n\t\t\t\tindex = 0,\n\t\t\t\tlength = animation.tweens.length;\n\n\t\t\tfor ( ; index < length; index++ ) {\n\t\t\t\tanimation.tweens[ index ].run( percent );\n\t\t\t}\n\n\t\t\tdeferred.notifyWith( elem, [ animation, percent, remaining ] );\n\n\t\t\t// If there's more to do, yield\n\t\t\tif ( percent < 1 && length ) {\n\t\t\t\treturn remaining;\n\t\t\t}\n\n\t\t\t// If this was an empty animation, synthesize a final progress notification\n\t\t\tif ( !length ) {\n\t\t\t\tdeferred.notifyWith( elem, [ animation, 1, 0 ] );\n\t\t\t}\n\n\t\t\t// Resolve the animation and report its conclusion\n\t\t\tdeferred.resolveWith( elem, [ animation ] );\n\t\t\treturn false;\n\t\t},\n\t\tanimation = deferred.promise( {\n\t\t\telem: elem,\n\t\t\tprops: jQuery.extend( {}, properties ),\n\t\t\topts: jQuery.extend( true, {\n\t\t\t\tspecialEasing: {},\n\t\t\t\teasing: jQuery.easing._default\n\t\t\t}, options ),\n\t\t\toriginalProperties: properties,\n\t\t\toriginalOptions: options,\n\t\t\tstartTime: fxNow || createFxNow(),\n\t\t\tduration: options.duration,\n\t\t\ttweens: [],\n\t\t\tcreateTween: function( prop, end ) {\n\t\t\t\tvar tween = jQuery.Tween( elem, animation.opts, prop, end,\n\t\t\t\t\t\tanimation.opts.specialEasing[ prop ] || animation.opts.easing );\n\t\t\t\tanimation.tweens.push( tween );\n\t\t\t\treturn tween;\n\t\t\t},\n\t\t\tstop: function( gotoEnd ) {\n\t\t\t\tvar index = 0,\n\n\t\t\t\t\t// If we are going to the end, we want to run all the tweens\n\t\t\t\t\t// otherwise we skip this part\n\t\t\t\t\tlength = gotoEnd ? animation.tweens.length : 0;\n\t\t\t\tif ( stopped ) {\n\t\t\t\t\treturn this;\n\t\t\t\t}\n\t\t\t\tstopped = true;\n\t\t\t\tfor ( ; index < length; index++ ) {\n\t\t\t\t\tanimation.tweens[ index ].run( 1 );\n\t\t\t\t}\n\n\t\t\t\t// Resolve when we played the last frame; otherwise, reject\n\t\t\t\tif ( gotoEnd ) {\n\t\t\t\t\tdeferred.notifyWith( elem, [ animation, 1, 0 ] );\n\t\t\t\t\tdeferred.resolveWith( elem, [ animation, gotoEnd ] );\n\t\t\t\t} else {\n\t\t\t\t\tdeferred.rejectWith( elem, [ animation, gotoEnd ] );\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t}\n\t\t} ),\n\t\tprops = animation.props;\n\n\tpropFilter( props, animation.opts.specialEasing );\n\n\tfor ( ; index < length; index++ ) {\n\t\tresult = Animation.prefilters[ index ].call( animation, elem, props, animation.opts );\n\t\tif ( result ) {\n\t\t\tif ( jQuery.isFunction( result.stop ) ) {\n\t\t\t\tjQuery._queueHooks( animation.elem, animation.opts.queue ).stop =\n\t\t\t\t\tjQuery.proxy( result.stop, result );\n\t\t\t}\n\t\t\treturn result;\n\t\t}\n\t}\n\n\tjQuery.map( props, createTween, animation );\n\n\tif ( jQuery.isFunction( animation.opts.start ) ) {\n\t\tanimation.opts.start.call( elem, animation );\n\t}\n\n\t// Attach callbacks from options\n\tanimation\n\t\t.progress( animation.opts.progress )\n\t\t.done( animation.opts.done, animation.opts.complete )\n\t\t.fail( animation.opts.fail )\n\t\t.always( animation.opts.always );\n\n\tjQuery.fx.timer(\n\t\tjQuery.extend( tick, {\n\t\t\telem: elem,\n\t\t\tanim: animation,\n\t\t\tqueue: animation.opts.queue\n\t\t} )\n\t);\n\n\treturn animation;\n}\n\njQuery.Animation = jQuery.extend( Animation, {\n\n\ttweeners: {\n\t\t\"*\": [ function( prop, value ) {\n\t\t\tvar tween = this.createTween( prop, value );\n\t\t\tadjustCSS( tween.elem, prop, rcssNum.exec( value ), tween );\n\t\t\treturn tween;\n\t\t} ]\n\t},\n\n\ttweener: function( props, callback ) {\n\t\tif ( jQuery.isFunction( props ) ) {\n\t\t\tcallback = props;\n\t\t\tprops = [ \"*\" ];\n\t\t} else {\n\t\t\tprops = props.match( rnothtmlwhite );\n\t\t}\n\n\t\tvar prop,\n\t\t\tindex = 0,\n\t\t\tlength = props.length;\n\n\t\tfor ( ; index < length; index++ ) {\n\t\t\tprop = props[ index ];\n\t\t\tAnimation.tweeners[ prop ] = Animation.tweeners[ prop ] || [];\n\t\t\tAnimation.tweeners[ prop ].unshift( callback );\n\t\t}\n\t},\n\n\tprefilters: [ defaultPrefilter ],\n\n\tprefilter: function( callback, prepend ) {\n\t\tif ( prepend ) {\n\t\t\tAnimation.prefilters.unshift( callback );\n\t\t} else {\n\t\t\tAnimation.prefilters.push( callback );\n\t\t}\n\t}\n} );\n\njQuery.speed = function( speed, easing, fn ) {\n\tvar opt = speed && typeof speed === \"object\" ? jQuery.extend( {}, speed ) : {\n\t\tcomplete: fn || !fn && easing ||\n\t\t\tjQuery.isFunction( speed ) && speed,\n\t\tduration: speed,\n\t\teasing: fn && easing || easing && !jQuery.isFunction( easing ) && easing\n\t};\n\n\t// Go to the end state if fx are off\n\tif ( jQuery.fx.off ) {\n\t\topt.duration = 0;\n\n\t} else {\n\t\tif ( typeof opt.duration !== \"number\" ) {\n\t\t\tif ( opt.duration in jQuery.fx.speeds ) {\n\t\t\t\topt.duration = jQuery.fx.speeds[ opt.duration ];\n\n\t\t\t} else {\n\t\t\t\topt.duration = jQuery.fx.speeds._default;\n\t\t\t}\n\t\t}\n\t}\n\n\t// Normalize opt.queue - true/undefined/null -> \"fx\"\n\tif ( opt.queue == null || opt.queue === true ) {\n\t\topt.queue = \"fx\";\n\t}\n\n\t// Queueing\n\topt.old = opt.complete;\n\n\topt.complete = function() {\n\t\tif ( jQuery.isFunction( opt.old ) ) {\n\t\t\topt.old.call( this );\n\t\t}\n\n\t\tif ( opt.queue ) {\n\t\t\tjQuery.dequeue( this, opt.queue );\n\t\t}\n\t};\n\n\treturn opt;\n};\n\njQuery.fn.extend( {\n\tfadeTo: function( speed, to, easing, callback ) {\n\n\t\t// Show any hidden elements after setting opacity to 0\n\t\treturn this.filter( isHiddenWithinTree ).css( \"opacity\", 0 ).show()\n\n\t\t\t// Animate to the value specified\n\t\t\t.end().animate( { opacity: to }, speed, easing, callback );\n\t},\n\tanimate: function( prop, speed, easing, callback ) {\n\t\tvar empty = jQuery.isEmptyObject( prop ),\n\t\t\toptall = jQuery.speed( speed, easing, callback ),\n\t\t\tdoAnimation = function() {\n\n\t\t\t\t// Operate on a copy of prop so per-property easing won't be lost\n\t\t\t\tvar anim = Animation( this, jQuery.extend( {}, prop ), optall );\n\n\t\t\t\t// Empty animations, or finishing resolves immediately\n\t\t\t\tif ( empty || dataPriv.get( this, \"finish\" ) ) {\n\t\t\t\t\tanim.stop( true );\n\t\t\t\t}\n\t\t\t};\n\t\t\tdoAnimation.finish = doAnimation;\n\n\t\treturn empty || optall.queue === false ?\n\t\t\tthis.each( doAnimation ) :\n\t\t\tthis.queue( optall.queue, doAnimation );\n\t},\n\tstop: function( type, clearQueue, gotoEnd ) {\n\t\tvar stopQueue = function( hooks ) {\n\t\t\tvar stop = hooks.stop;\n\t\t\tdelete hooks.stop;\n\t\t\tstop( gotoEnd );\n\t\t};\n\n\t\tif ( typeof type !== \"string\" ) {\n\t\t\tgotoEnd = clearQueue;\n\t\t\tclearQueue = type;\n\t\t\ttype = undefined;\n\t\t}\n\t\tif ( clearQueue && type !== false ) {\n\t\t\tthis.queue( type || \"fx\", [] );\n\t\t}\n\n\t\treturn this.each( function() {\n\t\t\tvar dequeue = true,\n\t\t\t\tindex = type != null && type + \"queueHooks\",\n\t\t\t\ttimers = jQuery.timers,\n\t\t\t\tdata = dataPriv.get( this );\n\n\t\t\tif ( index ) {\n\t\t\t\tif ( data[ index ] && data[ index ].stop ) {\n\t\t\t\t\tstopQueue( data[ index ] );\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tfor ( index in data ) {\n\t\t\t\t\tif ( data[ index ] && data[ index ].stop && rrun.test( index ) ) {\n\t\t\t\t\t\tstopQueue( data[ index ] );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfor ( index = timers.length; index--; ) {\n\t\t\t\tif ( timers[ index ].elem === this &&\n\t\t\t\t\t( type == null || timers[ index ].queue === type ) ) {\n\n\t\t\t\t\ttimers[ index ].anim.stop( gotoEnd );\n\t\t\t\t\tdequeue = false;\n\t\t\t\t\ttimers.splice( index, 1 );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Start the next in the queue if the last step wasn't forced.\n\t\t\t// Timers currently will call their complete callbacks, which\n\t\t\t// will dequeue but only if they were gotoEnd.\n\t\t\tif ( dequeue || !gotoEnd ) {\n\t\t\t\tjQuery.dequeue( this, type );\n\t\t\t}\n\t\t} );\n\t},\n\tfinish: function( type ) {\n\t\tif ( type !== false ) {\n\t\t\ttype = type || \"fx\";\n\t\t}\n\t\treturn this.each( function() {\n\t\t\tvar index,\n\t\t\t\tdata = dataPriv.get( this ),\n\t\t\t\tqueue = data[ type + \"queue\" ],\n\t\t\t\thooks = data[ type + \"queueHooks\" ],\n\t\t\t\ttimers = jQuery.timers,\n\t\t\t\tlength = queue ? queue.length : 0;\n\n\t\t\t// Enable finishing flag on private data\n\t\t\tdata.finish = true;\n\n\t\t\t// Empty the queue first\n\t\t\tjQuery.queue( this, type, [] );\n\n\t\t\tif ( hooks && hooks.stop ) {\n\t\t\t\thooks.stop.call( this, true );\n\t\t\t}\n\n\t\t\t// Look for any active animations, and finish them\n\t\t\tfor ( index = timers.length; index--; ) {\n\t\t\t\tif ( timers[ index ].elem === this && timers[ index ].queue === type ) {\n\t\t\t\t\ttimers[ index ].anim.stop( true );\n\t\t\t\t\ttimers.splice( index, 1 );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Look for any animations in the old queue and finish them\n\t\t\tfor ( index = 0; index < length; index++ ) {\n\t\t\t\tif ( queue[ index ] && queue[ index ].finish ) {\n\t\t\t\t\tqueue[ index ].finish.call( this );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Turn off finishing flag\n\t\t\tdelete data.finish;\n\t\t} );\n\t}\n} );\n\njQuery.each( [ \"toggle\", \"show\", \"hide\" ], function( i, name ) {\n\tvar cssFn = jQuery.fn[ name ];\n\tjQuery.fn[ name ] = function( speed, easing, callback ) {\n\t\treturn speed == null || typeof speed === \"boolean\" ?\n\t\t\tcssFn.apply( this, arguments ) :\n\t\t\tthis.animate( genFx( name, true ), speed, easing, callback );\n\t};\n} );\n\n// Generate shortcuts for custom animations\njQuery.each( {\n\tslideDown: genFx( \"show\" ),\n\tslideUp: genFx( \"hide\" ),\n\tslideToggle: genFx( \"toggle\" ),\n\tfadeIn: { opacity: \"show\" },\n\tfadeOut: { opacity: \"hide\" },\n\tfadeToggle: { opacity: \"toggle\" }\n}, function( name, props ) {\n\tjQuery.fn[ name ] = function( speed, easing, callback ) {\n\t\treturn this.animate( props, speed, easing, callback );\n\t};\n} );\n\njQuery.timers = [];\njQuery.fx.tick = function() {\n\tvar timer,\n\t\ti = 0,\n\t\ttimers = jQuery.timers;\n\n\tfxNow = jQuery.now();\n\n\tfor ( ; i < timers.length; i++ ) {\n\t\ttimer = timers[ i ];\n\n\t\t// Run the timer and safely remove it when done (allowing for external removal)\n\t\tif ( !timer() && timers[ i ] === timer ) {\n\t\t\ttimers.splice( i--, 1 );\n\t\t}\n\t}\n\n\tif ( !timers.length ) {\n\t\tjQuery.fx.stop();\n\t}\n\tfxNow = undefined;\n};\n\njQuery.fx.timer = function( timer ) {\n\tjQuery.timers.push( timer );\n\tjQuery.fx.start();\n};\n\njQuery.fx.interval = 13;\njQuery.fx.start = function() {\n\tif ( inProgress ) {\n\t\treturn;\n\t}\n\n\tinProgress = true;\n\tschedule();\n};\n\njQuery.fx.stop = function() {\n\tinProgress = null;\n};\n\njQuery.fx.speeds = {\n\tslow: 600,\n\tfast: 200,\n\n\t// Default speed\n\t_default: 400\n};\n\n\n// Based off of the plugin by Clint Helfers, with permission.\n// https://web.archive.org/web/20100324014747/http://blindsignals.com/index.php/2009/07/jquery-delay/\njQuery.fn.delay = function( time, type ) {\n\ttime = jQuery.fx ? jQuery.fx.speeds[ time ] || time : time;\n\ttype = type || \"fx\";\n\n\treturn this.queue( type, function( next, hooks ) {\n\t\tvar timeout = window.setTimeout( next, time );\n\t\thooks.stop = function() {\n\t\t\twindow.clearTimeout( timeout );\n\t\t};\n\t} );\n};\n\n\n( function() {\n\tvar input = document.createElement( \"input\" ),\n\t\tselect = document.createElement( \"select\" ),\n\t\topt = select.appendChild( document.createElement( \"option\" ) );\n\n\tinput.type = \"checkbox\";\n\n\t// Support: Android <=4.3 only\n\t// Default value for a checkbox should be \"on\"\n\tsupport.checkOn = input.value !== \"\";\n\n\t// Support: IE <=11 only\n\t// Must access selectedIndex to make default options select\n\tsupport.optSelected = opt.selected;\n\n\t// Support: IE <=11 only\n\t// An input loses its value after becoming a radio\n\tinput = document.createElement( \"input\" );\n\tinput.value = \"t\";\n\tinput.type = \"radio\";\n\tsupport.radioValue = input.value === \"t\";\n} )();\n\n\nvar boolHook,\n\tattrHandle = jQuery.expr.attrHandle;\n\njQuery.fn.extend( {\n\tattr: function( name, value ) {\n\t\treturn access( this, jQuery.attr, name, value, arguments.length > 1 );\n\t},\n\n\tremoveAttr: function( name ) {\n\t\treturn this.each( function() {\n\t\t\tjQuery.removeAttr( this, name );\n\t\t} );\n\t}\n} );\n\njQuery.extend( {\n\tattr: function( elem, name, value ) {\n\t\tvar ret, hooks,\n\t\t\tnType = elem.nodeType;\n\n\t\t// Don't get/set attributes on text, comment and attribute nodes\n\t\tif ( nType === 3 || nType === 8 || nType === 2 ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Fallback to prop when attributes are not supported\n\t\tif ( typeof elem.getAttribute === \"undefined\" ) {\n\t\t\treturn jQuery.prop( elem, name, value );\n\t\t}\n\n\t\t// Attribute hooks are determined by the lowercase version\n\t\t// Grab necessary hook if one is defined\n\t\tif ( nType !== 1 || !jQuery.isXMLDoc( elem ) ) {\n\t\t\thooks = jQuery.attrHooks[ name.toLowerCase() ] ||\n\t\t\t\t( jQuery.expr.match.bool.test( name ) ? boolHook : undefined );\n\t\t}\n\n\t\tif ( value !== undefined ) {\n\t\t\tif ( value === null ) {\n\t\t\t\tjQuery.removeAttr( elem, name );\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif ( hooks && \"set\" in hooks &&\n\t\t\t\t( ret = hooks.set( elem, value, name ) ) !== undefined ) {\n\t\t\t\treturn ret;\n\t\t\t}\n\n\t\t\telem.setAttribute( name, value + \"\" );\n\t\t\treturn value;\n\t\t}\n\n\t\tif ( hooks && \"get\" in hooks && ( ret = hooks.get( elem, name ) ) !== null ) {\n\t\t\treturn ret;\n\t\t}\n\n\t\tret = jQuery.find.attr( elem, name );\n\n\t\t// Non-existent attributes return null, we normalize to undefined\n\t\treturn ret == null ? undefined : ret;\n\t},\n\n\tattrHooks: {\n\t\ttype: {\n\t\t\tset: function( elem, value ) {\n\t\t\t\tif ( !support.radioValue && value === \"radio\" &&\n\t\t\t\t\tnodeName( elem, \"input\" ) ) {\n\t\t\t\t\tvar val = elem.value;\n\t\t\t\t\telem.setAttribute( \"type\", value );\n\t\t\t\t\tif ( val ) {\n\t\t\t\t\t\telem.value = val;\n\t\t\t\t\t}\n\t\t\t\t\treturn value;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\tremoveAttr: function( elem, value ) {\n\t\tvar name,\n\t\t\ti = 0,\n\n\t\t\t// Attribute names can contain non-HTML whitespace characters\n\t\t\t// https://html.spec.whatwg.org/multipage/syntax.html#attributes-2\n\t\t\tattrNames = value && value.match( rnothtmlwhite );\n\n\t\tif ( attrNames && elem.nodeType === 1 ) {\n\t\t\twhile ( ( name = attrNames[ i++ ] ) ) {\n\t\t\t\telem.removeAttribute( name );\n\t\t\t}\n\t\t}\n\t}\n} );\n\n// Hooks for boolean attributes\nboolHook = {\n\tset: function( elem, value, name ) {\n\t\tif ( value === false ) {\n\n\t\t\t// Remove boolean attributes when set to false\n\t\t\tjQuery.removeAttr( elem, name );\n\t\t} else {\n\t\t\telem.setAttribute( name, name );\n\t\t}\n\t\treturn name;\n\t}\n};\n\njQuery.each( jQuery.expr.match.bool.source.match( /\\w+/g ), function( i, name ) {\n\tvar getter = attrHandle[ name ] || jQuery.find.attr;\n\n\tattrHandle[ name ] = function( elem, name, isXML ) {\n\t\tvar ret, handle,\n\t\t\tlowercaseName = name.toLowerCase();\n\n\t\tif ( !isXML ) {\n\n\t\t\t// Avoid an infinite loop by temporarily removing this function from the getter\n\t\t\thandle = attrHandle[ lowercaseName ];\n\t\t\tattrHandle[ lowercaseName ] = ret;\n\t\t\tret = getter( elem, name, isXML ) != null ?\n\t\t\t\tlowercaseName :\n\t\t\t\tnull;\n\t\t\tattrHandle[ lowercaseName ] = handle;\n\t\t}\n\t\treturn ret;\n\t};\n} );\n\n\n\n\nvar rfocusable = /^(?:input|select|textarea|button)$/i,\n\trclickable = /^(?:a|area)$/i;\n\njQuery.fn.extend( {\n\tprop: function( name, value ) {\n\t\treturn access( this, jQuery.prop, name, value, arguments.length > 1 );\n\t},\n\n\tremoveProp: function( name ) {\n\t\treturn this.each( function() {\n\t\t\tdelete this[ jQuery.propFix[ name ] || name ];\n\t\t} );\n\t}\n} );\n\njQuery.extend( {\n\tprop: function( elem, name, value ) {\n\t\tvar ret, hooks,\n\t\t\tnType = elem.nodeType;\n\n\t\t// Don't get/set properties on text, comment and attribute nodes\n\t\tif ( nType === 3 || nType === 8 || nType === 2 ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( nType !== 1 || !jQuery.isXMLDoc( elem ) ) {\n\n\t\t\t// Fix name and attach hooks\n\t\t\tname = jQuery.propFix[ name ] || name;\n\t\t\thooks = jQuery.propHooks[ name ];\n\t\t}\n\n\t\tif ( value !== undefined ) {\n\t\t\tif ( hooks && \"set\" in hooks &&\n\t\t\t\t( ret = hooks.set( elem, value, name ) ) !== undefined ) {\n\t\t\t\treturn ret;\n\t\t\t}\n\n\t\t\treturn ( elem[ name ] = value );\n\t\t}\n\n\t\tif ( hooks && \"get\" in hooks && ( ret = hooks.get( elem, name ) ) !== null ) {\n\t\t\treturn ret;\n\t\t}\n\n\t\treturn elem[ name ];\n\t},\n\n\tpropHooks: {\n\t\ttabIndex: {\n\t\t\tget: function( elem ) {\n\n\t\t\t\t// Support: IE <=9 - 11 only\n\t\t\t\t// elem.tabIndex doesn't always return the\n\t\t\t\t// correct value when it hasn't been explicitly set\n\t\t\t\t// https://web.archive.org/web/20141116233347/http://fluidproject.org/blog/2008/01/09/getting-setting-and-removing-tabindex-values-with-javascript/\n\t\t\t\t// Use proper attribute retrieval(#12072)\n\t\t\t\tvar tabindex = jQuery.find.attr( elem, \"tabindex\" );\n\n\t\t\t\tif ( tabindex ) {\n\t\t\t\t\treturn parseInt( tabindex, 10 );\n\t\t\t\t}\n\n\t\t\t\tif (\n\t\t\t\t\trfocusable.test( elem.nodeName ) ||\n\t\t\t\t\trclickable.test( elem.nodeName ) &&\n\t\t\t\t\telem.href\n\t\t\t\t) {\n\t\t\t\t\treturn 0;\n\t\t\t\t}\n\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t}\n\t},\n\n\tpropFix: {\n\t\t\"for\": \"htmlFor\",\n\t\t\"class\": \"className\"\n\t}\n} );\n\n// Support: IE <=11 only\n// Accessing the selectedIndex property\n// forces the browser to respect setting selected\n// on the option\n// The getter ensures a default option is selected\n// when in an optgroup\n// eslint rule \"no-unused-expressions\" is disabled for this code\n// since it considers such accessions noop\nif ( !support.optSelected ) {\n\tjQuery.propHooks.selected = {\n\t\tget: function( elem ) {\n\n\t\t\t/* eslint no-unused-expressions: \"off\" */\n\n\t\t\tvar parent = elem.parentNode;\n\t\t\tif ( parent && parent.parentNode ) {\n\t\t\t\tparent.parentNode.selectedIndex;\n\t\t\t}\n\t\t\treturn null;\n\t\t},\n\t\tset: function( elem ) {\n\n\t\t\t/* eslint no-unused-expressions: \"off\" */\n\n\t\t\tvar parent = elem.parentNode;\n\t\t\tif ( parent ) {\n\t\t\t\tparent.selectedIndex;\n\n\t\t\t\tif ( parent.parentNode ) {\n\t\t\t\t\tparent.parentNode.selectedIndex;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n}\n\njQuery.each( [\n\t\"tabIndex\",\n\t\"readOnly\",\n\t\"maxLength\",\n\t\"cellSpacing\",\n\t\"cellPadding\",\n\t\"rowSpan\",\n\t\"colSpan\",\n\t\"useMap\",\n\t\"frameBorder\",\n\t\"contentEditable\"\n], function() {\n\tjQuery.propFix[ this.toLowerCase() ] = this;\n} );\n\n\n\n\n\t// Strip and collapse whitespace according to HTML spec\n\t// https://html.spec.whatwg.org/multipage/infrastructure.html#strip-and-collapse-whitespace\n\tfunction stripAndCollapse( value ) {\n\t\tvar tokens = value.match( rnothtmlwhite ) || [];\n\t\treturn tokens.join( \" \" );\n\t}\n\n\nfunction getClass( elem ) {\n\treturn elem.getAttribute && elem.getAttribute( \"class\" ) || \"\";\n}\n\njQuery.fn.extend( {\n\taddClass: function( value ) {\n\t\tvar classes, elem, cur, curValue, clazz, j, finalValue,\n\t\t\ti = 0;\n\n\t\tif ( jQuery.isFunction( value ) ) {\n\t\t\treturn this.each( function( j ) {\n\t\t\t\tjQuery( this ).addClass( value.call( this, j, getClass( this ) ) );\n\t\t\t} );\n\t\t}\n\n\t\tif ( typeof value === \"string\" && value ) {\n\t\t\tclasses = value.match( rnothtmlwhite ) || [];\n\n\t\t\twhile ( ( elem = this[ i++ ] ) ) {\n\t\t\t\tcurValue = getClass( elem );\n\t\t\t\tcur = elem.nodeType === 1 && ( \" \" + stripAndCollapse( curValue ) + \" \" );\n\n\t\t\t\tif ( cur ) {\n\t\t\t\t\tj = 0;\n\t\t\t\t\twhile ( ( clazz = classes[ j++ ] ) ) {\n\t\t\t\t\t\tif ( cur.indexOf( \" \" + clazz + \" \" ) < 0 ) {\n\t\t\t\t\t\t\tcur += clazz + \" \";\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Only assign if different to avoid unneeded rendering.\n\t\t\t\t\tfinalValue = stripAndCollapse( cur );\n\t\t\t\t\tif ( curValue !== finalValue ) {\n\t\t\t\t\t\telem.setAttribute( \"class\", finalValue );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn this;\n\t},\n\n\tremoveClass: function( value ) {\n\t\tvar classes, elem, cur, curValue, clazz, j, finalValue,\n\t\t\ti = 0;\n\n\t\tif ( jQuery.isFunction( value ) ) {\n\t\t\treturn this.each( function( j ) {\n\t\t\t\tjQuery( this ).removeClass( value.call( this, j, getClass( this ) ) );\n\t\t\t} );\n\t\t}\n\n\t\tif ( !arguments.length ) {\n\t\t\treturn this.attr( \"class\", \"\" );\n\t\t}\n\n\t\tif ( typeof value === \"string\" && value ) {\n\t\t\tclasses = value.match( rnothtmlwhite ) || [];\n\n\t\t\twhile ( ( elem = this[ i++ ] ) ) {\n\t\t\t\tcurValue = getClass( elem );\n\n\t\t\t\t// This expression is here for better compressibility (see addClass)\n\t\t\t\tcur = elem.nodeType === 1 && ( \" \" + stripAndCollapse( curValue ) + \" \" );\n\n\t\t\t\tif ( cur ) {\n\t\t\t\t\tj = 0;\n\t\t\t\t\twhile ( ( clazz = classes[ j++ ] ) ) {\n\n\t\t\t\t\t\t// Remove *all* instances\n\t\t\t\t\t\twhile ( cur.indexOf( \" \" + clazz + \" \" ) > -1 ) {\n\t\t\t\t\t\t\tcur = cur.replace( \" \" + clazz + \" \", \" \" );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Only assign if different to avoid unneeded rendering.\n\t\t\t\t\tfinalValue = stripAndCollapse( cur );\n\t\t\t\t\tif ( curValue !== finalValue ) {\n\t\t\t\t\t\telem.setAttribute( \"class\", finalValue );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn this;\n\t},\n\n\ttoggleClass: function( value, stateVal ) {\n\t\tvar type = typeof value;\n\n\t\tif ( typeof stateVal === \"boolean\" && type === \"string\" ) {\n\t\t\treturn stateVal ? this.addClass( value ) : this.removeClass( value );\n\t\t}\n\n\t\tif ( jQuery.isFunction( value ) ) {\n\t\t\treturn this.each( function( i ) {\n\t\t\t\tjQuery( this ).toggleClass(\n\t\t\t\t\tvalue.call( this, i, getClass( this ), stateVal ),\n\t\t\t\t\tstateVal\n\t\t\t\t);\n\t\t\t} );\n\t\t}\n\n\t\treturn this.each( function() {\n\t\t\tvar className, i, self, classNames;\n\n\t\t\tif ( type === \"string\" ) {\n\n\t\t\t\t// Toggle individual class names\n\t\t\t\ti = 0;\n\t\t\t\tself = jQuery( this );\n\t\t\t\tclassNames = value.match( rnothtmlwhite ) || [];\n\n\t\t\t\twhile ( ( className = classNames[ i++ ] ) ) {\n\n\t\t\t\t\t// Check each className given, space separated list\n\t\t\t\t\tif ( self.hasClass( className ) ) {\n\t\t\t\t\t\tself.removeClass( className );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tself.addClass( className );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t// Toggle whole class name\n\t\t\t} else if ( value === undefined || type === \"boolean\" ) {\n\t\t\t\tclassName = getClass( this );\n\t\t\t\tif ( className ) {\n\n\t\t\t\t\t// Store className if set\n\t\t\t\t\tdataPriv.set( this, \"__className__\", className );\n\t\t\t\t}\n\n\t\t\t\t// If the element has a class name or if we're passed `false`,\n\t\t\t\t// then remove the whole classname (if there was one, the above saved it).\n\t\t\t\t// Otherwise bring back whatever was previously saved (if anything),\n\t\t\t\t// falling back to the empty string if nothing was stored.\n\t\t\t\tif ( this.setAttribute ) {\n\t\t\t\t\tthis.setAttribute( \"class\",\n\t\t\t\t\t\tclassName || value === false ?\n\t\t\t\t\t\t\"\" :\n\t\t\t\t\t\tdataPriv.get( this, \"__className__\" ) || \"\"\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\t} );\n\t},\n\n\thasClass: function( selector ) {\n\t\tvar className, elem,\n\t\t\ti = 0;\n\n\t\tclassName = \" \" + selector + \" \";\n\t\twhile ( ( elem = this[ i++ ] ) ) {\n\t\t\tif ( elem.nodeType === 1 &&\n\t\t\t\t( \" \" + stripAndCollapse( getClass( elem ) ) + \" \" ).indexOf( className ) > -1 ) {\n\t\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n} );\n\n\n\n\nvar rreturn = /\\r/g;\n\njQuery.fn.extend( {\n\tval: function( value ) {\n\t\tvar hooks, ret, isFunction,\n\t\t\telem = this[ 0 ];\n\n\t\tif ( !arguments.length ) {\n\t\t\tif ( elem ) {\n\t\t\t\thooks = jQuery.valHooks[ elem.type ] ||\n\t\t\t\t\tjQuery.valHooks[ elem.nodeName.toLowerCase() ];\n\n\t\t\t\tif ( hooks &&\n\t\t\t\t\t\"get\" in hooks &&\n\t\t\t\t\t( ret = hooks.get( elem, \"value\" ) ) !== undefined\n\t\t\t\t) {\n\t\t\t\t\treturn ret;\n\t\t\t\t}\n\n\t\t\t\tret = elem.value;\n\n\t\t\t\t// Handle most common string cases\n\t\t\t\tif ( typeof ret === \"string\" ) {\n\t\t\t\t\treturn ret.replace( rreturn, \"\" );\n\t\t\t\t}\n\n\t\t\t\t// Handle cases where value is null/undef or number\n\t\t\t\treturn ret == null ? \"\" : ret;\n\t\t\t}\n\n\t\t\treturn;\n\t\t}\n\n\t\tisFunction = jQuery.isFunction( value );\n\n\t\treturn this.each( function( i ) {\n\t\t\tvar val;\n\n\t\t\tif ( this.nodeType !== 1 ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif ( isFunction ) {\n\t\t\t\tval = value.call( this, i, jQuery( this ).val() );\n\t\t\t} else {\n\t\t\t\tval = value;\n\t\t\t}\n\n\t\t\t// Treat null/undefined as \"\"; convert numbers to string\n\t\t\tif ( val == null ) {\n\t\t\t\tval = \"\";\n\n\t\t\t} else if ( typeof val === \"number\" ) {\n\t\t\t\tval += \"\";\n\n\t\t\t} else if ( Array.isArray( val ) ) {\n\t\t\t\tval = jQuery.map( val, function( value ) {\n\t\t\t\t\treturn value == null ? \"\" : value + \"\";\n\t\t\t\t} );\n\t\t\t}\n\n\t\t\thooks = jQuery.valHooks[ this.type ] || jQuery.valHooks[ this.nodeName.toLowerCase() ];\n\n\t\t\t// If set returns undefined, fall back to normal setting\n\t\t\tif ( !hooks || !( \"set\" in hooks ) || hooks.set( this, val, \"value\" ) === undefined ) {\n\t\t\t\tthis.value = val;\n\t\t\t}\n\t\t} );\n\t}\n} );\n\njQuery.extend( {\n\tvalHooks: {\n\t\toption: {\n\t\t\tget: function( elem ) {\n\n\t\t\t\tvar val = jQuery.find.attr( elem, \"value\" );\n\t\t\t\treturn val != null ?\n\t\t\t\t\tval :\n\n\t\t\t\t\t// Support: IE <=10 - 11 only\n\t\t\t\t\t// option.text throws exceptions (#14686, #14858)\n\t\t\t\t\t// Strip and collapse whitespace\n\t\t\t\t\t// https://html.spec.whatwg.org/#strip-and-collapse-whitespace\n\t\t\t\t\tstripAndCollapse( jQuery.text( elem ) );\n\t\t\t}\n\t\t},\n\t\tselect: {\n\t\t\tget: function( elem ) {\n\t\t\t\tvar value, option, i,\n\t\t\t\t\toptions = elem.options,\n\t\t\t\t\tindex = elem.selectedIndex,\n\t\t\t\t\tone = elem.type === \"select-one\",\n\t\t\t\t\tvalues = one ? null : [],\n\t\t\t\t\tmax = one ? index + 1 : options.length;\n\n\t\t\t\tif ( index < 0 ) {\n\t\t\t\t\ti = max;\n\n\t\t\t\t} else {\n\t\t\t\t\ti = one ? index : 0;\n\t\t\t\t}\n\n\t\t\t\t// Loop through all the selected options\n\t\t\t\tfor ( ; i < max; i++ ) {\n\t\t\t\t\toption = options[ i ];\n\n\t\t\t\t\t// Support: IE <=9 only\n\t\t\t\t\t// IE8-9 doesn't update selected after form reset (#2551)\n\t\t\t\t\tif ( ( option.selected || i === index ) &&\n\n\t\t\t\t\t\t\t// Don't return options that are disabled or in a disabled optgroup\n\t\t\t\t\t\t\t!option.disabled &&\n\t\t\t\t\t\t\t( !option.parentNode.disabled ||\n\t\t\t\t\t\t\t\t!nodeName( option.parentNode, \"optgroup\" ) ) ) {\n\n\t\t\t\t\t\t// Get the specific value for the option\n\t\t\t\t\t\tvalue = jQuery( option ).val();\n\n\t\t\t\t\t\t// We don't need an array for one selects\n\t\t\t\t\t\tif ( one ) {\n\t\t\t\t\t\t\treturn value;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Multi-Selects return an array\n\t\t\t\t\t\tvalues.push( value );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn values;\n\t\t\t},\n\n\t\t\tset: function( elem, value ) {\n\t\t\t\tvar optionSet, option,\n\t\t\t\t\toptions = elem.options,\n\t\t\t\t\tvalues = jQuery.makeArray( value ),\n\t\t\t\t\ti = options.length;\n\n\t\t\t\twhile ( i-- ) {\n\t\t\t\t\toption = options[ i ];\n\n\t\t\t\t\t/* eslint-disable no-cond-assign */\n\n\t\t\t\t\tif ( option.selected =\n\t\t\t\t\t\tjQuery.inArray( jQuery.valHooks.option.get( option ), values ) > -1\n\t\t\t\t\t) {\n\t\t\t\t\t\toptionSet = true;\n\t\t\t\t\t}\n\n\t\t\t\t\t/* eslint-enable no-cond-assign */\n\t\t\t\t}\n\n\t\t\t\t// Force browsers to behave consistently when non-matching value is set\n\t\t\t\tif ( !optionSet ) {\n\t\t\t\t\telem.selectedIndex = -1;\n\t\t\t\t}\n\t\t\t\treturn values;\n\t\t\t}\n\t\t}\n\t}\n} );\n\n// Radios and checkboxes getter/setter\njQuery.each( [ \"radio\", \"checkbox\" ], function() {\n\tjQuery.valHooks[ this ] = {\n\t\tset: function( elem, value ) {\n\t\t\tif ( Array.isArray( value ) ) {\n\t\t\t\treturn ( elem.checked = jQuery.inArray( jQuery( elem ).val(), value ) > -1 );\n\t\t\t}\n\t\t}\n\t};\n\tif ( !support.checkOn ) {\n\t\tjQuery.valHooks[ this ].get = function( elem ) {\n\t\t\treturn elem.getAttribute( \"value\" ) === null ? \"on\" : elem.value;\n\t\t};\n\t}\n} );\n\n\n\n\n// Return jQuery for attributes-only inclusion\n\n\nvar rfocusMorph = /^(?:focusinfocus|focusoutblur)$/;\n\njQuery.extend( jQuery.event, {\n\n\ttrigger: function( event, data, elem, onlyHandlers ) {\n\n\t\tvar i, cur, tmp, bubbleType, ontype, handle, special,\n\t\t\teventPath = [ elem || document ],\n\t\t\ttype = hasOwn.call( event, \"type\" ) ? event.type : event,\n\t\t\tnamespaces = hasOwn.call( event, \"namespace\" ) ? event.namespace.split( \".\" ) : [];\n\n\t\tcur = tmp = elem = elem || document;\n\n\t\t// Don't do events on text and comment nodes\n\t\tif ( elem.nodeType === 3 || elem.nodeType === 8 ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// focus/blur morphs to focusin/out; ensure we're not firing them right now\n\t\tif ( rfocusMorph.test( type + jQuery.event.triggered ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( type.indexOf( \".\" ) > -1 ) {\n\n\t\t\t// Namespaced trigger; create a regexp to match event type in handle()\n\t\t\tnamespaces = type.split( \".\" );\n\t\t\ttype = namespaces.shift();\n\t\t\tnamespaces.sort();\n\t\t}\n\t\tontype = type.indexOf( \":\" ) < 0 && \"on\" + type;\n\n\t\t// Caller can pass in a jQuery.Event object, Object, or just an event type string\n\t\tevent = event[ jQuery.expando ] ?\n\t\t\tevent :\n\t\t\tnew jQuery.Event( type, typeof event === \"object\" && event );\n\n\t\t// Trigger bitmask: & 1 for native handlers; & 2 for jQuery (always true)\n\t\tevent.isTrigger = onlyHandlers ? 2 : 3;\n\t\tevent.namespace = namespaces.join( \".\" );\n\t\tevent.rnamespace = event.namespace ?\n\t\t\tnew RegExp( \"(^|\\\\.)\" + namespaces.join( \"\\\\.(?:.*\\\\.|)\" ) + \"(\\\\.|$)\" ) :\n\t\t\tnull;\n\n\t\t// Clean up the event in case it is being reused\n\t\tevent.result = undefined;\n\t\tif ( !event.target ) {\n\t\t\tevent.target = elem;\n\t\t}\n\n\t\t// Clone any incoming data and prepend the event, creating the handler arg list\n\t\tdata = data == null ?\n\t\t\t[ event ] :\n\t\t\tjQuery.makeArray( data, [ event ] );\n\n\t\t// Allow special events to draw outside the lines\n\t\tspecial = jQuery.event.special[ type ] || {};\n\t\tif ( !onlyHandlers && special.trigger && special.trigger.apply( elem, data ) === false ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Determine event propagation path in advance, per W3C events spec (#9951)\n\t\t// Bubble up to document, then to window; watch for a global ownerDocument var (#9724)\n\t\tif ( !onlyHandlers && !special.noBubble && !jQuery.isWindow( elem ) ) {\n\n\t\t\tbubbleType = special.delegateType || type;\n\t\t\tif ( !rfocusMorph.test( bubbleType + type ) ) {\n\t\t\t\tcur = cur.parentNode;\n\t\t\t}\n\t\t\tfor ( ; cur; cur = cur.parentNode ) {\n\t\t\t\teventPath.push( cur );\n\t\t\t\ttmp = cur;\n\t\t\t}\n\n\t\t\t// Only add window if we got to document (e.g., not plain obj or detached DOM)\n\t\t\tif ( tmp === ( elem.ownerDocument || document ) ) {\n\t\t\t\teventPath.push( tmp.defaultView || tmp.parentWindow || window );\n\t\t\t}\n\t\t}\n\n\t\t// Fire handlers on the event path\n\t\ti = 0;\n\t\twhile ( ( cur = eventPath[ i++ ] ) && !event.isPropagationStopped() ) {\n\n\t\t\tevent.type = i > 1 ?\n\t\t\t\tbubbleType :\n\t\t\t\tspecial.bindType || type;\n\n\t\t\t// jQuery handler\n\t\t\thandle = ( dataPriv.get( cur, \"events\" ) || {} )[ event.type ] &&\n\t\t\t\tdataPriv.get( cur, \"handle\" );\n\t\t\tif ( handle ) {\n\t\t\t\thandle.apply( cur, data );\n\t\t\t}\n\n\t\t\t// Native handler\n\t\t\thandle = ontype && cur[ ontype ];\n\t\t\tif ( handle && handle.apply && acceptData( cur ) ) {\n\t\t\t\tevent.result = handle.apply( cur, data );\n\t\t\t\tif ( event.result === false ) {\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tevent.type = type;\n\n\t\t// If nobody prevented the default action, do it now\n\t\tif ( !onlyHandlers && !event.isDefaultPrevented() ) {\n\n\t\t\tif ( ( !special._default ||\n\t\t\t\tspecial._default.apply( eventPath.pop(), data ) === false ) &&\n\t\t\t\tacceptData( elem ) ) {\n\n\t\t\t\t// Call a native DOM method on the target with the same name as the event.\n\t\t\t\t// Don't do default actions on window, that's where global variables be (#6170)\n\t\t\t\tif ( ontype && jQuery.isFunction( elem[ type ] ) && !jQuery.isWindow( elem ) ) {\n\n\t\t\t\t\t// Don't re-trigger an onFOO event when we call its FOO() method\n\t\t\t\t\ttmp = elem[ ontype ];\n\n\t\t\t\t\tif ( tmp ) {\n\t\t\t\t\t\telem[ ontype ] = null;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Prevent re-triggering of the same event, since we already bubbled it above\n\t\t\t\t\tjQuery.event.triggered = type;\n\t\t\t\t\telem[ type ]();\n\t\t\t\t\tjQuery.event.triggered = undefined;\n\n\t\t\t\t\tif ( tmp ) {\n\t\t\t\t\t\telem[ ontype ] = tmp;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn event.result;\n\t},\n\n\t// Piggyback on a donor event to simulate a different one\n\t// Used only for `focus(in | out)` events\n\tsimulate: function( type, elem, event ) {\n\t\tvar e = jQuery.extend(\n\t\t\tnew jQuery.Event(),\n\t\t\tevent,\n\t\t\t{\n\t\t\t\ttype: type,\n\t\t\t\tisSimulated: true\n\t\t\t}\n\t\t);\n\n\t\tjQuery.event.trigger( e, null, elem );\n\t}\n\n} );\n\njQuery.fn.extend( {\n\n\ttrigger: function( type, data ) {\n\t\treturn this.each( function() {\n\t\t\tjQuery.event.trigger( type, data, this );\n\t\t} );\n\t},\n\ttriggerHandler: function( type, data ) {\n\t\tvar elem = this[ 0 ];\n\t\tif ( elem ) {\n\t\t\treturn jQuery.event.trigger( type, data, elem, true );\n\t\t}\n\t}\n} );\n\n\njQuery.each( ( \"blur focus focusin focusout resize scroll click dblclick \" +\n\t\"mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave \" +\n\t\"change select submit keydown keypress keyup contextmenu\" ).split( \" \" ),\n\tfunction( i, name ) {\n\n\t// Handle event binding\n\tjQuery.fn[ name ] = function( data, fn ) {\n\t\treturn arguments.length > 0 ?\n\t\t\tthis.on( name, null, data, fn ) :\n\t\t\tthis.trigger( name );\n\t};\n} );\n\njQuery.fn.extend( {\n\thover: function( fnOver, fnOut ) {\n\t\treturn this.mouseenter( fnOver ).mouseleave( fnOut || fnOver );\n\t}\n} );\n\n\n\n\nsupport.focusin = \"onfocusin\" in window;\n\n\n// Support: Firefox <=44\n// Firefox doesn't have focus(in | out) events\n// Related ticket - https://bugzilla.mozilla.org/show_bug.cgi?id=687787\n//\n// Support: Chrome <=48 - 49, Safari <=9.0 - 9.1\n// focus(in | out) events fire after focus & blur events,\n// which is spec violation - http://www.w3.org/TR/DOM-Level-3-Events/#events-focusevent-event-order\n// Related ticket - https://bugs.chromium.org/p/chromium/issues/detail?id=449857\nif ( !support.focusin ) {\n\tjQuery.each( { focus: \"focusin\", blur: \"focusout\" }, function( orig, fix ) {\n\n\t\t// Attach a single capturing handler on the document while someone wants focusin/focusout\n\t\tvar handler = function( event ) {\n\t\t\tjQuery.event.simulate( fix, event.target, jQuery.event.fix( event ) );\n\t\t};\n\n\t\tjQuery.event.special[ fix ] = {\n\t\t\tsetup: function() {\n\t\t\t\tvar doc = this.ownerDocument || this,\n\t\t\t\t\tattaches = dataPriv.access( doc, fix );\n\n\t\t\t\tif ( !attaches ) {\n\t\t\t\t\tdoc.addEventListener( orig, handler, true );\n\t\t\t\t}\n\t\t\t\tdataPriv.access( doc, fix, ( attaches || 0 ) + 1 );\n\t\t\t},\n\t\t\tteardown: function() {\n\t\t\t\tvar doc = this.ownerDocument || this,\n\t\t\t\t\tattaches = dataPriv.access( doc, fix ) - 1;\n\n\t\t\t\tif ( !attaches ) {\n\t\t\t\t\tdoc.removeEventListener( orig, handler, true );\n\t\t\t\t\tdataPriv.remove( doc, fix );\n\n\t\t\t\t} else {\n\t\t\t\t\tdataPriv.access( doc, fix, attaches );\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t} );\n}\nvar location = window.location;\n\nvar nonce = jQuery.now();\n\nvar rquery = ( /\\?/ );\n\n\n\n// Cross-browser xml parsing\njQuery.parseXML = function( data ) {\n\tvar xml;\n\tif ( !data || typeof data !== \"string\" ) {\n\t\treturn null;\n\t}\n\n\t// Support: IE 9 - 11 only\n\t// IE throws on parseFromString with invalid input.\n\ttry {\n\t\txml = ( new window.DOMParser() ).parseFromString( data, \"text/xml\" );\n\t} catch ( e ) {\n\t\txml = undefined;\n\t}\n\n\tif ( !xml || xml.getElementsByTagName( \"parsererror\" ).length ) {\n\t\tjQuery.error( \"Invalid XML: \" + data );\n\t}\n\treturn xml;\n};\n\n\nvar\n\trbracket = /\\[\\]$/,\n\trCRLF = /\\r?\\n/g,\n\trsubmitterTypes = /^(?:submit|button|image|reset|file)$/i,\n\trsubmittable = /^(?:input|select|textarea|keygen)/i;\n\nfunction buildParams( prefix, obj, traditional, add ) {\n\tvar name;\n\n\tif ( Array.isArray( obj ) ) {\n\n\t\t// Serialize array item.\n\t\tjQuery.each( obj, function( i, v ) {\n\t\t\tif ( traditional || rbracket.test( prefix ) ) {\n\n\t\t\t\t// Treat each array item as a scalar.\n\t\t\t\tadd( prefix, v );\n\n\t\t\t} else {\n\n\t\t\t\t// Item is non-scalar (array or object), encode its numeric index.\n\t\t\t\tbuildParams(\n\t\t\t\t\tprefix + \"[\" + ( typeof v === \"object\" && v != null ? i : \"\" ) + \"]\",\n\t\t\t\t\tv,\n\t\t\t\t\ttraditional,\n\t\t\t\t\tadd\n\t\t\t\t);\n\t\t\t}\n\t\t} );\n\n\t} else if ( !traditional && jQuery.type( obj ) === \"object\" ) {\n\n\t\t// Serialize object item.\n\t\tfor ( name in obj ) {\n\t\t\tbuildParams( prefix + \"[\" + name + \"]\", obj[ name ], traditional, add );\n\t\t}\n\n\t} else {\n\n\t\t// Serialize scalar item.\n\t\tadd( prefix, obj );\n\t}\n}\n\n// Serialize an array of form elements or a set of\n// key/values into a query string\njQuery.param = function( a, traditional ) {\n\tvar prefix,\n\t\ts = [],\n\t\tadd = function( key, valueOrFunction ) {\n\n\t\t\t// If value is a function, invoke it and use its return value\n\t\t\tvar value = jQuery.isFunction( valueOrFunction ) ?\n\t\t\t\tvalueOrFunction() :\n\t\t\t\tvalueOrFunction;\n\n\t\t\ts[ s.length ] = encodeURIComponent( key ) + \"=\" +\n\t\t\t\tencodeURIComponent( value == null ? \"\" : value );\n\t\t};\n\n\t// If an array was passed in, assume that it is an array of form elements.\n\tif ( Array.isArray( a ) || ( a.jquery && !jQuery.isPlainObject( a ) ) ) {\n\n\t\t// Serialize the form elements\n\t\tjQuery.each( a, function() {\n\t\t\tadd( this.name, this.value );\n\t\t} );\n\n\t} else {\n\n\t\t// If traditional, encode the \"old\" way (the way 1.3.2 or older\n\t\t// did it), otherwise encode params recursively.\n\t\tfor ( prefix in a ) {\n\t\t\tbuildParams( prefix, a[ prefix ], traditional, add );\n\t\t}\n\t}\n\n\t// Return the resulting serialization\n\treturn s.join( \"&\" );\n};\n\njQuery.fn.extend( {\n\tserialize: function() {\n\t\treturn jQuery.param( this.serializeArray() );\n\t},\n\tserializeArray: function() {\n\t\treturn this.map( function() {\n\n\t\t\t// Can add propHook for \"elements\" to filter or add form elements\n\t\t\tvar elements = jQuery.prop( this, \"elements\" );\n\t\t\treturn elements ? jQuery.makeArray( elements ) : this;\n\t\t} )\n\t\t.filter( function() {\n\t\t\tvar type = this.type;\n\n\t\t\t// Use .is( \":disabled\" ) so that fieldset[disabled] works\n\t\t\treturn this.name && !jQuery( this ).is( \":disabled\" ) &&\n\t\t\t\trsubmittable.test( this.nodeName ) && !rsubmitterTypes.test( type ) &&\n\t\t\t\t( this.checked || !rcheckableType.test( type ) );\n\t\t} )\n\t\t.map( function( i, elem ) {\n\t\t\tvar val = jQuery( this ).val();\n\n\t\t\tif ( val == null ) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\tif ( Array.isArray( val ) ) {\n\t\t\t\treturn jQuery.map( val, function( val ) {\n\t\t\t\t\treturn { name: elem.name, value: val.replace( rCRLF, \"\\r\\n\" ) };\n\t\t\t\t} );\n\t\t\t}\n\n\t\t\treturn { name: elem.name, value: val.replace( rCRLF, \"\\r\\n\" ) };\n\t\t} ).get();\n\t}\n} );\n\n\nvar\n\tr20 = /%20/g,\n\trhash = /#.*$/,\n\trantiCache = /([?&])_=[^&]*/,\n\trheaders = /^(.*?):[ \\t]*([^\\r\\n]*)$/mg,\n\n\t// #7653, #8125, #8152: local protocol detection\n\trlocalProtocol = /^(?:about|app|app-storage|.+-extension|file|res|widget):$/,\n\trnoContent = /^(?:GET|HEAD)$/,\n\trprotocol = /^\\/\\//,\n\n\t/* Prefilters\n\t * 1) They are useful to introduce custom dataTypes (see ajax/jsonp.js for an example)\n\t * 2) These are called:\n\t *    - BEFORE asking for a transport\n\t *    - AFTER param serialization (s.data is a string if s.processData is true)\n\t * 3) key is the dataType\n\t * 4) the catchall symbol \"*\" can be used\n\t * 5) execution will start with transport dataType and THEN continue down to \"*\" if needed\n\t */\n\tprefilters = {},\n\n\t/* Transports bindings\n\t * 1) key is the dataType\n\t * 2) the catchall symbol \"*\" can be used\n\t * 3) selection will start with transport dataType and THEN go to \"*\" if needed\n\t */\n\ttransports = {},\n\n\t// Avoid comment-prolog char sequence (#10098); must appease lint and evade compression\n\tallTypes = \"*/\".concat( \"*\" ),\n\n\t// Anchor tag for parsing the document origin\n\toriginAnchor = document.createElement( \"a\" );\n\toriginAnchor.href = location.href;\n\n// Base \"constructor\" for jQuery.ajaxPrefilter and jQuery.ajaxTransport\nfunction addToPrefiltersOrTransports( structure ) {\n\n\t// dataTypeExpression is optional and defaults to \"*\"\n\treturn function( dataTypeExpression, func ) {\n\n\t\tif ( typeof dataTypeExpression !== \"string\" ) {\n\t\t\tfunc = dataTypeExpression;\n\t\t\tdataTypeExpression = \"*\";\n\t\t}\n\n\t\tvar dataType,\n\t\t\ti = 0,\n\t\t\tdataTypes = dataTypeExpression.toLowerCase().match( rnothtmlwhite ) || [];\n\n\t\tif ( jQuery.isFunction( func ) ) {\n\n\t\t\t// For each dataType in the dataTypeExpression\n\t\t\twhile ( ( dataType = dataTypes[ i++ ] ) ) {\n\n\t\t\t\t// Prepend if requested\n\t\t\t\tif ( dataType[ 0 ] === \"+\" ) {\n\t\t\t\t\tdataType = dataType.slice( 1 ) || \"*\";\n\t\t\t\t\t( structure[ dataType ] = structure[ dataType ] || [] ).unshift( func );\n\n\t\t\t\t// Otherwise append\n\t\t\t\t} else {\n\t\t\t\t\t( structure[ dataType ] = structure[ dataType ] || [] ).push( func );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n}\n\n// Base inspection function for prefilters and transports\nfunction inspectPrefiltersOrTransports( structure, options, originalOptions, jqXHR ) {\n\n\tvar inspected = {},\n\t\tseekingTransport = ( structure === transports );\n\n\tfunction inspect( dataType ) {\n\t\tvar selected;\n\t\tinspected[ dataType ] = true;\n\t\tjQuery.each( structure[ dataType ] || [], function( _, prefilterOrFactory ) {\n\t\t\tvar dataTypeOrTransport = prefilterOrFactory( options, originalOptions, jqXHR );\n\t\t\tif ( typeof dataTypeOrTransport === \"string\" &&\n\t\t\t\t!seekingTransport && !inspected[ dataTypeOrTransport ] ) {\n\n\t\t\t\toptions.dataTypes.unshift( dataTypeOrTransport );\n\t\t\t\tinspect( dataTypeOrTransport );\n\t\t\t\treturn false;\n\t\t\t} else if ( seekingTransport ) {\n\t\t\t\treturn !( selected = dataTypeOrTransport );\n\t\t\t}\n\t\t} );\n\t\treturn selected;\n\t}\n\n\treturn inspect( options.dataTypes[ 0 ] ) || !inspected[ \"*\" ] && inspect( \"*\" );\n}\n\n// A special extend for ajax options\n// that takes \"flat\" options (not to be deep extended)\n// Fixes #9887\nfunction ajaxExtend( target, src ) {\n\tvar key, deep,\n\t\tflatOptions = jQuery.ajaxSettings.flatOptions || {};\n\n\tfor ( key in src ) {\n\t\tif ( src[ key ] !== undefined ) {\n\t\t\t( flatOptions[ key ] ? target : ( deep || ( deep = {} ) ) )[ key ] = src[ key ];\n\t\t}\n\t}\n\tif ( deep ) {\n\t\tjQuery.extend( true, target, deep );\n\t}\n\n\treturn target;\n}\n\n/* Handles responses to an ajax request:\n * - finds the right dataType (mediates between content-type and expected dataType)\n * - returns the corresponding response\n */\nfunction ajaxHandleResponses( s, jqXHR, responses ) {\n\n\tvar ct, type, finalDataType, firstDataType,\n\t\tcontents = s.contents,\n\t\tdataTypes = s.dataTypes;\n\n\t// Remove auto dataType and get content-type in the process\n\twhile ( dataTypes[ 0 ] === \"*\" ) {\n\t\tdataTypes.shift();\n\t\tif ( ct === undefined ) {\n\t\t\tct = s.mimeType || jqXHR.getResponseHeader( \"Content-Type\" );\n\t\t}\n\t}\n\n\t// Check if we're dealing with a known content-type\n\tif ( ct ) {\n\t\tfor ( type in contents ) {\n\t\t\tif ( contents[ type ] && contents[ type ].test( ct ) ) {\n\t\t\t\tdataTypes.unshift( type );\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\t// Check to see if we have a response for the expected dataType\n\tif ( dataTypes[ 0 ] in responses ) {\n\t\tfinalDataType = dataTypes[ 0 ];\n\t} else {\n\n\t\t// Try convertible dataTypes\n\t\tfor ( type in responses ) {\n\t\t\tif ( !dataTypes[ 0 ] || s.converters[ type + \" \" + dataTypes[ 0 ] ] ) {\n\t\t\t\tfinalDataType = type;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif ( !firstDataType ) {\n\t\t\t\tfirstDataType = type;\n\t\t\t}\n\t\t}\n\n\t\t// Or just use first one\n\t\tfinalDataType = finalDataType || firstDataType;\n\t}\n\n\t// If we found a dataType\n\t// We add the dataType to the list if needed\n\t// and return the corresponding response\n\tif ( finalDataType ) {\n\t\tif ( finalDataType !== dataTypes[ 0 ] ) {\n\t\t\tdataTypes.unshift( finalDataType );\n\t\t}\n\t\treturn responses[ finalDataType ];\n\t}\n}\n\n/* Chain conversions given the request and the original response\n * Also sets the responseXXX fields on the jqXHR instance\n */\nfunction ajaxConvert( s, response, jqXHR, isSuccess ) {\n\tvar conv2, current, conv, tmp, prev,\n\t\tconverters = {},\n\n\t\t// Work with a copy of dataTypes in case we need to modify it for conversion\n\t\tdataTypes = s.dataTypes.slice();\n\n\t// Create converters map with lowercased keys\n\tif ( dataTypes[ 1 ] ) {\n\t\tfor ( conv in s.converters ) {\n\t\t\tconverters[ conv.toLowerCase() ] = s.converters[ conv ];\n\t\t}\n\t}\n\n\tcurrent = dataTypes.shift();\n\n\t// Convert to each sequential dataType\n\twhile ( current ) {\n\n\t\tif ( s.responseFields[ current ] ) {\n\t\t\tjqXHR[ s.responseFields[ current ] ] = response;\n\t\t}\n\n\t\t// Apply the dataFilter if provided\n\t\tif ( !prev && isSuccess && s.dataFilter ) {\n\t\t\tresponse = s.dataFilter( response, s.dataType );\n\t\t}\n\n\t\tprev = current;\n\t\tcurrent = dataTypes.shift();\n\n\t\tif ( current ) {\n\n\t\t\t// There's only work to do if current dataType is non-auto\n\t\t\tif ( current === \"*\" ) {\n\n\t\t\t\tcurrent = prev;\n\n\t\t\t// Convert response if prev dataType is non-auto and differs from current\n\t\t\t} else if ( prev !== \"*\" && prev !== current ) {\n\n\t\t\t\t// Seek a direct converter\n\t\t\t\tconv = converters[ prev + \" \" + current ] || converters[ \"* \" + current ];\n\n\t\t\t\t// If none found, seek a pair\n\t\t\t\tif ( !conv ) {\n\t\t\t\t\tfor ( conv2 in converters ) {\n\n\t\t\t\t\t\t// If conv2 outputs current\n\t\t\t\t\t\ttmp = conv2.split( \" \" );\n\t\t\t\t\t\tif ( tmp[ 1 ] === current ) {\n\n\t\t\t\t\t\t\t// If prev can be converted to accepted input\n\t\t\t\t\t\t\tconv = converters[ prev + \" \" + tmp[ 0 ] ] ||\n\t\t\t\t\t\t\t\tconverters[ \"* \" + tmp[ 0 ] ];\n\t\t\t\t\t\t\tif ( conv ) {\n\n\t\t\t\t\t\t\t\t// Condense equivalence converters\n\t\t\t\t\t\t\t\tif ( conv === true ) {\n\t\t\t\t\t\t\t\t\tconv = converters[ conv2 ];\n\n\t\t\t\t\t\t\t\t// Otherwise, insert the intermediate dataType\n\t\t\t\t\t\t\t\t} else if ( converters[ conv2 ] !== true ) {\n\t\t\t\t\t\t\t\t\tcurrent = tmp[ 0 ];\n\t\t\t\t\t\t\t\t\tdataTypes.unshift( tmp[ 1 ] );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Apply converter (if not an equivalence)\n\t\t\t\tif ( conv !== true ) {\n\n\t\t\t\t\t// Unless errors are allowed to bubble, catch and return them\n\t\t\t\t\tif ( conv && s.throws ) {\n\t\t\t\t\t\tresponse = conv( response );\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tresponse = conv( response );\n\t\t\t\t\t\t} catch ( e ) {\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\tstate: \"parsererror\",\n\t\t\t\t\t\t\t\terror: conv ? e : \"No conversion from \" + prev + \" to \" + current\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn { state: \"success\", data: response };\n}\n\njQuery.extend( {\n\n\t// Counter for holding the number of active queries\n\tactive: 0,\n\n\t// Last-Modified header cache for next request\n\tlastModified: {},\n\tetag: {},\n\n\tajaxSettings: {\n\t\turl: location.href,\n\t\ttype: \"GET\",\n\t\tisLocal: rlocalProtocol.test( location.protocol ),\n\t\tglobal: true,\n\t\tprocessData: true,\n\t\tasync: true,\n\t\tcontentType: \"application/x-www-form-urlencoded; charset=UTF-8\",\n\n\t\t/*\n\t\ttimeout: 0,\n\t\tdata: null,\n\t\tdataType: null,\n\t\tusername: null,\n\t\tpassword: null,\n\t\tcache: null,\n\t\tthrows: false,\n\t\ttraditional: false,\n\t\theaders: {},\n\t\t*/\n\n\t\taccepts: {\n\t\t\t\"*\": allTypes,\n\t\t\ttext: \"text/plain\",\n\t\t\thtml: \"text/html\",\n\t\t\txml: \"application/xml, text/xml\",\n\t\t\tjson: \"application/json, text/javascript\"\n\t\t},\n\n\t\tcontents: {\n\t\t\txml: /\\bxml\\b/,\n\t\t\thtml: /\\bhtml/,\n\t\t\tjson: /\\bjson\\b/\n\t\t},\n\n\t\tresponseFields: {\n\t\t\txml: \"responseXML\",\n\t\t\ttext: \"responseText\",\n\t\t\tjson: \"responseJSON\"\n\t\t},\n\n\t\t// Data converters\n\t\t// Keys separate source (or catchall \"*\") and destination types with a single space\n\t\tconverters: {\n\n\t\t\t// Convert anything to text\n\t\t\t\"* text\": String,\n\n\t\t\t// Text to html (true = no transformation)\n\t\t\t\"text html\": true,\n\n\t\t\t// Evaluate text as a json expression\n\t\t\t\"text json\": JSON.parse,\n\n\t\t\t// Parse text as xml\n\t\t\t\"text xml\": jQuery.parseXML\n\t\t},\n\n\t\t// For options that shouldn't be deep extended:\n\t\t// you can add your own custom options here if\n\t\t// and when you create one that shouldn't be\n\t\t// deep extended (see ajaxExtend)\n\t\tflatOptions: {\n\t\t\turl: true,\n\t\t\tcontext: true\n\t\t}\n\t},\n\n\t// Creates a full fledged settings object into target\n\t// with both ajaxSettings and settings fields.\n\t// If target is omitted, writes into ajaxSettings.\n\tajaxSetup: function( target, settings ) {\n\t\treturn settings ?\n\n\t\t\t// Building a settings object\n\t\t\tajaxExtend( ajaxExtend( target, jQuery.ajaxSettings ), settings ) :\n\n\t\t\t// Extending ajaxSettings\n\t\t\tajaxExtend( jQuery.ajaxSettings, target );\n\t},\n\n\tajaxPrefilter: addToPrefiltersOrTransports( prefilters ),\n\tajaxTransport: addToPrefiltersOrTransports( transports ),\n\n\t// Main method\n\tajax: function( url, options ) {\n\n\t\t// If url is an object, simulate pre-1.5 signature\n\t\tif ( typeof url === \"object\" ) {\n\t\t\toptions = url;\n\t\t\turl = undefined;\n\t\t}\n\n\t\t// Force options to be an object\n\t\toptions = options || {};\n\n\t\tvar transport,\n\n\t\t\t// URL without anti-cache param\n\t\t\tcacheURL,\n\n\t\t\t// Response headers\n\t\t\tresponseHeadersString,\n\t\t\tresponseHeaders,\n\n\t\t\t// timeout handle\n\t\t\ttimeoutTimer,\n\n\t\t\t// Url cleanup var\n\t\t\turlAnchor,\n\n\t\t\t// Request state (becomes false upon send and true upon completion)\n\t\t\tcompleted,\n\n\t\t\t// To know if global events are to be dispatched\n\t\t\tfireGlobals,\n\n\t\t\t// Loop variable\n\t\t\ti,\n\n\t\t\t// uncached part of the url\n\t\t\tuncached,\n\n\t\t\t// Create the final options object\n\t\t\ts = jQuery.ajaxSetup( {}, options ),\n\n\t\t\t// Callbacks context\n\t\t\tcallbackContext = s.context || s,\n\n\t\t\t// Context for global events is callbackContext if it is a DOM node or jQuery collection\n\t\t\tglobalEventContext = s.context &&\n\t\t\t\t( callbackContext.nodeType || callbackContext.jquery ) ?\n\t\t\t\t\tjQuery( callbackContext ) :\n\t\t\t\t\tjQuery.event,\n\n\t\t\t// Deferreds\n\t\t\tdeferred = jQuery.Deferred(),\n\t\t\tcompleteDeferred = jQuery.Callbacks( \"once memory\" ),\n\n\t\t\t// Status-dependent callbacks\n\t\t\tstatusCode = s.statusCode || {},\n\n\t\t\t// Headers (they are sent all at once)\n\t\t\trequestHeaders = {},\n\t\t\trequestHeadersNames = {},\n\n\t\t\t// Default abort message\n\t\t\tstrAbort = \"canceled\",\n\n\t\t\t// Fake xhr\n\t\t\tjqXHR = {\n\t\t\t\treadyState: 0,\n\n\t\t\t\t// Builds headers hashtable if needed\n\t\t\t\tgetResponseHeader: function( key ) {\n\t\t\t\t\tvar match;\n\t\t\t\t\tif ( completed ) {\n\t\t\t\t\t\tif ( !responseHeaders ) {\n\t\t\t\t\t\t\tresponseHeaders = {};\n\t\t\t\t\t\t\twhile ( ( match = rheaders.exec( responseHeadersString ) ) ) {\n\t\t\t\t\t\t\t\tresponseHeaders[ match[ 1 ].toLowerCase() ] = match[ 2 ];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tmatch = responseHeaders[ key.toLowerCase() ];\n\t\t\t\t\t}\n\t\t\t\t\treturn match == null ? null : match;\n\t\t\t\t},\n\n\t\t\t\t// Raw string\n\t\t\t\tgetAllResponseHeaders: function() {\n\t\t\t\t\treturn completed ? responseHeadersString : null;\n\t\t\t\t},\n\n\t\t\t\t// Caches the header\n\t\t\t\tsetRequestHeader: function( name, value ) {\n\t\t\t\t\tif ( completed == null ) {\n\t\t\t\t\t\tname = requestHeadersNames[ name.toLowerCase() ] =\n\t\t\t\t\t\t\trequestHeadersNames[ name.toLowerCase() ] || name;\n\t\t\t\t\t\trequestHeaders[ name ] = value;\n\t\t\t\t\t}\n\t\t\t\t\treturn this;\n\t\t\t\t},\n\n\t\t\t\t// Overrides response content-type header\n\t\t\t\toverrideMimeType: function( type ) {\n\t\t\t\t\tif ( completed == null ) {\n\t\t\t\t\t\ts.mimeType = type;\n\t\t\t\t\t}\n\t\t\t\t\treturn this;\n\t\t\t\t},\n\n\t\t\t\t// Status-dependent callbacks\n\t\t\t\tstatusCode: function( map ) {\n\t\t\t\t\tvar code;\n\t\t\t\t\tif ( map ) {\n\t\t\t\t\t\tif ( completed ) {\n\n\t\t\t\t\t\t\t// Execute the appropriate callbacks\n\t\t\t\t\t\t\tjqXHR.always( map[ jqXHR.status ] );\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t// Lazy-add the new callbacks in a way that preserves old ones\n\t\t\t\t\t\t\tfor ( code in map ) {\n\t\t\t\t\t\t\t\tstatusCode[ code ] = [ statusCode[ code ], map[ code ] ];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn this;\n\t\t\t\t},\n\n\t\t\t\t// Cancel the request\n\t\t\t\tabort: function( statusText ) {\n\t\t\t\t\tvar finalText = statusText || strAbort;\n\t\t\t\t\tif ( transport ) {\n\t\t\t\t\t\ttransport.abort( finalText );\n\t\t\t\t\t}\n\t\t\t\t\tdone( 0, finalText );\n\t\t\t\t\treturn this;\n\t\t\t\t}\n\t\t\t};\n\n\t\t// Attach deferreds\n\t\tdeferred.promise( jqXHR );\n\n\t\t// Add protocol if not provided (prefilters might expect it)\n\t\t// Handle falsy url in the settings object (#10093: consistency with old signature)\n\t\t// We also use the url parameter if available\n\t\ts.url = ( ( url || s.url || location.href ) + \"\" )\n\t\t\t.replace( rprotocol, location.protocol + \"//\" );\n\n\t\t// Alias method option to type as per ticket #12004\n\t\ts.type = options.method || options.type || s.method || s.type;\n\n\t\t// Extract dataTypes list\n\t\ts.dataTypes = ( s.dataType || \"*\" ).toLowerCase().match( rnothtmlwhite ) || [ \"\" ];\n\n\t\t// A cross-domain request is in order when the origin doesn't match the current origin.\n\t\tif ( s.crossDomain == null ) {\n\t\t\turlAnchor = document.createElement( \"a\" );\n\n\t\t\t// Support: IE <=8 - 11, Edge 12 - 13\n\t\t\t// IE throws exception on accessing the href property if url is malformed,\n\t\t\t// e.g. http://example.com:80x/\n\t\t\ttry {\n\t\t\t\turlAnchor.href = s.url;\n\n\t\t\t\t// Support: IE <=8 - 11 only\n\t\t\t\t// Anchor's host property isn't correctly set when s.url is relative\n\t\t\t\turlAnchor.href = urlAnchor.href;\n\t\t\t\ts.crossDomain = originAnchor.protocol + \"//\" + originAnchor.host !==\n\t\t\t\t\turlAnchor.protocol + \"//\" + urlAnchor.host;\n\t\t\t} catch ( e ) {\n\n\t\t\t\t// If there is an error parsing the URL, assume it is crossDomain,\n\t\t\t\t// it can be rejected by the transport if it is invalid\n\t\t\t\ts.crossDomain = true;\n\t\t\t}\n\t\t}\n\n\t\t// Convert data if not already a string\n\t\tif ( s.data && s.processData && typeof s.data !== \"string\" ) {\n\t\t\ts.data = jQuery.param( s.data, s.traditional );\n\t\t}\n\n\t\t// Apply prefilters\n\t\tinspectPrefiltersOrTransports( prefilters, s, options, jqXHR );\n\n\t\t// If request was aborted inside a prefilter, stop there\n\t\tif ( completed ) {\n\t\t\treturn jqXHR;\n\t\t}\n\n\t\t// We can fire global events as of now if asked to\n\t\t// Don't fire events if jQuery.event is undefined in an AMD-usage scenario (#15118)\n\t\tfireGlobals = jQuery.event && s.global;\n\n\t\t// Watch for a new set of requests\n\t\tif ( fireGlobals && jQuery.active++ === 0 ) {\n\t\t\tjQuery.event.trigger( \"ajaxStart\" );\n\t\t}\n\n\t\t// Uppercase the type\n\t\ts.type = s.type.toUpperCase();\n\n\t\t// Determine if request has content\n\t\ts.hasContent = !rnoContent.test( s.type );\n\n\t\t// Save the URL in case we're toying with the If-Modified-Since\n\t\t// and/or If-None-Match header later on\n\t\t// Remove hash to simplify url manipulation\n\t\tcacheURL = s.url.replace( rhash, \"\" );\n\n\t\t// More options handling for requests with no content\n\t\tif ( !s.hasContent ) {\n\n\t\t\t// Remember the hash so we can put it back\n\t\t\tuncached = s.url.slice( cacheURL.length );\n\n\t\t\t// If data is available, append data to url\n\t\t\tif ( s.data ) {\n\t\t\t\tcacheURL += ( rquery.test( cacheURL ) ? \"&\" : \"?\" ) + s.data;\n\n\t\t\t\t// #9682: remove data so that it's not used in an eventual retry\n\t\t\t\tdelete s.data;\n\t\t\t}\n\n\t\t\t// Add or update anti-cache param if needed\n\t\t\tif ( s.cache === false ) {\n\t\t\t\tcacheURL = cacheURL.replace( rantiCache, \"$1\" );\n\t\t\t\tuncached = ( rquery.test( cacheURL ) ? \"&\" : \"?\" ) + \"_=\" + ( nonce++ ) + uncached;\n\t\t\t}\n\n\t\t\t// Put hash and anti-cache on the URL that will be requested (gh-1732)\n\t\t\ts.url = cacheURL + uncached;\n\n\t\t// Change '%20' to '+' if this is encoded form body content (gh-2658)\n\t\t} else if ( s.data && s.processData &&\n\t\t\t( s.contentType || \"\" ).indexOf( \"application/x-www-form-urlencoded\" ) === 0 ) {\n\t\t\ts.data = s.data.replace( r20, \"+\" );\n\t\t}\n\n\t\t// Set the If-Modified-Since and/or If-None-Match header, if in ifModified mode.\n\t\tif ( s.ifModified ) {\n\t\t\tif ( jQuery.lastModified[ cacheURL ] ) {\n\t\t\t\tjqXHR.setRequestHeader( \"If-Modified-Since\", jQuery.lastModified[ cacheURL ] );\n\t\t\t}\n\t\t\tif ( jQuery.etag[ cacheURL ] ) {\n\t\t\t\tjqXHR.setRequestHeader( \"If-None-Match\", jQuery.etag[ cacheURL ] );\n\t\t\t}\n\t\t}\n\n\t\t// Set the correct header, if data is being sent\n\t\tif ( s.data && s.hasContent && s.contentType !== false || options.contentType ) {\n\t\t\tjqXHR.setRequestHeader( \"Content-Type\", s.contentType );\n\t\t}\n\n\t\t// Set the Accepts header for the server, depending on the dataType\n\t\tjqXHR.setRequestHeader(\n\t\t\t\"Accept\",\n\t\t\ts.dataTypes[ 0 ] && s.accepts[ s.dataTypes[ 0 ] ] ?\n\t\t\t\ts.accepts[ s.dataTypes[ 0 ] ] +\n\t\t\t\t\t( s.dataTypes[ 0 ] !== \"*\" ? \", \" + allTypes + \"; q=0.01\" : \"\" ) :\n\t\t\t\ts.accepts[ \"*\" ]\n\t\t);\n\n\t\t// Check for headers option\n\t\tfor ( i in s.headers ) {\n\t\t\tjqXHR.setRequestHeader( i, s.headers[ i ] );\n\t\t}\n\n\t\t// Allow custom headers/mimetypes and early abort\n\t\tif ( s.beforeSend &&\n\t\t\t( s.beforeSend.call( callbackContext, jqXHR, s ) === false || completed ) ) {\n\n\t\t\t// Abort if not done already and return\n\t\t\treturn jqXHR.abort();\n\t\t}\n\n\t\t// Aborting is no longer a cancellation\n\t\tstrAbort = \"abort\";\n\n\t\t// Install callbacks on deferreds\n\t\tcompleteDeferred.add( s.complete );\n\t\tjqXHR.done( s.success );\n\t\tjqXHR.fail( s.error );\n\n\t\t// Get transport\n\t\ttransport = inspectPrefiltersOrTransports( transports, s, options, jqXHR );\n\n\t\t// If no transport, we auto-abort\n\t\tif ( !transport ) {\n\t\t\tdone( -1, \"No Transport\" );\n\t\t} else {\n\t\t\tjqXHR.readyState = 1;\n\n\t\t\t// Send global event\n\t\t\tif ( fireGlobals ) {\n\t\t\t\tglobalEventContext.trigger( \"ajaxSend\", [ jqXHR, s ] );\n\t\t\t}\n\n\t\t\t// If request was aborted inside ajaxSend, stop there\n\t\t\tif ( completed ) {\n\t\t\t\treturn jqXHR;\n\t\t\t}\n\n\t\t\t// Timeout\n\t\t\tif ( s.async && s.timeout > 0 ) {\n\t\t\t\ttimeoutTimer = window.setTimeout( function() {\n\t\t\t\t\tjqXHR.abort( \"timeout\" );\n\t\t\t\t}, s.timeout );\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\tcompleted = false;\n\t\t\t\ttransport.send( requestHeaders, done );\n\t\t\t} catch ( e ) {\n\n\t\t\t\t// Rethrow post-completion exceptions\n\t\t\t\tif ( completed ) {\n\t\t\t\t\tthrow e;\n\t\t\t\t}\n\n\t\t\t\t// Propagate others as results\n\t\t\t\tdone( -1, e );\n\t\t\t}\n\t\t}\n\n\t\t// Callback for when everything is done\n\t\tfunction done( status, nativeStatusText, responses, headers ) {\n\t\t\tvar isSuccess, success, error, response, modified,\n\t\t\t\tstatusText = nativeStatusText;\n\n\t\t\t// Ignore repeat invocations\n\t\t\tif ( completed ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tcompleted = true;\n\n\t\t\t// Clear timeout if it exists\n\t\t\tif ( timeoutTimer ) {\n\t\t\t\twindow.clearTimeout( timeoutTimer );\n\t\t\t}\n\n\t\t\t// Dereference transport for early garbage collection\n\t\t\t// (no matter how long the jqXHR object will be used)\n\t\t\ttransport = undefined;\n\n\t\t\t// Cache response headers\n\t\t\tresponseHeadersString = headers || \"\";\n\n\t\t\t// Set readyState\n\t\t\tjqXHR.readyState = status > 0 ? 4 : 0;\n\n\t\t\t// Determine if successful\n\t\t\tisSuccess = status >= 200 && status < 300 || status === 304;\n\n\t\t\t// Get response data\n\t\t\tif ( responses ) {\n\t\t\t\tresponse = ajaxHandleResponses( s, jqXHR, responses );\n\t\t\t}\n\n\t\t\t// Convert no matter what (that way responseXXX fields are always set)\n\t\t\tresponse = ajaxConvert( s, response, jqXHR, isSuccess );\n\n\t\t\t// If successful, handle type chaining\n\t\t\tif ( isSuccess ) {\n\n\t\t\t\t// Set the If-Modified-Since and/or If-None-Match header, if in ifModified mode.\n\t\t\t\tif ( s.ifModified ) {\n\t\t\t\t\tmodified = jqXHR.getResponseHeader( \"Last-Modified\" );\n\t\t\t\t\tif ( modified ) {\n\t\t\t\t\t\tjQuery.lastModified[ cacheURL ] = modified;\n\t\t\t\t\t}\n\t\t\t\t\tmodified = jqXHR.getResponseHeader( \"etag\" );\n\t\t\t\t\tif ( modified ) {\n\t\t\t\t\t\tjQuery.etag[ cacheURL ] = modified;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// if no content\n\t\t\t\tif ( status === 204 || s.type === \"HEAD\" ) {\n\t\t\t\t\tstatusText = \"nocontent\";\n\n\t\t\t\t// if not modified\n\t\t\t\t} else if ( status === 304 ) {\n\t\t\t\t\tstatusText = \"notmodified\";\n\n\t\t\t\t// If we have data, let's convert it\n\t\t\t\t} else {\n\t\t\t\t\tstatusText = response.state;\n\t\t\t\t\tsuccess = response.data;\n\t\t\t\t\terror = response.error;\n\t\t\t\t\tisSuccess = !error;\n\t\t\t\t}\n\t\t\t} else {\n\n\t\t\t\t// Extract error from statusText and normalize for non-aborts\n\t\t\t\terror = statusText;\n\t\t\t\tif ( status || !statusText ) {\n\t\t\t\t\tstatusText = \"error\";\n\t\t\t\t\tif ( status < 0 ) {\n\t\t\t\t\t\tstatus = 0;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Set data for the fake xhr object\n\t\t\tjqXHR.status = status;\n\t\t\tjqXHR.statusText = ( nativeStatusText || statusText ) + \"\";\n\n\t\t\t// Success/Error\n\t\t\tif ( isSuccess ) {\n\t\t\t\tdeferred.resolveWith( callbackContext, [ success, statusText, jqXHR ] );\n\t\t\t} else {\n\t\t\t\tdeferred.rejectWith( callbackContext, [ jqXHR, statusText, error ] );\n\t\t\t}\n\n\t\t\t// Status-dependent callbacks\n\t\t\tjqXHR.statusCode( statusCode );\n\t\t\tstatusCode = undefined;\n\n\t\t\tif ( fireGlobals ) {\n\t\t\t\tglobalEventContext.trigger( isSuccess ? \"ajaxSuccess\" : \"ajaxError\",\n\t\t\t\t\t[ jqXHR, s, isSuccess ? success : error ] );\n\t\t\t}\n\n\t\t\t// Complete\n\t\t\tcompleteDeferred.fireWith( callbackContext, [ jqXHR, statusText ] );\n\n\t\t\tif ( fireGlobals ) {\n\t\t\t\tglobalEventContext.trigger( \"ajaxComplete\", [ jqXHR, s ] );\n\n\t\t\t\t// Handle the global AJAX counter\n\t\t\t\tif ( !( --jQuery.active ) ) {\n\t\t\t\t\tjQuery.event.trigger( \"ajaxStop\" );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn jqXHR;\n\t},\n\n\tgetJSON: function( url, data, callback ) {\n\t\treturn jQuery.get( url, data, callback, \"json\" );\n\t},\n\n\tgetScript: function( url, callback ) {\n\t\treturn jQuery.get( url, undefined, callback, \"script\" );\n\t}\n} );\n\njQuery.each( [ \"get\", \"post\" ], function( i, method ) {\n\tjQuery[ method ] = function( url, data, callback, type ) {\n\n\t\t// Shift arguments if data argument was omitted\n\t\tif ( jQuery.isFunction( data ) ) {\n\t\t\ttype = type || callback;\n\t\t\tcallback = data;\n\t\t\tdata = undefined;\n\t\t}\n\n\t\t// The url can be an options object (which then must have .url)\n\t\treturn jQuery.ajax( jQuery.extend( {\n\t\t\turl: url,\n\t\t\ttype: method,\n\t\t\tdataType: type,\n\t\t\tdata: data,\n\t\t\tsuccess: callback\n\t\t}, jQuery.isPlainObject( url ) && url ) );\n\t};\n} );\n\n\njQuery._evalUrl = function( url ) {\n\treturn jQuery.ajax( {\n\t\turl: url,\n\n\t\t// Make this explicit, since user can override this through ajaxSetup (#11264)\n\t\ttype: \"GET\",\n\t\tdataType: \"script\",\n\t\tcache: true,\n\t\tasync: false,\n\t\tglobal: false,\n\t\t\"throws\": true\n\t} );\n};\n\n\njQuery.fn.extend( {\n\twrapAll: function( html ) {\n\t\tvar wrap;\n\n\t\tif ( this[ 0 ] ) {\n\t\t\tif ( jQuery.isFunction( html ) ) {\n\t\t\t\thtml = html.call( this[ 0 ] );\n\t\t\t}\n\n\t\t\t// The elements to wrap the target around\n\t\t\twrap = jQuery( html, this[ 0 ].ownerDocument ).eq( 0 ).clone( true );\n\n\t\t\tif ( this[ 0 ].parentNode ) {\n\t\t\t\twrap.insertBefore( this[ 0 ] );\n\t\t\t}\n\n\t\t\twrap.map( function() {\n\t\t\t\tvar elem = this;\n\n\t\t\t\twhile ( elem.firstElementChild ) {\n\t\t\t\t\telem = elem.firstElementChild;\n\t\t\t\t}\n\n\t\t\t\treturn elem;\n\t\t\t} ).append( this );\n\t\t}\n\n\t\treturn this;\n\t},\n\n\twrapInner: function( html ) {\n\t\tif ( jQuery.isFunction( html ) ) {\n\t\t\treturn this.each( function( i ) {\n\t\t\t\tjQuery( this ).wrapInner( html.call( this, i ) );\n\t\t\t} );\n\t\t}\n\n\t\treturn this.each( function() {\n\t\t\tvar self = jQuery( this ),\n\t\t\t\tcontents = self.contents();\n\n\t\t\tif ( contents.length ) {\n\t\t\t\tcontents.wrapAll( html );\n\n\t\t\t} else {\n\t\t\t\tself.append( html );\n\t\t\t}\n\t\t} );\n\t},\n\n\twrap: function( html ) {\n\t\tvar isFunction = jQuery.isFunction( html );\n\n\t\treturn this.each( function( i ) {\n\t\t\tjQuery( this ).wrapAll( isFunction ? html.call( this, i ) : html );\n\t\t} );\n\t},\n\n\tunwrap: function( selector ) {\n\t\tthis.parent( selector ).not( \"body\" ).each( function() {\n\t\t\tjQuery( this ).replaceWith( this.childNodes );\n\t\t} );\n\t\treturn this;\n\t}\n} );\n\n\njQuery.expr.pseudos.hidden = function( elem ) {\n\treturn !jQuery.expr.pseudos.visible( elem );\n};\njQuery.expr.pseudos.visible = function( elem ) {\n\treturn !!( elem.offsetWidth || elem.offsetHeight || elem.getClientRects().length );\n};\n\n\n\n\njQuery.ajaxSettings.xhr = function() {\n\ttry {\n\t\treturn new window.XMLHttpRequest();\n\t} catch ( e ) {}\n};\n\nvar xhrSuccessStatus = {\n\n\t\t// File protocol always yields status code 0, assume 200\n\t\t0: 200,\n\n\t\t// Support: IE <=9 only\n\t\t// #1450: sometimes IE returns 1223 when it should be 204\n\t\t1223: 204\n\t},\n\txhrSupported = jQuery.ajaxSettings.xhr();\n\nsupport.cors = !!xhrSupported && ( \"withCredentials\" in xhrSupported );\nsupport.ajax = xhrSupported = !!xhrSupported;\n\njQuery.ajaxTransport( function( options ) {\n\tvar callback, errorCallback;\n\n\t// Cross domain only allowed if supported through XMLHttpRequest\n\tif ( support.cors || xhrSupported && !options.crossDomain ) {\n\t\treturn {\n\t\t\tsend: function( headers, complete ) {\n\t\t\t\tvar i,\n\t\t\t\t\txhr = options.xhr();\n\n\t\t\t\txhr.open(\n\t\t\t\t\toptions.type,\n\t\t\t\t\toptions.url,\n\t\t\t\t\toptions.async,\n\t\t\t\t\toptions.username,\n\t\t\t\t\toptions.password\n\t\t\t\t);\n\n\t\t\t\t// Apply custom fields if provided\n\t\t\t\tif ( options.xhrFields ) {\n\t\t\t\t\tfor ( i in options.xhrFields ) {\n\t\t\t\t\t\txhr[ i ] = options.xhrFields[ i ];\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Override mime type if needed\n\t\t\t\tif ( options.mimeType && xhr.overrideMimeType ) {\n\t\t\t\t\txhr.overrideMimeType( options.mimeType );\n\t\t\t\t}\n\n\t\t\t\t// X-Requested-With header\n\t\t\t\t// For cross-domain requests, seeing as conditions for a preflight are\n\t\t\t\t// akin to a jigsaw puzzle, we simply never set it to be sure.\n\t\t\t\t// (it can always be set on a per-request basis or even using ajaxSetup)\n\t\t\t\t// For same-domain requests, won't change header if already provided.\n\t\t\t\tif ( !options.crossDomain && !headers[ \"X-Requested-With\" ] ) {\n\t\t\t\t\theaders[ \"X-Requested-With\" ] = \"XMLHttpRequest\";\n\t\t\t\t}\n\n\t\t\t\t// Set headers\n\t\t\t\tfor ( i in headers ) {\n\t\t\t\t\txhr.setRequestHeader( i, headers[ i ] );\n\t\t\t\t}\n\n\t\t\t\t// Callback\n\t\t\t\tcallback = function( type ) {\n\t\t\t\t\treturn function() {\n\t\t\t\t\t\tif ( callback ) {\n\t\t\t\t\t\t\tcallback = errorCallback = xhr.onload =\n\t\t\t\t\t\t\t\txhr.onerror = xhr.onabort = xhr.onreadystatechange = null;\n\n\t\t\t\t\t\t\tif ( type === \"abort\" ) {\n\t\t\t\t\t\t\t\txhr.abort();\n\t\t\t\t\t\t\t} else if ( type === \"error\" ) {\n\n\t\t\t\t\t\t\t\t// Support: IE <=9 only\n\t\t\t\t\t\t\t\t// On a manual native abort, IE9 throws\n\t\t\t\t\t\t\t\t// errors on any property access that is not readyState\n\t\t\t\t\t\t\t\tif ( typeof xhr.status !== \"number\" ) {\n\t\t\t\t\t\t\t\t\tcomplete( 0, \"error\" );\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tcomplete(\n\n\t\t\t\t\t\t\t\t\t\t// File: protocol always yields status 0; see #8605, #14207\n\t\t\t\t\t\t\t\t\t\txhr.status,\n\t\t\t\t\t\t\t\t\t\txhr.statusText\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tcomplete(\n\t\t\t\t\t\t\t\t\txhrSuccessStatus[ xhr.status ] || xhr.status,\n\t\t\t\t\t\t\t\t\txhr.statusText,\n\n\t\t\t\t\t\t\t\t\t// Support: IE <=9 only\n\t\t\t\t\t\t\t\t\t// IE9 has no XHR2 but throws on binary (trac-11426)\n\t\t\t\t\t\t\t\t\t// For XHR2 non-text, let the caller handle it (gh-2498)\n\t\t\t\t\t\t\t\t\t( xhr.responseType || \"text\" ) !== \"text\"  ||\n\t\t\t\t\t\t\t\t\ttypeof xhr.responseText !== \"string\" ?\n\t\t\t\t\t\t\t\t\t\t{ binary: xhr.response } :\n\t\t\t\t\t\t\t\t\t\t{ text: xhr.responseText },\n\t\t\t\t\t\t\t\t\txhr.getAllResponseHeaders()\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t};\n\n\t\t\t\t// Listen to events\n\t\t\t\txhr.onload = callback();\n\t\t\t\terrorCallback = xhr.onerror = callback( \"error\" );\n\n\t\t\t\t// Support: IE 9 only\n\t\t\t\t// Use onreadystatechange to replace onabort\n\t\t\t\t// to handle uncaught aborts\n\t\t\t\tif ( xhr.onabort !== undefined ) {\n\t\t\t\t\txhr.onabort = errorCallback;\n\t\t\t\t} else {\n\t\t\t\t\txhr.onreadystatechange = function() {\n\n\t\t\t\t\t\t// Check readyState before timeout as it changes\n\t\t\t\t\t\tif ( xhr.readyState === 4 ) {\n\n\t\t\t\t\t\t\t// Allow onerror to be called first,\n\t\t\t\t\t\t\t// but that will not handle a native abort\n\t\t\t\t\t\t\t// Also, save errorCallback to a variable\n\t\t\t\t\t\t\t// as xhr.onerror cannot be accessed\n\t\t\t\t\t\t\twindow.setTimeout( function() {\n\t\t\t\t\t\t\t\tif ( callback ) {\n\t\t\t\t\t\t\t\t\terrorCallback();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\t// Create the abort callback\n\t\t\t\tcallback = callback( \"abort\" );\n\n\t\t\t\ttry {\n\n\t\t\t\t\t// Do send the request (this may raise an exception)\n\t\t\t\t\txhr.send( options.hasContent && options.data || null );\n\t\t\t\t} catch ( e ) {\n\n\t\t\t\t\t// #14683: Only rethrow if this hasn't been notified as an error yet\n\t\t\t\t\tif ( callback ) {\n\t\t\t\t\t\tthrow e;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tabort: function() {\n\t\t\t\tif ( callback ) {\n\t\t\t\t\tcallback();\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t}\n} );\n\n\n\n\n// Prevent auto-execution of scripts when no explicit dataType was provided (See gh-2432)\njQuery.ajaxPrefilter( function( s ) {\n\tif ( s.crossDomain ) {\n\t\ts.contents.script = false;\n\t}\n} );\n\n// Install script dataType\njQuery.ajaxSetup( {\n\taccepts: {\n\t\tscript: \"text/javascript, application/javascript, \" +\n\t\t\t\"application/ecmascript, application/x-ecmascript\"\n\t},\n\tcontents: {\n\t\tscript: /\\b(?:java|ecma)script\\b/\n\t},\n\tconverters: {\n\t\t\"text script\": function( text ) {\n\t\t\tjQuery.globalEval( text );\n\t\t\treturn text;\n\t\t}\n\t}\n} );\n\n// Handle cache's special case and crossDomain\njQuery.ajaxPrefilter( \"script\", function( s ) {\n\tif ( s.cache === undefined ) {\n\t\ts.cache = false;\n\t}\n\tif ( s.crossDomain ) {\n\t\ts.type = \"GET\";\n\t}\n} );\n\n// Bind script tag hack transport\njQuery.ajaxTransport( \"script\", function( s ) {\n\n\t// This transport only deals with cross domain requests\n\tif ( s.crossDomain ) {\n\t\tvar script, callback;\n\t\treturn {\n\t\t\tsend: function( _, complete ) {\n\t\t\t\tscript = jQuery( \"<script>\" ).prop( {\n\t\t\t\t\tcharset: s.scriptCharset,\n\t\t\t\t\tsrc: s.url\n\t\t\t\t} ).on(\n\t\t\t\t\t\"load error\",\n\t\t\t\t\tcallback = function( evt ) {\n\t\t\t\t\t\tscript.remove();\n\t\t\t\t\t\tcallback = null;\n\t\t\t\t\t\tif ( evt ) {\n\t\t\t\t\t\t\tcomplete( evt.type === \"error\" ? 404 : 200, evt.type );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t);\n\n\t\t\t\t// Use native DOM manipulation to avoid our domManip AJAX trickery\n\t\t\t\tdocument.head.appendChild( script[ 0 ] );\n\t\t\t},\n\t\t\tabort: function() {\n\t\t\t\tif ( callback ) {\n\t\t\t\t\tcallback();\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t}\n} );\n\n\n\n\nvar oldCallbacks = [],\n\trjsonp = /(=)\\?(?=&|$)|\\?\\?/;\n\n// Default jsonp settings\njQuery.ajaxSetup( {\n\tjsonp: \"callback\",\n\tjsonpCallback: function() {\n\t\tvar callback = oldCallbacks.pop() || ( jQuery.expando + \"_\" + ( nonce++ ) );\n\t\tthis[ callback ] = true;\n\t\treturn callback;\n\t}\n} );\n\n// Detect, normalize options and install callbacks for jsonp requests\njQuery.ajaxPrefilter( \"json jsonp\", function( s, originalSettings, jqXHR ) {\n\n\tvar callbackName, overwritten, responseContainer,\n\t\tjsonProp = s.jsonp !== false && ( rjsonp.test( s.url ) ?\n\t\t\t\"url\" :\n\t\t\ttypeof s.data === \"string\" &&\n\t\t\t\t( s.contentType || \"\" )\n\t\t\t\t\t.indexOf( \"application/x-www-form-urlencoded\" ) === 0 &&\n\t\t\t\trjsonp.test( s.data ) && \"data\"\n\t\t);\n\n\t// Handle iff the expected data type is \"jsonp\" or we have a parameter to set\n\tif ( jsonProp || s.dataTypes[ 0 ] === \"jsonp\" ) {\n\n\t\t// Get callback name, remembering preexisting value associated with it\n\t\tcallbackName = s.jsonpCallback = jQuery.isFunction( s.jsonpCallback ) ?\n\t\t\ts.jsonpCallback() :\n\t\t\ts.jsonpCallback;\n\n\t\t// Insert callback into url or form data\n\t\tif ( jsonProp ) {\n\t\t\ts[ jsonProp ] = s[ jsonProp ].replace( rjsonp, \"$1\" + callbackName );\n\t\t} else if ( s.jsonp !== false ) {\n\t\t\ts.url += ( rquery.test( s.url ) ? \"&\" : \"?\" ) + s.jsonp + \"=\" + callbackName;\n\t\t}\n\n\t\t// Use data converter to retrieve json after script execution\n\t\ts.converters[ \"script json\" ] = function() {\n\t\t\tif ( !responseContainer ) {\n\t\t\t\tjQuery.error( callbackName + \" was not called\" );\n\t\t\t}\n\t\t\treturn responseContainer[ 0 ];\n\t\t};\n\n\t\t// Force json dataType\n\t\ts.dataTypes[ 0 ] = \"json\";\n\n\t\t// Install callback\n\t\toverwritten = window[ callbackName ];\n\t\twindow[ callbackName ] = function() {\n\t\t\tresponseContainer = arguments;\n\t\t};\n\n\t\t// Clean-up function (fires after converters)\n\t\tjqXHR.always( function() {\n\n\t\t\t// If previous value didn't exist - remove it\n\t\t\tif ( overwritten === undefined ) {\n\t\t\t\tjQuery( window ).removeProp( callbackName );\n\n\t\t\t// Otherwise restore preexisting value\n\t\t\t} else {\n\t\t\t\twindow[ callbackName ] = overwritten;\n\t\t\t}\n\n\t\t\t// Save back as free\n\t\t\tif ( s[ callbackName ] ) {\n\n\t\t\t\t// Make sure that re-using the options doesn't screw things around\n\t\t\t\ts.jsonpCallback = originalSettings.jsonpCallback;\n\n\t\t\t\t// Save the callback name for future use\n\t\t\t\toldCallbacks.push( callbackName );\n\t\t\t}\n\n\t\t\t// Call if it was a function and we have a response\n\t\t\tif ( responseContainer && jQuery.isFunction( overwritten ) ) {\n\t\t\t\toverwritten( responseContainer[ 0 ] );\n\t\t\t}\n\n\t\t\tresponseContainer = overwritten = undefined;\n\t\t} );\n\n\t\t// Delegate to script\n\t\treturn \"script\";\n\t}\n} );\n\n\n\n\n// Support: Safari 8 only\n// In Safari 8 documents created via document.implementation.createHTMLDocument\n// collapse sibling forms: the second one becomes a child of the first one.\n// Because of that, this security measure has to be disabled in Safari 8.\n// https://bugs.webkit.org/show_bug.cgi?id=137337\nsupport.createHTMLDocument = ( function() {\n\tvar body = document.implementation.createHTMLDocument( \"\" ).body;\n\tbody.innerHTML = \"<form></form><form></form>\";\n\treturn body.childNodes.length === 2;\n} )();\n\n\n// Argument \"data\" should be string of html\n// context (optional): If specified, the fragment will be created in this context,\n// defaults to document\n// keepScripts (optional): If true, will include scripts passed in the html string\njQuery.parseHTML = function( data, context, keepScripts ) {\n\tif ( typeof data !== \"string\" ) {\n\t\treturn [];\n\t}\n\tif ( typeof context === \"boolean\" ) {\n\t\tkeepScripts = context;\n\t\tcontext = false;\n\t}\n\n\tvar base, parsed, scripts;\n\n\tif ( !context ) {\n\n\t\t// Stop scripts or inline event handlers from being executed immediately\n\t\t// by using document.implementation\n\t\tif ( support.createHTMLDocument ) {\n\t\t\tcontext = document.implementation.createHTMLDocument( \"\" );\n\n\t\t\t// Set the base href for the created document\n\t\t\t// so any parsed elements with URLs\n\t\t\t// are based on the document's URL (gh-2965)\n\t\t\tbase = context.createElement( \"base\" );\n\t\t\tbase.href = document.location.href;\n\t\t\tcontext.head.appendChild( base );\n\t\t} else {\n\t\t\tcontext = document;\n\t\t}\n\t}\n\n\tparsed = rsingleTag.exec( data );\n\tscripts = !keepScripts && [];\n\n\t// Single tag\n\tif ( parsed ) {\n\t\treturn [ context.createElement( parsed[ 1 ] ) ];\n\t}\n\n\tparsed = buildFragment( [ data ], context, scripts );\n\n\tif ( scripts && scripts.length ) {\n\t\tjQuery( scripts ).remove();\n\t}\n\n\treturn jQuery.merge( [], parsed.childNodes );\n};\n\n\n/**\n * Load a url into a page\n */\njQuery.fn.load = function( url, params, callback ) {\n\tvar selector, type, response,\n\t\tself = this,\n\t\toff = url.indexOf( \" \" );\n\n\tif ( off > -1 ) {\n\t\tselector = stripAndCollapse( url.slice( off ) );\n\t\turl = url.slice( 0, off );\n\t}\n\n\t// If it's a function\n\tif ( jQuery.isFunction( params ) ) {\n\n\t\t// We assume that it's the callback\n\t\tcallback = params;\n\t\tparams = undefined;\n\n\t// Otherwise, build a param string\n\t} else if ( params && typeof params === \"object\" ) {\n\t\ttype = \"POST\";\n\t}\n\n\t// If we have elements to modify, make the request\n\tif ( self.length > 0 ) {\n\t\tjQuery.ajax( {\n\t\t\turl: url,\n\n\t\t\t// If \"type\" variable is undefined, then \"GET\" method will be used.\n\t\t\t// Make value of this field explicit since\n\t\t\t// user can override it through ajaxSetup method\n\t\t\ttype: type || \"GET\",\n\t\t\tdataType: \"html\",\n\t\t\tdata: params\n\t\t} ).done( function( responseText ) {\n\n\t\t\t// Save response for use in complete callback\n\t\t\tresponse = arguments;\n\n\t\t\tself.html( selector ?\n\n\t\t\t\t// If a selector was specified, locate the right elements in a dummy div\n\t\t\t\t// Exclude scripts to avoid IE 'Permission Denied' errors\n\t\t\t\tjQuery( \"<div>\" ).append( jQuery.parseHTML( responseText ) ).find( selector ) :\n\n\t\t\t\t// Otherwise use the full result\n\t\t\t\tresponseText );\n\n\t\t// If the request succeeds, this function gets \"data\", \"status\", \"jqXHR\"\n\t\t// but they are ignored because response was set above.\n\t\t// If it fails, this function gets \"jqXHR\", \"status\", \"error\"\n\t\t} ).always( callback && function( jqXHR, status ) {\n\t\t\tself.each( function() {\n\t\t\t\tcallback.apply( this, response || [ jqXHR.responseText, status, jqXHR ] );\n\t\t\t} );\n\t\t} );\n\t}\n\n\treturn this;\n};\n\n\n\n\n// Attach a bunch of functions for handling common AJAX events\njQuery.each( [\n\t\"ajaxStart\",\n\t\"ajaxStop\",\n\t\"ajaxComplete\",\n\t\"ajaxError\",\n\t\"ajaxSuccess\",\n\t\"ajaxSend\"\n], function( i, type ) {\n\tjQuery.fn[ type ] = function( fn ) {\n\t\treturn this.on( type, fn );\n\t};\n} );\n\n\n\n\njQuery.expr.pseudos.animated = function( elem ) {\n\treturn jQuery.grep( jQuery.timers, function( fn ) {\n\t\treturn elem === fn.elem;\n\t} ).length;\n};\n\n\n\n\njQuery.offset = {\n\tsetOffset: function( elem, options, i ) {\n\t\tvar curPosition, curLeft, curCSSTop, curTop, curOffset, curCSSLeft, calculatePosition,\n\t\t\tposition = jQuery.css( elem, \"position\" ),\n\t\t\tcurElem = jQuery( elem ),\n\t\t\tprops = {};\n\n\t\t// Set position first, in-case top/left are set even on static elem\n\t\tif ( position === \"static\" ) {\n\t\t\telem.style.position = \"relative\";\n\t\t}\n\n\t\tcurOffset = curElem.offset();\n\t\tcurCSSTop = jQuery.css( elem, \"top\" );\n\t\tcurCSSLeft = jQuery.css( elem, \"left\" );\n\t\tcalculatePosition = ( position === \"absolute\" || position === \"fixed\" ) &&\n\t\t\t( curCSSTop + curCSSLeft ).indexOf( \"auto\" ) > -1;\n\n\t\t// Need to be able to calculate position if either\n\t\t// top or left is auto and position is either absolute or fixed\n\t\tif ( calculatePosition ) {\n\t\t\tcurPosition = curElem.position();\n\t\t\tcurTop = curPosition.top;\n\t\t\tcurLeft = curPosition.left;\n\n\t\t} else {\n\t\t\tcurTop = parseFloat( curCSSTop ) || 0;\n\t\t\tcurLeft = parseFloat( curCSSLeft ) || 0;\n\t\t}\n\n\t\tif ( jQuery.isFunction( options ) ) {\n\n\t\t\t// Use jQuery.extend here to allow modification of coordinates argument (gh-1848)\n\t\t\toptions = options.call( elem, i, jQuery.extend( {}, curOffset ) );\n\t\t}\n\n\t\tif ( options.top != null ) {\n\t\t\tprops.top = ( options.top - curOffset.top ) + curTop;\n\t\t}\n\t\tif ( options.left != null ) {\n\t\t\tprops.left = ( options.left - curOffset.left ) + curLeft;\n\t\t}\n\n\t\tif ( \"using\" in options ) {\n\t\t\toptions.using.call( elem, props );\n\n\t\t} else {\n\t\t\tcurElem.css( props );\n\t\t}\n\t}\n};\n\njQuery.fn.extend( {\n\toffset: function( options ) {\n\n\t\t// Preserve chaining for setter\n\t\tif ( arguments.length ) {\n\t\t\treturn options === undefined ?\n\t\t\t\tthis :\n\t\t\t\tthis.each( function( i ) {\n\t\t\t\t\tjQuery.offset.setOffset( this, options, i );\n\t\t\t\t} );\n\t\t}\n\n\t\tvar doc, docElem, rect, win,\n\t\t\telem = this[ 0 ];\n\n\t\tif ( !elem ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Return zeros for disconnected and hidden (display: none) elements (gh-2310)\n\t\t// Support: IE <=11 only\n\t\t// Running getBoundingClientRect on a\n\t\t// disconnected node in IE throws an error\n\t\tif ( !elem.getClientRects().length ) {\n\t\t\treturn { top: 0, left: 0 };\n\t\t}\n\n\t\trect = elem.getBoundingClientRect();\n\n\t\tdoc = elem.ownerDocument;\n\t\tdocElem = doc.documentElement;\n\t\twin = doc.defaultView;\n\n\t\treturn {\n\t\t\ttop: rect.top + win.pageYOffset - docElem.clientTop,\n\t\t\tleft: rect.left + win.pageXOffset - docElem.clientLeft\n\t\t};\n\t},\n\n\tposition: function() {\n\t\tif ( !this[ 0 ] ) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar offsetParent, offset,\n\t\t\telem = this[ 0 ],\n\t\t\tparentOffset = { top: 0, left: 0 };\n\n\t\t// Fixed elements are offset from window (parentOffset = {top:0, left: 0},\n\t\t// because it is its only offset parent\n\t\tif ( jQuery.css( elem, \"position\" ) === \"fixed\" ) {\n\n\t\t\t// Assume getBoundingClientRect is there when computed position is fixed\n\t\t\toffset = elem.getBoundingClientRect();\n\n\t\t} else {\n\n\t\t\t// Get *real* offsetParent\n\t\t\toffsetParent = this.offsetParent();\n\n\t\t\t// Get correct offsets\n\t\t\toffset = this.offset();\n\t\t\tif ( !nodeName( offsetParent[ 0 ], \"html\" ) ) {\n\t\t\t\tparentOffset = offsetParent.offset();\n\t\t\t}\n\n\t\t\t// Add offsetParent borders\n\t\t\tparentOffset = {\n\t\t\t\ttop: parentOffset.top + jQuery.css( offsetParent[ 0 ], \"borderTopWidth\", true ),\n\t\t\t\tleft: parentOffset.left + jQuery.css( offsetParent[ 0 ], \"borderLeftWidth\", true )\n\t\t\t};\n\t\t}\n\n\t\t// Subtract parent offsets and element margins\n\t\treturn {\n\t\t\ttop: offset.top - parentOffset.top - jQuery.css( elem, \"marginTop\", true ),\n\t\t\tleft: offset.left - parentOffset.left - jQuery.css( elem, \"marginLeft\", true )\n\t\t};\n\t},\n\n\t// This method will return documentElement in the following cases:\n\t// 1) For the element inside the iframe without offsetParent, this method will return\n\t//    documentElement of the parent window\n\t// 2) For the hidden or detached element\n\t// 3) For body or html element, i.e. in case of the html node - it will return itself\n\t//\n\t// but those exceptions were never presented as a real life use-cases\n\t// and might be considered as more preferable results.\n\t//\n\t// This logic, however, is not guaranteed and can change at any point in the future\n\toffsetParent: function() {\n\t\treturn this.map( function() {\n\t\t\tvar offsetParent = this.offsetParent;\n\n\t\t\twhile ( offsetParent && jQuery.css( offsetParent, \"position\" ) === \"static\" ) {\n\t\t\t\toffsetParent = offsetParent.offsetParent;\n\t\t\t}\n\n\t\t\treturn offsetParent || documentElement;\n\t\t} );\n\t}\n} );\n\n// Create scrollLeft and scrollTop methods\njQuery.each( { scrollLeft: \"pageXOffset\", scrollTop: \"pageYOffset\" }, function( method, prop ) {\n\tvar top = \"pageYOffset\" === prop;\n\n\tjQuery.fn[ method ] = function( val ) {\n\t\treturn access( this, function( elem, method, val ) {\n\n\t\t\t// Coalesce documents and windows\n\t\t\tvar win;\n\t\t\tif ( jQuery.isWindow( elem ) ) {\n\t\t\t\twin = elem;\n\t\t\t} else if ( elem.nodeType === 9 ) {\n\t\t\t\twin = elem.defaultView;\n\t\t\t}\n\n\t\t\tif ( val === undefined ) {\n\t\t\t\treturn win ? win[ prop ] : elem[ method ];\n\t\t\t}\n\n\t\t\tif ( win ) {\n\t\t\t\twin.scrollTo(\n\t\t\t\t\t!top ? val : win.pageXOffset,\n\t\t\t\t\ttop ? val : win.pageYOffset\n\t\t\t\t);\n\n\t\t\t} else {\n\t\t\t\telem[ method ] = val;\n\t\t\t}\n\t\t}, method, val, arguments.length );\n\t};\n} );\n\n// Support: Safari <=7 - 9.1, Chrome <=37 - 49\n// Add the top/left cssHooks using jQuery.fn.position\n// Webkit bug: https://bugs.webkit.org/show_bug.cgi?id=29084\n// Blink bug: https://bugs.chromium.org/p/chromium/issues/detail?id=589347\n// getComputedStyle returns percent when specified for top/left/bottom/right;\n// rather than make the css module depend on the offset module, just check for it here\njQuery.each( [ \"top\", \"left\" ], function( i, prop ) {\n\tjQuery.cssHooks[ prop ] = addGetHookIf( support.pixelPosition,\n\t\tfunction( elem, computed ) {\n\t\t\tif ( computed ) {\n\t\t\t\tcomputed = curCSS( elem, prop );\n\n\t\t\t\t// If curCSS returns percentage, fallback to offset\n\t\t\t\treturn rnumnonpx.test( computed ) ?\n\t\t\t\t\tjQuery( elem ).position()[ prop ] + \"px\" :\n\t\t\t\t\tcomputed;\n\t\t\t}\n\t\t}\n\t);\n} );\n\n\n// Create innerHeight, innerWidth, height, width, outerHeight and outerWidth methods\njQuery.each( { Height: \"height\", Width: \"width\" }, function( name, type ) {\n\tjQuery.each( { padding: \"inner\" + name, content: type, \"\": \"outer\" + name },\n\t\tfunction( defaultExtra, funcName ) {\n\n\t\t// Margin is only for outerHeight, outerWidth\n\t\tjQuery.fn[ funcName ] = function( margin, value ) {\n\t\t\tvar chainable = arguments.length && ( defaultExtra || typeof margin !== \"boolean\" ),\n\t\t\t\textra = defaultExtra || ( margin === true || value === true ? \"margin\" : \"border\" );\n\n\t\t\treturn access( this, function( elem, type, value ) {\n\t\t\t\tvar doc;\n\n\t\t\t\tif ( jQuery.isWindow( elem ) ) {\n\n\t\t\t\t\t// $( window ).outerWidth/Height return w/h including scrollbars (gh-1729)\n\t\t\t\t\treturn funcName.indexOf( \"outer\" ) === 0 ?\n\t\t\t\t\t\telem[ \"inner\" + name ] :\n\t\t\t\t\t\telem.document.documentElement[ \"client\" + name ];\n\t\t\t\t}\n\n\t\t\t\t// Get document width or height\n\t\t\t\tif ( elem.nodeType === 9 ) {\n\t\t\t\t\tdoc = elem.documentElement;\n\n\t\t\t\t\t// Either scroll[Width/Height] or offset[Width/Height] or client[Width/Height],\n\t\t\t\t\t// whichever is greatest\n\t\t\t\t\treturn Math.max(\n\t\t\t\t\t\telem.body[ \"scroll\" + name ], doc[ \"scroll\" + name ],\n\t\t\t\t\t\telem.body[ \"offset\" + name ], doc[ \"offset\" + name ],\n\t\t\t\t\t\tdoc[ \"client\" + name ]\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\treturn value === undefined ?\n\n\t\t\t\t\t// Get width or height on the element, requesting but not forcing parseFloat\n\t\t\t\t\tjQuery.css( elem, type, extra ) :\n\n\t\t\t\t\t// Set width or height on the element\n\t\t\t\t\tjQuery.style( elem, type, value, extra );\n\t\t\t}, type, chainable ? margin : undefined, chainable );\n\t\t};\n\t} );\n} );\n\n\njQuery.fn.extend( {\n\n\tbind: function( types, data, fn ) {\n\t\treturn this.on( types, null, data, fn );\n\t},\n\tunbind: function( types, fn ) {\n\t\treturn this.off( types, null, fn );\n\t},\n\n\tdelegate: function( selector, types, data, fn ) {\n\t\treturn this.on( types, selector, data, fn );\n\t},\n\tundelegate: function( selector, types, fn ) {\n\n\t\t// ( namespace ) or ( selector, types [, fn] )\n\t\treturn arguments.length === 1 ?\n\t\t\tthis.off( selector, \"**\" ) :\n\t\t\tthis.off( types, selector || \"**\", fn );\n\t}\n} );\n\njQuery.holdReady = function( hold ) {\n\tif ( hold ) {\n\t\tjQuery.readyWait++;\n\t} else {\n\t\tjQuery.ready( true );\n\t}\n};\njQuery.isArray = Array.isArray;\njQuery.parseJSON = JSON.parse;\njQuery.nodeName = nodeName;\n\n\n\n\n// Register as a named AMD module, since jQuery can be concatenated with other\n// files that may use define, but not via a proper concatenation script that\n// understands anonymous AMD modules. A named AMD is safest and most robust\n// way to register. Lowercase jquery is used because AMD module names are\n// derived from file names, and jQuery is normally delivered in a lowercase\n// file name. Do this after creating the global so that if an AMD module wants\n// to call noConflict to hide this version of jQuery, it will work.\n\n// Note that for maximum portability, libraries that are not jQuery should\n// declare themselves as anonymous modules, and avoid setting a global if an\n// AMD loader is present. jQuery is a special case. For more information, see\n// https://github.com/jrburke/requirejs/wiki/Updating-existing-libraries#wiki-anon\n\nif ( typeof define === \"function\" && define.amd ) {\n\tdefine( \"jquery\", [], function() {\n\t\treturn jQuery;\n\t} );\n}\n\n\n\n\nvar\n\n\t// Map over jQuery in case of overwrite\n\t_jQuery = window.jQuery,\n\n\t// Map over the $ in case of overwrite\n\t_$ = window.$;\n\njQuery.noConflict = function( deep ) {\n\tif ( window.$ === jQuery ) {\n\t\twindow.$ = _$;\n\t}\n\n\tif ( deep && window.jQuery === jQuery ) {\n\t\twindow.jQuery = _jQuery;\n\t}\n\n\treturn jQuery;\n};\n\n// Expose jQuery and $ identifiers, even in AMD\n// (#7102#comment:10, https://github.com/jquery/jquery/pull/557)\n// and CommonJS for browser emulators (#13566)\nif ( !noGlobal ) {\n\twindow.jQuery = window.$ = jQuery;\n}\n\n\n\n\nreturn jQuery;\n} );\n\n\n\n// WEBPACK FOOTER //\n// ./examples/src/js/vendor/jquery.js","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: http://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n\"use strict\";\n\nCodeMirror.defineMode(\"javascript\", function(config, parserConfig) {\n  var indentUnit = config.indentUnit;\n  var statementIndent = parserConfig.statementIndent;\n  var jsonldMode = parserConfig.jsonld;\n  var jsonMode = parserConfig.json || jsonldMode;\n  var isTS = parserConfig.typescript;\n  var wordRE = parserConfig.wordCharacters || /[\\w$\\xa1-\\uffff]/;\n\n  // Tokenizer\n\n  var keywords = function(){\n    function kw(type) {return {type: type, style: \"keyword\"};}\n    var A = kw(\"keyword a\"), B = kw(\"keyword b\"), C = kw(\"keyword c\"), D = kw(\"keyword d\");\n    var operator = kw(\"operator\"), atom = {type: \"atom\", style: \"atom\"};\n\n    var jsKeywords = {\n      \"if\": kw(\"if\"), \"while\": A, \"with\": A, \"else\": B, \"do\": B, \"try\": B, \"finally\": B,\n      \"return\": D, \"break\": D, \"continue\": D, \"new\": kw(\"new\"), \"delete\": C, \"void\": C, \"throw\": C,\n      \"debugger\": kw(\"debugger\"), \"var\": kw(\"var\"), \"const\": kw(\"var\"), \"let\": kw(\"var\"),\n      \"function\": kw(\"function\"), \"catch\": kw(\"catch\"),\n      \"for\": kw(\"for\"), \"switch\": kw(\"switch\"), \"case\": kw(\"case\"), \"default\": kw(\"default\"),\n      \"in\": operator, \"typeof\": operator, \"instanceof\": operator,\n      \"true\": atom, \"false\": atom, \"null\": atom, \"undefined\": atom, \"NaN\": atom, \"Infinity\": atom,\n      \"this\": kw(\"this\"), \"class\": kw(\"class\"), \"super\": kw(\"atom\"),\n      \"yield\": C, \"export\": kw(\"export\"), \"import\": kw(\"import\"), \"extends\": C,\n      \"await\": C\n    };\n\n    // Extend the 'normal' keywords with the TypeScript language extensions\n    if (isTS) {\n      var type = {type: \"variable\", style: \"type\"};\n      var tsKeywords = {\n        // object-like things\n        \"interface\": kw(\"class\"),\n        \"implements\": C,\n        \"namespace\": C,\n\n        // scope modifiers\n        \"public\": kw(\"modifier\"),\n        \"private\": kw(\"modifier\"),\n        \"protected\": kw(\"modifier\"),\n        \"abstract\": kw(\"modifier\"),\n        \"readonly\": kw(\"modifier\"),\n\n        // types\n        \"string\": type, \"number\": type, \"boolean\": type, \"any\": type\n      };\n\n      for (var attr in tsKeywords) {\n        jsKeywords[attr] = tsKeywords[attr];\n      }\n    }\n\n    return jsKeywords;\n  }();\n\n  var isOperatorChar = /[+\\-*&%=<>!?|~^@]/;\n  var isJsonldKeyword = /^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)\"/;\n\n  function readRegexp(stream) {\n    var escaped = false, next, inSet = false;\n    while ((next = stream.next()) != null) {\n      if (!escaped) {\n        if (next == \"/\" && !inSet) return;\n        if (next == \"[\") inSet = true;\n        else if (inSet && next == \"]\") inSet = false;\n      }\n      escaped = !escaped && next == \"\\\\\";\n    }\n  }\n\n  // Used as scratch variables to communicate multiple values without\n  // consing up tons of objects.\n  var type, content;\n  function ret(tp, style, cont) {\n    type = tp; content = cont;\n    return style;\n  }\n  function tokenBase(stream, state) {\n    var ch = stream.next();\n    if (ch == '\"' || ch == \"'\") {\n      state.tokenize = tokenString(ch);\n      return state.tokenize(stream, state);\n    } else if (ch == \".\" && stream.match(/^\\d+(?:[eE][+\\-]?\\d+)?/)) {\n      return ret(\"number\", \"number\");\n    } else if (ch == \".\" && stream.match(\"..\")) {\n      return ret(\"spread\", \"meta\");\n    } else if (/[\\[\\]{}\\(\\),;\\:\\.]/.test(ch)) {\n      return ret(ch);\n    } else if (ch == \"=\" && stream.eat(\">\")) {\n      return ret(\"=>\", \"operator\");\n    } else if (ch == \"0\" && stream.eat(/x/i)) {\n      stream.eatWhile(/[\\da-f]/i);\n      return ret(\"number\", \"number\");\n    } else if (ch == \"0\" && stream.eat(/o/i)) {\n      stream.eatWhile(/[0-7]/i);\n      return ret(\"number\", \"number\");\n    } else if (ch == \"0\" && stream.eat(/b/i)) {\n      stream.eatWhile(/[01]/i);\n      return ret(\"number\", \"number\");\n    } else if (/\\d/.test(ch)) {\n      stream.match(/^\\d*(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?/);\n      return ret(\"number\", \"number\");\n    } else if (ch == \"/\") {\n      if (stream.eat(\"*\")) {\n        state.tokenize = tokenComment;\n        return tokenComment(stream, state);\n      } else if (stream.eat(\"/\")) {\n        stream.skipToEnd();\n        return ret(\"comment\", \"comment\");\n      } else if (expressionAllowed(stream, state, 1)) {\n        readRegexp(stream);\n        stream.match(/^\\b(([gimyu])(?![gimyu]*\\2))+\\b/);\n        return ret(\"regexp\", \"string-2\");\n      } else {\n        stream.eat(\"=\");\n        return ret(\"operator\", \"operator\", stream.current());\n      }\n    } else if (ch == \"`\") {\n      state.tokenize = tokenQuasi;\n      return tokenQuasi(stream, state);\n    } else if (ch == \"#\") {\n      stream.skipToEnd();\n      return ret(\"error\", \"error\");\n    } else if (isOperatorChar.test(ch)) {\n      if (ch != \">\" || !state.lexical || state.lexical.type != \">\") {\n        if (stream.eat(\"=\")) {\n          if (ch == \"!\" || ch == \"=\") stream.eat(\"=\")\n        } else if (/[<>*+\\-]/.test(ch)) {\n          stream.eat(ch)\n          if (ch == \">\") stream.eat(ch)\n        }\n      }\n      return ret(\"operator\", \"operator\", stream.current());\n    } else if (wordRE.test(ch)) {\n      stream.eatWhile(wordRE);\n      var word = stream.current()\n      if (state.lastType != \".\") {\n        if (keywords.propertyIsEnumerable(word)) {\n          var kw = keywords[word]\n          return ret(kw.type, kw.style, word)\n        }\n        if (word == \"async\" && stream.match(/^(\\s|\\/\\*.*?\\*\\/)*[\\(\\w]/, false))\n          return ret(\"async\", \"keyword\", word)\n      }\n      return ret(\"variable\", \"variable\", word)\n    }\n  }\n\n  function tokenString(quote) {\n    return function(stream, state) {\n      var escaped = false, next;\n      if (jsonldMode && stream.peek() == \"@\" && stream.match(isJsonldKeyword)){\n        state.tokenize = tokenBase;\n        return ret(\"jsonld-keyword\", \"meta\");\n      }\n      while ((next = stream.next()) != null) {\n        if (next == quote && !escaped) break;\n        escaped = !escaped && next == \"\\\\\";\n      }\n      if (!escaped) state.tokenize = tokenBase;\n      return ret(\"string\", \"string\");\n    };\n  }\n\n  function tokenComment(stream, state) {\n    var maybeEnd = false, ch;\n    while (ch = stream.next()) {\n      if (ch == \"/\" && maybeEnd) {\n        state.tokenize = tokenBase;\n        break;\n      }\n      maybeEnd = (ch == \"*\");\n    }\n    return ret(\"comment\", \"comment\");\n  }\n\n  function tokenQuasi(stream, state) {\n    var escaped = false, next;\n    while ((next = stream.next()) != null) {\n      if (!escaped && (next == \"`\" || next == \"$\" && stream.eat(\"{\"))) {\n        state.tokenize = tokenBase;\n        break;\n      }\n      escaped = !escaped && next == \"\\\\\";\n    }\n    return ret(\"quasi\", \"string-2\", stream.current());\n  }\n\n  var brackets = \"([{}])\";\n  // This is a crude lookahead trick to try and notice that we're\n  // parsing the argument patterns for a fat-arrow function before we\n  // actually hit the arrow token. It only works if the arrow is on\n  // the same line as the arguments and there's no strange noise\n  // (comments) in between. Fallback is to only notice when we hit the\n  // arrow, and not declare the arguments as locals for the arrow\n  // body.\n  function findFatArrow(stream, state) {\n    if (state.fatArrowAt) state.fatArrowAt = null;\n    var arrow = stream.string.indexOf(\"=>\", stream.start);\n    if (arrow < 0) return;\n\n    if (isTS) { // Try to skip TypeScript return type declarations after the arguments\n      var m = /:\\s*(?:\\w+(?:<[^>]*>|\\[\\])?|\\{[^}]*\\})\\s*$/.exec(stream.string.slice(stream.start, arrow))\n      if (m) arrow = m.index\n    }\n\n    var depth = 0, sawSomething = false;\n    for (var pos = arrow - 1; pos >= 0; --pos) {\n      var ch = stream.string.charAt(pos);\n      var bracket = brackets.indexOf(ch);\n      if (bracket >= 0 && bracket < 3) {\n        if (!depth) { ++pos; break; }\n        if (--depth == 0) { if (ch == \"(\") sawSomething = true; break; }\n      } else if (bracket >= 3 && bracket < 6) {\n        ++depth;\n      } else if (wordRE.test(ch)) {\n        sawSomething = true;\n      } else if (/[\"'\\/]/.test(ch)) {\n        return;\n      } else if (sawSomething && !depth) {\n        ++pos;\n        break;\n      }\n    }\n    if (sawSomething && !depth) state.fatArrowAt = pos;\n  }\n\n  // Parser\n\n  var atomicTypes = {\"atom\": true, \"number\": true, \"variable\": true, \"string\": true, \"regexp\": true, \"this\": true, \"jsonld-keyword\": true};\n\n  function JSLexical(indented, column, type, align, prev, info) {\n    this.indented = indented;\n    this.column = column;\n    this.type = type;\n    this.prev = prev;\n    this.info = info;\n    if (align != null) this.align = align;\n  }\n\n  function inScope(state, varname) {\n    for (var v = state.localVars; v; v = v.next)\n      if (v.name == varname) return true;\n    for (var cx = state.context; cx; cx = cx.prev) {\n      for (var v = cx.vars; v; v = v.next)\n        if (v.name == varname) return true;\n    }\n  }\n\n  function parseJS(state, style, type, content, stream) {\n    var cc = state.cc;\n    // Communicate our context to the combinators.\n    // (Less wasteful than consing up a hundred closures on every call.)\n    cx.state = state; cx.stream = stream; cx.marked = null, cx.cc = cc; cx.style = style;\n\n    if (!state.lexical.hasOwnProperty(\"align\"))\n      state.lexical.align = true;\n\n    while(true) {\n      var combinator = cc.length ? cc.pop() : jsonMode ? expression : statement;\n      if (combinator(type, content)) {\n        while(cc.length && cc[cc.length - 1].lex)\n          cc.pop()();\n        if (cx.marked) return cx.marked;\n        if (type == \"variable\" && inScope(state, content)) return \"variable-2\";\n        return style;\n      }\n    }\n  }\n\n  // Combinator utils\n\n  var cx = {state: null, column: null, marked: null, cc: null};\n  function pass() {\n    for (var i = arguments.length - 1; i >= 0; i--) cx.cc.push(arguments[i]);\n  }\n  function cont() {\n    pass.apply(null, arguments);\n    return true;\n  }\n  function register(varname) {\n    function inList(list) {\n      for (var v = list; v; v = v.next)\n        if (v.name == varname) return true;\n      return false;\n    }\n    var state = cx.state;\n    cx.marked = \"def\";\n    if (state.context) {\n      if (inList(state.localVars)) return;\n      state.localVars = {name: varname, next: state.localVars};\n    } else {\n      if (inList(state.globalVars)) return;\n      if (parserConfig.globalVars)\n        state.globalVars = {name: varname, next: state.globalVars};\n    }\n  }\n\n  // Combinators\n\n  var defaultVars = {name: \"this\", next: {name: \"arguments\"}};\n  function pushcontext() {\n    cx.state.context = {prev: cx.state.context, vars: cx.state.localVars};\n    cx.state.localVars = defaultVars;\n  }\n  function popcontext() {\n    cx.state.localVars = cx.state.context.vars;\n    cx.state.context = cx.state.context.prev;\n  }\n  function pushlex(type, info) {\n    var result = function() {\n      var state = cx.state, indent = state.indented;\n      if (state.lexical.type == \"stat\") indent = state.lexical.indented;\n      else for (var outer = state.lexical; outer && outer.type == \")\" && outer.align; outer = outer.prev)\n        indent = outer.indented;\n      state.lexical = new JSLexical(indent, cx.stream.column(), type, null, state.lexical, info);\n    };\n    result.lex = true;\n    return result;\n  }\n  function poplex() {\n    var state = cx.state;\n    if (state.lexical.prev) {\n      if (state.lexical.type == \")\")\n        state.indented = state.lexical.indented;\n      state.lexical = state.lexical.prev;\n    }\n  }\n  poplex.lex = true;\n\n  function expect(wanted) {\n    function exp(type) {\n      if (type == wanted) return cont();\n      else if (wanted == \";\") return pass();\n      else return cont(exp);\n    };\n    return exp;\n  }\n\n  function statement(type, value) {\n    if (type == \"var\") return cont(pushlex(\"vardef\", value.length), vardef, expect(\";\"), poplex);\n    if (type == \"keyword a\") return cont(pushlex(\"form\"), parenExpr, statement, poplex);\n    if (type == \"keyword b\") return cont(pushlex(\"form\"), statement, poplex);\n    if (type == \"keyword d\") return cx.stream.match(/^\\s*$/, false) ? cont() : cont(pushlex(\"stat\"), maybeexpression, expect(\";\"), poplex);\n    if (type == \"debugger\") return cont(expect(\";\"));\n    if (type == \"{\") return cont(pushlex(\"}\"), block, poplex);\n    if (type == \";\") return cont();\n    if (type == \"if\") {\n      if (cx.state.lexical.info == \"else\" && cx.state.cc[cx.state.cc.length - 1] == poplex)\n        cx.state.cc.pop()();\n      return cont(pushlex(\"form\"), parenExpr, statement, poplex, maybeelse);\n    }\n    if (type == \"function\") return cont(functiondef);\n    if (type == \"for\") return cont(pushlex(\"form\"), forspec, statement, poplex);\n    if (type == \"variable\") {\n      if (isTS && value == \"type\") {\n        cx.marked = \"keyword\"\n        return cont(typeexpr, expect(\"operator\"), typeexpr, expect(\";\"));\n      } else if (isTS && value == \"declare\") {\n        cx.marked = \"keyword\"\n        return cont(statement)\n      } else if (isTS && (value == \"module\" || value == \"enum\") && cx.stream.match(/^\\s*\\w/, false)) {\n        cx.marked = \"keyword\"\n        return cont(pushlex(\"form\"), pattern, expect(\"{\"), pushlex(\"}\"), block, poplex, poplex)\n      } else {\n        return cont(pushlex(\"stat\"), maybelabel);\n      }\n    }\n    if (type == \"switch\") return cont(pushlex(\"form\"), parenExpr, expect(\"{\"), pushlex(\"}\", \"switch\"),\n                                      block, poplex, poplex);\n    if (type == \"case\") return cont(expression, expect(\":\"));\n    if (type == \"default\") return cont(expect(\":\"));\n    if (type == \"catch\") return cont(pushlex(\"form\"), pushcontext, expect(\"(\"), funarg, expect(\")\"),\n                                     statement, poplex, popcontext);\n    if (type == \"class\") return cont(pushlex(\"form\"), className, poplex);\n    if (type == \"export\") return cont(pushlex(\"stat\"), afterExport, poplex);\n    if (type == \"import\") return cont(pushlex(\"stat\"), afterImport, poplex);\n    if (type == \"async\") return cont(statement)\n    if (value == \"@\") return cont(expression, statement)\n    return pass(pushlex(\"stat\"), expression, expect(\";\"), poplex);\n  }\n  function expression(type) {\n    return expressionInner(type, false);\n  }\n  function expressionNoComma(type) {\n    return expressionInner(type, true);\n  }\n  function parenExpr(type) {\n    if (type != \"(\") return pass()\n    return cont(pushlex(\")\"), expression, expect(\")\"), poplex)\n  }\n  function expressionInner(type, noComma) {\n    if (cx.state.fatArrowAt == cx.stream.start) {\n      var body = noComma ? arrowBodyNoComma : arrowBody;\n      if (type == \"(\") return cont(pushcontext, pushlex(\")\"), commasep(funarg, \")\"), poplex, expect(\"=>\"), body, popcontext);\n      else if (type == \"variable\") return pass(pushcontext, pattern, expect(\"=>\"), body, popcontext);\n    }\n\n    var maybeop = noComma ? maybeoperatorNoComma : maybeoperatorComma;\n    if (atomicTypes.hasOwnProperty(type)) return cont(maybeop);\n    if (type == \"function\") return cont(functiondef, maybeop);\n    if (type == \"class\") return cont(pushlex(\"form\"), classExpression, poplex);\n    if (type == \"keyword c\" || type == \"async\") return cont(noComma ? expressionNoComma : expression);\n    if (type == \"(\") return cont(pushlex(\")\"), maybeexpression, expect(\")\"), poplex, maybeop);\n    if (type == \"operator\" || type == \"spread\") return cont(noComma ? expressionNoComma : expression);\n    if (type == \"[\") return cont(pushlex(\"]\"), arrayLiteral, poplex, maybeop);\n    if (type == \"{\") return contCommasep(objprop, \"}\", null, maybeop);\n    if (type == \"quasi\") return pass(quasi, maybeop);\n    if (type == \"new\") return cont(maybeTarget(noComma));\n    return cont();\n  }\n  function maybeexpression(type) {\n    if (type.match(/[;\\}\\)\\],]/)) return pass();\n    return pass(expression);\n  }\n\n  function maybeoperatorComma(type, value) {\n    if (type == \",\") return cont(expression);\n    return maybeoperatorNoComma(type, value, false);\n  }\n  function maybeoperatorNoComma(type, value, noComma) {\n    var me = noComma == false ? maybeoperatorComma : maybeoperatorNoComma;\n    var expr = noComma == false ? expression : expressionNoComma;\n    if (type == \"=>\") return cont(pushcontext, noComma ? arrowBodyNoComma : arrowBody, popcontext);\n    if (type == \"operator\") {\n      if (/\\+\\+|--/.test(value) || isTS && value == \"!\") return cont(me);\n      if (isTS && value == \"<\" && cx.stream.match(/^([^>]|<.*?>)*>\\s*\\(/, false))\n        return cont(pushlex(\">\"), commasep(typeexpr, \">\"), poplex, me);\n      if (value == \"?\") return cont(expression, expect(\":\"), expr);\n      return cont(expr);\n    }\n    if (type == \"quasi\") { return pass(quasi, me); }\n    if (type == \";\") return;\n    if (type == \"(\") return contCommasep(expressionNoComma, \")\", \"call\", me);\n    if (type == \".\") return cont(property, me);\n    if (type == \"[\") return cont(pushlex(\"]\"), maybeexpression, expect(\"]\"), poplex, me);\n    if (isTS && value == \"as\") { cx.marked = \"keyword\"; return cont(typeexpr, me) }\n    if (type == \"regexp\") {\n      cx.state.lastType = cx.marked = \"operator\"\n      cx.stream.backUp(cx.stream.pos - cx.stream.start - 1)\n      return cont(expr)\n    }\n  }\n  function quasi(type, value) {\n    if (type != \"quasi\") return pass();\n    if (value.slice(value.length - 2) != \"${\") return cont(quasi);\n    return cont(expression, continueQuasi);\n  }\n  function continueQuasi(type) {\n    if (type == \"}\") {\n      cx.marked = \"string-2\";\n      cx.state.tokenize = tokenQuasi;\n      return cont(quasi);\n    }\n  }\n  function arrowBody(type) {\n    findFatArrow(cx.stream, cx.state);\n    return pass(type == \"{\" ? statement : expression);\n  }\n  function arrowBodyNoComma(type) {\n    findFatArrow(cx.stream, cx.state);\n    return pass(type == \"{\" ? statement : expressionNoComma);\n  }\n  function maybeTarget(noComma) {\n    return function(type) {\n      if (type == \".\") return cont(noComma ? targetNoComma : target);\n      else if (type == \"variable\" && isTS) return cont(maybeTypeArgs, noComma ? maybeoperatorNoComma : maybeoperatorComma)\n      else return pass(noComma ? expressionNoComma : expression);\n    };\n  }\n  function target(_, value) {\n    if (value == \"target\") { cx.marked = \"keyword\"; return cont(maybeoperatorComma); }\n  }\n  function targetNoComma(_, value) {\n    if (value == \"target\") { cx.marked = \"keyword\"; return cont(maybeoperatorNoComma); }\n  }\n  function maybelabel(type) {\n    if (type == \":\") return cont(poplex, statement);\n    return pass(maybeoperatorComma, expect(\";\"), poplex);\n  }\n  function property(type) {\n    if (type == \"variable\") {cx.marked = \"property\"; return cont();}\n  }\n  function objprop(type, value) {\n    if (type == \"async\") {\n      cx.marked = \"property\";\n      return cont(objprop);\n    } else if (type == \"variable\" || cx.style == \"keyword\") {\n      cx.marked = \"property\";\n      if (value == \"get\" || value == \"set\") return cont(getterSetter);\n      var m // Work around fat-arrow-detection complication for detecting typescript typed arrow params\n      if (isTS && cx.state.fatArrowAt == cx.stream.start && (m = cx.stream.match(/^\\s*:\\s*/, false)))\n        cx.state.fatArrowAt = cx.stream.pos + m[0].length\n      return cont(afterprop);\n    } else if (type == \"number\" || type == \"string\") {\n      cx.marked = jsonldMode ? \"property\" : (cx.style + \" property\");\n      return cont(afterprop);\n    } else if (type == \"jsonld-keyword\") {\n      return cont(afterprop);\n    } else if (type == \"modifier\") {\n      return cont(objprop)\n    } else if (type == \"[\") {\n      return cont(expression, expect(\"]\"), afterprop);\n    } else if (type == \"spread\") {\n      return cont(expressionNoComma, afterprop);\n    } else if (value == \"*\") {\n      cx.marked = \"keyword\";\n      return cont(objprop);\n    } else if (type == \":\") {\n      return pass(afterprop)\n    }\n  }\n  function getterSetter(type) {\n    if (type != \"variable\") return pass(afterprop);\n    cx.marked = \"property\";\n    return cont(functiondef);\n  }\n  function afterprop(type) {\n    if (type == \":\") return cont(expressionNoComma);\n    if (type == \"(\") return pass(functiondef);\n  }\n  function commasep(what, end, sep) {\n    function proceed(type, value) {\n      if (sep ? sep.indexOf(type) > -1 : type == \",\") {\n        var lex = cx.state.lexical;\n        if (lex.info == \"call\") lex.pos = (lex.pos || 0) + 1;\n        return cont(function(type, value) {\n          if (type == end || value == end) return pass()\n          return pass(what)\n        }, proceed);\n      }\n      if (type == end || value == end) return cont();\n      return cont(expect(end));\n    }\n    return function(type, value) {\n      if (type == end || value == end) return cont();\n      return pass(what, proceed);\n    };\n  }\n  function contCommasep(what, end, info) {\n    for (var i = 3; i < arguments.length; i++)\n      cx.cc.push(arguments[i]);\n    return cont(pushlex(end, info), commasep(what, end), poplex);\n  }\n  function block(type) {\n    if (type == \"}\") return cont();\n    return pass(statement, block);\n  }\n  function maybetype(type, value) {\n    if (isTS) {\n      if (type == \":\") return cont(typeexpr);\n      if (value == \"?\") return cont(maybetype);\n    }\n  }\n  function mayberettype(type) {\n    if (isTS && type == \":\") {\n      if (cx.stream.match(/^\\s*\\w+\\s+is\\b/, false)) return cont(expression, isKW, typeexpr)\n      else return cont(typeexpr)\n    }\n  }\n  function isKW(_, value) {\n    if (value == \"is\") {\n      cx.marked = \"keyword\"\n      return cont()\n    }\n  }\n  function typeexpr(type, value) {\n    if (type == \"variable\" || value == \"void\") {\n      if (value == \"keyof\") {\n        cx.marked = \"keyword\"\n        return cont(typeexpr)\n      } else {\n        cx.marked = \"type\"\n        return cont(afterType)\n      }\n    }\n    if (type == \"string\" || type == \"number\" || type == \"atom\") return cont(afterType);\n    if (type == \"[\") return cont(pushlex(\"]\"), commasep(typeexpr, \"]\", \",\"), poplex, afterType)\n    if (type == \"{\") return cont(pushlex(\"}\"), commasep(typeprop, \"}\", \",;\"), poplex, afterType)\n    if (type == \"(\") return cont(commasep(typearg, \")\"), maybeReturnType)\n  }\n  function maybeReturnType(type) {\n    if (type == \"=>\") return cont(typeexpr)\n  }\n  function typeprop(type, value) {\n    if (type == \"variable\" || cx.style == \"keyword\") {\n      cx.marked = \"property\"\n      return cont(typeprop)\n    } else if (value == \"?\") {\n      return cont(typeprop)\n    } else if (type == \":\") {\n      return cont(typeexpr)\n    } else if (type == \"[\") {\n      return cont(expression, maybetype, expect(\"]\"), typeprop)\n    }\n  }\n  function typearg(type) {\n    if (type == \"variable\") return cont(typearg)\n    else if (type == \":\") return cont(typeexpr)\n  }\n  function afterType(type, value) {\n    if (value == \"<\") return cont(pushlex(\">\"), commasep(typeexpr, \">\"), poplex, afterType)\n    if (value == \"|\" || type == \".\") return cont(typeexpr)\n    if (type == \"[\") return cont(expect(\"]\"), afterType)\n    if (value == \"extends\") return cont(typeexpr)\n  }\n  function maybeTypeArgs(_, value) {\n    if (value == \"<\") return cont(pushlex(\">\"), commasep(typeexpr, \">\"), poplex, afterType)\n  }\n  function typeparam() {\n    return pass(typeexpr, maybeTypeDefault)\n  }\n  function maybeTypeDefault(_, value) {\n    if (value == \"=\") return cont(typeexpr)\n  }\n  function vardef() {\n    return pass(pattern, maybetype, maybeAssign, vardefCont);\n  }\n  function pattern(type, value) {\n    if (type == \"modifier\") return cont(pattern)\n    if (type == \"variable\") { register(value); return cont(); }\n    if (type == \"spread\") return cont(pattern);\n    if (type == \"[\") return contCommasep(pattern, \"]\");\n    if (type == \"{\") return contCommasep(proppattern, \"}\");\n  }\n  function proppattern(type, value) {\n    if (type == \"variable\" && !cx.stream.match(/^\\s*:/, false)) {\n      register(value);\n      return cont(maybeAssign);\n    }\n    if (type == \"variable\") cx.marked = \"property\";\n    if (type == \"spread\") return cont(pattern);\n    if (type == \"}\") return pass();\n    return cont(expect(\":\"), pattern, maybeAssign);\n  }\n  function maybeAssign(_type, value) {\n    if (value == \"=\") return cont(expressionNoComma);\n  }\n  function vardefCont(type) {\n    if (type == \",\") return cont(vardef);\n  }\n  function maybeelse(type, value) {\n    if (type == \"keyword b\" && value == \"else\") return cont(pushlex(\"form\", \"else\"), statement, poplex);\n  }\n  function forspec(type) {\n    if (type == \"(\") return cont(pushlex(\")\"), forspec1, expect(\")\"), poplex);\n  }\n  function forspec1(type) {\n    if (type == \"var\") return cont(vardef, expect(\";\"), forspec2);\n    if (type == \";\") return cont(forspec2);\n    if (type == \"variable\") return cont(formaybeinof);\n    return pass(expression, expect(\";\"), forspec2);\n  }\n  function formaybeinof(_type, value) {\n    if (value == \"in\" || value == \"of\") { cx.marked = \"keyword\"; return cont(expression); }\n    return cont(maybeoperatorComma, forspec2);\n  }\n  function forspec2(type, value) {\n    if (type == \";\") return cont(forspec3);\n    if (value == \"in\" || value == \"of\") { cx.marked = \"keyword\"; return cont(expression); }\n    return pass(expression, expect(\";\"), forspec3);\n  }\n  function forspec3(type) {\n    if (type != \")\") cont(expression);\n  }\n  function functiondef(type, value) {\n    if (value == \"*\") {cx.marked = \"keyword\"; return cont(functiondef);}\n    if (type == \"variable\") {register(value); return cont(functiondef);}\n    if (type == \"(\") return cont(pushcontext, pushlex(\")\"), commasep(funarg, \")\"), poplex, mayberettype, statement, popcontext);\n    if (isTS && value == \"<\") return cont(pushlex(\">\"), commasep(typeparam, \">\"), poplex, functiondef)\n  }\n  function funarg(type, value) {\n    if (value == \"@\") cont(expression, funarg)\n    if (type == \"spread\" || type == \"modifier\") return cont(funarg);\n    return pass(pattern, maybetype, maybeAssign);\n  }\n  function classExpression(type, value) {\n    // Class expressions may have an optional name.\n    if (type == \"variable\") return className(type, value);\n    return classNameAfter(type, value);\n  }\n  function className(type, value) {\n    if (type == \"variable\") {register(value); return cont(classNameAfter);}\n  }\n  function classNameAfter(type, value) {\n    if (value == \"<\") return cont(pushlex(\">\"), commasep(typeparam, \">\"), poplex, classNameAfter)\n    if (value == \"extends\" || value == \"implements\" || (isTS && type == \",\"))\n      return cont(isTS ? typeexpr : expression, classNameAfter);\n    if (type == \"{\") return cont(pushlex(\"}\"), classBody, poplex);\n  }\n  function classBody(type, value) {\n    if (type == \"modifier\" || type == \"async\" ||\n        (type == \"variable\" &&\n         (value == \"static\" || value == \"get\" || value == \"set\") &&\n         cx.stream.match(/^\\s+[\\w$\\xa1-\\uffff]/, false))) {\n      cx.marked = \"keyword\";\n      return cont(classBody);\n    }\n    if (type == \"variable\" || cx.style == \"keyword\") {\n      cx.marked = \"property\";\n      return cont(isTS ? classfield : functiondef, classBody);\n    }\n    if (type == \"[\")\n      return cont(expression, expect(\"]\"), isTS ? classfield : functiondef, classBody)\n    if (value == \"*\") {\n      cx.marked = \"keyword\";\n      return cont(classBody);\n    }\n    if (type == \";\") return cont(classBody);\n    if (type == \"}\") return cont();\n    if (value == \"@\") return cont(expression, classBody)\n  }\n  function classfield(type, value) {\n    if (value == \"?\") return cont(classfield)\n    if (type == \":\") return cont(typeexpr, maybeAssign)\n    if (value == \"=\") return cont(expressionNoComma)\n    return pass(functiondef)\n  }\n  function afterExport(type, value) {\n    if (value == \"*\") { cx.marked = \"keyword\"; return cont(maybeFrom, expect(\";\")); }\n    if (value == \"default\") { cx.marked = \"keyword\"; return cont(expression, expect(\";\")); }\n    if (type == \"{\") return cont(commasep(exportField, \"}\"), maybeFrom, expect(\";\"));\n    return pass(statement);\n  }\n  function exportField(type, value) {\n    if (value == \"as\") { cx.marked = \"keyword\"; return cont(expect(\"variable\")); }\n    if (type == \"variable\") return pass(expressionNoComma, exportField);\n  }\n  function afterImport(type) {\n    if (type == \"string\") return cont();\n    return pass(importSpec, maybeMoreImports, maybeFrom);\n  }\n  function importSpec(type, value) {\n    if (type == \"{\") return contCommasep(importSpec, \"}\");\n    if (type == \"variable\") register(value);\n    if (value == \"*\") cx.marked = \"keyword\";\n    return cont(maybeAs);\n  }\n  function maybeMoreImports(type) {\n    if (type == \",\") return cont(importSpec, maybeMoreImports)\n  }\n  function maybeAs(_type, value) {\n    if (value == \"as\") { cx.marked = \"keyword\"; return cont(importSpec); }\n  }\n  function maybeFrom(_type, value) {\n    if (value == \"from\") { cx.marked = \"keyword\"; return cont(expression); }\n  }\n  function arrayLiteral(type) {\n    if (type == \"]\") return cont();\n    return pass(commasep(expressionNoComma, \"]\"));\n  }\n\n  function isContinuedStatement(state, textAfter) {\n    return state.lastType == \"operator\" || state.lastType == \",\" ||\n      isOperatorChar.test(textAfter.charAt(0)) ||\n      /[,.]/.test(textAfter.charAt(0));\n  }\n\n  function expressionAllowed(stream, state, backUp) {\n    return state.tokenize == tokenBase &&\n      /^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\\[{}\\(,;:]|=>)$/.test(state.lastType) ||\n      (state.lastType == \"quasi\" && /\\{\\s*$/.test(stream.string.slice(0, stream.pos - (backUp || 0))))\n  }\n\n  // Interface\n\n  return {\n    startState: function(basecolumn) {\n      var state = {\n        tokenize: tokenBase,\n        lastType: \"sof\",\n        cc: [],\n        lexical: new JSLexical((basecolumn || 0) - indentUnit, 0, \"block\", false),\n        localVars: parserConfig.localVars,\n        context: parserConfig.localVars && {vars: parserConfig.localVars},\n        indented: basecolumn || 0\n      };\n      if (parserConfig.globalVars && typeof parserConfig.globalVars == \"object\")\n        state.globalVars = parserConfig.globalVars;\n      return state;\n    },\n\n    token: function(stream, state) {\n      if (stream.sol()) {\n        if (!state.lexical.hasOwnProperty(\"align\"))\n          state.lexical.align = false;\n        state.indented = stream.indentation();\n        findFatArrow(stream, state);\n      }\n      if (state.tokenize != tokenComment && stream.eatSpace()) return null;\n      var style = state.tokenize(stream, state);\n      if (type == \"comment\") return style;\n      state.lastType = type == \"operator\" && (content == \"++\" || content == \"--\") ? \"incdec\" : type;\n      return parseJS(state, style, type, content, stream);\n    },\n\n    indent: function(state, textAfter) {\n      if (state.tokenize == tokenComment) return CodeMirror.Pass;\n      if (state.tokenize != tokenBase) return 0;\n      var firstChar = textAfter && textAfter.charAt(0), lexical = state.lexical, top\n      // Kludge to prevent 'maybelse' from blocking lexical scope pops\n      if (!/^\\s*else\\b/.test(textAfter)) for (var i = state.cc.length - 1; i >= 0; --i) {\n        var c = state.cc[i];\n        if (c == poplex) lexical = lexical.prev;\n        else if (c != maybeelse) break;\n      }\n      while ((lexical.type == \"stat\" || lexical.type == \"form\") &&\n             (firstChar == \"}\" || ((top = state.cc[state.cc.length - 1]) &&\n                                   (top == maybeoperatorComma || top == maybeoperatorNoComma) &&\n                                   !/^[,\\.=+\\-*:?[\\(]/.test(textAfter))))\n        lexical = lexical.prev;\n      if (statementIndent && lexical.type == \")\" && lexical.prev.type == \"stat\")\n        lexical = lexical.prev;\n      var type = lexical.type, closing = firstChar == type;\n\n      if (type == \"vardef\") return lexical.indented + (state.lastType == \"operator\" || state.lastType == \",\" ? lexical.info + 1 : 0);\n      else if (type == \"form\" && firstChar == \"{\") return lexical.indented;\n      else if (type == \"form\") return lexical.indented + indentUnit;\n      else if (type == \"stat\")\n        return lexical.indented + (isContinuedStatement(state, textAfter) ? statementIndent || indentUnit : 0);\n      else if (lexical.info == \"switch\" && !closing && parserConfig.doubleIndentSwitch != false)\n        return lexical.indented + (/^(?:case|default)\\b/.test(textAfter) ? indentUnit : 2 * indentUnit);\n      else if (lexical.align) return lexical.column + (closing ? 0 : 1);\n      else return lexical.indented + (closing ? 0 : indentUnit);\n    },\n\n    electricInput: /^\\s*(?:case .*?:|default:|\\{|\\})$/,\n    blockCommentStart: jsonMode ? null : \"/*\",\n    blockCommentEnd: jsonMode ? null : \"*/\",\n    blockCommentContinue: jsonMode ? null : \" * \",\n    lineComment: jsonMode ? null : \"//\",\n    fold: \"brace\",\n    closeBrackets: \"()[]{}''\\\"\\\"``\",\n\n    helperType: jsonMode ? \"json\" : \"javascript\",\n    jsonldMode: jsonldMode,\n    jsonMode: jsonMode,\n\n    expressionAllowed: expressionAllowed,\n\n    skipExpression: function(state) {\n      var top = state.cc[state.cc.length - 1]\n      if (top == expression || top == expressionNoComma) state.cc.pop()\n    }\n  };\n});\n\nCodeMirror.registerHelper(\"wordChars\", \"javascript\", /[\\w$]/);\n\nCodeMirror.defineMIME(\"text/javascript\", \"javascript\");\nCodeMirror.defineMIME(\"text/ecmascript\", \"javascript\");\nCodeMirror.defineMIME(\"application/javascript\", \"javascript\");\nCodeMirror.defineMIME(\"application/x-javascript\", \"javascript\");\nCodeMirror.defineMIME(\"application/ecmascript\", \"javascript\");\nCodeMirror.defineMIME(\"application/json\", {name: \"javascript\", json: true});\nCodeMirror.defineMIME(\"application/x-json\", {name: \"javascript\", json: true});\nCodeMirror.defineMIME(\"application/ld+json\", {name: \"javascript\", jsonld: true});\nCodeMirror.defineMIME(\"text/typescript\", { name: \"javascript\", typescript: true });\nCodeMirror.defineMIME(\"application/typescript\", { name: \"javascript\", typescript: true });\n\n});\n\n\n\n// WEBPACK FOOTER //\n// ./examples/src/js/vendor/codemirror/mode/javascript/javascript.js","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: http://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  var ie_lt8 = /MSIE \\d/.test(navigator.userAgent) &&\n    (document.documentMode == null || document.documentMode < 8);\n\n  var Pos = CodeMirror.Pos;\n\n  var matching = {\"(\": \")>\", \")\": \"(<\", \"[\": \"]>\", \"]\": \"[<\", \"{\": \"}>\", \"}\": \"{<\"};\n\n  function findMatchingBracket(cm, where, config) {\n    var line = cm.getLineHandle(where.line), pos = where.ch - 1;\n    var afterCursor = config && config.afterCursor\n    if (afterCursor == null)\n      afterCursor = /(^| )cm-fat-cursor($| )/.test(cm.getWrapperElement().className)\n\n    // A cursor is defined as between two characters, but in in vim command mode\n    // (i.e. not insert mode), the cursor is visually represented as a\n    // highlighted box on top of the 2nd character. Otherwise, we allow matches\n    // from before or after the cursor.\n    var match = (!afterCursor && pos >= 0 && matching[line.text.charAt(pos)]) ||\n        matching[line.text.charAt(++pos)];\n    if (!match) return null;\n    var dir = match.charAt(1) == \">\" ? 1 : -1;\n    if (config && config.strict && (dir > 0) != (pos == where.ch)) return null;\n    var style = cm.getTokenTypeAt(Pos(where.line, pos + 1));\n\n    var found = scanForBracket(cm, Pos(where.line, pos + (dir > 0 ? 1 : 0)), dir, style || null, config);\n    if (found == null) return null;\n    return {from: Pos(where.line, pos), to: found && found.pos,\n            match: found && found.ch == match.charAt(0), forward: dir > 0};\n  }\n\n  // bracketRegex is used to specify which type of bracket to scan\n  // should be a regexp, e.g. /[[\\]]/\n  //\n  // Note: If \"where\" is on an open bracket, then this bracket is ignored.\n  //\n  // Returns false when no bracket was found, null when it reached\n  // maxScanLines and gave up\n  function scanForBracket(cm, where, dir, style, config) {\n    var maxScanLen = (config && config.maxScanLineLength) || 10000;\n    var maxScanLines = (config && config.maxScanLines) || 1000;\n\n    var stack = [];\n    var re = config && config.bracketRegex ? config.bracketRegex : /[(){}[\\]]/;\n    var lineEnd = dir > 0 ? Math.min(where.line + maxScanLines, cm.lastLine() + 1)\n                          : Math.max(cm.firstLine() - 1, where.line - maxScanLines);\n    for (var lineNo = where.line; lineNo != lineEnd; lineNo += dir) {\n      var line = cm.getLine(lineNo);\n      if (!line) continue;\n      var pos = dir > 0 ? 0 : line.length - 1, end = dir > 0 ? line.length : -1;\n      if (line.length > maxScanLen) continue;\n      if (lineNo == where.line) pos = where.ch - (dir < 0 ? 1 : 0);\n      for (; pos != end; pos += dir) {\n        var ch = line.charAt(pos);\n        if (re.test(ch) && (style === undefined || cm.getTokenTypeAt(Pos(lineNo, pos + 1)) == style)) {\n          var match = matching[ch];\n          if ((match.charAt(1) == \">\") == (dir > 0)) stack.push(ch);\n          else if (!stack.length) return {pos: Pos(lineNo, pos), ch: ch};\n          else stack.pop();\n        }\n      }\n    }\n    return lineNo - dir == (dir > 0 ? cm.lastLine() : cm.firstLine()) ? false : null;\n  }\n\n  function matchBrackets(cm, autoclear, config) {\n    // Disable brace matching in long lines, since it'll cause hugely slow updates\n    var maxHighlightLen = cm.state.matchBrackets.maxHighlightLineLength || 1000;\n    var marks = [], ranges = cm.listSelections();\n    for (var i = 0; i < ranges.length; i++) {\n      var match = ranges[i].empty() && findMatchingBracket(cm, ranges[i].head, config);\n      if (match && cm.getLine(match.from.line).length <= maxHighlightLen) {\n        var style = match.match ? \"CodeMirror-matchingbracket\" : \"CodeMirror-nonmatchingbracket\";\n        marks.push(cm.markText(match.from, Pos(match.from.line, match.from.ch + 1), {className: style}));\n        if (match.to && cm.getLine(match.to.line).length <= maxHighlightLen)\n          marks.push(cm.markText(match.to, Pos(match.to.line, match.to.ch + 1), {className: style}));\n      }\n    }\n\n    if (marks.length) {\n      // Kludge to work around the IE bug from issue #1193, where text\n      // input stops going to the textare whever this fires.\n      if (ie_lt8 && cm.state.focused) cm.focus();\n\n      var clear = function() {\n        cm.operation(function() {\n          for (var i = 0; i < marks.length; i++) marks[i].clear();\n        });\n      };\n      if (autoclear) setTimeout(clear, 800);\n      else return clear;\n    }\n  }\n\n  var currentlyHighlighted = null;\n  function doMatchBrackets(cm) {\n    cm.operation(function() {\n      if (currentlyHighlighted) {currentlyHighlighted(); currentlyHighlighted = null;}\n      currentlyHighlighted = matchBrackets(cm, false, cm.state.matchBrackets);\n    });\n  }\n\n  CodeMirror.defineOption(\"matchBrackets\", false, function(cm, val, old) {\n    if (old && old != CodeMirror.Init) {\n      cm.off(\"cursorActivity\", doMatchBrackets);\n      if (currentlyHighlighted) {currentlyHighlighted(); currentlyHighlighted = null;}\n    }\n    if (val) {\n      cm.state.matchBrackets = typeof val == \"object\" ? val : {};\n      cm.on(\"cursorActivity\", doMatchBrackets);\n    }\n  });\n\n  CodeMirror.defineExtension(\"matchBrackets\", function() {matchBrackets(this, true);});\n  CodeMirror.defineExtension(\"findMatchingBracket\", function(pos, config, oldConfig){\n    // Backwards-compatibility kludge\n    if (oldConfig || typeof config == \"boolean\") {\n      if (!oldConfig) {\n        config = config ? {strict: true} : null\n      } else {\n        oldConfig.strict = config\n        config = oldConfig\n      }\n    }\n    return findMatchingBracket(this, pos, config)\n  });\n  CodeMirror.defineExtension(\"scanForBracket\", function(pos, dir, style, config){\n    return scanForBracket(this, pos, dir, style, config);\n  });\n});\n\n\n\n// WEBPACK FOOTER //\n// ./examples/src/js/vendor/codemirror/addon/edit/matchbrackets.js","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: http://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  \"use strict\";\n  var WRAP_CLASS = \"CodeMirror-activeline\";\n  var BACK_CLASS = \"CodeMirror-activeline-background\";\n  var GUTT_CLASS = \"CodeMirror-activeline-gutter\";\n\n  CodeMirror.defineOption(\"styleActiveLine\", false, function(cm, val, old) {\n    var prev = old == CodeMirror.Init ? false : old;\n    if (val == prev) return\n    if (prev) {\n      cm.off(\"beforeSelectionChange\", selectionChange);\n      clearActiveLines(cm);\n      delete cm.state.activeLines;\n    }\n    if (val) {\n      cm.state.activeLines = [];\n      updateActiveLines(cm, cm.listSelections());\n      cm.on(\"beforeSelectionChange\", selectionChange);\n    }\n  });\n\n  function clearActiveLines(cm) {\n    for (var i = 0; i < cm.state.activeLines.length; i++) {\n      cm.removeLineClass(cm.state.activeLines[i], \"wrap\", WRAP_CLASS);\n      cm.removeLineClass(cm.state.activeLines[i], \"background\", BACK_CLASS);\n      cm.removeLineClass(cm.state.activeLines[i], \"gutter\", GUTT_CLASS);\n    }\n  }\n\n  function sameArray(a, b) {\n    if (a.length != b.length) return false;\n    for (var i = 0; i < a.length; i++)\n      if (a[i] != b[i]) return false;\n    return true;\n  }\n\n  function updateActiveLines(cm, ranges) {\n    var active = [];\n    for (var i = 0; i < ranges.length; i++) {\n      var range = ranges[i];\n      var option = cm.getOption(\"styleActiveLine\");\n      if (typeof option == \"object\" && option.nonEmpty ? range.anchor.line != range.head.line : !range.empty())\n        continue\n      var line = cm.getLineHandleVisualStart(range.head.line);\n      if (active[active.length - 1] != line) active.push(line);\n    }\n    if (sameArray(cm.state.activeLines, active)) return;\n    cm.operation(function() {\n      clearActiveLines(cm);\n      for (var i = 0; i < active.length; i++) {\n        cm.addLineClass(active[i], \"wrap\", WRAP_CLASS);\n        cm.addLineClass(active[i], \"background\", BACK_CLASS);\n        cm.addLineClass(active[i], \"gutter\", GUTT_CLASS);\n      }\n      cm.state.activeLines = active;\n    });\n  }\n\n  function selectionChange(cm, sel) {\n    updateActiveLines(cm, sel.ranges);\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./examples/src/js/vendor/codemirror/addon/selection/active-line.js","module.exports = Exo;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"Exo\"\n// module id = 7\n// module chunks = 0"],"sourceRoot":""}